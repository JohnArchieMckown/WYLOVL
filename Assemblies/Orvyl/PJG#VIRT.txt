1                        J E S 2  J O B  L O G  --  S Y S T E M  S Y S B  --  N O D E  R L G
0
 09.47.53 JOB05985 ---- MONDAY,    22 MAR 2004 ----
 09.47.53 JOB05985  ICH70001I GG$PJG   LAST ACCESS AT 09:47:46 ON MONDAY, MARCH 22, 2004
 09.47.53 JOB05985  $HASP373 PJG#VIRT STARTED - INIT 3    - CLASS E - SYS SYSB
 09.47.53 JOB05985  ***  HCMD      STEP $$QUIET
 09.47.53 JOB05985  PURGE * Q=OUTPUT MULTIPLE
 09.47.53 JOB05985  JOB PJG#VIRT NOT IN OUTPUT QUEUE
 09.47.54 JOB05985  PJG#VIRT.$$QUIET .         RC=0008 TapeIO=0000 DiskIO=0000 CPU=  .01s Elapsed=73.51s
 09.47.54 JOB05985  PJG#VIRT.$CND    .         RC=Zero TapeIO=0000 DiskIO=0003 CPU=  .01s Elapsed=74.54s
 09.47.54 JOB05985  PJG#VIRT.$UNP    .         RC=Zero TapeIO=0000 DiskIO=0041 CPU=  .06s Elapsed=74.67s
 09.48.03 JOB05985  PJG#VIRT.ASM     .         RC=Zero TapeIO=0000 DiskIO=0440 CPU= 3.18s Elapsed=74.92s
 09.48.08 JOB05985  PJG#VIRT.$EDIT   .         RC=Zero TapeIO=0000 DiskIO=0186 CPU=  .73s Elapsed=83.31s
 09.48.08 JOB05985  PJG#VIRT Ended.  Name=Module: VIRTMEM                Total CPU= 3.99s Elapsed=73.51s
 09.48.08 JOB05985
 09.48.08 JOB05985  Execution charges   Priority=Standard   Block=Day
 09.48.08 JOB05985
 09.48.08 JOB05985  CPU Usage          73.68          $45.68   Standard Processing Unit Equivalent
 09.48.08 JOB05985                                   =======
 09.48.08 JOB05985                                    $45.68   Total Job execution charge
 09.48.08 JOB05985
 09.48.08 JOB05985  See back separator page for print charges
 09.48.08 JOB05985
 09.48.08 JOB05985  $HASP395 PJG#VIRT ENDED  ASM=0
1        1 //PJG#VIRT JOB PJG$GG,'Module: VIRTMEM',TIME=1,MSGCLASS=C               JOB05985
           /*JOBPARM HOLD=OUTPUT,LINES=50,CHARS=TN15,NOTIFY=YES
         2 //       EXEC PURGEOLD
         3 XXPURGEOLD PROC
           XX*
           XX* This proc is maintained by Jim Stosick
           XX*
         4 XX$$QUIET  EXEC PGM=HCMDX,PARM='PURGE * Q=OUTPUT MULTIPLE',
           XX         ACCT=(PURGEOLD,SYS3)
         5 //$CND   EXEC PGM=BILBO,REGION=512K,PARM='RECS=100'
         6 //STEPLIB  DD DSN=WYL.GG.ORV.LINKLIB,DISP=SHR
         7 //SYSPRINT DD SYSOUT=$
         8 //SYSUT1   DD DSN=WYL.GG.PJG.OBJ,DISP=OLD
         9 //SYSUT2   DD DSN=WYL.GG.PJG.OBJ,DISP=OLD
        10 //SYSIN    DD DUMMY
        11 //$UNP   EXEC PGM=WUNPRESS,PARM='NUM'
        12 //SYSPRINT DD SYSOUT=$
        13 //SYSUT1   DD DSN=WYL.GG.ORV.SOURCE(VIRTMEM),DISP=SHR
        14 //SYSUT2   DD DSN=&&INPUT,DISP=(,PASS),UNIT=SYSDA,
           //            SPACE=(TRK,(25,25),RLSE),DCB=CARD
        15 //ASM    EXEC PGM=ASMA90,REGION=8M,COND=(0,NE,$UNP),
           //            PARM=('SYSPARM(VIRTMEM),TERM,LANG(EN),OBJ',
           //          'LC(32500),XREF(SHORT),NODECK,NORLD,NODX,NOUS')
           //*STEPLIB  DD DSN=SYS1.SASMMOD1,DISP=SHR
        16 //SYSLIB   DD DSN=SYS3.DUMMYMAC,DISP=SHR,DCB=BLKSIZE=27920
        17 //         DD DSN=WYL.GG.ORV.MACLIB,DISP=SHR
        18 //         DD DSN=WYL.GG.SYS.MACLIB,DISP=SHR
        19 //SYSUT1   DD DSN=&&SYSUT1,UNIT=VIO,DISP=(,DELETE),
           //            SPACE=(4088,(500,250),,CONTIG,ROUND)
        20 //SYSTERM  DD SYSOUT=$
        21 //SYSPRINT DD DSN=&&PRINT,UNIT=SYSDA,DISP=(,PASS),
           //            SPACE=(6650,(250,250),RLSE),
           //            DCB=(BLKSIZE=6650,LRECL=133,RECFM=FB)
        22 //SYSLIN   DD DSN=WYL.GG.PJG.OBJ(VIRTMEM),DISP=OLD
        23 //SYSUDUMP DD SYSOUT=A
        24 //SYSIN    DD DSN=&&INPUT,DISP=(OLD,DELETE)
        25 //$EDIT  EXEC PGM=ASMEDIT,REGION=1M,
           //            COND=EVEN,PARM='STMT,DATA'
        26 //STEPLIB  DD DSN=WYL.GG.SYS.LINKLIB,DISP=SHR
        27 //ASMOUT   DD DSN=&&PRINT,DISP=(OLD,DELETE)
        28 //SYSPRINT DD SYSOUT=A
        29 //SYSUDUMP DD SYSOUT=A
1 STMT NO. MESSAGE
         2 IEFC001I PROCEDURE PURGEOLD WAS EXPANDED USING SYSTEM LIBRARY SYS3.BETAPROC
        14 IGD01010I STORCLAS= TEMP STORGROUP =
        14 IGD01010I STORGRP=VIO ASSIGNED.
        19 IGD01010I STORCLAS= TEMP STORGROUP =
        19 IGD01010I STORGRP=VIO ASSIGNED.
        21 IGD01010I STORCLAS= TEMP STORGROUP =
        21 IGD01010I STORGRP=VIO ASSIGNED.
 ICH70001I GG$PJG   LAST ACCESS AT 09:47:46 ON MONDAY, MARCH 22, 2004
 IEF142I PJG#VIRT $$QUIET - STEP WAS EXECUTED - COND CODE 0008
 *********************************************************************************
 *   PJG#VIRT/$$QUIET /                    Return Code      0008                 *
 *   Region used      260K (16K user + 244K system)                              *
 *   Extended region  9352K (4K user + 9348K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.01          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:39:59.45          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          0.18         $0.11  Standard Processing Unit Equivalent  *
 *                                   $0.11  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *                         *** No I/O for this step ***                          *
 *********************************************************************************
 IEF373I STEP/$$QUIET /START 2004082.0947
 IEF374I STEP/$$QUIET /STOP  2004082.0947 CPU    0MIN 00.01SEC SRB    0MIN 00.00SEC VIRT    16K SYS   244K EXT       4K SYS    9348K
 IEF236I ALLOC. FOR PJG#VIRT $CND
 IEF237I 0401 ALLOCATED TO STEPLIB
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I 04DC ALLOCATED TO SYSUT1
 IEF237I 04DC ALLOCATED TO SYSUT2
 IEF237I DMY  ALLOCATED TO SYSIN
 IEF142I PJG#VIRT $CND - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   WYL.GG.ORV.LINKLIB                           KEPT
 IEF285I   VOL SER NOS= SYSB01.
 IEF285I   GG$PJG.PJG#VIRT.JOB05985.D0000101.?          SYSOUT
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 *********************************************************************************
 *   PJG#VIRT/$CND    /                    Return Code      Zero                 *
 *   Region used      280K (16K user + 264K system)                              *
 *   Extended region  9392K (4K user + 9388K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.01          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:39:58.42          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          0.18         $0.11  Standard Processing Unit Equivalent  *
 *                                   $0.11  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            3  STEPLIB  Disk 0401                   0  SYSPRINT      ----      *
 *            0  SYSUT1   Disk 04DC                   0  SYSUT2   Disk 04DC      *
 *            0  SYSIN         ----                                              *
 *********************************************************************************
 IEF373I STEP/$CND    /START 2004082.0947
 IEF374I STEP/$CND    /STOP  2004082.0947 CPU    0MIN 00.01SEC SRB    0MIN 00.00SEC VIRT    16K SYS   264K EXT       4K SYS    9388K
 IEF236I ALLOC. FOR PJG#VIRT $UNP
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I 0402 ALLOCATED TO SYSUT1
 IGD101I SMS ALLOCATED TO DDNAME (SYSUT2  )
         DSN (SYS04082.T094753.RA000.PJG#VIRT.INPUT.H01   )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= SCR100
 IEF142I PJG#VIRT $UNP - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   GG$PJG.PJG#VIRT.JOB05985.D0000102.?          SYSOUT
 IEF285I   WYL.GG.ORV.SOURCE                            KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IGD106I SYS04082.T094753.RA000.PJG#VIRT.INPUT.H01    PASSED,    DDNAME=SYSUT2
 *********************************************************************************
 *   PJG#VIRT/$UNP    /                    Return Code      Zero                 *
 *   Region used      380K (108K user + 272K system)                             *
 *   Extended region  9468K (4K user + 9464K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.06          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:39:58.29          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          1.12         $0.69  Standard Processing Unit Equivalent  *
 *                                   $0.69  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            0  SYSPRINT      ----                   5  SYSUT1   Disk 0402      *
 *           36  SYSUT2   Disk 038B                                              *
 *********************************************************************************
 IEF373I STEP/$UNP    /START 2004082.0947
 IEF374I STEP/$UNP    /STOP  2004082.0947 CPU    0MIN 00.06SEC SRB    0MIN 00.00SEC VIRT   108K SYS   272K EXT       4K SYS    9464K
 IEF236I ALLOC. FOR PJG#VIRT ASM
 IEF237I 0402 ALLOCATED TO SYSLIB
 IEF237I 0402 ALLOCATED TO
 IEF237I 04DC ALLOCATED TO
 IGD101I SMS ALLOCATED TO DDNAME (SYSUT1  )
         DSN (SYS04082.T094753.RA000.PJG#VIRT.SYSUT1.H01  )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= VIO
 IEF237I JES2 ALLOCATED TO SYSTERM
 IGD101I SMS ALLOCATED TO DDNAME (SYSPRINT)
         DSN (SYS04082.T094753.RA000.PJG#VIRT.PRINT.H01   )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= SCR100
 IEF237I 04DC ALLOCATED TO SYSLIN
 IEF237I JES2 ALLOCATED TO SYSUDUMP
 IGD103I SMS ALLOCATED TO DDNAME SYSIN
 IEF142I PJG#VIRT ASM - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   SYS3.DUMMYMAC                                KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IEF285I   WYL.GG.ORV.MACLIB                            KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IEF285I   WYL.GG.SYS.MACLIB                            KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IGD105I SYS04082.T094753.RA000.PJG#VIRT.SYSUT1.H01   DELETED,   DDNAME=SYSUT1
 IEF285I   GG$PJG.PJG#VIRT.JOB05985.D0000103.?          SYSOUT
 IGD106I SYS04082.T094753.RA000.PJG#VIRT.PRINT.H01    PASSED,    DDNAME=SYSPRINT
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IEF285I   GG$PJG.PJG#VIRT.JOB05985.D0000104.?          SYSOUT
 IGD105I SYS04082.T094753.RA000.PJG#VIRT.INPUT.H01    DELETED,   DDNAME=SYSIN
 *********************************************************************************
 *   PJG#VIRT/ASM     /                    Return Code      Zero                 *
 *   Region used      8476K (8192K user + 284K system)                           *
 *   Extended region  9952K (412K user + 9540K system)                           *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:03.14          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.04          *
 *   VIO                  0        0       Elapsed time    920:39:58.04          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage         58.87        $36.49  Standard Processing Unit Equivalent  *
 *                                  $36.49  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *           74  SYSLIB   Disk 0402                   0  SYSLIB   Disk 0402      *
 *          140  SYSLIB   Disk 04DC                   0  SYSUT1   VIO  ----      *
 *            0  SYSTERM       ----                 183  SYSPRINT Disk 038B      *
 *            6  SYSLIN   Disk 04DC                   0  SYSUDUMP      ----      *
 *           37  SYSIN    Disk 038B                                              *
 *********************************************************************************
 IEF373I STEP/ASM     /START 2004082.0947
 IEF374I STEP/ASM     /STOP  2004082.0948 CPU    0MIN 03.14SEC SRB    0MIN 00.04SEC VIRT  8192K SYS   284K EXT     412K SYS    9540K
 IEF236I ALLOC. FOR PJG#VIRT $EDIT
 IEF237I 0402 ALLOCATED TO STEPLIB
 IGD103I SMS ALLOCATED TO DDNAME ASMOUT
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I JES2 ALLOCATED TO SYSUDUMP
 IEF142I PJG#VIRT $EDIT - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   WYL.GG.SYS.LINKLIB                           KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IGD105I SYS04082.T094753.RA000.PJG#VIRT.PRINT.H01    DELETED,   DDNAME=ASMOUT
 IEF285I   GG$PJG.PJG#VIRT.JOB05985.D0000105.?          SYSOUT
 IEF285I   GG$PJG.PJG#VIRT.JOB05985.D0000106.?          SYSOUT
 *********************************************************************************
 *   PJG#VIRT/$EDIT   /                    Return Code      Zero                 *
 *   Region used      388K (116K user + 272K system)                             *
 *   Extended region  9468K (4K user + 9464K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.71          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.02          *
 *   VIO                  0        0       Elapsed time    920:39:49.65          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage         13.31         $8.25  Standard Processing Unit Equivalent  *
 *                                   $8.25  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            2  STEPLIB  Disk 0402                 184  ASMOUT   Disk 038B      *
 *            0  SYSPRINT      ----                   0  SYSUDUMP      ----      *
 *********************************************************************************
 IEF373I STEP/$EDIT   /START 2004082.0948
 IEF374I STEP/$EDIT   /STOP  2004082.0948 CPU    0MIN 00.71SEC SRB    0MIN 00.02SEC VIRT   116K SYS   272K EXT       4K SYS    9464K
 *********************************************************************************
 *                                                                               *
 *                      S t a n f o r d   U n i v e r s i t y                    *
 *                                                                               *
 *                              *** Job Summary ***                              *
 *                                                                               *
 *   System Id      SYSB                   Input time     09:38:37  Mar 22, 2004 *
 *                                                                               *
 *   System Release SP6.1.0                Start time     09:47:53  Mar 22, 2004 *
 *                                                                               *
 *   Job name       PJG#VIRT               Stop  time     00:00:00  Mar 22, 2004 *
 *                                                                               *
 *   Account        PJG$GG                 Elapsed time  920:39:59.45            *
 *                                                                               *
 *   User Name      Module: VIRTMEM        CPU time       00:00:03.93            *
 *                                                                               *
 *   Job class      E                      SRB Time       00:00:00.06            *
 *                                                                               *
 *********************************************************************************
 IEF375I  JOB/PJG#VIRT/START 2004082.0947
 IEF376I  JOB/PJG#VIRT/STOP  2004082.0948 CPU    0MIN 03.93SEC SRB    0MIN 00.06SEC
1Data set successfully converted from EDIT to FB format
1Assembler Done VIRTMEM No Statements Flagged
1         High Level Assembler Option Summary                   (PTF UQ57391)                                               Page    1
-                                                                                            HLASM R4.0  2004/03/22 09.47
0  No Overriding ASMAOPT Parameters
   Overriding Parameters-  SYSPARM(VIRTMEM),TERM,LANG(EN),OBJ,LC(32500),XREF(SHORT),NODECK,NORLD,NODX,NOUS
   No Process Statements


   Options for this Assembly
0  NOADATA
     ALIGN
   NOASA
     BATCH
     CODEPAGE(047C)
   NOCOMPAT
   NODBCS
 3 NODECK
 3 NODXREF
     ESD
   NOEXIT
     FLAG(0,ALIGN,CONT,NOIMPLEN,NOPAGE0,PUSH,RECORD,NOSUBSTR,USING0)
   NOFOLD
   NOGOFF
   NOINFO
 3   LANGUAGE(EN)
   NOLIBMAC
 3   LINECOUNT(32500)
     LIST(121)
     MXREF(SOURCE)
 3   OBJECT
     OPTABLE(UNI,NOLIST)
   NOPCONTROL
   NOPESTOP
   NOPROFILE
   NORA2
   NORENT
 3 NORLD
     RXREF
     SIZE(MAX)
 3   SYSPARM(VIRTMEM)
 3   TERM(WIDE)
   NOTEST
     THREAD
   NOTRANSLATE
 3 NOUSING
 3   XREF(SHORT)

   No Overriding DD Names

1VIRTMEM  External Symbol Dictionary                                                                                        Page    2
-Symbol   Type   Id     Address  Length     LD ID  Flags Alias-of                            HLASM R4.0  2004/03/22 09.47
0VIRTMEM   SD 00000001 00000000 00001FD6             06
 VIRT00    LD          00000000           00000001
 REMANY3   LD          00000016           00000001
 REMANYR3  LD          000000AE           00000001
 REMSPEC3  LD          00000160           00000001
 REMONE3   LD          00000282           00000001
 REMONER3  LD          00000332           00000001
 CHKSPEC3  LD          000003F4           00000001
 ADDSPEC3  LD          00000460           00000001
 REMPAGE3  LD          00000588           00000001
 FINDMAX3  LD          000006AC           00000001
 VMGET     LD          0000071E           00000001
 VMGETM    LD          00000A08           00000001
 ASLOCK    ER 00000002
 LKOB      ER 00000003
 PAGSFIX   ER 00000004
 ASULOCK   ER 00000005
 LKREL     ER 00000006
 VMGETS    LD          00000D6C           00000001
 VMFREE    LD          00000F70           00000001
 PAGUFIX   ER 00000007
 PAGUSFIX  ER 00000008
 PAGUDEF   ER 00000009
 VMCHK     LD          000011F6           00000001
 NEWPOOL3  LD          000012FA           00000001
 GETVSLB3  LD          0000143A           00000001
 REEVSLB3  LD          000014C4           00000001
 LOCVSLB3  LD          00001510           00000001
 VMINFO    LD          00001606           00000001
 VMINIT1   LD          00001652           00000001
 VMINIT2   LD          00001AA4           00000001
 VMINIT3   LD          00001B18           00000001
 VMDEFSET  LD          00001BB8           00000001
 VMCRAS1   LD          00001BFC           00000001
 VMCRAS2   LD          00001E54           00000001
 NITPFIX3  LD          00001E7A           00000001
 NITPDEF3  LD          00001EA4           00000001
 TRCD3     LD          00001F14           00000001
 VMGET     ER 0000000A
 PAGSEGD   ER 0000000B
 LKCRE     ER 0000000C
 PAGDEF    ER 0000000D
 PAGFIX    ER 0000000E
 PAGASC2   ER 0000000F

1VIRTMEM  Virtual memory manager                                                                                            Page    3
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement                    (Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                      2       2.              COPY  HEADER
                                       3             =*********************************************************************
                                       4             =*                                                                   *
                                       5             =*                                                                   *
                                       6             =*                          M P - O R V Y L                          *
                                       7             =*                                                                   *
                                       8             =*       ORVYL - Release 5.0 - Class I - Stanford Proprietary        *
                                       9             =*                                                                   *
                                      10             =*                                                                   *
                                      11             =*********************************************************************
-
-                                     13             =         SPLEVEL SET=2
                                      16             =         HIBAL ASSOC=YES
-
                                     998             =*
                                     999             =* REGISTER CONVENTIONS (USE ONLY THE SYMBOLS)
                                    1000             =*
                                    1001             =*                     CLASS  USAGE
                                    1002             =*                     -----  -----------------------------
                                    1003             =RVR      REG   0        1    RETURN VALUE REGISTER
                                    1015             =RS       REG   1        *    SCRATCH
                                    1027             =RA       REG   2        *    SCRATCH
                                    1039             =RB       REG   3        *    SCRATCH
                                    1051             =RJ       REG   4        *    SCRATCH
                                    1063             =RK       REG   5        *    SCRATCH
                                    1075             =RX       REG   6        *    SCRATCH
                                    1087             =RY       REG   7        *    SCRATCH
                                    1099             =RM       REG   8        *    SCRATCH
                                    1111             =RN       REG   9        *    SCRATCH (In Guest)
                                    1123             =RTCBR    REG   9        -    POINTER TO THE RTCB (In Host)
                                    1135             =BR       REG   10       -    FIRST BASE REGISTER
                                    1147             =BRR      REG   11       -    SECOND BASE REGISTER
                                    1159             =WAR      REG   12       -    WORK AREA POINTER
                                    1171             =SPR      REG   13       -    STACK TOP POINTER
                                    1183             =RAR      REG   14       1    RETURN ADDRESS REGISTER
                                    1195             =EPAR     REG   15       1    ENTRY POINT ADDRESS
                                    1207             =*
                                    1208             =*      CLASS   MEANING
                                    1209             =*      -----   --------------------------------------------------
                                    1210             =*        *     Register may be freely used for scratch
                                    1211             =*        -     Register may not be used
                                    1212             =*        1     Available but may change on subroutine calls
                                    1213             =*
1VIRTMEM  Virtual memory manager                                                                                            Page    4
0D-Loc  Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+_____  ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 01FD6  1216       4.     VIRTMEM  MODULE TRCNUM=3
                                    1226             +*
                                    1227    02-IDENT +         ENTRY VIRT00
                                    1228             +
 000000 14E5C9D9E3F0F06B            1229    02-IDENT +VIRT00   DC    AL1(20),C'VIRT00,22MAR04,09:47'
                                    1230             +*
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page    5
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1233       6.     *
                                    1234       7.     * Macros to Get/Free VSLBs
                                    1235       8.     *
                                    1236       9.              MACRO
                                    1237      10.     &L       GVSLB &LOC
                                    1238      11.     &L       PSET  GFVSLB
                                    1239      12.              PMOV  GFVADDR,&LOC
                                    1240      13.              ACALL GETVSLB
                                    1241      14.              MEND
                                    1242      15.
                                    1243      16.              MACRO
                                    1244      17.     &L       FVSLB &LOC
                                    1245      18.     &L       PSET  GFVSLB
                                    1246      19.              PMOV  GFVADDR,&LOC
                                    1247      20.              ACALL FREEVSLB
                                    1248      21.              MEND
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page    6
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1250      23.              COPY  MAT
                                    1251             =*****************************************************************
                                    1252             =*                                                               *
                                    1253             =*        *** M A S T E R   A D D R E S S   T A B L E ***        *
                                    1254             =*                                                               *
                                    1255             =*****************************************************************
-000000                00000 00100  1257             =MAT      RECORD BEGIN
                                    1265  1          =MATPTR     EQU   X'200',4,C'A' Address of the MAT in PZERO
 000000 D4C1E340                    1266  1          =           DC    CL4'MAT'      Control block ID
                                    1267  1          =*
                                    1268  1          =* Addresses of global control blocks
                                    1269  1          =*
 000004                             1270  1          =MATVMCB    DS    A             Virtual memory control block
 000008                             1271  1          =MATDCT     DS    A             Dispatcher control table
 00000C                             1272  1          =MATPAGCB   DS    A             Real memory control block
 000010                             1273  1          =MATM1CT    DS    A             CT for Mode 1 users
 000014                             1274  1          =MATLCT     DS    A             Lock manager control table
 000018                             1275  1          =MATQCT     DS    A             Queue manager control table
 00001C                             1276  1          =MATIOCB    DS    A             I/O Manager control block
 000020                             1277  1          =MATSBWB    DS    A             System buffer wait blocks
 000024                             1278  1          =MATGTCT    DS    A             Terminal global control table
 000028                             1279  1          =MATFILCB   DS    A             File master control table
 00002C                             1280  1          =MATJESCB   DS    A             JES master control table
 000030                             1281  1          =MATSYSCB   DS    A             System task control table
 000034                             1282  1          =MATACCT    DS    A             Accounting control table
 000038                             1283  1          =MATGRCT    DS    A             General Resource control table
 00003C                             1284  1          =MATGNCT    DS    A             Global Network Control table
 000040                             1285  1          =MATTECB    DS    D             Termination wait ECB
 000048                             1286  1          =           DS    25A           Reserved
                                    1287  1          =*
                                    1288  1          =* Control Block Chains
                                    1289  1          =*
 0000AC                             1290  1          =MATASBS    DS    A             Pointer to chain of ASBs
 0000B0                             1291  1          =MATASBL    DS    A             Id of suspend lock for ASB chain
 0000B4                             1292  1          =           DS    8A            **  RESERVED
                                    1293  1          =*
                                    1294  1          =* Control information
                                    1295  1          =*
 0000D4                             1296  1          =MATSNAME   DS    CL8           System Name
 0000DC                             1297  1          =MATPAGFN   DS    A             Current value of the Paging function
 0000E0                             1298  1          =MATSKEY    DS    X             SYSTEM storage key (in high 4 bits)
 0000E1                             1299  1          =MATUKEY    DS    X             USER storage key
                                    1300= 1          =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1301= 1          =           Ÿ  Information about the Kernel  Ÿ
                                    1302= 1          =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000E4                             1303  1          =MATKSTRT   DS    A             Starting address of the Kernel
 0000E8                             1304  1          =MATKMAP    DS    A             Address of the Kernel map
 0000EC                             1305  1          =MATKMAPL   DS    A             Length of the Kernel map
                                    1306= 1          =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1307= 1          =           Ÿ  Failsoft information.  Ÿ
                                    1308= 1          =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000F0                             1309  1          =MATNCLPE   DS    F             Number of CLP errors
 0000F4                             1310  1          =MATNFAIL   DS    F             Number of failsofts
 0000F8                             1311  1          =           DS    2A            Reserved
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page    7
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000100                00100 00100  1312             =         END
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page    8
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1322      25.              COPY  PZERO
 000000                00000 00280  1323             =PZERO    RECORD BEGIN
                                    1331  1          =*
                                    1332  1          =* Real Page 0.  Each CPU has its own copy of this area.
                                    1333  1          =*
-                                   1335  1          =****************************************************************
                                    1336  1          =*               Fields Fixed by the Architecture               *
                                    1337  1          =*               ********************************               *
                                    1338  1          =*                                                              *
 000000                             1339  1          =PZRSNPSW   DS    D             Restart new PSW                 *
 000008                             1340  1          =PZRSOPSW   DS    D             Restart old PSW                 *
 000010                             1341  1          =           DS    D                                             *
 000018                             1342  1          =PZEXOPSW   DS    D             External old PSW                *
 000020                             1343  1          =PZSVOPSW   DS    D             Supervisor old PSW              *
 000028                             1344  1          =PZPIOPSW   DS    D             Program old PSW                 *
 000030                             1345  1          =PZMCOPSW   DS    D             Machine check old PSW           *
 000038                             1346  1          =PZIOOPSW   DS    D             I/O old PSW                     *
 000040                             1347  1          =           DS    3D                                            *
 000058                             1348  1          =PZEXNPSW   DS    D             External new PSW                *
 000060                             1349  1          =PZSVNPSW   DS    D             Supervisor new PSW              *
 000068                             1350  1          =PZPINPSW   DS    D             Program new PSW                 *
 000070                             1351  1          =PZMCNPSW   DS    D             Machine check new PSW           *
 000078                             1352  1          =PZIONPSW   DS    D             I/O new PSW                     *
 000080                             1353  1          =           DS    F                                             *
 000084                             1354  1          =PZEXCPU    DS    H             CPU address for EXT int         *
 000086                             1355  1          =PZEXIC     DS    H             External interrupt code         *
 000088                             1356  1          =PZSVILC    DS    H             Supervisor call ILC             *
 00008A                             1357  1          =PZSVIC     DS    H             Supervisor interrupt code       *
 00008C                             1358  1          =PZPIILC    DS    H             Program ILC                     *
 00008E                             1359  1          =PZPIIC     DS    H             Program interrupt code          *
 000090                             1360  1          =PZTREXA    DS    A             Translation exception address   *
 000094                             1361  1          =PZMONCL    DS    H             Monitor Class number            *
 000096                             1362  1          =PZPERCD    DS    H             PER code                        *
 000098                             1363  1          =PZPERA     DS    A             PER Address                     *
 00009C                             1364  1          =PZMONCD    DS    A             Monitor Code                    *
 0000A0                             1365  1          =           DS    3D                                            *
 0000B8                             1366  1          =PZIOSID    DS    A             I/O subsystem ID word           *
 0000BC                             1367  1          =PZIOPRM    DS    A             I/O Parameter                   *
 0000C0                             1368  1          =PZIOSCS    DS    A             I/O subchannel ending status    *
 0000C4                             1369  1          =           DS    A                                             *
 0000C8                             1370  1          =           DS    39D                                           *
                                    1371  1          =*                                                              *
                                    1372  1          =*            ***************************************           *
                                    1373  1          =*            End of Fields fixed by the architecture           *
                                    1374  1          =****************************************************************
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page    9
0D-Loc  Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+_____  ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1376  1          =*
                                    1377  1          =* Fields of general interest
                                    1378  1          =*
 000200                             1379  1          =PZMATP     DS    A             Address of the MAT
 000204                             1380  1          =           DS    A             ** Reserved **
 000208                             1381  1          =PZCURPID   DS    0D            Unique ID of the current process
 000208                             1382  1          =PZCURASB   DS    A             Addr of ASB for current Address space
 00020C                             1383  1          =PZCURTSK   DS    A             ID of current task in the Address space
 000210                             1384  1          =PZLCPUA    DS    A             Logical CPU address
 000214                             1385  1          =PZCPUMSK   DS    A             CPU address mask bit
 000218                             1386  1          =PZPSWM     DS    X             PSW mask for disabling
 000219                             1387  1          =           DS    X             ** Reserved **
                                    1388  1          =*
                                    1389  1          =* Termination/Trace information
                                    1390  1          =*
 00021A 00                          1391  1          =PZTERMFL   FLAG  ,             Termination flags
 PZTERMFL.PZABORT  80 ONES          1395  1          =           FLAG  PZABORT         ABORT macro issued
 PZTERMFL.PZATERM  40 ONES          1400  1          =           FLAG  PZATERM         Start termination processing
 00021B                             1405  1          =PZABSM     DS    X             Save area for system mask in ABORT
 00021C                             1406  1          =PZABR15    DS    A             Save area for R15 in an ABORT
 000220                             1407  1          =PZTZOFF    DS    D             Time zone offset
 000228                             1408  1          =           DS    22A           ** Reserved **
                                    1409  1          =*         DS    24A           ** Reserved **
 000280                00280 00280  1410             =         END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   10
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1420      27.              COPY  ASB
 000000                00000 00044  1421             =ASB      RECORD BEGIN
 000000 C1E2C240                    1429  1          =ASBID      DC    CL4'ASB'
 000004                             1430  1          =ASBNEXT    DS    A                       Next ASB in system
                                    1431  1          =*
                                    1432  1          =*  Load Address Space Parameters area
                                    1433  1          =*
 000008                             1434  1          =ASBLASP    DS    0D                      Load Addr Space Parms
 000008                             1435  1          =ASBPKM     DS    H                       Program Key Mask
 00000A                             1436  1          =ASBSASN    DS    H                       Secondary ASN
 00000C                             1437  1          =ASBAX      DS    H                       Authorization index
 00000E                             1438  1          =ASBPASN    DS    H                       Primary ASN
                                    1439  1          =ASBLPARM   EQU   3                       LASP parameter
                                    1440  1          =
 000010                             1441  1          =ASBSASB    DS    A                       Address of secondary ASB
 000014 00                          1442  1          =ASBGCFLG   FLAG  ,
 ASBGCFLG.ASBFGBLC 80 ONES          1446  1          =           FLAG  ASBFGBLC                This is ASB for global/common
 000015                             1451  1          =           DS    3X                      - Available -
                                    1452  1          =*
                                    1453  1          =*  Related control blocks
                                    1454  1          =*
 000018                             1455  1          =ASBVSCT    DS    A                       VSCT for the Address space
 00001C                             1456  1          =ASBASDB    DS    A                       AS dispatching block
 000020                             1457  1          =ASBPAGB    DS    A                       AS paging block
 000024                             1458  1          =ASBIOB     DS    A                       AS I/O block
 000028                             1459  1          =ASBENQ     DS    A                       AS Enqueue table
 00002C                             1460  1          =ASBM1SCP   DS    A                       Mode 1 SCP
 000030                             1461  1          =ASBTCCB    DS    A                       Terminal Control block
 000034                             1462  1          =ASBAIB     DS    A                       Accouting information
 000038                             1463  1          =ASBASFB    DS    A                       File services control block
 00003C                             1464  1          =ASBMSTR    DS    A                       AS Master Control block
 000040                             1465  1          =ASBNET     DS    A                       Local Network Control Block
                                    1466  1          =*ASBLW    DS    A     ** Temp RESMAN ** Lock waiting for
                                    1467  1          =*ASBLH    DS    A     ** Temp RESMAN ** Lock held
 000044                00044 00044  1468             =         END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   11
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1478      29.              COPY  LOCKPARM
                                    1479             =*******************************************************************
                                    1480             =*                                                                 *
                                    1481             =*    LOCKPARM - Lock routine calling parms                        *
                                    1482             =*                                                                 *
                                    1483             =*******************************************************************
0000000                00000 00011  1485             =@LOCKCRE RECORD BEGIN
 000000                             1493  1          =@LOCKNAM   DS    CL16          Name of the lock
 000010 00                          1494  1          =@LOCKFL    FLAG  ,
 @LOCKFL.@LFSPIN   80 ONES          1498  1          =           FLAG  @LFSPIN       Spin type lock
 000011                00011 00011  1503             =         END   ,
                                    1512             =*
 000000                00000 00004  1513             =@LOCKS   RECORD BEGIN
 000000                             1521  1          =@LOCKID    DS    A             Lock id
 000004                00004 00004  1522             =         END   ,
-                                   1532      31.              COPY  VMPARM
                                    1533             =*******************************************************************
                                    1534             =*                                                                 *
                                    1535             =*    Memory parms for inside the virtual machine.                 *
                                    1536             =*                                                                 *
                                    1537             =*******************************************************************
-000000                00000 0000B  1539             =@VMGET   RECORD BEGIN        Parm area for getting virtual memory
 000000                             1547  1          =@VMGLEN    DS    A             Amount of memory needed
 000004                             1548  1          =@VMGDAT    DS    A             More data. Address or maxlen.
 000008                             1549  1          =@VMGPOOL   DS    H             Pool/Subpool to get the memory from
 00000A 00                          1550  1          =@VMGFLG    FLAG  ,
 @VMGFLG.@VMGPAGE  80 ONES          1554  1          =           FLAG  @VMGPAGE      Page Aligned
 @VMGFLG.@VMGONEP  40 ONES          1559  1          =           FLAG  @VMGONEP      Don't cross page boundary
 00000B                0000B 0000B  1564             =         END   ,
-000000                00000 0000A  1574             =@VMFREE  RECORD BEGIN        Used for VMFREE and VMCHECK
 000000                             1582  1          =@VMFLOC    DS    A             Location of the storage to free
 000004                             1583  1          =@VMFLEN    DS    A             Amount to free
 000008                             1584  1          =@VMFPOOL   DS    H             Pool/Subpool where the storage lives
 00000A                0000A 0000A  1585             =         END   ,
-000000                00000 00009  1595             =@VMINFO  RECORD BEGIN        Returns User address limits/hash val
 000000                             1603  1          =@VMIUST    DS    A             Start of the user address space
 000004                             1604  1          =@VMIULEN   DS    A             Length of the user address space
 000008                             1605  1          =@VMITRSH   DS    X             Trash value
 000009                00009 00009  1606             =         END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   12
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1616      33.              COPY  VMIPARM
                                    1617             =*
                                    1618             =*  @VMIPARM -- This data area is passed to the Virtual memory
                                    1619             =*              initialization module to inform it of the storage
                                    1620             =*              areas that have already been set up.
                                    1621             =*
-000000                00000 00014  1623             =@VMIPARM RECORD BEGIN
 000000                             1631  1          =@VMIKLOC   DS    A             Starting address of the Kernel
 000004                             1632  1          =@VMIKLEN   DS    A             Length of the Kernel
 000008                             1633  1          =@VMIMLOC   DS    A             Location of the Kernel map
 00000C                             1634  1          =@VMIMLEN   DS    A             Length of the Kernel map
 000010                             1635  1          =@VMISLOC   DS    A             Location of the V=R stack (16 pages)
 000014                00014 00014  1636             =         END   ,
-                                   1646             =*
                                    1647             =*   @VMCRAS -- This data area is passed to the Address space creation
                                    1648             =*              routine.
                                    1649             =*
-000000                00000 00004  1651             =@VMCRAS  RECORD BEGIN
 000000                             1659  1          =@VMCASB    DS    A             Address of the ASB for the new AS
 000004                00004 00004  1660             =         END   ,
-
                                    1670      35.              COPY  PARMPARM
                                    1671             =*********************************************************************
                                    1672             =*                                                                   *
                                    1673             =*          Parameters to obtain initialization parameters           *
                                    1674             =*                                                                   *
                                    1675             =*********************************************************************
0000000                00000 00010  1677             =@PARMDO  RECORD BEGIN
 000000                             1685  1          =@PARILOC   DS    A                       Input location
 000004                             1686  1          =@PARILEN   DS    A                       | length
 000008                             1687  1          =@PAROLOC   DS    A                       Output location
 00000C                             1688  1          =@PAROLEN   DS    A                       | length
 000010                00010 00010  1689             =         END   ,
0000000                00000 00004  1699             =PARMIN   RECORD BEGIN
 000000 00                          1707  1          =PARMTYPE   FLAG  ,
 PARMTYPE.PARMFSTR 00 EQ            1711  1          =           FLAG  (PARMFSTR,0,EQ)         Return a string
 PARMTYPE.PARMFINT 04 EQ            1721  1          =           FLAG  (PARMFINT,4,EQ)         Return an integer
 PARMTYPE.PARMFYN  08 EQ            1731  1          =           FLAG  (PARMFYN,8,EQ)          Return Yea or Nay
 PARMTYPE.PARMFFLT 0C EQ            1741  1          =           FLAG  (PARMFFLT,12,EQ)        Return a floating point
 000001                             1751  1          =           DS    3X                      - Available -
 000004                             1752  1          =PARMKEYS   DS    0A                      Start of 8 byte keys
 000004                00004 00004  1753             =         END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   13
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1763      37.              COPY  PAGEPARM
                                    1764             =*
                                    1765             =*  Page fault return codes
                                    1766             =*
                                    1767             =@PFRINP  EQU   0                       Fault in progress
                                    1768             =@PFRADDR EQU   4                       Addressing exception
                                    1769             =@PFROK   EQU   8                       Fault resolved
                                    1770             =@PFRWAIT EQU   12                      Must wait for some resource
0000000                00000 00005  1772             =@PAGSWAP RECORD BEGIN
 000000                             1780  1          =@SWASB     DS    A                       Address of ASB being swapped
                                    1781  1          =* -- Return parameters --
 000004 00                          1782  1          =@SWFLG     FLAG  ,
 @SWFLG.@SWFINP    00 EQ            1786  1          =           FLAG  (@SWFINP,0,EQ)          Swap in progress
 @SWFLG.@SWFOK     04 EQ            1796  1          =           FLAG  (@SWFOK,4,EQ)           Swap done now
 @SWFLG.@SWFWAIT   08 EQ            1806  1          =           FLAG  (@SWFWAIT,8,EQ)         Must wait for some resource
 000005                00005 00005  1816             =         END   ,
0000000                00000 00004  1826             =@PAGSWADV RECORD BEGIN                 Give swap advice
 000000                             1834  1          =@ADVASB    DS    A                       ASB of advice
 000004                00004 00004  1835             =         END   ,
0000000                00000 0000D  1845             =@PAGWSMA RECORD BEGIN                  Working Set management
 000000                             1853  1          =@WSASB     DS    A                       ASB of AS to be managed
 000004                             1854  1          =@WSINT     DS    A                       Number of elapsed intervals
 000008                             1855  1          =@WSLIMIT   DS    A                       Maximum number of frames
 00000C 00                          1856  1          =@WSFLG     FLAG  ,
 @WSFLG.@WSFGLOB   80 ONES          1860  1          =           FLAG  @WSFGLOB                Manage Global AS
 00000D                0000D 0000D  1865             =         END   ,
0000000                00000 0000A  1875             =@PAGDEF  RECORD BEGIN                  Define a page
 000000                             1883  1          =@PDADDR    DS    A                       Page VA
 000004                             1884  1          =@PDLEN     DS    A                       Length of definition (bytes)
 000008                             1885  1          =@PDKEY     DS    X                       Storage key (+ key protect)
                                    1886  1          =* @PDHASH  DS    X                       Hash value for page
 000009 00                          1887  1          =@PDF1      FLAG  @PDFGLOB                In global memory
 @PDF1.@PDFGLOB    80 ONES
 @PDF1.@PDFPROT    40 ONES          1893  1          =           FLAG  @PDFPROT                Page table protection
 00000A                0000A 0000A  1898             =         END   ,
0000000                00000 0000A  1908             =@PAGSEGD RECORD BEGIN                  Define a segment
 000000                             1916  1          =@SDADDR    DS    A                       Segment address
 000004                             1917  1          =@SDLEN     DS    A                       Length of definition (bytes)
 000008                             1918  1          =@SDHASH    DS    X                       Hash value for segment
 000009 00                          1919  1          =@SDF1      FLAG  @SDFGLOB                In global memory
 @SDF1.@SDFGLOB    80 ONES
 00000A                0000A 0000A  1925             =         END   ,
0000000                00000 00008  1935             =@PAGASC1 RECORD BEGIN
 000000                             1943  1          =@ASCASB    DS    A                       ASB for AS being created
 000004                             1944  1          =@ASCWSLM   DS    A                       Maximum size of working set
 000008                00008 00008  1945             =         END   ,
0000000                00000 00005  1955             =@PAGASC2 RECORD BEGIN                  Address space creation
 000000                             1963  1          =@ASCVA     DS    A                       Virtual address of 1st PT
 000004                             1964  1          =@ASCKEY    DS    X                       Storage key (+ key protect)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   14
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000005                00005 00005  1965             =         END   ,
0000000                00000 00009  1975             =@PAGE    RECORD BEGIN                  General paging routine parms
 000000                             1983  1          =@PAGLOC    DS    A                       Virtual address
 000004                             1984  1          =@PAGLEN    DS    A                       Length (in bytes)
 000008                             1985  1          =@PAGKEY    DS    X                       Key - where required
                                    1986  1          =@PAGHASH   EQU   @PAGKEY                 Hash - where required
 000009                00009 00009  1987             =         END   ,
0000000                00000 00008  1997             =@PAGRV   RECORD BEGIN                  Real to virtual translation
 000000                             2005  1          =@PAGRVAD   DS    A                       Real addr to be translated
                                    2006  1          =* -- Return parms --
 000004                             2007  1          =@PAGRVASB   DS   A                       Address space block
 000008                00008 00008  2008             =         END   ,
0000000                00000 00004  2018             =@PAGINTV RECORD BEGIN                  Paging management interval
 000000                             2026  1          =@PAGINT    DS    A                       Number of intervals in cycle
 000004                00004 00004  2027             =         END   ,
0000000                00000 00008  2037             =@PAGINIT RECORD BEGIN                  Global initialization
 000000                             2045  1          =@PAGIASB   DS    A                       Global ASB address
 000004                             2046  1          =@PAGIMEG   DS    A                       Maximum number of bytes in VA
 000008                00008 00008  2047             =         END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   15
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2057      39.     *****************************************************************
                                    2058      40.     *                                                               *
                                    2059      41.     *     Storage pool description.  The storage pool number is     *
                                    2060      42.     *   determined from some of the characteristics of the pool.    *
                                    2061      43.     *   It may be viewed as bits describing those characteristics.  *
                                    2062      44.     *   This section defines what characteristics determine the     *
                                    2063      45.     *   pool number and their bit assignments within the number. It *
                                    2064      46.     *   must ALWAYS be in sync with the macros that construct the   *
                                    2065      47.     *   pool numbers based on a description of the characteristics. *
                                    2066      48.     *                                                               *
                                    2067      49.     *****************************************************************
-                                   2069      51.     PNGLOBAL EQU   B'00100000'   On if the pool is for global memory
                                    2070      52.
                                    2071      53.     PNHIGH   EQU   B'00010000'   For local pool:
                                    2072      54.     *                              On if local system area
                                    2073      55.     *                              Off if user area
                                    2074      56.     *                            For global pool:
                                    2075      57.     *                              On if high global (above 16M)
                                    2076      58.     *                              Off if low global (mainly LPA type)
                                    2077      59.     *
                                    2078      60.     PNFETP   EQU   B'00001000'   On if pool fetch protected.
                                    2079      61.
                                    2080      62.     PNFIXED  EQU   B'00000100'   On if pool is fixed.
                                    2081      63.
                                    2082      64.     PNSYSKEY EQU   B'00000010'   On if system key.
                                    2083      65.
                                    2084      66.     PNDATA   EQU   B'00000001'   On if the pool is allocated from high
                                    2085      67.     *                            memory addresses to low addresses.
                                    2086      68.     *
                                    2087      69.     MAXPOOL  EQU   B'00111111'   Maximum pool number
                                    2088      70.
                                    2089      71.     VMAL     EQU   16,,C'N'
                                    2090      72.     VMALIGN  EQU   (-VMAL)-X'80000000'
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   16
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2092      74.     *****************************************************************
                                    2093      75.     *                                                               *
                                    2094      76.     *    VMCB  --  Virtual memory control block                     *
                                    2095      77.     *              This is the central control block for the        *
                                    2096      78.     *              Virtual memory manager.                          *
                                    2097      79.     *                                                               *
                                    2098      80.     *****************************************************************
-000000                00000 00034  2100      82.     VMCB     RECORD BEGIN
 000000 E5D4C3C2                    2108  1   83.                DC    C'VMCB'
                                    2109  1   84.     *
                                    2110  1   85.     * Address ranges of the various areas of virtual storage
                                    2111  1   86.     *
 000004                             2112  1   87.     VMCBGLS    DS    A             GL Start
 000008                             2113  1   88.     VMCBGLL    DS    A                Size
 00000C                             2114  1   89.     VMCBUSS    DS    A             US Start
 000010                             2115  1   90.     VMCBUSL    DS    A                Size
 000014                             2116  1   91.     VMCBSLS    DS    A             SL Start
 000018                             2117  1   92.     VMCBSLL    DS    A                Size
 00001C                             2118  1   93.     VMCBGHS    DS    A             GH Start
 000020                             2119  1   94.     VMCBGHL    DS    A                Size
                                    2120  1   95.
 000024                             2121  1   96.     VMCBHASH   DS    X             Hash value for new pages
 000028                             2122  1   97.     VMCBGVS    DS    A             Address of the Global VSCT
 00002C                             2123  1   98.     VMCBSTAT   DS    A             --> Address of stats block
 000030                             2124  1   99.     VMCBSTAG   DS    A             --> Address of global stats block
 000034                00034 00034  2125     100.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   17
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2135     102.     *****************************************************************
                                    2136     103.     *                                                               *
                                    2137     104.     *    VSCT  --  Virtual Storage Control Table                    *
                                    2138     105.     *              This control block represents a virtual memory   *
                                    2139     106.     *              for a user.  There is one of these per address   *
                                    2140     107.     *              space and one for the global memory.  The        *
                                    2141     108.     *              address space specific ones are pointed to by    *
                                    2142     109.     *              the ASB and the global one is pointed to by the  *
                                    2143     110.     *              VMCB.                                            *
                                    2144     111.     *                                                               *
                                    2145     112.     *****************************************************************
-000000                00000 0003C  2147     114.     VSCT     RECORD BEGIN
 000000 E5E2C3E3                    2155  1  115.                DC    C'VSCT'
 000004 00                          2156  1  116.     VSCTFLG1   FLAG  ,             Flags
 VSCTFLG1.VSCTGLOB 80 ONES          2160  1  117.                FLAG  VSCTGLOB        This is the global VSCT
 VSCTFLG1.VSCTNORS 40 ONES          2165  1  118.                FLAG  VSCTNORS        There is no VSLB reserve
 VSCTFLG1.VSCTLKRQ 20 ONES          2170  1  119.                FLAG  VSCTLKRQ        VCALL to obtain LOCK
 VSCTFLG1.VSCTPGDF 10 ONES          2175  1  120.                FLAG  VSCTPGDF        VCALL to page define
 VSCTFLG1.VSCTPGFX 08 ONES          2180  1  121.                FLAG  VSCTPGFX        VCALL to page fix
 000008                             2185  1  122.     VSCTLOCK   DS    A             Lock Id.  Global or local
 00000C                             2186  1  123.     VSCTVMCB   DS    A             Address of the VMCB
 000010                             2187  1  124.     VSCTUSED   DS    A             Total virtual pages in use
 000014                             2188  1  125.     VSCTMLIM   DS    A             Maximum allowed to be in use
 000018                             2189  1  126.     VSCTVSLB   DS    A             Chain of free VSLBs
 00001C                             2190  1  127.     VSCTRSRV   DS    A             Chain of a some VSLBs kept in reserve
 000020                             2191  1  128.     VSCTPOOL   DS    A             Chain of SPCB pointers
 000024                             2192  1  129.     VSCTHVSR   DS    A             High VSLB addr (local: SL, global: GH)
 000028                             2193  1  130.     VSCTLVSR   DS    A             Low VSLB addr (local: US, global: GL)
                                    2194  1  131.
 00002C                             2195  1  132.     VSCTSKEY   DS    X             System key (copy of MATSKEY)
 00002D                             2196  1  133.     VSCTUKEY   DS    X             User key (copy of MATUKEY)
 00002E                             2197  1  134.     VSCTHASH   DS    X             New page hash value
                                    2198  1  135.     *
                                    2199  1  136.     * Definition routines called via the VSCT to handle initialization
                                    2200  1  137.     * correctly
                                    2201  1  138.     *
 000030                             2202  1  139.     VSCTPDEF   DS    A             Page definition routine (PAGDEF)
 000034                             2203  1  140.     VSCTPFIX   DS    A             Long term fix routine (PAGFIX)
                                    2204  1  141.     *
                                    2205  1  142.     * Pointer to statistics area
                                    2206  1  143.     *
 000038                             2207  1  144.     VSCTSTAT   DS    A             Stats area         -->
 00003C                0003C 0003C  2208     145.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   18
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 01000  2218     147.     VMSTAT   RECORD BEGIN
 000000                             2226  1  148.     VMSTAT$    DS    0A
 000000                             2227  1  149.     VHGET      DS    A                       Counts of routine calls
 000004                             2228  1  150.     VHGETM     DS    A
 000008                             2229  1  151.     VHGETS     DS    A
 00000C                             2230  1  152.     VHFREE     DS    A
 000010                             2231  1  153.     VHADDSPEC   DS   A
 000014                             2232  1  154.     VHREMSPEC   DS   A
 000018                             2233  1  155.     VHREMANYR   DS   A
 00001C                             2234  1  156.     VHREMPAGE   DS   A
 000020                             2235  1  157.     VHHIST     DS    (504)A
                                    2236  1  158.     MXHIST     EQU   (*-VHHIST)-4
 000800                             2237  1  159.     VHRTNCNT   DS    A                       Number of times through list
 000804                             2238  1  160.     VHRTNPTR   DS    A                       Routine pointer
 000808                             2239  1  161.     VHRTNSTK   DS    D                       Store clock field
 000810                             2240  1  162.     VHRTN      DS    (508)A
                                    2241  1  163.     MXRTN      EQU   (*-VHRTN)-12
 001000                01000 01000  2242     164.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   19
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2252     166.     *****************************************************************
                                    2253     167.     *                                                               *
                                    2254     168.     *    VSLB  --  Virtual storage location Block                   *
                                    2255     169.     *              This control block represents a block of virtual *
                                    2256     170.     *              Storage.                                         *
                                    2257     171.     *                                                               *
                                    2258     172.     *****************************************************************
-000000                00000 00020  2260     174.     VSLB     RECORD BEGIN
 000000 E5E2D3C2                    2268  1  175.                DC    C'VSLB'       Control block ID
 000004                             2269  1  176.     VSLBOWNR   DS    A             Address of VSCT owning this VSLB
 000008                             2270  1  177.     VSLBNEXT   DS    A             Ptr to next VSLB by Addr
 00000C                             2271  1  178.     VSLBPREV   DS    A             Ptr to previous VSLB by Addr
 000010                             2272  1  179.     VSLBLOC    DS    A             Address of the block
 000014                             2273  1  180.     VSLBLEN    DS    A             Length of the block
 000018                             2274  1  181.     VSLBSTAT   DS    A             --> fragment cnt
 00001C                             2275  1  182.                DS    A             *** Reserved ***
 000020                00020 00020  2276     183.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   20
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2286     185.     *****************************************************************
                                    2287     186.     *                                                               *
                                    2288     187.     *    SPCB  --  Storage Pool Control Block                       *
                                    2289     188.     *              This control block represents a virtual storage  *
                                    2290     189.     *              pool.                                            *
                                    2291     190.     *                                                               *
                                    2292     191.     *****************************************************************
-000000                00000 0001C  2294     193.     SPCB     RECORD BEGIN
 000000 E2D7C3C2                    2302  1  194.                DC    C'SPCB'
 000004                             2303  1  195.     SPCBNEXT   DS    A             Next SPCB in the chain
 000008                             2304  1  196.     SPCBSIZE   DS    A             Number of pages in the pool
 00000C                             2305  1  197.     SPCBPOOL   DS    0H            Complete pool number
 00000C 00                          2306  1  198.     SPCBMAJP   FLAG  ,             Major pool number
 SPCBMAJP.SPCBGLOB 20 ONES          2310  1  199.                FLAG  (SPCBGLOB,PNGLOBAL,ON)  Global
 SPCBMAJP.SPCBSYS  02 ONES          2320  1  200.                FLAG  (SPCBSYS,PNSYSKEY,ON)   System key
 SPCBMAJP.SPCBFETP 08 ONES          2330  1  201.                FLAG  (SPCBFETP,PNFETP,ON)    Fetch protected
 SPCBMAJP.SPCBFIX  04 ONES          2340  1  202.                FLAG  (SPCBFIX,PNFIXED,ON)    Fixed
 SPCBMAJP.SPCBBACK 01 ONES          2350  1  203.                FLAG  (SPCBBACK,PNDATA,ON)    Data (reverse allocation)
 SPCBMAJP.SPCBHIGH 10 ONES          2360  1  204.                FLAG  (SPCBHIGH,PNHIGH,ON)    High area
 00000D                             2370  1  205.     SPCBSUBP   DS    X             Sub-pool number
 000010                             2371  1  206.     SPCBVSRB   DS    A             Addr of VSLB for this pool's region
 000014                             2372  1  207.     SPCBUVSL   DS    A             Queue of Used memory (VSLBs)
 000018                             2373  1  208.     SPCBFVSL   DS    A             Ring of Free memory  (VSLBs)
 00001C                0001C 0001C  2374     209.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   21
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2384     211.     *
                                    2385     212.     * Parm for the VSLB manipulation routines
                                    2386     213.     *
-000000                00000 00010  2388     215.     REMADDP  RECORD BEGIN
 000000                             2396  1  216.     RAPVSLB    DS    A             Address of the Dummy VSLB of the queue
 000004                             2397  1  217.     RAPLOC     DS    A             Location of the Area for SPEC requests
 000008                             2398  1  218.     RAPLEN     DS    A             Length of the area.
 00000C                             2399  1  219.     RAPSPEC    DS    A             Specific VSLB (REMPAGE)
 000010                00010 00010  2400     220.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   22
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2410     222.     *****************************************************************
                                    2411     223.     *                                                               *
                                    2412     224.     *  REMANY  --  This routine removes a non-specific block of     *
                                    2413     225.     *              virtual storage from a Chain of VSLBs.  It is    *
                                    2414     226.     *              passed the length of storage desired and it      *
                                    2415     227.     *              returns the address of a block if one could be   *
                                    2416     228.     *              found.                                           *
                                    2417     229.     *                                                               *
                                    2418     230.     *   Input  --  REMADDP                                          *
                                    2419     231.     *                                                               *
                                    2420     232.     *  Output  --  RVR = 0 means block found.  Addr in RAPLOC.      *
                                    2421     233.     *                                                               *
                                    2422     234.     *****************************************************************
-000016                             2424     236.     REMANY   PROC  REMADDP,SCOPE=LOCAL
 000016 D9C5D4C1D5E84040            2431             +
 00001E 0010/0000                   2432             +
 000022 900F D004/18AF       00004  2434             +
 USING  REMANY,R10
 000028 50D0 C000/18CD       00000  2449             +
 00002E 9680 C000      00000        2451             +
 USING  REMADDP-72,R12
 000032 41D0 C058            00058  2465             +
 000036 5870 C048            00000  2466     237.              L     RY,RAPVSLB              Get Q dummy VSLB
 00003A 1827                        2467     238.              LR    RA,RY
 USING  VSLB,R2                     2468     239.              WITH  (VSLB,RA)
 00003C 4100 0004            00004  2481     240.              LA    RVR,4                   Set up to fail
 000040                             2482     241.              LOOP  BEGIN
 000040 5820 2008            00008  2488  1  242.                L     RA,VSLBNEXT             Look at the next one
 000044 1927/4770 A02C       0004E  2489  1  243.                IF    (RA,EQ,RY),'EXIT REMANY'
 00004A 47F0 A082            000A4  2507  1          +
 00004E                             2512  1  244.                IF    (VSLBLEN,GE,RAPLEN),EXIT
 00004E D503 2014 C050 00014 00008  2524  1          +
 000054 47A0 A03A            0005C  2527  1          +
 000058 47F0 A01E            00040  2533     245.              END   ,
                                    2538     246.     *
                                    2539     247.     * We have found a location, update its information.
                                    2540     248.     *
 00005C 9845 2010            00010  2541     249.              LM    RJ,RK,VSLBLOC           Get the location, length
 000060 5040 C04C            00004  2542     250.              ST    RJ,RAPLOC               Save the location
 000064 5A40 C050            00008  2543     251.              A     RJ,RAPLEN               Adjust the location
 000068 5B50 C050            00008  2544     252.              S     RK,RAPLEN               And the remaining length
 00006C 9045 2010            00010  2545     253.              STM   RJ,RK,VSLBLOC
                                    2546     254.     *
                                    2547     255.     * If this leaves a VSLB High and dry then remove and free it
                                    2548     256.     *
 000070 4770 A080            000A2  2549     257.              IF    Z,BEGIN                 None left in this VSLB
 000074 5810 2008            00008  2560  1  258.                L     RS,VSLBNEXT             Address of the next one
 000078 D203 100C 200C 0000C 0000C  2561  1  259.                MVC   VSLBPREV-VSLB(4,RS),VSLBPREV
 00007E 5810 200C            0000C  2562  1  260.                L     RS,VSLBPREV
 000082 D203 1008 2008 00008 00008  2563  1  261.                MVC   VSLBNEXT-VSLB(4,RS),VSLBNEXT
 USING  GFVSLB-72,R13               2564  1  262.                FVSLB (RA)
 000088 D703 D048 D048 00000 00000  2582  1          +
 00008E 5020 D048            00000  2592  1          +
 000092 58F0 A3C6/0DEF       003E8  2598  1          +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   23
0Current Usings:  (VSLB,R2) (VSLB,R7) (REMANY,R10) (REMADDP-72,R12) (GFVSLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  VSLB,R7                     2600  1  263.                WITH  (VSLB,RY)               --> One less fragment
 000098 5810 7018/0610       00018  2613  1  264.                DECR  RS,VSLBSTAT             -->
 00009E 5010 7018            00018  2617  1          +
 DROP   VSLB,R7                     2618     265.              END   ,
 0000A2 1B00                        2627     266.              CLEAR RVR                     Let them know we found it
 0000A4 981F C008            00008  2631     267.              PEND  ,                       Return it to the caller
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   REMANY,R10
 0000A8 9680 C000/0B0E 00000        2651             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   24
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2661     269.     *****************************************************************
                                    2662     270.     *                                                               *
                                    2663     271.     * REMANYR  --  This routine does the same as REMANY except that *
                                    2664     272.     *              the storage is allocated from the high addresses *
                                    2665     273.     *              first, i.e. in Reverse.                          *
                                    2666     274.     *                                                               *
                                    2667     275.     *   Input  --  REMADDP                                          *
                                    2668     276.     *                                                               *
                                    2669     277.     *  Output  --  RVR = 0 means block address is in RAPLOC.        *
                                    2670     278.     *                                                               *
                                    2671     279.     *****************************************************************
-0000AE                             2673     281.     REMANYR  PROC  REMADDP,SCOPE=LOCAL
 0000AE D9C5D4C1D5E8D940            2680             +
 0000B6 0010/0000                   2681             +
 0000BA 900F D004/18AF       00004  2683             +
 USING  REMANYR,R10
 0000C0 50D0 C000/18CD       00000  2698             +
 0000C6 9680 C000      00000        2700             +
 USING  REMADDP-72,R12
 0000CA 41D0 C058            00058  2714             +
 0000CE 5870 C048            00000  2715     282.              L     RY,RAPVSLB              Get Q dummy VSLB
 0000D2 1827                        2716     283.              LR    RA,RY
 USING  VSLB,R2                     2717     284.              WITH  (VSLB,RA)
 0000D4 5880 2004            00004  2730     285.              L     RM,VSLBOWNR             -->
 0000D8 5880 8038            00038  2731     286.              WITH  (VSCT,RM),'L RM,VSCTSTAT'
 USING  VSCT,R8
 DROP   VSCT,R8
 0000DC 1288/4780 A034       000EE  2755     287.              IF    (RM,NZ),BEGIN           -->
 USING  VMSTAT,R8                   2769  1  288.                WITH  (VMSTAT,RM)
 0000E2 4110 0001            00001  2782  1  289.                INCR  RS,VHREMANYR
 0000E6 5E10 8018            00018  2786  1          +
 0000EA 5010 8018            00018  2787  1          +
 DROP   VMSTAT,R8                   2788     290.              END   ,                       -->
 0000EE 4100 0004            00004  2797     291.              LA    RVR,4                   Set up to fail
 0000F2                             2798     292.              LOOP  BEGIN
 0000F2 5820 200C            0000C  2804  1  293.                L     RA,VSLBPREV             Look at the prev one
 0000F6 1927/4770 A046       00100  2805  1  294.                IF    (RA,EQ,RY),'EXIT REMANYR'
 0000FC 47F0 A09C            00156  2823  1          +
 000100                             2828  1  295.                IF    (VSLBLEN,GE,RAPLEN),EXIT
 000100 D503 2014 C050 00014 00008  2840  1          +
 000106 47A0 A054            0010E  2843  1          +
 00010A 47F0 A038            000F2  2849     296.              END   ,
                                    2854     297.     *
                                    2855     298.     * We have found a location, update its information.
                                    2856     299.     *
 00010E 9845 2010            00010  2857     300.              LM    RJ,RK,VSLBLOC           Get the location, length
 000112 5B50 C050            00008  2858     301.              S     RK,RAPLEN               Adjust the length
 000116 5050 2014            00014  2859     302.              ST    RK,VSLBLEN              Update the pointer
 00011A 1A45                        2860     303.              AR    RJ,RK                   Find the start of ours
 00011C 5040 C04C            00004  2861     304.              ST    RJ,RAPLOC               Return the location
                                    2862     305.     *
                                    2863     306.     * If this leaves a VSLB High and dry then remove and free it
                                    2864     307.     *
 000120 1255/4770 A09A       00154  2865     308.              IF    (RK,Z),BEGIN            none left
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   25
0Current Usings:  (VSLB,R2) (REMANYR,R10) (REMADDP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000126 5810 2008            00008  2879  1  309.                L     RS,VSLBNEXT             Address of the next one
 00012A D203 100C 200C 0000C 0000C  2880  1  310.                MVC   VSLBPREV-VSLB(4,RS),VSLBPREV
 000130 5810 200C            0000C  2881  1  311.                L     RS,VSLBPREV
 000134 D203 1008 2008 00008 00008  2882  1  312.                MVC   VSLBNEXT-VSLB(4,RS),VSLBNEXT
 USING  GFVSLB-72,R13               2883  1  313.                FVSLB (RA)
 00013A D703 D048 D048 00000 00000  2901  1          +
 000140 5020 D048            00000  2911  1          +
 000144 58F0 A32E/0DEF       003E8  2917  1          +
 USING  VSLB,R7                     2919  1  314.                WITH  (VSLB,RY)               --> One less fragment
 00014A 5810 7018/0610       00018  2932  1  315.                DECR  RS,VSLBSTAT             -->
 000150 5010 7018            00018  2936  1          +
 DROP   VSLB,R7                     2937     316.              END   ,
 000154 1B00                        2946     317.              CLEAR RVR                     Tell caller we found one
 000156 981F C008            00008  2950     318.              PEND  ,                       Return it to the caller
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   REMANYR,R10
 00015A 9680 C000/0B0E 00000        2970             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   26
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2980     320.     *****************************************************************
                                    2981     321.     *                                                               *
                                    2982     322.     *  REMSPEC --  This routine removes a specific block of virtual *
                                    2983     323.     *              storage from a chain of VSLBs.  It is passed the *
                                    2984     324.     *              location and length.  It returns a zero if the   *
                                    2985     325.     *              area could be removed and non-zero if not.       *
                                    2986     326.     *                                                               *
                                    2987     327.     *   Input  --  REMADDP                                          *
                                    2988     328.     *                                                               *
                                    2989     329.     *  Output  --  RVR = 0 means storage removed.                   *
                                    2990     330.     *                                                               *
                                    2991     331.     *****************************************************************
-000160                             2993     333.     REMSPEC  PROC  REMADDP,SCOPE=LOCAL
 000160 D9C5D4E2D7C5C340            3000             +
 000168 0010/0000                   3001             +
 00016C 900F D004/18AF       00004  3003             +
 USING  REMSPEC,R10
 000172 50D0 C000/18CD       00000  3018             +
 000178 9680 C000      00000        3020             +
 USING  REMADDP-72,R12
 00017C 41D0 C058            00058  3034             +
 000180 5870 C048            00000  3035     334.              L     RY,RAPVSLB              Get Q dummy VSLB
 000184 1827                        3036     335.              LR    RA,RY
 USING  VSLB,R2                     3037     336.              WITH  (VSLB,RA)
 000186 5880 2004            00004  3050     337.              L     RM,VSLBOWNR             -->
 00018A 5880 8038            00038  3051     338.              WITH  (VSCT,RM),'L RM,VSCTSTAT'
 USING  VSCT,R8
 DROP   VSCT,R8
 00018E 1288/4780 A034       001A0  3075     339.              IF    (RM,NZ),BEGIN           -->
 USING  VMSTAT,R8                   3089  1  340.                WITH  (VMSTAT,RM)
 000194 4110 0001            00001  3102  1  341.                INCR  RS,VHREMSPEC
 000198 5E10 8014            00014  3106  1          +
 00019C 5010 8014            00014  3107  1          +
 DROP   VMSTAT,R8                   3108     342.              END   ,                       -->
 0001A0 4100 0004            00004  3117     343.              LA    RVR,4                   Set up to fail
 0001A4                             3118     344.              LOOP  BEGIN
 0001A4 5820 200C            0000C  3124  1  345.                L     RA,VSLBPREV             Look at the prev one
 0001A8 1927/4770 A046       001B2  3125  1  346.                IF    (RA,EQ,RY),'EXIT REMSPEC'
 0001AE 47F0 A10C            00278  3143  1          +
 0001B2                             3148  1  347.                IF    (VSLBLOC,LE,RAPLOC),EXIT
 0001B2 D503 2010 C04C 00010 00004  3160  1          +
 0001B8 47C0 A054            001C0  3163  1          +
 0001BC 47F0 A038            001A4  3169     348.              END   ,
                                    3174     349.     *
                                    3175     350.     * See if the block we found contains the one we want to free
                                    3176     351.     *
 0001C0 5840 C04C            00004  3177     352.              L     RJ,RAPLOC
 0001C4 5A40 C050            00008  3178     353.              A     RJ,RAPLEN               Ending addr of block +1
 0001C8 5850 2010            00010  3179     354.              L     RK,VSLBLOC
 0001CC 5A50 2014            00014  3180     355.              A     RK,VSLBLEN              Ending of VSLB +1
 0001D0 1945/47D0 A06E       001DA  3181     356.              IF    (RJ,GT,RK),'EXIT REMSPEC'
 0001D6 47F0 A10C            00278  3199             +
                                    3204     357.     *
                                    3205     358.     * If the heads coincide, just update the VSLB
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   27
0Current Usings:  (VSLB,R2) (REMSPEC,R10) (REMADDP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3206     359.     *
 0001DA                             3207     360.              IF    (VSLBLOC,EQ,RAPLOC),BEGIN
 0001DA D503 2010 C04C 00010 00004  3219             +
 0001E0 4770 A0B8            00224  3220             +
 0001E4 5040 2010            00010  3225  1  361.                ST    RJ,VSLBLOC              Update the VSLB location
 0001E8 1B54                        3226  1  362.                SR    RK,RJ                   Length of the VSLB area
 0001EA 5050 2014            00014  3227  1  363.                ST    RK,VSLBLEN              Update the VSLB
 0001EE 4770 A0B4            00220  3228  1  364.                IF    Z,BEGIN                 This is the whole thing
 0001F2 5810 2008            00008  3239  2  365.                  L     RS,VSLBNEXT             Address of the next one
 0001F6 D203 100C 200C 0000C 0000C  3240  2  366.                  MVC   VSLBPREV-VSLB(4,RS),VSLBPREV
 0001FC 5810 200C            0000C  3241  2  367.                  L     RS,VSLBPREV
 000200 D203 1008 2008 00008 00008  3242  2  368.                  MVC   VSLBNEXT-VSLB(4,RS),VSLBNEXT
 USING  GFVSLB-72,R13               3243  2  369.                  FVSLB (RA)
 000206 D703 D048 D048 00000 00000  3261  2          +
 00020C 5020 D048            00000  3271  2          +
 000210 58F0 A27C/0DEF       003E8  3277  2          +
 USING  VSLB,R7                     3279  2  370.                  WITH  (VSLB,RY)               --> One less fragment
 000216 5810 7018/0610       00018  3292  2  371.                  DECR  RS,VSLBSTAT             -->
 00021C 5010 7018            00018  3296  2          +
 DROP   VSLB,R7                     3297  1  372.                END   ,
 000220 47F0 A10A            00276  3306  1  373.                B     RMSDONE                 All done
 000224                             3307     374.              END   ,
                                    3311     375.     *
                                    3312     376.     * Update the head buffer.
                                    3313     377.     *
 000224 5810 C04C            00004  3314     378.              L     RS,RAPLOC               Where the new one starts
 000228 5B10 2010            00010  3315     379.              S     RS,VSLBLOC              Where the old one starts
 00022C 5010 2014            00014  3316     380.              ST    RS,VSLBLEN              Gives the length
                                    3317     381.     *
                                    3318     382.     * If the tails coincide we are done at this point
                                    3319     383.     *
 000230 1945/4780 A10A       00276  3320     384.              IF    (RJ,EQ,RK),RMSDONE
                                    3338     385.     *
                                    3339     386.     * If not, we must add a VSLB for the tail buffer
                                    3340     387.     *
 000236                             3341     388.              GVSLB L:VSLBOWNR              Get a new VSLB
 000236 D703 D048 D048 00000 00000  3352             +
 00023C D203 D048 2004 00000 00004  3357             +
 000242 58F0 A280/0DEF       003EC  3363             +
 000248 1862                        3365     389.              LR    RX,RA                   Address of the old one
 00024A 5810 2008            00008  3366     390.              L     RS,VSLBNEXT             Address of the next one
 00024E 1820                        3367     391.              LR    RA,RVR                  Address of the new one
                                    3368     392.     *
                                    3369     393.     * Fill in the new VSLB
                                    3370     394.     *
 000250 5040 2010            00010  3371     395.              ST    RJ,VSLBLOC              Storage area location
 000254 1B54                        3372     396.              SR    RK,RJ                   Get the length of the area
 000256 5050 2014            00014  3373     397.              ST    RK,VSLBLEN              And save that
 00025A 5010 2008            00008  3374     398.              ST    RS,VSLBNEXT             Next pointer
 00025E 5060 200C            0000C  3375     399.              ST    RX,VSLBPREV             Previous pointer
 000262 5020 6008            00008  3376     400.              ST    RA,VSLBNEXT-VSLB(,RX)   Make prev point to this one
 000266 5020 100C            0000C  3377     401.              ST    RA,VSLBPREV-VSLB(,RS)   and the next point to it too
                                    3378     402.
 USING  VSLB,R7                     3379     403.              WITH  (VSLB,RY)               --> One more fragment
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   28
0Current Usings:  (VSLB,R2) (VSLB,R7) (REMSPEC,R10) (REMADDP-72,R12) (GFVSLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000026A 4110 0001            00001  3392     404.              INCR  RS,VSLBSTAT             -->
 00026E 5E10 7018            00018  3396             +
 000272 5010 7018            00018  3397             +
                                    3398     405.
 000276 1B00                        3399     406.     RMSDONE  CLEAR RVR
 000278 981F C008            00008  3404     407.              PEND  ,             All done
 DROP   VSLB,R7
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   REMSPEC,R10
 00027C 9680 C000/0B0E 00000        3429             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   29
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3439     409.     *****************************************************************
                                    3440     410.     *                                                               *
                                    3441     411.     *  REMONE  --  This routine removes a non-specific block of     *
                                    3442     412.     *              virtual storage from a chain of VSLBs.  It will  *
                                    3443     413.     *              only accept blocks which do not cross a page     *
                                    3444     414.     *              boundary.  On entry it is passed the length of   *
                                    3445     415.     *              storage desired and it returns the address of    *
                                    3446     416.     *              a block if one could be found.                   *
                                    3447     417.     *                                                               *
                                    3448     418.     *                                                               *
                                    3449     419.     *   Input  --  REMADDP                                          *
                                    3450     420.     *                                                               *
                                    3451     421.     *  Output  --  RVR = 0 means block found.  Addr in RAPLOC.      *
                                    3452     422.     *                                                               *
                                    3453     423.     *****************************************************************
-000282                             3455     425.     REMONE   PROC  REMADDP,SCOPE=LOCAL
 000282 D9C5D4D6D5C54040            3462             +
 00028A 0010/0000                   3463             +
 00028E 900F D004/18AF       00004  3465             +
 USING  REMONE,R10
 000294 50D0 C000/18CD       00000  3480             +
 00029A 9680 C000      00000        3482             +
 USING  REMADDP-72,R12
 00029E 41D0 C058            00058  3496             +
 0002A2 5870 C048            00000  3497     426.              L     RY,RAPVSLB              Get Q dummy VSLB
 0002A6 1827                        3498     427.              LR    RA,RY
 USING  VSLB,R2                     3499     428.              WITH  (VSLB,RA)
 0002A8 4100 0004            00004  3512     429.              LA    RVR,4                   Set up to fail
                                    3513     430.     *
                                    3514     431.     *  Loop through the VSLB's
                                    3515     432.     *
 0002AC                             3516     433.     ROLOOP   LOOP  BEGIN
 0002AC 5820 2008            00008  3523  1  434.                L     RA,VSLBNEXT             Look at the next one
 0002B0 1927/4770 A02C       002BA  3524  1  435.                IF    (RA,EQ,RY),'EXIT REMONE'
 0002B6 47F0 A09A            00328  3542  1          +
                                    3547  1  436.     *
                                    3548  1  437.     *  A VSLB with sufficient room has been found - check alignment
                                    3549  1  438.     *
 0002BA                             3550  1  439.                IF    (VSLBLEN,GE,RAPLEN),BEGIN
 0002BA D503 2014 C050 00014 00008  3562  1          +
 0002C0 4750 A04E            002DC  3563  1          +
 0002C4 58E0 2010            00010  3568  2  440.                  L     R14,VSLBLOC             Area location
 0002C8 58F0 C050            00008  3569  2  441.                  L     R15,RAPLEN              Length desired
 0002CC 1EFE                        3570  2  442.                  ALR   R15,R14                 End of the area
 0002CE 54E0 A162            003F0  3571  2  443.                  N     R14,=X'7FFFF000'        Starting page
 0002D2 54F0 A162            003F0  3572  2  444.                  N     R15,=X'7FFFF000'        Ending page
 0002D6 19EF/4780 A052       002E0  3573  2  445.                  IF    (R14,EQ,R15),EXIT,ROLOOP
 0002DC                             3591  1  446.                END   ,
 0002DC 47F0 A01E            002AC  3595     447.              END   ,
                                    3600     448.     *
                                    3601     449.     * We have found a location, update its information.
                                    3602     450.     *
 0002E0 9845 2010            00010  3603     451.              LM    RJ,RK,VSLBLOC           Get the location, length
 0002E4 5040 C04C            00004  3604     452.              ST    RJ,RAPLOC               Save the location
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   30
0Current Usings:  (VSLB,R2) (REMONE,R10) (REMADDP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00002E8 5A40 C050            00008  3605     453.              A     RJ,RAPLEN               Adjust the location
 0002EC 5B50 C050            00008  3606     454.              S     RK,RAPLEN               And the remaining length
 0002F0 9045 2010            00010  3607     455.              STM   RJ,RK,VSLBLOC
                                    3608     456.     *
                                    3609     457.     * If this leaves a VSLB High and dry then remove and free it
                                    3610     458.     *
 0002F4 4770 A098            00326  3611     459.              IF    Z,BEGIN                 None left in this VSLB
 0002F8 5810 2008            00008  3622  1  460.                L     RS,VSLBNEXT             Address of the next one
 0002FC D203 100C 200C 0000C 0000C  3623  1  461.                MVC   VSLBPREV-VSLB(4,RS),VSLBPREV
 000302 5810 200C            0000C  3624  1  462.                L     RS,VSLBPREV
 000306 D203 1008 2008 00008 00008  3625  1  463.                MVC   VSLBNEXT-VSLB(4,RS),VSLBNEXT
 USING  GFVSLB-72,R13               3626  1  464.                FVSLB (RA)
 00030C D703 D048 D048 00000 00000  3644  1          +
 000312 5020 D048            00000  3654  1          +
 000316 58F0 A15A/0DEF       003E8  3660  1          +
 USING  VSLB,R7                     3662  1  465.                WITH  (VSLB,RY)               --> One less fragment
 00031C 5810 7018/0610       00018  3675  1  466.                DECR  RS,VSLBSTAT             -->
 000322 5010 7018            00018  3679  1          +
 DROP   VSLB,R7                     3680     467.              END   ,
 000326 1B00                        3689     468.              CLEAR RVR                     Let them know we found it
 000328 981F C008            00008  3693     469.              PEND  ,                       Return it to the caller
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   REMONE,R10
 00032C 9680 C000/0B0E 00000        3713             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   31
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3723     471.     *****************************************************************
                                    3724     472.     *                                                               *
                                    3725     473.     * REMONER  --  This routine does the same as REMONE except that *
                                    3726     474.     *              the storage is allocated from the high addresses *
                                    3727     475.     *              first, i.e. in Reverse.                          *
                                    3728     476.     *                                                               *
                                    3729     477.     *                                                               *
                                    3730     478.     *   Input  --  REMADDP                                          *
                                    3731     479.     *                                                               *
                                    3732     480.     *  Output  --  RVR = 0 means block found.  Addr in RAPLOC.      *
                                    3733     481.     *                                                               *
                                    3734     482.     *****************************************************************
-000332                             3736     484.     REMONER  PROC  REMADDP,SCOPE=LOCAL
 000332 D9C5D4D6D5C5D940            3743             +
 00033A 0010/0000                   3744             +
 00033E 900F D004/18AF       00004  3746             +
 USING  REMONER,R10
 000344 50D0 C000/18CD       00000  3761             +
 00034A 9680 C000      00000        3763             +
 USING  REMADDP-72,R12
 00034E 41D0 C058            00058  3777             +
 000352 5870 C048            00000  3778     485.              L     RY,RAPVSLB              Get Q dummy VSLB
 000356 1827                        3779     486.              LR    RA,RY
 USING  VSLB,R2                     3780     487.              WITH  (VSLB,RA)
 000358 4100 0004            00004  3793     488.              LA    RVR,4                   Set up to fail
                                    3794     489.     *
                                    3795     490.     *  Loop through the VSLB's
                                    3796     491.     *
 00035C                             3797     492.     RORLOOP  LOOP  BEGIN
 00035C 5820 200C            0000C  3804  1  493.                L     RA,VSLBPREV             Look at the prev one
 000360 1927/4770 A02C       0036A  3805  1  494.                IF    (RA,EQ,RY),'EXIT REMONER'
 000366 47F0 A09C            003DA  3823  1          +
                                    3828  1  495.     *
                                    3829  1  496.     *  A VSLB with sufficient room has been found - check alignment
                                    3830  1  497.     *
 00036A                             3831  1  498.                IF    (VSLBLEN,GE,RAPLEN),BEGIN
 00036A D503 2014 C050 00014 00008  3843  1          +
 000370 4750 A050            0038E  3844  1          +
 000374 98EF 2010            00010  3849  2  499.                  LM    R14,R15,VSLBLOC         Area location and length
 000378 1EFE                        3850  2  500.                  ALR   R15,R14                 End of the area
 00037A 18EF                        3851  2  501.                  LR    R14,R15
 00037C 5BE0 C050            00008  3852  2  502.                  S     R14,RAPLEN              Start of allocated area
 000380 54E0 A0B2            003F0  3853  2  503.                  N     R14,=X'7FFFF000'        Starting page
 000384 54F0 A0B2            003F0  3854  2  504.                  N     R15,=X'7FFFF000'        Ending page
 000388 19EF/4780 A054       00392  3855  2  505.                  IF    (R14,EQ,R15),EXIT,RORLOOP
 00038E                             3873  1  506.                END   ,
 00038E 47F0 A01E            0035C  3877     507.              END   ,
                                    3882     508.     *
                                    3883     509.     * We have found a location, update its information.
                                    3884     510.     *
 000392 9845 2010            00010  3885     511.              LM    RJ,RK,VSLBLOC           Get the location, length
 000396 5B50 C050            00008  3886     512.              S     RK,RAPLEN               Adjust the length
 00039A 5050 2014            00014  3887     513.              ST    RK,VSLBLEN              Update the pointer
 00039E 1A45                        3888     514.              AR    RJ,RK                   Find the start of ours
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   32
0Current Usings:  (VSLB,R2) (REMONER,R10) (REMADDP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00003A0 5040 C04C            00004  3889     515.              ST    RJ,RAPLOC               Return the location
                                    3890     516.     *
                                    3891     517.     * If this leaves a VSLB High and dry then remove and free it
                                    3892     518.     *
 0003A4 1255/4770 A09A       003D8  3893     519.              IF    (RK,Z),BEGIN            None left in this VSLB
 0003AA 5810 2008            00008  3907  1  520.                L     RS,VSLBNEXT             Address of the next one
 0003AE D203 100C 200C 0000C 0000C  3908  1  521.                MVC   VSLBPREV-VSLB(4,RS),VSLBPREV
 0003B4 5810 200C            0000C  3909  1  522.                L     RS,VSLBPREV
 0003B8 D203 1008 2008 00008 00008  3910  1  523.                MVC   VSLBNEXT-VSLB(4,RS),VSLBNEXT
 USING  GFVSLB-72,R13               3911  1  524.                FVSLB (RA)
 0003BE D703 D048 D048 00000 00000  3929  1          +
 0003C4 5020 D048            00000  3939  1          +
 0003C8 58F0 A0AA/0DEF       003E8  3945  1          +
 USING  VSLB,R7                     3947  1  525.                WITH  (VSLB,RY)               --> One less fragment
 0003CE 5810 7018/0610       00018  3960  1  526.                DECR  RS,VSLBSTAT             -->
 0003D4 5010 7018            00018  3964  1          +
 DROP   VSLB,R7                     3965     527.              END   ,
 0003D8 1B00                        3974     528.              CLEAR RVR                     Let them know we found it
 0003DA 981F C008            00008  3978     529.              PEND  ,                       Return it to the caller
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   REMONER,R10
 0003DE 9680 C000/0B0E 00000        3998             +
 DROP   GFVSLB-72,R13
-
 0003E8                             4008     531.              LTORG ,
 0003E8 000014D0                    4010                             =A(FREEVSLB)
 0003EC 00001446                    4011                             =A(GETVSLB)
 0003F0 7FFFF000       003F4 01FD6  4012                             =X'7FFFF000'
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   33
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4017     533.     *****************************************************************
                                    4018     534.     *                                                               *
                                    4019     535.     *  CHKSPEC --  This routine verifies that a block of virtual    *
                                    4020     536.     *              storage is in that represented by a chain of     *
                                    4021     537.     *              VSLBS.  It is passed the location and length and *
                                    4022     538.     *              returns a zero if the storage is on that queue   *
                                    4023     539.     *              and non-zero if not.                             *
                                    4024     540.     *                                                               *
                                    4025     541.     *   Input  --  REMADDP                                          *
                                    4026     542.     *                                                               *
                                    4027     543.     *  Output  --  RVR = 0 means storage in queue.                  *
                                    4028     544.     *                                                               *
                                    4029     545.     *****************************************************************
-0003F4                             4031     547.     CHKSPEC  PROC  REMADDP,SCOPE=LOCAL
 0003F4 C3C8D2E2D7C5C340            4038             +
 0003FC 0010/0000                   4039             +
 000400 900F D004/18AF       00004  4041             +
 USING  CHKSPEC,R10
 000406 50D0 C000/18CD       00000  4056             +
 00040C 9680 C000      00000        4058             +
 USING  REMADDP-72,R12
 000410 41D0 C058            00058  4072             +
 000414 5870 C048            00000  4073     548.              L     RY,RAPVSLB              Get Q dummy VSLB
 000418 1827                        4074     549.              LR    RA,RY
 USING  VSLB,R2                     4075     550.              WITH  (VSLB,RA)
 00041A 4100 0004            00004  4088     551.              LA    RVR,4                   Set up to fail
 00041E                             4089     552.              LOOP  BEGIN
 00041E 5820 200C            0000C  4095  1  553.                L     RA,VSLBPREV             Look at the prev one
 000422 1927/4770 A02C       0042C  4096  1  554.                IF    (RA,EQ,RY),'EXIT CHKSPEC'
 000428 47F0 A056            00456  4114  1          +
 00042C                             4119  1  555.                IF    (VSLBLOC,LE,RAPLOC),EXIT
 00042C D503 2010 C04C 00010 00004  4131  1          +
 000432 47C0 A03A            0043A  4134  1          +
 000436 47F0 A01E            0041E  4140     556.              END   ,
                                    4145     557.     *
                                    4146     558.     * See if the block we found contains the one we want
                                    4147     559.     *
 00043A 5840 C04C            00004  4148     560.              L     RJ,RAPLOC
 00043E 5A40 C050            00008  4149     561.              A     RJ,RAPLEN               Ending addr of block +1
 000442 5850 2010            00010  4150     562.              L     RK,VSLBLOC
 000446 5A50 2014            00014  4151     563.              A     RK,VSLBLEN              Ending of VSLB +1
 00044A 1945/47D0 A054       00454  4152     564.              IF    (RJ,GT,RK),'EXIT CHKSPEC'
 000450 47F0 A056            00456  4170             +
                                    4175     565.
 000454 1B00                        4176     566.              CLEAR RVR                     It must be in this one
 000456 981F C008            00008  4180     567.              PEND  ,             All done
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   CHKSPEC,R10
 00045A 9680 C000/0B0E 00000        4200             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   34
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4207     569.     *****************************************************************
                                    4208     570.     *                                                               *
                                    4209     571.     *  ADDSPEC --  This routine adds a specific block of virtual    *
                                    4210     572.     *              storage to a chain of VSLBs.  It is passed the   *
                                    4211     573.     *              location and length.                             *
                                    4212     574.     *                                                               *
                                    4213     575.     *   Input  --  REMADDP                                          *
                                    4214     576.     *                                                               *
                                    4215     577.     *  Output  --  RVR contains the VSLB of the added segment       *
                                    4216     578.     *                                                               *
                                    4217     579.     *****************************************************************
-000460                             4219     581.     ADDSPEC  PROC  REMADDP,SCOPE=LOCAL
 000460 C1C4C4E2D7C5C340            4226             +
 000468 0010/0000                   4227             +
 00046C 900F D004/18AF       00004  4229             +
 USING  ADDSPEC,R10
 000472 50D0 C000/18CD       00000  4244             +
 000478 9680 C000      00000        4246             +
 USING  REMADDP-72,R12
 00047C 41D0 C058            00058  4260             +
 000480 5820 C048            00000  4261     582.              L     RA,RAPVSLB              Get Q dummy VSLB
 USING  VSLB,R2                     4262     583.              WITH  (VSLB,RA)
 000484 5880 2004            00004  4275     584.              L     RM,VSLBOWNR             -->
 000488 5880 8038            00038  4276     585.              WITH  (VSCT,RM),'L RM,VSCTSTAT'
 USING  VSCT,R8
 DROP   VSCT,R8
 00048C 1288/4780 A032       0049E  4300     586.              IF    (RM,NZ),BEGIN           -->
 USING  VMSTAT,R8                   4314  1  587.                WITH  (VMSTAT,RM)
 000492 4110 0001            00001  4327  1  588.                INCR  RS,VHADDSPEC
 000496 5E10 8010            00010  4331  1          +
 00049A 5010 8010            00010  4332  1          +
 DROP   VMSTAT,R8                   4333     589.              END   ,                       -->
                                    4342     590.     *
                                    4343     591.     * First find where in the queue the block should go
                                    4344     592.     *
 00049E                             4345     593.              LOOP  BEGIN
 00049E 5820 200C            0000C  4351  1  594.                L     RA,VSLBPREV             Get next smallest
 0004A2                             4352     595.              UNTIL (VSLBLOC,LT,RAPLOC),END Find the insert point
 0004A2 D503 2010 C04C 00010 00004  4369             +
 0004A8 47B0 A032            0049E  4372             +
                                    4378     596.     *
                                    4379     597.     * Our block goes before the one we found.  See if they are abutting.
                                    4380     598.     *
 0004AC 9845 2010            00010  4381     599.              LM    RJ,RK,VSLBLOC           Get the location and length
 0004B0 1A45                        4382     600.              AR    RJ,RK                   Get the ending addr of block
 0004B2 5940 C04C            00004  4383     601.              IF    (RJ,EQ,RAPLOC),BEGIN    They abut
 0004B6 4770 A09E            0050A  4395             +
 0004BA 5A50 C050            00008  4400  1  602.                A     RK,RAPLEN               Get the total length
 0004BE 5050 2014            00014  4401  1  603.                ST    RK,VSLBLEN              Update the VSLB
                                    4402  1  604.     *
                                    4403  1  605.     * See if the end abuts the next block in storage
                                    4404  1  606.     *
 0004C2 5A40 C050            00008  4405  1  607.                A     RJ,RAPLEN               Get addr of the end
 0004C6 5810 2008            00008  4406  1  608.                L     RS,VSLBNEXT             Look at the next higher addr
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   35
0Current Usings:  (VSLB,R2) (ADDSPEC,R10) (REMADDP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00004CA 5940 1010            00010  4407  1  609.                C     RJ,VSLBLOC-VSLB(,RS)    Do they abut?
 0004CE 4770 A098            00504  4408  1  610.                IF    EQ,BEGIN                Yes.
 0004D2 5A50 1014            00014  4419  2  611.                  A     RK,VSLBLEN-VSLB(,RS)    Collapse that block too.
 0004D6 5050 2014            00014  4420  2  612.                  ST    RK,VSLBLEN              Update the VSLB
 0004DA 5830 1008            00008  4421  2  613.                  L     RB,VSLBNEXT-VSLB(,RS)   Get the one after that
 0004DE 5030 2008            00008  4422  2  614.                  ST    RB,VSLBNEXT             Ours points at that
 0004E2 5020 300C            0000C  4423  2  615.                  ST    RA,VSLBPREV-VSLB(,RB)   And his points at us
 USING  GFVSLB-72,R13               4424  2  616.                  FVSLB (RS)                    Free the one we don't need
 0004E6 D703 D048 D048 00000 00000  4442  2          +
 0004EC 5010 D048            00000  4452  2          +
 0004F0 58F0 A89C/0DEF       00D08  4458  2          +
 0004F6 5870 C048            00000  4460  2  617.                  L     RY,RAPVSLB              -->
 USING  VSLB,R7                     4461  2  618.                  WITH  (VSLB,RY)               --> One less fragment
 0004FA 5810 7018/0610       00018  4474  2  619.                  DECR  RS,VSLBSTAT             -->
 000500 5010 7018            00018  4478  2          +
 DROP   VSLB,R7                     4479  1  620.                END   ,
 000504 1802                        4488  1  621.                LR    RVR,RA                  Return ptr to inserted one
 000506 47F0 A112            0057E  4489  1  622.                EXIT  ADDSPEC                 Then we're all done
 00050A                             4492     623.              END   ,
                                    4496     624.     *
                                    4497     625.     * See if it abuts the block following
                                    4498     626.     *
 00050A 5820 2008            00008  4499     627.              L     RA,VSLBNEXT             Look at the block following
 00050E 5830 C04C            00004  4500     628.              L     RB,RAPLOC
 000512 5A30 C050            00008  4501     629.              A     RB,RAPLEN               Get the ending address
 000516 5930 2010            00010  4502     630.              IF    (RB,EQ,VSLBLOC),BEGIN   They abut
 00051A 4770 A0CA            00536  4514             +
 00051E D203 2010 C04C 00010 00004  4519  1  631.                MVC   VSLBLOC,RAPLOC
 000524 5830 2014            00014  4520  1  632.                L     RB,VSLBLEN
 000528 5A30 C050            00008  4521  1  633.                A     RB,RAPLEN
 00052C 5030 2014            00014  4522  1  634.                ST    RB,VSLBLEN              Update the VSLB
 000530 1802                        4523  1  635.                LR    RVR,RA                  Return ptr to inserted one
 000532 47F0 A112            0057E  4524  1  636.                EXIT  ADDSPEC
 000536                             4527     637.              END   ,
                                    4531     638.     *
                                    4532     639.     * It cannot be congealed with any other blocks so we must
                                    4533     640.     * allocate a new VSLB and put it on the queue
                                    4534     641.     *
 000536                             4535     642.              GVSLB L:VSLBOWNR              Get the new VSLB
 000536 D703 D048 D048 00000 00000  4546             +
 00053C D203 D048 2004 00000 00004  4551             +
 000542 58F0 A8A0/0DEF       00D0C  4557             +
 000548 1862                        4559     643.              LR    RX,RA                   Address of the next one
 00054A 1820                        4560     644.              LR    RA,RVR                  Address of the new one
 00054C D203 2010 C04C 00010 00004  4561     645.              MVC   VSLBLOC,RAPLOC
 000552 D203 2014 C050 00014 00008  4562     646.              MVC   VSLBLEN,RAPLEN
 000558 5060 2008            00008  4563     647.              ST    RX,VSLBNEXT             Pointer to the next one
 00055C 5830 600C            0000C  4564     648.              L     RB,VSLBPREV-VSLB(,RX)   Address of the previous
 000560 5030 200C            0000C  4565     649.              ST    RB,VSLBPREV             Pointer to the previous
 000564 5020 3008            00008  4566     650.              ST    RA,VSLBNEXT-VSLB(,RB)   Prev pointer to new
 000568 5020 600C            0000C  4567     651.              ST    RA,VSLBPREV-VSLB(,RX)   Next pointer to new
 00056C 1802                        4568     652.              LR    RVR,RA                  Return ptr to inserted one
                                    4569     653.
 00056E 5870 C048            00000  4570     654.              L     RY,RAPVSLB              -->
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   36
0Current Usings:  (VSLB,R2) (VSLB,R7) (ADDSPEC,R10) (REMADDP-72,R12) (GFVSLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  VSLB,R7                     4571     655.              WITH  (VSLB,RY)               --> One more fragment
 000572 4110 0001            00001  4584     656.              INCR  RS,VSLBSTAT             -->
 000576 5E10 7018            00018  4588             +
 00057A 5010 7018            00018  4589             +
                                    4590     657.
 00057E 981F C008            00008  4591     658.              PEND  ,             All done
 DROP   VSLB,R7
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   ADDSPEC,R10
 000582 9680 C000/0B0E 00000        4616             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   37
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4626     660.     *****************************************************************
                                    4627     661.     *                                                               *
                                    4628     662.     *  REMPAGE --  This routine removes integral pages from the     *
                                    4629     663.     *              VLSB segment passed as a parameter.              *
                                    4630     664.     *              It removes sections over one and an              *
                                    4631     665.     *              integral number of pages long.  It returns the   *
                                    4632     666.     *              location and length removed in the parm area     *
                                    4633     667.     *              passed.  RVR indicates whether an area was found.*
                                    4634     668.     *                                                               *
                                    4635     669.     *   Input  --  REMADDP                                          *
                                    4636     670.     *                                                               *
                                    4637     671.     *  Output  --  RVR  = 0 : An area was found to remove.          *
                                    4638     672.     *              RVR ~= 0 : No area was found to remove.          *
                                    4639     673.     *                                                               *
                                    4640     674.     *****************************************************************
-000588                             4642     676.     REMPAGE  PROC  REMADDP,SCOPE=LOCAL
 000588 D9C5D4D7C1C7C540            4649             +
 000590 0010/0000                   4650             +
 000594 900F D004/18AF       00004  4652             +
 USING  REMPAGE,R10
 00059A 50D0 C000/18CD       00000  4667             +
 0005A0 9680 C000      00000        4669             +
 USING  REMADDP-72,R12
 0005A4 41D0 C058            00058  4683             +
 0005A8 5870 C048            00000  4684     677.              L     RY,RAPVSLB              Get Q dummy VSLB
 0005AC 1827                        4685     678.              LR    RA,RY
 USING  VSLB,R2                     4686     679.              WITH  (VSLB,RA)
 0005AE 5880 2004            00004  4699     680.              L     RM,VSLBOWNR             -->
 0005B2 5880 8038            00038  4700     681.              WITH  (VSCT,RM),'L RM,VSCTSTAT'
 USING  VSCT,R8
 DROP   VSCT,R8
 0005B6 1288/4780 A034       005C8  4724     682.              IF    (RM,NZ),BEGIN           -->
 USING  VMSTAT,R8                   4738  1  683.                WITH  (VMSTAT,RM)
 0005BC 4110 0001            00001  4751  1  684.                INCR  RS,VHREMPAGE
 0005C0 5E10 801C            0001C  4755  1          +
 0005C4 5010 801C            0001C  4756  1          +
 DROP   VMSTAT,R8                   4757     685.              END   ,                       -->
 0005C8 4100 0004            00004  4766     686.              LA    RVR,4                   Set up to fail
                                    4767     687.     *
                                    4768     688.     * Check to see if this is our dream spot
                                    4769     689.     *
 0005CC 5820 C054            0000C  4770     690.              L     RA,RAPSPEC              Here's the one to free
 0005D0                             4771     691.              IF    (VSLBLEN,LT,4096),EXIT  Not big enough
 0005D0 D503 A77C 2014 00D10 00014  4783             +
 0005D6 4720 A10E            006A2  4786             +
 0005DA 5840 2010            00010  4792     692.              L     RJ,VSLBLOC
 0005DE 1854                        4793     693.              LR    RK,RJ
 0005E0 4A40 A7C8            00D5C  4794     694.              AH    RJ,=H'4095'
 0005E4 5440 A780            00D14  4795     695.              N     RJ,=F'-4096'            Round to nearest page
 0005E8 1B54                        4796     696.              SR    RK,RJ                   Get neg of difference
 0005EA 5A50 2014            00014  4797     697.              A     RK,VSLBLEN              Storage left after the shift
 0005EE 5450 A780            00D14  4798     698.              N     RK,=F'-4096'            Round down to even pages
 0005F2 4780 A10E            006A2  4799     699.              IF    ZERO,EXIT               Not big enough
                                    4813     700.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   38
0Current Usings:  (VSLB,R2) (REMPAGE,R10) (REMADDP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4814     701.     * We have the stuff we want remove it from the queue
                                    4815     702.     *
 0005F6 9045 C04C            00004  4816     703.              STM   RJ,RK,RAPLOC            Save the location/length
 0005FA 1A45                        4817     704.              AR    RJ,RK                   Ending addr of block +1
 0005FC 5850 2010            00010  4818     705.              L     RK,VSLBLOC
 000600 5A50 2014            00014  4819     706.              A     RK,VSLBLEN              Ending of VSLB +1
                                    4820     707.     *
                                    4821     708.     * If the heads coincide, just update the VSLB
                                    4822     709.     *
 000604                             4823     710.              IF    (VSLBLOC,EQ,RAPLOC),BEGIN
 000604 D503 2010 C04C 00010 00004  4835             +
 00060A 4770 A0BA            0064E  4836             +
 00060E 5040 2010            00010  4841  1  711.                ST    RJ,VSLBLOC              Update the VSLB location
 000612 1B54                        4842  1  712.                SR    RK,RJ                   Length of the VSLB area
 000614 5050 2014            00014  4843  1  713.                ST    RK,VSLBLEN              Update the VSLB
 000618 4770 A0B6            0064A  4844  1  714.                IF    Z,BEGIN                 This is the whole thing
 00061C 5810 2008            00008  4855  2  715.                  L     RS,VSLBNEXT             Address of the next one
 000620 D203 100C 200C 0000C 0000C  4856  2  716.                  MVC   VSLBPREV-VSLB(4,RS),VSLBPREV
 000626 5810 200C            0000C  4857  2  717.                  L     RS,VSLBPREV
 00062A D203 1008 2008 00008 00008  4858  2  718.                  MVC   VSLBNEXT-VSLB(4,RS),VSLBNEXT
 USING  GFVSLB-72,R13               4859  2  719.                  FVSLB (RA)
 000630 D703 D048 D048 00000 00000  4877  2          +
 000636 5020 D048            00000  4887  2          +
 00063A 58F0 A774/0DEF       00D08  4893  2          +
 USING  VSLB,R7                     4895  2  720.                  WITH  (VSLB,RY)               --> One less fragment
 000640 5810 7018/0610       00018  4908  2  721.                  DECR  RS,VSLBSTAT             -->
 000646 5010 7018            00018  4912  2          +
 DROP   VSLB,R7                     4913  1  722.                END   ,
 00064A 47F0 A10C            006A0  4922  1  723.                B     RMPDONE                 All done
 00064E                             4923     724.              END   ,
                                    4927     725.     *
                                    4928     726.     * Update the head buffer.
                                    4929     727.     *
 00064E 5810 C04C            00004  4930     728.              L     RS,RAPLOC               Where the new one starts
 000652 5B10 2010            00010  4931     729.              S     RS,VSLBLOC              Where the old one starts
 000656 5010 2014            00014  4932     730.              ST    RS,VSLBLEN              Gives the length
                                    4933     731.     *
                                    4934     732.     * If the tails coincide we are done at this point
                                    4935     733.     *
 00065A 1945/4780 A10C       006A0  4936     734.              IF    (RJ,EQ,RK),RMPDONE
                                    4954     735.     *
                                    4955     736.     * If not, we must add a VSLB for the tail buffer
                                    4956     737.     *
 000660                             4957     738.              GVSLB L:VSLBOWNR              Get a new VSLB
 000660 D703 D048 D048 00000 00000  4968             +
 000666 D203 D048 2004 00000 00004  4973             +
 00066C 58F0 A778/0DEF       00D0C  4979             +
 000672 1862                        4981     739.              LR    RX,RA                   Address of the old one
 000674 5810 2008            00008  4982     740.              L     RS,VSLBNEXT             Address of the next one
 000678 1820                        4983     741.              LR    RA,RVR                  Address of the new one
                                    4984     742.     *
                                    4985     743.     * Fill in the new VSLB
                                    4986     744.     *
 00067A 5040 2010            00010  4987     745.              ST    RJ,VSLBLOC              Storage area location
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   39
0Current Usings:  (VSLB,R2) (REMPAGE,R10) (REMADDP-72,R12) (GFVSLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000067E 1B54                        4988     746.              SR    RK,RJ                   Get the length of the area
 000680 5050 2014            00014  4989     747.              ST    RK,VSLBLEN              And save that
 000684 5010 2008            00008  4990     748.              ST    RS,VSLBNEXT             Next pointer
 000688 5060 200C            0000C  4991     749.              ST    RX,VSLBPREV             Previous pointer
 00068C 5020 6008            00008  4992     750.              ST    RA,VSLBNEXT-VSLB(,RX)   Make prev point to this one
 000690 5020 100C            0000C  4993     751.              ST    RA,VSLBPREV-VSLB(,RS)   and the next point to it too
                                    4994     752.
 USING  VSLB,R7                     4995     753.              WITH  (VSLB,RY)               --> One more fragment
 000694 4110 0001            00001  5008     754.              INCR  RS,VSLBSTAT             -->
 000698 5E10 7018            00018  5012             +
 00069C 5010 7018            00018  5013             +
                                    5014     755.
 0006A0 1B00                        5015     756.     RMPDONE  CLEAR RVR
 0006A2 981F C008            00008  5020     757.              PEND  ,             All done
 DROP   VSLB,R7
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   REMPAGE,R10
 0006A6 9680 C000/0B0E 00000        5045             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   40
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5055     759.     *****************************************************************
                                    5056     760.     *                                                               *
                                    5057     761.     *  FINDMAX --  This routine finds the largest block of virtual  *
                                    5058     762.     *              storage in the chain of VSLBs.  It returns the   *
                                    5059     763.     *              location and length of the storage.              *
                                    5060     764.     *                                                               *
                                    5061     765.     *   Input  --  REMADDP                                          *
                                    5062     766.     *                                                               *
                                    5063     767.     *  Output  --  REMADDP updated.                                 *
                                    5064     768.     *                                                               *
                                    5065     769.     *****************************************************************
-0006AC                             5067     771.     FINDMAX  PROC  REMADDP,SCOPE=LOCAL
 0006AC C6C9D5C4D4C1E740            5074             +
 0006B4 0010/0000                   5075             +
 0006B8 900F D004/18AF       00004  5077             +
 USING  FINDMAX,R10
 0006BE 50D0 C000/18CD       00000  5092             +
 0006C4 9680 C000      00000        5094             +
 USING  REMADDP-72,R12
 0006C8 41D0 C058            00058  5108             +
 0006CC 5870 C048            00000  5109     772.              L     RY,RAPVSLB              Get Q dummy VSLB
 0006D0                             5110     773.              CLEAR RAPLOC
 0006D0 D703 C04C C04C 00004 00004  5116             +
 0006D6                             5117     774.              CLEAR RAPLEN                  Clear the values
 0006D6 D703 C050 C050 00008 00008  5123             +
 0006DC 1827                        5124     775.              LR    RA,RY
 USING  VSLB,R2                     5125     776.              WITH  (VSLB,RA)
 0006DE                             5138     777.              LOOP  BEGIN
 0006DE 5820 200C            0000C  5144  1  778.                L     RA,VSLBPREV             Look at the prev one
 0006E2 1927/4770 A034       006EC  5145  1  779.                IF    (RA,EQ,RY),'EXIT FINDMAX'    out of VSLBs
 0006E8 47F0 A050            00708  5163  1          +
 0006EC                             5168  1  780.                IF    (VSLBLEN,GT,RAPLEN),BEGIN
 0006EC D503 2014 C050 00014 00008  5180  1          +
 0006F2 47D0 A04A            00702  5181  1          +
 0006F6 D203 C050 2014 00008 00014  5186  2  781.                  MVC   RAPLEN,VSLBLEN
 0006FC D203 C04C 2010 00004 00010  5187  2  782.                  MVC   RAPLOC,VSLBLOC          Save this one
 000702                             5188  1  783.                END   ,
 000702 47F0 A026            006DE  5192     784.              END   ,
 000706 1B00                        5197     785.              CLEAR RVR                     Return what we have.
 000708 981F C008            00008  5201     786.              PEND  ,             All done
 DROP   VSLB,R2
 DROP   REMADDP-72,R12
 DROP   FINDMAX,R10
 00070C 9680 C000/0B0E 00000        5221             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   41
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5228     788.     *****************************************************************
                                    5229     789.     *                                                               *
                                    5230     790.     *   VMGET  --  This routine gets a block of virtual memory of   *
                                    5231     791.     *              the reqested size out of the requested pool. It  *
                                    5232     792.     *              returns the address of the storage in RVR.       *
                                    5233     793.     *                                                               *
                                    5234     794.     *   Input  --  @VMGET                                           *
                                    5235     795.     *                                                               *
                                    5236     796.     *  Output  --  Storage block address in RVR                     *
                                    5237     797.     *                                                               *
                                    5238     798.     *****************************************************************
-000712                             5240     800.     VMGET    PROC  @VMGET,SCOPE=GLOBAL
 000712 E5D4C7C5E3404040            5246             +
 00071A 0010/0000                   5247             +
 00071E 900F D004/18AF       00004  5249             +
 USING  VMGET,R10
 000724 50D0 C000/18CD       00000  5264             +
 00072A 9680 C000      00000        5266             +
 USING  @VMGET-72,R12
 00072E 41D0 C058            00058  5280             +
                                    5281     801.     *
                                    5282     802.     * Determine whether the requested pool is local or global and get
                                    5283     803.     * the address of the correct VSCT
                                    5284     804.     *
 000732 9120 C050      00008        5285     805.              TM    @VMGPOOL,PNGLOBAL       Check the global bit in pool
 000736 47E0 A028            00746  5286     806.              IF    ON,BEGIN                Global pool
 USING  PZERO,R0                    5297  1  807.                USING PZERO,R0
 00073A 5810 0200            00200  5306  1  808.                L     RS,PZMATP               Get the mat pointer
 DROP   PZERO,R0                    5307  1  809.                DROP  R0
 00073E 5810 1004            00004  5315  1  810.                WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 000742 5870 1028            00028  5339  1  811.                WITH  (VMCB,RS),'L RY,VMCBGVS'
 USING  VMCB,R1
 DROP   VMCB,R1
 000746 A02C           00746 00738  5363     812.              END   ELSE,BEGIN              Local pool
 000746 47F0 A034            00752  5372             +
 USING  PZERO,R0                    5378  1  813.                USING PZERO,R0
 00074A 5810 0208            00208  5387  1  814.                L     RS,PZCURASB             Get the current ASB
 DROP   PZERO,R0                    5388  1  815.                DROP  R0
 00074E 5870 1018            00018  5396  1  816.                WITH  (ASB,RS),'L RY,ASBVSCT' Get the local one
 USING  ASB,R1
 DROP   ASB,R1
 000752                             5420     817.              END   ,
 USING  VSCT,R7                     5424     818.              WITH  (VSCT,RY)
 000752 5880 7038/1288       00038  5437     819.              IF    ('LT RM,VSCTSTAT',NZ),BEGIN      -->
 000758 4780 A072            00790  5448             +
 USING  VMSTAT,R8                   5453  1  820.                WITH  (VMSTAT,RM)
 00075C 4110 0001            00001  5466  1  821.                INCR  RS,VHGET
 000760 5E10 8000            00000  5470  1          +
 000764 5010 8000            00000  5471  1          +
 000768 5890 C048            00000  5472  1  822.                L     RN,@VMGLEN
 00076C 8890 0005            00005  5473  1  823.                SRL   RN,5                    multiples of 32
 000770 8990 0002            00002  5474  1  824.                SLL   RN,2
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   42
0Current Usings:  (VSCT,R7) (VMSTAT,R8) (VMGET,R10) (@VMGET-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000774 5990 A5FA            00D18  5475  1  825.                CEIL  RN,=A(MXHIST)
 000778 47D0 A062            00780  5478  1          +
 00077C 5890 A5FA            00D18  5479  1          +
 000780 5819 8020            00020  5480  1  826.                L     RS,VHHIST(RN)           one more for histogram
 000784 5E10 A5FE            00D1C  5481  1  827.                INCR  RS
 000788 5019 8020            00020  5484  1  828.                ST    RS,VHHIST(RN)
 00078C 4D90 AA28            01146  5485  1  829.                BAS   RN,VGRTNLOG             --> log caller
 DROP   VMSTAT,R8                   5486     830.              END   ,                                -->
                                    5495     831.     *
                                    5496     832.     * Check out the pool number
                                    5497     833.     *
 000790 953F C050      00008        5498     834.              CLI   @VMGPOOL,MAXPOOL        Is the pool number too big
 000794 47D0 A080            0079E  5499     835.              IF    HIGH,BEGIN              Pool too big
 000798 1B00                        5510  1  836.                CLEAR RVR
 00079A 47F0 A2D4            009F2  5514  1  837.                B     VMGEXIT             Signal the lack of storage
 00079E                             5515     838.              END   ,
                                    5519     839.     *
                                    5520     840.     * Lock up the VSCT
                                    5521     841.     *
 00079E 9620 7004      00004        5522     842.              SET   VSCTLKRQ            Indicate VCALL for a lock
 0007A2 9180 7004      00004        5528     843.              IF    ~VSCTGLOB,'VCALL ASLOCK'
 0007A6 4710 A092            007B0  5538             +
 0007AA 58F0 A602/0DEF       00D20  5546             +
 0007B0 A096           007B0 007A8  5552     844.              ELSE  BEGIN
 0007B0 47F0 A0AA            007C8  5557             +
 0007B4 5810 7008/1211       00008  5563  1  845.                LT    RS,VSCTLOCK             Lock id
 0007BA 4780 A0AA            007C8  5567  1  846.                IF    NZ,'LKOB (RS)'          Obtain it if it exists
 USING  @LOCKS-72,R13
 0007BE 5010 D048            00000  5600  2          +
 0007C2 58F0 A606/0DEF       00D24  5603  1          +
 0007C8                             5609     847.              END   ,
 0007C8 94DF 7004      00004        5613     848.              CLEAR VSCTLKRQ            No longer in obtain lock code
 0007CC                             5620     849.     VMGLOCK  BEGIN                         Locked area in its own block
                                    5625  1  850.     *
                                    5626  1  851.     * Now we look for the SPCB
                                    5627  1  852.     *
 0007CC 5860 7020            00020  5628  1  853.                L     RX,VSCTPOOL             Get the first one
 USING  SPCB,R6                     5629  1  854.                WITH  (SPCB,RX)
 0007D0                             5642  1  855.                WHILE (SPCBPOOL,NE,@VMGPOOL),BEGIN
 0007D0 D501 600C C050 0000C 00008  5655  1          +
 0007D6 4780 A0E2            00800  5656  1          +
 0007DA 5860 6004/1266       00004  5661  2  856.                  LT    RX,SPCBNEXT
                                    5665  2  857.     *
                                    5666  2  858.     * If there is no pool... we have to make one up
                                    5667  2  859.     *
 0007E0 4770 A0DE            007FC  5668  2  860.                  IF    Z,BEGIN
 DROP   @LOCKS-72,R13               5679  3  861.                    PSET  NEWPOOLP
 USING  NEWPOOLP-72,R13
 0007E4 D705 D048 D048 00000 00000  5699  3          +
 0007EA 5070 D048            00000  5700  3  862.                    ST    RY,NEWPVSCT             VSCT Address
 0007EE D201 D04C C050 00004 00008  5701  3  863.                    MVC   NEWPPOOL,@VMGPOOL       Pool number
 0007F4 58F0 A60A/0DEF       00D28  5702  3  864.                    ACALL NEWPOOL                 Create the pool
 0007FA 1860                        5709  3  865.                    LR    RX,RVR                  This is its SPCB
 0007FC                             5710  2  866.                  END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   43
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGET,R10) (@VMGET-72,R12) (NEWPOOLP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00007FC 47F0 A0B2            007D0  5714  1  867.                END   ,
                                    5719  1  868.     *
                                    5720  1  869.     * Round the Amount of storage he is requesting up to the nearest
                                    5721  1  870.     * eight byte boundary
                                    5722  1  871.     *
 000800 5810 C048            00000  5723  1  872.                L     RS,@VMGLEN
 000804 4A10 A640            00D5E  5724  1  873.                AH    RS,=Y(VMAL-1)
 000808 5410 A60E            00D2C  5725  1  874.                N     RS,=A(VMALIGN)
 00080C 4770 A0F8            00816  5726  1  875.                IF    Z,BEGIN
 000810 1B00                        5737  2  876.                  CLEAR RVR
 000812 47F0 A290            009AE  5741  2  877.                  EXIT  VMGLOCK                 He doesn't want any
 000816                             5744  1  878.                END   ,
 000816 5010 C048            00000  5748  1  879.                ST    RS,@VMGLEN              Update the parm value
                                    5749  1  880.     *
                                    5750  1  881.     * Is his request for more than a page?  If so we don't even bother
                                    5751  1  882.     * looking in the pool for it.  We just go directly to the free
                                    5752  1  883.     * space pointers to find enough memory.
                                    5753  1  884.     *
 00081A 5910 A612            00D30  5754  1  885.                IF    (RS,GE,4096),NOTPOOLD   We need fresh stuff
 00081E 47A0 A16E            0088C  5768  1          +
 000822 9180 C052      0000A        5774  1  886.                IF    @VMGPAGE,NOTPOOLD       Page aligned
 000826 4710 A16E            0088C  5786  1          +
                                    5792  1  887.     *
                                    5793  1  888.     * Look through the free blocks to find one that is big enough.
                                    5794  1  889.     *
 DROP   NEWPOOLP-72,R13             5795  1  890.                PSET  REMADDP,CLEAR=NO        Common data area
 USING  REMADDP-72,R13
 00082A D203 D048 6018 00000 00018  5809  1  891.                MVC   RAPVSLB,SPCBFVSL        Free memory head
 000830 D203 D050 C048 00008 00000  5810  1  892.                MVC   RAPLEN,@VMGLEN          Length of memory desired
 000836 9140 C052      0000A        5811  1  893.                IF    @VMGONEP,BEGIN
 00083A 47E0 A138            00856  5821  1          +
 00083E 9101 600C      0000C        5826  2  894.                  IF    SPCBBACK,'ACALL REMONER'
 000842 47E0 A12E            0084C  5836  2          +
 000846 58F0 A616/0DEF       00D34  5847  2          +
 00084C A132           0084C 00844  5853  2  895.                  ELSE  'ACALL REMONE'
 00084C 47F0 A138            00856  5858  2          +
 000850 58F0 A61A/0DEF       00D38  5870  2          +
 000856                             5876  1  896.                END
 000856 A13C           00856 0083C  5880  1  897.                ELSE  BEGIN
 000856 47F0 A154            00872  5885  1          +
 00085A 9101 600C      0000C        5891  2  898.                  IF    SPCBBACK,'ACALL REMANYR'
 00085E 47E0 A14A            00868  5901  2          +
 000862 58F0 A61E/0DEF       00D3C  5912  2          +
 000868 A14E           00868 00860  5918  2  899.                  ELSE  'ACALL REMANY'
 000868 47F0 A154            00872  5923  2          +
 00086C 58F0 A622/0DEF       00D40  5935  2          +
 000872                             5941  1  900.                END
                                    5945  1  901.     *
                                    5946  1  902.     * See if we actually got something
                                    5947  1  903.     *
 000872 1200/4770 A16E       0088C  5948  1  904.                IF    (RVR,Z),BEGIN           We actually got something
 000878 D203 D048 6014 00000 00014  5962  2  905.                  MVC   RAPVSLB,SPCBUVSL        Mark the space as allocated
 00087E 58F0 A626/0DEF       00D44  5963  2  906.                  ACALL ADDSPEC                 By adding it to the res q
 000884 5800 D04C            00004  5970  2  907.                  L     RVR,RAPLOC              Get the location of the data
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   44
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGET,R10) (@VMGET-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000888 47F0 A290            009AE  5971  2  908.                  EXIT  VMGLOCK                 Then return to the caller
 00088C                             5974  1  909.                END   ,
                                    5978  1  910.     *
                                    5979  1  911.     * For one reason or another, we must allocate new pages for the
                                    5980  1  912.     * storage requested.
                                    5981  1  913.     *
 00088C                             5982  1  914.     NOTPOOLD   LABEL ,
                                    5984  1  915.                PSET  REMADDP,CLEAR=NO
 00088C 5820 C048            00000  5988  1  916.                L     RA,@VMGLEN              Get the length desired
 000890 4A20 A63E            00D5C  5989  1  917.                AH    RA,=H'4095'             Round up
 000894 5420 A5F6            00D14  5990  1  918.                N     RA,=F'-4096'            And to the even page
 000898 5020 D050            00008  5991  1  919.                ST    RA,RAPLEN               This is how much we need
 00089C D203 D048 6010 00000 00010  5992  1  920.                MVC   RAPVSLB,SPCBVSRB        Move in the dummy VSLB addr
 0008A2 9101 600C      0000C        5993  1  921.                IF    SPCBBACK,'ACALL REMANYR'
 0008A6 47E0 A192            008B0  6003  1          +
 0008AA 58F0 A61E/0DEF       00D3C  6014  1          +
 0008B0 A196           008B0 008A8  6020  1  922.                ELSE  'ACALL REMANY'
 0008B0 47F0 A19C            008BA  6025  1          +
 0008B4 58F0 A622/0DEF       00D40  6037  1          +
                                    6043  1  923.     *
                                    6044  1  924.     * Did we get it?
                                    6045  1  925.     *
 0008BA 1200/4780 A1A8       008C6  6046  1  926.                IF    (RVR,NZ),BEGIN          No memory left fella
 0008C0 1B00                        6060  2  927.                  CLEAR RVR
 0008C2 47F0 A290            009AE  6064  2  928.                  EXIT  VMGLOCK
 0008C6                             6067  1  929.                END   ,
                                    6071  1  930.     *
                                    6072  1  931.     * Call the paging supervisor to define the virtual memory location.
                                    6073  1  932.     *
 0008C6 9845 D04C            00004  6074  1  933.                LM    RJ,RK,RAPLOC            Get the location and length
 DROP   REMADDP-72,R13              6075  1  934.                PSET  @PAGDEF
 USING  @PAGDEF-72,R13
 0008CA D709 D048 D048 00000 00000  6095  1          +
 0008D0 9045 D048            00000  6096  1  935.                STM   RJ,RK,@PDADDR           Save the location/length
 0008D4 9120 600C      0000C        6097  1  936.                IF    SPCBGLOB,'SET @PDFGLOB'
 0008D8 47E0 A1C2            008E0  6107  1          +
 0008DC 9680 D051      00009        6118  1          +
 0008E0 9102 600C      0000C        6123  1  937.                IF    SPCBSYS,'MVC @PDKEY,VSCTSKEY'
 0008E4 47E0 A1D0            008EE  6133  1          +
 0008E8 D200 D050 702C 00008 0002C  6139  1          +
 0008EE A1D4           008EE 008E6  6144  1  938.                ELSE  'MVC @PDKEY,VSCTUKEY'
 0008EE 47F0 A1DA            008F8  6149  1          +
 0008F2 D200 D050 702D 00008 0002D  6156  1          +
 0008F8 9108 600C      0000C        6161  1  939.                IF    SPCBFETP,'SET @PDKEY.8'           Fetch protect
 0008FC 47E0 A1E6            00904  6171  1          +
 000900 9608 D050      00008        6183  1          +
                                    6188  1  940.     *        MVC   @PDHASH,VSCTHASH                  Hash Value
 000904 9610 7004      00004        6189  1  941.                SET   VSCTPGDF                Indicate call to PAGE DEF
 000908 58F0 7030/0DEF       00030  6195  1  942.                ACALL VSCTPDEF                Call page defn function
 00090E 94EF 7004      00004        6202  1  943.                CLEAR VSCTPGDF                No longer in PAGE DEF code
0                                   6210  1  945.     *
                                    6211  1  946.     * Is the page fixed?
                                    6212  1  947.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   45
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGET,R10) (@VMGET-72,R12) (@PAGDEF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000912 9104 600C      0000C        6213  1  948.                IF    SPCBFIX,BEGIN
 000916 47E0 A22A            00948  6223  1          +
 DROP   @PAGDEF-72,R13              6228  2  949.                  PSET  @PAGE
 USING  @PAGE-72,R13
 00091A D708 D048 D048 00000 00000  6248  2          +
 000920 5040 D048            00000  6249  2  950.                  ST    RJ,@PAGLOC              Save the page location
 000924 5050 D04C            00004  6250  2  951.                  ST    RK,@PAGLEN              And the length in bytes
 000928 9608 7004      00004        6251  2  952.                  SET   VSCTPGFX                Indicate call to PAGE FIX
 00092C 9120 600C      0000C        6257  2  953.                  IF    SPCBGLOB,'ACALL VSCTPFIX' Long term fix
 000930 47E0 A21C            0093A  6267  2          +
 000934 58F0 7034/0DEF       00034  6278  2          +
 00093A A220           0093A 00932  6284  2  954.                  ELSE  'VCALL PAGSFIX'         Otherwise short term fix
 00093A 47F0 A226            00944  6289  2          +
 00093E 58F0 A62A/0DEF       00D48  6298  2          +
 000944 94F7 7004      00004        6304  2  955.                  CLEAR VSCTPGFX                No longer in PAGE FIX code
 000948                             6311  1  956.                END   ,
                                    6315  1  957.     *
                                    6316  1  958.     * Start out with the location and length of the new stuff in RJ,RK.
                                    6317  1  959.     * Figure out where in the new stuff our storage will come from.  Put
                                    6318  1  960.     * the storage address into RA, and the location and length of any
                                    6319  1  961.     * storage left over in RJ and RK.  If the pool is a forward pool or
                                    6320  1  962.     * if the request is for a page aligned thing then just take the first
                                    6321  1  963.     * part of the page(s) we just got.
                                    6322  1  964.     *
 000948 9180 C052      0000A        6323  1  965.                IF    (@VMGPAGE,OR,~SPCBBACK),BEGIN
 00094C 4710 A23A            00958  6337  1          +
 000950 9101 600C      0000C        6346  1          +
 000954 4710 A244            00962  6347  1          +
 000958 1824                        6352  2  966.                  LR    RA,RJ                   Get the location
 00095A 5A40 C048            00000  6353  2  967.                  A     RJ,@VMGLEN              Point past the buffer
 00095E 5B50 C048            00000  6354  2  968.                  S     RK,@VMGLEN              And subtract the length
 000962 A248           00962 00956  6355  1  969.                END   ELSE,BEGIN
 000962 47F0 A250            0096E  6364  1          +
                                    6370  2  970.     *
                                    6371  2  971.     * If this is a reverse pool and the request is not for something
                                    6372  2  972.     * page aligned, we take the request from the end of the new page(s)
                                    6373  2  973.     * and free the stuff at the beginning.
                                    6374  2  974.     *
 000966 1824                        6375  2  975.                  LR    RA,RJ                   Copy the location
 000968 5B50 C048            00000  6376  2  976.                  S     RK,@VMGLEN              Get the residual length
 00096C 1A25                        6377  2  977.                  AR    RA,RK                   Point past the free area
 00096E                             6378  1  978.                END   ,
                                    6382  1  979.     *
                                    6383  1  980.     * Insert the stuff we're keeping on the used queue
                                    6384  1  981.     *
 DROP   @PAGE-72,R13                6385  1  982.                PSET  REMADDP,CLEAR=NO
 USING  REMADDP-72,R13
 00096E D203 D048 6014 00000 00014  6399  1  983.                MVC   RAPVSLB,SPCBUVSL        Used queue
 000974 5020 D04C            00004  6400  1  984.                ST    RA,RAPLOC               Location
 000978 D203 D050 C048 00008 00000  6401  1  985.                MVC   RAPLEN,@VMGLEN          Length
 00097E 58F0 A626/0DEF       00D44  6402  1  986.                ACALL ADDSPEC                 Add it
                                    6409  1  987.     *
                                    6410  1  988.     * If there is anything left over from the request, we add that to
                                    6411  1  989.     * the free queue.
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   46
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGET,R10) (@VMGET-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6412  1  990.     *
 000984 1255/47D0 A27C       0099A  6413  1  991.                IF    (RK,POS),BEGIN          If there is any left
 00098A D203 D048 6018 00000 00018  6427  2  992.                  MVC   RAPVSLB,SPCBFVSL        Free queue
 000990 9045 D04C            00004  6428  2  993.                  STM   RJ,RK,RAPLOC            Save loc,len of free area
 000994 58F0 A626/0DEF       00D44  6429  2  994.                  ACALL ADDSPEC                 Add it
 00099A                             6436  1  995.                END   ,
                                    6440  1  996.     *
                                    6441  1  997.     * Check on the VSLB supply
                                    6442  1  998.     *
 00099A 9140 7004      00004        6443  1  999.                IF    VSCTNORS,BEGIN
 00099E 47E0 A28E            009AC  6453  1          +
 DROP   REMADDP-72,R13              6458  2 1000.                  PSET  GFVSLB,CLEAR=NO
 USING  GFVSLB-72,R13
 0009A2 5070 D048            00000  6472  2 1001.                  PMOV  GFVADDR,LA:VSCT         VSCT address
 0009A6 58F0 A62E/0DEF       00D4C  6483  2 1002.                  ACALL ALOCVSLB                Get more
 0009AC                             6490  1 1003.                END   ,
                                    6494  1 1004.     *
                                    6495  1 1005.     * Now we can return to the caller with the memory
                                    6496  1 1006.     *
 0009AC 1802                        6497  1 1007.                LR    RVR,RA
 DROP   SPCB,R6                     6498    1008.              END   ,                       End of VMGLOCK
                                    6507    1009.     *
                                    6508    1010.     * Free the lock
                                    6509    1011.     *
 0009AE 1820                        6510    1012.              LR    RA,RVR                  Save the return value
 0009B0 5880 7038/1288       00038  6511    1013.              IF    ('LT RM,VSCTSTAT',NZ),BEGIN      -->
 0009B6 4780 A2AC            009CA  6522             +
 USING  VMSTAT,R8                   6527  1 1014.                WITH  (VMSTAT,RM)
 0009BA 4110 0001            00001  6540  1 1015.                INCR  RS,VHGET
 0009BE 5E10 8000            00000  6544  1          +
 0009C2 5010 8000            00000  6545  1          +
 0009C6 4D90 AA28            01146  6546  1 1016.                BAS   RN,VGRTNLOG             --> log caller
 DROP   VMSTAT,R8                   6547    1017.              END   ,                                -->
 0009CA 9180 7004      00004        6556    1018.              IF    ~VSCTGLOB,'VCALL ASULOCK'
 0009CE 4710 A2BA            009D8  6566             +
 0009D2 58F0 A632/0DEF       00D50  6574             +
 0009D8 A2BE           009D8 009D0  6580    1019.              ELSE  BEGIN
 0009D8 47F0 A2D2            009F0  6585             +
 0009DC 5810 7008/1211       00008  6591  1 1020.                LT    RS,VSCTLOCK             Get the lock ID
 0009E2 4780 A2D2            009F0  6595  1 1021.                IF    NZ,'LKREL (RS)'         Free the lock (if one exists)
 DROP   GFVSLB-72,R13
 USING  @LOCKS-72,R13
 0009E6 5010 D048            00000  6631  2          +
 0009EA 58F0 A636/0DEF       00D54  6634  1          +
 0009F0                             6640    1022.              END   ,
 0009F0 1802                        6644    1023.              LR    RVR,RA                  Restore the return value
                                    6645    1024.
 0009F2 981F C008            00008  6646    1025.     VMGEXIT  PEND
 DROP   VSCT,R7
 DROP   @VMGET-72,R12
 DROP   VMGET,R10
 0009F6 9680 C000/0B0E 00000        6667             +
 DROP   @LOCKS-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   47
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6677    1027.     *****************************************************************
                                    6678    1028.     *                                                               *
                                    6679    1029.     *  VMGETM  --  This routine gets a block of virtual memory of   *
                                    6680    1030.     *              at least the requested size and the largest      *
                                    6681    1031.     *              available block of less than the maximum value   *
                                    6682    1032.     *              that is passed in VMGDAT.  It returns the        *
                                    6683    1033.     *              address in RVR and updates the @VMGLEN field to  *
                                    6684    1034.     *              indicate the length of the storage obtained.     *
                                    6685    1035.     *                                                               *
                                    6686    1036.     *   Input  --  @VMGET                                           *
                                    6687    1037.     *                                                               *
                                    6688    1038.     *  Output  --  Storage block address in RVR, length in @VMGLEN. *
                                    6689    1039.     *                                                               *
                                    6690    1040.     *****************************************************************
-0009FC                             6692    1042.     VMGETM   PROC  @VMGET,SCOPE=GLOBAL
 0009FC E5D4C7C5E3D44040            6698             +
 000A04 0010/0000                   6699             +
 000A08 900F D004/18AF       00004  6701             +
 USING  VMGETM,R10
 000A0E 50D0 C000/18CD       00000  6716             +
 000A14 9680 C000      00000        6718             +
 USING  @VMGET-72,R12
 000A18 41D0 C058            00058  6732             +
                                    6733    1043.     *
                                    6734    1044.     * Determine whether the requested pool is local or global and get
                                    6735    1045.     * the address of the correct VSCT
                                    6736    1046.     *
 000A1C 9120 C050      00008        6737    1047.              TM    @VMGPOOL,PNGLOBAL       Check the global bit in pool
 000A20 47E0 A028            00A30  6738    1048.              IF    ON,BEGIN                Global pool
 USING  PZERO,R0                    6749  1 1049.                USING PZERO,R0
 000A24 5810 0200            00200  6758  1 1050.                L     RS,PZMATP               Get the mat pointer
 DROP   PZERO,R0                    6759  1 1051.                DROP  R0
 000A28 5810 1004            00004  6767  1 1052.                WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 000A2C 5870 1028            00028  6791  1 1053.                WITH  (VMCB,RS),'L RY,VMCBGVS'
 USING  VMCB,R1
 DROP   VMCB,R1
 000A30 A02C           00A30 00A22  6815    1054.              END   ELSE,BEGIN              Local pool
 000A30 47F0 A034            00A3C  6824             +
 USING  PZERO,R0                    6830  1 1055.                USING PZERO,R0
 000A34 5810 0208            00208  6839  1 1056.                L     RS,PZCURASB             Get the current ASB
 DROP   PZERO,R0                    6840  1 1057.                DROP  R0
 000A38 5870 1018            00018  6848  1 1058.                WITH  (ASB,RS),'L RY,ASBVSCT' Get the local one
 USING  ASB,R1
 DROP   ASB,R1
 000A3C                             6872    1059.              END   ,
 USING  VSCT,R7                     6876    1060.              WITH  (VSCT,RY)
                                    6889    1061.     *
                                    6890    1062.     * Check out the pool number
                                    6891    1063.     *
 000A3C 953F C050      00008        6892    1064.              CLI   @VMGPOOL,MAXPOOL        Is the pool number too big
 000A40 47D0 A042            00A4A  6893    1065.              IF    HIGH,BEGIN              Pool too big
 000A44 1B00                        6904  1 1066.                CLEAR RVR
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   48
0Current Usings:  (VSCT,R7) (VMGETM,R10) (@VMGET-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000A46 47F0 A2F6            00CFE  6908  1 1067.                B     VMGMEXIT            Signal the lack of storage
 000A4A                             6909    1068.              END   ,
                                    6913    1069.     *
                                    6914    1070.     * Lock up the VSCT
                                    6915    1071.     *
 000A4A 9620 7004      00004        6916    1072.              SET   VSCTLKRQ            Indicate VCALL for a lock
 000A4E 9180 7004      00004        6922    1073.              IF    ~VSCTGLOB,'VCALL ASLOCK'
 000A52 4710 A054            00A5C  6932             +
 000A56 58F0 A318/0DEF       00D20  6940             +
 000A5C A058           00A5C 00A54  6946    1074.              ELSE  BEGIN
 000A5C 47F0 A06C            00A74  6951             +
 000A60 5810 7008/1211       00008  6957  1 1075.                LT    RS,VSCTLOCK             Lock id
 000A66 4780 A06C            00A74  6961  1 1076.                IF    NZ,'LKOB (RS)'          Obtain it if it exists
 USING  @LOCKS-72,R13
 000A6A 5010 D048            00000  6994  2          +
 000A6E 58F0 A31C/0DEF       00D24  6997  1          +
 000A74                             7003    1077.              END   ,
 000A74 94DF 7004      00004        7007    1078.              CLEAR VSCTLKRQ            No longer in obtain lock code
 000A78                             7014    1079.     VMMGLCK  BEGIN                         Locked area in its own block
                                    7019  1 1080.     *
                                    7020  1 1081.     * Now we look for the SPCB
                                    7021  1 1082.     *
 000A78 5860 7020            00020  7022  1 1083.                L     RX,VSCTPOOL             Get the first one
 USING  SPCB,R6                     7023  1 1084.                WITH  (SPCB,RX)
 000A7C                             7036  1 1085.                WHILE (SPCBPOOL,NE,@VMGPOOL),BEGIN
 000A7C D501 600C C050 0000C 00008  7049  1          +
 000A82 4780 A0A4            00AAC  7050  1          +
 000A86 5860 6004/1266       00004  7055  2 1086.                  LT    RX,SPCBNEXT
                                    7059  2 1087.     *
                                    7060  2 1088.     * If there is no pool... we have to make one up
                                    7061  2 1089.     *
 000A8C 4770 A0A0            00AA8  7062  2 1090.                  IF    Z,BEGIN
 DROP   @LOCKS-72,R13               7073  3 1091.                    PSET  NEWPOOLP
 USING  NEWPOOLP-72,R13
 000A90 D705 D048 D048 00000 00000  7093  3          +
 000A96 5070 D048            00000  7094  3 1092.                    ST    RY,NEWPVSCT             VSCT Address
 000A9A D201 D04C C050 00004 00008  7095  3 1093.                    MVC   NEWPPOOL,@VMGPOOL       Pool number
 000AA0 58F0 A320/0DEF       00D28  7096  3 1094.                    ACALL NEWPOOL                 Create the pool
 000AA6 1860                        7103  3 1095.                    LR    RX,RVR                  This is its SPCB
 000AA8                             7104  2 1096.                  END   ,
 000AA8 47F0 A074            00A7C  7108  1 1097.                END   ,
                                    7113  1 1098.     *
                                    7114  1 1099.     * Round the min amount of storage he is requesting up to the nearest
                                    7115  1 1100.     * eight byte boundary
                                    7116  1 1101.     *
 000AAC 5810 C048            00000  7117  1 1102.                L     RS,@VMGLEN
 000AB0 4A10 A356            00D5E  7118  1 1103.                AH    RS,=Y(VMAL-1)
 000AB4 5410 A324            00D2C  7119  1 1104.                N     RS,=A(VMALIGN)
 000AB8 4770 A0BA            00AC2  7120  1 1105.                IF    Z,BEGIN
 000ABC 1B00                        7131  2 1106.                  CLEAR RVR
 000ABE 47F0 A2B2            00CBA  7135  2 1107.                  EXIT  VMMGLCK                 He doesn't want any
 000AC2                             7138  1 1108.                END   ,
 000AC2 5010 C048            00000  7142  1 1109.                ST    RS,@VMGLEN              Update the parm value
                                    7143  1 1110.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   49
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGETM,R10) (@VMGET-72,R12) (NEWPOOLP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7144  1 1111.     * Round the max amount of storage he is requesting up to the nearest
                                    7145  1 1112.     * eight byte boundary
                                    7146  1 1113.     *
 000AC6 5810 C04C            00004  7147  1 1114.                L     RS,@VMGDAT
 000ACA 4A10 A356            00D5E  7148  1 1115.                AH    RS,=Y(VMAL-1)
 000ACE 5410 A324            00D2C  7149  1 1116.                N     RS,=A(VMALIGN)
 000AD2 4780 A0D6            00ADE  7150  1 1117.                IF    (Z,OR,(RS,LT,@VMGLEN)),BEGIN      Max=0 or Max<Min
 000AD6 5910 C048            00000  7171  1          +
 000ADA 47B0 A0DC            00AE4  7172  1          +
 000ADE 1B00                        7177  2 1118.                  CLEAR RVR
 000AE0 47F0 A2B2            00CBA  7181  2 1119.                  EXIT  VMMGLCK                 He doesn't get any
 000AE4                             7184  1 1120.                END   ,
 000AE4 5010 C04C            00004  7188  1 1121.                ST    RS,@VMGDAT              Update the parm value
                                    7189  1 1122.     *
                                    7190  1 1123.     * Is his request for more than a page?  If so we don't even bother
                                    7191  1 1124.     * looking in the pool for it.  We just go directly to the free
                                    7192  1 1125.     * space pointers to find enough memory.
                                    7193  1 1126.     *
 000AE8 1B55                        7194  1 1127.                CLEAR RK                      Length of block found so far
 000AEA 5910 A328            00D30  7198  1 1128.                IF    (RS,GE,4096),MAXPAGE    We need fresh stuff
 000AEE 47A0 A15E            00B66  7212  1          +
 000AF2 9180 C052      0000A        7218  1 1129.                IF    @VMGPAGE,MAXPAGE        Page aligned
 000AF6 4710 A15E            00B66  7230  1          +
                                    7236  1 1130.     *
                                    7237  1 1131.     * Find the largest one in the free blocks.
                                    7238  1 1132.     *
 DROP   NEWPOOLP-72,R13             7239  1 1133.                PSET  REMADDP,CLEAR=NO        Common data area
 USING  REMADDP-72,R13
 000AFA D203 D048 6018 00000 00018  7253  1 1134.                MVC   RAPVSLB,SPCBFVSL        Free memory head
 000B00 58F0 A350/0DEF       00D58  7254  1 1135.                ACALL FINDMAX                 Find the largest
 000B06 5850 D050            00008  7261  1 1136.                L     RK,RAPLEN               Length in pre-allocated area
                                    7262  1 1137.     *
                                    7263  1 1138.     * If the amount returned from the free pool is bigger than
                                    7264  1 1139.     * the maximum desired then it is plenty big enough and we can
                                    7265  1 1140.     * just use it.
                                    7266  1 1141.     *
 000B0A 5950 C04C            00004  7267  1 1142.                IF    (RK,LT,@VMGDAT),MAXPAGE See if we can do better
 000B0E 4740 A15E            00B66  7281  1          +
 000B12                             7287  1 1143.     TAKELOC    LABEL ,                       Take the memory from local
                                    7289  1 1144.                PSET  REMADDP,CLEAR=NO
 000B12 D203 D048 6018 00000 00018  7293  1 1145.                MVC   RAPVSLB,SPCBFVSL        Free space queue
 000B18 5950 C04C            00004  7294  1 1146.                CEIL  RK,@VMGDAT              Max amount
 000B1C 47D0 A11C            00B24  7298  1          +
 000B20 5850 C04C            00004  7299  1          +
 000B24 5950 C048            00000  7300  1 1147.                IF    (RK,LT,@VMGLEN),BEGIN   Too small
 000B28 47B0 A12A            00B32  7312  1          +
 000B2C 1B00                        7317  2 1148.                  CLEAR RVR
 000B2E 47F0 A2B2            00CBA  7321  2 1149.                  EXIT  VMMGLCK                 return
 000B32                             7324  1 1150.                END   ,
 000B32 5050 D050            00008  7328  1 1151.                ST    RK,RAPLEN               Store the length
 000B36 9101 600C      0000C        7329  1 1152.                IF    SPCBBACK,'ACALL REMANYR' Get the block
 000B3A 47E0 A13C            00B44  7339  1          +
 000B3E 58F0 A334/0DEF       00D3C  7350  1          +
 000B44 A140           00B44 00B3C  7356  1 1153.                ELSE  'ACALL REMANY'           Ditto
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   50
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGETM,R10) (@VMGET-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000B44 47F0 A146            00B4E  7361  1          +
 000B48 58F0 A338/0DEF       00D40  7373  1          +
                                    7379  1 1154.     *
                                    7380  1 1155.     * Add it to the Used queue
                                    7381  1 1156.     *
 000B4E D203 D048 6014 00000 00014  7382  1 1157.                MVC   RAPVSLB,SPCBUVSL        Used queue pointer
 000B54 58F0 A33C/0DEF       00D44  7383  1 1158.                ACALL ADDSPEC                 Add it to the queue
 000B5A 5050 C048            00000  7390  1 1159.                ST    RK,@VMGLEN              Save the length
 000B5E 5800 D04C            00004  7391  1 1160.                L     RVR,RAPLOC              Get the location
 000B62 47F0 A2B2            00CBA  7392  1 1161.                EXIT  VMMGLCK                 Then return to the user
                                    7395  1 1162.     *
                                    7396  1 1163.     * Check the free page reserve.
                                    7397  1 1164.     *
 000B66                             7398  1 1165.     MAXPAGE    LABEL ,
                                    7400  1 1166.                PSET  REMADDP,CLEAR=NO
 000B66 D203 D048 6010 00000 00010  7404  1 1167.                MVC   RAPVSLB,SPCBVSRB        Get the region VSLB
 000B6C 58F0 A350/0DEF       00D58  7405  1 1168.                ACALL FINDMAX                 Find the largest block
 000B72 5950 D050            00008  7412  1 1169.                IF    (RK,GE,RAPLEN),TAKELOC  The local stuff is as good
 000B76 47A0 A10A            00B12  7426  1          +
 000B7A 5850 D050            00008  7432  1 1170.                L     RK,RAPLEN               Get the size of the block
 000B7E 5950 C04C            00004  7433  1 1171.                CEIL  RK,@VMGDAT              Maximum size
 000B82 47D0 A182            00B8A  7437  1          +
 000B86 5850 C04C            00004  7438  1          +
 000B8A 5950 C048            00000  7439  1 1172.                IF    (RK,LT,@VMGLEN),BEGIN   Too small
 000B8E 47B0 A190            00B98  7451  1          +
 000B92 1B00                        7456  2 1173.                  CLEAR RVR
 000B94 47F0 A2B2            00CBA  7460  2 1174.                  EXIT  VMMGLCK                 return
 000B98                             7463  1 1175.                END   ,
                                    7467  1 1176.     *
                                    7468  1 1177.     * At this point it looks as if we have to allocate some more pages
                                    7469  1 1178.     * to the pool to satisfy the request.
                                    7470  1 1179.     *
 000B98 5050 C048            00000  7471  1 1180.                ST    RK,@VMGLEN              Update the length
 000B9C 4A50 A354            00D5C  7472  1 1181.                AH    RK,=H'4095'             Round up
 000BA0 5450 A30C            00D14  7473  1 1182.                N     RK,=F'-4096'            To an even page
 000BA4 5050 D050            00008  7474  1 1183.                ST    RK,RAPLEN               This is how much we need
 000BA8 D203 D048 6010 00000 00010  7475  1 1184.                MVC   RAPVSLB,SPCBVSRB        Move in the dummy VSLB addr
 000BAE 9101 600C      0000C        7476  1 1185.                IF    SPCBBACK,'ACALL REMANYR'
 000BB2 47E0 A1B4            00BBC  7486  1          +
 000BB6 58F0 A334/0DEF       00D3C  7497  1          +
 000BBC A1B8           00BBC 00BB4  7503  1 1186.                ELSE  'ACALL REMANY'
 000BBC 47F0 A1BE            00BC6  7508  1          +
 000BC0 58F0 A338/0DEF       00D40  7520  1          +
                                    7526  1 1187.     *
                                    7527  1 1188.     * Did we get it?
                                    7528  1 1189.     *
 000BC6 1200/4780 A1CA       00BD2  7529  1 1190.                IF    (RVR,NZ),BEGIN          No memory left fella
 000BCC 1B00                        7543  2 1191.                  CLEAR RVR
 000BCE 47F0 A2B2            00CBA  7547  2 1192.                  EXIT  VMMGLCK
 000BD2                             7550  1 1193.                END   ,
                                    7554  1 1194.     *
                                    7555  1 1195.     * Call the paging supervisor to define the virtual memory location.
                                    7556  1 1196.     *
 000BD2 9845 D04C            00004  7557  1 1197.                LM    RJ,RK,RAPLOC            Get the location and length
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   51
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGETM,R10) (@VMGET-72,R12) (@PAGDEF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   REMADDP-72,R13              7558  1 1198.                PSET  @PAGDEF
 USING  @PAGDEF-72,R13
 000BD6 D709 D048 D048 00000 00000  7578  1          +
 000BDC 9045 D048            00000  7579  1 1199.                STM   RJ,RK,@PDADDR           Save the location/length
 000BE0 9120 600C      0000C        7580  1 1200.                IF    SPCBGLOB,'SET @PDFGLOB'
 000BE4 47E0 A1E4            00BEC  7590  1          +
 000BE8 9680 D051      00009        7601  1          +
 000BEC 9102 600C      0000C        7606  1 1201.                IF    SPCBSYS,'MVC @PDKEY,VSCTSKEY'
 000BF0 47E0 A1F2            00BFA  7616  1          +
 000BF4 D200 D050 702C 00008 0002C  7622  1          +
 000BFA A1F6           00BFA 00BF2  7627  1 1202.                ELSE  'MVC @PDKEY,VSCTUKEY'
 000BFA 47F0 A1FC            00C04  7632  1          +
 000BFE D200 D050 702D 00008 0002D  7639  1          +
 000C04 9108 600C      0000C        7644  1 1203.                IF    SPCBFETP,'SET @PDKEY.8'           Fetch protect
 000C08 47E0 A208            00C10  7654  1          +
 000C0C 9608 D050      00008        7666  1          +
                                    7671  1 1204.     *        MVC   @PDHASH,VSCTHASH                  Hash Value
 000C10 9610 7004      00004        7672  1 1205.                SET   VSCTPGDF                Indicate call to PAGE DEF
 000C14 58F0 7030/0DEF       00030  7678  1 1206.                ACALL VSCTPDEF
 000C1A 94EF 7004      00004        7685  1 1207.                CLEAR VSCTPGDF                No longer in PAGE DEF code
                                    7692  1 1208.     *
                                    7693  1 1209.     * Is the page fixed?
                                    7694  1 1210.     *
 000C1E 9104 600C      0000C        7695  1 1211.                IF    SPCBFIX,BEGIN
 000C22 47E0 A24C            00C54  7705  1          +
 DROP   @PAGDEF-72,R13              7710  2 1212.                  PSET  @PAGE
 USING  @PAGE-72,R13
 000C26 D708 D048 D048 00000 00000  7730  2          +
 000C2C 5040 D048            00000  7731  2 1213.                  ST    RJ,@PAGLOC              Save the page location
 000C30 5050 D04C            00004  7732  2 1214.                  ST    RK,@PAGLEN              And the length in bytes
 000C34 9608 7004      00004        7733  2 1215.                  SET   VSCTPGFX                Indicate call to PAGE FIX
 000C38 9120 600C      0000C        7739  2 1216.                  IF    SPCBGLOB,'ACALL VSCTPFIX' Long term fix
 000C3C 47E0 A23E            00C46  7749  2          +
 000C40 58F0 7034/0DEF       00034  7760  2          +
 000C46 A242           00C46 00C3E  7766  2 1217.                  ELSE  'VCALL PAGSFIX'         Otherwise short term fix
 000C46 47F0 A248            00C50  7771  2          +
 000C4A 58F0 A340/0DEF       00D48  7780  2          +
 000C50 94F7 7004      00004        7786  2 1218.                  CLEAR VSCTPGFX                No longer in PAGE FIX code
 000C54                             7793  1 1219.                END   ,
                                    7797  1 1220.     *
                                    7798  1 1221.     * Start out with the location and length of the new stuff in RJ,RK.
                                    7799  1 1222.     * Figure out where in the new stuff our storage will come from.  Put
                                    7800  1 1223.     * the storage address into RA, and the location and length of any
                                    7801  1 1224.     * storage left over in RJ and RK.  If the pool is a forward pool or
                                    7802  1 1225.     * if the request is for a page aligned thing then just take the first
                                    7803  1 1226.     * part of the page(s) we just got.
                                    7804  1 1227.     *
 000C54 9180 C052      0000A        7805  1 1228.                IF    (@VMGPAGE,OR,~SPCBBACK),BEGIN
 000C58 4710 A25C            00C64  7819  1          +
 000C5C 9101 600C      0000C        7828  1          +
 000C60 4710 A266            00C6E  7829  1          +
 000C64 1824                        7834  2 1229.                  LR    RA,RJ                   Get the location
 000C66 5A40 C048            00000  7835  2 1230.                  A     RJ,@VMGLEN              Point past the buffer
 000C6A 5B50 C048            00000  7836  2 1231.                  S     RK,@VMGLEN              And subtract the length
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   52
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGETM,R10) (@VMGET-72,R12) (@PAGE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000C6E A26A           00C6E 00C62  7837  1 1232.                END   ELSE,BEGIN
 000C6E 47F0 A272            00C7A  7846  1          +
                                    7852  2 1233.     *
                                    7853  2 1234.     * If this is a reverse pool and the request is not for something
                                    7854  2 1235.     * page aligned, we take the request from the end of the new page(s)
                                    7855  2 1236.     * and free the stuff at the beginning.
                                    7856  2 1237.     *
 000C72 1824                        7857  2 1238.                  LR    RA,RJ                   Copy the location
 000C74 5B50 C048            00000  7858  2 1239.                  S     RK,@VMGLEN              Get the residual length
 000C78 1A25                        7859  2 1240.                  AR    RA,RK                   Point past the free area
 000C7A                             7860  1 1241.                END   ,
                                    7864  1 1242.     *
                                    7865  1 1243.     * Insert the stuff we're keeping on the used queue
                                    7866  1 1244.     *
 DROP   @PAGE-72,R13                7867  1 1245.                PSET  REMADDP,CLEAR=NO
 USING  REMADDP-72,R13
 000C7A D203 D048 6014 00000 00014  7881  1 1246.                MVC   RAPVSLB,SPCBUVSL        Used queue
 000C80 5020 D04C            00004  7882  1 1247.                ST    RA,RAPLOC               Location
 000C84 D203 D050 C048 00008 00000  7883  1 1248.                MVC   RAPLEN,@VMGLEN          Length
 000C8A 58F0 A33C/0DEF       00D44  7884  1 1249.                ACALL ADDSPEC                 Add it
                                    7891  1 1250.     *
                                    7892  1 1251.     * If there is anything left over from the request, we add that to
                                    7893  1 1252.     * the free queue.
                                    7894  1 1253.     *
 000C90 1255/47D0 A29E       00CA6  7895  1 1254.                IF    (RK,POS),BEGIN          If there is any left
 000C96 D203 D048 6018 00000 00018  7909  2 1255.                  MVC   RAPVSLB,SPCBFVSL        Free queue
 000C9C 9045 D04C            00004  7910  2 1256.                  STM   RJ,RK,RAPLOC            Save loc,len of free area
 000CA0 58F0 A33C/0DEF       00D44  7911  2 1257.                  ACALL ADDSPEC                 Add it
 000CA6                             7918  1 1258.                END   ,
                                    7922  1 1259.     *
                                    7923  1 1260.     * Check on the VSLB supply
                                    7924  1 1261.     *
 000CA6 9140 7004      00004        7925  1 1262.                IF    VSCTNORS,BEGIN
 000CAA 47E0 A2B0            00CB8  7935  1          +
 DROP   REMADDP-72,R13              7940  2 1263.                  PSET  GFVSLB,CLEAR=NO
 USING  GFVSLB-72,R13
 000CAE 5070 D048            00000  7954  2 1264.                  PMOV  GFVADDR,LA:VSCT         VSCT address
 000CB2 58F0 A344/0DEF       00D4C  7965  2 1265.                  ACALL ALOCVSLB                Get more
 000CB8                             7972  1 1266.                END   ,
                                    7976  1 1267.     *
                                    7977  1 1268.     * Now we can return to the caller with the memory
                                    7978  1 1269.     *
 000CB8 1802                        7979  1 1270.                LR    RVR,RA
 DROP   SPCB,R6                     7980    1271.              END   ,                       End of VMMGLCK
                                    7989    1272.     *
                                    7990    1273.     * Free the lock
                                    7991    1274.     *
 000CBA 1820                        7992    1275.              LR    RA,RVR                  Save the return value
 000CBC 5880 7038/1288       00038  7993    1276.              IF    ('LT RM,VSCTSTAT',NZ),BEGIN      -->
 000CC2 4780 A2CE            00CD6  8004             +
 USING  VMSTAT,R8                   8009  1 1277.                WITH  (VMSTAT,RM)
 000CC6 4110 0001            00001  8022  1 1278.                INCR  RS,VHGETM
 000CCA 5E10 8004            00004  8026  1          +
 000CCE 5010 8004            00004  8027  1          +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   53
0Current Usings:  (VSCT,R7) (VMSTAT,R8) (VMGETM,R10) (@VMGET-72,R12) (GFVSLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000CD2 4D90 A73E            01146  8028  1 1279.                BAS   RN,VGRTNLOG             --> log caller
 DROP   VMSTAT,R8                   8029    1280.              END   ,                                -->
 000CD6 9180 7004      00004        8038    1281.              IF    ~VSCTGLOB,'VCALL ASULOCK'
 000CDA 4710 A2DC            00CE4  8048             +
 000CDE 58F0 A348/0DEF       00D50  8056             +
 000CE4 A2E0           00CE4 00CDC  8062    1282.              ELSE  BEGIN
 000CE4 47F0 A2F4            00CFC  8067             +
 000CE8 5810 7008/1211       00008  8073  1 1283.                LT    RS,VSCTLOCK             Get the lock ID
 000CEE 4780 A2F4            00CFC  8077  1 1284.                IF    NZ,'LKREL (RS)'         Free the lock (if one exists)
 DROP   GFVSLB-72,R13
 USING  @LOCKS-72,R13
 000CF2 5010 D048            00000  8113  2          +
 000CF6 58F0 A34C/0DEF       00D54  8116  1          +
 000CFC                             8122    1285.              END   ,
 000CFC 1802                        8126    1286.              LR    RVR,RA                  Restore the return value
                                    8127    1287.
 000CFE 981F C008            00008  8128    1288.     VMGMEXIT PEND
 DROP   VSCT,R7
 DROP   @VMGET-72,R12
 DROP   VMGETM,R10
 000D02 9680 C000/0B0E 00000        8149             +
 DROP   @LOCKS-72,R13
 000D08                             8158    1289.              LTORG
 000D08 000014D0                    8160                             =A(FREEVSLB)
 000D0C 00001446                    8161                             =A(GETVSLB)
 000D10 00001000                    8162                             =AL4(4096)
 000D14 FFFFF000                    8163                             =F'-4096'
 000D18 000007DC                    8164                             =A(MXHIST)
 000D1C 00000001                    8165                             =A(1)
 000D20 00000000                    8166                             =V(ASLOCK)
 000D24 00000000                    8167                             =V(LKOB)
 000D28 00001306                    8168                             =A(NEWPOOL)
 000D2C 7FFFFFF0                    8169                             =A(VMALIGN)
 000D30 00001000                    8170                             =A(4096)
 000D34 0000033E                    8171                             =A(REMONER)
 000D38 0000028E                    8172                             =A(REMONE)
 000D3C 000000BA                    8173                             =A(REMANYR)
 000D40 00000022                    8174                             =A(REMANY)
 000D44 0000046C                    8175                             =A(ADDSPEC)
 000D48 00000000                    8176                             =V(PAGSFIX)
 000D4C 0000151C                    8177                             =A(ALOCVSLB)
 000D50 00000000                    8178                             =V(ASULOCK)
 000D54 00000000                    8179                             =V(LKREL)
 000D58 000006B8                    8180                             =A(FINDMAX)
 000D5C 0FFF                        8181                             =H'4095'
 000D5E 000F           00D60 01FD6  8182                             =Y(VMAL-1)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   54
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8187    1291.     *****************************************************************
                                    8188    1292.     *                                                               *
                                    8189    1293.     *  VMGETS  --  This routine gets a page of virtual memory out   *
                                    8190    1294.     *              of the requested pool at the requested location. *
                                    8191    1295.     *              It returns the address of the page in RVR if it  *
                                    8192    1296.     *              can manage that or a zero if the page was not    *
                                    8193    1297.     *              available.                                       *
                                    8194    1298.     *                                                               *
                                    8195    1299.     *   Input  --  @VMGET                                           *
                                    8196    1300.     *                                                               *
                                    8197    1301.     *  Output  --  Storage block address in RVR                     *
                                    8198    1302.     *                                                               *
                                    8199    1303.     *****************************************************************
-000D60                             8201    1305.     VMGETS   PROC  @VMGET,SCOPE=GLOBAL
 000D60 E5D4C7C5E3E24040            8207             +
 000D68 0010/0000                   8208             +
 000D6C 900F D004/18AF       00004  8210             +
 USING  VMGETS,R10
 000D72 50D0 C000/18CD       00000  8225             +
 000D78 9680 C000      00000        8227             +
 USING  @VMGET-72,R12
 000D7C 41D0 C058            00058  8241             +
                                    8242    1306.     *
                                    8243    1307.     * Make sure the request is on a page boundary and is for an integral
                                    8244    1308.     * number of pages.
                                    8245    1309.     *
 000D80 1B00                        8246    1310.              CLEAR RVR                     Default return
 000D82 4110 0FFF            00FFF  8250    1311.              LA    RS,4095                 Get a page mask
 000D86 5410 C04C            00004  8251    1312.              N     RS,@VMGDAT              Check the address
 000D8A 4770 A1C8            00F34  8252    1313.              BNZ   VMGSEXIT            Not a page boundary
 000D8E 4110 0FFF            00FFF  8253    1314.              LA    RS,4095                 Get a page mask
 000D92 5410 C048            00000  8254    1315.              N     RS,@VMGLEN              Check the length
 000D96 4770 A1C8            00F34  8255    1316.              BNZ   VMGSEXIT            Not an integral number of pages
                                    8256    1317.     *
                                    8257    1318.     * Determine whether the requested pool is local or global and get
                                    8258    1319.     * the address of the correct VSCT
                                    8259    1320.     *
 000D9A 9120 C050      00008        8260    1321.              TM    @VMGPOOL,PNGLOBAL       Check the global bit in pool
 000D9E 47E0 A042            00DAE  8261    1322.              IF    ON,BEGIN                Global pool
 USING  PZERO,R0                    8272  1 1323.                USING PZERO,R0
 000DA2 5810 0200            00200  8281  1 1324.                L     RS,PZMATP               Get the MAT pointer
 DROP   PZERO,R0                    8282  1 1325.                DROP  R0
 000DA6 5810 1004            00004  8290  1 1326.                WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 000DAA 5870 1028            00028  8314  1 1327.                WITH  (VMCB,RS),'L RY,VMCBGVS'
 USING  VMCB,R1
 DROP   VMCB,R1
 000DAE A046           00DAE 00DA0  8338    1328.              END   ELSE,BEGIN              Local pool
 000DAE 47F0 A04E            00DBA  8347             +
 USING  PZERO,R0                    8353  1 1329.                USING PZERO,R0
 000DB2 5810 0208            00208  8362  1 1330.                L     RS,PZCURASB             Get the current ASB
 DROP   PZERO,R0                    8363  1 1331.                DROP  R0
 000DB6 5870 1018            00018  8371  1 1332.                WITH  (ASB,RS),'L RY,ASBVSCT' Get the local one
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   55
0Current Usings:  (VMGETS,R10) (@VMGET-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  ASB,R1
 DROP   ASB,R1
 000DBA                             8395    1333.              END   ,
 USING  VSCT,R7                     8399    1334.              WITH  (VSCT,RY)
                                    8412    1335.     *
                                    8413    1336.     * Check out the pool number
                                    8414    1337.     *
 000DBA 953F C050      00008        8415    1338.              CLI   @VMGPOOL,MAXPOOL        Is the pool number too big
 000DBE 47D0 A05C            00DC8  8416    1339.              IF    HIGH,BEGIN              Pool too big
 000DC2 1B00                        8427  1 1340.                CLEAR RVR
 000DC4 47F0 A1C8            00F34  8431  1 1341.                B     VMGSEXIT            Signal the lack of storage
 000DC8                             8432    1342.              END   ,
                                    8436    1343.     *
                                    8437    1344.     * Lock up the VSCT
                                    8438    1345.     *
 000DC8 9620 7004      00004        8439    1346.              SET   VSCTLKRQ            Indicate VCALL for a lock
 000DCC 9180 7004      00004        8445    1347.              IF    ~VSCTGLOB,'VCALL ASLOCK'
 000DD0 4710 A06E            00DDA  8455             +
 000DD4 58F0 A1D4/0DEF       00F40  8463             +
 000DDA A072           00DDA 00DD2  8469    1348.              ELSE  BEGIN
 000DDA 47F0 A086            00DF2  8474             +
 000DDE 5810 7008/1211       00008  8480  1 1349.                LT    RS,VSCTLOCK             Lock id
 000DE4 4780 A086            00DF2  8484  1 1350.                IF    NZ,'LKOB (RS)'          Obtain it if it exists
 USING  @LOCKS-72,R13
 000DE8 5010 D048            00000  8517  2          +
 000DEC 58F0 A1D8/0DEF       00F44  8520  1          +
 000DF2                             8526    1351.              END   ,
 000DF2 94DF 7004      00004        8530    1352.              CLEAR VSCTLKRQ            No longer in obtain lock code
 000DF6                             8537    1353.     VMSGLCK  BEGIN                         Locked area in its own block
                                    8542  1 1354.     *
                                    8543  1 1355.     * Now we look for the SPCB
                                    8544  1 1356.     *
 000DF6 5860 7020            00020  8545  1 1357.                L     RX,VSCTPOOL             Get the first one
 USING  SPCB,R6                     8546  1 1358.                WITH  (SPCB,RX)
 000DFA                             8559  1 1359.                WHILE (SPCBPOOL,NE,@VMGPOOL),BEGIN
 000DFA D501 600C C050 0000C 00008  8572  1          +
 000E00 4780 A0BE            00E2A  8573  1          +
 000E04 5860 6004/1266       00004  8578  2 1360.                  LT    RX,SPCBNEXT
                                    8582  2 1361.     *
                                    8583  2 1362.     * If there is no pool... we have to make one up
                                    8584  2 1363.     *
 000E0A 4770 A0BA            00E26  8585  2 1364.                  IF    Z,BEGIN
 DROP   @LOCKS-72,R13               8596  3 1365.                    PSET  NEWPOOLP
 USING  NEWPOOLP-72,R13
 000E0E D705 D048 D048 00000 00000  8616  3          +
 000E14 5070 D048            00000  8617  3 1366.                    ST    RY,NEWPVSCT             VSCT Address
 000E18 D201 D04C C050 00004 00008  8618  3 1367.                    MVC   NEWPPOOL,@VMGPOOL       Pool number
 000E1E 58F0 A1DC/0DEF       00F48  8619  3 1368.                    ACALL NEWPOOL                 Create the pool
 000E24 1860                        8626  3 1369.                    LR    RX,RVR                  This is its SPCB
 000E26                             8627  2 1370.                  END   ,
 000E26 47F0 A08E            00DFA  8631  1 1371.                END   ,
                                    8636  1 1372.     *
                                    8637  1 1373.     * Go to the pool of free pages and see if we can get the memory
                                    8638  1 1374.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   56
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGETS,R10) (@VMGET-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   NEWPOOLP-72,R13             8639  1 1375.                PSET  REMADDP,CLEAR=NO
 USING  REMADDP-72,R13
 000E2A D203 D050 C048 00008 00000  8653  1 1376.                MVC   RAPLEN,@VMGLEN          Move the amount requested
 000E30 D203 D04C C04C 00004 00004  8654  1 1377.                MVC   RAPLOC,@VMGDAT          And the desired address
 000E36 D203 D048 6010 00000 00010  8655  1 1378.                MVC   RAPVSLB,SPCBVSRB        Move in the dummy VSLB addr
 000E3C 58F0 A1E0/0DEF       00F4C  8656  1 1379.                ACALL REMSPEC                 Remove that if possible
                                    8663  1 1380.     *
                                    8664  1 1381.     * Did we get it?
                                    8665  1 1382.     *
 000E42 1200/4780 A0E2       00E4E  8666  1 1383.                IF    (RVR,NZ),BEGIN          No memory left fella
 000E48 1B00                        8680  2 1384.                  CLEAR RVR
 000E4A 47F0 A184            00EF0  8684  2 1385.                  EXIT  VMSGLCK
 000E4E                             8687  1 1386.                END   ,
                                    8691  1 1387.     *
                                    8692  1 1388.     * Put the memory on the used up queue.
                                    8693  1 1389.     *
 000E4E D203 D048 6014 00000 00014  8694  1 1390.                MVC   RAPVSLB,SPCBUVSL        Used queue
 000E54 58F0 A1E4/0DEF       00F50  8695  1 1391.                ACALL ADDSPEC                 Add the data to the used queue
                                    8702  1 1392.     *
                                    8703  1 1393.     * Call the paging supervisor to define the virtual memory location.
                                    8704  1 1394.     *
 000E5A 9845 D04C            00004  8705  1 1395.                LM    RJ,RK,RAPLOC            Get the location and length
 DROP   REMADDP-72,R13              8706  1 1396.                PSET  @PAGDEF
 USING  @PAGDEF-72,R13
 000E5E D709 D048 D048 00000 00000  8726  1          +
 000E64 9045 D048            00000  8727  1 1397.                STM   RJ,RK,@PDADDR           Save the location/length
 000E68 9120 600C      0000C        8728  1 1398.                IF    SPCBGLOB,'SET @PDFGLOB'
 000E6C 47E0 A108            00E74  8738  1          +
 000E70 9680 D051      00009        8749  1          +
 000E74 9102 600C      0000C        8754  1 1399.                IF    SPCBSYS,'MVC @PDKEY,VSCTSKEY'
 000E78 47E0 A116            00E82  8764  1          +
 000E7C D200 D050 702C 00008 0002C  8770  1          +
 000E82 A11A           00E82 00E7A  8775  1 1400.                ELSE  'MVC @PDKEY,VSCTUKEY'
 000E82 47F0 A120            00E8C  8780  1          +
 000E86 D200 D050 702D 00008 0002D  8787  1          +
 000E8C 9108 600C      0000C        8792  1 1401.                IF    SPCBFETP,'SET @PDKEY.8'           Fetch protect
 000E90 47E0 A12C            00E98  8802  1          +
 000E94 9608 D050      00008        8814  1          +
                                    8819  1 1402.     *        MVC   @PDHASH,VSCTHASH                  Hash Value
 000E98 9610 7004      00004        8820  1 1403.                SET   VSCTPGDF                Indicate call to PAGE DEF
 000E9C 58F0 7030/0DEF       00030  8826  1 1404.                ACALL VSCTPDEF
 000EA2 94EF 7004      00004        8833  1 1405.                CLEAR VSCTPGDF                No longer in PAGE DEF code
                                    8840  1 1406.     *
                                    8841  1 1407.     * Is the page fixed?
                                    8842  1 1408.     *
 000EA6 9104 600C      0000C        8843  1 1409.                IF    SPCBFIX,BEGIN
 000EAA 47E0 A170            00EDC  8853  1          +
 DROP   @PAGDEF-72,R13              8858  2 1410.                  PSET  @PAGE
 USING  @PAGE-72,R13
 000EAE D708 D048 D048 00000 00000  8878  2          +
 000EB4 5040 D048            00000  8879  2 1411.                  ST    RJ,@PAGLOC              Save the page location
 000EB8 5050 D04C            00004  8880  2 1412.                  ST    RK,@PAGLEN              And the length in bytes
 000EBC 9608 7004      00004        8881  2 1413.                  SET   VSCTPGFX                Indicate call to PAGE FIX
 000EC0 9120 600C      0000C        8887  2 1414.                  IF    SPCBGLOB,'ACALL VSCTPFIX' Long term fix
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   57
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMGETS,R10) (@VMGET-72,R12) (@PAGE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000EC4 47E0 A162            00ECE  8897  2          +
 000EC8 58F0 7034/0DEF       00034  8908  2          +
 000ECE A166           00ECE 00EC6  8914  2 1415.                  ELSE  'VCALL PAGSFIX'         Otherwise short term fix
 000ECE 47F0 A16C            00ED8  8919  2          +
 000ED2 58F0 A1E8/0DEF       00F54  8928  2          +
 000ED8 94F7 7004      00004        8934  2 1416.                  CLEAR VSCTPGFX                No longer in PAGE FIX code
 000EDC                             8941  1 1417.                END   ,
                                    8945  1 1418.     *
                                    8946  1 1419.     * Check on the VSLB supply
                                    8947  1 1420.     *
 000EDC 9140 7004      00004        8948  1 1421.                IF    VSCTNORS,BEGIN
 000EE0 47E0 A182            00EEE  8958  1          +
 DROP   @PAGE-72,R13                8963  2 1422.                  PSET  GFVSLB,CLEAR=NO
 USING  GFVSLB-72,R13
 000EE4 5070 D048            00000  8977  2 1423.                  PMOV  GFVADDR,LA:VSCT         VSCT address
 000EE8 58F0 A1EC/0DEF       00F58  8988  2 1424.                  ACALL ALOCVSLB                Get more
 000EEE                             8995  1 1425.                END   ,
                                    8999  1 1426.     *
                                    9000  1 1427.     * Now we can return to the caller with the memory
                                    9001  1 1428.     *
 000EEE 1804                        9002  1 1429.                LR    RVR,RJ
 DROP   SPCB,R6                     9003    1430.              END   ,                       End of VMGLOCK
                                    9012    1431.     *
                                    9013    1432.     * Free the lock
                                    9014    1433.     *
 000EF0 1820                        9015    1434.              LR    RA,RVR                  Save the return value
 000EF2 5880 7038/1288       00038  9016    1435.              IF    ('LT RM,VSCTSTAT',NZ),BEGIN      -->
 000EF8 4780 A1A0            00F0C  9027             +
 USING  VMSTAT,R8                   9032  1 1436.                WITH  (VMSTAT,RM)
 000EFC 4110 0001            00001  9045  1 1437.                INCR  RS,VHGETS
 000F00 5E10 8008            00008  9049  1          +
 000F04 5010 8008            00008  9050  1          +
 000F08 4D90 A3DA            01146  9051  1 1438.                BAS   RN,VGRTNLOG             --> log caller
 DROP   VMSTAT,R8                   9052    1439.              END   ,                                -->
 000F0C 9180 7004      00004        9061    1440.              IF    ~VSCTGLOB,'VCALL ASULOCK'
 000F10 4710 A1AE            00F1A  9071             +
 000F14 58F0 A1F0/0DEF       00F5C  9079             +
 000F1A A1B2           00F1A 00F12  9085    1441.              ELSE  BEGIN
 000F1A 47F0 A1C6            00F32  9090             +
 000F1E 5810 7008/1211       00008  9096  1 1442.                LT    RS,VSCTLOCK             Get the lock ID
 000F24 4780 A1C6            00F32  9100  1 1443.                IF    NZ,'LKREL (RS)'         Free the lock (if one exists)
 DROP   GFVSLB-72,R13
 USING  @LOCKS-72,R13
 000F28 5010 D048            00000  9136  2          +
 000F2C 58F0 A1F4/0DEF       00F60  9139  1          +
 000F32                             9145    1444.              END   ,
 000F32 1802                        9149    1445.              LR    RVR,RA                  Restore the return value
                                    9150    1446.
 000F34 981F C008            00008  9151    1447.     VMGSEXIT PEND
 DROP   VSCT,R7
 DROP   @VMGET-72,R12
 DROP   VMGETS,R10
 000F38 9680 C000/0B0E 00000        9172             +
 DROP   @LOCKS-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   58
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9181    1448.
 000F40                             9182    1449.              LTORG
 000F40 00000000                    9184                             =V(ASLOCK)
 000F44 00000000                    9185                             =V(LKOB)
 000F48 00001306                    9186                             =A(NEWPOOL)
 000F4C 0000016C                    9187                             =A(REMSPEC)
 000F50 0000046C                    9188                             =A(ADDSPEC)
 000F54 00000000                    9189                             =V(PAGSFIX)
 000F58 0000151C                    9190                             =A(ALOCVSLB)
 000F5C 00000000                    9191                             =V(ASULOCK)
 000F60 00000000       00F64 01FD6  9192                             =V(LKREL)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   59
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9197    1451.     *****************************************************************
                                    9198    1452.     *                                                               *
                                    9199    1453.     *  VMFREE  --  This routine frees a block of virtual memory of  *
                                    9200    1454.     *              the reqested size into the requested pool. It    *
                                    9201    1455.     *              returns success or failure in RVR.               *
                                    9202    1456.     *                                                               *
                                    9203    1457.     *                                                               *
                                    9204    1458.     *   Input  --  @VMFREE                                          *
                                    9205    1459.     *                                                               *
                                    9206    1460.     *  Output  --  RVR  = 0 : Memory freed                          *
                                    9207    1461.     *              RVR ~= 0 : Memory not freed                      *
                                    9208    1462.     *                                                               *
                                    9209    1463.     *****************************************************************
-000F64                             9211    1465.     VMFREE   PROC  @VMFREE,SCOPE=GLOBAL
 000F64 E5D4C6D9C5C54040            9217             +
 000F6C 0010/0000                   9218             +
 000F70 900F D004/18AF       00004  9220             +
 USING  VMFREE,R10
 000F76 50D0 C000/18CD       00000  9235             +
 000F7C 9680 C000      00000        9237             +
 USING  @VMFREE-72,R12
 000F80 41D0 C058            00058  9251             +
                                    9252    1466.     *
                                    9253    1467.     * Determine whether the requested pool is local or global and get
                                    9254    1468.     * the address of the correct VSCT
                                    9255    1469.     *
 000F84 9120 C050      00008        9256    1470.              TM    @VMFPOOL,PNGLOBAL       Check the global bit in pool
 000F88 47E0 A028            00F98  9257    1471.              IF    ON,BEGIN                Global pool
 USING  PZERO,R0                    9268  1 1472.                USING PZERO,R0
 000F8C 5810 0200            00200  9277  1 1473.                L     RS,PZMATP               Get the mat pointer
 DROP   PZERO,R0                    9278  1 1474.                DROP  R0
 000F90 5810 1004            00004  9286  1 1475.                WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 000F94 5870 1028            00028  9310  1 1476.                WITH  (VMCB,RS),'L RY,VMCBGVS'
 USING  VMCB,R1
 DROP   VMCB,R1
 000F98 A02C           00F98 00F8A  9334    1477.              END   ELSE,BEGIN              Local pool
 000F98 47F0 A034            00FA4  9343             +
 USING  PZERO,R0                    9349  1 1478.                USING PZERO,R0
 000F9C 5810 0208            00208  9358  1 1479.                L     RS,PZCURASB             Get the current ASB
 DROP   PZERO,R0                    9359  1 1480.                DROP  R0
 000FA0 5870 1018            00018  9367  1 1481.                WITH  (ASB,RS),'L RY,ASBVSCT' Get the local one
 USING  ASB,R1
 DROP   ASB,R1
 000FA4                             9391    1482.              END   ,
 USING  VSCT,R7                     9395    1483.              WITH  (VSCT,RY)
 000FA4 5880 7038/1288       00038  9408    1484.              IF    ('LT RM,VSCTSTAT',NZ),BEGIN      -->
 000FAA 4780 A042            00FB2  9419             +
 USING  VMSTAT,R8                   9424  1 1485.                WITH  (VMSTAT,RM)
 000FAE 4D90 A230            011A0  9437  1 1486.                BAS   RN,VFRTNLOG             --> log caller
 DROP   VMSTAT,R8                   9438    1487.              END   ,                                -->
                                    9447    1488.     *
                                    9448    1489.     * Lock up the VSCT
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   60
0Current Usings:  (VSCT,R7) (VMFREE,R10) (@VMFREE-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9449    1490.     *
 000FB2 9620 7004      00004        9450    1491.              SET   VSCTLKRQ            Indicate VCALL for a lock
 000FB6 9180 7004      00004        9456    1492.              IF    ~VSCTGLOB,'VCALL ASLOCK'
 000FBA 4710 A054            00FC4  9466             +
 000FBE 58F0 A1A0/0DEF       01110  9474             +
 000FC4 A058           00FC4 00FBC  9480    1493.              ELSE  BEGIN
 000FC4 47F0 A06C            00FDC  9485             +
 000FC8 5810 7008/1211       00008  9491  1 1494.                LT    RS,VSCTLOCK             Lock id
 000FCE 4780 A06C            00FDC  9495  1 1495.                IF    NZ,'LKOB (RS)'          Obtain it if it exists
 USING  @LOCKS-72,R13
 000FD2 5010 D048            00000  9528  2          +
 000FD6 58F0 A1A4/0DEF       01114  9531  1          +
 000FDC                             9537    1496.              END   ,
 000FDC 94DF 7004      00004        9541    1497.              CLEAR VSCTLKRQ            No longer in obtain lock code
 000FE0                             9548    1498.     VMFLOCK  BEGIN                         Locked area in its own block
                                    9553  1 1499.     *
                                    9554  1 1500.     * Now we look for the SPCB
                                    9555  1 1501.     *
 000FE0 5860 7020            00020  9556  1 1502.                L     RX,VSCTPOOL             Get the first one
 USING  SPCB,R6                     9557  1 1503.                WITH  (SPCB,RX)
 000FE4                             9570  1 1504.                WHILE (SPCBPOOL,NE,@VMFPOOL),BEGIN
 000FE4 D501 600C C050 0000C 00008  9583  1          +
 000FEA 4780 A094            01004  9584  1          +
 000FEE 5860 6004/1266       00004  9589  2 1505.                  LT    RX,SPCBNEXT
                                    9593  2 1506.     *
                                    9594  2 1507.     * If there is no pool... he must be mistaken
                                    9595  2 1508.     *
 000FF4 4770 A090            01000  9596  2 1509.                  IF    Z,BEGIN
 000FF8 4100 0004            00004  9607  3 1510.                    LA    RVR,4
 000FFC 47F0 A16A            010DA  9608  3 1511.                    EXIT  VMFLOCK
 001000                             9611  2 1512.                  END   ,
 001000 47F0 A074            00FE4  9615  1 1513.                END   ,
                                    9620  1 1514.     *
                                    9621  1 1515.     * Round the Amount of storage he is requesting up to the nearest
                                    9622  1 1516.     * eight byte boundary
                                    9623  1 1517.     *
 001004 5810 C04C            00004  9624  1 1518.                L     RS,@VMFLEN
 001008 4A10 A1D4            01144  9625  1 1519.                AH    RS,=Y(VMAL-1)
 00100C 5410 A1A8            01118  9626  1 1520.                N     RS,=A(VMALIGN)
 001010 4770 A0AC            0101C  9627  1 1521.                IF    Z,BEGIN
 001014 4100 000C            0000C  9638  2 1522.                  LA    RVR,12                  Invalid length
 001018 47F0 A16A            010DA  9639  2 1523.                  EXIT  VMFLOCK                 He doesn't really have any
 00101C                             9642  1 1524.                END   ,
 00101C 5010 C04C            00004  9646  1 1525.                ST    RS,@VMFLEN              Update the parm value
                                    9647  1 1526.     *
                                    9648  1 1527.     * Also round the address of the storage off to the lower 8 byte bdy
                                    9649  1 1528.     *
 001020 D403 C048 A1A8 00000 01118  9650  1 1529.                NC    @VMFLOC,=A(VMALIGN)     Turn off the low order bits
                                    9651  1 1530.     *
                                    9652  1 1531.     * Remove his block from the used queue
                                    9653  1 1532.     *
 DROP   @LOCKS-72,R13               9654  1 1533.                PSET  REMADDP,CLEAR=NO
 USING  REMADDP-72,R13
 001026 D203 D048 6014 00000 00014  9668  1 1534.                MVC   RAPVSLB,SPCBUVSL        It is the used queue we want
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   61
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMFREE,R10) (@VMFREE-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000102C D203 D04C C048 00004 00000  9669  1 1535.                MVC   RAPLOC,@VMFLOC          Location of the block
 001032 D203 D050 C04C 00008 00004  9670  1 1536.                MVC   RAPLEN,@VMFLEN          And its length
 001038 58F0 A1AC/0DEF       0111C  9671  1 1537.                ACALL REMSPEC                 Remove the block
 00103E 1200/4780 A0DC       0104C  9678  1 1538.                IF    (RVR,NZ),BEGIN          The block was not reserved
 001044 4100 0010            00010  9692  2 1539.                  LA    RVR,16
 001048 47F0 A16A            010DA  9693  2 1540.                  EXIT  VMFLOCK                 He doesn't own the block
 00104C                             9696  1 1541.                END   ,
                                    9700  1 1542.     *
                                    9701  1 1543.     * The storage has been removed from the used queue, now it must be
                                    9702  1 1544.     * added to the free queue.
                                    9703  1 1545.     *
 00104C D203 D048 6018 00000 00018  9704  1 1546.                MVC   RAPVSLB,SPCBFVSL        Free queue designator
 001052 58F0 A1B0/0DEF       01120  9705  1 1547.                ACALL ADDSPEC                 And add it there
 001058 1820                        9712  1 1548.                LR    RA,RVR
 USING  VSLB,R2                     9713  1 1549.                WITH  (VSLB,RA),BEGIN
 00105A                             9727  2 1550.                  IF    (VSLBLEN,GE,4096),BEGIN
 00105A D503 A1B4 2014 01124 00014  9739  2          +
 001060 4730 A156            010C6  9740  2          +
                                    9745  3 1551.     *
                                    9746  3 1552.     * Now scan for free pages.  If there are any we free them.
                                    9747  3 1553.     *
 001064 5020 D054            0000C  9748  3 1554.                    PMOV  RAPSPEC,LA:VSLB         And the seg over 4k
 001068 58F0 A1B8/0DEF       01128  9759  3 1555.                    ACALL REMPAGE                 See if there are any
                                    9766  3 1556.
 00106E 1200/4770 A156       010C6  9767  3 1557.                    IF    (RVR,Z),BEGIN           There are some pages free
 001074 D203 D048 6010 00000 00010  9781  4 1558.                      MVC   RAPVSLB,SPCBVSRB        Move in the regional VSLB
 00107A 58F0 A1B0/0DEF       01120  9782  4 1559.                      ACALL ADDSPEC                 Add the pages to the region
                                    9789  4 1560.     *
                                    9790  4 1561.     * Then free the underlying frames
                                    9791  4 1562.     *
 001080 9845 D04C            00004  9792  4 1563.                      LM    RJ,RK,RAPLOC            Get the location and length
 001084 9104 600C      0000C        9793  4 1564.                      IF    SPCBFIX,BEGIN
 001088 47E0 A142            010B2  9803  4          +
 DROP   REMADDP-72,R13              9808  5 1565.                        PSET  @PAGE                   Parm area for unfix
 USING  @PAGE-72,R13
 00108C D708 D048 D048 00000 00000  9828  5          +
 001092 5040 D048            00000  9829  5 1566.                        ST    RJ,@PAGLOC              Save the location
 001096 5050 D04C            00004  9830  5 1567.                        ST    RK,@PAGLEN              And the length
 00109A 9120 600C      0000C        9831  5 1568.                        IF    SPCBGLOB,'VCALL PAGUFIX'   Long term unfix
 00109E 47E0 A138            010A8  9841  5          +
 0010A2 58F0 A1BC/0DEF       0112C  9849  5          +
 0010A8 A13C           010A8 010A0  9855  5 1569.                        ELSE  'VCALL PAGUSFIX'        Short term unfix
 0010A8 47F0 A142            010B2  9860  5          +
 0010AC 58F0 A1C0/0DEF       01130  9869  5          +
 0010B2                             9875  4 1570.                      END   ,
 0010B2                             9879  4 1571.                      PSET  @PAGE                   Parm area for undef
 0010B2 D708 D048 D048 00000 00000  9889  4          +
 0010B8 5040 D048            00000  9890  4 1572.                      ST    RJ,@PAGLOC              Location
 0010BC 5050 D04C            00004  9891  4 1573.                      ST    RK,@PAGLEN              Length
 0010C0 58F0 A1C4/0DEF       01134  9892  4 1574.                      VCALL PAGUDEF                 Then undefine the pages
 0010C6                             9896  3 1575.                    END   ,
 0010C6                             9900  2 1576.                  END   ,                       OF Segment over 4K
 DROP   VSLB,R2                     9904  1 1577.                END   ,                       OF VSLB addr
                                    9912  1 1578.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   62
0Current Usings:  (SPCB,R6) (VSCT,R7) (VMFREE,R10) (@VMFREE-72,R12) (@PAGE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9913  1 1579.     * Check on the VSLB supply
                                    9914  1 1580.     *
 0010C6 9140 7004      00004        9915  1 1581.                IF    VSCTNORS,BEGIN
 0010CA 47E0 A168            010D8  9925  1          +
 DROP   @PAGE-72,R13                9930  2 1582.                  PSET  GFVSLB,CLEAR=NO
 USING  GFVSLB-72,R13
 0010CE 5070 D048            00000  9944  2 1583.                  PMOV  GFVADDR,LA:VSCT         VSCT address
 0010D2 58F0 A1C8/0DEF       01138  9955  2 1584.                  ACALL ALOCVSLB                Get more
 0010D8                             9962  1 1585.                END   ,
                                    9966  1 1586.     *
                                    9967  1 1587.     * All done.  Now we can return to the caller
                                    9968  1 1588.     *
 0010D8 1B00                        9969  1 1589.                CLEAR RVR
 DROP   SPCB,R6                     9973    1590.              END   ,                       End of the locked area
 0010DA 1820                        9982    1591.              LR    RA,RVR                  Save the return value
 0010DC 9180 7004      00004        9983    1592.              IF    ~VSCTGLOB,'VCALL ASULOCK'
 0010E0 4710 A17A            010EA  9993             +
 0010E4 58F0 A1CC/0DEF       0113C 10001             +
 0010EA A17E           010EA 010E2 10007    1593.              ELSE  BEGIN
 0010EA 47F0 A192            01102 10012             +
 0010EE 5810 7008/1211       00008 10018  1 1594.                LT    RS,VSCTLOCK             Get the lock ID
 0010F4 4780 A192            01102 10022  1 1595.                IF    NZ,'LKREL (RS)'         Free the lock (if one exists)
 DROP   GFVSLB-72,R13
 USING  @LOCKS-72,R13
 0010F8 5010 D048            00000 10058  2          +
 0010FC 58F0 A1D0/0DEF       01140 10061  1          +
 001102                            10067    1596.              END   ,
 001102 1802                       10071    1597.              LR    RVR,RA                  Restore the return value
 001104 981F C008            00008 10072    1598.              PEND  ,                       Return to caller
 DROP   VSCT,R7
 DROP   @VMFREE-72,R12
 DROP   VMFREE,R10
 001108 9680 C000/0B0E 00000       10092             +
 DROP   @LOCKS-72,R13
 001110                            10101    1599.              LTORG
 001110 00000000                   10103                             =V(ASLOCK)
 001114 00000000                   10104                             =V(LKOB)
 001118 7FFFFFF0                   10105                             =A(VMALIGN)
 00111C 0000016C                   10106                             =A(REMSPEC)
 001120 0000046C                   10107                             =A(ADDSPEC)
 001124 00001000                   10108                             =AL4(4096)
 001128 00000594                   10109                             =A(REMPAGE)
 00112C 00000000                   10110                             =V(PAGUFIX)
 001130 00000000                   10111                             =V(PAGUSFIX)
 001134 00000000                   10112                             =V(PAGUDEF)
 001138 0000151C                   10113                             =A(ALOCVSLB)
 00113C 00000000                   10114                             =V(ASULOCK)
 001140 00000000                   10115                             =V(LKREL)
 001144 000F           01146 01FD6 10116                             =Y(VMAL-1)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   63
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10121    1601.     *  -->
                                   10122    1602.     *  Uses RJ RK R15 R1
                                   10123    1603.     *  RM points @ stat blk
                                   10124    1604.     *  RN is return addr ptr for this temp rtn
                                   10125    1605.     *  R0 contains allocated mem addr
                                   10126    1606.     *  R14 contains return address to original caller
                                   10127    1607.     *
 001146                            10128    1608.     VGRTNLOG LABEL ,                       -->
 001146                            10130    1609.              BEGIN ,
 001146 0D40                       10134  1 1610.                BASE  RJ
 USING  *,R4
 USING  VMSTAT,R8                  10148  1 1611.                WITH  (VMSTAT,RM)
 USING  @VMGET-72,R12              10161  1 1612.                WITH  (@VMGET-72,WAR)
                                   10174  1 1613.     *
                                   10175  1 1614.     *  Histogram of lengths
                                   10176  1 1615.     *
 001148 58F0 C048            00000 10177  1 1616.                L     EPAR,@VMGLEN
 00114C 88F0 0005            00005 10178  1 1617.                SRL   EPAR,5                  multiples of 32
 001150 89F0 0002            00002 10179  1 1618.                SLL   EPAR,2
 001154 59F0 4DF8            01F40 10180  1 1619.                CEIL  EPAR,=A(MXHIST)
 001158 47D0 4018            01160 10183  1          +
 00115C 58F0 4DF8            01F40 10184  1          +
 001160 585F 8020            00020 10185  1 1620.                L     RK,VHHIST(EPAR)         one more for histogram
 001164 5E50 4DFC            01F44 10186  1 1621.                INCR  RK
 001168 505F 8020            00020 10189  1 1622.                ST    RK,VHHIST(EPAR)
                                   10190  1 1623.     *
                                   10191  1 1624.     *  Circular list of return addr, len, loc
                                   10192  1 1625.     *
 00116C 5850 8804            00804 10193  1 1626.                L     RK,VHRTNPTR             Offset to last slot
 001170 5950 4E00            01F48 10194  1 1627.                IF    (RK,GT,MXRTN),BEGIN     If it overflows, reset it
 001174 47D0 4042            0118A 10206  1          +
 001178 B205 8808      00808       10211  2 1628.                  STCK  VHRTNSTK                Mark w/ TOD
 00117C 4150 0001            00001 10212  2 1629.                  INCR  RK,VHRTNCNT
 001180 5E50 8800            00800 10216  2          +
 001184 5050 8800            00800 10217  2          +
 001188 1B55                       10218  2 1630.                  CLEAR RK
 00118A                            10222  1 1631.                END   ,
 00118A 58E0 C03C            0003C 10226  1 1632.                L     R14,4+(4*14)(,WAR)      Get return addr
 00118E 4145 8810            00810 10227  1 1633.                LA    RJ,VHRTN(RK)
 001192 90E0 4000            00000 10228  1 1634.                STM   R14,R0,0(RJ)            Store return address, len, loc
 001196 4150 500C            0000C 10229  1 1635.                LA    RK,@RK+12               Update it
 00119A 5050 8804            00804 10230  1 1636.                ST    RK,VHRTNPTR             Reset offset
 00119E 07F9                       10231  1 1637.                BR    RN                      Return from whence called
 DROP   @VMGET-72,R12              10232    1638.              END   ,
 DROP   VMSTAT,R8
-
0                                  10247    1640.     *  -->
                                   10248    1641.     *  Uses RJ RK R15
                                   10249    1642.     *  RM points @ stat blk
                                   10250    1643.     *  RN is return addr ptr for this temp rtn
                                   10251    1644.     *  R0 contains allocated mem addr
                                   10252    1645.     *  R14 contains return address to original caller
                                   10253    1646.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   64
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00011A0                            10254    1647.     VFRTNLOG LABEL ,                       -->
 0011A0                            10256    1648.              BEGIN ,
 0011A0 0D40                       10260  1 1649.                BASE  RJ
 DROP   *,R4
 USING  *,R4
 USING  VMSTAT,R8                  10277  1 1650.                WITH  (VMSTAT,RM)
 USING  @VMFREE-72,R12             10290  1 1651.                WITH  (@VMFREE-72,WAR)
 0011A2 4150 0001            00001 10303  1 1652.                INCR  RK,VHFREE
 0011A6 5E50 800C            0000C 10307  1          +
 0011AA 5050 800C            0000C 10308  1          +
                                   10309  1 1653.     *
                                   10310  1 1654.     *  Circular list of return addr, len, loc
                                   10311  1 1655.     *
 0011AE 5850 8804            00804 10312  1 1656.                L     RK,VHRTNPTR             Offset to last slot
 0011B2 5950 4DA6            01F48 10313  1 1657.                IF    (RK,GT,MXRTN),BEGIN     If it overflows, reset it
 0011B6 47D0 402A            011CC 10325  1          +
 0011BA B205 8808      00808       10330  2 1658.                  STCK  VHRTNSTK                Mark w/ TOD
 0011BE 4150 0001            00001 10331  2 1659.                  INCR  RK,VHRTNCNT
 0011C2 5E50 8800            00800 10335  2          +
 0011C6 5050 8800            00800 10336  2          +
 0011CA 1B55                       10337  2 1660.                  CLEAR RK
 0011CC                            10341  1 1661.                END   ,
 0011CC 54E0 4DAA            01F4C 10345  1 1662.                N     R14,=X'7FFFFFFF'        Show it's a free
 0011D0 58F0 C04C            00004 10346  1 1663.                L     R15,@VMFLEN             length
 0011D4 5800 C048            00000 10347  1 1664.                L     R0,@VMFLOC              location
 0011D8 4145 8810            00810 10348  1 1665.                LA    RJ,VHRTN(RK)
 0011DC 90E0 4000            00000 10349  1 1666.                STM   R14,R0,0(RJ)            Store return address, len, loc
 0011E0 4150 500C            0000C 10350  1 1667.                LA    RK,@RK+12               Update it
 0011E4 5050 8804            00804 10351  1 1668.                ST    RK,VHRTNPTR             Reset offset
 0011E8 07F9                       10352  1 1669.                BR    RN                      Return from whence called
 DROP   @VMFREE-72,R12             10353    1670.              END   ,
 DROP   VMSTAT,R8
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   65
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10368    1672.     *****************************************************************
                                   10369    1673.     *                                                               *
                                   10370    1674.     *    VMCHK --  This routine determines whether a given area of  *
                                   10371    1675.     *              virtual storage is allocacted and resides within *
                                   10372    1676.     *              the specified pool.  It returns a 0 if so and    *
                                   10373    1677.     *              non-zero if not in RVR.                          *
                                   10374    1678.     *                                                               *
                                   10375    1679.     *   Input  --  @VMFREE                                          *
                                   10376    1680.     *                                                               *
                                   10377    1681.     *  Output  --  In pool and allocated: RVR=0; otherwize: RVR~=0  *
                                   10378    1682.     *                                                               *
                                   10379    1683.     *****************************************************************
-0011EA                            10381    1685.     VMCHK    PROC  @VMFREE,SCOPE=GLOBAL
 0011EA E5D4C3C8D2404040           10387             +
 0011F2 0010/0000                  10388             +
 0011F6 900F D004/18AF       00004 10390             +
 USING  VMCHK,R10
 0011FC 50D0 C000/18CD       00000 10405             +
 001202 9680 C000      00000       10407             +
 USING  @VMFREE-72,R12
 001206 41D0 C058            00058 10421             +
                                   10422    1686.     *
                                   10423    1687.     * Determine whether the requested pool is local or global and get
                                   10424    1688.     * the address of the correct VSCT
                                   10425    1689.     *
 00120A 9120 C050      00008       10426    1690.              TM    @VMFPOOL,PNGLOBAL       Check the global bit in pool
 00120E 47E0 A028            0121E 10427    1691.              IF    ON,BEGIN                Global pool
 USING  PZERO,R0                   10438  1 1692.                USING PZERO,R0
 001212 5810 0200            00200 10447  1 1693.                L     RS,PZMATP               Get the mat pointer
 DROP   PZERO,R0                   10448  1 1694.                DROP  R0
 001216 5810 1004            00004 10456  1 1695.                WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 00121A 5870 1028            00028 10480  1 1696.                WITH  (VMCB,RS),'L RY,VMCBGVS'
 USING  VMCB,R1
 DROP   VMCB,R1
 00121E A02C           0121E 01210 10504    1697.              END   ELSE,BEGIN              Local pool
 00121E 47F0 A034            0122A 10513             +
 USING  PZERO,R0                   10519  1 1698.                USING PZERO,R0
 001222 5810 0208            00208 10528  1 1699.                L     RS,PZCURASB             Get the current ASB
 DROP   PZERO,R0                   10529  1 1700.                DROP  R0
 001226 5870 1018            00018 10537  1 1701.                WITH  (ASB,RS),'L RY,ASBVSCT' Get the local one
 USING  ASB,R1
 DROP   ASB,R1
 00122A                            10561    1702.              END   ,
 USING  VSCT,R7                    10565    1703.              WITH  (VSCT,RY)
                                   10578    1704.     *
                                   10579    1705.     * Lock up the VSCT
                                   10580    1706.     *
 00122A 9620 7004      00004       10581    1707.              SET   VSCTLKRQ            Indicate VCALL for a lock
 00122E 9180 7004      00004       10587    1708.              IF    ~VSCTGLOB,'VCALL ASLOCK'
 001232 4710 A046            0123C 10597             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   66
0Current Usings:  (*,R4) (VSCT,R7) (VMCHK,R10) (@VMFREE-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001236 58F0 AD5A/0DEF       01F50 10605             +
 00123C A04A           0123C 01234 10611    1709.              ELSE  BEGIN
 00123C 47F0 A05E            01254 10616             +
 001240 5810 7008/1211       00008 10622  1 1710.                LT    RS,VSCTLOCK             Lock id
 001246 4780 A05E            01254 10626  1 1711.                IF    NZ,'LKOB (RS)'          Obtain it if it exists
 USING  @LOCKS-72,R13
 00124A 5010 D048            00000 10659  2          +
 00124E 58F0 AD5E/0DEF       01F54 10662  1          +
 001254                            10668    1712.              END   ,
 001254 94DF 7004      00004       10672    1713.              CLEAR VSCTLKRQ            No longer in obtain lock code
 001258                            10679    1714.     VMCLOCK  BEGIN                         Locked area in its own block
                                   10684  1 1715.     *
                                   10685  1 1716.     * Now we look for the SPCB
                                   10686  1 1717.     *
 001258 5860 7020            00020 10687  1 1718.                L     RX,VSCTPOOL             Get the first one
 USING  SPCB,R6                    10688  1 1719.                WITH  (SPCB,RX)
 00125C                            10701  1 1720.                WHILE (SPCBPOOL,NE,@VMFPOOL),BEGIN
 00125C D501 600C C050 0000C 00008 10714  1          +
 001262 4780 A086            0127C 10715  1          +
 001266 5860 6004/1266       00004 10720  2 1721.                  LT    RX,SPCBNEXT
                                   10724  2 1722.     *
                                   10725  2 1723.     * If there is no pool... he must be mistaken
                                   10726  2 1724.     *
 00126C 4770 A082            01278 10727  2 1725.                  IF    Z,BEGIN
 001270 4100 0004            00004 10738  3 1726.                    LA    RVR,4
 001274 47F0 A0D0            012C6 10739  3 1727.                    EXIT  VMCLOCK
 001278                            10742  2 1728.                  END   ,
 001278 47F0 A066            0125C 10746  1 1729.                END   ,
                                   10751  1 1730.     *
                                   10752  1 1731.     * Round the Amount of storage he is curious about up to the nearest
                                   10753  1 1732.     * eight byte boundary
                                   10754  1 1733.     *
 00127C 5810 C04C            00004 10755  1 1734.                L     RS,@VMFLEN
 001280 4A10 ADCA            01FC0 10756  1 1735.                AH    RS,=Y(VMAL-1)
 001284 5410 AD62            01F58 10757  1 1736.                N     RS,=A(VMALIGN)
 001288 4770 A09E            01294 10758  1 1737.                IF    Z,BEGIN
 00128C 4100 000C            0000C 10769  2 1738.                  LA    RVR,12                  Invalid length
 001290 47F0 A0D0            012C6 10770  2 1739.                  EXIT  VMCLOCK                 He doesn't really have any
 001294                            10773  1 1740.                END   ,
 001294 5010 C04C            00004 10777  1 1741.                ST    RS,@VMFLEN              Update the parm value
                                   10778  1 1742.     *
                                   10779  1 1743.     * Also round the address of the storage off to the lower 8 byte bdy
                                   10780  1 1744.     *
 001298 D403 C048 AD62 00000 01F58 10781  1 1745.                NC    @VMFLOC,=A(VMALIGN)     Turn off the low order bits
                                   10782  1 1746.     *
                                   10783  1 1747.     * See if his block is in the used queue
                                   10784  1 1748.     *
 DROP   @LOCKS-72,R13              10785  1 1749.                PSET  REMADDP,CLEAR=NO
 USING  REMADDP-72,R13
 00129E D203 D048 6014 00000 00014 10799  1 1750.                MVC   RAPVSLB,SPCBUVSL        It is the used queue we want
 0012A4 D203 D04C C048 00004 00000 10800  1 1751.                MVC   RAPLOC,@VMFLOC          Location of the block
 0012AA D203 D050 C04C 00008 00004 10801  1 1752.                MVC   RAPLEN,@VMFLEN          And its length
 0012B0 58F0 AD66/0DEF       01F5C 10802  1 1753.                ACALL CHKSPEC                 Check on the block
 0012B6 1200/4780 A0CE       012C4 10809  1 1754.                IF    (RVR,NZ),BEGIN          The block was not in there
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   67
0Current Usings:  (*,R4) (SPCB,R6) (VSCT,R7) (VMCHK,R10) (@VMFREE-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00012BC 4100 0010            00010 10823  2 1755.                  LA    RVR,16
 0012C0 47F0 A0D0            012C6 10824  2 1756.                  EXIT  VMCLOCK                 He doesn't own the block
 0012C4                            10827  1 1757.                END   ,
                                   10831  1 1758.     *
                                   10832  1 1759.     * All done.  Now we can return to the caller
                                   10833  1 1760.     *
 0012C4 1B00                       10834  1 1761.                CLEAR RVR
 DROP   SPCB,R6                    10838    1762.              END   ,                       End of the locked area
 0012C6 1820                       10847    1763.              LR    RA,RVR                  Save the return value
 0012C8 9180 7004      00004       10848    1764.              IF    ~VSCTGLOB,'VCALL ASULOCK'
 0012CC 4710 A0E0            012D6 10858             +
 0012D0 58F0 AD6A/0DEF       01F60 10866             +
 0012D6 A0E4           012D6 012CE 10872    1765.              ELSE  BEGIN
 0012D6 47F0 A0F8            012EE 10877             +
 0012DA 5810 7008/1211       00008 10883  1 1766.                LT    RS,VSCTLOCK             Get the lock ID
 0012E0 4780 A0F8            012EE 10887  1 1767.                IF    NZ,'LKREL (RS)'         Free the lock (if one exists)
 DROP   REMADDP-72,R13
 USING  @LOCKS-72,R13
 0012E4 5010 D048            00000 10923  2          +
 0012E8 58F0 AD6E/0DEF       01F64 10926  1          +
 0012EE                            10932    1768.              END   ,
 0012EE 1802                       10936    1769.              LR    RVR,RA                  Restore the return value
 0012F0 981F C008            00008 10937    1770.              PEND  ,                       Return to caller
 DROP   VSCT,R7
 DROP   @VMFREE-72,R12
 DROP   VMCHK,R10
 0012F4 9680 C000/0B0E 00000       10957             +
 DROP   @LOCKS-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   68
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10967    1772.     *****************************************************************
                                   10968    1773.     *                                                               *
                                   10969    1774.     * NEWPOOL  --  This routine allocates and formats control       *
                                   10970    1775.     *              blocks for a new storage pool.  It is passed the *
                                   10971    1776.     *              address of the controlling VSCT and the pool     *
                                   10972    1777.     *              number to be created.                            *
                                   10973    1778.     *                                                               *
                                   10974    1779.     *   Input  --  NEWPOOLP                                         *
                                   10975    1780.     *                                                               *
                                   10976    1781.     *  Output  --  none                                             *
                                   10977    1782.     *                                                               *
                                   10978    1783.     *****************************************************************
-000000                00000 00006 10980    1785.     NEWPOOLP RECORD BEGIN
 000000                            10988  1 1786.     NEWPVSCT   DS    A             VSCT Address
 000004                            10989  1 1787.     NEWPPOOL   DS    H             Pool number (MAJOR/SUB)
 000006                00006 00006 10990    1788.              END   ,
-0012FA                            11000    1790.     NEWPOOL  PROC  NEWPOOLP,SCOPE=LOCAL
 0012FA D5C5E6D7D6D6D340           11007             +
 001302 0008/0000                  11008             +
 001306 900F D004/18AF       00004 11010             +
 USING  NEWPOOL,R10
 00130C 50D0 C000/18CD       00000 11025             +
 001312 9680 C000      00000       11027             +
 USING  NEWPOOLP-72,R12
 001316 41D0 C050            00050 11041             +
 00131A 5870 C048            00000 11042    1791.              L     RY,NEWPVSCT             Get the VSCT address
 USING  VSCT,R7                    11043    1792.              WITH  (VSCT,RY)
                                   11056    1793.     *
                                   11057    1794.     * Get the storage for the SPCB
                                   11058    1795.     *
 00131E 9180 7004      00004       11059    1796.              IF    VSCTGLOB,BEGIN
 001322 47E0 A03A            01340 11069             +
 USING  @VMGET-72,R13              11074  1 1797.                VMGET L'SPCB,LOC=GLOBHI,FIX=YES
 001326 D70A D048 D048 00000 00000 11098  1          +
 00132C 4100 001C            0001C 11110  1          +
 001330 5000 D048            00000 11115  1          +
 001334 D201 D050 ACBC 00008 01FC2 11116  1          +
 00133A 58F0 AC62/0DEF       01F68 11119  1          +
 001340 A03E           01340 01324 11121    1798.              END   ELSE,BEGIN
 001340 47F0 A058            0135E 11130             +
 001344                            11136  1 1799.                VMGET L'SPCB,LOC=LOCSYS
 001344 D70A D048 D048 00000 00000 11153  1          +
 00134A 4100 001C            0001C 11165  1          +
 00134E 5000 D048            00000 11170  1          +
 001352 D201 D050 ACBE 00008 01FC4 11171  1          +
 001358 58F0 AC62/0DEF       01F68 11174  1          +
 00135E                            11176    1800.              END   ,
 00135E 1260                       11180    1801.              LTR   RX,RVR
 001360 4770 A08E            01394 11181    1802.              IF    Z,'ABORT NOSPCBMEM'     Don't assume we got memory
 USING  PZERO,R0
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   69
0Current Usings:  (PZERO,R0) (*,R4) (VSCT,R7) (NEWPOOL,R10) (NEWPOOLP-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001364 AC04 021B      0021B       11205  1          +
 001368 9680 021A      0021A       11211  1          +
 00136C 50F0 021C            0021C 11212  1          +
 001370 58F0 0210            00210 11213  1          +
 001374 89F0 0010            00010 11214  1          +
 001378 88F0 0010            00010 11215  1          +
 00137C 41F0 F000            00000 11216  1          +
 001380 AEFF 0006            00006 11217  1          +
 001384 D5D6E2D7C3C2D4C5           11218             +
 DROP   PZERO,R0
 USING  SPCB,R6                    11231    1803.              WITH  (SPCB,RX)
                                   11244    1804.     *
                                   11245    1805.     * Fill in the SPCB
                                   11246    1806.     *
 001394                            11247    1807.              CLEAR SPCB
 001394 D71B 6000 6000 00000 00000 11253             +
 00139A D203 6000 AC66 00000 01F6C 11254    1808.              MVC   SPCB(4),=C'SPCB'        Control block id
 0013A0 D201 600C C04C 0000C 00004 11255    1809.              MVC   SPCBPOOL,NEWPPOOL       Pool number
 0013A6 9110 600C      0000C       11256    1810.              IF    SPCBHIGH,'MVC SPCBVSRB,VSCTHVSR'
 0013AA 47E0 A0AE            013B4 11266             +
 0013AE D203 6010 7024 00010 00024 11272             +
 0013B4 A0B2           013B4 013AC 11277    1811.              ELSE  'MVC SPCBVSRB,VSCTLVSR'
 0013B4 47F0 A0B8            013BE 11282             +
 0013B8 D203 6010 7028 00010 00028 11289             +
                                   11294    1812.     *
                                   11295    1813.     * Get the queue VSLBs and set them up
                                   11296    1814.     *
 DROP   @VMGET-72,R13              11297    1815.              GVSLB (RY)                    Get the VSLB
 USING  GFVSLB-72,R13
 0013BE D703 D048 D048 00000 00000 11318             +
 0013C4 5070 D048            00000 11328             +
 0013C8 58F0 AC6A/0DEF       01F70 11334             +
 0013CE 1820                       11336    1816.              LR    RA,RVR
 USING  VSLB,R2                    11337    1817.              WITH  (VSLB,RA)
 0013D0 5020 2008            00008 11350    1818.              ST    RA,VSLBNEXT             This is next
 0013D4 5020 200C            0000C 11351    1819.              ST    RA,VSLBPREV             and previous
 0013D8                            11352    1820.              CLEAR VSLBLOC
 0013D8 D703 2010 2010 00010 00010 11358             +
 0013DE                            11359    1821.              CLEAR VSLBLEN
 0013DE D703 2014 2014 00014 00014 11365             +
 0013E4 5020 6014            00014 11366    1822.              ST    RA,SPCBUVSL             None used in this pool
 0013E8                            11367    1823.              GVSLB (RY)                    Get the VSLB
 0013E8 D703 D048 D048 00000 00000 11378             +
 0013EE 5070 D048            00000 11388             +
 0013F2 58F0 AC6A/0DEF       01F70 11394             +
 0013F8 1820                       11396    1824.              LR    RA,RVR
 0013FA 5020 2008            00008 11397    1825.              ST    RA,VSLBNEXT             This is next
 0013FE 5020 200C            0000C 11398    1826.              ST    RA,VSLBPREV             and previous
 001402                            11399    1827.              CLEAR VSLBLOC
 001402 D703 2010 2010 00010 00010 11405             +
 001408                            11406    1828.              CLEAR VSLBLEN
 001408 D703 2014 2014 00014 00014 11412             +
 00140E 5020 6018            00018 11413    1829.              ST    RA,SPCBFVSL             None free in this pool
                                   11414    1830.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   70
0Current Usings:  (VSLB,R2) (*,R4) (SPCB,R6) (VSCT,R7) (NEWPOOL,R10) (NEWPOOLP-72,R12) (GFVSLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11415    1831.     * Now that the SPCB is all filled in, we must queue it to the
                                   11416    1832.     * end of the SPCB queue off the VSCT
                                   11417    1833.     *
 001412 1816                       11418    1834.              LR    RS,RX                   Address of our SPCB
 001414 5860 7020            00020 11419    1835.              L     RX,VSCTPOOL             Address of first SPCB
 001418                            11420    1836.              WHILE (SPCBNEXT,NZ),'L RX,SPCBNEXT'
 001418 D603 6004 6004 00004 00004 11432             +
 00141E 4780 A124            0142A 11433             +
 001422 5860 6004            00004 11439             +
 001426 47F0 A112            01418 11443             +
 00142A 5010 6004            00004 11445    1837.              ST    RS,SPCBNEXT             update the queue
 00142E 1801                       11446    1838.              LR    RVR,RS                  Return the SPCB address
 001430 981F C008            00008 11447    1839.              PEND  ,                       all done
 DROP   VSLB,R2
 DROP   SPCB,R6
 DROP   VSCT,R7
 DROP   NEWPOOLP-72,R12
 DROP   NEWPOOL,R10
 001434 9680 C000/0B0E 00000       11477             +
 DROP   GFVSLB-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   71
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11487    1841.     *****************************************************************
                                   11488    1842.     *                                                               *
                                   11489    1843.     * GETVSLB  --  This routine allocates a VSLB associated with    *
                                   11490    1844.     *              the VSCT whose address is passed as a parm.  If  *
                                   11491    1845.     *              there are none left that have been pre-allocated *
                                   11492    1846.     *              a reserve supply is released so that more memory *
                                   11493    1847.     *              can be allocated.                                *
                                   11494    1848.     *                                                               *
                                   11495    1849.     *   Input  --  GFVSLB                                           *
                                   11496    1850.     *                                                               *
                                   11497    1851.     *  Output  --  RVR contains the address of a VSLB               *
                                   11498    1852.     *                                                               *
                                   11499    1853.     *****************************************************************
-000000                00000 00004 11501    1855.     GFVSLB   RECORD BEGIN        Parm for Get or Free VSLB
 000000                            11509  1 1856.     GFVADDR    DS    A             Address of VSLB(free) or VSCT(get)
 000004                00004 00004 11510    1857.              END   ,
-00143A                            11520    1859.     GETVSLB  PROC  GFVSLB,SCOPE=LOCAL
 00143A C7C5E3E5E2D3C240           11527             +
 001442 0008/0000                  11528             +
 001446 900F D004/18AF       00004 11530             +
 USING  GETVSLB,R10
 00144C 50D0 C000/18CD       00000 11545             +
 001452 9680 C000      00000       11547             +
 USING  GFVSLB-72,R12
 001456 41D0 C050            00050 11561             +
 00145A 5870 C048            00000 11562    1860.              L     RY,GFVADDR              VSCT address
 USING  VSCT,R7                    11563    1861.              WITH  (VSCT,RY)
 00145E 5820 7018/1222       00018 11576    1862.              LT    RA,VSCTVSLB             Get the first VSLB addr
 001464 4770 A066            014AC 11580    1863.              IF    Z,BEGIN
 001468 5820 701C/1222       0001C 11591  1 1864.                LT    RA,VSCTRSRV             Get the reserve supply
 00146E 4770 A05C            014A2 11595  1 1865.                IF    Z,'ABORT NOVSLBS'       Thats all folks
 USING  PZERO,R0
 001472 AC04 021B      0021B       11619  2          +
 001476 9680 021A      0021A       11625  2          +
 00147A 50F0 021C            0021C 11626  2          +
 00147E 58F0 0210            00210 11627  2          +
 001482 89F0 0010            00010 11628  2          +
 001486 88F0 0010            00010 11629  2          +
 00148A 41F0 F000            00000 11630  2          +
 00148E AEFF 0006            00006 11631  2          +
 001492 D5D6E5E2D3C2E240           11632  1          +
 DROP   PZERO,R0
 0014A2                            11645  1 1866.                CLEAR VSCTRSRV                No more reserve supply
 0014A2 D703 701C 701C 0001C 0001C 11651  1          +
 0014A8 9640 7004      00004       11652  1 1867.                SET   VSCTNORS                Make note of that lack
 0014AC                            11658    1868.              END   ,
                                   11662    1869.     *
                                   11663    1870.     * Remove first from the list
                                   11664    1871.     *
 USING  VSLB,R2                    11665    1872.              WITH  (VSLB,RA)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   72
0Current Usings:  (VSLB,R2) (*,R4) (VSCT,R7) (GETVSLB,R10) (GFVSLB-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00014AC D203 7018 2008 00018 00008 11678    1873.              MVC   VSCTVSLB,VSLBNEXT       Remove this one from the queue
 0014B2                            11679    1874.              CLEAR VSLBNEXT                Clean up the pointers
 0014B2 D703 2008 2008 00008 00008 11685             +
 0014B8 1802                       11686    1875.              LR    RVR,RA
 0014BA 981F C008            00008 11687    1876.              PEND  ,
 DROP   VSLB,R2
 DROP   VSCT,R7
 DROP   GFVSLB-72,R12
 DROP   GETVSLB,R10
 0014BE 9680 C000/0B0E 00000       11712             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   73
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11719    1878.     *****************************************************************
                                   11720    1879.     *                                                               *
                                   11721    1880.     * FREEVSLB --  This routine frees a VSLB.  It is passed the     *
                                   11722    1881.     *              address of the VSLB and it queues it to the free *
                                   11723    1882.     *              queue of the VSCT which owns it.                 *
                                   11724    1883.     *                                                               *
                                   11725    1884.     *   Input  --  GFVSLB                                           *
                                   11726    1885.     *                                                               *
                                   11727    1886.     *  Output  --  none                                             *
                                   11728    1887.     *                                                               *
                                   11729    1888.     *****************************************************************
-0014C4                            11731    1890.     FREEVSLB PROC  GFVSLB,SCOPE=LOCAL
 0014C4 C6D9C5C5E5E2D3C2           11738             +
 0014CC 0008/0000                  11739             +
 0014D0 900F D004/18AF       00004 11741             +
 USING  FREEVSLB,R10
 0014D6 50D0 C000/18CD       00000 11756             +
 0014DC 9680 C000      00000       11758             +
 USING  GFVSLB-72,R12
 0014E0 41D0 C050            00050 11772             +
 0014E4 5860 C048            00000 11773    1891.              L     RX,GFVADDR              Get the VSLB address
 USING  VSLB,R6                    11774    1892.              WITH  (VSLB,RX)
 0014E8 5870 6004            00004 11787    1893.              L     RY,VSLBOWNR             Get the VSCT address
 USING  VSCT,R7                    11788    1894.              WITH  (VSCT,RY)
 0014EC                            11801    1895.              CLEAR VSLB
 0014EC D71F 6000 6000 00000 00000 11807             +
 0014F2 D203 6000 AAA4 00000 01F74 11808    1896.              MVC   VSLB(4),=C'VSLB'        Re-do the block ID
 0014F8 5070 6004            00004 11809    1897.              ST    RY,VSLBOWNR             Re-do the owner too
 0014FC D203 6008 7018 00008 00018 11810    1898.              MVC   VSLBNEXT,VSCTVSLB       this one points at chain
 001502 5060 7018            00018 11811    1899.              ST    RX,VSCTVSLB             Head points at this one
 001506 981F C008            00008 11812    1900.              PEND  ,
 DROP   VSCT,R7
 DROP   VSLB,R6
 DROP   GFVSLB-72,R12
 DROP   FREEVSLB,R10
 00150A 9680 C000/0B0E 00000       11837             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   74
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11844    1902.     *****************************************************************
                                   11845    1903.     *                                                               *
                                   11846    1904.     * ALOCVSLB --  This routine allocates a bunch of new VSLBs and  *
                                   11847    1905.     *              queues them up to the VSCT whose address is      *
                                   11848    1906.     *              passed.                                          *
                                   11849    1907.     *                                                               *
                                   11850    1908.     *   Input  --  GFVSLB                                           *
                                   11851    1909.     *                                                               *
                                   11852    1910.     *  Output  --  none                                             *
                                   11853    1911.     *                                                               *
                                   11854    1912.     *****************************************************************
-001510                            11856    1914.     ALOCVSLB PROC  GFVSLB,SCOPE=LOCAL
 001510 C1D3D6C3E5E2D3C2           11863             +
 001518 0008/0000                  11864             +
 00151C 900F D004/18AF       00004 11866             +
 USING  ALOCVSLB,R10
 001522 50D0 C000/18CD       00000 11881             +
 001528 9680 C000      00000       11883             +
 USING  GFVSLB-72,R12
 00152C 41D0 C050            00050 11897             +
 001530 5870 C048            00000 11898    1915.              L     RY,GFVADDR              Get the VSLB address
 USING  VSCT,R7                    11899    1916.              WITH  (VSCT,RY)
                                   11912    1917.     *
                                   11913    1918.     * Turn off the indicator to call this routine
                                   11914    1919.     *
 001534 94BF 7004      00004       11915    1920.              CLEAR VSCTNORS                Clear the flag
                                   11922    1921.     *
                                   11923    1922.     * Get some more memory
                                   11924    1923.     *
 001538 9180 7004      00004       11925    1924.              IF    VSCTGLOB,BEGIN          This is for a global one
 00153C 47E0 A03E            0155A 11935             +
 USING  @VMGET-72,R13              11940  1 1925.                VMGET L'VSLB*30,LOC=GLOBHI,FIX=YES
 001540 D70A D048 D048 00000 00000 11964  1          +
 001546 4100 03C0            003C0 11976  1          +
 00154A 5000 D048            00000 11981  1          +
 00154E D201 D050 AAA6 00008 01FC2 11982  1          +
 001554 58F0 AA4C/0DEF       01F68 11985  1          +
 00155A A042           0155A 0153E 11987    1926.              END   ELSE,BEGIN
 00155A 47F0 A05C            01578 11996             +
 00155E                            12002  1 1927.                VMGET L'VSLB*30,LOC=LOCSYS
 00155E D70A D048 D048 00000 00000 12019  1          +
 001564 4100 03C0            003C0 12031  1          +
 001568 5000 D048            00000 12036  1          +
 00156C D201 D050 AAA8 00008 01FC4 12037  1          +
 001572 58F0 AA4C/0DEF       01F68 12040  1          +
 001578                            12042    1928.              END   ,
                                   12046    1929.     *
                                   12047    1930.     * Format the lot into VSLBs and queue them up
                                   12048    1931.     *
 001578 1260                       12049    1932.              LTR   RX,RVR                  Get the address of the first
 00157A 4770 A092            015AE 12050    1933.              IF    Z,'ABORT NOVSLBMEM'     Don't assume we got memory
 USING  PZERO,R0
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   75
0Current Usings:  (PZERO,R0) (*,R4) (VSCT,R7) (ALOCVSLB,R10) (GFVSLB-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000157E AC04 021B      0021B       12074  1          +
 001582 9680 021A      0021A       12080  1          +
 001586 50F0 021C            0021C 12081  1          +
 00158A 58F0 0210            00210 12082  1          +
 00158E 89F0 0010            00010 12083  1          +
 001592 88F0 0010            00010 12084  1          +
 001596 41F0 F000            00000 12085  1          +
 00159A AEFF 0006            00006 12086  1          +
 00159E D5D6E5E2D3C2D4C5           12087             +
 DROP   PZERO,R0
 USING  VSLB,R6                    12100    1934.              WITH  (VSLB,RX)
 0015AE 4120 001E            0001E 12113    1935.              LA    RA,30                   Number of VSLBs there
 0015B2                            12114    1936.              LOOP  BEGIN
 0015B2                            12120  1 1937.                CLEAR VSLB                    Zero it out
 0015B2 D71F 6000 6000 00000 00000 12126  1          +
 0015B8 D203 6000 AA58 00000 01F74 12127  1 1938.                MVC   VSLB(4),=C'VSLB'        ID
 0015BE 5070 6004            00004 12128  1 1939.                ST    RY,VSLBOWNR             Save the owner address
 0015C2 D203 6008 7018 00008 00018 12129  1 1940.                MVC   VSLBNEXT,VSCTVSLB       Make it point at the queue
 0015C8 5060 7018            00018 12130  1 1941.                ST    RX,VSCTVSLB             And the queue at it
 0015CC 4A60 AAAA            01FC6 12131  1 1942.                AH    RX,=Y(L'VSLB)           Update the pointer
 0015D0 4620 A096            015B2 12132    1943.              UNTIL (BCT,RA),END            keep going until we're done
                                   12142    1944.     *
                                   12143    1945.     * Restore the Reserve component to it's previous strength
                                   12144    1946.     *
 0015D4 4120 000A            0000A 12145    1947.              LA    RA,10                   Number in reserve
 0015D8                            12146    1948.              LOOP  BEGIN
 0015D8 5860 7018            00018 12152  1 1949.                L     RX,VSCTVSLB             Get first in the queue
 0015DC D203 7018 6008 00018 00008 12153  1 1950.                MVC   VSCTVSLB,VSLBNEXT       Remove it from the list
 0015E2 D203 6008 701C 00008 0001C 12154  1 1951.                MVC   VSLBNEXT,VSCTRSRV       Point it at reserve list
 0015E8 5060 701C            0001C 12155  1 1952.                ST    RX,VSCTRSRV             And put it on that list
 0015EC 4620 A0BC            015D8 12156    1953.              UNTIL (BCT,RA),END
 0015F0 981F C008            00008 12166    1954.              PEND  ,
 DROP   VSLB,R6
 DROP   VSCT,R7
 DROP   GFVSLB-72,R12
 DROP   ALOCVSLB,R10
 0015F4 9680 C000/0B0E 00000       12191             +
 DROP   @VMGET-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   76
0Current Usings:  (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12201    1956.     *****************************************************************
                                   12202    1957.     *                                                               *
                                   12203    1958.     *   VMINFO --  This routine returns info on the user address    *
                                   12204    1959.     *              space limits and the trash value for new pages.  *
                                   12205    1960.     *                                                               *
                                   12206    1961.     *   Input  --  @VMINFO                                          *
                                   12207    1962.     *                                                               *
                                   12208    1963.     *  Output  --  @VMINFO - Fields updated                         *
                                   12209    1964.     *                                                               *
                                   12210    1965.     *****************************************************************
-0015FA                            12212    1967.     VMINFO   PROC  @VMINFO,SCOPE=GLOBAL
 0015FA E5D4C9D5C6D64040           12218             +
 001602 0010/0000                  12219             +
 001606 900F D004/18AF       00004 12221             +
 USING  VMINFO,R10
 00160C 50D0 C000/18CD       00000 12236             +
 001612 9680 C000      00000       12238             +
 USING  @VMINFO-72,R12
 001616 41D0 C058            00058 12252             +
                                   12253    1968.     *
                                   12254    1969.     * Get the VMCB address
                                   12255    1970.     *
 USING  PZERO,R0                   12256    1971.              USING PZERO,R0
 00161A 5810 0200            00200 12265    1972.              L     RS,PZMATP               Get the MAT address
 DROP   PZERO,R0                   12266    1973.              DROP  R0
 00161E 5870 1004            00004 12274    1974.              WITH  (MAT,RS),'L RY,MATVMCB' Get the VMCB pointer
 USING  MAT,R1
 DROP   MAT,R1
 USING  VMCB,R7                    12298    1975.              WITH  (VMCB,RY),BEGIN
 001622 D203 C048 700C 00000 0000C 12312  1 1976.                MVC   @VMIUST,VMCBUSS         Start of the area
 001628 D203 C04C 7010 00004 00010 12313  1 1977.                MVC   @VMIULEN,VMCBUSL        Length of the area
 DROP   VMCB,R7                    12314    1978.              END   ,
                                   12322    1979.     *
                                   12323    1980.     * Get the local VSCT
                                   12324    1981.     *
 USING  PZERO,R0                   12325    1982.              USING PZERO,R0
 00162E 5810 0208            00208 12334    1983.              L     RS,PZCURASB             Get the current ASB addr
 001632 5870 1018            00018 12335    1984.              WITH  (ASB,RS),'L RY,ASBVSCT' Get the VSCT address
 USING  ASB,R1
 DROP   ASB,R1
 USING  VSCT,R7                    12359    1985.              WITH  (VSCT,RY),BEGIN
 001636 D200 C050 702E 00008 0002E 12373  1 1986.                MVC   @VMITRSH,VSCTHASH       Move in the current hash val
 DROP   VSCT,R7                    12374    1987.              END   ,
 00163C 981F C008            00008 12382    1988.              PEND  ,                       Then return to the caller
 DROP   @VMINFO-72,R12
 DROP   VMINFO,R10
 001640 9680 C000/0B0E 00000       12397             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   77
0Current Usings:  (PZERO,R0) (*,R4)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12404    1990.     *****************************************************************
                                   12405    1991.     *                                                               *
                                   12406    1992.     *  VMINIT1 --  This routine initalizes the control blocks for   *
                                   12407    1993.     *              the virtual storage manager for global memory.   *
                                   12408    1994.     *              This routine is entered out of initialization    *
                                   12409    1995.     *              and makes use of the special characteristics of  *
                                   12410    1996.     *              that, eg. not having to pre-define any virtual   *
                                   12411    1997.     *              storage before use.                              *
                                   12412    1998.     *                                                               *
                                   12413    1999.     *   Input  --  @VMIPARM                                         *
                                   12414    2000.     *                                                               *
                                   12415    2001.     *  Output  --  None                                             *
                                   12416    2002.     *                                                               *
                                   12417    2003.     *****************************************************************
-000000                00000 00070 12419    2005.     #VMIWORK RECORD BEGIN
 000000                            12427  1 2006.     #VMIRPRM   DS    XL(L'PARMIN)            Area for PARMIN
 000004                            12428  1 2007.                DS    CL8                     Key 1
 00000C                            12429  1 2008.                DS    CL8                     Key 2
 000014                            12430  1 2009.                DS    CL8                     Key 3
 00001C                            12431  1 2010.     #VMIPSTR   DS    CL80                    String parameter area
 00006C                            12432  1 2011.     #VMIGHL    DS    F                       Length of global high area
 000070                00070 00070 12433    2012.              END   ,
-001646                            12443    2014.     VMINIT1  PROC  @VMIPARM,#VMIWORK,SCOPE=GLOBAL
 001646 E5D4C9D5C9E3F140           12449             +
 00164E 0018/0070                  12450             +
 001652 900F D004/18AF       00004 12452             +
 USING  VMINIT1,R10
 001658 50D0 C000/18CD       00000 12467             +
 00165E 9680 C000      00000       12469             +
 USING  @VMIPARM-72,R12
 AUSING (#VMIWORK,@VMIPARM+24)
 001662 41D0 C0D0            000D0 12488             +
 AUSING (PARMIN,#VMIRPRM)          12489    2015.              WITH  (PARMIN,#VMIRPRM)
 001666 D203 C0CC A442 0006C 01A94 12496    2016.              MVC   #VMIGHL,XLGHL           Set default
                                   12497    2017.     *
                                   12498    2018.     *  Set memory values from initialization parameters
                                   12499    2019.     *
 00166C 9204 C060      00000       12500    2020.              GETPARM2 KEY=(VIRTMEM,GHSIZE),TYPE=INT,REGS=(RA,R14)
 001670 D207 C064 A8C6 00004 01F18 12507             +
 001676 D207 C06C A8CE 0000C 01F20 12508             +
 00167C 41E0 C060            00000 12515             +
 001680 41F0 0014            00014 12522             +
 001684 832E0016                   12525             +
 001688 4770 A042            01694 12526    2021.              IF    Z,BEGIN
 00168C 8920 0014            00014 12537  1 2022.                SLL   RA,20
 001690 5020 C0CC            0006C 12538  1 2023.                ST    RA,#VMIGHL              Update Global High size
 001694                            12539    2024.              END   ,
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   78
0Current Usings:  (PZERO,R0) (*,R4) (VMINIT1,R10) (@VMIPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12543    2025.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12544    2026.              Ÿ  First get the extents of the global high region.  Ÿ
                                   12545    2027.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001694 5850 A43E            01A90 12546    2028.              L     RK,XLGHS            Start of Global high
 001698 5A50 C0CC            0006C 12547    2029.              A     RK,#VMIGHL          Add length to get the end
                                   12548    2030.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12549    2031.              Ÿ  Define the segment and page tables for the highest 10    Ÿ
                                   12550    2032.              Ÿ    megabytes of memory (more than we will need for        Ÿ
                                   12551    2033.              Ÿ    initialization).  The key here is to pre-define the    Ÿ
                                   12552    2034.              Ÿ    page tables so that we don't try to allocate them      Ÿ
                                   12553    2035.              Ÿ    on the fly in VMINIT2 after we can't run in "SVC 0"    Ÿ
                                   12554    2036.              Ÿ    mode.  Check out the PFINIT routine called by PAGINIT  Ÿ
                                   12555    2037.              Ÿ    (called immediately before VMINIT2) for details.       Ÿ
                                   12556    2038.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 00169C 1815                       12557    2039.              LR    R1,RK
 00169E 0610                       12558    2040.              DECR  R1                  Last byte in virtual memory
 0016A0 4140 000A            0000A 12560    2041.              LA    RJ,10
 0016A4                            12561    2042.              LOOP  BEGIN
 0016A4 0A03                       12567  1 2043.                SVC   3                   Define last segment
 0016A6 5B10 A926            01F78 12568  1 2044.                S     R1,=A(1024*1024)
 0016AA 4640 A052            016A4 12569    2045.              UNTIL (BCT,RJ),END
                                   12579    2046.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12580    2047.              Ÿ  Turn on automatic page fault resolution (IPL environment  Ÿ
                                   12581    2048.              Ÿ    only).                                                  Ÿ
                                   12582    2049.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0016AE 0A00                       12583    2050.              SVC   0
                                   12584    2051.              ¿þþþþþþþþþþþþþþþþþþþþþÜ
                                   12585    2052.              Ÿ  Allocate the MAT.  Ÿ
                                   12586    2053.              ¾þþþþþþþþþþþþþþþþþþþþþ»
 0016B0 4B50 A976            01FC8 12587    2054.              SH    RK,=Y(((L'MAT+VMAL-1)/VMAL)*VMAL)  Update the location
 0016B4 1845                       12588    2055.              LR    RJ,RK                   Get the MAT address
 DROP   *,R4                       12589    2056.              USING MAT,RJ                  Address it
 USING  MAT,R4
 0016B6 18E4/41F0 0100       00100 12601    2057.              ZOT   MAT                     Clear it to zero
 0016BC 1B11/0EE0                  12616             +
 0016C0 D203 4000 A92A 00000 01F7C 12618    2058.              MVC   MAT(4),=CL4'MAT'        Set the control block id
 0016C6 9280 40E0      000E0       12619    2059.              MVI   MATSKEY,X'80'           System key
 0016CA 9270 40E1      000E1       12620    2060.              MVI   MATUKEY,X'70'           User key
 0016CE D203 40E4 C048 000E4 00000 12621    2061.              MVC   MATKSTRT,@VMIKLOC       Save the kernal start
 0016D4 D203 40E8 C050 000E8 00008 12622    2062.              MVC   MATKMAP,@VMIMLOC        Location of the map
 0016DA D203 40EC C054 000EC 0000C 12623    2063.              MVC   MATKMAPL,@VMIMLEN       Length of the map
                                   12624    2064.              USING PZERO,R0
 0016E0 5040 0200            00200 12626    2065.              ST    RJ,PZMATP               Save the pointer to the MAT
 DROP   PZERO,R0                   12627    2066.              DROP  R0
                                   12635    2067.     *
                                   12636    2068.     * Allocate and initialize the VMCB
                                   12637    2069.     *
 0016E4 4B50 A978            01FCA 12638    2070.              SH    RK,=Y(((L'VMCB+VMAL-1)/VMAL)*VMAL) Update the location
 0016E8 1865                       12639    2071.              LR    RX,RK                   Get the VMCB address
 USING  VMCB,R6                    12640    2072.              WITH  (VMCB,RX)               Address it
 0016EA                            12653    2073.              CLEAR VMCB                    Clear it to zero
 0016EA D733 6000 6000 00000 00000 12659             +
 0016F0 D203 6000 A92E 00000 01F80 12660    2074.              MVC   VMCB(4),=C'VMCB'        Set the control block id
 0016F6 5060 4004            00004 12661    2075.              ST    RX,MATVMCB              Save a pointer to it in the MAT
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   79
0Current Usings:  (MAT,R4) (VMCB,R6) (VMINIT1,R10) (@VMIPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12662    2076.
 0016FA D203 6004 A426 00004 01A78 12663    2077.              MVC   VMCBGLS,XLGLS           Global low Start
 001700 D203 6008 A42A 00008 01A7C 12664    2078.              MVC   VMCBGLL,XLGLL           Global low length
 001706 D203 600C A42E 0000C 01A80 12665    2079.              MVC   VMCBUSS,XLUSS           User start
 00170C D203 6010 A432 00010 01A84 12666    2080.              MVC   VMCBUSL,XLUSL           User length
 001712 D203 6014 A436 00014 01A88 12667    2081.              MVC   VMCBSLS,XLSLS           Local system start
 001718 D203 6018 A43A 00018 01A8C 12668    2082.              MVC   VMCBSLL,XLSLL           Local system length
 00171E D203 601C A43E 0001C 01A90 12669    2083.              MVC   VMCBGHS,XLGHS           Global high start
 001724 D203 6020 C0CC 00020 0006C 12670    2084.              MVC   VMCBGHL,#VMIGHL         Global high length
 00172A 9281 6024      00024       12671    2085.              MVI   VMCBHASH,X'81'          Default trash value
                                   12672    2086.     *
                                   12673    2087.     *  Set memory values from initialization parameters
                                   12674    2088.     *
 00172E 9204 C060      00000       12675    2089.              GETPARM2 KEY=(VIRTMEM,GLSIZE),TYPE=INT,REGS=(RA,R14)
 001732 D207 C064 A8C6 00004 01F18 12682             +
 001738 D207 C06C A8D6 0000C 01F28 12683             +
 00173E 41E0 C060            00000 12690             +
 001742 41F0 0014            00014 12697             +
 001746 832E0016                   12700             +
 00174A 4770 A112            01764 12701    2090.              IF    Z,BEGIN
 00174E 8920 0014            00014 12712  1 2091.                SLL   RA,20
 001752 5020 6008            00008 12713  1 2092.                ST    RA,VMCBGLL              Update Global Low size
 001756 5020 600C            0000C 12714  1 2093.                ST    RA,VMCBUSS               and User start
 00175A 5810 6014            00014 12715  1 2094.                L     RS,VMCBSLS              Local system start
 00175E 1B12                       12716  1 2095.                SR    RS,RA                    less modified User start
 001760 5010 6010            00010 12717  1 2096.                ST    RS,VMCBUSL              New User length
 001764                            12718    2097.              END   ,
                                   12722    2098.     *
                                   12723    2099.     * Allocate and initialize the global VSCT
                                   12724    2100.     *
 001764 4B50 A97A            01FCC 12725    2101.              SH    RK,=Y(((L'VSCT+VMAL-1)/VMAL)*VMAL) Update the location
 001768 1875                       12726    2102.              LR    RY,RK                   Get the VSCT address
 USING  VSCT,R7                    12727    2103.              WITH  (VSCT,RY)               Address it
 00176A                            12740    2104.              CLEAR VSCT                    Clear it to zero
 00176A D73B 7000 7000 00000 00000 12746             +
 001770 D203 7000 A932 00000 01F84 12747    2105.              MVC   VSCT(4),=C'VSCT'        Set the control block id
 001776 5070 6028            00028 12748    2106.              ST    RY,VMCBGVS              Save its address in the VMCB
                                   12749    2107.
 00177A 5060 700C            0000C 12750    2108.              ST    RX,VSCTVMCB             Save address of the VMCB
 00177E D200 702C 40E0 0002C 000E0 12751    2109.              MVC   VSCTSKEY,MATSKEY        System key
 001784 D200 702D 40E1 0002D 000E1 12752    2110.              MVC   VSCTUKEY,MATUKEY        User key
 DROP   MAT,R4                     12753    2111.              DROP  RJ                      Done with the MAT
 00178A D200 702E 6024 0002E 00024 12760    2112.              MVC   VSCTHASH,VMCBHASH       Default trash value
 001790 9680 7004      00004       12761    2113.              SET   VSCTGLOB                This is the global one
 001794 D203 7030 A936 00030 01F88 12767    2114.              MVC   VSCTPDEF,=A(INITPDEF)   Move dumb routine for initln
 00179A D203 7034 A93A 00034 01F8C 12768    2115.              MVC   VSCTPFIX,=A(INITPFIX)   ditto for the fix
                                   12769    2116.     *
                                   12770    2117.     * Get some VSLB's
                                   12771    2118.     *
 0017A0 4110 001E            0001E 12772    2119.              LA    RS,30                   The number we want
 0017A4 1B22                       12773    2120.              CLEAR RA                      Address of the previous one
 0017A6                            12777    2121.              LOOP  BEGIN
 0017A6 4B50 A97C            01FCE 12783  1 2122.                SH    RK,=Y(((L'VSLB+VMAL-1)/VMAL)*VMAL) Update the location
 USING  VSLB,R5                    12784  1 2123.                WITH  (VSLB,RK)               Address it
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   80
0Current Usings:  (VSLB,R5) (VMCB,R6) (VSCT,R7) (VMINIT1,R10) (@VMIPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00017AA                            12797  1 2124.                CLEAR VSLB                    Clear it to zero
 0017AA D71F 5000 5000 00000 00000 12803  1          +
 0017B0 D203 5000 A922 00000 01F74 12804  1 2125.                MVC   VSLB(4),=C'VSLB'        Set the control block id
 0017B6 5070 5004            00004 12805  1 2126.                ST    RY,VSLBOWNR             Save the VSCT pointer
 0017BA 5020 5008            00008 12806  1 2127.                ST    RA,VSLBNEXT             Save pointer to the next one
 0017BE 1825                       12807  1 2128.                LR    RA,RK                   This becomes the previous
 0017C0 4610 A154            017A6 12808    2129.              UNTIL (BCT,RS),END
 DROP   VSLB,R5
                                   12823    2130.
 0017C4 5020 701C            0001C 12824    2131.              ST    RA,VSCTRSRV             Put em all on reserve list
 USING  VSLB,R2                    12825    2132.              USING VSLB,RA
 0017C8 4110 0009            00009 12834    2133.              LA    RS,9                    Count for the reserve supply
 0017CC                            12835    2134.              LOOP  BEGIN
 0017CC 5820 2008            00008 12841  1 2135.                L     RA,VSLBNEXT             Reserve one
 0017D0 4610 A17A            017CC 12842    2136.              UNTIL (BCT,RS),END            Do all but one
 0017D4 5810 2008            00008 12852    2137.              L     RS,VSLBNEXT             Do the last one
 0017D8                            12853    2138.              CLEAR VSLBNEXT                Zero the end of that queue
 0017D8 D703 2008 2008 00008 00008 12859             +
 0017DE 1821                       12860    2139.              LR    RA,RS                   Point to the next free one
                                   12861    2140.     *
                                   12862    2141.     * Take care of the Regions
                                   12863    2142.     *
 0017E0 5020 7024            00024 12864    2143.              ST    RA,VSCTHVSR             Save the high Region one
 0017E4 5810 2008            00008 12865    2144.              L     RS,VSLBNEXT             Save a pointer to the next
 0017E8 5020 2008            00008 12866    2145.              ST    RA,VSLBNEXT             Null Entry
 0017EC 5020 200C            0000C 12867    2146.              ST    RA,VSLBPREV             Null Entry
 0017F0 1821                       12868    2147.              LR    RA,RS                   Point to the next free one
 0017F2 5020 7028            00028 12869    2148.              ST    RA,VSCTLVSR             And the low Region
 0017F6 5810 2008            00008 12870    2149.              L     RS,VSLBNEXT             Save a pointer to the next
 0017FA 5020 2008            00008 12871    2150.              ST    RA,VSLBNEXT             Null Entry
 0017FE 5020 200C            0000C 12872    2151.              ST    RA,VSLBPREV             Null Entry
 001802 1821                       12873    2152.              LR    RA,RS                   Point to the next free one
                                   12874    2153.     *
                                   12875    2154.     * Allocate and initialize some Pools
                                   12876    2155.     *
 001804 4B50 A97E            01FD0 12877    2156.              SH    RK,=Y(((L'SPCB+VMAL-1)/VMAL)*VMAL) Update the location
 001808 1845                       12878    2157.              LR    RJ,RK                   Get the SPCB address
 USING  SPCB,R4                    12879    2158.              WITH  (SPCB,RJ)               Address it
 00180A                            12892    2159.              CLEAR SPCB                    Clear it to zero
 00180A D71B 4000 4000 00000 00000 12898             +
 001810 D203 4000 A91A 00000 01F6C 12899    2160.              MVC   SPCB(4),=C'SPCB'        Set the control block id
 001816 962E 400C      0000C       12900    2161.              SET   SPCBGLOB+SPCBSYS+SPCBFETP+SPCBFIX   GLOBLO pool
 00181A D203 4010 7028 00010 00028 12918    2162.              MVC   SPCBVSRB,VSCTLVSR       Low region for it
 001820 5020 4014            00014 12919    2163.              ST    RA,SPCBUVSL             Used Area chain header
 001824 5810 2008            00008 12920    2164.              L     RS,VSLBNEXT             Save a pointer to the next
 001828 5020 2008            00008 12921    2165.              ST    RA,VSLBNEXT             Null Entry
 00182C 5020 200C            0000C 12922    2166.              ST    RA,VSLBPREV             Null Entry
 001830 1821                       12923    2167.              LR    RA,RS                   Point to the next free one
 001832 5020 4018            00018 12924    2168.              ST    RA,SPCBFVSL             Free area chain header
 001836 5810 2008            00008 12925    2169.              L     RS,VSLBNEXT             Save a pointer to the next
 00183A 5020 2008            00008 12926    2170.              ST    RA,VSLBNEXT             Null Entry
 00183E 5020 200C            0000C 12927    2171.              ST    RA,VSLBPREV             Null Entry
 001842 1821                       12928    2172.              LR    RA,RS                   Point to the next free one
 001844 1814                       12929    2173.              LR    RS,RJ                   Save the SPCB address
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   81
0Current Usings:  (VSLB,R2) (SPCB,R4) (VMCB,R6) (VSCT,R7) (VMINIT1,R10) (@VMIPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12930    2174.
 001846 4B50 A97E            01FD0 12931    2175.              SH    RK,=Y(((L'SPCB+VMAL-1)/VMAL)*VMAL) Update the location
 00184A 1845                       12932    2176.              LR    RJ,RK                   Get the SPCB address
                                   12933    2177.              WITH  (SPCB,RJ)               Address it
 00184C                            12937    2178.              CLEAR SPCB                    Clear it to zero
 00184C D71B 4000 4000 00000 00000 12943             +
 001852 D203 4000 A91A 00000 01F6C 12944    2179.              MVC   SPCB(4),=C'SPCB'        Set the control block id
 001858 5010 4004            00004 12945    2180.              ST    RS,SPCBNEXT             Point at the prevous one
 00185C 963F 400C      0000C       12946    2181.              SET   SPCBGLOB+SPCBSYS+SPCBFETP+SPCBFIX+SPCBHIGH+SPCBBACK
 001860 D203 4010 7024 00010 00024 12977    2182.              MVC   SPCBVSRB,VSCTHVSR       High region for it
 001866 5020 4014            00014 12978    2183.              ST    RA,SPCBUVSL             Used Area chain header
 00186A 5810 2008            00008 12979    2184.              L     RS,VSLBNEXT             Save a pointer to the next
 00186E 5020 2008            00008 12980    2185.              ST    RA,VSLBNEXT             Null Entry
 001872 5020 200C            0000C 12981    2186.              ST    RA,VSLBPREV             Null Entry
 001876 1821                       12982    2187.              LR    RA,RS                   Point to the next free one
 001878 5020 4018            00018 12983    2188.              ST    RA,SPCBFVSL             Free area chain header
 00187C 5810 2008            00008 12984    2189.              L     RS,VSLBNEXT             Save a pointer to the next
 001880 5020 2008            00008 12985    2190.              ST    RA,VSLBNEXT             Null Entry
 001884 5020 200C            0000C 12986    2191.              ST    RA,VSLBPREV             Null Entry
 001888 1821                       12987    2192.              LR    RA,RS                   Point to the next free one
 00188A 5040 7020            00020 12988    2193.              ST    RJ,VSCTPOOL             Save pointer to the chain
                                   12989    2194.     *
                                   12990    2195.     * Any VSLB's left are queued off the VSCT
                                   12991    2196.     *
 00188E 5020 7018            00018 12992    2197.              ST    RA,VSCTVSLB             Save the rest for later
 DROP   VSLB,R2                    12993    2198.              DROP  RA
                                   13000    2199.     *
                                   13001    2200.     * That is the last of the memory we will obtain just by referencing
                                   13002    2201.     * it.  We now turn off the automatic page fault resolution by issuing
                                   13003    2202.     * an SVC is is only valid in the IPL environment.
                                   13004    2203.     *
 001892 0A01                       13005    2204.              SVC   1
                                   13006    2205.     *
                                   13007    2206.     * Now we have to account for the memory that has been acquired
                                   13008    2207.     * up until now.  We start with the region definitions.
                                   13009    2208.     *
 USING  REMADDP-72,R13             13010    2209.              PSET  REMADDP,CLEAR=NO
 001894 D203 D048 7024 00000 00024 13021    2210.              MVC   RAPVSLB,VSCTHVSR        High region
 00189A D203 D04C 601C 00004 0001C 13022    2211.              MVC   RAPLOC,VMCBGHS          Start
 0018A0 D203 D050 6020 00008 00020 13023    2212.              MVC   RAPLEN,VMCBGHL          And length
 0018A6 58F0 A93E/0DEF       01F90 13024    2213.              ACALL ADDSPEC                 Take care of it
 0018AC D203 D048 7028 00000 00028 13031    2214.              MVC   RAPVSLB,VSCTLVSR        Low region
 0018B2 D203 D04C A942 00004 01F94 13032    2215.              MVC   RAPLOC,=A(4096)         Start
 0018B8 5810 6008            00008 13033    2216.              L     RS,VMCBGLL              Get the length
 0018BC 5B10 A942            01F94 13034    2217.              S     RS,=A(4096)             Less Page zero
 0018C0 5010 D050            00008 13035    2218.              ST    RS,RAPLEN               Real length
 0018C4 58F0 A93E/0DEF       01F90 13036    2219.              ACALL ADDSPEC                 Add it too
                                   13043    2220.     *
                                   13044    2221.     * Set the key for the PZERO page
                                   13045    2222.     *
 0018CA 4300 702C            0002C 13046    2223.              IC    RVR,VSCTSKEY            System key
 0018CE 5600 A946            01F98 13047    2224.              O     RVR,=X'00000008'        Fetch protect
 0018D2 1B11                       13048    2225.              CLEAR RS
 0018D4 B22B 0001                  13052    2226.              SSKE  RVR,RS                  Set the key for page zero
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   82
0Current Usings:  (SPCB,R4) (VMCB,R6) (VSCT,R7) (VMINIT1,R10) (@VMIPARM-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13053    2227.     *
                                   13054    2228.     * Do the high pool
                                   13055    2229.     *
 0018D8 1825                       13056    2230.              LR    RA,RK                   Get the low water mark
 0018DA 5420 A94A            01F9C 13057    2231.              N     RA,=F'-4096'            Round down to a page
 0018DE 5830 601C            0001C 13058    2232.              L     RB,VMCBGHS              Start of the region
 0018E2 5A30 6020            00020 13059    2233.              A     RB,VMCBGHL              get the ending addr of region
 0018E6 D203 D048 4010 00000 00010 13060    2234.              MVC   RAPVSLB,SPCBVSRB        Region control
 0018EC 5020 D04C            00004 13061    2235.              ST    RA,RAPLOC               Start of section to remove
 0018F0 1813                       13062    2236.              LR    RS,RB                   Addr of the end
 0018F2 1B12                       13063    2237.              SR    RS,RA                   Length to remove
 0018F4 5010 D050            00008 13064    2238.              ST    RS,RAPLEN
 0018F8 58F0 A94E/0DEF       01FA0 13065    2239.              ACALL REMSPEC                 Remove it from the region
                                   13072    2240.     *
                                   13073    2241.     * Set the keys
                                   13074    2242.     *
 0018FE 1F00/4300 702C       0002C 13075    2243.              LC    RVR,VSCTSKEY            System key
 001904 5600 A946            01F98 13080    2244.              O     RVR,=X'00000008'        Fetch protect
 001908 18F2                       13081    2245.              LR    EPAR,RA                 Get starting page
 00190A 19F3/47B0 A2D2       01924 13082    2246.              WHILE (EPAR,LT,RB),BEGIN      Loop through the page(s)
 001910 B110 F000            00000 13099  1 2247.                LRA   RS,@EPAR                Get the real addr of the page
 001914 83100005                   13100  1 2248.                SYSCTL RS,TYPE=PAGE           Notify the hardware
 001918 B22B 0001                  13103  1 2249.                SSKE  RVR,RS                  Set the key
 00191C 4AF0 A980            01FD2 13104  1 2250.                AH    EPAR,=Y(4096)           Get to the next page
 001920 47F0 A2B8            0190A 13105    2251.              END   ,
                                   13110    2252.     *
                                   13111    2253.     * Put it into the Pool
                                   13112    2254.     *
 001924 D203 D048 4018 00000 00018 13113    2255.              MVC   RAPVSLB,SPCBFVSL        Free area
 00192A 5020 D04C            00004 13114    2256.              ST    RA,RAPLOC               Starts at the page
 00192E 1815                       13115    2257.              LR    RS,RK                   Get the start of used stuff
 001930 1B12                       13116    2258.              SR    RS,RA                   Get the length of free stuff
 001932 4780 A2EE            01940 13117    2259.              IF    NZ,BEGIN
 001936 5010 D050            00008 13128  1 2260.                ST    RS,RAPLEN               Save the length of free stuff
 00193A 58F0 A93E/0DEF       01F90 13129  1 2261.                ACALL ADDSPEC                 Put it on the free queue
 001940                            13136    2262.              END   ,
                                   13140    2263.
 001940 D203 D048 4014 00000 00014 13141    2264.              MVC   RAPVSLB,SPCBUVSL        Used area
 001946 5050 D04C            00004 13142    2265.              ST    RK,RAPLOC               Location
 00194A 1B35                       13143    2266.              SR    RB,RK                   Get the length
 00194C 5030 D050            00008 13144    2267.              ST    RB,RAPLEN               Length of the used area
 001950 58F0 A93E/0DEF       01F90 13145    2268.              ACALL ADDSPEC                 Add it to the queue too
                                   13152    2269.     *
                                   13153    2270.     * Do the low pool (kernal, etc.)
                                   13154    2271.     *
 001956 5840 4004            00004 13155    2272.              L     RJ,SPCBNEXT             Point at the Storage pool
 00195A 1FFF/43F0 702C       0002C 13156    2273.              LC    EPAR,VSCTSKEY           Get the system key
 001960 56F0 A946            01F98 13163    2274.              O     EPAR,=X'00000008'       Fetch protect bit
                                   13164    2275.     *
                                   13165    2276.     * Kernal
                                   13166    2277.     *
 001964 5810 C04C            00004 13167    2278.              L     RS,@VMIKLEN             Get the length of the kernal
 001968 4A10 A982            01FD4 13168    2279.              AH    RS,=Y(4095)
 00196C 5410 A94A            01F9C 13169    2280.              N     RS,=F'-4096'            Round up to next page
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   83
0Current Usings:  (SPCB,R4) (VMCB,R6) (VSCT,R7) (VMINIT1,R10) (@VMIPARM-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001970 5010 C04C            00004 13170    2281.              ST    RS,@VMIKLEN
 001974 5820 C048            00000 13171    2282.              L     RA,@VMIKLOC             Get the start of the kernal
 001978 1832                       13172    2283.              LR    RB,RA                   Copy the start address
 00197A 5A30 C04C            00004 13173    2284.              A     RB,@VMIKLEN             Get the ending address
 00197E 1923/47B0 A346       01998 13174    2285.              WHILE (RA,LT,RB),BEGIN
 001984 B110 2000            00000 13191  1 2286.                LRA   RS,@RA                  Get the real address
 001988 83100005                   13192  1 2287.                SYSCTL RS,TYPE=PAGE           Notify the hardware
 00198C B22B 00F1                  13195  1 2288.                SSKE  EPAR,RS                 Set the storage key
 001990 4A20 A980            01FD2 13196  1 2289.                AH    RA,=Y(4096)             Get to the next page
 001994 47F0 A32C            0197E 13197    2290.              END   ,
 001998 D203 D048 4010 00000 00010 13202    2291.              MVC   RAPVSLB,SPCBVSRB        The region
 00199E D203 D04C C048 00004 00000 13203    2292.              MVC   RAPLOC,@VMIKLOC         Location of the kernal
 0019A4 D203 D050 C04C 00008 00004 13204    2293.              MVC   RAPLEN,@VMIKLEN         Length of the kernal
 0019AA 58F0 A94E/0DEF       01FA0 13205    2294.              ACALL REMSPEC                 Remove it from the region
 0019B0 D203 D048 4014 00000 00014 13212    2295.              MVC   RAPVSLB,SPCBUVSL        Used area
 0019B6 58F0 A93E/0DEF       01F90 13213    2296.              ACALL ADDSPEC                 Add it to the pool
                                   13220    2297.     *
                                   13221    2298.     * Map
                                   13222    2299.     *
 0019BC 1FFF/43F0 702C       0002C 13223    2300.              LC    EPAR,VSCTSKEY           Get the system key
 0019C2 56F0 A946            01F98 13230    2301.              O     EPAR,=X'00000008'       Fetch protect bit
 0019C6 5810 C054            0000C 13231    2302.              L     RS,@VMIMLEN             Get the length of the MAP
 0019CA 4A10 A982            01FD4 13232    2303.              AH    RS,=Y(4095)
 0019CE 5410 A94A            01F9C 13233    2304.              N     RS,=F'-4096'            Round up to next page
 0019D2 5010 C054            0000C 13234    2305.              ST    RS,@VMIMLEN
 0019D6 5820 C050            00008 13235    2306.              L     RA,@VMIMLOC             Get the start of the Map
 0019DA 1832                       13236    2307.              LR    RB,RA                   Copy the start address
 0019DC 5A30 C054            0000C 13237    2308.              A     RB,@VMIMLEN             Get the ending address
 0019E0 1923/47B0 A3A8       019FA 13238    2309.              WHILE (RA,LT,RB),BEGIN
 0019E6 B110 2000            00000 13255  1 2310.                LRA   RS,@RA                  Get the real address
 0019EA 83100005                   13256  1 2311.                SYSCTL RS,TYPE=PAGE           Notify the hardware
 0019EE B22B 00F1                  13259  1 2312.                SSKE  EPAR,RS                 Set the storage key
 0019F2 4A20 A980            01FD2 13260  1 2313.                AH    RA,=Y(4096)             Get to the next page
 0019F6 47F0 A38E            019E0 13261    2314.              END   ,
 0019FA D203 D048 4010 00000 00010 13266    2315.              MVC   RAPVSLB,SPCBVSRB        The region
 001A00 D203 D04C C050 00004 00008 13267    2316.              MVC   RAPLOC,@VMIMLOC         Location of the Map
 001A06 D203 D050 C054 00008 0000C 13268    2317.              MVC   RAPLEN,@VMIMLEN         Length of the Map
 001A0C 58F0 A94E/0DEF       01FA0 13269    2318.              ACALL REMSPEC                 Remove it from the region
 001A12 D203 D048 4014 00000 00014 13276    2319.              MVC   RAPVSLB,SPCBUVSL        Used area
 001A18 58F0 A93E/0DEF       01F90 13277    2320.              ACALL ADDSPEC                 Add it to the pool
                                   13284    2321.     *
                                   13285    2322.     * Take care of the V=R stack area
                                   13286    2323.     *
 001A1E 1FFF/43F0 702C       0002C 13287    2324.              LC    EPAR,VSCTSKEY           Get the system key
 001A24 56F0 A946            01F98 13294    2325.              O     EPAR,=X'00000008'       Fetch protect bit
 001A28 5820 C058            00010 13295    2326.              L     RA,@VMISLOC             Get the V=R stack area addr
 001A2C 4110 0010            00010 13296    2327.              LA    RS,16                   Get the real address
 001A30                            13297    2328.              LOOP  BEGIN
 001A30 83200005                   13303  1 2329.                SYSCTL RA,TYPE=PAGE           Notify the hardware
 001A34 B22B 00F2                  13306  1 2330.                SSKE  EPAR,RA                 Set the storage key
 001A38 4A20 A980            01FD2 13307  1 2331.                AH    RA,=Y(4096)             Go to the next page
 001A3C 4610 A3DE            01A30 13308    2332.              UNTIL (BCT,RS),END
                                   13318    2333.     *
                                   13319    2334.     * Account for the Area
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   84
0Current Usings:  (SPCB,R4) (VMCB,R6) (VSCT,R7) (VMINIT1,R10) (@VMIPARM-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13320    2335.     *
 001A40 D203 D048 4010 00000 00010 13321    2336.              MVC   RAPVSLB,SPCBVSRB        The region
 001A46 D203 D04C C058 00004 00010 13322    2337.              MVC   RAPLOC,@VMISLOC         Location of the area
 001A4C D203 D050 A952 00008 01FA4 13323    2338.              MVC   RAPLEN,=A(16*4096)      Length of the area
 001A52 58F0 A94E/0DEF       01FA0 13324    2339.              ACALL REMSPEC                 Remove it from the region
 001A58 D203 D048 4014 00000 00014 13331    2340.              MVC   RAPVSLB,SPCBUVSL        Used area
 001A5E 58F0 A93E/0DEF       01F90 13332    2341.              ACALL ADDSPEC                 Add it to the pool
                                   13339    2342.     *
                                   13340    2343.     * Return the size of the Address space so the Real storage
                                   13341    2344.     * Guy can do his job
                                   13342    2345.     *
 001A64 5800 601C            0001C 13343    2346.              L     RVR,VMCBGHS             Start of the the high region
 001A68 5A00 6020            00020 13344    2347.              A     RVR,VMCBGHL             Add the length
 001A6C 981F C008            00008 13345    2348.              PEND  ,
 DROP   SPCB,R4
 DROP   VSCT,R7
 DROP   VMCB,R6
 DROP   @VMIPARM-72,R12
 DROP   VMINIT1,R10
 001A70 9680 C000/0B0E 00000       13375             +
 DROP   REMADDP-72,R13
 001A76 0000
 001A78 00000000                   13384    2349.     XLGLS    DC    FS20'00'                GLOBLO Start address
 001A7C 00C00000                   13385    2350.     XLGLL    DC    FS20'12'                12 megabytes long
 001A80 00C00000                   13386    2351.     XLUSS    DC    FS20'12'                User start address
 001A84 00300000                   13387    2352.     XLUSL    DC    FS20'03'                User length
 001A88 00F00000                   13388    2353.     XLSLS    DC    FS20'15'                LOCSYS start
 001A8C 00500000                   13389    2354.     XLSLL    DC    FS20'05'                Length
 001A90 01400000                   13390    2355.     XLGHS    DC    FS20'20'                GLOBHI start address
                                   13391    2356.     *LGHL    DC    FS20'60'         !!!!!! And length (7/90: 12->60)
                                   13392    2357.     *oldL    DC    FS20'12'         !!!!!! Restored back to 12
                                   13393    2358.     *LGHL    DC    FS20'28'         !!!!!! Global high length (3/91)
                                   13394    2359.     *LGHL    DC    FS20'60'         !!!!!! Global high length (4/91)
                                   13395    2360.     *LGHL    DC    FS20'140'        !!!!!! Global high length (5/91)
                                   13396    2361.     *LGHL    DC    FS20'172'        !!!!!! Global high length (4/00)
 001A94 0EC00000                   13397    2362.     XLGHL    DC    FS20'236'               Global high length (9/00)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   85
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13399    2364.     *****************************************************************
                                   13400    2365.     *                                                               *
                                   13401    2366.     *  VMINIT2 --  **** SECOND LEVEL INITIALIZATION ****            *
                                   13402    2367.     *              This routine continues the global                *
                                   13403    2368.     *              initialization that was started with VMINIT1     *
                                   13404    2369.     *                                                               *
                                   13405    2370.     *   Input  --  none                                             *
                                   13406    2371.     *                                                               *
                                   13407    2372.     *  Output  --  none                                             *
                                   13408    2373.     *                                                               *
                                   13409    2374.     *****************************************************************
-001A98                            13411    2376.     VMINIT2  PROC  SCOPE=GLOBAL
 001A98 E5D4C9D5C9E3F240           13417             +
 001AA0 0000/0000                  13418             +
 001AA4 900F D004/18AF       00004 13420             +
 USING  VMINIT2,R10
 001AAA 50D0 C000/18CD       00000 13435             +
 001AB0 9680 C000      00000       13437             +
 001AB4 41D0 C048            00048 13438             +
                                   13439    2377.     *
                                   13440    2378.     * Find the VMCB
                                   13441    2379.     *
 USING  PZERO,R0                   13442    2380.              USING PZERO,R0
 001AB8 5810 0200            00200 13451    2381.              L     RS,PZMATP               Get the address of the MAT
 DROP   PZERO,R0                   13452    2382.              DROP  R0
 001ABC 5860 1004            00004 13460    2383.              WITH  (MAT,RS),'L RX,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 USING  VMCB,R6                    13484    2384.              WITH  (VMCB,RX)
 001AC0 5870 6028            00028 13497    2385.              L     RY,VMCBGVS              Get the global VSCT
 USING  VSCT,R7                    13498    2386.              WITH  (VSCT,RY)
                                   13511    2387.     *
                                   13512    2388.     * Define the global area
                                   13513    2389.     *
 USING  @PAGSEGD-72,R13            13514    2390.              PSET  @PAGSEGD                Segment create parms
 001AC4 D709 D048 D048 00000 00000 13531             +
 001ACA D203 D048 6004 00000 00004 13532    2391.              MVC   @SDADDR,VMCBGLS         Global Low Start address
 001AD0 D203 D04C 6008 00004 00008 13533    2392.              MVC   @SDLEN,VMCBGLL          And length of global area
 001AD6 D200 D050 702E 00008 0002E 13534    2393.              MVC   @SDHASH,VSCTHASH        Set hash value for segment
 001ADC 9680 D051      00009       13535    2394.              SET   @SDFGLOB                Tell Him it is global
 001AE0 58F0 A504/0DEF       01FA8 13541    2395.              VCALL PAGSEGD                 Have paging manager do it
 001AE6 D203 D048 601C 00000 0001C 13545    2396.              MVC   @SDADDR,VMCBGHS         Global High start address
 001AEC D203 D04C 6020 00004 00020 13546    2397.              MVC   @SDLEN,VMCBGHL          And length of global area
 001AF2 D200 D050 702E 00008 0002E 13547    2398.              MVC   @SDHASH,VSCTHASH        Set hash value for segment
 001AF8 9680 D051      00009       13548    2399.              SET   @SDFGLOB                Tell Him it is global
 001AFC 58F0 A504/0DEF       01FA8 13554    2400.              VCALL PAGSEGD                 Have paging manager do it
 001B02 981F C008            00008 13558    2401.              PEND  ,
 DROP   VSCT,R7
 DROP   VMCB,R6
 DROP   VMINIT2,R10
 001B06 9680 C000/0B0E 00000       13578             +
 DROP   @PAGSEGD-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   86
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13588    2403.     *****************************************************************
                                   13589    2404.     *                                                               *
                                   13590    2405.     *  VMINIT3 --  **** THIRD LEVEL INITIALIZATION ****             *
                                   13591    2406.     *              This routine continues the global                *
                                   13592    2407.     *              initialization that was started with VMINIT1,2   *
                                   13593    2408.     *                                                               *
                                   13594    2409.     *   Input  --  none                                             *
                                   13595    2410.     *                                                               *
                                   13596    2411.     *  Output  --  none                                             *
                                   13597    2412.     *                                                               *
                                   13598    2413.     *****************************************************************
-001B0C                            13600    2415.     VMINIT3  PROC  SCOPE=GLOBAL
 001B0C E5D4C9D5C9E3F340           13606             +
 001B14 0000/0000                  13607             +
 001B18 900F D004/18AF       00004 13609             +
 USING  VMINIT3,R10
 001B1E 50D0 C000/18CD       00000 13624             +
 001B24 9680 C000      00000       13626             +
 001B28 41D0 C048            00048 13627             +
                                   13628    2416.     *
                                   13629    2417.     * Find the VMCB
                                   13630    2418.     *
 USING  PZERO,R0                   13631    2419.              USING PZERO,R0
 001B2C 5810 0200            00200 13640    2420.              L     RS,PZMATP               Get the address of the MAT
 DROP   PZERO,R0                   13641    2421.              DROP  R0
 001B30 5860 1004            00004 13649    2422.              WITH  (MAT,RS),'L RX,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 USING  VMCB,R6                    13673    2423.              WITH  (VMCB,RX)
 001B34 5870 6028            00028 13686    2424.              L     RY,VMCBGVS              Get the global VSCT
 USING  VSCT,R7                    13687    2425.              WITH  (VSCT,RY)
                                   13700    2426.     *
                                   13701    2427.     * Create the global memory lock
                                   13702    2428.     *
 USING  @LOCKCRE-72,R13            13703    2429.              LKCRE VMGLOBAL                Get the lock
 001B38 D710 D048 D048 00000 00000 13721             +
 001B3E D20F D048 A418 00000 01F30 13727             +
 001B44 58F0 A494/0DEF       01FAC 13730             +
 001B4A 5000 7008            00008 13732    2430.              ST    RVR,VSCTLOCK            Save the LOCK id
                                   13733    2431.     *  -->
                                   13734    2432.     *  --> Allocate and clear statistics areas
                                   13735    2433.     *  -->
 DROP   @LOCKCRE-72,R13            13736    2434.              VMGET L:=A(L'VMSTAT),LOC=GLOBHI,FIX=YES
 USING  @VMGET-72,R13
 001B4E D70A D048 D048 00000 00000 13763             +
 001B54 5800 A498            01FB0 13771             +
 001B58 5000 D048            00000 13776             +
 001B5C D201 D050 A4AA 00008 01FC2 13777             +
 001B62 58F0 A450/0DEF       01F68 13780             +
 001B68 5000 6030            00030 13782    2435.              ST    RVR,VMCBSTAG            Global stats area
 001B6C 5000 7038            00038 13783    2436.              ST    RVR,VSCTSTAT
 001B70 1820                       13784    2437.              LR    RA,RVR
 001B72 5830 A498            01FB0 13785    2438.              L     RB,=A(L'VMSTAT)
 001B76 1B55                       13786    2439.              CLEAR RK
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   87
0Current Usings:  (VMCB,R6) (VSCT,R7) (VMINIT3,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001B78 0E24                       13790    2440.              MVCL  RA,RJ
 001B7A                            13791    2441.              VMGET L:=A(L'VMSTAT),LOC=GLOBHI,FIX=YES
 001B7A D70A D048 D048 00000 00000 13808             +
 001B80 5800 A498            01FB0 13816             +
 001B84 5000 D048            00000 13821             +
 001B88 D201 D050 A4AA 00008 01FC2 13822             +
 001B8E 58F0 A450/0DEF       01F68 13825             +
 001B94 5000 602C            0002C 13827    2442.              ST    RVR,VMCBSTAT            Local stats area
 001B98 1820                       13828    2443.              LR    RA,RVR
 001B9A 5830 A498            01FB0 13829    2444.              L     RB,=A(L'VMSTAT)
 001B9E 1B55                       13830    2445.              CLEAR RK
 001BA0 0E24                       13834    2446.              MVCL  RA,RJ
 001BA2 981F C008            00008 13835    2447.              PEND  ,
 DROP   VSCT,R7
 DROP   VMCB,R6
 DROP   VMINIT3,R10
 001BA6 9680 C000/0B0E 00000       13855             +
 DROP   @VMGET-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   88
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13865    2449.     *****************************************************************
                                   13866    2450.     *                                                               *
                                   13867    2451.     * VMDEFSET --  This routine is called by the Paging supervisor  *
                                   13868    2452.     *              when it is ready to handle paging calls. It just *
                                   13869    2453.     *              updates the addresses in the global VSCT that    *
                                   13870    2454.     *              point to the page define and page fix routines.  *
                                   13871    2455.     *                                                               *
                                   13872    2456.     *   Input  --  none                                             *
                                   13873    2457.     *                                                               *
                                   13874    2458.     *  Output  --  none                                             *
                                   13875    2459.     *                                                               *
                                   13876    2460.     *****************************************************************
-001BAC                            13878    2462.     VMDEFSET PROC  SCOPE=GLOBAL
 001BAC E5D4C4C5C6E2C5E3           13884             +
 001BB4 0000/0000                  13885             +
 001BB8 900F D004/18AF       00004 13887             +
 USING  VMDEFSET,R10
 001BBE 50D0 C000/18CD       00000 13902             +
 001BC4 9680 C000      00000       13904             +
 001BC8 41D0 C048            00048 13905             +
 USING  PZERO,R0                   13906    2463.              USING PZERO,R0
 001BCC 5810 0200            00200 13915    2464.              L     RS,PZMATP               Get the MAT address
 DROP   PZERO,R0                   13916    2465.              DROP  R0
 001BD0 5810 1004            00004 13924    2466.              WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 001BD4 5870 1028            00028 13948    2467.              WITH  (VMCB,RS),'L RY,VMCBGVS'
 USING  VMCB,R1
 DROP   VMCB,R1
 USING  VSCT,R7                    13972    2468.              WITH  (VSCT,RY)
 001BD8 D203 7030 A3FC 00030 01FB4 13985    2469.              MVC   VSCTPDEF,=V(PAGDEF)     Real page def routine
 001BDE D203 7034 A400 00034 01FB8 13986    2470.              MVC   VSCTPFIX,=V(PAGFIX)     Real page fix routine
                                   13987    2471.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13988    2472.              Ÿ  The following SVC is defined only in the IPL environment.   Ÿ
                                   13989    2473.              Ÿ    It ensures that the IPL code will no longer resolve page  Ÿ
                                   13990    2474.              Ÿ    faults automatically.                                     Ÿ
                                   13991    2475.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001BE4 0A04                       13992    2476.              SVC   4          Can't auto define real memory any more
 001BE6 981F C008            00008 13993    2477.              PEND
 DROP   VSCT,R7
 DROP   VMDEFSET,R10
 001BEA 9680 C000/0B0E 00000       14008             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   89
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14015    2479.     *****************************************************************
                                   14016    2480.     *                                                               *
                                   14017    2481.     *  VMCRAS1 --  This routine initalizes the control blocks for   *
                                   14018    2482.     *              the virtual storage manager for local memory     *
                                   14019    2483.     *              and together with calls to the paging manager,   *
                                   14020    2484.     *              sets up a new address space.                     *
                                   14021    2485.     *                                                               *
                                   14022    2486.     *   Input  --  @VMCRAS                                          *
                                   14023    2487.     *                                                               *
                                   14024    2488.     *  Output  --  none                                             *
                                   14025    2489.     *                                                               *
                                   14026    2490.     *****************************************************************
-001BF0                            14028    2492.     VMCRAS1  PROC  @VMCRAS,SCOPE=GLOBAL
 001BF0 E5D4C3D9C1E2F140           14034             +
 001BF8 0008/0000                  14035             +
 001BFC 900F D004/18AF       00004 14037             +
 USING  VMCRAS1,R10
 001C02 50D0 C000/18CD       00000 14052             +
 001C08 9680 C000      00000       14054             +
 USING  @VMCRAS-72,R12
 001C0C 41D0 C050            00050 14068             +
                                   14069    2493.     *
                                   14070    2494.     * Find the VMCB so we can find the extent of the local memory.
                                   14071    2495.     *
 USING  PZERO,R0                   14072    2496.              USING PZERO,R0
 001C10 5810 0200            00200 14081    2497.              L     RS,PZMATP               Get the address of the MAT
 DROP   PZERO,R0                   14082    2498.              DROP  R0
 001C14 5860 1004            00004 14090    2499.              WITH  (MAT,RS),'L RX,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 USING  VMCB,R6                    14114    2500.              WITH  (VMCB,RX)               Address it
 001C18 5870 6028            00028 14127    2501.              L     RY,VMCBGVS              Get the global VSCT
 USING  VSCT,R7                    14128    2502.              WITH  (VSCT,RY)
                                   14141    2503.     *
                                   14142    2504.     * Find the end of the local area
                                   14143    2505.     *
 001C1C 5850 6014            00014 14144    2506.              L     RK,VMCBSLS              Get the star of system area
 001C20 5A50 6018            00018 14145    2507.              A     RK,VMCBSLL              Then point at the end
                                   14146    2508.     *
                                   14147    2509.     * Reserve space for the page needed by the paging manager for
                                   14148    2510.     * a page table, then call him to set up our address space.
                                   14149    2511.     *
 001C24 4B50 A3D6            01FD2 14150    2512.              SH    RK,=Y(4096)             Make room for the page
 USING  @PAGASC2-72,R13            14151    2513.              PSET  @PAGASC2                Parms for paging manager
 001C28 D704 D048 D048 00000 00000 14168             +
 001C2E 5050 D048            00000 14169    2514.              ST    RK,@ASCVA               His page address
 001C32 D200 D04C 702C 00004 0002C 14170    2515.              MVC   @ASCKEY,VSCTSKEY        System key
 001C38 9608 D04C      00004       14171    2516.              OI    @ASCKEY,X'08'           Fetch protected
 001C3C 58F0 A3C0/0DEF       01FBC 14172    2517.              VCALL PAGASC2                 Create the address space
                                   14176    2518.     *
                                   14177    2519.     * Define the page to be used for pool control blocks
                                   14178    2520.     *
 DROP   @PAGASC2-72,R13            14179    2521.              PSET  @PAGDEF
 USING  @PAGDEF-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   90
0Current Usings:  (VMCB,R6) (VSCT,R7) (VMCRAS1,R10) (@VMCRAS-72,R12) (@PAGDEF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001C42 D709 D048 D048 00000 00000 14199             +
 001C48 1815                       14200    2522.              LR    RS,RK                   Get the end of the page
 001C4A 4B10 A3D6            01FD2 14201    2523.              SH    RS,=Y(4096)             Get the start of the page
 001C4E 5010 D048            00000 14202    2524.              ST    RS,@PDADDR              Location
 001C52 D203 D04C A398 00004 01F94 14203    2525.              MVC   @PDLEN,=A(4096)         Length
 001C58 D200 D050 702C 00008 0002C 14204    2526.              MVC   @PDKEY,VSCTSKEY         System key
 001C5E 9608 D050      00008       14205    2527.              OI    @PDKEY,X'08'            Fetch protected
                                   14206    2528.     *        MVC   @PDHASH,VSCTHASH        Hash value
 001C62 58F0 A3B8/0DEF       01FB4 14207    2529.              VCALL PAGDEF                  Define the page
                                   14211    2530.     *
                                   14212    2531.     * Allocate and initialize the VSCT
                                   14213    2532.     *
 001C68 4B50 A3D0            01FCC 14214    2533.              SH    RK,=Y(((L'VSCT+VMAL-1)/VMAL)*VMAL) Update the location
 001C6C 1875                       14215    2534.              LR    RY,RK                   Copy address to VSCT pointer
 001C6E                            14216    2535.              CLEAR VSCT
 001C6E D73B 7000 7000 00000 00000 14222             +
 001C74 D203 7000 A388 00000 01F84 14223    2536.              MVC   VSCT(4),=C'VSCT'        Move in CB name
                                   14224    2537.
 001C7A 5060 700C            0000C 14225    2538.              ST    RX,VSCTVMCB             Save the VMCB address
 USING  PZERO,R0                   14226    2539.              USING PZERO,R0
 001C7E 5810 0200            00200 14235    2540.              L     RS,PZMATP               Get the MAT pointer
 DROP   PZERO,R0                   14236    2541.              DROP  R0
 USING  MAT,R1                     14244    2542.              WITH  (MAT,RS),BEGIN
 001C82 D200 702C 10E0 0002C 000E0 14258  1 2543.                MVC   VSCTSKEY,MATSKEY        System key value
 001C88 D200 702D 10E1 0002D 000E1 14259  1 2544.                MVC   VSCTUKEY,MATUKEY        User key value
 DROP   MAT,R1                     14260    2545.              END   ,
 001C8E D203 7030 A3B8 00030 01FB4 14268    2546.              MVC   VSCTPDEF,=V(PAGDEF)     Page definition function
 001C94 D203 7034 A3BC 00034 01FB8 14269    2547.              MVC   VSCTPFIX,=V(PAGFIX)     Page fix function
 001C9A D200 702E 6024 0002E 00024 14270    2548.              MVC   VSCTHASH,VMCBHASH       Default hash value
 001CA0 D203 7038 602C 00038 0002C 14271    2549.              MVC   VSCTSTAT,VMCBSTAT       --> Stats pointer
                                   14272    2550.
 001CA6 5810 C048            00000 14273    2551.              L     RS,@VMCASB              Get our ASB
 001CAA 5070 1018            00018 14274    2552.              WITH  (ASB,RS),'ST RY,ASBVSCT'  Save the VSCT pointer there
 USING  ASB,R1
 DROP   ASB,R1
                                   14298    2553.     *
                                   14299    2554.     * Get some VSLB's
                                   14300    2555.     *
 001CAE 4110 001E            0001E 14301    2556.              LA    RS,30                   The number we want
 001CB2 1B22                       14302    2557.              CLEAR RA                      Address of the previous one
 001CB4                            14306    2558.              LOOP  BEGIN
 001CB4 4B50 A3D2            01FCE 14312  1 2559.                SH    RK,=Y(((L'VSLB+VMAL-1)/VMAL)*VMAL) Update the location
 USING  VSLB,R5                    14313  1 2560.                WITH  (VSLB,RK)               Address it
 001CB8                            14326  1 2561.                CLEAR VSLB                    Clear it to zero
 001CB8 D71F 5000 5000 00000 00000 14332  1          +
 001CBE D203 5000 A378 00000 01F74 14333  1 2562.                MVC   VSLB(4),=C'VSLB'        Set the control block id
 001CC4 5070 5004            00004 14334  1 2563.                ST    RY,VSLBOWNR             Save the VSCT pointer
 001CC8 5020 5008            00008 14335  1 2564.                ST    RA,VSLBNEXT             Save pointer to the next one
 001CCC 1825                       14336  1 2565.                LR    RA,RK                   This becomes the previous
 001CCE 4610 A0B8            01CB4 14337    2566.              UNTIL (BCT,RS),END
 DROP   VSLB,R5
                                   14352    2567.
 001CD2 5020 701C            0001C 14353    2568.              ST    RA,VSCTRSRV             Put em all on reserve list
 USING  VSLB,R2                    14354    2569.              WITH  (VSLB,RA),BEGIN
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   91
0Current Usings:  (VSLB,R2) (VMCB,R6) (VSCT,R7) (VMCRAS1,R10) (@VMCRAS-72,R12) (@PAGDEF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001CD6 4110 0009            00009 14368  1 2570.                LA    RS,9                    Count of reserve less one
 001CDA                            14369  1 2571.                LOOP  BEGIN
 001CDA 5820 2008            00008 14375  2 2572.                  L     RA,VSLBNEXT             Reserve one
 001CDE 4610 A0DE            01CDA 14376  1 2573.                UNTIL (BCT,RS),END
 001CE2 5810 2008            00008 14386  1 2574.                L     RS,VSLBNEXT             Do the final one
 001CE6                            14387  1 2575.                CLEAR VSLBNEXT                End of the reserve list
 001CE6 D703 2008 2008 00008 00008 14393  1          +
 001CEC 1821                       14394  1 2576.                LR    RA,RS                   Get the first free one
 DROP   VSLB,R2                    14395    2577.              END   ,
 001CEE 5020 7018            00018 14403    2578.              ST    RA,VSCTVSLB             Save the rest
                                   14404    2579.     *
                                   14405    2580.     * Set up the high region (system area)
                                   14406    2581.     *
 001CF2 5820 7018            00018 14407    2582.              L     RA,VSCTVSLB             Get first VSLB in list
 001CF6 5020 7024            00024 14408    2583.              ST    RA,VSCTHVSR             Save as the queue master
 USING  VSLB,R2                    14409    2584.              WITH  (VSLB,RA),BEGIN
 001CFA D203 7018 2008 00018 00008 14423  1 2585.                MVC   VSCTVSLB,VSLBNEXT       Update the chain
 001D00 5020 2008            00008 14424  1 2586.                ST    RA,VSLBNEXT
 001D04 5020 200C            0000C 14425  1 2587.                ST    RA,VSLBPREV             Chain is empty
 001D08                            14426  1 2588.                CLEAR VSLBLOC
 001D08 D703 2010 2010 00010 00010 14432  1          +
 001D0E                            14433  1 2589.                CLEAR VSLBLEN                 And this element is empty
 001D0E D703 2014 2014 00014 00014 14439  1          +
 DROP   VSLB,R2                    14440    2590.              END   ,
                                   14448    2591.     *
                                   14449    2592.     * Set up the low region (user area)
                                   14450    2593.     *
 001D14 5820 7018            00018 14451    2594.              L     RA,VSCTVSLB             Get first VSLB in list
 001D18 5020 7028            00028 14452    2595.              ST    RA,VSCTLVSR             Save as the queue master
 USING  VSLB,R2                    14453    2596.              WITH  (VSLB,RA),BEGIN
 001D1C D203 7018 2008 00018 00008 14467  1 2597.                MVC   VSCTVSLB,VSLBNEXT       Update the chain
 001D22 5020 2008            00008 14468  1 2598.                ST    RA,VSLBNEXT
 001D26 5020 200C            0000C 14469  1 2599.                ST    RA,VSLBPREV             Chain is empty
 001D2A                            14470  1 2600.                CLEAR VSLBLOC
 001D2A D703 2010 2010 00010 00010 14476  1          +
 001D30                            14477  1 2601.                CLEAR VSLBLEN                 And this element is empty
 001D30 D703 2014 2014 00014 00014 14483  1          +
 DROP   VSLB,R2                    14484    2602.              END   ,
                                   14492    2603.     *
                                   14493    2604.     * Setup the System area SPCB
                                   14494    2605.     *
 001D36 4B50 A3D4            01FD0 14495    2606.              SH    RK,=Y(((L'SPCB+VMAL-1)/VMAL)*VMAL) Room for the SPCB
 USING  SPCB,R5                    14496    2607.              WITH  (SPCB,RK)               Address it
 001D3A                            14509    2608.              CLEAR SPCB
 001D3A D71B 5000 5000 00000 00000 14515             +
 001D40 D203 5000 A370 00000 01F6C 14516    2609.              MVC   SPCB(4),=C'SPCB'        Control block ID
 001D46 5050 7020            00020 14517    2610.              ST    RK,VSCTPOOL             First in the pool chain
 001D4A D203 5010 7024 00010 00024 14518    2611.              MVC   SPCBVSRB,VSCTHVSR       Use the high area
                                   14519    2612.
 001D50 921B 500C      0000C       14520    2613.              MVI   SPCBMAJP,PNHIGH+PNFETP+PNSYSKEY+PNDATA
 001D54 5820 7018            00018 14521    2614.              L     RA,VSCTVSLB             Get first VSLB in list
 001D58 5020 5014            00014 14522    2615.              ST    RA,SPCBUVSL             Save as used queue master
 USING  VSLB,R2                    14523    2616.              WITH  (VSLB,RA),BEGIN
 001D5C D203 7018 2008 00018 00008 14537  1 2617.                MVC   VSCTVSLB,VSLBNEXT       Update the chain
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   92
0Current Usings:  (VSLB,R2) (SPCB,R5) (VMCB,R6) (VSCT,R7) (VMCRAS1,R10) (@VMCRAS-72,R12) (@PAGDEF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001D62 5020 2008            00008 14538  1 2618.                ST    RA,VSLBNEXT
 001D66 5020 200C            0000C 14539  1 2619.                ST    RA,VSLBPREV             Chain is empty
 001D6A                            14540  1 2620.                CLEAR VSLBLOC
 001D6A D703 2010 2010 00010 00010 14546  1          +
 001D70                            14547  1 2621.                CLEAR VSLBLEN                 And this element is empty
 001D70 D703 2014 2014 00014 00014 14553  1          +
 DROP   VSLB,R2                    14554    2622.              END   ,
                                   14562    2623.
 001D76 5820 7018            00018 14563    2624.              L     RA,VSCTVSLB             Get first VSLB in list
 001D7A 5020 5018            00018 14564    2625.              ST    RA,SPCBFVSL             Save as free queue master
 USING  VSLB,R2                    14565    2626.              WITH  (VSLB,RA),BEGIN
 001D7E D203 7018 2008 00018 00008 14579  1 2627.                MVC   VSCTVSLB,VSLBNEXT       Update the chain
 001D84 5020 2008            00008 14580  1 2628.                ST    RA,VSLBNEXT
 001D88 5020 200C            0000C 14581  1 2629.                ST    RA,VSLBPREV             Chain is empty
 001D8C                            14582  1 2630.                CLEAR VSLBLOC
 001D8C D703 2010 2010 00010 00010 14588  1          +
 001D92                            14589  1 2631.                CLEAR VSLBLEN                 And this element is empty
 001D92 D703 2014 2014 00014 00014 14595  1          +
 DROP   VSLB,R2                    14596    2632.              END   ,
                                   14604    2633.     *
                                   14605    2634.     * All the control blocks have now been allocated, but we need to
                                   14606    2635.     * set up the information that must be contained in them.
                                   14607    2636.     *
                                   14608    2637.     * First set up the user region
                                   14609    2638.     *
 DROP   @PAGDEF-72,R13             14610    2639.              PSET  REMADDP,CLEAR=NO
 USING  REMADDP-72,R13
 001D98 D203 D048 7028 00000 00028 14624    2640.              MVC   RAPVSLB,VSCTLVSR        Move in the master address
 001D9E D203 D04C 600C 00004 0000C 14625    2641.              MVC   RAPLOC,VMCBUSS          User region start
 001DA4 D203 D050 6010 00008 00010 14626    2642.              MVC   RAPLEN,VMCBUSL          And length
 001DAA 58F0 A394/0DEF       01F90 14627    2643.              ACALL ADDSPEC                 Add it to the region
                                   14634    2644.     *
                                   14635    2645.     * Next set up the system region
                                   14636    2646.     *
                                   14637    2647.              PSET  REMADDP,CLEAR=NO
 001DB0 D203 D048 7024 00000 00024 14641    2648.              MVC   RAPVSLB,VSCTHVSR        Move in the master address
 001DB6 D203 D04C 6014 00004 00014 14642    2649.              MVC   RAPLOC,VMCBSLS          Start of the system local area
 001DBC 1825                       14643    2650.              LR    RA,RK                   Get current location in area
 001DBE 5420 A3A0            01F9C 14644    2651.              N     RA,=F'-4096'            Round down to a page
 001DC2 1832                       14645    2652.              LR    RB,RA                   Copy it
 001DC4 5B30 6014            00014 14646    2653.              S     RB,VMCBSLS              Get the length in pages left
 001DC8 5030 D050            00008 14647    2654.              ST    RB,RAPLEN               Save that
 001DCC 58F0 A394/0DEF       01F90 14648    2655.              ACALL ADDSPEC                 Put that all in the region
                                   14655    2656.     *
                                   14656    2657.     * Next the free space left in the system local area
                                   14657    2658.     *
                                   14658    2659.              PSET  REMADDP,CLEAR=NO
 001DD2 D203 D048 5018 00000 00018 14662    2660.              MVC   RAPVSLB,SPCBFVSL        Free space master
 001DD8 5020 D04C            00004 14663    2661.              ST    RA,RAPLOC               Start of the current page
 001DDC 1B25                       14664    2662.              SR    RA,RK                   Neg of length
 001DDE 1322                       14665    2663.              LCR   RA,RA                   length
 001DE0 5020 D050            00008 14666    2664.              ST    RA,RAPLEN               Save it
 001DE4 58F0 A394/0DEF       01F90 14667    2665.              ACALL ADDSPEC                 Add that
                                   14674    2666.     *
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   93
0Current Usings:  (SPCB,R5) (VMCB,R6) (VSCT,R7) (VMCRAS1,R10) (@VMCRAS-72,R12) (REMADDP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14675    2667.     * Now the used space in the system local area
                                   14676    2668.     *
                                   14677    2669.              PSET  REMADDP,CLEAR=NO
 001DEA D203 D048 5014 00000 00014 14681    2670.              MVC   RAPVSLB,SPCBUVSL
 001DF0 5050 D04C            00004 14682    2671.              ST    RK,RAPLOC               Starting point
 001DF4 5820 6014            00014 14683    2672.              L     RA,VMCBSLS              Start of the region
 001DF8 5A20 6018            00018 14684    2673.              A     RA,VMCBSLL              Length of the region
 001DFC 1B25                       14685    2674.              SR    RA,RK                   Get the length used so far
 001DFE 5020 D050            00008 14686    2675.              ST    RA,RAPLEN
 001E02 58F0 A394/0DEF       01F90 14687    2676.              ACALL ADDSPEC                 Add it to the queue
                                   14694    2677.     *
                                   14695    2678.     * The control blocks are all set to allow allocation near the
                                   14696    2679.     * top of the local system area.  We now call the paging supervisor
                                   14697    2680.     * to let him know about the whole local area.
                                   14698    2681.     *
 DROP   REMADDP-72,R13             14699    2682.              PSET  @PAGSEGD                Segment define
 USING  @PAGSEGD-72,R13
 001E08 D709 D048 D048 00000 00000 14719             +
 001E0E D203 D048 600C 00000 0000C 14720    2683.              MVC   @SDADDR,VMCBUSS         Start of user area
 001E14 D203 D04C 6010 00004 00010 14721    2684.              MVC   @SDLEN,VMCBUSL          length of the area
 001E1A D200 D050 702E 00008 0002E 14722    2685.              MVC   @SDHASH,VSCTHASH        Set hash value for segment
 001E20 58F0 A3AC/0DEF       01FA8 14723    2686.              VCALL PAGSEGD                 Define it
 001E26 D203 D048 6014 00000 00014 14727    2687.              MVC   @SDADDR,VMCBSLS         System local start
 001E2C D203 D04C 6018 00004 00018 14728    2688.              MVC   @SDLEN,VMCBSLL          And length
 001E32 D200 D050 702E 00008 0002E 14729    2689.              MVC   @SDHASH,VSCTHASH        Set hash value for segment
 001E38 58F0 A3AC/0DEF       01FA8 14730    2690.              VCALL PAGSEGD                 then define it
 001E3E 981F C008            00008 14734    2691.              PEND  ,                       All done
 DROP   SPCB,R5
 DROP   VSCT,R7
 DROP   VMCB,R6
 DROP   @VMCRAS-72,R12
 DROP   VMCRAS1,R10
 001E42 9680 C000/0B0E 00000       14764             +
 DROP   @PAGSEGD-72,R13
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   94
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14774    2693.     *****************************************************************
                                   14775    2694.     *                                                               *
                                   14776    2695.     *  VMCRAS2 --  **** SECOND LEVEL ****                           *
                                   14777    2696.     *              Finishes up the memory initialization.           *
                                   14778    2697.     *                                                               *
                                   14779    2698.     *   Input  --  none                                             *
                                   14780    2699.     *                                                               *
                                   14781    2700.     *  Output  --  none                                             *
                                   14782    2701.     *                                                               *
                                   14783    2702.     *****************************************************************
-001E48                            14785    2704.     VMCRAS2  PROC  SCOPE=GLOBAL
 001E48 E5D4C3D9C1E2F240           14791             +
 001E50 0000/0000                  14792             +
 001E54 900F D004/18AF       00004 14794             +
 USING  VMCRAS2,R10
 001E5A 50D0 C000/18CD       00000 14809             +
 001E60 9680 C000      00000       14811             +
 001E64 41D0 C048            00048 14812             +
                                   14813    2705.     *
                                   14814    2706.     * Get the local VSCT address
                                   14815    2707.     *
 USING  PZERO,R0                   14816    2708.              USING PZERO,R0
 001E68 5810 0208            00208 14825    2709.              L     RS,PZCURASB             Get the current ASB
 DROP   PZERO,R0                   14826    2710.              DROP  R0
 001E6C 5870 1018            00018 14834    2711.              WITH  (ASB,RS),'L RY,ASBVSCT' Get the VSCT address
 USING  ASB,R1
 DROP   ASB,R1
 USING  VSCT,R7                    14858    2712.              WITH  (VSCT,RY)
                                   14871    2713.     *
                                   14872    2714.     * Finish up local things
                                   14873    2715.     *
 001E70 981F C008            00008 14874    2716.              PEND  ,
 DROP   VSCT,R7
 DROP   VMCRAS2,R10
 001E74 9680 C000/0B0E 00000       14889             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   95
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14896    2718.     *****************************************************************
                                   14897    2719.     *                                                               *
                                   14898    2720.     * INITPFIX --  Page fix routine to be called during             *
                                   14899    2721.     *              the initialization process.  Since all pages     *
                                   14900    2722.     *              allocated during initialization turn out fixed   *
                                   14901    2723.     *              when it is over, this is just a null return.     *
                                   14902    2724.     *                                                               *
                                   14903    2725.     *   Input  --  none                                             *
                                   14904    2726.     *                                                               *
                                   14905    2727.     *  Output  --  none                                             *
                                   14906    2728.     *                                                               *
                                   14907    2729.     *****************************************************************
-001E7A                            14909    2731.     INITPFIX PROC  SCOPE=LOCAL
 001E7A C9D5C9E3D7C6C9E7           14916             +
 001E82 0000/0000                  14917             +
 001E86 900F D004/18AF       00004 14919             +
 USING  INITPFIX,R10
 001E8C 50D0 C000/18CD       00000 14934             +
 001E92 9680 C000      00000       14936             +
 001E96 41D0 C048            00048 14937             +
 001E9A 981F C008            00008 14938    2732.              PEND  ,
 DROP   INITPFIX,R10
 001E9E 9680 C000/0B0E 00000       14948             +
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   96
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14955    2734.     *****************************************************************
                                   14956    2735.     *                                                               *
                                   14957    2736.     * INITPDEF --  This is the page definition routine called       *
                                   14958    2737.     *              during the initialization process.  It just      *
                                   14959    2738.     *              hashes the page and sets the key to that desired *
                                   14960    2739.     *              by the caller.  When the paging supervisor is    *
                                   14961    2740.     *              ready to handle these calls it will call         *
                                   14962    2741.     *              VMDEFSET and from that point on its routine will *
                                   14963    2742.     *              be called to define pages.  This assumes that    *
                                   14964    2743.     *              any pages referenced by it will be automatically *
                                   14965    2744.     *              resolved, and defined by the IPLTEXT routine.    *
                                   14966    2745.     *                                                               *
                                   14967    2746.     *   Input  --  @PAGDEF                                          *
                                   14968    2747.     *                                                               *
                                   14969    2748.     *  Output  --  none                                             *
                                   14970    2749.     *                                                               *
                                   14971    2750.     *****************************************************************
-001EA4                            14973    2752.     INITPDEF PROC  @PAGDEF,SCOPE=LOCAL
 001EA4 C9D5C9E3D7C4C5C6           14980             +
 001EAC 0010/0000                  14981             +
 001EB0 900F D004/18AF       00004 14983             +
 USING  INITPDEF,R10
 001EB6 50D0 C000/18CD       00000 14998             +
 001EBC 9680 C000      00000       15000             +
 USING  @PAGDEF-72,R12
 001EC0 41D0 C058            00058 15014             +
 001EC4 5820 C048            00000 15015    2753.              L     RA,@PDADDR              Get the address
 001EC8 5830 C04C            00004 15016    2754.              L     RB,@PDLEN               And the length
 USING  PZERO,R0                   15017    2755.              USING PZERO,R0
 001ECC 5810 0200            00200 15026    2756.              L     RS,PZMATP               Get the mat pointer
 DROP   PZERO,R0                   15027    2757.              DROP  R0
 001ED0 5810 1004            00004 15035    2758.              WITH  (MAT,RS),'L RS,MATVMCB' Get the VMCB address
 USING  MAT,R1
 DROP   MAT,R1
 USING  VMCB,R1                    15059    2759.              WITH  (VMCB,RS),BEGIN
 001ED4 1B55                       15073  1 2760.                CLEAR RK
 001ED6 BF58 1024            00024 15077  1 2761.                ICM   RK,B'1000',VMCBHASH     Get the hash value (was @PDHASH)
 DROP   VMCB,R1                    15078    2762.              END   ,
                                   15086    2763.     *
                                   15087    2764.     * Allow initialization page faults (IPL environment only)
                                   15088    2765.     *
 001EDA 0A00                       15089    2766.              SVC   0                       Turn em on
 001EDC 0E24                       15090    2767.              MVCL  RA,RJ                   Trash the page
                                   15091    2768.     *
                                   15092    2769.     * Disallow initialization page faults (IPL environment only)
                                   15093    2770.     *
 001EDE 0A01                       15094    2771.              SVC   1                       Turn em off
 001EE0 5820 C048            00000 15095    2772.              L     RA,@PDADDR              Get the address
 001EE4 5830 C04C            00004 15096    2773.              L     RB,@PDLEN               Get the length
 001EE8 1A32                       15097    2774.              AR    RB,RA                   Get the end of the area
 001EEA 1F44/4340 C050       00008 15098    2775.              LC    RJ,@PDKEY               And the key
 001EF0 1923/47B0 A05A       01F0A 15105    2776.              WHILE (RA,LT,RB),BEGIN
 001EF6 B110 2000            00000 15122  1 2777.                LRA   RS,@RA                  Get the real page addr
 001EFA 83100005                   15123  1 2778.                SYSCTL RS,TYPE=PAGE           Notify the hardware
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   97
0Current Usings:  (INITPDEF,R10) (@PAGDEF-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001EFE B22B 0041                  15126  1 2779.                SSKE  RJ,RS                   Set the key
 001F02 4A20 A122            01FD2 15127  1 2780.                AH    RA,=Y(4096)             Get to the next page
 001F06 47F0 A040            01EF0 15128    2781.              END   ,
 001F0A 981F C008            00008 15133    2782.              PEND  ,
 DROP   @PAGDEF-72,R12
 DROP   INITPDEF,R10
 001F0E 9680 C000/0B0E 00000       15148             +
 001F14 00000000                   15154    2783.              XTRCDATA ,                    Generate the trace info
 001F18                            15157    2784.              END   .
 001F18 E5C9D9E3D4C5D440           15160                             =CL8'VIRTMEM'
 001F20 C7C8E2C9E9C54040           15161                             =CL8'GHSIZE'
 001F28 C7D3E2C9E9C54040           15162                             =CL8'GLSIZE'
 001F30 E5D4C7D3D6C2C1D3           15163                             =CL16'VMGLOBAL'
 001F40 000007DC                   15164                             =A(MXHIST)
 001F44 00000001                   15165                             =A(1)
 001F48 000007E4                   15166                             =A(MXRTN)
 001F4C 7FFFFFFF                   15167                             =X'7FFFFFFF'
 001F50 00000000                   15168                             =V(ASLOCK)
 001F54 00000000                   15169                             =V(LKOB)
 001F58 7FFFFFF0                   15170                             =A(VMALIGN)
 001F5C 00000400                   15171                             =A(CHKSPEC)
 001F60 00000000                   15172                             =V(ASULOCK)
 001F64 00000000                   15173                             =V(LKREL)
 001F68 00000000                   15174                             =V(VMGET)
 001F6C E2D7C3C2                   15175                             =C'SPCB'
 001F70 00001446                   15176                             =A(GETVSLB)
 001F74 E5E2D3C2                   15177                             =C'VSLB'
 001F78 00100000                   15178                             =A(1024*1024)
 001F7C D4C1E340                   15179                             =CL4'MAT'
 001F80 E5D4C3C2                   15180                             =C'VMCB'
 001F84 E5E2C3E3                   15181                             =C'VSCT'
 001F88 00001EB0                   15182                             =A(INITPDEF)
 001F8C 00001E86                   15183                             =A(INITPFIX)
 001F90 0000046C                   15184                             =A(ADDSPEC)
 001F94 00001000                   15185                             =A(4096)
 001F98 00000008                   15186                             =X'00000008'
 001F9C FFFFF000                   15187                             =F'-4096'
 001FA0 0000016C                   15188                             =A(REMSPEC)
 001FA4 00010000                   15189                             =A(16*4096)
 001FA8 00000000                   15190                             =V(PAGSEGD)
 001FAC 00000000                   15191                             =V(LKCRE)
 001FB0 00001000                   15192                             =A(L'VMSTAT)
 001FB4 00000000                   15193                             =V(PAGDEF)
 001FB8 00000000                   15194                             =V(PAGFIX)
 001FBC 00000000                   15195                             =V(PAGASC2)
 001FC0 000F                       15196                             =Y(VMAL-1)
 001FC2 3F00                       15197                             =Y(63*256+0)
 001FC4 1B00                       15198                             =Y(27*256+0)
 001FC6 0020                       15199                             =Y(L'VSLB)
 001FC8 0100                       15200                             =Y(((L'MAT+VMAL-1)/VMAL)*VMAL)
 001FCA 0040                       15201                             =Y(((L'VMCB+VMAL-1)/VMAL)*VMAL)
 001FCC 0040                       15202                             =Y(((L'VSCT+VMAL-1)/VMAL)*VMAL)
 001FCE 0020                       15203                             =Y(((L'VSLB+VMAL-1)/VMAL)*VMAL)
 001FD0 0020                       15204                             =Y(((L'SPCB+VMAL-1)/VMAL)*VMAL)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Virtual memory manager                                                                 Page   98
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.47
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001FD2 1000                       15205                             =Y(4096)
 001FD4 0FFF           01FD6 01FD6 15206                             =Y(4095)

1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page   99
-Symbol   Length   Value     Id    R Type   Defn References                                  HLASM R4.0  2004/03/22 09.47
0$$$@R0        1 00000000 FFFFFFFE     J     714  1010
 $$$@R1        1 00000000 FFFFFFFD     J     727  1022
 $$$@R10       1 00000000 FFFFFFF4     J     844  1142
 $$$@R11       1 00000000 FFFFFFF3     J     857  1154
 $$$@R12       1 00000000 FFFFFFF2     J     870  1166
 $$$@R13       1 00000000 FFFFFFF1     J     883  1178
 $$$@R14       1 00000000 FFFFFFF0     J     896  1190
 $$$@R15       1 00000000 FFFFFFEF     J     909  1202
 $$$@R2        1 00000000 FFFFFFFC     J     740  1034
 $$$@R3        1 00000000 FFFFFFFB     J     753  1046
 $$$@R4        1 00000000 FFFFFFFA     J     766  1058
 $$$@R5        1 00000000 FFFFFFF9     J     779  1070
 $$$@R6        1 00000000 FFFFFFF8     J     792  1082
 $$$@R7        1 00000000 FFFFFFF7     J     805  1094
 $$$@R8        1 00000000 FFFFFFF6     J     818  1106
 $$$@R9        1 00000000 FFFFFFF5     J     831  1118   1130
 $$$C1VIRTMEM
               1 000003F4 00000001     J    4013  4015
 $$$C2VIRTMEM
               1 00000D60 00000001     J    8183  8185
 $$$C3VIRTMEM
               1 00000F64 00000001     J    9193  9195
 $$$C4VIRTMEM
               1 00001146 00000001     J   10117 10119  10997  11517  12440
 $$$C5VIRTMEM
               1 00001FD6 00000001     J   15207 15209
 $$$R#VMIWORK
               1 00000000 FFFFFFCF     J   12421 12439  12439
 $$$R@LOCKCRE
               1 00000000 FFFFFFEB     J    1487  1509   1509
 $$$R@LOCKS
               1 00000000 FFFFFFEA     J    1515  1528   1528
 $$$R@PAGASC1
               1 00000000 FFFFFFDD     J    1937  1951   1951
 $$$R@PAGASC2
               1 00000000 FFFFFFDC     J    1957  1971   1971
 $$$R@PAGDEF
               1 00000000 FFFFFFDF     J    1877  1904   1904
 $$$R@PAGE
               1 00000000 FFFFFFDB     J    1977  1993   1993
 $$$R@PAGINIT
               1 00000000 FFFFFFD8     J    2039  2053   2053
 $$$R@PAGINTV
               1 00000000 FFFFFFD9     J    2020  2033   2033
 $$$R@PAGRV
               1 00000000 FFFFFFDA     J    1999  2014   2014
 $$$R@PAGSEGD
               1 00000000 FFFFFFDE     J    1910  1931   1931
 $$$R@PAGSWADV
               1 00000000 FFFFFFE1     J    1828  1841   1841
 $$$R@PAGSWAP
               1 00000000 FFFFFFE2     J    1774  1822   1822
 $$$R@PAGWSMA
               1 00000000 FFFFFFE0     J    1847  1871   1871
 $$$R@PARMDO
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  100
               1 00000000 FFFFFFE4     J    1679  1695   1695
 $$$R@VMCRAS
               1 00000000 FFFFFFE5     J    1653  1666   1666
 $$$R@VMFREE
               1 00000000 FFFFFFE8     J    1576  1591   1591
 $$$R@VMGET
               1 00000000 FFFFFFE9     J    1541  1570   1570
 $$$R@VMINFO
               1 00000000 FFFFFFE7     J    1597  1612   1612
 $$$R@VMIPARM
               1 00000000 FFFFFFE6     J    1625  1642   1642
 $$$RASB       1 00000000 FFFFFFEC     J    1423  1474   1474
 $$$RGFVSLB
               1 00000000 FFFFFFD0     J   11503 11516  11516
 $$$RMAT       1 00000000 FFFFFFEE     J    1259  1318   1318
 $$$RNEWPOOLP
               1 00000000 FFFFFFD1     J   10982 10996  10996
 $$$RPARMIN
               1 00000000 FFFFFFE3     J    1701  1759   1759
 $$$RPZERO
               1 00000000 FFFFFFED     J    1325  1416   1416
 $$$RREMADDP
               1 00000000 FFFFFFD2     J    2390  2406   2406
 $$$RSPCB      1 00000000 FFFFFFD3     J    2296  2380   2380
 $$$RVMCB      1 00000000 FFFFFFD7     J    2102  2131   2131
 $$$RVMSTAT
               1 00000000 FFFFFFD5     J    2220  2248   2248
 $$$RVSCT      1 00000000 FFFFFFD6     J    2149  2214   2214
 $$$RVSLB      1 00000000 FFFFFFD4     J    2262  2282   2282
 $$$100B       4 00000930 00000001     I    6267  6286
 $$$100F       2 0000093A 00000001     H    6283  6267B  6285
 $$$101E       2 0000093E 00000001     H    6293  6287
 $$$101F       2 00000944 00000001     H    6303  6289B
 $$$102B       4 00000954 00000001     I    6347  6361
 $$$102F       2 00000962 00000001     H    6358  6347B  6360
 $$$102T       2 00000958 00000001     H    6350  6337B
 $$$104E       2 00000966 00000001     H    6368  6362
 $$$104F       2 0000096E 00000001     H    6381  6364B
 $$$105F       2 0000099A 00000001     H    6439  6422B
 $$$106F       2 000009AC 00000001     H    6493  6453B
 $$$107F       2 000009CA 00000001     H    6555  6522B
 $$$108B       4 000009CE 00000001     I    6566  6582
 $$$108F       2 000009D8 00000001     H    6579  6566B  6581
 $$$109E       2 000009DC 00000001     H    6589  6583
 $$$109F       2 000009F0 00000001     H    6643  6585B
 $$$110F       2 000009F0 00000001     H    6639  6601B
 $$$112B       4 00000A20 00000001     I    6744  6821
 $$$112F       2 00000A30 00000001     H    6818  6744B  6820
 $$$113E       2 00000A34 00000001     H    6828  6822
 $$$113F       2 00000A3C 00000001     H    6875  6824B
 $$$114F       2 00000A4A 00000001     H    6912  6899B
 $$$115B       4 00000A52 00000001     I    6932  6948
 $$$115F       2 00000A5C 00000001     H    6945  6932B  6947
 $$$116E       2 00000A60 00000001     H    6955  6949
 $$$116F       2 00000A74 00000001     H    7006  6951B
 $$$117F       2 00000A74 00000001     H    7002  6967B
 $$$118F       2 00000CBA 00000001     H    7988  7137B  7183B  7323B  7394B  7462B  7549B
 $$$119F       2 00000AAC 00000001     H    7112  7050B
 $$$119S       2 00000A7C 00000001     H    7041  7111B
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  101
 $$$121F       2 00000AA8 00000001     H    7107  7068B
 $$$122F       2 00000AC2 00000001     H    7141  7126B
 $$$123F       2 00000AE4 00000001     H    7187  7172B
 $$$123T       2 00000ADE 00000001     H    7175  7160B
 $$$128F       2 00000B32 00000001     H    7327  7312B
 $$$129B       4 00000B3A 00000001     I    7339  7358
 $$$129F       2 00000B44 00000001     H    7355  7339B  7357
 $$$13F        2 000000A4 00000001     H    2649  2507B
 $$$130E       2 00000B48 00000001     H    7365  7359
 $$$130F       2 00000B4E 00000001     H    7378  7361B
 $$$132F       2 00000B98 00000001     H    7466  7451B
 $$$133B       4 00000BB2 00000001     I    7486  7505
 $$$133F       2 00000BBC 00000001     H    7502  7486B  7504
 $$$134E       2 00000BC0 00000001     H    7512  7506
 $$$134F       2 00000BC6 00000001     H    7525  7508B
 $$$135F       2 00000BD2 00000001     H    7553  7538B
 $$$136F       2 00000BEC 00000001     H    7605  7590B
 $$$137B       4 00000BF0 00000001     I    7616  7629
 $$$137F       2 00000BFA 00000001     H    7626  7616B  7628
 $$$138E       2 00000BFE 00000001     H    7636  7630
 $$$138F       2 00000C04 00000001     H    7643  7632B
 $$$139F       2 00000C10 00000001     H    7670  7654B
 $$$14F        2 0000005C 00000001     H    2537  2527B
 $$$14S        2 00000040 00000001     H    2486  2536B
 $$$141F       2 00000C54 00000001     H    7796  7705B
 $$$142B       4 00000C3C 00000001     I    7749  7768
 $$$142F       2 00000C46 00000001     H    7765  7749B  7767
 $$$143E       2 00000C4A 00000001     H    7775  7769
 $$$143F       2 00000C50 00000001     H    7785  7771B
 $$$144B       4 00000C60 00000001     I    7829  7843
 $$$144F       2 00000C6E 00000001     H    7840  7829B  7842
 $$$144T       2 00000C64 00000001     H    7832  7819B
 $$$146E       2 00000C72 00000001     H    7850  7844
 $$$146F       2 00000C7A 00000001     H    7863  7846B
 $$$147F       2 00000CA6 00000001     H    7921  7904B
 $$$148F       2 00000CB8 00000001     H    7975  7935B
 $$$149F       2 00000CD6 00000001     H    8037  8004B
 $$$15F        2 0000004E 00000001     H    2511  2499B
 $$$150B       4 00000CDA 00000001     I    8048  8064
 $$$150F       2 00000CE4 00000001     H    8061  8048B  8063
 $$$151E       2 00000CE8 00000001     H    8071  8065
 $$$151F       2 00000CFC 00000001     H    8125  8067B
 $$$152F       2 00000CFC 00000001     H    8121  8083B
 $$$154B       4 00000D9E 00000001     I    8267  8344
 $$$154F       2 00000DAE 00000001     H    8341  8267B  8343
 $$$155E       2 00000DB2 00000001     H    8351  8345
 $$$155F       2 00000DBA 00000001     H    8398  8347B
 $$$156F       2 00000DC8 00000001     H    8435  8422B
 $$$157B       4 00000DD0 00000001     I    8455  8471
 $$$157F       2 00000DDA 00000001     H    8468  8455B  8470
 $$$158E       2 00000DDE 00000001     H    8478  8472
 $$$158F       2 00000DF2 00000001     H    8529  8474B
 $$$159F       2 00000DF2 00000001     H    8525  8490B
 $$$160F       2 00000EF0 00000001     H    9011  8686B
 $$$161F       2 00000E2A 00000001     H    8635  8573B
 $$$161S       2 00000DFA 00000001     H    8564  8634B
 $$$163F       2 00000E26 00000001     H    8630  8591B
 $$$164F       2 00000E4E 00000001     H    8690  8675B
 $$$165F       2 00000E74 00000001     H    8753  8738B
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  102
 $$$166B       4 00000E78 00000001     I    8764  8777
 $$$166F       2 00000E82 00000001     H    8774  8764B  8776
 $$$167E       2 00000E86 00000001     H    8784  8778
 $$$167F       2 00000E8C 00000001     H    8791  8780B
 $$$168F       2 00000E98 00000001     H    8818  8802B
 $$$17F        2 000000A2 00000001     H    2626  2555B
 $$$170F       2 00000EDC 00000001     H    8944  8853B
 $$$171B       4 00000EC4 00000001     I    8897  8916
 $$$171F       2 00000ECE 00000001     H    8913  8897B  8915
 $$$172E       2 00000ED2 00000001     H    8923  8917
 $$$172F       2 00000ED8 00000001     H    8933  8919B
 $$$173F       2 00000EEE 00000001     H    8998  8958B
 $$$174F       2 00000F0C 00000001     H    9060  9027B
 $$$175B       4 00000F10 00000001     I    9071  9087
 $$$175F       2 00000F1A 00000001     H    9084  9071B  9086
 $$$176E       2 00000F1E 00000001     H    9094  9088
 $$$176F       2 00000F32 00000001     H    9148  9090B
 $$$177F       2 00000F32 00000001     H    9144  9106B
 $$$179B       4 00000F88 00000001     I    9263  9340
 $$$179F       2 00000F98 00000001     H    9337  9263B  9339
 $$$18F        2 00000156 00000001     H    2968  2823B
 $$$180E       2 00000F9C 00000001     H    9347  9341
 $$$180F       2 00000FA4 00000001     H    9394  9343B
 $$$181F       2 00000FB2 00000001     H    9446  9419B
 $$$182B       4 00000FBA 00000001     I    9466  9482
 $$$182F       2 00000FC4 00000001     H    9479  9466B  9481
 $$$183E       2 00000FC8 00000001     H    9489  9483
 $$$183F       2 00000FDC 00000001     H    9540  9485B
 $$$184F       2 00000FDC 00000001     H    9536  9501B
 $$$185F       2 000010DA 00000001     H    9981  9610B  9641B  9695B
 $$$186F       2 00001004 00000001     H    9619  9584B
 $$$186S       2 00000FE4 00000001     H    9575  9618B
 $$$188F       2 00001000 00000001     H    9614  9602B
 $$$189F       2 0000101C 00000001     H    9645  9633B
 $$$19F        2 000000EE 00000001     H    2796  2764B
 $$$190F       2 0000104C 00000001     H    9699  9687B
 $$$191F       2 000010C6 00000001     H    9903  9740B
 $$$192F       2 000010C6 00000001     H    9899  9776B
 $$$193F       2 000010B2 00000001     H    9878  9803B
 $$$194B       4 0000109E 00000001     I    9841  9857
 $$$194F       2 000010A8 00000001     H    9854  9841B  9856
 $$$195E       2 000010AC 00000001     H    9864  9858
 $$$195F       2 000010B2 00000001     H    9874  9860B
 $$$196F       2 000010D8 00000001     H    9965  9925B
 $$$197B       4 000010E0 00000001     I    9993 10009
 $$$197F       2 000010EA 00000001     H   10006  9993B 10008
 $$$198E       2 000010EE 00000001     H   10016 10010
 $$$198F       2 00001102 00000001     H   10070 10012B
 $$$199F       2 00001102 00000001     H   10066 10028B
 $$$20F        2 0000010E 00000001     H    2853  2843B
 $$$20S        2 000000F2 00000001     H    2802  2852B
 $$$201B       1 00001148 00000001     X   10139 10146U
 $$$202F       2 0000118A 00000001     H   10225 10206B
 $$$204B       1 000011A2 00000001     X   10265 10275U
 $$$205F       2 000011CC 00000001     H   10344 10325B
 $$$207B       4 0000120E 00000001     I   10433 10510
 $$$207F       2 0000121E 00000001     H   10507 10433B 10509
 $$$208E       2 00001222 00000001     H   10517 10511
 $$$208F       2 0000122A 00000001     H   10564 10513B
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  103
 $$$209B       4 00001232 00000001     I   10597 10613
 $$$209F       2 0000123C 00000001     H   10610 10597B 10612
 $$$21F        2 00000100 00000001     H    2827  2815B
 $$$210E       2 00001240 00000001     H   10620 10614
 $$$210F       2 00001254 00000001     H   10671 10616B
 $$$211F       2 00001254 00000001     H   10667 10632B
 $$$212F       2 000012C6 00000001     H   10846 10741B 10772B 10826B
 $$$213F       2 0000127C 00000001     H   10750 10715B
 $$$213S       2 0000125C 00000001     H   10706 10749B
 $$$215F       2 00001278 00000001     H   10745 10733B
 $$$216F       2 00001294 00000001     H   10776 10764B
 $$$217F       2 000012C4 00000001     H   10830 10818B
 $$$218B       4 000012CC 00000001     I   10858 10874
 $$$218F       2 000012D6 00000001     H   10871 10858B 10873
 $$$219E       2 000012DA 00000001     H   10881 10875
 $$$219F       2 000012EE 00000001     H   10935 10877B
 $$$220F       2 000012EE 00000001     H   10931 10893B
 $$$222B       4 00001322 00000001     I   11069 11127
 $$$222F       2 00001340 00000001     H   11124 11069B 11126
 $$$223E       2 00001344 00000001     H   11134 11128
 $$$223F       2 0000135E 00000001     H   11179 11130B
 $$$224F       2 00001394 00000001     H   11230 11187B
 $$$225B       4 000013AA 00000001     I   11266 11279
 $$$225F       2 000013B4 00000001     H   11276 11266B 11278
 $$$226E       2 000013B8 00000001     H   11286 11280
 $$$226F       2 000013BE 00000001     H   11293 11282B
 $$$227F       2 0000142A 00000001     H   11444 11433B
 $$$227S       2 00001418 00000001     H   11425 11443B
 $$$23F        2 00000154 00000001     H    2945  2874B
 $$$230F       2 000014AC 00000001     H   11661 11586B
 $$$231F       2 000014A2 00000001     H   11644 11601B
 $$$234B       4 0000153C 00000001     I   11935 11993
 $$$234F       2 0000155A 00000001     H   11990 11935B 11992
 $$$235E       2 0000155E 00000001     H   12000 11994
 $$$235F       2 00001578 00000001     H   12045 11996B
 $$$236F       2 000015AE 00000001     H   12099 12056B
 $$$237S       2 000015B2 00000001     H   12118 12137B
 $$$239S       2 000015D8 00000001     H   12150 12161B
 $$$24F        2 00000278 00000001     H    3427  3143B  3199B
 $$$243F       2 00001694 00000001     H   12542 12532B
 $$$244S       2 000016A4 00000001     H   12565 12574B
 $$$246F       2 00001764 00000001     H   12721 12707B
 $$$247S       2 000017A6 00000001     H   12781 12813B
 $$$249S       2 000017CC 00000001     H   12839 12847B
 $$$25F        2 000001A0 00000001     H    3116  3084B
 $$$251F       2 00001924 00000001     H   13109 13094B
 $$$251S       2 0000190A 00000001     H   13087 13108B
 $$$253F       2 00001940 00000001     H   13139 13123B
 $$$254F       2 00001998 00000001     H   13201 13186B
 $$$254S       2 0000197E 00000001     H   13179 13200B
 $$$256F       2 000019FA 00000001     H   13265 13250B
 $$$256S       2 000019E0 00000001     H   13243 13264B
 $$$258S       2 00001A30 00000001     H   13301 13313B
 $$$26F        2 000001C0 00000001     H    3173  3163B
 $$$26S        2 000001A4 00000001     H    3122  3172B
 $$$264S       2 00001CB4 00000001     H   14310 14342B
 $$$266S       2 00001CDA 00000001     H   14373 14381B
 $$$27F        2 000001B2 00000001     H    3147  3135B
 $$$271F       2 00001F0A 00000001     H   15132 15117B
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  104
 $$$271S       2 00001EF0 00000001     H   15110 15131B
 $$$29F        2 000001DA 00000001     H    3203  3191B
 $$$30F        2 00000224 00000001     H    3310  3220B
 $$$31F        2 00000220 00000001     H    3305  3234B
 $$$33F        2 00000328 00000001     H    3711  3542B
 $$$34F        2 000002E0 00000001     H    3599  3585B
 $$$34S        2 000002AC 00000001     H    3521  3598B
 $$$35F        2 000002BA 00000001     H    3546  3534B
 $$$36F        2 000002DC 00000001     H    3594  3563B
 $$$38F        2 00000326 00000001     H    3688  3617B
 $$$39F        2 000003DA 00000001     H    3996  3823B
 $$$40F        2 00000392 00000001     H    3881  3867B
 $$$40S        2 0000035C 00000001     H    3802  3880B
 $$$41F        2 0000036A 00000001     H    3827  3815B
 $$$42F        2 0000038E 00000001     H    3876  3844B
 $$$44F        2 000003D8 00000001     H    3973  3902B
 $$$45F        2 00000456 00000001     H    4198  4114B  4170B
 $$$46F        2 0000043A 00000001     H    4144  4134B
 $$$46S        2 0000041E 00000001     H    4093  4143B
 $$$47F        2 0000042C 00000001     H    4118  4106B
 $$$49F        2 00000454 00000001     H    4174  4162B
 $$$50F        2 0000057E 00000001     H    4614  4491B  4526B
 $$$51F        2 0000049E 00000001     H    4341  4309B
 $$$52S        2 0000049E 00000001     H    4349  4372B
 $$$55F        2 0000050A 00000001     H    4495  4395B
 $$$56F        2 00000504 00000001     H    4487  4414B
 $$$57F        2 00000536 00000001     H    4530  4514B
 $$$58F        2 000006A2 00000001     H    5043  4786B  4807B
 $$$59F        2 000005C8 00000001     H    4765  4733B
 $$$62F        2 0000064E 00000001     H    4926  4836B
 $$$63F        2 0000064A 00000001     H    4921  4850B
 $$$65F        2 00000708 00000001     H    5219  5163B
 $$$66S        2 000006DE 00000001     H    5142  5195B
 $$$67F        2 000006EC 00000001     H    5167  5155B
 $$$68F        2 00000702 00000001     H    5191  5181B
 $$$70B        4 00000736 00000001     I    5292  5369
 $$$70F        2 00000746 00000001     H    5366  5292B  5368
 $$$71E        2 0000074A 00000001     H    5376  5370
 $$$71F        2 00000752 00000001     H    5423  5372B
 $$$72F        2 00000790 00000001     H    5494  5448B
 $$$73F        2 0000079E 00000001     H    5518  5505B
 $$$74B        4 000007A6 00000001     I    5538  5554
 $$$74F        2 000007B0 00000001     H    5551  5538B  5553
 $$$75E        2 000007B4 00000001     H    5561  5555
 $$$75F        2 000007C8 00000001     H    5612  5557B
 $$$76F        2 000007C8 00000001     H    5608  5573B
 $$$77F        2 000009AE 00000001     H    6506  5743B  5973B  6066B
 $$$78F        2 00000800 00000001     H    5718  5656B
 $$$78S        2 000007D0 00000001     H    5647  5717B
 $$$80F        2 000007FC 00000001     H    5713  5674B
 $$$81F        2 00000816 00000001     H    5747  5732B
 $$$84B        4 0000083A 00000001     I    5821  5882
 $$$84F        2 00000856 00000001     H    5879  5821B  5881
 $$$85B        4 00000842 00000001     I    5836  5855
 $$$85F        2 0000084C 00000001     H    5852  5836B  5854
 $$$86E        2 00000850 00000001     H    5862  5856
 $$$86F        2 00000856 00000001     H    5875  5858B
 $$$87E        2 0000085A 00000001     H    5889  5883
 $$$87F        2 00000872 00000001     H    5944  5885B
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  105
 $$$88B        4 0000085E 00000001     I    5901  5920
 $$$88F        2 00000868 00000001     H    5917  5901B  5919
 $$$89E        2 0000086C 00000001     H    5927  5921
 $$$89F        2 00000872 00000001     H    5940  5923B
 $$$90F        2 0000088C 00000001     H    5977  5957B
 $$$91B        4 000008A6 00000001     I    6003  6022
 $$$91F        2 000008B0 00000001     H    6019  6003B  6021
 $$$92E        2 000008B4 00000001     H    6029  6023
 $$$92F        2 000008BA 00000001     H    6042  6025B
 $$$93F        2 000008C6 00000001     H    6070  6055B
 $$$94F        2 000008E0 00000001     H    6122  6107B
 $$$95B        4 000008E4 00000001     I    6133  6146
 $$$95F        2 000008EE 00000001     H    6143  6133B  6145
 $$$96E        2 000008F2 00000001     H    6153  6147
 $$$96F        2 000008F8 00000001     H    6160  6149B
 $$$97F        2 00000904 00000001     H    6187  6171B
 $$$99F        2 00000948 00000001     H    6314  6223B
 #VMIGHL       4 0000006C FFFFFFCF     F   12432 12496M 12538M 12547  12670
 #VMIRPRM      4 00000000 FFFFFFCF     X   12427 12494U
 #VMIWORK    112 00000000 FFFFFFCF     J   12439 12486U
 @ASCKEY       1 00000004 FFFFFFDC     X    1964 14170M 14171M
 @ASCVA        4 00000000 FFFFFFDC     A    1963 14169M
 @EPAR         0 00000000 FFFFFFEF     @    1203 13099
 @LOCKCRE     17 00000000 FFFFFFEB     J    1509 13713U 13721M 13721
 @LOCKFL       1 00000010 FFFFFFEB     R    1496  1500
 @LOCKID       4 00000000 FFFFFFEA     A    1521  5600M  6631M  6994M  8113M  8517M  9136M  9528M 10058M 10659M 10923M
 @LOCKNAM     16 00000000 FFFFFFEB     C    1493 13727M
 @LOCKS        4 00000000 FFFFFFEA     J    1528  5589U  6620U  6983U  8102U  8506U  9125U  9517U 10047U 10648U 10912U
 @PAGASC2      5 00000000 FFFFFFDC     J    1971 14160U 14168M 14168
 @PAGDEF      10 00000000 FFFFFFDF     J    1904  6087U  6095M  6095   7570U  7578M  7578   8718U  8726M  8726  14191U
                                                 14199M 14199  15010U
 @PAGE         9 00000000 FFFFFFDB     J    1993  6240U  6248M  6248   7722U  7730M  7730   8870U  8878M  8878   9820U
                                                  9828M  9828   9889M  9889
 @PAGKEY       1 00000008 FFFFFFDB     X    1985  1986
 @PAGLEN       4 00000004 FFFFFFDB     A    1984  6250M  7732M  8880M  9830M  9891M
 @PAGLOC       4 00000000 FFFFFFDB     A    1983  6249M  7731M  8879M  9829M  9890M
 @PAGSEGD     10 00000000 FFFFFFDE     J    1931 13523U 13531M 13531  14711U 14719M 14719
 @PDADDR       4 00000000 FFFFFFDF     A    1883  6096M  7579M  8727M 14202M 15015  15095
 @PDFGLOB    128 00000009 FFFFFFDF         1890  6118M  7601M  8749M
 @PDF1         1 00000009 FFFFFFDF     R    1889  1890   1895
 @PDKEY        1 00000008 FFFFFFDF     X    1885  6139M  6156M  6183M  7622M  7639M  7666M  8770M  8787M  8814M 14204M
                                                 14205M 15103
 @PDLEN        4 00000004 FFFFFFDF     A    1884 14203M 15016  15096
 @RA           0 00000000 FFFFFFFC     @    1035 13191  13255  15122
 @RK           0 00000000 FFFFFFF9     @    1071 10229  10350
 @R0           0 00000000 FFFFFFFE     @     715   991U  5312U  5393U  6764U  6845U  8287U  8368U  9283U  9364U 10453U
                                                 10534U 11224U 11638U 12093U 12271U 12632U 13457U 13646U 13921U 14087U
                                                 14241U 14831U 15032U
 @R1           0 00000000 FFFFFFFD     @     728   987U  5337U  5361U  5418U  6789U  6813U  6870U  8312U  8336U  8393U
                                                  9308U  9332U  9389U 10478U 10502U 10559U 12296U 12357U 13482U 13671U
                                                 13946U 13970U 14112U 14266U 14296U 14856U 15057U 15084U
 @R10          0 00000000 FFFFFFF4     @     845   951U  2647U  2966U  3425U  3709U  3994U  4196U  4612U  5041U  5217U
                                                  6663U  8145U  9168U 10088U 10953U 11473U 11708U 11833U 12187U 12393U
                                                 13371U 13574U 13851U 14004U 14760U 14885U 14944U 15144U
 @R11          0 00000000 FFFFFFF3     @     858   947U
 @R12          0 00000000 FFFFFFF2     @     871   943U  2642U  2961U  3420U  3704U  3989U  4191U  4607U  5036U  5212U
                                                  6658U  8140U  9163U 10083U 10237U 10358U 10948U 11468U 11703U 11828U
                                                 12182U 12388U 13366U 14755U 15139U
 @R13          0 00000000 FFFFFFF1     @     884   939U  2658U  2977U  3436U  3720U  4005U  4623U  5052U  5688U  5804U
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  106
                                                  6084U  6237U  6394U  6467U  6617U  6674U  7082U  7248U  7567U  7719U
                                                  7876U  7949U  8099U  8156U  8605U  8648U  8715U  8867U  8972U  9122U
                                                  9179U  9663U  9817U  9939U 10044U 10099U 10794U 10909U 10964U 11307U
                                                 11484U 12198U 13382U 13585U 13752U 13862U 14188U 14619U 14708U 14771U
 @R14          0 00000000 FFFFFFF0     @     897   935U
 @R15          0 00000000 FFFFFFEF     @     910   931U 13162U 13229U 13293U
 @R2           0 00000000 FFFFFFFC     @     741   983U  2637U  2956U  3415U  3699U  3984U  4186U  4602U  5031U  5207U
                                                  9910U 11453U 11693U 12998U 14401U 14446U 14490U 14560U 14602U
 @R3           0 00000000 FFFFFFFB     @     754   979U
 @R4           0 00000000 FFFFFFFA     @     767   975U 10272U 12596U 12758U 13351U 15104U
 @R5           0 00000000 FFFFFFF9     @     780   971U 12819U 14348U 14740U
 @R6           0 00000000 FFFFFFF8     @     793   967U  6503U  7985U  9008U  9978U 10843U 11458U 11823U 12172U 13361U
                                                 13569U 13846U 14750U
 @R7           0 00000000 FFFFFFF7     @     806   963U  2623U  2942U  3302U  3410U  3685U  3970U  4484U  4597U  4918U
                                                  5026U  6653U  8135U  9158U 10078U 10943U 11463U 11698U 11818U 12177U
                                                 12320U 12380U 13356U 13564U 13841U 13999U 14745U 14880U
 @R8           0 00000000 FFFFFFF6     @     819   959U  2753U  2793U  3073U  3113U  4298U  4338U  4722U  4762U  5491U
                                                  6552U  8034U  9057U  9443U 10242U 10363U
 @R9           0 00000000 FFFFFFF5     @     832   955U
 @SDADDR       4 00000000 FFFFFFDE     A    1916 13532M 13545M 14720M 14727M
 @SDFGLOB    128 00000009 FFFFFFDE         1922 13540M 13553M
 @SDF1         1 00000009 FFFFFFDE     R    1921  1922
 @SDHASH       1 00000008 FFFFFFDE     X    1918 13534M 13547M 14722M 14729M
 @SDLEN        4 00000004 FFFFFFDE     A    1917 13533M 13546M 14721M 14728M
 @SWFLG        1 00000004 FFFFFFE2     R    1784  1793   1803   1813
 @VMCASB       4 00000000 FFFFFFE5     A    1659 14273
 @VMCRAS       4 00000000 FFFFFFE5     J    1666 14064U
 @VMFLEN       4 00000004 FFFFFFE8     A    1583  9624   9646M  9670  10346  10755  10777M 10801
 @VMFLOC       4 00000000 FFFFFFE8     A    1582  9650M  9669  10347  10781M 10800
 @VMFPOOL      2 00000008 FFFFFFE8     H    1584  9256   9583  10426  10714
 @VMFREE      10 00000000 FFFFFFE8     J    1591  9247U 10299U 10417U
 @VMGDAT       4 00000004 FFFFFFE9     A    1548  7147   7188M  7278   7297   7299   7436   7438   8251   8654
 @VMGET       11 00000000 FFFFFFE9     J    1570  5276U  6728U  8237U 10170U 11090U 11098M 11098  11153M 11153  11956U
                                                 11964M 11964  12019M 12019  13755U 13763M 13763  13808M 13808
 @VMGFLG       1 0000000A FFFFFFE9     R    1552  1556   1561
 @VMGLEN       4 00000000 FFFFFFE9     A    1547  5472   5723   5748M  5810   5988   6353   6354   6376   6401   7117
                                                  7142M  7171   7311   7390M  7450   7471M  7835   7836   7858   7883
                                                  8254   8653  10177  11115M 11170M 11981M 12036M 13776M 13821M
 @VMGONEP     64 0000000A FFFFFFE9         1561  5820
 @VMGPAGE    128 0000000A FFFFFFE9         1556  5783   6334   7227   7816
 @VMGPOOL      2 00000008 FFFFFFE9     H    1549  5285   5498   5655   5701   6737   6892   7049   7095   8260   8415
                                                  8572   8618  11116M 11171M 11982M 12037M 13777M 13822M
 @VMIKLEN      4 00000004 FFFFFFE6     A    1632 13167  13170M 13173  13204
 @VMIKLOC      4 00000000 FFFFFFE6     A    1631 12621  13171  13203
 @VMIMLEN      4 0000000C FFFFFFE6     A    1634 12623  13231  13234M 13237  13268
 @VMIMLOC      4 00000008 FFFFFFE6     A    1633 12622  13235  13267
 @VMINFO       9 00000000 FFFFFFE7     J    1612 12248U
 @VMIPARM     20 00000000 FFFFFFE6     J    1642 12479U 12486U
 @VMISLOC      4 00000010 FFFFFFE6     A    1635 13295  13322
 @VMITRSH      1 00000008 FFFFFFE7     X    1605 12373M
 @VMIULEN      4 00000004 FFFFFFE7     A    1604 12313M
 @VMIUST       4 00000000 FFFFFFE7     A    1603 12312M
 @WSFLG        1 0000000C FFFFFFE0     R    1858  1862
 ADDSPEC       4 0000046C 00000001     I    4229  4240U  8175   9188  10107  15184
 ADDSPEC3      2 00000460 00000001     H    4224  4223
 ALOCVSLB      4 0000151C 00000001     I   11866  8177   9190  10113  11877U
 ASB          68 00000000 FFFFFFEC     J    1474  5405U  6857U  8380U  9376U 10546U 12344U 14283U 14843U
 ASBGCFLG      1 00000014 FFFFFFEC     R    1444  1448
 ASBVSCT       4 00000018 FFFFFFEC     A    1455  5411   6863   8386   9382  10552  12350  14289M 14849
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  107
 ASLOCK        1 00000000 00000002     T    8166  8166   9184  10103  15168
 ASULOCK       1 00000000 00000005     T    8178  8178   9191  10114  15172
 BR           10 0000000A FFFFFFFF A   #    1136  2435M  2445U  2684M  2694U  3004M  3014U  3466M  3476U  3747M  3757U
                                                  4042M  4052U  4230M  4240U  4653M  4663U  5078M  5088U  5250M  5260U
                                                  6702M  6712U  8211M  8221U  9221M  9231U 10391M 10401U 11011M 11021U
                                                 11531M 11541U 11742M 11752U 11867M 11877U 12222M 12232U 12453M 12463U
                                                 13421M 13431U 13610M 13620U 13888M 13898U 14038M 14048U 14795M 14805U
                                                 14920M 14930U 14984M 14994U
 CHKSPEC       4 00000400 00000001     I    4041  4052U 15171
 CHKSPEC3      2 000003F4 00000001     H    4036  4035
 EPAR         15 0000000F FFFFFFFF A   #    1196  2435   2598M  2599B  2684   2917M  2918B  3004   3277M  3278B  3363M
                                                  3364B  3466   3660M  3661B  3747   3945M  3946B  4042   4230   4458M
                                                  4459B  4557M  4558B  4653   4893M  4894B  4979M  4980B  5078   5250
                                                  5546M  5547B  5603M  5604B  5707M  5708B  5847M  5848B  5870M  5871B
                                                  5912M  5913B  5935M  5936B  5968M  5969B  6014M  6015B  6037M  6038B
                                                  6200M  6201B  6278M  6279B  6298M  6299B  6407M  6408B  6434M  6435B
                                                  6488M  6489B  6574M  6575B  6634M  6635B  6702   6940M  6941B  6997M
                                                  6998B  7101M  7102B  7259M  7260B  7350M  7351B  7373M  7374B  7388M
                                                  7389B  7410M  7411B  7497M  7498B  7520M  7521B  7683M  7684B  7760M
                                                  7761B  7780M  7781B  7889M  7890B  7916M  7917B  7970M  7971B  8056M
                                                  8057B  8116M  8117B  8211   8463M  8464B  8520M  8521B  8624M  8625B
                                                  8661M  8662B  8700M  8701B  8831M  8832B  8908M  8909B  8928M  8929B
                                                  8993M  8994B  9079M  9080B  9139M  9140B  9221   9474M  9475B  9531M
                                                  9532B  9676M  9677B  9710M  9711B  9764M  9765B  9787M  9788B  9849M
                                                  9850B  9869M  9870B  9894M  9895B  9960M  9961B 10001M 10002B 10061M
                                                 10062B 10177M 10178M 10179M 10182  10184M 10185  10189  10391  10605M
                                                 10606B 10662M 10663B 10807M 10808B 10866M 10867B 10926M 10927B 11011
                                                 11119M 11120B 11174M 11175B 11334M 11335B 11394M 11395B 11531  11742
                                                 11867  11985M 11986B 12040M 12041B 12222  12453  13029M 13030B 13041M
                                                 13042B 13070M 13071B 13081M 13093  13104M 13134M 13135B 13150M 13151B
                                                 13161M 13163M 13195  13210M 13211B 13218M 13219B 13228M 13230M 13259
                                                 13274M 13275B 13282M 13283B 13292M 13294M 13306  13329M 13330B 13337M
                                                 13338B 13421  13543M 13544B 13556M 13557B 13610  13730M 13731B 13780M
                                                 13781B 13825M 13826B 13888  14038  14174M 14175B 14209M 14210B 14632M
                                                 14633B 14653M 14654B 14672M 14673B 14692M 14693B 14725M 14726B 14732M
                                                 14733B 14795  14920  14984
 FINDMAX       4 000006B8 00000001     I    5077  5088U  8180
 FINDMAX3      2 000006AC 00000001     H    5072  5071
 FREEVSLB      4 000014D0 00000001     I   11741  4010   8160  11752U
 GETVSLB       4 00001446 00000001     I   11530  4011   8161  11541U 15176
 GETVSLB3      2 0000143A 00000001     H   11525 11524
 GFVADDR       4 00000000 FFFFFFD0     A   11509  2592M  2911M  3271M  3357M  3654M  3939M  4452M  4551M  4887M  4973M
                                                  6482M  7964M  8987M  9954M 11328M 11388M 11562  11773  11898
 GFVSLB        4 00000000 FFFFFFD0     J   11516  2574U  2582M  2582   2893U  2901M  2901   3253U  3261M  3261   3352M
                                                  3352   3636U  3644M  3644   3921U  3929M  3929   4434U  4442M  4442
                                                  4546M  4546   4869U  4877M  4877   4968M  4968   6470U  7952U  8975U
                                                  9942U 11310U 11318M 11318  11378M 11378  11557U 11768U 11893U
 HIBAL         1 00000000 FFFFFFFF     J     700   716    729    742    755    768    781    794    807    820    833
                                                   846    859    872    885    898    911   1012   1024   1036   1048
                                                  1060   1072   1084   1096   1108   1120   1132   1144   1156   1168
                                                  1180   1192   1204
 INITPDEF      4 00001EB0 00000001     I   14983 14994U 15182
 INITPFIX      4 00001E86 00000001     I   14919 14930U 15183
 LKCRE         1 00000000 0000000C     T   15191 15191
 LKOB          1 00000000 00000003     T    8167  8167   9185  10104  15169
 LKREL         1 00000000 00000006     T    8179  8179   9192  10115  15173
 LOCVSLB3      2 00001510 00000001     H   11861 11860
 MAT         256 00000000 FFFFFFEE     J    1318  5324U  6776U  8299U  9295U 10465U 12283U 12599U 12615  12618M 13469U
                                                 13658U 13933U 14099U 14253U 15044U 15200
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  108
 MATKMAP       4 000000E8 FFFFFFEE     A    1304 12622M
 MATKMAPL      4 000000EC FFFFFFEE     A    1305 12623M
 MATKSTRT      4 000000E4 FFFFFFEE     A    1303 12621M
 MATSKEY       1 000000E0 FFFFFFEE     X    1298 12619M 12751  14258
 MATUKEY       1 000000E1 FFFFFFEE     X    1299 12620M 12752  14259
 MATVMCB       4 00000004 FFFFFFEE     A    1270  5330   6782   8305   9301  10471  12289  12661M 13475  13664  13939
                                                 14105  15050
 MAXPAGE       2 00000B66 00000001     H    7399  7212B  7230B  7281B
 MAXPOOL       1 0000003F 00000001 A   U    2087  5498   6892   8415
 MXHIST        1 000007DC FFFFFFD5 A   U    2236  8164  15164
 MXRTN         1 000007E4 FFFFFFD5 A   U    2241 15166
 NEWPOOL       4 00001306 00000001     I   11010  8168   9186  11021U
 NEWPOOLP      6 00000000 FFFFFFD1     J   10996  5691U  5699M  5699   7085U  7093M  7093   8608U  8616M  8616  11037U
 NEWPOOL3      2 000012FA 00000001     H   11005 11004
 NEWPPOOL      2 00000004 FFFFFFD1     H   10989  5701M  7095M  8618M 11255
 NEWPVSCT      4 00000000 FFFFFFD1     A   10988  5700M  7094M  8617M 11042
 NITPDEF3      2 00001EA4 00000001     H   14978 14977
 NITPFIX3      2 00001E7A 00000001     H   14914 14913
 NOTPOOLD      2 0000088C 00000001     H    5983  5768B  5786B
 PAGASC2       1 00000000 0000000F     T   15195 15195
 PAGDEF        1 00000000 0000000D     T   15193 15193
 PAGFIX        1 00000000 0000000E     T   15194 15194
 PAGSEGD       1 00000000 0000000B     T   15190 15190
 PAGSFIX       1 00000000 00000004     T    8176  8176   9189
 PAGUDEF       1 00000000 00000009     T   10112 10112
 PAGUFIX       1 00000000 00000007     T   10110 10110
 PAGUSFIX      1 00000000 00000008     T   10111 10111
 PARMFINT      4 00000000 FFFFFFE3         1728 12506M 12681M
 PARMIN        4 00000000 FFFFFFE3     J    1759 12427  12494U 12515  12522  12690  12697
 PARMKEYS      4 00000004 FFFFFFE3     A    1752 12507M 12508M 12682M 12683M
 PARMTYPE      1 00000000 FFFFFFE3     R    1709  1718   1728   1738   1748
 PNDATA        1 00000001 00000001 A   U    2084  2355  14520
 PNFETP        1 00000008 00000001 A   U    2078  2335  14520
 PNFIXED       1 00000004 00000001 A   U    2080  2345
 PNGLOBAL      1 00000020 00000001 A   U    2069  2315   5285   6737   8260   9256  10426
 PNHIGH        1 00000010 00000001 A   U    2071  2365  14520
 PNSYSKEY      1 00000002 00000001 A   U    2082  2325  14520
 PZABORT     128 0000021A FFFFFFED         1397 11211M 11625M 12080M
 PZABR15       4 0000021C FFFFFFED     A    1406 11212M 11626M 12081M
 PZABSM        1 0000021B FFFFFFED     X    1405 11205M 11619M 12074M
 PZCURASB      4 00000208 FFFFFFED     A    1382  5387   6839   8362   9358  10528  12334  14825
 PZERO       640 00000000 FFFFFFED     J    1416  5304U  5385U  6756U  6837U  8279U  8360U  9275U  9356U 10445U 10526U
                                                 11203U 11617U 12072U 12263U 12332U 13449U 13638U 13913U 14079U 14233U
                                                 14823U 15024U
 PZLCPUA       4 00000210 FFFFFFED     A    1384 11213  11627  12082
 PZMATP        4 00000200 FFFFFFED     A    1379  5306   6758   8281   9277  10447  12265  12626M 13451  13640  13915
                                                 14081  14235  15026
 PZTERMFL      1 0000021A FFFFFFED     R    1393  1397   1402
 RA            2 00000002 FFFFFFFF A   #    1028  2467M  2477U  2488M  2498   2716M  2726U  2804M  2814   3036M  3046U
                                                  3124M  3134   3365   3367M  3376   3377   3498M  3508U  3523M  3533
                                                  3779M  3789U  3804M  3814   4074M  4084U  4095M  4105   4261M  4271U
                                                  4351M  4423   4488   4499M  4523   4559   4560M  4566   4567   4568
                                                  4685M  4695U  4770M  4981   4983M  4992   4993   5124M  5134U  5144M
                                                  5154   5988M  5989M  5990M  5991   6352M  6375M  6377M  6400   6497
                                                  6510M  6644   7834M  7857M  7859M  7882   7979   7992M  8126   9015M
                                                  9149   9712M  9722U  9982M 10071  10847M 10936  11336M 11346U 11350
                                                 11351  11366  11396M 11397  11398  11413  11578M 11579M 11579  11593M
                                                 11594M 11594  11674U 11686  12113M 12145M 12525  12537M 12538  12700
                                                 12712M 12713  12714  12716  12776M 12776  12806  12807M 12824  12832U
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  109
                                                 12841M 12860M 12864  12866  12867  12868M 12869  12871  12872  12873M
                                                 12919  12921  12922  12923M 12924  12926  12927  12928M 12978  12980
                                                 12981  12982M 12983  12985  12986  12987M 12992  13056M 13057M 13061
                                                 13063  13081  13114  13116  13171M 13172  13185  13196M 13235M 13236
                                                 13249  13260M 13295M 13305  13306  13307M 13784M 13790M 13828M 13834M
                                                 14305M 14305  14335  14336M 14353  14363U 14375M 14394M 14403  14407M
                                                 14408  14418U 14424  14425  14451M 14452  14462U 14468  14469  14521M
                                                 14522  14532U 14538  14539  14563M 14564  14574U 14580  14581  14643M
                                                 14644M 14645  14663  14664M 14665M 14665  14666  14683M 14684M 14685M
                                                 14686  15015M 15090M 15095M 15097  15116  15127M
 RAPLEN        4 00000008 FFFFFFD2     A    2398  2524   2543   2544   2840   2858   3178   3562   3569   3605   3606
                                                  3843   3852   3886   4149   4400   4405   4501   4521   4562   5123M
                                                  5123   5180   5186M  5810M  5991M  6401M  7261   7328M  7423   7432
                                                  7474M  7883M  8653M  9670M 10801M 13023M 13035M 13064M 13128M 13144M
                                                 13204M 13268M 13323M 14626M 14647M 14666M 14686M
 RAPLOC        4 00000004 FFFFFFD2     A    2397  2542M  2861M  3160   3177   3219   3314   3604M  3889M  4131   4148
                                                  4369   4394   4500   4519   4561   4816M  4835   4930   5116M  5116
                                                  5187M  5970   6074   6400M  6428M  7391   7557   7882M  7910M  8654M
                                                  8705   9669M  9792  10800M 13022M 13032M 13061M 13114M 13142M 13203M
                                                 13267M 13322M 14625M 14642M 14663M 14682M
 RAPSPEC       4 0000000C FFFFFFD2     A    2399  4770   9758M
 RAPVSLB       4 00000000 FFFFFFD2     A    2396  2466   2715   3035   3497   3778   4073   4261   4460   4570   4684
                                                  5109   5809M  5962M  5992M  6399M  6427M  7253M  7293M  7382M  7404M
                                                  7475M  7881M  7909M  8655M  8694M  9668M  9704M  9781M 10799M 13021M
                                                 13031M 13060M 13113M 13141M 13202M 13212M 13266M 13276M 13321M 13331M
                                                 14624M 14641M 14662M 14681M
 RAR          14 0000000E FFFFFFFF A   #    1184  2599M  2652B  2918M  2971B  3278M  3364M  3430B  3661M  3714B  3946M
                                                  3999B  4201B  4459M  4558M  4617B  4894M  4980M  5046B  5222B  5547M
                                                  5604M  5708M  5848M  5871M  5913M  5936M  5969M  6015M  6038M  6201M
                                                  6279M  6299M  6408M  6435M  6489M  6575M  6635M  6668B  6941M  6998M
                                                  7102M  7260M  7351M  7374M  7389M  7411M  7498M  7521M  7684M  7761M
                                                  7781M  7890M  7917M  7971M  8057M  8117M  8150B  8464M  8521M  8625M
                                                  8662M  8701M  8832M  8909M  8929M  8994M  9080M  9140M  9173B  9475M
                                                  9532M  9677M  9711M  9765M  9788M  9850M  9870M  9895M  9961M 10002M
                                                 10062M 10093B 10606M 10663M 10808M 10867M 10927M 10958B 11120M 11175M
                                                 11335M 11395M 11478B 11713B 11838B 11986M 12041M 12192B 12398B 13030M
                                                 13042M 13071M 13135M 13151M 13211M 13219M 13275M 13283M 13330M 13338M
                                                 13376B 13544M 13557M 13579B 13731M 13781M 13826M 13856B 14009B 14175M
                                                 14210M 14633M 14654M 14673M 14693M 14726M 14733M 14765B 14890B 14949B
                                                 15149B
 RB            3 00000003 FFFFFFFF A   #    1040  4421M  4422   4423   4500M  4501M  4513   4520M  4521M  4522   4564M
                                                  4565   4566  13058M 13059M 13062  13093  13143M 13144  13172M 13173M
                                                 13185  13236M 13237M 13249  13785M 13829M 14645M 14646M 14647  15016M
                                                 15096M 15097M 15116
 REEVSLB3      2 000014C4 00000001     H   11736 11735
 REMADDP      16 00000000 FFFFFFD2     J    2406  2461U  2710U  3030U  3492U  3773U  4068U  4256U  4679U  5104U  5807U
                                                  6397U  7251U  7879U  8651U  9666U 10797U 13019U 14622U
 REMANY        4 00000022 00000001     I    2434  2445U  8174
 REMANYR       4 000000BA 00000001     I    2683  2694U  8173
 REMANYR3      2 000000AE 00000001     H    2678  2677
 REMANY3       2 00000016 00000001     H    2429  2428
 REMONE        4 0000028E 00000001     I    3465  3476U  8172
 REMONER       4 0000033E 00000001     I    3746  3757U  8171
 REMONER3      2 00000332 00000001     H    3741  3740
 REMONE3       2 00000282 00000001     H    3460  3459
 REMPAGE       4 00000594 00000001     I    4652  4663U 10109
 REMPAGE3      2 00000588 00000001     H    4647  4646
 REMSPEC       4 0000016C 00000001     I    3003  3014U  9187  10106  15188
 REMSPEC3      2 00000160 00000001     H    2998  2997
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  110
 RJ            4 00000004 FFFFFFFF A   #    1052  2541M  2542   2543M  2545   2857M  2860M  2861   3177M  3178M  3190
                                                  3225   3226   3329   3371   3372   3603M  3604   3605M  3607   3885M
                                                  3888M  3889   4148M  4149M  4161   4381M  4382M  4394   4405M  4407
                                                  4792M  4793   4794M  4795M  4796   4816   4817M  4841   4842   4945
                                                  4987   4988   6074M  6096   6249   6352   6353M  6375   6428   7557M
                                                  7579   7731   7834   7835M  7857   7910   8705M  8727   8879   9002
                                                  9792M  9829   9890  10227M 10228  10348M 10349  12560M 12588M 12599U
                                                 12626  12878M 12888U 12929  12932M 12988  13155M 13790M 13834M 15090M
                                                 15103M 15126
 RK            5 00000005 FFFFFFFF A   #    1064  2541M  2544M  2545   2857M  2858M  2859   2860   2873M  2873   3179M
                                                  3180M  3190   3226M  3227   3329   3372M  3373   3603M  3606M  3607
                                                  3885M  3886M  3887   3888   3901M  3901   4150M  4151M  4161   4381M
                                                  4382   4400M  4401   4419M  4420   4793M  4796M  4797M  4798M  4816
                                                  4817   4818M  4819M  4842M  4843   4945   4988M  4989   6074M  6096
                                                  6250   6354M  6376M  6377   6421M  6421   6428   7197M  7197   7261M
                                                  7278   7297   7299M  7311   7328   7390   7423   7432M  7436   7438M
                                                  7450   7471   7472M  7473M  7474   7557M  7579   7732   7836M  7858M
                                                  7859   7903M  7903   7910   8705M  8727   8880   9792M  9830   9891
                                                 10185M 10188M 10189  10193M 10205  10215M 10216M 10217  10221M 10221
                                                 10227  10229M 10230  10306M 10307M 10308  10312M 10324  10334M 10335M
                                                 10336  10340M 10340  10348  10350M 10351  12546M 12547M 12557  12587M
                                                 12588  12638M 12639  12725M 12726  12783M 12793U 12807  12877M 12878
                                                 12931M 12932  13056  13115  13142  13143  13789M 13789  13833M 13833
                                                 14144M 14145M 14150M 14169  14200  14214M 14215  14312M 14322U 14336
                                                 14495M 14505U 14517  14643  14664  14682  14685  15076M 15076  15077M
 RM            8 00000008 FFFFFFFF A   #    1100  2730M  2740U  2746M  2763M  2763   2778U  3050M  3060U  3066M  3083M
                                                  3083   3098U  4275M  4285U  4291M  4308M  4308   4323U  4699M  4709U
                                                  4715M  4732M  4732   4747U  5446M  5447M  5447   5462U  6520M  6521M
                                                  6521   6536U  8002M  8003M  8003   8018U  9025M  9026M  9026   9041U
                                                  9417M  9418M  9418   9433U 10157U 10286U
 RMPDONE       2 000006A0 00000001     H    5017  4922B  4948B
 RMSDONE       2 00000276 00000001     H    3401  3306B  3332B
 RN            9 00000009 FFFFFFFF A   #    1112  5472M  5473M  5474M  5477   5479M  5480   5484   5485M  6546M  8028M
                                                  9051M  9437M 10231B 10352B
 RS            1 00000001 FFFFFFFF A   #    1016  2560M  2561   2562M  2563   2615M  2616M  2617   2785M  2786M  2787
                                                  2879M  2880   2881M  2882   2934M  2935M  2936   3105M  3106M  3107
                                                  3239M  3240   3241M  3242   3294M  3295M  3296   3314M  3315M  3316
                                                  3366M  3374   3377   3395M  3396M  3397   3622M  3623   3624M  3625
                                                  3677M  3678M  3679   3907M  3908   3909M  3910   3962M  3963M  3964
                                                  4330M  4331M  4332   4406M  4407   4419   4421   4476M  4477M  4478
                                                  4587M  4588M  4589   4754M  4755M  4756   4855M  4856   4857M  4858
                                                  4910M  4911M  4912   4930M  4931M  4932   4982M  4990   4993   5011M
                                                  5012M  5013   5306M  5324U  5330M  5348U  5387M  5405U  5469M  5470M
                                                  5471   5480M  5483M  5484   5565M  5566M  5566   5723M  5724M  5725M
                                                  5748   5765   6543M  6544M  6545   6593M  6594M  6594   6758M  6776U
                                                  6782M  6800U  6839M  6857U  6959M  6960M  6960   7117M  7118M  7119M
                                                  7142   7147M  7148M  7149M  7171   7188   7209   8025M  8026M  8027
                                                  8075M  8076M  8076   8250M  8251M  8253M  8254M  8281M  8299U  8305M
                                                  8323U  8362M  8380U  8482M  8483M  8483   9048M  9049M  9050   9098M
                                                  9099M  9099   9277M  9295U  9301M  9319U  9358M  9376U  9493M  9494M
                                                  9494   9624M  9625M  9626M  9646  10020M 10021M 10021  10447M 10465U
                                                 10471M 10489U 10528M 10546U 10624M 10625M 10625  10755M 10756M 10757M
                                                 10777  10885M 10886M 10886  11418M 11445  11446  12265M 12283U 12334M
                                                 12344U 12715M 12716M 12717  12772M 12834M 12852M 12860  12865M 12868
                                                 12870M 12873  12920M 12923  12925M 12928  12929M 12945  12979M 12982
                                                 12984M 12987  13033M 13034M 13035  13051M 13051  13052  13062M 13063M
                                                 13064  13099M 13102  13103  13115M 13116M 13128  13167M 13168M 13169M
                                                 13170  13191M 13194  13195  13231M 13232M 13233M 13234  13255M 13258
                                                 13259  13296M 13451M 13469U 13640M 13658U 13915M 13933U 13939M 13957U
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  111
                                                 14081M 14099U 14200M 14201M 14202  14235M 14253U 14273M 14283U 14301M
                                                 14368M 14386M 14394  14825M 14843U 15026M 15044U 15050M 15068U 15122M
                                                 15125  15126
 RVR           0 00000000 FFFFFFFF A   #    1004  2481M  2630M  2630   2797M  2949M  2949   3117M  3367   3403M  3403
                                                  3512M  3692M  3692   3793M  3977M  3977   4088M  4179M  4179   4488M
                                                  4523M  4560   4568M  4766M  4983   5019M  5019   5200M  5200   5513M
                                                  5513   5709   5740M  5740   5956M  5956   5970M  6054M  6054   6063M
                                                  6063   6497M  6510   6644M  6907M  6907   7103   7134M  7134   7180M
                                                  7180   7320M  7320   7391M  7459M  7459   7537M  7537   7546M  7546
                                                  7979M  7992   8126M  8249M  8249   8430M  8430   8626   8674M  8674
                                                  8683M  8683   9002M  9015   9149M  9607M  9638M  9686M  9686   9692M
                                                  9712   9775M  9775   9972M  9972   9982  10071M 10738M 10769M 10817M
                                                 10817  10823M 10837M 10837  10847  10936M 11110M 11165M 11180  11336
                                                 11396  11446M 11686M 11976M 12031M 12049  13046M 13047M 13052  13079M
                                                 13080M 13103  13343M 13344M 13732  13771M 13782  13783  13784  13816M
                                                 13827  13828
 RX            6 00000006 FFFFFFFF A   #    1076  3365M  3375   3376   4559M  4563   4564   4567   4981M  4991   4992
                                                  5628M  5638U  5663M  5664M  5664   5709M  7022M  7032U  7057M  7058M
                                                  7058   7103M  8545M  8555U  8580M  8581M  8581   8626M  9556M  9566U
                                                  9591M  9592M  9592  10687M 10697U 10722M 10723M 10723  11180M 11240U
                                                 11418  11419M 11439M 11773M 11783U 11811  12049M 12109U 12130  12131M
                                                 12152M 12155  12639M 12649U 12661  12750  13475M 13493U 13664M 13682U
                                                 14105M 14123U 14225
 RY            7 00000007 FFFFFFFF A   #    1088  2466M  2467   2498   2609U  2715M  2716   2814   2928U  3035M  3036
                                                  3134   3288U  3388U  3497M  3498   3533   3671U  3778M  3779   3814
                                                  3956U  4073M  4074   4105   4460M  4470U  4570M  4580U  4684M  4685
                                                  4904U  5004U  5109M  5124   5154   5354M  5411M  5433U  5700   6806M
                                                  6863M  6885U  7094   8329M  8386M  8408U  8617   9325M  9382M  9404U
                                                 10495M 10552M 10574U 11042M 11052U 11562M 11572U 11787M 11797U 11809
                                                 11898M 11908U 12128  12289M 12307U 12350M 12368U 12726M 12736U 12748
                                                 12805  13497M 13507U 13686M 13696U 13963M 13981U 14127M 14137U 14215M
                                                 14289  14334  14849M 14867U
 R0            0 00000000 FFFFFFFF A   #     708  2434   2683   3003   3465   3746   4041   4229   4652   5077   5249
                                                  5304U  5385U  6701   6756U  6837U  8210   8279U  8360U  9220   9275U
                                                  9356U 10228  10347M 10349  10390  10445U 10526U 11010  11203U 11530
                                                 11617U 11741  11866  12072U 12221  12263U 12332U 12452  12616M 12616
                                                 12617M 13420  13449U 13609  13638U 13887  13913U 14037  14079U 14233U
                                                 14794  14823U 14919  14983  15024U
 R1            1 00000001 FFFFFFFF A   #     721  2650M  2969M  3428M  3712M  3997M  4199M  4615M  5044M  5220M  6666M
                                                  8148M  9171M 10091M 10956M 11476M 11711M 11836M 12190M 12396M 12557M
                                                 12559M 12568M 13374M 13577M 13854M 14007M 14763M 14888M 14947M 15147M
 R14          14 0000000E FFFFFFFF A   #     890  3568M  3570   3571M  3582   3849M  3850   3851M  3852M  3853M  3864
                                                 10226M 10228  10345M 10349  12515M 12522M 12525  12608M 12615M 12617M
                                                 12690M 12697M 12700
 R15          15 0000000F FFFFFFFF A   #     903  2434   2650M  2683   2969M  3003   3428M  3465   3569M  3570M  3572M
                                                  3582   3712M  3746   3849M  3850M  3851   3854M  3864   3997M  4041
                                                  4199M  4229   4615M  4652   5044M  5077   5220M  5249   6666M  6701
                                                  8148M  8210   9171M  9220  10091M 10346M 10390  10956M 11010  11212
                                                 11213M 11214M 11215M 11216M 11217M 11217  11476M 11530  11626  11627M
                                                 11628M 11629M 11630M 11631M 11631  11711M 11741  11836M 11866  12081
                                                 12082M 12083M 12084M 12085M 12086M 12086  12190M 12221  12396M 12452
                                                 13374M 13420  13577M 13609  13854M 13887  14007M 14037  14763M 14794
                                                 14888M 14919  14947M 14983  15147M
 SPCB         28 00000000 FFFFFFD3     J    2380  5638U  7032U  8555U  9566U 10697U 11110  11165  11240U 11253M 11253
                                                 11254M 12888U 12898M 12898  12899M 12943M 12943  12944M 14505U 14515M
                                                 14515  14516M 15204
 SPCBBACK      1 0000000C FFFFFFD3         2357  5835   5900   6002   6346   7338   7485   7828  12971  12971  12972
                                                 12972  12973  12973  12974  12974  12975  12975
 SPCBFETP      8 0000000C FFFFFFD3         2337  6170   7653   8801  12912  12912  12913  12913  12916  12916  12962
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  112
                                                 12962  12963  12963  12966  12966  12969  12969  12973  12973
 SPCBFIX       4 0000000C FFFFFFD3         2347  6222   7704   8852   9802  12914  12914  12915  12915  12916  12916
                                                 12964  12964  12965  12965  12966  12966  12970  12970  12974  12974
 SPCBFVSL      4 00000018 FFFFFFD3     A    2373  5809   6427   7253   7293   7909   9704  11413M 12924M 12983M 13113
                                                 14564M 14662
 SPCBGLOB     32 0000000C FFFFFFD3         2317  6106   6266   7589   7748   8737   8896   9840  12911  12911  12912
                                                 12912  12914  12914  12917M 12961  12961  12962  12962  12964  12964
                                                 12967  12967  12971  12971  12976M
 SPCBHIGH     16 0000000C FFFFFFD3         2367 11265  12967  12967  12968  12968  12969  12969  12970  12970  12975
                                                 12975
 SPCBMAJP      1 0000000C FFFFFFD3     R    2308  2317   2327   2337   2347   2357   2367  14520M
 SPCBNEXT      4 00000004 FFFFFFD3     A    2303  5663   7057   8580   9591  10722  11432M 11432  11439  11445M 12945M
                                                 13155
 SPCBPOOL      2 0000000C FFFFFFD3     H    2305  5655   7049   8572   9583  10714  11255M
 SPCBSYS       2 0000000C FFFFFFD3         2327  6132   7615   8763  12911  12911  12913  12913  12915  12915  12961
                                                 12961  12963  12963  12965  12965  12968  12968  12972  12972
 SPCBUVSL      4 00000014 FFFFFFD3     A    2372  5962   6399   7382   7881   8694   9668  10799  11366M 12919M 12978M
                                                 13141  13212  13276  13331  14522M 14681
 SPCBVSRB      4 00000010 FFFFFFD3     A    2371  5992   7404   7475   8655   9781  11272M 11289M 12918M 12977M 13060
                                                 13202  13266  13321  14518M
 SPR          13 0000000D FFFFFFFF A   #    1172  2434   2449   2450   2465M  2574U  2683   2698   2699   2714M  2893U
                                                  3003   3018   3019   3034M  3253U  3465   3480   3481   3496M  3636U
                                                  3746   3761   3762   3777M  3921U  4041   4056   4057   4072M  4229
                                                  4244   4245   4260M  4434U  4652   4667   4668   4683M  4869U  5077
                                                  5092   5093   5108M  5249   5264   5265   5280M  5589U  5691U  5807U
                                                  6087U  6240U  6397U  6470U  6620U  6701   6716   6717   6732M  6983U
                                                  7085U  7251U  7570U  7722U  7879U  7952U  8102U  8210   8225   8226
                                                  8241M  8506U  8608U  8651U  8718U  8870U  8975U  9125U  9220   9235
                                                  9236   9251M  9517U  9666U  9820U  9942U 10047U 10390  10405  10406
                                                 10421M 10648U 10797U 10912U 11010  11025  11026  11041M 11090U 11310U
                                                 11530  11545  11546  11561M 11741  11756  11757  11772M 11866  11881
                                                 11882  11897M 11956U 12221  12236  12237  12252M 12452  12467  12468
                                                 12488M 13019U 13420  13435  13436  13438M 13523U 13609  13624  13625
                                                 13627M 13713U 13755U 13887  13902  13903  13905M 14037  14052  14053
                                                 14068M 14160U 14191U 14622U 14711U 14794  14809  14810  14812M 14919
                                                 14934  14935  14937M 14983  14998  14999  15014M
 TAKELOC       2 00000B12 00000001     H    7288  7426B
 TRCD3         4 00001F14 00000001     A   15156 15155
 VFRTNLOG      2 000011A0 00000001     H   10255  9437B
 VGRTNLOG      2 00001146 00000001     H   10129  5485B  6546B  8028B  9051B
 VHADDSPEC
               4 00000010 FFFFFFD5     A    2231  4331   4332M
 VHFREE        4 0000000C FFFFFFD5     A    2230 10307  10308M
 VHGET         4 00000000 FFFFFFD5     A    2227  5470   5471M  6544   6545M
 VHGETM        4 00000004 FFFFFFD5     A    2228  8026   8027M
 VHGETS        4 00000008 FFFFFFD5     A    2229  9049   9050M
 VHHIST        4 00000020 FFFFFFD5     A    2235  2236   5480   5484M 10185  10189M
 VHREMANYR
               4 00000018 FFFFFFD5     A    2233  2786   2787M
 VHREMPAGE
               4 0000001C FFFFFFD5     A    2234  4755   4756M
 VHREMSPEC
               4 00000014 FFFFFFD5     A    2232  3106   3107M
 VHRTN         4 00000810 FFFFFFD5     A    2240  2241  10227  10348
 VHRTNCNT      4 00000800 FFFFFFD5     A    2237 10216  10217M 10335  10336M
 VHRTNPTR      4 00000804 FFFFFFD5     A    2238 10193  10230M 10312  10351M
 VHRTNSTK      8 00000808 FFFFFFD5     D    2239 10211M 10330M
 VIRTMEM       1 00000000 00000001     J    1220  1217   1218   1222   1319   1417   1475   1510   1529   1571   1592
                                                  1613   1643   1667   1696   1760   1823   1842   1872   1905   1932
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  113
                                                  1952   1972   1994   2015   2034   2054   2132   2215   2249   2283
                                                  2381   2407
 VIRT00        1 00000000 00000001     R    1229  1227
 VMAL          1 00000010 00000001 A   N    2089  2090   8182  10116  15196  15200  15200  15200  15201  15201  15201
                                                 15202  15202  15202  15203  15203  15203  15204  15204  15204
 VMALIGN       1 7FFFFFF0 00000001 A   U    2090  8169  10105  15170
 VMCB         52 00000000 FFFFFFD7     J    2131  5348U  6800U  8323U  9319U 10489U 12307U 12649U 12659M 12659  12660M
                                                 13493U 13682U 13957U 14123U 15068U 15201
 VMCBGHL       4 00000020 FFFFFFD7     A    2119 12670M 13023  13059  13344  13546
 VMCBGHS       4 0000001C FFFFFFD7     A    2118 12669M 13022  13058  13343  13545
 VMCBGLL       4 00000008 FFFFFFD7     A    2113 12664M 12713M 13033  13533
 VMCBGLS       4 00000004 FFFFFFD7     A    2112 12663M 13532
 VMCBGVS       4 00000028 FFFFFFD7     A    2122  5354   6806   8329   9325  10495  12748M 13497  13686  13963  14127
 VMCBHASH      1 00000024 FFFFFFD7     X    2121 12671M 12760  14270  15077
 VMCBSLL       4 00000018 FFFFFFD7     A    2117 12668M 14145  14684  14728
 VMCBSLS       4 00000014 FFFFFFD7     A    2116 12667M 12715  14144  14642  14646  14683  14727
 VMCBSTAG      4 00000030 FFFFFFD7     A    2124 13782M
 VMCBSTAT      4 0000002C FFFFFFD7     A    2123 13827M 14271
 VMCBUSL       4 00000010 FFFFFFD7     A    2115 12313  12666M 12717M 14626  14721
 VMCBUSS       4 0000000C FFFFFFD7     A    2114 12312  12665M 12714M 14625  14720
 VMCHK         4 000011F6 00000001     I   10390 10385  10401U
 VMCRAS1       4 00001BFC 00000001     I   14037 14032  14048U
 VMCRAS2       4 00001E54 00000001     I   14794 14789  14805U
 VMDEFSET      4 00001BB8 00000001     I   13887 13882  13898U
 VMFREE        4 00000F70 00000001     I    9220  9215   9231U
 VMGET         4 0000071E 00000001     I    5249  5244   5260U
 VMGET         1 00000000 0000000A     T   15174 15174
 VMGETM        4 00000A08 00000001     I    6701  6696   6712U
 VMGETS        4 00000D6C 00000001     I    8210  8205   8221U
 VMGEXIT       2 000009F2 00000001     H    6649  5514B
 VMGMEXIT      2 00000CFE 00000001     H    8131  6908B
 VMGSEXIT      2 00000F34 00000001     H    9154  8252B  8255B  8431B
 VMINFO        4 00001606 00000001     I   12221 12216  12232U
 VMINIT1       4 00001652 00000001     I   12452 12447  12463U
 VMINIT2       4 00001AA4 00000001     I   13420 13415  13431U
 VMINIT3       4 00001B18 00000001     I   13609 13604  13620U
 VMSTAT     4096 00000000 FFFFFFD5     J    2248  2778U  3098U  4323U  4747U  5462U  6536U  8018U  9041U  9433U 10157U
                                                 10286U 15192
 VSCT         60 00000000 FFFFFFD6     J    2214  2740U  3060U  4285U  4709U  5433U  6885U  8408U  9404U 10574U 11052U
                                                 11572U 11797U 11908U 12368U 12736U 12746M 12746  12747M 13507U 13696U
                                                 13981U 14137U 14222M 14222  14223M 14867U 15202
 VSCTFLG1      1 00000004 FFFFFFD6     R    2158  2162   2167   2172   2177   2182
 VSCTGLOB    128 00000004 FFFFFFD6         2162  5537   6565   6931   8047   8454   9070   9465   9992  10596  10857
                                                 11068  11934  12766M
 VSCTHASH      1 0000002E FFFFFFD6     X    2197 12373  12760M 13534  13547  14270M 14722  14729
 VSCTHVSR      4 00000024 FFFFFFD6     A    2192 11272  12864M 12977  13021  14408M 14518  14641
 VSCTLKRQ     32 00000004 FFFFFFD6         2172  5527M  5619M  6921M  7013M  8444M  8536M  9455M  9547M 10586M 10678M
 VSCTLOCK      4 00000008 FFFFFFD6     A    2185  5565   6593   6959   8075   8482   9098   9493  10020  10624  10885
                                                 13732M
 VSCTLVSR      4 00000028 FFFFFFD6     A    2193 11289  12869M 12918  13031  14452M 14624
 VSCTNORS     64 00000004 FFFFFFD6         2167  6452   7934   8957   9924  11657M 11921M
 VSCTPDEF      4 00000030 FFFFFFD6     A    2202  6200   7683   8831  12767M 13985M 14268M
 VSCTPFIX      4 00000034 FFFFFFD6     A    2203  6278   7760   8908  12768M 13986M 14269M
 VSCTPGDF     16 00000004 FFFFFFD6         2177  6194M  6208M  7677M  7691M  8825M  8839M
 VSCTPGFX      8 00000004 FFFFFFD6         2182  6256M  6310M  7738M  7792M  8886M  8940M
 VSCTPOOL      4 00000020 FFFFFFD6     A    2191  5628   7022   8545   9556  10687  11419  12988M 14517M
 VSCTRSRV      4 0000001C FFFFFFD6     A    2190 11593  11651M 11651  12154  12155M 12824M 14353M
 VSCTSKEY      1 0000002C FFFFFFD6     X    2195  6139   7622   8770  12751M 13046  13079  13161  13228  13292  14170
                                                 14204  14258M
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  114
 VSCTSTAT      4 00000038 FFFFFFD6     A    2207  2746   3066   4291   4715   5446   6520   8002   9025   9417  13783M
                                                 14271M
 VSCTUKEY      1 0000002D FFFFFFD6     X    2196  6156   7639   8787  12752M 14259M
 VSCTVMCB      4 0000000C FFFFFFD6     A    2186 12750M 14225M
 VSCTVSLB      4 00000018 FFFFFFD6     A    2189 11578  11678M 11810  11811M 12129  12130M 12152  12153M 12992M 14403M
                                                 14407  14423M 14451  14467M 14521  14537M 14563  14579M
 VSLB         32 00000000 FFFFFFD4     J    2282  2477U  2561M  2563M  2609U  2726U  2880M  2882M  2928U  3046U  3240M
                                                  3242M  3288U  3376M  3377M  3388U  3508U  3623M  3625M  3671U  3789U
                                                  3908M  3910M  3956U  4084U  4271U  4407   4419   4421   4423M  4470U
                                                  4564   4566M  4567M  4580U  4695U  4856M  4858M  4904U  4992M  4993M
                                                  5004U  5134U  9722U 11346U 11674U 11783U 11807M 11807  11808M 11976
                                                 12031  12109U 12126M 12126  12127M 12793U 12803M 12803  12804M 12832U
                                                 14322U 14332M 14332  14333M 14363U 14418U 14462U 14532U 14574U 15199
                                                 15203
 VSLBLEN       4 00000014 FFFFFFD4     A    2273  2524   2840   2859M  3180   3227M  3316M  3373M  3562   3843   3887M
                                                  4151   4401M  4419   4420M  4520   4522M  4562M  4783   4797   4819
                                                  4843M  4932M  4989M  5180   5186   9739  11365M 11365  11412M 11412
                                                 14439M 14439  14483M 14483  14553M 14553  14595M 14595
 VSLBLOC       4 00000010 FFFFFFD4     A    2272  2541   2545M  2857   3160   3179   3219   3225M  3315   3371M  3568
                                                  3603   3607M  3849   3885   4131   4150   4369   4381   4407   4513
                                                  4519M  4561M  4792   4818   4835   4841M  4931   4987M  5187  11358M
                                                 11358  11405M 11405  14432M 14432  14476M 14476  14546M 14546  14588M
                                                 14588
 VSLBNEXT      4 00000008 FFFFFFD4     A    2270  2488   2560   2563M  2563   2879   2882M  2882   3239   3242M  3242
                                                  3366   3374M  3376M  3523   3622   3625M  3625   3907   3910M  3910
                                                  4406   4421   4422M  4499   4563M  4566M  4855   4858M  4858   4982
                                                  4990M  4992M 11350M 11397M 11678  11685M 11685  11810M 12129M 12153
                                                 12154M 12806M 12841  12852  12859M 12859  12865  12866M 12870  12871M
                                                 12920  12921M 12925  12926M 12979  12980M 12984  12985M 14335M 14375
                                                 14386  14393M 14393  14423  14424M 14467  14468M 14537  14538M 14579
                                                 14580M
 VSLBOWNR      4 00000004 FFFFFFD4     A    2269  2730   3050   3357   4275   4551   4699   4973  11787  11809M 12128M
                                                 12805M 14334M
 VSLBPREV      4 0000000C FFFFFFD4     A    2271  2561M  2561   2562   2804   2880M  2880   2881   3124   3240M  3240
                                                  3241   3375M  3377M  3623M  3623   3624   3804   3908M  3908   3909
                                                  4095   4351   4423M  4564   4565M  4567M  4856M  4856   4857   4991M
                                                  4993M  5144  11351M 11398M 12867M 12872M 12922M 12927M 12981M 12986M
                                                 14425M 14469M 14539M 14581M
 VSLBSTAT      4 00000018 FFFFFFD4     A    2274  2615   2617M  2934   2936M  3294   3296M  3396   3397M  3677   3679M
                                                  3962   3964M  4476   4478M  4588   4589M  4910   4912M  5012   5013M
 WAR          12 0000000C FFFFFFFF A   #    1160  2449   2450M  2451   2461U  2465   2650   2651   2698   2699M  2700
                                                  2710U  2714   2969   2970   3018   3019M  3020   3030U  3034   3428
                                                  3429   3480   3481M  3482   3492U  3496   3712   3713   3761   3762M
                                                  3763   3773U  3777   3997   3998   4056   4057M  4058   4068U  4072
                                                  4199   4200   4244   4245M  4246   4256U  4260   4615   4616   4667
                                                  4668M  4669   4679U  4683   5044   5045   5092   5093M  5094   5104U
                                                  5108   5220   5221   5264   5265M  5266   5276U  5280   6666   6667
                                                  6716   6717M  6718   6728U  6732   8148   8149   8225   8226M  8227
                                                  8237U  8241   9171   9172   9235   9236M  9237   9247U  9251  10091
                                                 10092  10170U 10226  10299U 10405  10406M 10407  10417U 10421  10956
                                                 10957  11025  11026M 11027  11037U 11041  11476  11477  11545  11546M
                                                 11547  11557U 11561  11711  11712  11756  11757M 11758  11768U 11772
                                                 11836  11837  11881  11882M 11883  11893U 11897  12190  12191  12236
                                                 12237M 12238  12248U 12252  12396  12397  12467  12468M 12469  12479U
                                                 12488  13374  13375  13435  13436M 13437  13438  13577  13578  13624
                                                 13625M 13626  13627  13854  13855  13902  13903M 13904  13905  14007
                                                 14008  14052  14053M 14054  14064U 14068  14763  14764  14809  14810M
                                                 14811  14812  14888  14889  14934  14935M 14936  14937  14947  14948
                                                 14998  14999M 15000  15010U 15014  15147  15148
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  115
 XLGHL         4 00001A94 00000001     F   13397 12496
 XLGHS         4 00001A90 00000001     F   13390 12546  12669
 XLGLL         4 00001A7C 00000001     F   13385 12664
 XLGLS         4 00001A78 00000001     F   13384 12663
 XLSLL         4 00001A8C 00000001     F   13389 12668
 XLSLS         4 00001A88 00000001     F   13388 12667
 XLUSL         4 00001A84 00000001     F   13387 12666
 XLUSS         4 00001A80 00000001     F   13386 12665
 =A(ADDSPEC)
               4 00000D44 00000001     A    8175  5968   6407   6434   7388   7889   7916
 =A(ADDSPEC)
               4 00000F50 00000001     A    9188  8700
 =A(ADDSPEC)
               4 00001120 00000001     A   10107  9710   9787
 =A(ADDSPEC)
               4 00001F90 00000001     A   15184 13029  13041  13134  13150  13218  13282  13337  14632  14653  14672
                                                 14692
 =A(ALOCVSLB)
               4 00000D4C 00000001     A    8177  6488   7970
 =A(ALOCVSLB)
               4 00000F58 00000001     A    9190  8993
 =A(ALOCVSLB)
               4 00001138 00000001     A   10113  9960
 =A(CHKSPEC)
               4 00001F5C 00000001     A   15171 10807
 =A(FINDMAX)
               4 00000D58 00000001     A    8180  7259   7410
 =A(FREEVSLB)
               4 000003E8 00000001     A    4010  2598   2917   3277   3660   3945
 =A(FREEVSLB)
               4 00000D08 00000001     A    8160  4458   4893
 =A(GETVSLB)
               4 000003EC 00000001     A    4011  3363
 =A(GETVSLB)
               4 00000D0C 00000001     A    8161  4557   4979
 =A(GETVSLB)
               4 00001F70 00000001     A   15176 11334  11394
 =A(INITPDEF)
               4 00001F88 00000001     A   15182 12767
 =A(INITPFIX)
               4 00001F8C 00000001     A   15183 12768
 =A(L'VMSTAT)
               4 00001FB0 00000001     A   15192 13771  13785  13816  13829
 =A(MXHIST)
               4 00000D18 00000001     A    8164  5477   5479
 =A(MXHIST)
               4 00001F40 00000001     A   15164 10182  10184
 =A(MXRTN)
               4 00001F48 00000001     A   15166 10205  10324
 =A(NEWPOOL)
               4 00000D28 00000001     A    8168  5707   7101
 =A(NEWPOOL)
               4 00000F48 00000001     A    9186  8624
 =A(REMANY)
               4 00000D40 00000001     A    8174  5935   6037   7373   7520
 =A(REMANYR)
               4 00000D3C 00000001     A    8173  5912   6014   7350   7497
 =A(REMONE)
               4 00000D38 00000001     A    8172  5870
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  116
 =A(REMONER)
               4 00000D34 00000001     A    8171  5847
 =A(REMPAGE)
               4 00001128 00000001     A   10109  9764
 =A(REMSPEC)
               4 00000F4C 00000001     A    9187  8661
 =A(REMSPEC)
               4 0000111C 00000001     A   10106  9676
 =A(REMSPEC)
               4 00001FA0 00000001     A   15188 13070  13210  13274  13329
 =A(VMALIGN)
               4 00000D2C 00000001     A    8169  5725   7119   7149
 =A(VMALIGN)
               4 00001118 00000001     A   10105  9626   9650
 =A(VMALIGN)
               4 00001F58 00000001     A   15170 10757  10781
 =A(1)         4 00000D1C 00000001     A    8165  5483
 =A(1)         4 00001F44 00000001     A   15165 10188
 =A(1024*1024)
               4 00001F78 00000001     A   15178 12568
 =A(16*4096)
               4 00001FA4 00000001     A   15189 13323
 =A(4096)      4 00000D30 00000001     A    8170  5765   7209
 =A(4096)      4 00001F94 00000001     A   15185 13032  13034  14203
 =AL4(4096)
               4 00000D10 00000001     R    8162  4783
 =AL4(4096)
               4 00001124 00000001     R   10108  9739
 =C'SPCB'      4 00001F6C 00000001     C   15175 11254  12899  12944  14516
 =C'VMCB'      4 00001F80 00000001     C   15180 12660
 =C'VSCT'      4 00001F84 00000001     C   15181 12747  14223
 =C'VSLB'      4 00001F74 00000001     C   15177 11808  12127  12804  14333
 =CL16'VMGLOBAL'
              16 00001F30 00000001     C   15163 13727
 =CL4'MAT'
               4 00001F7C 00000001     C   15179 12618
 =CL8'GHSIZE'
               8 00001F20 00000001     C   15161 12508
 =CL8'GLSIZE'
               8 00001F28 00000001     C   15162 12683
 =CL8'VIRTMEM'
               8 00001F18 00000001     C   15160 12507  12682
 =F'-4096'
               4 00000D14 00000001     F    8163  4795   4798   5990   7473
 =F'-4096'
               4 00001F9C 00000001     F   15187 13057  13169  13233  14644
 =H'4095'      2 00000D5C 00000001     H    8181  4794   5989   7472
 =V(ASLOCK)
               4 00000D20 00000001     V    8166  5546   6940
 =V(ASLOCK)
               4 00000F40 00000001     V    9184  8463
 =V(ASLOCK)
               4 00001110 00000001     V   10103  9474
 =V(ASLOCK)
               4 00001F50 00000001     V   15168 10605
 =V(ASULOCK)
               4 00000D50 00000001     V    8178  6574   8056
 =V(ASULOCK)
               4 00000F5C 00000001     V    9191  9079
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  117
 =V(ASULOCK)
               4 0000113C 00000001     V   10114 10001
 =V(ASULOCK)
               4 00001F60 00000001     V   15172 10866
 =V(LKCRE)
               4 00001FAC 00000001     V   15191 13730
 =V(LKOB)      4 00000D24 00000001     V    8167  5603   6997
 =V(LKOB)      4 00000F44 00000001     V    9185  8520
 =V(LKOB)      4 00001114 00000001     V   10104  9531
 =V(LKOB)      4 00001F54 00000001     V   15169 10662
 =V(LKREL)
               4 00000D54 00000001     V    8179  6634   8116
 =V(LKREL)
               4 00000F60 00000001     V    9192  9139
 =V(LKREL)
               4 00001140 00000001     V   10115 10061
 =V(LKREL)
               4 00001F64 00000001     V   15173 10926
 =V(PAGASC2)
               4 00001FBC 00000001     V   15195 14174
 =V(PAGDEF)
               4 00001FB4 00000001     V   15193 13985  14209  14268
 =V(PAGFIX)
               4 00001FB8 00000001     V   15194 13986  14269
 =V(PAGSEGD)
               4 00001FA8 00000001     V   15190 13543  13556  14725  14732
 =V(PAGSFIX)
               4 00000D48 00000001     V    8176  6298   7780
 =V(PAGSFIX)
               4 00000F54 00000001     V    9189  8928
 =V(PAGUDEF)
               4 00001134 00000001     V   10112  9894
 =V(PAGUFIX)
               4 0000112C 00000001     V   10110  9849
 =V(PAGUSFIX)
               4 00001130 00000001     V   10111  9869
 =V(VMGET)
               4 00001F68 00000001     V   15174 11119  11174  11985  12040  13780  13825
 =X'00000008'
               4 00001F98 00000001     X   15186 13047  13080  13163  13230  13294
 =X'7FFFFFFF'
               4 00001F4C 00000001     X   15167 10345
 =X'7FFFF000'
               4 000003F0 00000001     X    4012  3571   3572   3853   3854
 =Y(((L'MAT+VMAL-1)/VMAL)*VMAL)
               2 00001FC8 00000001     Y   15200 12587
 =Y(((L'SPCB+VMAL-1)/VMAL)*VMAL)
               2 00001FD0 00000001     Y   15204 12877  12931  14495
 =Y(((L'VMCB+VMAL-1)/VMAL)*VMAL)
               2 00001FCA 00000001     Y   15201 12638
 =Y(((L'VSCT+VMAL-1)/VMAL)*VMAL)
               2 00001FCC 00000001     Y   15202 12725  14214
 =Y(((L'VSLB+VMAL-1)/VMAL)*VMAL)
               2 00001FCE 00000001     Y   15203 12783  14312
 =Y(L'VSLB)
               2 00001FC6 00000001     Y   15199 12131
 =Y(VMAL-1)
               2 00000D5E 00000001     Y    8182  5724   7118   7148
 =Y(VMAL-1)
1VIRTMEM  (VIRT00) (09:47) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  118
               2 00001144 00000001     Y   10116  9625
 =Y(VMAL-1)
               2 00001FC0 00000001     Y   15196 10756
 =Y(27*256+0)
               2 00001FC4 00000001     Y   15198 11171  12037
 =Y(4095)      2 00001FD4 00000001     Y   15206 13168  13232
 =Y(4096)      2 00001FD2 00000001     Y   15205 13104  13196  13260  13307  14150  14201  15127
 =Y(63*256+0)
               2 00001FC2 00000001     Y   15197 11116  11982  13777  13822

1VIRTMEM  (VIRT00) (09:47) (22MAR04) Macro and Copy Code Source Summary                                                     Page  119
- Con Source                                        Volume    Members                        HLASM R4.0  2004/03/22 09.47
0     PRIMARY INPUT                                           CSECT    DROP     END      EX       FVSLB    GVSLB
                                                              LTORG    POP      PRINT    PUSH     START    USING
   L2 WYL.GG.ORV.MACLIB                             SYSB02    $LKPARM  ABORT    ACALL    ASB      GETPARM2 HEADER
                                                              LKCRE    LKOB     LKREL    LOCKPARM MAT      MODULE
                                                              PAGEPARM PARMPARM PEND     PMOV     PROC     PSET
                                                              PZERO    REG      SPLEVEL  SYSCTL   VCALL    VMGET
                                                              VMIPARM  VMPARM   XTRCDATA
   L3 WYL.GG.SYS.MACLIB                             SYSB05    $BC      $BFLKUP  $BV      $CCLKUP  $CRS     $CSS     $L
                                                              $LA      $LBLAD   $LEXP    $LOR     $REL     $RGLKUP
                                                              $USLKUP  AUSING   BASE     BEGIN    CEIL     CLEAR
                                                              CSECT    DECR     DEFCC    DIAG     DROP     ELSE     END
                                                              EX       EXIT     FLAG     GEN      HIBAL    IDENT    IF
                                                              INCR     LABEL    LC       LOOP     LT       LTORG    POP
                                                              PRINT    PUSH     RECORD   REGS     SET      START    STF
                                                              UNTIL    USING    WHILE    WITH     ZOT

1         (VIRT00) (09:47) (22MAR04) General Purpose Register Cross Reference                                               Page  120
- Register  References (M=modified, B=branch, U=USING, D=DROP, N=index)                      HLASM R4.0  2004/03/22 09.47
0    0(0)      991U   992D  2434   2481M  2630M  2630   2683   2797M  2949M  2949   3003   3117M  3367   3403M  3403
              3465   3512M  3692M  3692   3746   3793M  3977M  3977   4041   4088M  4179M  4179   4229   4488M  4523M
              4560   4568M  4652   4766M  4983   5019M  5019   5077   5200M  5200   5249   5313D  5385U  5394D  5513M
              5513   5709   5740M  5740   5956M  5956   5970M  6054M  6054   6063M  6063   6497M  6510   6644M  6701
              6765D  6837U  6846D  6907M  6907   7103   7134M  7134   7180M  7180   7320M  7320   7391M  7459M  7459
              7537M  7537   7546M  7546   7979M  7992   8126M  8210   8249M  8249   8288D  8360U  8369D  8430M  8430
              8626   8674M  8674   8683M  8683   9002M  9015   9149M  9220   9284D  9356U  9365D  9607M  9638M  9686M
              9686   9692M  9712   9775M  9775   9972M  9972   9982  10071M 10228  10347M 10349  10390  10454D 10526U
             10535D 10738M 10769M 10817M 10817  10823M 10837M 10837  10847  10936M 11010  11110M 11115  11165M 11170
             11180  11225D 11336  11396  11446M 11530  11639D 11686M 11741  11866  11976M 11981  12031M 12036  12049
             12094D 12221  12272D 12452  12617M 12633D 13046M 13047M 13052  13078M 13078  13079M 13080M 13103  13343M
             13344M 13420  13458D 13609  13647D 13732  13771M 13776  13782  13783  13784  13816M 13821  13827  13828
             13887  13922D 14037  14088D 14242D 14794  14832D 14919  14983  15033D
     1(1)      987U  2434   2560M  2561   2562M  2563   2615M  2616M  2617   2650M  2683   2785M  2786M  2787   2879M
              2880   2881M  2882   2934M  2935M  2936   2969M  3003   3105M  3106M  3107   3239M  3240   3241M  3242
              3294M  3295M  3296   3314M  3315M  3316   3366M  3374   3377   3395M  3396M  3397   3428M  3465   3622M
              3623   3624M  3625   3677M  3678M  3679   3712M  3746   3907M  3908   3909M  3910   3962M  3963M  3964
              3997M  4041   4199M  4229   4330M  4331M  4332   4406M  4407   4419   4421   4452   4476M  4477M  4478
              4587M  4588M  4589   4615M  4652   4754M  4755M  4756   4855M  4856   4857M  4858   4910M  4911M  4912
              4930M  4931M  4932   4982M  4990   4993   5011M  5012M  5013   5044M  5077   5220M  5249   5306M  5324U
              5330M  5337U  5348U  5361U  5387M  5405U  5418U  5469M  5470M  5471   5480M  5483M  5484   5565M  5566M
              5566   5600   5723M  5724M  5725M  5748   5765   6543M  6544M  6545   6593M  6594M  6594   6631   6666M
              6701   6758M  6776U  6782M  6789U  6800U  6813U  6839M  6857U  6870U  6959M  6960M  6960   6994   7117M
              7118M  7119M  7142   7147M  7148M  7149M  7171   7188   7209   8025M  8026M  8027   8075M  8076M  8076
              8113   8148M  8210   8250M  8251M  8253M  8254M  8281M  8299U  8305M  8312U  8323U  8336U  8362M  8380U
              8393U  8482M  8483M  8483   8517   9048M  9049M  9050   9098M  9099M  9099   9136   9171M  9220   9277M
              9295U  9301M  9308U  9319U  9332U  9358M  9376U  9389U  9493M  9494M  9494   9528   9624M  9625M  9626M
              9646  10020M 10021M 10021  10058  10091M 10390  10447M 10465U 10471M 10478U 10489U 10502U 10528M 10546U
             10559U 10624M 10625M 10625  10659  10755M 10756M 10757M 10777  10885M 10886M 10886  10923  10956M 11010
             11418M 11445  11446  11476M 11530  11711M 11741  11836M 11866  12190M 12221  12265M 12283U 12296U 12334M
             12344U 12357U 12396M 12452  12557M 12559M 12568M 12616M 12616  12617M 12715M 12716M 12717  12772M 12813M
             12834M 12847M 12852M 12860  12865M 12868  12870M 12873  12920M 12923  12925M 12928  12929M 12945  12979M
             12982  12984M 12987  13033M 13034M 13035  13051M 13051  13052  13062M 13063M 13064  13099M 13103  13115M
             13116M 13128  13167M 13168M 13169M 13170  13191M 13195  13231M 13232M 13233M 13234  13255M 13259  13296M
             13313M 13374M 13420  13451M 13469U 13482U 13577M 13609  13640M 13658U 13671U 13854M 13887  13915M 13933U
             13939M 13946U 13957U 13970U 14007M 14037  14081M 14099U 14112U 14200M 14201M 14202  14235M 14253U 14266U
             14273M 14283U 14296U 14301M 14342M 14368M 14381M 14386M 14394  14763M 14794  14825M 14843U 14856U 14888M
             14919  14947M 14983  15026M 15044U 15050M 15057U 15068U 15084U 15122M 15126  15147M
     2(2)      983U  2434   2467M  2477U  2488M  2498   2592   2637U  2650M  2683   2716M  2726U  2804M  2814   2911
              2956U  2969M  3003   3036M  3046U  3124M  3134   3271   3365   3367M  3376   3377   3415U  3428M  3465
              3498M  3508U  3523M  3533   3654   3699U  3712M  3746   3779M  3789U  3804M  3814   3939   3984U  3997M
              4041   4074M  4084U  4095M  4105   4186U  4199M  4229   4261M  4271U  4351M  4423   4488   4499M  4523
              4559   4560M  4566   4567   4568   4602U  4615M  4652   4685M  4695U  4770M  4887   4981   4983M  4992
              4993   5031U  5044M  5077   5124M  5134U  5144M  5154   5207U  5220M  5249   5988M  5989M  5990M  5991
              6352M  6375M  6377M  6400   6497   6510M  6644   6666M  6701   7834M  7857M  7859M  7882   7979   7992M
              8126   8148M  8210   9015M  9149   9171M  9220   9712M  9722U  9758   9910U  9982M 10071  10091M 10390
             10847M 10936  10956M 11010  11336M 11346U 11350  11351  11366  11396M 11397  11398  11413  11453U 11476M
             11530  11578M 11579M 11579  11593M 11594M 11594  11674U 11686  11693U 11711M 11741  11836M 11866  12113M
             12137M 12145M 12161M 12190M 12221  12396M 12452  12537M 12538  12712M 12713  12714  12716  12776M 12776
             12806  12807M 12824  12832U 12841M 12860M 12864  12866  12867  12868M 12869  12871  12872  12873M 12919
             12921  12922  12923M 12924  12926  12927  12928M 12978  12980  12981  12982M 12983  12985  12986  12987M
             12992  12998U 13056M 13057M 13061  13063  13081  13114  13116  13171M 13172  13185  13196M 13235M 13236
             13249  13260M 13295M 13306  13307M 13374M 13420  13577M 13609  13784M 13790M 13828M 13834M 13854M 13887
             14007M 14037  14305M 14305  14335  14336M 14353  14363U 14375M 14394M 14401U 14403  14407M 14408  14418U
             14424  14425  14446U 14451M 14452  14462U 14468  14469  14490U 14521M 14522  14532U 14538  14539  14560U
1         (VIRT00) (09:47) (22MAR04) General Purpose Register Cross Reference                                               Page  121
             14563M 14564  14574U 14580  14581  14602U 14643M 14644M 14645  14663  14664M 14665M 14665  14666  14683M
             14684M 14685M 14686  14763M 14794  14888M 14919  14947M 14983  15015M 15090M 15095M 15097  15116  15127M
             15147M
     3(3)      979U  2434   2650M  2683   2969M  3003   3428M  3465   3712M  3746   3997M  4041   4199M  4229   4421M
              4422   4423   4500M  4501M  4513   4520M  4521M  4522   4564M  4565   4566   4615M  4652   5044M  5077
              5220M  5249   6666M  6701   8148M  8210   9171M  9220  10091M 10390  10956M 11010  11476M 11530  11711M
             11741  11836M 11866  12190M 12221  12396M 12452  13058M 13059M 13062  13093  13143M 13144  13172M 13173M
             13185  13236M 13237M 13249  13374M 13420  13577M 13609  13785M 13790M 13829M 13834M 13854M 13887  14007M
             14037  14645M 14646M 14647  14763M 14794  14888M 14919  14947M 14983  15016M 15090M 15096M 15097M 15116
             15147M
     4(4)      975U  2434   2541M  2542   2543M  2545   2650M  2683   2857M  2860M  2861   2969M  3003   3177M  3178M
              3190   3225   3226   3329   3371   3372   3428M  3465   3603M  3604   3605M  3607   3712M  3746   3885M
              3888M  3889   3997M  4041   4148M  4149M  4161   4199M  4229   4381M  4382M  4394   4405M  4407   4615M
              4652   4792M  4793   4794M  4795M  4796   4816   4817M  4841   4842   4945   4987   4988   5044M  5077
              5220M  5249   6074M  6096   6249   6352   6353M  6375   6428   6666M  6701   7557M  7579   7731   7834
              7835M  7857   7910   8148M  8210   8705M  8727   8879   9002   9171M  9220   9792M  9829   9890  10091M
             10136M 10146U 10227M 10228  10262M 10272U 10275U 10348M 10349  10390  10956M 11010  11476M 11530  11711M
             11741  11836M 11866  12190M 12221  12396M 12452  12560M 12574M 12588M 12596U 12599U 12608  12626  12758U
             12878M 12888U 12929  12932M 12988  13155M 13351U 13374M 13420  13577M 13609  13790M 13834M 13854M 13887
             14007M 14037  14763M 14794  14888M 14919  14947M 14983  15090M 15100D 15102M 15102  15103M 15104U 15126
             15147M
     5(5)      971U  2434   2541M  2544M  2545   2650M  2683   2857M  2858M  2859   2860   2873M  2873   2969M  3003
              3179M  3180M  3190   3226M  3227   3329   3372M  3373   3428M  3465   3603M  3606M  3607   3712M  3746
              3885M  3886M  3887   3888   3901M  3901   3997M  4041   4150M  4151M  4161   4199M  4229   4381M  4382
              4400M  4401   4419M  4420   4615M  4652   4793M  4796M  4797M  4798M  4816   4817   4818M  4819M  4842M
              4843   4945   4988M  4989   5044M  5077   5220M  5249   6074M  6096   6250   6354M  6376M  6377   6421M
              6421   6428   6666M  6701   7197M  7197   7261M  7278   7297   7299M  7311   7328   7390   7423   7432M
              7436   7438M  7450   7471   7472M  7473M  7474   7557M  7579   7732   7836M  7858M  7859   7903M  7903
              7910   8148M  8210   8705M  8727   8880   9171M  9220   9792M  9830   9891  10091M 10185M 10188M 10189
             10193M 10205  10215M 10216M 10217  10221M 10221  10227N 10229M 10230  10306M 10307M 10308  10312M 10324
             10334M 10335M 10336  10340M 10340  10348N 10350M 10351  10390  10956M 11010  11476M 11530  11711M 11741
             11836M 11866  12190M 12221  12396M 12452  12546M 12547M 12557  12587M 12588  12638M 12639  12725M 12726
             12783M 12793U 12807  12819U 12877M 12878  12931M 12932  13056  13115  13142  13143  13374M 13420  13577M
             13609  13789M 13789  13790M 13833M 13833  13834M 13854M 13887  14007M 14037  14144M 14145M 14150M 14169
             14200  14214M 14215  14312M 14322U 14336  14348U 14495M 14505U 14517  14643  14664  14682  14685  14740U
             14763M 14794  14888M 14919  14947M 14983  15076M 15076  15077M 15090M 15147M
     6(6)      967U  2434   2650M  2683   2969M  3003   3365M  3375   3376   3428M  3465   3712M  3746   3997M  4041
              4199M  4229   4559M  4563   4564   4567   4615M  4652   4981M  4991   4992   5044M  5077   5220M  5249
              5628M  5638U  5663M  5664M  5664   5709M  6503U  6666M  6701   7022M  7032U  7057M  7058M  7058   7103M
              7985U  8148M  8210   8545M  8555U  8580M  8581M  8581   8626M  9008U  9171M  9220   9556M  9566U  9591M
              9592M  9592   9978U 10091M 10390  10687M 10697U 10722M 10723M 10723  10843U 10956M 11010  11180M 11240U
             11418  11419M 11439M 11458U 11476M 11530  11711M 11741  11773M 11783U 11811  11823U 11836M 11866  12049M
             12109U 12130  12131M 12152M 12155  12172U 12190M 12221  12396M 12452  12639M 12649U 12661  12750  13361U
             13374M 13420  13475M 13493U 13569U 13577M 13609  13664M 13682U 13846U 13854M 13887  14007M 14037  14105M
             14123U 14225  14750U 14763M 14794  14888M 14919  14947M 14983  15147M
     7(7)      963U  2434   2466M  2467   2498   2609U  2623U  2650M  2683   2715M  2716   2814   2928U  2942U  2969M
              3003   3035M  3036   3134   3288U  3302U  3388U  3410U  3428M  3465   3497M  3498   3533   3671U  3685U
              3712M  3746   3778M  3779   3814   3956U  3970U  3997M  4041   4073M  4074   4105   4199M  4229   4460M
              4470U  4484U  4570M  4580U  4597U  4615M  4652   4684M  4685   4904U  4918U  5004U  5026U  5044M  5077
              5109M  5124   5154   5220M  5249   5354M  5411M  5433U  5700   6482   6653U  6666M  6701   6806M  6863M
              6885U  7094   7964   8135U  8148M  8210   8329M  8386M  8408U  8617   8987   9158U  9171M  9220   9325M
              9382M  9404U  9954  10078U 10091M 10390  10495M 10552M 10574U 10943U 10956M 11010  11042M 11052U 11328
             11388  11463U 11476M 11530  11562M 11572U 11698U 11711M 11741  11787M 11797U 11809  11818U 11836M 11866
             11898M 11908U 12128  12177U 12190M 12221  12289M 12307U 12320U 12350M 12368U 12380U 12396M 12452  12726M
             12736U 12748  12805  13356U 13374M 13420  13497M 13507U 13564U 13577M 13609  13686M 13696U 13841U 13854M
             13887  13963M 13981U 13999U 14007M 14037  14127M 14137U 14215M 14289  14334  14745U 14763M 14794  14849M
             14867U 14880U 14888M 14919  14947M 14983  15147M
     8(8)      959U  2434   2650M  2683   2730M  2740U  2746M  2753U  2763M  2763   2778U  2793U  2969M  3003   3050M
              3060U  3066M  3073U  3083M  3083   3098U  3113U  3428M  3465   3712M  3746   3997M  4041   4199M  4229
1         (VIRT00) (09:47) (22MAR04) General Purpose Register Cross Reference                                               Page  122
              4275M  4285U  4291M  4298U  4308M  4308   4323U  4338U  4615M  4652   4699M  4709U  4715M  4722U  4732M
              4732   4747U  4762U  5044M  5077   5220M  5249   5446M  5447M  5447   5462U  5491U  6520M  6521M  6521
              6536U  6552U  6666M  6701   8002M  8003M  8003   8018U  8034U  8148M  8210   9025M  9026M  9026   9041U
              9057U  9171M  9220   9417M  9418M  9418   9433U  9443U 10091M 10157U 10242U 10286U 10363U 10390  10956M
             11010  11476M 11530  11711M 11741  11836M 11866  12190M 12221  12396M 12452  13374M 13420  13577M 13609
             13854M 13887  14007M 14037  14763M 14794  14888M 14919  14947M 14983  15147M
     9(9)      955U  2434   2650M  2683   2969M  3003   3428M  3465   3712M  3746   3997M  4041   4199M  4229   4615M
              4652   5044M  5077   5220M  5249   5472M  5473M  5474M  5477   5479M  5480N  5484N  5485M  6546M  6666M
              6701   8028M  8148M  8210   9051M  9171M  9220   9437M 10091M 10231B 10352B 10390  10956M 11010  11476M
             11530  11711M 11741  11836M 11866  12190M 12221  12396M 12452  13374M 13420  13577M 13609  13854M 13887
             14007M 14037  14763M 14794  14888M 14919  14947M 14983  15147M
    10(A)      951U  2434   2435M  2445U  2647U  2650M  2683   2684M  2694U  2966U  2969M  3003   3004M  3014U  3425U
              3428M  3465   3466M  3476U  3709U  3712M  3746   3747M  3757U  3994U  3997M  4041   4042M  4052U  4196U
              4199M  4229   4230M  4240U  4612U  4615M  4652   4653M  4663U  5041U  5044M  5077   5078M  5088U  5217U
              5220M  5249   5250M  5260U  6663U  6666M  6701   6702M  6712U  8145U  8148M  8210   8211M  8221U  9168U
              9171M  9220   9221M  9231U 10088U 10091M 10390  10391M 10401U 10953U 10956M 11010  11011M 11021U 11473U
             11476M 11530  11531M 11541U 11708U 11711M 11741  11742M 11752U 11833U 11836M 11866  11867M 11877U 12187U
             12190M 12221  12222M 12232U 12393U 12396M 12452  12453M 12463U 13371U 13374M 13420  13421M 13431U 13574U
             13577M 13609  13610M 13620U 13851U 13854M 13887  13888M 13898U 14004U 14007M 14037  14038M 14048U 14760U
             14763M 14794  14795M 14805U 14885U 14888M 14919  14920M 14930U 14944U 14947M 14983  14984M 14994U 15144U
             15147M
    11(B)      947U  2434   2650M  2683   2969M  3003   3428M  3465   3712M  3746   3997M  4041   4199M  4229   4615M
              4652   5044M  5077   5220M  5249   6666M  6701   8148M  8210   9171M  9220  10091M 10390  10956M 11010
             11476M 11530  11711M 11741  11836M 11866  12190M 12221  12396M 12452  13374M 13420  13577M 13609  13854M
             13887  14007M 14037  14763M 14794  14888M 14919  14947M 14983  15147M
    12(C)      943U  2434   2449   2450M  2451   2461U  2465   2642U  2650M  2650   2651   2683   2698   2699M  2700
              2710U  2714   2961U  2969M  2969   2970   3003   3018   3019M  3020   3030U  3034   3420U  3428M  3428
              3429   3465   3480   3481M  3482   3492U  3496   3704U  3712M  3712   3713   3746   3761   3762M  3763
              3773U  3777   3989U  3997M  3997   3998   4041   4056   4057M  4058   4068U  4072   4191U  4199M  4199
              4200   4229   4244   4245M  4246   4256U  4260   4607U  4615M  4615   4616   4652   4667   4668M  4669
              4679U  4683   5036U  5044M  5044   5045   5077   5092   5093M  5094   5104U  5108   5212U  5220M  5220
              5221   5249   5264   5265M  5266   5276U  5280   6658U  6666M  6666   6667   6701   6716   6717M  6718
              6728U  6732   8140U  8148M  8148   8149   8210   8225   8226M  8227   8237U  8241   9163U  9171M  9171
              9172   9220   9235   9236M  9237   9247U  9251  10083U 10091M 10091  10092  10170U 10226  10237U 10299U
             10358U 10390  10405  10406M 10407  10417U 10421  10948U 10956M 10956  10957  11010  11025  11026M 11027
             11037U 11041  11468U 11476M 11476  11477  11530  11545  11546M 11547  11557U 11561  11703U 11711M 11711
             11712  11741  11756  11757M 11758  11768U 11772  11828U 11836M 11836  11837  11866  11881  11882M 11883
             11893U 11897  12182U 12190M 12190  12191  12221  12236  12237M 12238  12248U 12252  12388U 12396M 12396
             12397  12452  12467  12468M 12469  12479U 12488  13366U 13374M 13374  13375  13420  13435  13436M 13437
             13438  13577M 13577  13578  13609  13624  13625M 13626  13627  13854M 13854  13855  13887  13902  13903M
             13904  13905  14007M 14007  14008  14037  14052  14053M 14054  14064U 14068  14755U 14763M 14763  14764
             14794  14809  14810M 14811  14812  14888M 14888  14889  14919  14934  14935M 14936  14937  14947M 14947
             14948  14983  14998  14999M 15000  15010U 15014  15139U 15147M 15147  15148
    13(D)      939U  2434   2434   2449   2450   2465M  2574U  2650M  2658U  2683   2683   2698   2699   2714M  2893U
              2969M  2977U  3003   3003   3018   3019   3034M  3253U  3428M  3436U  3465   3465   3480   3481   3496M
              3636U  3712M  3720U  3746   3746   3761   3762   3777M  3921U  3997M  4005U  4041   4041   4056   4057
              4072M  4199M  4229   4229   4244   4245   4260M  4434U  4615M  4623U  4652   4652   4667   4668   4683M
              4869U  5044M  5052U  5077   5077   5092   5093   5108M  5220M  5249   5249   5264   5265   5280M  5589U
              5688U  5691U  5804U  5807U  6084U  6087U  6237U  6240U  6394U  6397U  6467U  6470U  6617U  6620U  6666M
              6674U  6701   6701   6716   6717   6732M  6983U  7082U  7085U  7248U  7251U  7567U  7570U  7719U  7722U
              7876U  7879U  7949U  7952U  8099U  8102U  8148M  8156U  8210   8210   8225   8226   8241M  8506U  8605U
              8608U  8648U  8651U  8715U  8718U  8867U  8870U  8972U  8975U  9122U  9125U  9171M  9179U  9220   9220
              9235   9236   9251M  9517U  9663U  9666U  9817U  9820U  9939U  9942U 10044U 10047U 10091M 10099U 10390
             10390  10405  10406  10421M 10648U 10794U 10797U 10909U 10912U 10956M 10964U 11010  11010  11025  11026
             11041M 11090U 11307U 11310U 11476M 11484U 11530  11530  11545  11546  11561M 11711M 11741  11741  11756
             11757  11772M 11836M 11866  11866  11881  11882  11897M 11956U 12190M 12198U 12221  12221  12236  12237
             12252M 12396M 12452  12452  12467  12468  12488M 13019U 13374M 13382U 13420  13420  13435  13436  13438M
             13523U 13577M 13585U 13609  13609  13624  13625  13627M 13713U 13752U 13755U 13854M 13862U 13887  13887
             13902  13903  13905M 14007M 14037  14037  14052  14053  14068M 14160U 14188U 14191U 14619U 14622U 14708U
1         (VIRT00) (09:47) (22MAR04) General Purpose Register Cross Reference                                               Page  123
             14711U 14763M 14771U 14794  14794  14809  14810  14812M 14888M 14919  14919  14934  14935  14937M 14947M
             14983  14983  14998  14999  15014M 15147M
    14(E)      935U  2434   2599M  2650M  2652B  2683   2918M  2969M  2971B  3003   3278M  3364M  3428M  3430B  3465
              3568M  3570   3571M  3582   3661M  3712M  3714B  3746   3849M  3850   3851M  3852M  3853M  3864   3946M
              3997M  3999B  4041   4199M  4201B  4229   4459M  4558M  4615M  4617B  4652   4894M  4980M  5044M  5046B
              5077   5220M  5222B  5249   5547M  5604M  5708M  5848M  5871M  5913M  5936M  5969M  6015M  6038M  6201M
              6279M  6299M  6408M  6435M  6489M  6575M  6635M  6666M  6668B  6701   6941M  6998M  7102M  7260M  7351M
              7374M  7389M  7411M  7498M  7521M  7684M  7761M  7781M  7890M  7917M  7971M  8057M  8117M  8148M  8150B
              8210   8464M  8521M  8625M  8662M  8701M  8832M  8909M  8929M  8994M  9080M  9140M  9171M  9173B  9220
              9475M  9532M  9677M  9711M  9765M  9788M  9850M  9870M  9895M  9961M 10002M 10062M 10091M 10093B 10226M
             10228  10345M 10349  10390  10606M 10663M 10808M 10867M 10927M 10956M 10958B 11010  11120M 11175M 11335M
             11395M 11476M 11478B 11530  11711M 11713B 11741  11836M 11838B 11866  11986M 12041M 12190M 12192B 12221
             12396M 12398B 12452  12515M 12608M 12617M 12690M 13030M 13042M 13071M 13135M 13151M 13211M 13219M 13275M
             13283M 13330M 13338M 13374M 13376B 13420  13544M 13557M 13577M 13579B 13609  13731M 13781M 13826M 13854M
             13856B 13887  14007M 14009B 14037  14175M 14210M 14633M 14654M 14673M 14693M 14726M 14733M 14763M 14765B
             14794  14888M 14890B 14919  14947M 14949B 14983  15147M 15149B
    15(F)      931U  2434   2435   2598M  2599B  2650M  2683   2684   2917M  2918B  2969M  3003   3004   3277M  3278B
              3363M  3364B  3428M  3465   3466   3569M  3570M  3572M  3582   3660M  3661B  3712M  3746   3747   3849M
              3850M  3851   3854M  3864   3945M  3946B  3997M  4041   4042   4199M  4229   4230   4458M  4459B  4557M
              4558B  4615M  4652   4653   4893M  4894B  4979M  4980B  5044M  5077   5078   5220M  5249   5250   5546M
              5547B  5603M  5604B  5707M  5708B  5847M  5848B  5870M  5871B  5912M  5913B  5935M  5936B  5968M  5969B
              6014M  6015B  6037M  6038B  6200M  6201B  6278M  6279B  6298M  6299B  6407M  6408B  6434M  6435B  6488M
              6489B  6574M  6575B  6634M  6635B  6666M  6701   6702   6940M  6941B  6997M  6998B  7101M  7102B  7259M
              7260B  7350M  7351B  7373M  7374B  7388M  7389B  7410M  7411B  7497M  7498B  7520M  7521B  7683M  7684B
              7760M  7761B  7780M  7781B  7889M  7890B  7916M  7917B  7970M  7971B  8056M  8057B  8116M  8117B  8148M
              8210   8211   8463M  8464B  8520M  8521B  8624M  8625B  8661M  8662B  8700M  8701B  8831M  8832B  8908M
              8909B  8928M  8929B  8993M  8994B  9079M  9080B  9139M  9140B  9171M  9220   9221   9474M  9475B  9531M
              9532B  9676M  9677B  9710M  9711B  9764M  9765B  9787M  9788B  9849M  9850B  9869M  9870B  9894M  9895B
              9960M  9961B 10001M 10002B 10061M 10062B 10091M 10177M 10178M 10179M 10182  10184M 10185N 10189N 10228
             10346M 10349  10390  10391  10605M 10606B 10662M 10663B 10807M 10808B 10866M 10867B 10926M 10927B 10956M
             11010  11011  11119M 11120B 11174M 11175B 11212  11213M 11214M 11215M 11216M 11216  11217M 11217  11334M
             11335B 11394M 11395B 11476M 11530  11531  11626  11627M 11628M 11629M 11630M 11630  11631M 11631  11711M
             11741  11742  11836M 11866  11867  11985M 11986B 12040M 12041B 12081  12082M 12083M 12084M 12085M 12085
             12086M 12086  12190M 12221  12222  12396M 12452  12453  12522M 12615M 12617M 12697M 13029M 13030B 13041M
             13042B 13070M 13071B 13081M 13093  13104M 13134M 13135B 13150M 13151B 13158D 13160M 13160  13161M 13162U
             13163M 13195  13210M 13211B 13218M 13219B 13225D 13227M 13227  13228M 13229U 13230M 13259  13274M 13275B
             13282M 13283B 13289D 13291M 13291  13292M 13293U 13294M 13306  13329M 13330B 13337M 13338B 13374M 13420
             13421  13543M 13544B 13556M 13557B 13577M 13609  13610  13730M 13731B 13780M 13781B 13825M 13826B 13854M
             13887  13888  14007M 14037  14038  14174M 14175B 14209M 14210B 14632M 14633B 14653M 14654B 14672M 14673B
             14692M 14693B 14725M 14726B 14732M 14733B 14763M 14794  14795  14888M 14919  14920  14947M 14983  14984
             15147M

1VIRTMEM  (VIRT00) (09:47) (22MAR04) Diagnostic Cross Reference and Assembler Summary                                       Page  124
-                                                                                            HLASM R4.0  2004/03/22 09.47
0     No Statements Flagged in this Assembly
 HIGH LEVEL ASSEMBLER, 5696-234, RELEASE 4.0, PTF UQ57391
0SYSTEM: OS/390 02.10.00            JOBNAME: PJG#VIRT    STEPNAME: ASM        PROCSTEP: (NOPROC)
0Datasets Allocated for this Assembly
  Con DDname   Dataset Name                                 Volume  Member
   P1 SYSIN    SYS04082.T094753.RA000.PJG#VIRT.INPUT.H01    SCR100
   L1 SYSLIB   SYS3.DUMMYMAC                                SYSB02
   L2          WYL.GG.ORV.MACLIB                            SYSB02
   L3          WYL.GG.SYS.MACLIB                            SYSB05
      SYSLIN   WYL.GG.PJG.OBJ                               SYSB05  VIRTMEM
      SYSPRINT SYS04082.T094753.RA000.PJG#VIRT.PRINT.H01    SCR100
      SYSTERM  GG$PJG.PJG#VIRT.JOB05985.D0000103.?

    7812K allocated to Buffer Pool,         2045K would be required for this to be an In-Storage Assembly
    2784 Primary Input Records Read         4498 Library Records Read                  0 Work File Reads
       0 ASMAOPT Records Read               9134 Primary Print Records Written         0 Work File Writes
     219 Punch Records Written                 0 ADATA Records Written
0Assembly Start Time: 09.47.55 Stop Time: 09.48.02 Processor Time: 00.00.03.0587
 Return Code 000
