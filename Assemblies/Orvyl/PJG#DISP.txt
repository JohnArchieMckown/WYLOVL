1                        J E S 2  J O B  L O G  --  S Y S T E M  S Y S B  --  N O D E  R L G
0
 09.38.27 JOB05929 ---- MONDAY,    22 MAR 2004 ----
 09.38.27 JOB05929  ICH70001I GG$PJG   LAST ACCESS AT 09:38:21 ON MONDAY, MARCH 22, 2004
 09.38.27 JOB05929  $HASP373 PJG#DISP STARTED - INIT 2    - CLASS E - SYS SYSB
 09.38.27 JOB05929  ***  HCMD      STEP $$QUIET
 09.38.27 JOB05929  PURGE * Q=OUTPUT MULTIPLE
 09.38.27 JOB05929  JOB PJG#DISP NOT IN OUTPUT QUEUE
 09.38.28 JOB05929  PJG#DISP.$$QUIET .         RC=0008 TapeIO=0000 DiskIO=0000 CPU=  .01s Elapsed=07.25s
 09.38.28 JOB05929  PJG#DISP.$CND    .         RC=Zero TapeIO=0000 DiskIO=0002 CPU=  .01s Elapsed=08.30s
 09.38.28 JOB05929  PJG#DISP.$UNP    .         RC=Zero TapeIO=0000 DiskIO=0100 CPU=  .08s Elapsed=08.42s
 09.38.42 JOB05929  PJG#DISP.ASM     .         RC=Zero TapeIO=0000 DiskIO=0857 CPU= 7.74s Elapsed=08.83s
 09.38.46 JOB05929  PJG#DISP.$EDIT   .         RC=Zero TapeIO=0000 DiskIO=0488 CPU= 1.89s Elapsed=22.45s
 09.38.46 JOB05929  PJG#DISP Ended.  Name=Module: DISPATCH               Total CPU= 9.73s Elapsed=07.25s
 09.38.46 JOB05929
 09.38.46 JOB05929  Execution charges   Priority=Standard   Block=Day
 09.38.46 JOB05929
 09.38.46 JOB05929  CPU Usage         180.37         $111.82   Standard Processing Unit Equivalent
 09.38.46 JOB05929                                   =======
 09.38.46 JOB05929                                   $111.82   Total Job execution charge
 09.38.46 JOB05929
 09.38.46 JOB05929  See back separator page for print charges
 09.38.46 JOB05929
 09.38.46 JOB05929  $HASP395 PJG#DISP ENDED  ASM=0
1        1 //PJG#DISP JOB PJG$GG,'Module: DISPATCH',TIME=1,MSGCLASS=C              JOB05929
           /*JOBPARM HOLD=OUTPUT,LINES=50,CHARS=TN15,NOTIFY=YES
         2 //       EXEC PURGEOLD
         3 XXPURGEOLD PROC
           XX*
           XX* This proc is maintained by Jim Stosick
           XX*
         4 XX$$QUIET  EXEC PGM=HCMDX,PARM='PURGE * Q=OUTPUT MULTIPLE',
           XX         ACCT=(PURGEOLD,SYS3)
         5 //$CND   EXEC PGM=BILBO,REGION=512K,PARM='RECS=100'
         6 //STEPLIB  DD DSN=WYL.GG.ORV.LINKLIB,DISP=SHR
         7 //SYSPRINT DD SYSOUT=$
         8 //SYSUT1   DD DSN=WYL.GG.PJG.OBJ,DISP=OLD
         9 //SYSUT2   DD DSN=WYL.GG.PJG.OBJ,DISP=OLD
        10 //SYSIN    DD DUMMY
        11 //$UNP   EXEC PGM=WUNPRESS,PARM='NUM'
        12 //SYSPRINT DD SYSOUT=$
        13 //SYSUT1   DD DSN=WYL.GG.ORV.SOURCE(DISPATCH),DISP=SHR
        14 //SYSUT2   DD DSN=&&INPUT,DISP=(,PASS),UNIT=SYSDA,
           //            SPACE=(TRK,(25,25),RLSE),DCB=CARD
        15 //ASM    EXEC PGM=ASMA90,REGION=8M,COND=(0,NE,$UNP),
           //            PARM=('SYSPARM(DISPATCH),TERM,LANG(EN),OBJ',
           //          'LC(32500),XREF(SHORT),NODECK,NORLD,NODX,NOUS')
           //*STEPLIB  DD DSN=SYS1.SASMMOD1,DISP=SHR
        16 //SYSLIB   DD DSN=SYS3.DUMMYMAC,DISP=SHR,DCB=BLKSIZE=27920
        17 //         DD DSN=WYL.GG.ORV.MACLIB,DISP=SHR
        18 //         DD DSN=WYL.GG.SYS.MACLIB,DISP=SHR
        19 //SYSUT1   DD DSN=&&SYSUT1,UNIT=VIO,DISP=(,DELETE),
           //            SPACE=(4088,(500,250),,CONTIG,ROUND)
        20 //SYSTERM  DD SYSOUT=$
        21 //SYSPRINT DD DSN=&&PRINT,UNIT=SYSDA,DISP=(,PASS),
           //            SPACE=(6650,(250,250),RLSE),
           //            DCB=(BLKSIZE=6650,LRECL=133,RECFM=FB)
        22 //SYSLIN   DD DSN=WYL.GG.PJG.OBJ(DISPATCH),DISP=OLD
        23 //SYSUDUMP DD SYSOUT=A
        24 //SYSIN    DD DSN=&&INPUT,DISP=(OLD,DELETE)
        25 //$EDIT  EXEC PGM=ASMEDIT,REGION=1M,
           //            COND=EVEN,PARM='STMT,DATA'
        26 //STEPLIB  DD DSN=WYL.GG.SYS.LINKLIB,DISP=SHR
        27 //ASMOUT   DD DSN=&&PRINT,DISP=(OLD,DELETE)
        28 //SYSPRINT DD SYSOUT=A
        29 //SYSUDUMP DD SYSOUT=A
1 STMT NO. MESSAGE
         2 IEFC001I PROCEDURE PURGEOLD WAS EXPANDED USING SYSTEM LIBRARY SYS3.BETAPROC
        14 IGD01010I STORCLAS= TEMP STORGROUP =
        14 IGD01010I STORGRP=VIO ASSIGNED.
        19 IGD01010I STORCLAS= TEMP STORGROUP =
        19 IGD01010I STORGRP=VIO ASSIGNED.
        21 IGD01010I STORCLAS= TEMP STORGROUP =
        21 IGD01010I STORGRP=VIO ASSIGNED.
 ICH70001I GG$PJG   LAST ACCESS AT 09:38:21 ON MONDAY, MARCH 22, 2004
 IEF142I PJG#DISP $$QUIET - STEP WAS EXECUTED - COND CODE 0008
 *********************************************************************************
 *   PJG#DISP/$$QUIET /                    Return Code      0008                 *
 *   Region used      260K (16K user + 244K system)                              *
 *   Extended region  9352K (4K user + 9348K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.01          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:49:25.71          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          0.18         $0.11  Standard Processing Unit Equivalent  *
 *                                   $0.11  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *                         *** No I/O for this step ***                          *
 *********************************************************************************
 IEF373I STEP/$$QUIET /START 2004082.0938
 IEF374I STEP/$$QUIET /STOP  2004082.0938 CPU    0MIN 00.01SEC SRB    0MIN 00.00SEC VIRT    16K SYS   244K EXT       4K SYS    9348K
 IEF236I ALLOC. FOR PJG#DISP $CND
 IEF237I 0401 ALLOCATED TO STEPLIB
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I 04DC ALLOCATED TO SYSUT1
 IEF237I 04DC ALLOCATED TO SYSUT2
 IEF237I DMY  ALLOCATED TO SYSIN
 IEF142I PJG#DISP $CND - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   WYL.GG.ORV.LINKLIB                           KEPT
 IEF285I   VOL SER NOS= SYSB01.
 IEF285I   GG$PJG.PJG#DISP.JOB05929.D0000101.?          SYSOUT
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 *********************************************************************************
 *   PJG#DISP/$CND    /                    Return Code      Zero                 *
 *   Region used      280K (16K user + 264K system)                              *
 *   Extended region  9392K (4K user + 9388K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.01          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:49:24.66          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          0.18         $0.11  Standard Processing Unit Equivalent  *
 *                                   $0.11  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            2  STEPLIB  Disk 0401                   0  SYSPRINT      ----      *
 *            0  SYSUT1   Disk 04DC                   0  SYSUT2   Disk 04DC      *
 *            0  SYSIN         ----                                              *
 *********************************************************************************
 IEF373I STEP/$CND    /START 2004082.0938
 IEF374I STEP/$CND    /STOP  2004082.0938 CPU    0MIN 00.01SEC SRB    0MIN 00.00SEC VIRT    16K SYS   264K EXT       4K SYS    9388K
 IEF236I ALLOC. FOR PJG#DISP $UNP
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I 0402 ALLOCATED TO SYSUT1
 IGD101I SMS ALLOCATED TO DDNAME (SYSUT2  )
         DSN (SYS04082.T093827.RA000.PJG#DISP.INPUT.H01   )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= SCR101
 IEF142I PJG#DISP $UNP - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   GG$PJG.PJG#DISP.JOB05929.D0000102.?          SYSOUT
 IEF285I   WYL.GG.ORV.SOURCE                            KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IGD106I SYS04082.T093827.RA000.PJG#DISP.INPUT.H01    PASSED,    DDNAME=SYSUT2
 *********************************************************************************
 *   PJG#DISP/$UNP    /                    Return Code      Zero                 *
 *   Region used      380K (108K user + 272K system)                             *
 *   Extended region  9468K (4K user + 9464K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.08          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:49:24.54          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          1.50         $0.93  Standard Processing Unit Equivalent  *
 *                                   $0.93  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            0  SYSPRINT      ----                   9  SYSUT1   Disk 0402      *
 *           91  SYSUT2   Disk 04E3                                              *
 *********************************************************************************
 IEF373I STEP/$UNP    /START 2004082.0938
 IEF374I STEP/$UNP    /STOP  2004082.0938 CPU    0MIN 00.08SEC SRB    0MIN 00.00SEC VIRT   108K SYS   272K EXT       4K SYS    9464K
 IEF236I ALLOC. FOR PJG#DISP ASM
 IEF237I 0402 ALLOCATED TO SYSLIB
 IEF237I 0402 ALLOCATED TO
 IEF237I 04DC ALLOCATED TO
 IGD101I SMS ALLOCATED TO DDNAME (SYSUT1  )
         DSN (SYS04082.T093827.RA000.PJG#DISP.SYSUT1.H01  )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= VIO
 IEF237I JES2 ALLOCATED TO SYSTERM
 IGD101I SMS ALLOCATED TO DDNAME (SYSPRINT)
         DSN (SYS04082.T093827.RA000.PJG#DISP.PRINT.H01   )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= SCR101
 IEF237I 04DC ALLOCATED TO SYSLIN
 IEF237I JES2 ALLOCATED TO SYSUDUMP
 IGD103I SMS ALLOCATED TO DDNAME SYSIN
 IEF142I PJG#DISP ASM - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   SYS3.DUMMYMAC                                KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IEF285I   WYL.GG.ORV.MACLIB                            KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IEF285I   WYL.GG.SYS.MACLIB                            KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IGD105I SYS04082.T093827.RA000.PJG#DISP.SYSUT1.H01   DELETED,   DDNAME=SYSUT1
 IEF285I   GG$PJG.PJG#DISP.JOB05929.D0000103.?          SYSOUT
 IGD106I SYS04082.T093827.RA000.PJG#DISP.PRINT.H01    PASSED,    DDNAME=SYSPRINT
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IEF285I   GG$PJG.PJG#DISP.JOB05929.D0000104.?          SYSOUT
 IGD105I SYS04082.T093827.RA000.PJG#DISP.INPUT.H01    DELETED,   DDNAME=SYSIN
 *********************************************************************************
 *   PJG#DISP/ASM     /                    Return Code      Zero                 *
 *   Region used      8476K (8192K user + 284K system)                           *
 *   Extended region  9952K (412K user + 9540K system)                           *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:07.68          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.06          *
 *   VIO                  0        0       Elapsed time    920:49:24.13          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage        144.00        $89.28  Standard Processing Unit Equivalent  *
 *                                  $89.28  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *          108  SYSLIB   Disk 0402                   0  SYSLIB   Disk 0402      *
 *          156  SYSLIB   Disk 04DC                   0  SYSUT1   VIO  ----      *
 *            0  SYSTERM       ----                 485  SYSPRINT Disk 04E3      *
 *           16  SYSLIN   Disk 04DC                   0  SYSUDUMP      ----      *
 *           92  SYSIN    Disk 04E3                                              *
 *********************************************************************************
 IEF373I STEP/ASM     /START 2004082.0938
 IEF374I STEP/ASM     /STOP  2004082.0938 CPU    0MIN 07.68SEC SRB    0MIN 00.06SEC VIRT  8192K SYS   284K EXT     412K SYS    9540K
 IEF236I ALLOC. FOR PJG#DISP $EDIT
 IEF237I 0402 ALLOCATED TO STEPLIB
 IGD103I SMS ALLOCATED TO DDNAME ASMOUT
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I JES2 ALLOCATED TO SYSUDUMP
 IEF142I PJG#DISP $EDIT - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   WYL.GG.SYS.LINKLIB                           KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IGD105I SYS04082.T093827.RA000.PJG#DISP.PRINT.H01    DELETED,   DDNAME=ASMOUT
 IEF285I   GG$PJG.PJG#DISP.JOB05929.D0000105.?          SYSOUT
 IEF285I   GG$PJG.PJG#DISP.JOB05929.D0000106.?          SYSOUT
 *********************************************************************************
 *   PJG#DISP/$EDIT   /                    Return Code      Zero                 *
 *   Region used      388K (116K user + 272K system)                             *
 *   Extended region  9468K (4K user + 9464K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:01.84          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.05          *
 *   VIO                  0        0       Elapsed time    920:49:10.51          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage         34.50        $21.39  Standard Processing Unit Equivalent  *
 *                                  $21.39  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            2  STEPLIB  Disk 0402                 486  ASMOUT   Disk 04E3      *
 *            0  SYSPRINT      ----                   0  SYSUDUMP      ----      *
 *********************************************************************************
 IEF373I STEP/$EDIT   /START 2004082.0938
 IEF374I STEP/$EDIT   /STOP  2004082.0938 CPU    0MIN 01.84SEC SRB    0MIN 00.05SEC VIRT   116K SYS   272K EXT       4K SYS    9464K
 *********************************************************************************
 *                                                                               *
 *                      S t a n f o r d   U n i v e r s i t y                    *
 *                                                                               *
 *                              *** Job Summary ***                              *
 *                                                                               *
 *   System Id      SYSB                   Input time     09:38:16  Mar 22, 2004 *
 *                                                                               *
 *   System Release SP6.1.0                Start time     09:38:27  Mar 22, 2004 *
 *                                                                               *
 *   Job name       PJG#DISP               Stop  time     00:00:00  Mar 22, 2004 *
 *                                                                               *
 *   Account        PJG$GG                 Elapsed time  920:49:25.71            *
 *                                                                               *
 *   User Name      Module: DISPATCH       CPU time       00:00:09.62            *
 *                                                                               *
 *   Job class      E                      SRB Time       00:00:00.11            *
 *                                                                               *
 *********************************************************************************
 IEF375I  JOB/PJG#DISP/START 2004082.0938
 IEF376I  JOB/PJG#DISP/STOP  2004082.0938 CPU    0MIN 09.62SEC SRB    0MIN 00.11SEC
1Data set successfully converted from EDIT to FB format
1Assembler Done DISPATCH No Statements Flagged
1         High Level Assembler Option Summary                   (PTF UQ57391)                                               Page    1
-                                                                                            HLASM R4.0  2004/03/22 09.38
0  No Overriding ASMAOPT Parameters
   Overriding Parameters-  SYSPARM(DISPATCH),TERM,LANG(EN),OBJ,LC(32500),XREF(SHORT),NODECK,NORLD,NODX,NOUS
   No Process Statements


   Options for this Assembly
0  NOADATA
     ALIGN
   NOASA
     BATCH
     CODEPAGE(047C)
   NOCOMPAT
   NODBCS
 3 NODECK
 3 NODXREF
     ESD
   NOEXIT
     FLAG(0,ALIGN,CONT,NOIMPLEN,NOPAGE0,PUSH,RECORD,NOSUBSTR,USING0)
   NOFOLD
   NOGOFF
   NOINFO
 3   LANGUAGE(EN)
   NOLIBMAC
 3   LINECOUNT(32500)
     LIST(121)
     MXREF(SOURCE)
 3   OBJECT
     OPTABLE(UNI,NOLIST)
   NOPCONTROL
   NOPESTOP
   NOPROFILE
   NORA2
   NORENT
 3 NORLD
     RXREF
     SIZE(MAX)
 3   SYSPARM(DISPATCH)
 3   TERM(WIDE)
   NOTEST
     THREAD
   NOTRANSLATE
 3 NOUSING
 3   XREF(SHORT)

   No Overriding DD Names

1DISPATCH External Symbol Dictionary                                                                                        Page    2
-Symbol   Type   Id     Address  Length     LD ID  Flags Alias-of                            HLASM R4.0  2004/03/22 09.38
0DISPATCH  SD 00000001 00000000 00005F38             06
 DISP00    LD          00000000           00000001
 ASDISP1   LD          00000016           00000001
 TKDISP1   LD          0000031E           00000001
 ACTASDB1  LD          000004F6           00000001
 ISMASDB1  LD          000005DC           00000001
 ACTTDB1   LD          0000064A           00000001
 DISMTDB1  LD          000006DE           00000001
 SYSTDBS1  LD          0000074A           00000001
 SIGNALAS  ER 00000002
 LKOB      ER 00000003
 LKREL     ER 00000004
 ASLOCK    LD          0000087E           00000001
 ASULOCK   LD          000008F8           00000001
 CPLOCK    LD          0000097A           00000001
 CPULOCK   LD          000009B0           00000001
 ASWAKE1   LD          00000A1A           00000001
 UPDPRIO1  LD          00000C36           00000001
 IDLE1     LD          00000D58           00000001
 SUSPEND   LD          00000DF2           00000001
 DISPRD    LD          00000EC2           00000001
 DISPSHLD  LD          00001032           00000001
 DISPSREL  LD          00001072           00000001
 ASSYSTSK  LD          0000115A           00000001
 RESUMAS   LD          0000119A           00000001
 RESUMTS   LD          00001298           00000001
 PAGSWADV  ER 00000005
 PFLT1     LD          00001C94           00000001
 ERROUTE1  LD          00001E0A           00000001
 PIROUTE1  LD          00001E9E           00000001
 VCROUTE1  LD          00001F2A           00000001
 ONROUTE1  LD          00001FB2           00000001
 CPUTIMR1  LD          00002046           00000001
 RTCLOCK1  LD          000021B6           00000001
 IOSINTER  ER 00000006
 PAGFAULT  ER 00000007
 PAGWSMAN  ER 00000008
 RTSET     LD          000023E0           00000001
 RTCHK     LD          000024EC           00000001
 RTCAN     LD          0000258A           00000001
 RTSYSR1   LD          0000268C           00000001
 RTTERM1   LD          0000270C           00000001
 CPSET     LD          000027AA           00000001
 CPCHK     LD          00002882           00000001
 CPCAN     LD          00002906           00000001
 CPTIMER1  LD          000029CA           00000001
 VMGET     ER 00000009
 ACREATE   LD          00002ABC           00000001
 ASCRE21   LD          00002C16           00000001
 ASEXIT    LD          00002DC4           00000001
 LTDISP1   LD          0000307A           00000001
 DEMOTE1   LD          00003244           00000001
 DISPSIOC  LD          000033F6           00000001
 DISPPIOC  LD          000034C8           00000001
 PAGASC1   ER 0000000A
1DISPATCH External Symbol Dictionary                                                                                        Page    3
 ASMGBLIN  ER 0000000B
 VMCRAS1   ER 0000000C
 ASMLCLIN  ER 0000000D
 ASMTASK   ER 0000000E
 M1GOWAIT  ER 0000000F
 PAGAST1   ER 00000010
 ASMLCLX   ER 00000011
 PAGAST2   ER 00000012
 PAGISWAP  ER 00000013
 PAGOSWAP  ER 00000014
 NEWASDB1  LD          00003724           00000001
 DELASDB1  LD          000037D4           00000001
 NEWGTDB1  LD          00003864           00000001
 DELGTDB1  LD          00003914           00000001
 NEWASB1   LD          000039A4           00000001
 DELASB1   LD          00003A54           00000001
 NEWRTCQ1  LD          00003AE4           00000001
 DELRTCQ1  LD          00003B94           00000001
 GGSTK1    LD          00003C24           00000001
 FGSTK1    LD          00003CDA           00000001
 PQADD1    LD          00003D9E           00000001
 PQDEL1    LD          00003E0C           00000001
 PQREQ1    LD          00003EB6           00000001
 PQHIGH1   LD          00003F24           00000001
 PQLOW1    LD          00003F92           00000001
 PQPRIO1   LD          00004002           00000001
 PQHPFN1   LD          00004056           00000001
 TSKADD1   LD          0000411A           00000001
 TSKREQ1   LD          000041B0           00000001
 EXRADD    LD          0000425E           00000001
 EXRDEL    LD          00004322           00000001
 EXRDELA   LD          000043C0           00000001
 EXRFENCE  LD          00004430           00000001
 EXRFDOWN  LD          00004470           00000001
 XITNEW    LD          000044BE           00000001
 XITDEL    LD          00004544           00000001
 XITDO     LD          000045EA           00000001
 XITGST    LD          00004730           00000001
 XITPST    LD          00004772           00000001
 XITFPR    LD          000047B4           00000001
 XITMASK   LD          0000483E           00000001
 XITRMPLC  LD          000048C8           00000001
 EXRDONE   LD          00004930           00000001
 EXSCHED1  LD          00004AB4           00000001
 VMFREE    ER 00000015
 TCREATE   LD          00004CBE           00000001
 TEXIT     LD          00004E04           00000001
 TREMOVE   LD          00004F88           00000001
 CLEANUP1  LD          000050E4           00000001
 SYSRNEW   LD          0000520A           00000001
 SYSRDEL   LD          00005284           00000001
 SYSRDO    LD          000052EC           00000001
 STKNEW1   LD          00005394           00000001
 STKDEL1   LD          0000544A           00000001
 PAGSFIX   ER 00000016
 PAGUSFIX  ER 00000017
 DISPCPTA  LD          0000553A           00000001
 DSPSTAT   LD          00005570           00000001
 TCPUTIME  LD          0000562C           00000001
1DISPATCH External Symbol Dictionary                                                                                        Page    4
 ACPUTIME  LD          00005672           00000001
 PERSET    LD          000056E6           00000001
 MONSET    LD          00005722           00000001
 DISPPTLB  LD          00005762           00000001
 RDPARMS1  LD          000057CC           00000001
 DISPINIT  LD          0000598C           00000001
 NITDIS11  LD          00005A0A           00000001
 NITDIS21  LD          00005D30           00000001
 INITDIS3  LD          00005DBE           00000001
 VMINIT1   ER 00000018
 LKINIT    ER 00000019
 IOSINIT   ER 0000001A
 PAGINIT   ER 0000001B
 VMINIT2   ER 0000001C
 SYSTASK   ER 0000001D
 LKCRE     ER 0000001E
 TRCD1     LD          00005EE8           00000001

1DISPATCH Orvyl Dispatcher and Supervisor                                                                                   Page    5
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement                    (Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                      2       2.              COPY  HEADER
                                       3             =*********************************************************************
                                       4             =*                                                                   *
                                       5             =*                                                                   *
                                       6             =*                          M P - O R V Y L                          *
                                       7             =*                                                                   *
                                       8             =*       ORVYL - Release 5.0 - Class I - Stanford Proprietary        *
                                       9             =*                                                                   *
                                      10             =*                                                                   *
                                      11             =*********************************************************************
-
-                                     13             =         SPLEVEL SET=2
                                      16             =         HIBAL ASSOC=YES
-
                                     998             =*
                                     999             =* REGISTER CONVENTIONS (USE ONLY THE SYMBOLS)
                                    1000             =*
                                    1001             =*                     CLASS  USAGE
                                    1002             =*                     -----  -----------------------------
                                    1003             =RVR      REG   0        1    RETURN VALUE REGISTER
                                    1015             =RS       REG   1        *    SCRATCH
                                    1027             =RA       REG   2        *    SCRATCH
                                    1039             =RB       REG   3        *    SCRATCH
                                    1051             =RJ       REG   4        *    SCRATCH
                                    1063             =RK       REG   5        *    SCRATCH
                                    1075             =RX       REG   6        *    SCRATCH
                                    1087             =RY       REG   7        *    SCRATCH
                                    1099             =RM       REG   8        *    SCRATCH
                                    1111             =RN       REG   9        *    SCRATCH (In Guest)
                                    1123             =RTCBR    REG   9        -    POINTER TO THE RTCB (In Host)
                                    1135             =BR       REG   10       -    FIRST BASE REGISTER
                                    1147             =BRR      REG   11       -    SECOND BASE REGISTER
                                    1159             =WAR      REG   12       -    WORK AREA POINTER
                                    1171             =SPR      REG   13       -    STACK TOP POINTER
                                    1183             =RAR      REG   14       1    RETURN ADDRESS REGISTER
                                    1195             =EPAR     REG   15       1    ENTRY POINT ADDRESS
                                    1207             =*
                                    1208             =*      CLASS   MEANING
                                    1209             =*      -----   --------------------------------------------------
                                    1210             =*        *     Register may be freely used for scratch
                                    1211             =*        -     Register may not be used
                                    1212             =*        1     Available but may change on subroutine calls
                                    1213             =*
1DISPATCH Orvyl Dispatcher and Supervisor                                                                                   Page    6
0D-Loc  Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+_____  ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 05F38  1216       4.     DISPATCH MODULE TRCNUM=1
                                    1226             +*
                                    1227    02-IDENT +         ENTRY DISP00
                                    1228             +
 000000 14C4C9E2D7F0F06B            1229    02-IDENT +DISP00   DC    AL1(20),C'DISP00,22MAR04,09:38'
                                    1230             +*
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page    7
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1233       6.              COPY  PZERO
 000000                00000 00280  1234             =PZERO    RECORD BEGIN
                                    1242  1          =*
                                    1243  1          =* Real Page 0.  Each CPU has its own copy of this area.
                                    1244  1          =*
-                                   1246  1          =****************************************************************
                                    1247  1          =*               Fields Fixed by the Architecture               *
                                    1248  1          =*               ********************************               *
                                    1249  1          =*                                                              *
 000000                             1250  1          =PZRSNPSW   DS    D             Restart new PSW                 *
 000008                             1251  1          =PZRSOPSW   DS    D             Restart old PSW                 *
 000010                             1252  1          =           DS    D                                             *
 000018                             1253  1          =PZEXOPSW   DS    D             External old PSW                *
 000020                             1254  1          =PZSVOPSW   DS    D             Supervisor old PSW              *
 000028                             1255  1          =PZPIOPSW   DS    D             Program old PSW                 *
 000030                             1256  1          =PZMCOPSW   DS    D             Machine check old PSW           *
 000038                             1257  1          =PZIOOPSW   DS    D             I/O old PSW                     *
 000040                             1258  1          =           DS    3D                                            *
 000058                             1259  1          =PZEXNPSW   DS    D             External new PSW                *
 000060                             1260  1          =PZSVNPSW   DS    D             Supervisor new PSW              *
 000068                             1261  1          =PZPINPSW   DS    D             Program new PSW                 *
 000070                             1262  1          =PZMCNPSW   DS    D             Machine check new PSW           *
 000078                             1263  1          =PZIONPSW   DS    D             I/O new PSW                     *
 000080                             1264  1          =           DS    F                                             *
 000084                             1265  1          =PZEXCPU    DS    H             CPU address for EXT int         *
 000086                             1266  1          =PZEXIC     DS    H             External interrupt code         *
 000088                             1267  1          =PZSVILC    DS    H             Supervisor call ILC             *
 00008A                             1268  1          =PZSVIC     DS    H             Supervisor interrupt code       *
 00008C                             1269  1          =PZPIILC    DS    H             Program ILC                     *
 00008E                             1270  1          =PZPIIC     DS    H             Program interrupt code          *
 000090                             1271  1          =PZTREXA    DS    A             Translation exception address   *
 000094                             1272  1          =PZMONCL    DS    H             Monitor Class number            *
 000096                             1273  1          =PZPERCD    DS    H             PER code                        *
 000098                             1274  1          =PZPERA     DS    A             PER Address                     *
 00009C                             1275  1          =PZMONCD    DS    A             Monitor Code                    *
 0000A0                             1276  1          =           DS    3D                                            *
 0000B8                             1277  1          =PZIOSID    DS    A             I/O subsystem ID word           *
 0000BC                             1278  1          =PZIOPRM    DS    A             I/O Parameter                   *
 0000C0                             1279  1          =PZIOSCS    DS    A             I/O subchannel ending status    *
 0000C4                             1280  1          =           DS    A                                             *
 0000C8                             1281  1          =           DS    39D                                           *
                                    1282  1          =*                                                              *
                                    1283  1          =*            ***************************************           *
                                    1284  1          =*            End of Fields fixed by the architecture           *
                                    1285  1          =****************************************************************
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page    8
0D-Loc  Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+_____  ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1287  1          =*
                                    1288  1          =* Fields of general interest
                                    1289  1          =*
 000200                             1290  1          =PZMATP     DS    A             Address of the MAT
 000204                             1291  1          =           DS    A             ** Reserved **
 000208                             1292  1          =PZCURPID   DS    0D            Unique ID of the current process
 000208                             1293  1          =PZCURASB   DS    A             Addr of ASB for current Address space
 00020C                             1294  1          =PZCURTSK   DS    A             ID of current task in the Address space
 000210                             1295  1          =PZLCPUA    DS    A             Logical CPU address
 000214                             1296  1          =PZCPUMSK   DS    A             CPU address mask bit
 000218                             1297  1          =PZPSWM     DS    X             PSW mask for disabling
 000219                             1298  1          =           DS    X             ** Reserved **
                                    1299  1          =*
                                    1300  1          =* Termination/Trace information
                                    1301  1          =*
 00021A 00                          1302  1          =PZTERMFL   FLAG  ,             Termination flags
 PZTERMFL.PZABORT  80 ONES          1306  1          =           FLAG  PZABORT         ABORT macro issued
 PZTERMFL.PZATERM  40 ONES          1311  1          =           FLAG  PZATERM         Start termination processing
 00021B                             1316  1          =PZABSM     DS    X             Save area for system mask in ABORT
 00021C                             1317  1          =PZABR15    DS    A             Save area for R15 in an ABORT
 000220                             1318  1          =PZTZOFF    DS    D             Time zone offset
 000228                             1319  1          =           DS    22A           ** Reserved **
                                    1320  1          =*         DS    24A           ** Reserved **
 000280                00280 00280  1321             =         END   ,
 USING  PZERO,R0                    1330       7.              USING (PZERO,R0)
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page    9
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1341       9.              COPY  MAT
                                    1342             =*****************************************************************
                                    1343             =*                                                               *
                                    1344             =*        *** M A S T E R   A D D R E S S   T A B L E ***        *
                                    1345             =*                                                               *
                                    1346             =*****************************************************************
-000000                00000 00100  1348             =MAT      RECORD BEGIN
                                    1356  1          =MATPTR     EQU   X'200',4,C'A' Address of the MAT in PZERO
 000000 D4C1E340                    1357  1          =           DC    CL4'MAT'      Control block ID
                                    1358  1          =*
                                    1359  1          =* Addresses of global control blocks
                                    1360  1          =*
 000004                             1361  1          =MATVMCB    DS    A             Virtual memory control block
 000008                             1362  1          =MATDCT     DS    A             Dispatcher control table
 00000C                             1363  1          =MATPAGCB   DS    A             Real memory control block
 000010                             1364  1          =MATM1CT    DS    A             CT for Mode 1 users
 000014                             1365  1          =MATLCT     DS    A             Lock manager control table
 000018                             1366  1          =MATQCT     DS    A             Queue manager control table
 00001C                             1367  1          =MATIOCB    DS    A             I/O Manager control block
 000020                             1368  1          =MATSBWB    DS    A             System buffer wait blocks
 000024                             1369  1          =MATGTCT    DS    A             Terminal global control table
 000028                             1370  1          =MATFILCB   DS    A             File master control table
 00002C                             1371  1          =MATJESCB   DS    A             JES master control table
 000030                             1372  1          =MATSYSCB   DS    A             System task control table
 000034                             1373  1          =MATACCT    DS    A             Accounting control table
 000038                             1374  1          =MATGRCT    DS    A             General Resource control table
 00003C                             1375  1          =MATGNCT    DS    A             Global Network Control table
 000040                             1376  1          =MATTECB    DS    D             Termination wait ECB
 000048                             1377  1          =           DS    25A           Reserved
                                    1378  1          =*
                                    1379  1          =* Control Block Chains
                                    1380  1          =*
 0000AC                             1381  1          =MATASBS    DS    A             Pointer to chain of ASBs
 0000B0                             1382  1          =MATASBL    DS    A             Id of suspend lock for ASB chain
 0000B4                             1383  1          =           DS    8A            **  RESERVED
                                    1384  1          =*
                                    1385  1          =* Control information
                                    1386  1          =*
 0000D4                             1387  1          =MATSNAME   DS    CL8           System Name
 0000DC                             1388  1          =MATPAGFN   DS    A             Current value of the Paging function
 0000E0                             1389  1          =MATSKEY    DS    X             SYSTEM storage key (in high 4 bits)
 0000E1                             1390  1          =MATUKEY    DS    X             USER storage key
                                    1391= 1          =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1392= 1          =           Ÿ  Information about the Kernel  Ÿ
                                    1393= 1          =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000E4                             1394  1          =MATKSTRT   DS    A             Starting address of the Kernel
 0000E8                             1395  1          =MATKMAP    DS    A             Address of the Kernel map
 0000EC                             1396  1          =MATKMAPL   DS    A             Length of the Kernel map
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   10
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1397= 1          =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1398= 1          =           Ÿ  Failsoft information.  Ÿ
                                    1399= 1          =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000F0                             1400  1          =MATNCLPE   DS    F             Number of CLP errors
 0000F4                             1401  1          =MATNFAIL   DS    F             Number of failsofts
 0000F8                             1402  1          =           DS    2A            Reserved
 000100                00100 00100  1403             =         END
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   11
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1413      11.              COPY  ASB
 000000                00000 00044  1414             =ASB      RECORD BEGIN
 000000 C1E2C240                    1422  1          =ASBID      DC    CL4'ASB'
 000004                             1423  1          =ASBNEXT    DS    A                       Next ASB in system
                                    1424  1          =*
                                    1425  1          =*  Load Address Space Parameters area
                                    1426  1          =*
 000008                             1427  1          =ASBLASP    DS    0D                      Load Addr Space Parms
 000008                             1428  1          =ASBPKM     DS    H                       Program Key Mask
 00000A                             1429  1          =ASBSASN    DS    H                       Secondary ASN
 00000C                             1430  1          =ASBAX      DS    H                       Authorization index
 00000E                             1431  1          =ASBPASN    DS    H                       Primary ASN
                                    1432  1          =ASBLPARM   EQU   3                       LASP parameter
                                    1433  1          =
 000010                             1434  1          =ASBSASB    DS    A                       Address of secondary ASB
 000014 00                          1435  1          =ASBGCFLG   FLAG  ,
 ASBGCFLG.ASBFGBLC 80 ONES          1439  1          =           FLAG  ASBFGBLC                This is ASB for global/common
 000015                             1444  1          =           DS    3X                      - Available -
                                    1445  1          =*
                                    1446  1          =*  Related control blocks
                                    1447  1          =*
 000018                             1448  1          =ASBVSCT    DS    A                       VSCT for the Address space
 00001C                             1449  1          =ASBASDB    DS    A                       AS dispatching block
 000020                             1450  1          =ASBPAGB    DS    A                       AS paging block
 000024                             1451  1          =ASBIOB     DS    A                       AS I/O block
 000028                             1452  1          =ASBENQ     DS    A                       AS Enqueue table
 00002C                             1453  1          =ASBM1SCP   DS    A                       Mode 1 SCP
 000030                             1454  1          =ASBTCCB    DS    A                       Terminal Control block
 000034                             1455  1          =ASBAIB     DS    A                       Accouting information
 000038                             1456  1          =ASBASFB    DS    A                       File services control block
 00003C                             1457  1          =ASBMSTR    DS    A                       AS Master Control block
 000040                             1458  1          =ASBNET     DS    A                       Local Network Control Block
                                    1459  1          =*ASBLW    DS    A     ** Temp RESMAN ** Lock waiting for
                                    1460  1          =*ASBLH    DS    A     ** Temp RESMAN ** Lock held
 000044                00044 00044  1461             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   12
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1471      13.              COPY  SIGPARM
                                    1472             =*
                                    1473             =*  AWAIT/AWAITAS parameters
                                    1474             =*    For task based calls, the ECB is a double word.
                                    1475             =*    For address space based calls, the ECB is a word.
                                    1476             =*
 000000                00000 00005  1477             =@AWAIT   RECORD BEGIN
 000000                             1485  1          =@AWTECB    DS    A                       Address of ECB
 000004 00                          1486  1          =@AWTFLG    FLAG  ,
 @AWTFLG.@AWTLONG  80 ONES          1490  1          =           FLAG  @AWTLONG                Long term wait
 000005                00005 00005  1495             =         END   ,
0                                   1505             =*
                                    1506             =*  SIGNAL/SIGNALAS parameters
                                    1507             =*    For task based calls, the ECB and post code is a double word.
                                    1508             =*    For address space based calls, the ECB and post code is a word.
                                    1509             =*
 000000                00000 00014  1510             =@SIGNAL  RECORD BEGIN
 000000                             1518  1          =@SGCODE    DS    D                       Post code
 000008                             1519  1          =@SGECB     DS    A                       Address of ECB
                                    1520  1          =*  -- Parms for task signal --
                                    1521  1          =*    Zero ASB means post in this AS
                                    1522  1          =*    @PSSRID is only used for cross AS posts
 00000C                             1523  1          =@SGASB     DS    A                       ASB to be posted
 000010                             1524  1          =@SGSRID    DS    A                       System routine ID for cross
                                    1525  1          =*                                          AS posting
 000014                00014 00014  1526             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   13
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1536      15.              COPY  DISPPARM
                                    1537             =*****************************************************************
                                    1538             =*                                                               *
                                    1539             =*  DISPPARM -- Parameters for the dispatcher global routines.   *
                                    1540             =*                                                               *
                                    1541             =*****************************************************************
-                                   1543             =*
                                    1544             =* Routines to indicate completion of a page or swap I/O
                                    1545             =*
 000000                00000 00004  1546             =@DISPPIOC RECORD BEGIN                 Page I/O completion parms
 000000                             1554  1          =@DPIOASB   DS    A                       ASB of completing I/O
 000004                00004 00004  1555             =         END   ,
0000000                00000 00004  1565             =@DISPSIOC RECORD BEGIN                 Swap I/O completion parms
 000000                             1573  1          =@DSIOASB   DS    A                       ASB of completing I/O
 000004                00004 00004  1574             =         END   ,
-                                   1584             =*
                                    1585             =* SUSPEND parameters
                                    1586             =*
0000000                00000 00009  1588             =@SUSPEND RECORD BEGIN
 000000                             1596  1          =@SUSPCTL   DS    0D            ID of the Control level suspended
 000000                             1597  1          =@SUSPID    DS    A             ID of the task/address space suspended
 000004                             1598  1          =@SUSPLC    DS    A             For tasks: Level of control suspended
 000008 00                          1599  1          =@SUSPFLG   FLAG  ,
 @SUSPFLG.@SUSPLNG 80 ONES          1603  1          =           FLAG  @SUSPLNG      This will be of long duration
 @SUSPFLG.@SUSPAS  40 ONES          1608  1          =           FLAG  @SUSPAS       Suspend the entire address space
 @SUSPFLG.@SUSPPLC 20 ONES          1613  1          =           FLAG  @SUSPPLC      Suspend previous level of control
 000009                00009 00009  1618             =         END   ,
-                                   1628             =*
                                    1629             =* RESUMAS/RESUMTS parameters
                                    1630             =*
0000000                00000 00008  1632             =@RESUME  RECORD BEGIN
 000000                             1640  1          =@RESCTL    DS    0D            ID of the unit of work to be resumed
 000000                             1641  1          =@RESUNIT   DS    A             Address of the ASB/task Id to resume
 000004                             1642  1          =@RESLC     DS    A             Level of control in a task
 000008                00008 00008  1643             =         END   ,
-                                   1653             =*
                                    1654             =* DISPSHLD/DISPSREL parmameters
                                    1655             =*
0000000                00000 00004  1657             =@DISPSWP RECORD BEGIN
 000000                             1665  1          =@DISPSAS   DS    A             Address of the ASB being manipulated
 000004                00004 00004  1666             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   14
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1676             =*
                                    1677             =* ACREATE parameters
                                    1678             =*
0000000                00000 00008  1680             =@ACREATE RECORD BEGIN
 000000                             1688  1          =@ACRPSW    DS    D             Instruction address for task
 000008                00008 00008  1689             =         END   ,
-                                   1699             =*
                                    1700             =* TCREATE parameters
                                    1701             =*
0000000                00000 00015  1703             =@TCREATE RECORD BEGIN
 000000                             1711  1          =@TCRPSW    DS    D             Initial PSW for the task
 000008                             1712  1          =@TCRPARM   DS    2A            Parameter for the task
 000010                             1713  1          =@TCRPRIO   DS    A             Adjustment to priority from Current task
 000014 00                          1714  1          =@TCRFLAG   FLAG  ,             Task creation flags
 @TCRFLAG.@TCRFSTK 80 ONES          1718  1          =           FLAG  @TCRFSTK        Task entered with a stack
 @TCRFLAG.@TCRFPAB 40 ONES          1723  1          =           FLAG  @TCRFPABS       Prio is absolute
 000015                00015 00015  1728             =         END   ,
-                                   1738             =*
                                    1739             =* TREMOVE parameters
                                    1740             =*
0000000                00000 00004  1742             =@TREMOVE RECORD BEGIN
 000000                             1750  1          =@TREID     DS    A             ID of the task to be removed
 000004                00004 00004  1751             =         END   ,
-                                   1761             =*
                                    1762             =* TENTRY Parameters  (on entry to a created task)
                                    1763             =*
0000000                00000 00008  1765             =@TENTRY  RECORD BEGIN
 000000                             1773  1          =@TEPARM    DS    2A            Entry parm for the task
 000008                00008 00008  1774             =         END   ,
-                                   1784             =*
                                    1785             =* TEXIT parameters
                                    1786             =*
0000000                00000 00004  1788             =@TEXIT   RECORD BEGIN
 000000                             1796  1          =           DS    A             Not used
 000004                00004 00004  1797             =         END   ,
-                                   1807             =*
                                    1808             =* SYSRNEW -- Get a new SYSR ID
                                    1809             =*
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   15
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 00004  1811             =@SYSRNEW RECORD BEGIN
 000000                             1819  1          =           DS    A             Not used
 000004                00004 00004  1820             =         END   ,
-                                   1830             =*
                                    1831             =* SYSRDEL -- Delete a previous SYSR ID
                                    1832             =*
 000000                00000 00004  1833             =@SYSRDEL RECORD BEGIN
 000000                             1841  1          =@SYSRDID   DS    A             Id of the SYSR
 000004                00004 00004  1842             =         END   ,
-                                   1852             =*
                                    1853             =* SYSRDO -- Schedule a system routine to run in another address space
                                    1854             =*
0000000                00000 0001C  1856             =@SYSRDO  RECORD BEGIN
 000000                             1864  1          =@SYSRID    DS    A             Id from SYSRNEW
 000004                             1865  1          =@SYSRASB   DS    A             ASB of the Address space where it goes
 000008                             1866  1          =@SYSRLOC   DS    A             Location of the system routine
 00000C                             1867  1          =@SYSRPRM   DS    4A            Parameters for the routine
 00001C                0001C 0001C  1868             =         END   ,
-                                   1878             =*
                                    1879             =* SYSRTN -- Parameter passed to a system routine
                                    1880             =*
0000000                00000 00010  1882             =@SYSRTN  RECORD BEGIN
 000000                             1890  1          =@SYSPARS   DS    4A            Parameters
 000010                00010 00010  1891             =         END   ,
-                                   1901             =*
                                    1902             =* PERSET -- Set the Per registers
                                    1903             =*
0000000                00000 0000C  1905             =@PERSET  RECORD BEGIN
 000000                             1913  1          =@PERSDAT   DS    3F            3 Registers (corresponds to CRs 9-11)
 00000C                0000C 0000C  1914             =         END   ,
-                                   1924             =*
                                    1925             =* MONSET -- Set the MON masks
                                    1926             =*
0000000                00000 00002  1928             =@MONSET  RECORD BEGIN
 000000                             1936  1          =@MONSDAT   DS    H             Monitor Class Mask
 000002                00002 00002  1937             =         END   ,
-                                   1947             =*
                                    1948             =* DSPSTAT -- Return Dispatcher Statistics
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   16
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1949             =*
0000000                00000 00020  1951             =@DSPSTAT RECORD BEGIN
 000000                             1959  1          =@DSPSST    DS    D             TOD clock when system started
 000008                             1960  1          =@DSPSCHG   DS    D             Total CPU time charged (TOD)
 000010                             1961  1          =@DSPSDSP   DS    D             Dispatch CPU time (TOD)
 000018                             1962  1          =@DSPSIOS   DS    D             I/O Service time (TOD)
 000020                00020 00020  1963             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   17
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1973      17.              COPY  TIMEPARM
                                    1974             =*****************************************************************
                                    1975             =*                                                               *
                                    1976             =*  TIMEPARM -- Parameters for the timer routines.               *
                                    1977             =*                                                               *
                                    1978             =*****************************************************************
-                                   1980             =*
                                    1981             =* Start a Real-time timer
                                    1982             =*
0000000                00000 00018  1984             =@RTSET   RECORD BEGIN
 000000                             1992  1          =@RTSCLK    DS    D             Time of day or interval in TOD format
 000008 00                          1993  1          =@RTSFLG    FLAG  ,             Request flags
 @RTSFLG.@RTSFINT  80 ONES          1997  1          =           FLAG  @RTSFINT       Interval timer
 00000C                             2002  1          =@RTSXIT    DS    A             ID of the Exit request
 000010                             2003  1          =@RTSPARM   DS    2A            Parms passed to the exit
 000018                00018 00018  2004             =         END   ,
-                                   2014             =*
                                    2015             =* Cancel (RTCAN) Or Check (RTCHK) a Real-time timer
                                    2016             =*
0000000                00000 00020  2018             =@RTCNCK  RECORD BEGIN        Cancel or Check
 000000                             2026  1          =@RTCID     DS    A             ID of the Timer
 000008                             2027  1          =@RTCCLK    DS    D             Interval until the clock expires
 000010                             2028  1          =@RTCPARM   DS    4A            Same as the parm area in exit
 000020                00020 00020  2029             =         END   ,
-                                   2039             =*
                                    2040             =* Layout of parms passed to the Real time timer exit
                                    2041             =*
0000000                00000 00010  2043             =RTEXIT   RECORD BEGIN
 000000                             2051  1          =RTXTID     DS    A             ID of the timer
 000004                             2052  1          =RTXXID     DS    A             ID of the timer Exit
 000008                             2053  1          =RTXPARM    DS    2A            Parms set when the timer was set
 000010                00010 00010  2054             =         END   ,
-                                   2064             =*
                                    2065             =* Start a CPU-time timer
                                    2066             =*
0000000                00000 00014  2068             =@CPSET   RECORD BEGIN
 000000                             2076  1          =@CPSCLK    DS    D             Time of day or interval in TOD format
 000008                             2077  1          =@CPSXIT    DS    A             ID of the Exit request
 00000C                             2078  1          =@CPSPARM   DS    2A            Parms passed to the exit
 000014                00014 00014  2079             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   18
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2089             =*
                                    2090             =* Cancel (CPCAN) Or Check (CPCHK) a CPU-time timer
                                    2091             =*
0000000                00000 00020  2093             =@CPCNCK  RECORD BEGIN        Cancel or Check
 000000                             2101  1          =@CPCID     DS    A             ID of the Timer
 000008                             2102  1          =@CPCCLK    DS    D             Interval until the clock expires
 000010                             2103  1          =@CPCPARM   DS    4A            Same as the parm area in exit
 000020                00020 00020  2104             =         END   ,
-                                   2114             =*
                                    2115             =* Layout of parms passed to the CPU-time timer exit
                                    2116             =*
0000000                00000 00010  2118             =CPEXIT   RECORD BEGIN
 000000                             2126  1          =CPXTID     DS    A             ID of the timer
 000004                             2127  1          =CPXXID     DS    A             ID of the timer Exit
 000008                             2128  1          =CPXPARM    DS    2A            Parms set when the timer was set
 000010                00010 00010  2129             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   19
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2139      19.              COPY  LOCKPARM
                                    2140             =*******************************************************************
                                    2141             =*                                                                 *
                                    2142             =*    LOCKPARM - Lock routine calling parms                        *
                                    2143             =*                                                                 *
                                    2144             =*******************************************************************
0000000                00000 00011  2146             =@LOCKCRE RECORD BEGIN
 000000                             2154  1          =@LOCKNAM   DS    CL16          Name of the lock
 000010 00                          2155  1          =@LOCKFL    FLAG  ,
 @LOCKFL.@LFSPIN   80 ONES          2159  1          =           FLAG  @LFSPIN       Spin type lock
 000011                00011 00011  2164             =         END   ,
                                    2173             =*
 000000                00000 00004  2174             =@LOCKS   RECORD BEGIN
 000000                             2182  1          =@LOCKID    DS    A             Lock id
 000004                00004 00004  2183             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   20
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2193      21.              COPY  IOSIPARM
 000000                00000 00004  2194             =@IOSASC  RECORD BEGIN                  Address space init
 000000                             2202  1          =@IOASCAS   DS    A                       ASB for this addr space
 000004                00004 00004  2203             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   21
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2213      23.              COPY  VMPARM
                                    2214             =*******************************************************************
                                    2215             =*                                                                 *
                                    2216             =*    Memory parms for inside the virtual machine.                 *
                                    2217             =*                                                                 *
                                    2218             =*******************************************************************
-000000                00000 0000B  2220             =@VMGET   RECORD BEGIN        Parm area for getting virtual memory
 000000                             2228  1          =@VMGLEN    DS    A             Amount of memory needed
 000004                             2229  1          =@VMGDAT    DS    A             More data. Address or maxlen.
 000008                             2230  1          =@VMGPOOL   DS    H             Pool/Subpool to get the memory from
 00000A 00                          2231  1          =@VMGFLG    FLAG  ,
 @VMGFLG.@VMGPAGE  80 ONES          2235  1          =           FLAG  @VMGPAGE      Page Aligned
 @VMGFLG.@VMGONEP  40 ONES          2240  1          =           FLAG  @VMGONEP      Don't cross page boundary
 00000B                0000B 0000B  2245             =         END   ,
-000000                00000 0000A  2255             =@VMFREE  RECORD BEGIN        Used for VMFREE and VMCHECK
 000000                             2263  1          =@VMFLOC    DS    A             Location of the storage to free
 000004                             2264  1          =@VMFLEN    DS    A             Amount to free
 000008                             2265  1          =@VMFPOOL   DS    H             Pool/Subpool where the storage lives
 00000A                0000A 0000A  2266             =         END   ,
-000000                00000 00009  2276             =@VMINFO  RECORD BEGIN        Returns User address limits/hash val
 000000                             2284  1          =@VMIUST    DS    A             Start of the user address space
 000004                             2285  1          =@VMIULEN   DS    A             Length of the user address space
 000008                             2286  1          =@VMITRSH   DS    X             Trash value
 000009                00009 00009  2287             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   22
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2297      25.              COPY  VMIPARM
                                    2298             =*
                                    2299             =*  @VMIPARM -- This data area is passed to the Virtual memory
                                    2300             =*              initialization module to inform it of the storage
                                    2301             =*              areas that have already been set up.
                                    2302             =*
-000000                00000 00014  2304             =@VMIPARM RECORD BEGIN
 000000                             2312  1          =@VMIKLOC   DS    A             Starting address of the Kernel
 000004                             2313  1          =@VMIKLEN   DS    A             Length of the Kernel
 000008                             2314  1          =@VMIMLOC   DS    A             Location of the Kernel map
 00000C                             2315  1          =@VMIMLEN   DS    A             Length of the Kernel map
 000010                             2316  1          =@VMISLOC   DS    A             Location of the V=R stack (16 pages)
 000014                00014 00014  2317             =         END   ,
-                                   2327             =*
                                    2328             =*   @VMCRAS -- This data area is passed to the Address space creation
                                    2329             =*              routine.
                                    2330             =*
-000000                00000 00004  2332             =@VMCRAS  RECORD BEGIN
 000000                             2340  1          =@VMCASB    DS    A             Address of the ASB for the new AS
 000004                00004 00004  2341             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   23
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2351      27.              COPY  IPLPARM
                                    2352             =*
                                    2353             =*  @IPLPARM -- This data area is set up by the IPL module and is
                                    2354             =*              passed on a temporary stack to the kernel.  It
                                    2355             =*              basically tells the kernel about the data that has
                                    2356             =*              been set up by the IPL routine.
                                    2357             =*
-000000                00000 00014  2359             =@IPLPARM RECORD BEGIN
 000000                             2367  1          =@IPLKLOC   DS    A             Starting address of the Kernel
 000004                             2368  1          =@IPLKLEN   DS    A             Length of the Kernel
 000008                             2369  1          =@IPLMLOC   DS    A             Location of the Kernel map
 00000C                             2370  1          =@IPLMLEN   DS    A             Length of the Kernel map
 000010                             2371  1          =@IPLSLOC   DS    A             Location of the V=R stack (16 pages)
 000014                00014 00014  2372             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   24
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2382      29.              COPY  PAGEPARM
                                    2383             =*
                                    2384             =*  Page fault return codes
                                    2385             =*
                                    2386             =@PFRINP  EQU   0                       Fault in progress
                                    2387             =@PFRADDR EQU   4                       Addressing exception
                                    2388             =@PFROK   EQU   8                       Fault resolved
                                    2389             =@PFRWAIT EQU   12                      Must wait for some resource
0000000                00000 00005  2391             =@PAGSWAP RECORD BEGIN
 000000                             2399  1          =@SWASB     DS    A                       Address of ASB being swapped
                                    2400  1          =* -- Return parameters --
 000004 00                          2401  1          =@SWFLG     FLAG  ,
 @SWFLG.@SWFINP    00 EQ            2405  1          =           FLAG  (@SWFINP,0,EQ)          Swap in progress
 @SWFLG.@SWFOK     04 EQ            2415  1          =           FLAG  (@SWFOK,4,EQ)           Swap done now
 @SWFLG.@SWFWAIT   08 EQ            2425  1          =           FLAG  (@SWFWAIT,8,EQ)         Must wait for some resource
 000005                00005 00005  2435             =         END   ,
0000000                00000 00004  2445             =@PAGSWADV RECORD BEGIN                 Give swap advice
 000000                             2453  1          =@ADVASB    DS    A                       ASB of advice
 000004                00004 00004  2454             =         END   ,
0000000                00000 0000D  2464             =@PAGWSMA RECORD BEGIN                  Working Set management
 000000                             2472  1          =@WSASB     DS    A                       ASB of AS to be managed
 000004                             2473  1          =@WSINT     DS    A                       Number of elapsed intervals
 000008                             2474  1          =@WSLIMIT   DS    A                       Maximum number of frames
 00000C 00                          2475  1          =@WSFLG     FLAG  ,
 @WSFLG.@WSFGLOB   80 ONES          2479  1          =           FLAG  @WSFGLOB                Manage Global AS
 00000D                0000D 0000D  2484             =         END   ,
0000000                00000 0000A  2494             =@PAGDEF  RECORD BEGIN                  Define a page
 000000                             2502  1          =@PDADDR    DS    A                       Page VA
 000004                             2503  1          =@PDLEN     DS    A                       Length of definition (bytes)
 000008                             2504  1          =@PDKEY     DS    X                       Storage key (+ key protect)
                                    2505  1          =* @PDHASH  DS    X                       Hash value for page
 000009 00                          2506  1          =@PDF1      FLAG  @PDFGLOB                In global memory
 @PDF1.@PDFGLOB    80 ONES
 @PDF1.@PDFPROT    40 ONES          2512  1          =           FLAG  @PDFPROT                Page table protection
 00000A                0000A 0000A  2517             =         END   ,
0000000                00000 0000A  2527             =@PAGSEGD RECORD BEGIN                  Define a segment
 000000                             2535  1          =@SDADDR    DS    A                       Segment address
 000004                             2536  1          =@SDLEN     DS    A                       Length of definition (bytes)
 000008                             2537  1          =@SDHASH    DS    X                       Hash value for segment
 000009 00                          2538  1          =@SDF1      FLAG  @SDFGLOB                In global memory
 @SDF1.@SDFGLOB    80 ONES
 00000A                0000A 0000A  2544             =         END   ,
0000000                00000 00008  2554             =@PAGASC1 RECORD BEGIN
 000000                             2562  1          =@ASCASB    DS    A                       ASB for AS being created
 000004                             2563  1          =@ASCWSLM   DS    A                       Maximum size of working set
 000008                00008 00008  2564             =         END   ,
0000000                00000 00005  2574             =@PAGASC2 RECORD BEGIN                  Address space creation
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   25
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                             2582  1          =@ASCVA     DS    A                       Virtual address of 1st PT
 000004                             2583  1          =@ASCKEY    DS    X                       Storage key (+ key protect)
 000005                00005 00005  2584             =         END   ,
0000000                00000 00009  2594             =@PAGE    RECORD BEGIN                  General paging routine parms
 000000                             2602  1          =@PAGLOC    DS    A                       Virtual address
 000004                             2603  1          =@PAGLEN    DS    A                       Length (in bytes)
 000008                             2604  1          =@PAGKEY    DS    X                       Key - where required
                                    2605  1          =@PAGHASH   EQU   @PAGKEY                 Hash - where required
 000009                00009 00009  2606             =         END   ,
0000000                00000 00008  2616             =@PAGRV   RECORD BEGIN                  Real to virtual translation
 000000                             2624  1          =@PAGRVAD   DS    A                       Real addr to be translated
                                    2625  1          =* -- Return parms --
 000004                             2626  1          =@PAGRVASB   DS   A                       Address space block
 000008                00008 00008  2627             =         END   ,
0000000                00000 00004  2637             =@PAGINTV RECORD BEGIN                  Paging management interval
 000000                             2645  1          =@PAGINT    DS    A                       Number of intervals in cycle
 000004                00004 00004  2646             =         END   ,
0000000                00000 00008  2656             =@PAGINIT RECORD BEGIN                  Global initialization
 000000                             2664  1          =@PAGIASB   DS    A                       Global ASB address
 000004                             2665  1          =@PAGIMEG   DS    A                       Maximum number of bytes in VA
 000008                00008 00008  2666             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   26
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2676      31.              COPY  PARMPARM
                                    2677             =*********************************************************************
                                    2678             =*                                                                   *
                                    2679             =*          Parameters to obtain initialization parameters           *
                                    2680             =*                                                                   *
                                    2681             =*********************************************************************
0000000                00000 00010  2683             =@PARMDO  RECORD BEGIN
 000000                             2691  1          =@PARILOC   DS    A                       Input location
 000004                             2692  1          =@PARILEN   DS    A                       | length
 000008                             2693  1          =@PAROLOC   DS    A                       Output location
 00000C                             2694  1          =@PAROLEN   DS    A                       | length
 000010                00010 00010  2695             =         END   ,
0000000                00000 00004  2705             =PARMIN   RECORD BEGIN
 000000 00                          2713  1          =PARMTYPE   FLAG  ,
 PARMTYPE.PARMFSTR 00 EQ            2717  1          =           FLAG  (PARMFSTR,0,EQ)         Return a string
 PARMTYPE.PARMFINT 04 EQ            2727  1          =           FLAG  (PARMFINT,4,EQ)         Return an integer
 PARMTYPE.PARMFYN  08 EQ            2737  1          =           FLAG  (PARMFYN,8,EQ)          Return Yea or Nay
 PARMTYPE.PARMFFLT 0C EQ            2747  1          =           FLAG  (PARMFFLT,12,EQ)        Return a floating point
 000001                             2757  1          =           DS    3X                      - Available -
 000004                             2758  1          =PARMKEYS   DS    0A                      Start of 8 byte keys
 000004                00004 00004  2759             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   27
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2769      33.              COPY  XITPARM
                                    2770             =*****************************************************************
                                    2771             =*                                                               *
                                    2772             =*  XITPARM --  Parameters for the routines dealing with exit    *
                                    2773             =*              routine definition and execution.                *
                                    2774             =*                                                               *
                                    2775             =*****************************************************************
-                                   2777             =*
                                    2778             =*  @EXRADD -- Define a new exit routine.
                                    2779             =*
0000000                00000 00015  2781             =@EXRADD  RECORD BEGIN
 000000                             2789  1          =@EXRTYPE   DS    A             Exit type bit map
 000004                             2790  1          =@EXRQUAL   DS    A             Exit Qualifier
 000008                             2791  1          =@EXRPSW    DS    D             Exit PSW
 000010                             2792  1          =@EXRPARM   DS    A             Parm for the exit
 000014 00                          2793  1          =@EXRAFLG   FLAG  ,
 @EXRAFLG.@EXRAFQ  80 ONES          2797  1          =           FLAG  @EXRAFQ       Exit should be qualified
 @EXRAFLG.@EXRAFS  40 ONES          2802  1          =           FLAG  @EXRAFS       System exit (entered with a stack)
 000015                00015 00015  2807             =         END   ,
-                                   2817             =*
                                    2818             =*  @EXRDEL -- Remove an exit routine definition.
                                    2819             =*
0000000                00000 00004  2821             =@EXRDEL  RECORD BEGIN
 000000                             2829  1          =@EXRDID    DS    A             Exit routine ID
 000004                00004 00004  2830             =         END   ,
-                                   2840             =*
                                    2841             =*  @EXRDONE -- Complete exit processing.
                                    2842             =*
0000000                00000 00001  2844             =@EXRDONE RECORD BEGIN
 000000 00                          2852  1          =@EXRDCD    FLAG  ,
 @EXRDCD.@EXRDFIN  00 EQ            2856  1          =           FLAG  (@EXRDFIN,0,EQ)         No further processing needed
 @EXRDCD.@EXRDNXT  01 EQ            2866  1          =           FLAG  (@EXRDNXT,1,EQ)         Percolate the exit request
 000001                00001 00001  2876             =         END   ,
-                                   2886             =*
                                    2887             =*  @XITNEW -- Define a new exit request.
                                    2888             =*
0000000                00000 00001  2890             =@XITNEW  RECORD BEGIN
 000000 00                          2898  1          =@XITNFL    FLAG  ,
 @XITNFL.@XITNFG   80 ONES          2902  1          =           FLAG  @XITNFG       Global exit request
 000001                00001 00001  2907             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   28
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2917             =*
                                    2918             =*  @XITDEL -- Delete an exit request
                                    2919             =*
0000000                00000 00004  2921             =@XITDEL  RECORD BEGIN
 000000                             2929  1          =@XITDID    DS    A             Exit request ID
 000004                00004 00004  2930             =         END   ,
-                                   2940             =*
                                    2941             =*  @XITDO -- Schedule an exit.
                                    2942             =*
 000000                00000 00020  2943             =@XITDO   RECORD BEGIN
 000000                             2951  1          =@XITRQID   DS    A             Request ID (from XITNEW)
 000004                             2952  1          =@XITTSK    DS    A             Task Id where this exit is to run
 000008                             2953  1          =@XITTYPE   DS    X             Exit type (Integer)
 00000C                             2954  1          =@XITQUAL   DS    A             Exit qualifier
 000010                             2955  1          =@XITPARM   DS    XL16          Exit parameter area
 000020                00020 00020  2956             =         END   ,
-                                   2966             =*
                                    2967             =*  @XITGPST -- Info about the status of the previous level of control
                                    2968             =*              used by XITGST and XITPST
                                    2969             =*
0000000                00000 00068  2971             =@XITGPST RECORD BEGIN
 000000                             2979  1          =@XITSPSW   DS    D             PSW
 000008                             2980  1          =@XITSGPR   DS    16F           GPRs
 000048                             2981  1          =@XITSFPR   DS    4D            FPRs
 000068                00068 00068  2982             =         END   ,
-                                   2992             =*
                                    2993             =*  @XITMASK -- Modify the current exit mask
                                    2994             =*
0000000                00000 00005  2996             =@XITMASK RECORD BEGIN
 000000                             3004  1          =@XITMSK    DS    A             Bit mask of the data
 000004 00                          3005  1          =@XITMREQ   FLAG  ,             Request type
 @XITMREQ.@XITMSO  00 EQ            3009  1          =           FLAG  (@XITMSO,0,EQ)  OR this data into the mask
 @XITMREQ.@XITMSN  01 EQ            3019  1          =           FLAG  (@XITMSN,1,EQ)  AND this data into the mask
 @XITMREQ.@XITMSS  02 EQ            3029  1          =           FLAG  (@XITMSS,2,EQ)  Store this data into the mask
 000005                00005 00005  3039             =         END   ,
-                                   3049             =*
                                    3050             =* Definition of the types of exits
                                    3051             =*
0                                   3053             =XITTPI   EQU    0          * Program interrupt
                                    3054             =XITTSVC  EQU    1          * Supervisor Call
                                    3055             =XITTRTC  EQU    2            Real time clock expiration
                                    3056             =XITTCTC  EQU    3            CPU time clock expiration
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   29
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3057             =XITTPER  EQU    4            Program Event
                                    3058             =XITTMON  EQU    5            Monitor Call
                                    3059             =XITTLGO  EQU    6            Logoff
                                    3060             =XITTR07  EQU    7            -- reserved --
                                    3061             =XITTATTN EQU    8            Attention
                                    3062             =XITTIOCN EQU    9            I/O Completed normally
                                    3063             =XITTIOCA EQU   10            I/O Completed abnormally
-                                   3065             =*
                                    3066             =* Definition of the exit mask
                                    3067             =*
0000000                00000 00004  3069             =XITMSKD  RECORD BEGIN
                                    3077  1          =
 000000 00                          3078  1          =MITMK1     FLAG  ,             First byte of the mask
 MITMK1.XITMPI     80 ONES          3082  1          =           FLAG  XITMPI          Program interrupt
 MITMK1.XITMSVC    40 ONES          3087  1          =           FLAG  XITMSVC         Supervisor Call
 MITMK1.XITMRTC    20 ONES          3092  1          =           FLAG  XITMRTC         Real time clock expiration
 MITMK1.XITMCTC    10 ONES          3097  1          =           FLAG  XITMCTC         CPU time clock expiration
 MITMK1.XITMPER    08 ONES          3102  1          =           FLAG  XITMPER         Program Event
 MITMK1.XITMMON    04 ONES          3107  1          =           FLAG  XITMMON         Monitor Call
 MITMK1.XITMLGO    02 ONES          3112  1          =           FLAG  XITMLGO         Logoff
 MITMK1.XITMR07    01 ONES          3117  1          =           FLAG  XITMR07         -- reserved --
                                    3122  1          =
 000001 00                          3123  1          =MITMK2     FLAG  ,             Second byte of the mask
 MITMK2.XITMATTN   80 ONES          3127  1          =           FLAG  XITMATTN        Attention
 MITMK2.XITMIOCN   40 ONES          3132  1          =           FLAG  XITMIOCN        I/O Completed normally
 MITMK2.XITMIOCA   20 ONES          3137  1          =           FLAG  XITMIOCA        I/O Completed abnormally
                                    3142  1          =
 000002 00                          3143  1          =MITMK3     FLAG  ,             Third byte of the mask
                                    3147  1          =
 000003 00                          3148  1          =MITMK4     FLAG  ,             Fourth byte of the mask
 000004                00004 00004  3152             =         END   ,
-                                   3162             =*
                                    3163             =* Definition of Exit routine entry data area
                                    3164             =*
0000000                00000 00004  3166             =@XITDATA RECORD BEGIN
 000000                             3174  1          =@XITDSA    DS    A             Pointer to XITSAREA (exit status area)
 000004                00004 00004  3175             =         END   ,
-                                   3185             =*
                                    3186             =* Definition of the Exit Status area
                                    3187             =*
0000000                00000 0001C  3189             =XITSAREA RECORD BEGIN
 000000                             3197  1          =XITSRPRM   DS    A             Parm value for the Routine
 000004                             3198  1          =XITSTYPE   DS    X             Type of the exit
 000008                             3199  1          =XITSQUAL   DS    A             Exit Qualifier
 00000C                             3200  1          =XITSXPRM   DS    XL16          Exit parameter area
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   30
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000001C                0001C 0001C  3201             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Blocks                                                                  Page   31
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3211      35.              COPY  SEXIPARM
                                    3212             =*****************************************************************
                                    3213             =*                                                               *
                                    3214             =*  SEXIPARM -- Parameters on entry to System EXIt routines.     *
                                    3215             =*              These dsects define the layout of the parameter  *
                                    3216             =*              area (XITSXPRM) containd in the dsect XITSAREA   *
                                    3217             =*              whose address is passed to the exit routine.     *
                                    3218             =*                                                               *
                                    3219             =*****************************************************************
-                                   3221             =*
                                    3222             =* Supervisor Call Information
                                    3223             =*
0000000                00000 00004  3225             =SEXITSVC RECORD BEGIN
 000000                             3233  1          =SXISILC    DS    H             Supervisor Call Instruction length
 000002                             3234  1          =SXISNUM    DS    H             Supervisor Call number
 000004                00004 00004  3235             =         END   ,
-                                   3245             =*
                                    3246             =* Program Interrupt Information
                                    3247             =*
0000000                00000 00008  3249             =SEXITPI  RECORD BEGIN
 000000                             3257  1          =SXIPILC    DS    H             Instruction Length
 000002                             3258  1          =SXIPCODE   DS    H             Interrupt code
 000004                             3259  1          =SXIPEXA    DS    A             Exception address (codes 16 & 17)
 000008                00008 00008  3260             =         END   ,
-                                   3270             =*
                                    3271             =* Program Event Recording Information
                                    3272             =*
0000000                00000 00008  3274             =SEXITPER RECORD BEGIN
 000000                             3282  1          =SXIEILC    DS    H             Instruction Length
 000002                             3283  1          =SXIECODE   DS    H             PER Code
 000004                             3284  1          =SXIEPERA   DS    A             PER Address
 000008                00008 00008  3285             =         END   ,
-                                   3295             =*
                                    3296             =* Monitor Call Information
                                    3297             =*
0000000                00000 00008  3299             =SEXITMC  RECORD BEGIN
 000000                             3307  1          =SXIMILC    DS    H             Instruction Length
 000002                             3308  1          =SXIMCLA    DS    H             Monitor Class
 000004                             3309  1          =SXIMCODE   DS    A             Monitor Code
 000008                00008 00008  3310             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Macros                                                                           Page   32
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3320      37.     *
                                    3321      38.     * Priority queue functions.
                                    3322      39.     *
                                    3323      40.              MACRO
                                    3324      41.     &L       PQFUNC &Q,&A,&AR,&T
                                    3325      42.     .*
                                    3326      43.     .* Q  -- Queue parm
                                    3327      44.     .* A  -- ASDB parm
                                    3328      45.     .* AR -- null means that the A parm is not required
                                    3329      46.     .* T  -- type of call
                                    3330      47.     .*
                                    3331      48.              AIF   ('&Q' EQ '').NOQ
                                    3332      49.     &L       PSET  PQPARM,CLEAR=NO
                                    3333      50.              PMOV  PQQUEUE,&Q,OP=LA
                                    3334      51.              AIF   ('&AR' EQ '').NOAR
                                    3335      52.              AIF   ('&A' EQ '').NOA
                                    3336      53.              PMOV  PQASDB,&A,OP=LA
                                    3337      54.     .NOAR    ANOP
                                    3338      55.              ACALL PQ&T
                                    3339      56.              MEXIT
                                    3340      57.     .NOQ     MNOTE 8,'Queue pointer missing'
                                    3341      58.              MEXIT
                                    3342      59.     .NOA     MNOTE 8,'ASDB pointer missing'
                                    3343      60.              MEND
                                    3344      61.
                                    3345      62.              MACRO
                                    3346      63.     &L       PQHIGH &QUEUE
                                    3347      64.     &L       PQFUNC &QUEUE,,,HIGH
                                    3348      65.              MEND
                                    3349      66.
                                    3350      67.              MACRO
                                    3351      68.     &L       PQLOW  &QUEUE
                                    3352      69.     &L       PQFUNC &QUEUE,,,LOW
                                    3353      70.              MEND
                                    3354      71.
                                    3355      72.              MACRO
                                    3356      73.     &L       PQPRIO &QUEUE
                                    3357      74.     &L       PQFUNC &QUEUE,,,PRIO
                                    3358      75.              MEND
                                    3359      76.
                                    3360      77.              MACRO
                                    3361      78.     &L       PQHPFN &QUEUE
                                    3362      79.     &L       PQFUNC &QUEUE,,,HPFN
                                    3363      80.              MEND
                                    3364      81.
                                    3365      82.              MACRO
                                    3366      83.     &L       PQADD  &QUEUE,&ASDB
                                    3367      84.     &L       PQFUNC &QUEUE,&ASDB,Y,ADD
                                    3368      85.              MEND
                                    3369      86.
                                    3370      87.              MACRO
                                    3371      88.     &L       PQREQ  &QUEUE,&ASDB
                                    3372      89.     &L       PQFUNC &QUEUE,&ASDB,Y,REQ
                                    3373      90.              MEND
1DISPATCH (DISP00) (09:38) (22MAR04) Local Macros                                                                           Page   33
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3374      91.
                                    3375      92.              MACRO
                                    3376      93.     &L       PQDEL  &QUEUE,&ASDB
                                    3377      94.     &L       PQFUNC &QUEUE,&ASDB,Y,DEL
                                    3378      95.              MEND
1DISPATCH (DISP00) (09:38) (22MAR04) Local Macros                                                                           Page   34
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3380      97.              MACRO
                                    3381      98.     &L       TQADD &TDB
                                    3382      99.     &L       PSET  TQPARM,CLEAR=NO
                                    3383     100.              PMOV  TQPTDB,&TDB,OP=LA
                                    3384     101.              ACALL TSKADD
                                    3385     102.              MEND  ,
                                    3386     103.              MACRO
                                    3387     104.     &L       TQREQ &TDB
                                    3388     105.     &L       PSET  TQPARM,CLEAR=NO
                                    3389     106.              PMOV  TQPTDB,&TDB,OP=LA
                                    3390     107.              ACALL TSKREQ
                                    3391     108.              MEND  ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Macros                                                                           Page   35
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3393     110.              MACRO
                                    3394     111.     &L       CLOCK &CLK
                                    3395     112.     &L       LH    EPAR,PSAKCUR            Get the current clock offset
                                    3396     113.              CH    EPAR,=Y(PSAK&CLK-PSA+L'PZERO)
                                    3397     114.              IF    NE,BEGIN                Some different clock
                                    3398     115.              STPT  @EPAR                   Save the current clock
                                    3399     116.              LA    EPAR,PSAK&CLK-PSA+L'PZERO         New clock offset
                                    3400     117.              STH   EPAR,PSAKCUR            Save the Current clock id
                                    3401     118.              SPT   PSAK&CLK                Set the new timer
                                    3402     119.              END   ,
                                    3403     120.              MEND  ,
-                                   3405     122.              MACRO
                                    3406     123.     &L       UPDCLOCK &CLK
                                    3407     124.     &L       LA    EPAR,PSAK&CLK-PSA+L'PZERO         Clock offset
                                    3408     125.              IF    (EPAR,EQ,PSAKCUR),BEGIN           We're using it
                                    3409     126.              STPT  @EPAR
                                    3410     127.              END   ,
                                    3411     128.              MEND  ,
-
                                    3413     130.              MACRO
                                    3414     131.     &L       DISABLE &LBL
                                    3415     132.              LCLC  &STORAGE
                                    3416     133.     &STORAGE SETC  'PSASMASK'
                                    3417     134.              AIF   ('&LBL' EQ '').LBLDONE
                                    3418     135.     &STORAGE SETC  '&LBL'
                                    3419     136.     .LBLDONE ANOP  ,
                                    3420     137.     &L       STNSM &STORAGE,X'04'
                                    3421     138.              MEND
0                                   3423     140.              MACRO
                                    3424     141.     &L       ENABLE &LBL
                                    3425     142.              LCLC  &STORAGE
                                    3426     143.     &STORAGE SETC  'PSASMASK'
                                    3427     144.              AIF   ('&LBL' EQ '').LBLDONE
                                    3428     145.     &STORAGE SETC  '&LBL'
                                    3429     146.     .LBLDONE ANOP  ,
                                    3430     147.     &L       SSM   &STORAGE
                                    3431     148.              MEND
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   36
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3433     150.     *****************************************************************
                                    3434     151.     *                                                               *
                                    3435     152.     *     PSA  --  Prefixed Storage Area.  This area immediately    *
                                    3436     153.     *              follows PZERO on real page zero of every CPU.    *
                                    3437     154.     *              It contains CPU related things for the           *
                                    3438     155.     *              the dispatcher and areas that are needed without *
                                    3439     156.     *              having a base register available.                *
                                    3440     157.     *              It is addressed using the associated using       *
                                    3441     158.     *              capability of the SLAC assembler.                *
                                    3442     159.     *                                                               *
                                    3443     160.     *****************************************************************
-000000                00000 001B0  3445     162.     PSA      RECORD BEGIN
 000000                             3453  1  163.     PSAPSW     DS    D             PSW to be loaded to return from int
 000008                             3454  1  164.     PSAGPRS    DS    16F           General purpose register save area
 000048                             3455  1  165.     PSAFPRS    DS    4D            Floating point register save area
                                    3456  1  166.     PSASTATE   EQU   PSAPSW,*-PSAPSW,C'X'    State of the user
                                    3457  1  167.     *
                                    3458  1  168.     * CPU timer slots
                                    3459  1  169.     *
 000068                             3460  1  170.     PSATCHG    DS    D             Total User CPU time charged
 000070                             3461  1  171.     PSAKUSER   DS    D             User clock
 000078                             3462  1  172.     PSAKDISP   DS    D             Dispatch clock
 000080                             3463  1  173.     PSAKIOSV   DS    D             I/O Service clock
 000088                             3464  1  174.     PSAKCUR    DS    H             Offset of the current CPU timer
                                    3465  1  175.     *
                                    3466  1  176.     * Information about this CPU
                                    3467  1  177.     *
 00008A                             3468  1  178.     PSACPUA    DS    H             CPU Address of this CPU
 000090                             3469  1  179.     PSACPUID   DS    D             CPU id
 000098                             3470  1  180.     PSAPRFXR   DS    A             Prefix value for this CPU
 00009C                             3471  1  181.     PSAPRFXV   DS    A             Virtual prefix address for this CPU
 0000A0                             3472  1  182.     PSAIPCB    DS    A             Address of the IPCB for this CPU
                                    3473  1  183.     *
                                    3474  1  184.     * Dispatching information
                                    3475  1  185.     *
 0000A4                             3476  1  186.     PSAASDB    DS    A             Address of the current ASDB
 0000A8                             3477  1  187.     PSATDB     DS    A             Address of the current TDB
 0000AC                             3478  1  188.     PSADCT     DS    A             Address of the DCT
 0000B0                             3479  1  189.     PSADSTK    DS    A             Address of the dispatcher stack
 0000B4                             3480  1  190.     PSACPLK    DS    A             CPU dispatching lock
 0000B8 00                          3481  1  191.     PSADFLG1   FLAG  ,             Dispatcher flags
 PSADFLG1.DISPSTK  80 ONES          3485  1  192.                FLAG  DISPSTK         Running off the dispatcher stack
 PSADFLG1.DISPGRD  40 ONES          3490  1  193.                FLAG  DISPGRD         Global Re-dispatch needed
 PSADFLG1.DISPLTD  20 ONES          3495  1  194.                FLAG  DISPLTD         Long term dispatch needed
 PSADFLG1.DISPSYSR 10 ONES          3500  1  195.                FLAG  DISPSYSR        Executing system routine
 0000B9                             3505  1  196.     PSASMASK   DS    X             System mask area for disabling
 0000BA                             3506  1  197.     PSATRMLK   DS    X             Termination lock
 0000BC                             3507  1  198.                DS    0F            Alignment for the PI info
 0000BC                             3508  1  199.     PSAPIILC   DS    H             Program interrupt ILC
 0000BE                             3509  1  200.     PSAPIIC    DS    H             Program interrupt code
                                    3510  1  201.     *
                                    3511  1  202.     * Trace information
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   37
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3512  1  203.     *
 0000C0                             3513  1  204.     PSATRB0    DS    A             Virt addr of current trace buffer
 0000C4                             3514  1  205.     PSATRB1    DS    A             Virt addr of previous trace buffer
 0000C8                             3515  1  206.     PSATRWK    DS    A             Work area for trace interrupt
 0000CC                             3516  1  207.     PSATRGRS   DS    16F           Save area for the GPRs
                                    3517  1  208.     TRCBRANCH   EQU  X'80000000'   CR mask for branch tracing
                                    3518  1  209.     TRCASN     EQU   X'00000002'   CR mask for ASN tracing
                                    3519  1  210.     TRCEXPL    EQU   X'00000001'   CR mask for explicit tracing
                                    3520  1  211.     TRCALL     EQU   TRCBRANCH+TRCASN+TRCEXPL
                                    3521  1  212.     *
                                    3522  1  213.     * Initialization/Termination information
                                    3523  1  214.     *
 000110                             3524  1  215.     PSASPSW    DS    D             Save area for restart PSW
 000118                             3525  1  216.     PSASGPRS   DS    16A           Save area for restart GPRs
 000158                             3526  1  217.     PSACTRS    DS    16A           Initial control registers
                                    3527  1  218.     *
                                    3528  1  219.     * Work areas
                                    3529  1  220.     *
 000198                             3530  1  221.     PSADWK1    DS    D             Double word areas
 0001A0                             3531  1  222.     PSADWK2    DS    D
 0001A8                             3532  1  223.     PSADWK3    DS    D
 0001B0                001B0 001B0  3533     224.              END   ,
                                    3542     225.              $$USING PSA,PZERO+L'PZERO
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   38
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3544     227.     *****************************************************************
                                    3545     228.     *                                                               *
                                    3546     229.     *     DCT  --  Dispatcher Control Table.  This global area is   *
                                    3547     230.     *              used by the dispatcher on each of the CPUs to    *
                                    3548     231.     *              determine who will be run next                   *
                                    3549     232.     *                                                               *
                                    3550     233.     *****************************************************************
-000000                00000 001C0  3552     235.     DCT      RECORD BEGIN
 000000 C4C3E340                    3560  1  236.                DC    C'DCT '       Control block ID
 000004                             3561  1  237.     DCTLOCK    DS    A             Lock ID for the DCT
                                    3562  1  238.     *
                                    3563  1  239.     * Fixed parm values
                                    3564  1  240.     *
                                    3565  1  241.     STKSIZE    EQU   2048          Size of supervisor stacks
                                    3566  1  242.     *
                                    3567  1  243.     * Global info
                                    3568  1  244.     *
 000008                             3569  1  245.     DCTGASB    DS    A             Address of the 'global' ASB
 00000C                             3570  1  246.     DCTASDBS   DS    A             Queue of all the ASDBs in the system
 000010                             3571  1  247.     DCTRTCQ    DS    A             Real time clock queue pointer
 000014                             3572  1  248.     DCTWSLM    DS    A             Limit on the working set size
 000018                             3573  1  249.     DCTWSIN    DS    D             Time between WS manager calls (CPU time)
 000020                             3574  1  250.     DCTSTIME   DS    D             Time when the system was started (TOD)
                                    3575  1  251.     *
                                    3576  1  252.     * Queues of free global control blocks
                                    3577  1  253.     *
 000028                             3578  1  254.                DS    0D
 000028                             3579  1  255.     DCTFASB    DS    A             Available ASB entries
 00002C                             3580  1  256.                DS    A             Control Word
 000030                             3581  1  257.     DCTFASDB   DS    A             Available ASDB entries
 000034                             3582  1  258.                DS    A             Control Word
 000038                             3583  1  259.     DCTFTDB    DS    A             Available global TDB entries
 00003C                             3584  1  260.                DS    A             Control Word
 000040                             3585  1  261.     DCTFRTCQ   DS    A             Available RTCQ entries
 000044                             3586  1  262.                DS    A             Control Word
 000048                             3587  1  263.     DCTFSTBQ   DS    A             Available STDB entries
 00004C                             3588  1  264.                DS    A             Control Word
 000050                             3589  1  265.     DCTFSTK    DS    A             Available Global stacks
 000054                             3590  1  266.                DS    A             Control Word
                                    3591  1  267.     *
                                    3592  1  268.     * Queue pointers --
                                    3593  1  269.     *
                                    3594  1  270.     MAXPRIO    EQU   3             Maximum user task priority level
                                    3595  1  271.     SYSPRIO    EQU   MAXPRIO+1     System task priority level
                                    3596  1  272.     NUMPRIO    EQU   SYSPRIO+1     Number of priority levels
                                    3597  1  273.
 000058                             3598  1  274.     DCTACTIV   DS    (NUMPRIO*2)A  Active set queue header
 000080                             3599  1  275.     DCTSWAIT   DS    (NUMPRIO*2)A  STW set queue header
 0000A8                             3600  1  276.     DCTREADY   DS    (NUMPRIO*2)A  Ready set queue header
 0000D0                             3601  1  277.     DCTLWAIT   DS    (NUMPRIO*2)A  LTW set queue header
                                    3602  1  278.     *
                                    3603  1  279.     * Swapping information
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   39
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3604  1  280.     *
 0000F8                             3605  1  281.     DCTSWOUT   DS    A             Total PF of outgoing AS's
 0000FC                             3606  1  282.     DCTSWPRI   DS    H             Prio of 1st S/O AS not yet provided for
 000100                             3607  1  283.     DCTSLPF    DS    A             PF low limit (before LTDISP called)
 000104                             3608  1  284.     DCTSHPF    DS    A             PF high limit (before LTDISP called)
 000108                             3609  1  285.     DCTSPFCT   DS    (NUMPRIO)A    RD PF count totals by priority level
                                    3610  1  286.     *
                                    3611  1  287.     * Time Slice Values
                                    3612  1  288.     *
 000120                             3613  1  289.     DCTSLICE   DS    (NUMPRIO)D    Time slices at each level
 000148                             3614  1  290.     DCTSLCWT   DS    (NUMPRIO)D    Wait times at each level
                                    3615  1  291.     *
                                    3616  1  292.     * CPU information
                                    3617  1  293.     *
 000170                             3618  1  294.     DCTIPCBS   DS    A             Queue of the IPCBs
 000174                             3619  1  295.     DCTIPCBT   DS    16A           Table of IPCB addresses for each CPU
 0001B4                             3620  1  296.     DCTTRMSK   DS    A             Mask for trace control register
                                    3621  1  297.     *
                                    3622  1  298.     * Other information
                                    3623  1  299.     *
 0001B8                             3624  1  300.     DCTVRST    DS    A             Location of available V=R area
 0001BC                             3625  1  301.     DCTVRLEN   DS    A             Length of available V=R area
 0001C0                001C0 001C0  3626     302.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   40
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3636     304.     *****************************************************************
                                    3637     305.     *                                                               *
                                    3638     306.     *    IPCB  --  Inter-processor communication block.  This       *
                                    3639     307.     *              Global control block is used to aid in the       *
                                    3640     308.     *              communication between processors.  It is chained *
                                    3641     309.     *              off the DCT.  Each PSA also points at the IPCB   *
                                    3642     310.     *              for that CPU.  Fields marked with an '*' should  *
                                    3643     311.     *              only be updated via an interlocked update.       *
                                    3644     312.     *                                                               *
                                    3645     313.     *****************************************************************
-000000                00000 00011  3647     315.     IPCB     RECORD BEGIN
 000000 C9D7C3C2                    3655  1  316.                DC    C'IPCB'       Control block ID
 000004                             3656  1  317.     IPCBNEXT   DS    A             Next IPCB in the chain
 000008                             3657  1  318.     IPCBPZ     DS    A             Address PZERO for this CPU
 00000C                             3658  1  319.     IPCBCPUA   DS    H             CPU address
 00000E                             3659  1  320.     IPCBPRIO   DS    H             Priority of Current ASDB on this CPU
 000010 00                          3660  1  321.     IPCBFL     FLAG  ,           * Communication flags
 IPCBFL.IPFLGRD    80 ONES          3664  1  322.                FLAG  IPFLGRD         Global re-dispatch
 IPCBFL.IPFLRCC    40 ONES          3669  1  323.                FLAG  IPFLRCC         Reset the clock comparator
 IPCBFL.IPFLPTLB   20 ONES          3674  1  324.                FLAG  IPFLPTLB        Purge the TLB
 000011                00011 00011  3679     325.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   41
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3689     327.              COPY  ASDB          Address Space Dispatch Blk - Local DSECT
                                    3690             =*
                                    3691             =*  This DSECT is copied only for INTERNAL monitor programs.
                                    3692             =*  Otherwise it is a private area
                                    3693             =*
                                    3694             =*****************************************************************
                                    3695             =*                                                               *
                                    3696             =*    ASDB  --  Address space dispatching block.  This Global    *
                                    3697             =*              area is used by the dispatcher to keep track of  *
                                    3698             =*              all the information used to dispatch an Address  *
                                    3699             =*              space and all the tasks in it.                   *
                                    3700             =*                                                               *
                                    3701             =*              The fields below marked with an '*' should only  *
                                    3702             =*              be modified by the CPU which has this as the     *
                                    3703             =*              current ASDB.  the other fields are protected by *
                                    3704             =*              the dispatcher lock.                             *
                                    3705             =*                                                               *
                                    3706             =*****************************************************************
-000000                00000 000C8  3708             =ASDB     RECORD BEGIN
 000000 C1E2C4C2                    3716  1          =           DC    C'ASDB'       Control block ID
 000004                             3717  1          =ASDBASB    DS    A             Address of the Associated ASB
 000008                             3718  1          =ASDBCHN    DS    A             Chain of all ASDBs in the system
                                    3719  1          =*
                                    3720  1          =* Address space Dispatching info
                                    3721  1          =*
 00000C                             3722  1          =ASDBNEXT   DS    A             Next ASDB in queue
 000010                             3723  1          =ASDBPREV   DS    A             Previous ASDB
 000014                             3724  1          =ASDBQADD   DS    A             Address of the queue header
 000018                             3725  1          =ASDBCCPU   DS    A           * ID of CPU currently running this ASDB
 00001C                             3726  1          =ASDBTPRI   DS    H           * Time slice priority (before limits)
 00001E                             3727  1          =ASDBHPRI   DS    H           * High limit on priority
 000020                             3728  1          =ASDBLPRI   DS    H           * Low limit on priority
 000022                             3729  1          =ASDBSPRI   DS    H           * Actual dispatching priority of the ASDB
 000024 00                          3730  1          =ASDBDFLG   FLAG  ,           * Dispatching flags
 ASDBDFLG.ASDBPZTS 80 ONES          3734  1          =           FLAG  ASDBPZTS        One time slice at prio level 0
 ASDBDFLG.ASDBACCT 40 ONES          3739  1          =           FLAG  ASDBACCT        Accounting is being done for this AS
 ASDBDFLG.ASDBTERM 20 ONES          3744  1          =           FLAG  ASDBTERM        This address space is terminating
                                    3749  1          =*
                                    3750  1          =*  Interlocked dispatching fields
                                    3751  1          =*
 000028                             3752  1          =           DS    0A
 000028 00                          3753  1          =ASDBIFLG   FLAG  ,        (CS) Interlocked dispatching flags
 ASDBIFLG.ASDBTDSP 80 ONES          3757  1          =           FLAG  ASDBTDSP        Local re-dispatch needed
 ASDBIFLG.ASDBPFLT 40 ONES          3762  1          =           FLAG  ASDBPFLT        Page fault processing in progress
 00002C                             3767  1          =ASDBSUSP   DS    A        (CS) Suspend count
                                    3768  1          =*
                                    3769  1          =* Task dispatching info
                                    3770  1          =*
 000030                             3771  1          =ASDBLOCK   DS    A           * Local lock.  Count of outstanding obt.
 000034                             3772  1          =ASDBSTK    DS    A           * Address of a stack for local use
 000038                             3773  1          =ASDBCTDB   DS    A           * Address of the current TDB
 00003C                             3774  1          =ASDBATDB   DS    A           * List of ready TDB's (in prio order)
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   42
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000040                             3775  1          =ASDBTDBS   DS    A           * List of all TDBs in this address space
 000044                             3776  1          =ASDBSTDB   DS    A        (CS) List of STDBs to be dispatched
 000048                             3777  1          =ASDBERBS   DS    A           * List of all ERBs in the address space
 00004C                             3778  1          =ASDBNTDB   DS    H           * Number of TDB's in the Address space
 00004E                             3779  1          =ASDBNSTW   DS    H           * Number of TDB's in short wait
 000050                             3780  1          =ASDBNLTW   DS    H           * Number of TDB's in long wait
                                    3781  1          =*
                                    3782  1          =* CPU Timer Information
                                    3783  1          =*
 000058                             3784  1          =ASDBTIMR   DS    D           * Total CPU time at CPU timer expiration
 000060                             3785  1          =ASDBCPTQ   DS    A           * Chain of CPTQ's (CPU timer requests)
                                    3786  1          =*
                                    3787  1          =* Local Control block queues
                                    3788  1          =*
 000064                             3789  1          =ASDBFTDB   DS    A           * List of free TDB's
 000068                             3790  1          =ASDBFERB   DS    A           * List of free ERB's
 00006C                             3791  1          =ASDBFESB   DS    A           * List of free ESB's
 000070                             3792  1          =ASDBFSTK   DS    A           * List of free Stacks
 000074                             3793  1          =ASDBFCPQ   DS    A           * List of free CPTQ's
                                    3794  1          =*
                                    3795  1          =* Working Set management info
                                    3796  1          =*
 000078                             3797  1          =ASDBWSIN   DS    D           * Working set timer interval
 000080                             3798  1          =ASDBWSLC   DS    D           * Number of WS intervals at last call
 000088                             3799  1          =ASDBWSNC   DS    D           * CPU time at next call to WS manager
 000090                             3800  1          =ASDBPAGN   DS    A             Paging function number (if swapped out)
 000094                             3801  1          =ASDBWSLM   DS    A             Limit on the working set size
 000098                             3802  1          =ASDBSHCT   DS    A        (CS) Hold swap count
 00009C 00                          3803  1          =ASDBSFLG   FLAG  ,             Swapping flags
 ASDBSFLG.ASDBSWTS 80 ONES          3807  1          =           FLAG  ASDBSWTS       One time-slice since the swap-in
 ASDBSFLG.ASDBSOIP 40 ONES          3812  1          =           FLAG  ASDBSOIP       Swap out I/O in progress
                                    3817  1          =*
                                    3818  1          =* Accounting and time slice information
                                    3819  1          =*
 0000A0                             3820  1          =ASDBCCPT   DS    D           * Current value of the CPU timer
 0000A8                             3821  1          =ASDBSCPU   DS    D           * Starting value of the CPU timer
 0000B0                             3822  1          =ASDBSLC    DS    D           * Total CPU time at slice end
 0000B8                             3823  1          =ASDBTCPU   DS    D           * Total CPU time for the user
 0000C0                             3824  1          =ASDBWTST   DS    D           * TOD clock at the start of the wait
 0000C8                000C8 000C8  3825             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   43
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3835     329.              COPY  TDB           Task Dispatch Block - Local DSECT
                                    3836             =*
                                    3837             =*  This DSECT is copied only for INTERNAL monitor programs.
                                    3838             =*  Otherwise it is a private area
                                    3839             =*
                                    3840             =*****************************************************************
                                    3841             =*                                                               *
                                    3842             =*     TDB  --  Task dispatching block.  This control block      *
                                    3843             =*              represents each task (separate flow of control)  *
                                    3844             =*              in the address space.                            *
                                    3845             =*                                                               *
                                    3846             =*****************************************************************
-000000                00000 000E0  3848             =TDB      RECORD BEGIN
 000000 E3C4C240                    3856  1          =           DC    C'TDB '       Control block ID
 000004                             3857  1          =TDBASDB    DS    A             Address of the Associated ASDB
 000008                             3858  1          =TDBCHN     DS    A             Chain of all the TDBs off the ASDB
                                    3859  1          =*
                                    3860  1          =* Dispatching info
                                    3861  1          =*
 00000C                             3862  1          =TDBNEXT    DS    A             Next task of lower priority
 000010                             3863  1          =TDBPRIO    DS    A             Priority within the address space
                                    3864  1          =*
                                    3865  1          =* Task info
                                    3866  1          =*
 000014                             3867  1          =TDBSTACK   DS    A             Address of the first level stack
 000018 00                          3868  1          =TDBFLG1    FLAG  ,             Status flags
 TDBFLG1.TDBFGLOB  80 ONES          3872  1          =           FLAG  TDBFGLOB        This TDB/stack is from global storage
 TDBFLG1.TDBFACT   40 ONES          3877  1          =           FLAG  TDBFACT         This TDB is on the Active queue
                                    3882  1          =*
                                    3883  1          =* Interrupt information
                                    3884  1          =*
 00001C                             3885  1          =TDBESBS    DS    A             Stack of ESB's
 000020                             3886  1          =TDBERBS    DS    A             Chain of ERB's waiting
 000024                             3887  1          =TDBXRMAP   DS    A             Bit map of exit types queued
 000028                             3888  1          =TDBISTK    DS    A             Stack of the interrupt ERBs
 00002C                             3889  1          =TDBLCN     DS    A             Level of control index number
                                    3890  1          =*
                                    3891  1          =* System Exit routine request IDs
                                    3892  1          =*
 000030                             3893  1          =TDBSVERQ   DS    A             Request ID for SVC exits
 000034                             3894  1          =TDBPIERQ   DS    A             Request ID for PI exits
 000038                             3895  1          =TDBMCERQ   DS    A             Request ID for Monitor Call Exits
 00003C                             3896  1          =TDBPEERQ   DS    A             Request ID for PER Exits
                                    3897  1          =*
                                    3898  1          =* Current status -- Saved when a new level of control is entered
                                    3899  1          =*
 000040                             3900  1          =TDBPSW     DS    D             Current PSW
 000048                             3901  1          =TDBGPRS    DS    16F           General registers
 000088                             3902  1          =TDBFPRS    DS    4D            Floating point registers
                                    3903  1          =TDBISTAT   EQU   TDBPSW,*-TDBPSW,C'X'    Interrupt Status information
 0000A8                             3904  1          =TDBEMASK   DS    A             Exit enabled mask
 0000AC                             3905  1          =TDBCLCN    DS    A             ID number of this level of control
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   44
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00000B0 00                          3906  1          =TDBDFLG    FLAG  ,             Task dispatching flags
 TDBDFLG.TDBSUSP   80 ONES          3910  1          =           FLAG  TDBSUSP         TDB is suspended
 TDBDFLG.TDBLONG   40 ONES          3915  1          =           FLAG  TDBLONG         The suspension is a long one
                                    3920  1          =TDBESTAT   EQU   TDBPSW,*-TDBPSW,C'X'    Exit Status information
                                    3921  1          =*
                                    3922  1          =* Task associated Control Register information
                                    3923  1          =*
 0000B4                             3924  1          =TDBMON     DS    F             Monitor Class masks    CR 8
 0000B8                             3925  1          =TDBPERIN   DS    3F            PER control regsisters CR 9-11
                                    3926  1          =*
                                    3927  1          =* Task timing information
                                    3928  1          =*
 0000C4                             3929  1          =TDBCPTQ    DS    A             Address of the Task CPU timer queue
 0000C8                             3930  1          =TDBCPUST   DS    D             AS clock when this TDB became current
 0000D0                             3931  1          =TDBTCLK    DS    D             CPU time at which an int is desired
 0000D8                             3932  1          =TDBTCPU    DS    D             Total amount of CPU time task has used
 0000E0                000E0 000E0  3933             =         END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   45
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3943     331.     *****************************************************************
                                    3944     332.     *                                                               *
                                    3945     333.     *    STDB  --  System Task Dispatching block.  This control     *
                                    3946     334.     *              block represents requests from one address space *
                                    3947     335.     *              to run a routine in another address space.  It   *
                                    3948     336.     *              is queued off the ASDB until it is needed.  A    *
                                    3949     337.     *              pool of free ones is kept in the DCT.            *
                                    3950     338.     *                                                               *
                                    3951     339.     *****************************************************************
-000000                00000 00020  3953     341.     STDB     RECORD BEGIN
 000000 E2E3C4C2                    3961  1  342.                DC    C'STDB'       Control block ID
 000004                             3962  1  343.     STDBNEXT   DS    A             Address of the next one in the list
 000008                             3963  1  344.     STDBASDB   DS    A             Address of ASDB where scheduled
 00000C                             3964  1  345.     STDBADDR   DS    A             Address of the requested routine
 000010                             3965  1  346.     STDBPARM   DS    4A            Parameters for the routine
 000020                00020 00020  3966     347.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   46
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3976     349.     *****************************************************************
                                    3977     350.     *                                                               *
                                    3978     351.     *     ESB  --  Exit specification block.  This control block    *
                                    3979     352.     *              represents an exit routine that has been         *
                                    3980     353.     *              specified.  These are task associated.           *
                                    3981     354.     *                                                               *
                                    3982     355.     *****************************************************************
-000000                00000 00025  3984     357.     ESB      RECORD BEGIN
 000000 C5E2C240                    3992  1  358.                DC    C'ESB '       Control block ID
 000004                             3993  1  359.     ESBNEXT    DS    A             Address of the next in the list
 000008                             3994  1  360.     ESBTDB     DS    A             Pointer to the owning TDB
                                    3995  1  361.     *
                                    3996  1  362.     * Exit information
                                    3997  1  363.     *
 00000C                             3998  1  364.     ESBTYPE    DS    A             Exit types handled by this routine
 000010                             3999  1  365.     ESBPSW     DS    D             New PSW for the exit
 000018                             4000  1  366.     ESBSTACK   DS    A             Address of a stack (if ESBFSTK set)
 00001C                             4001  1  367.     ESBQUAL    DS    A             Exit Qualifier
 000020                             4002  1  368.     ESBPARM    DS    A             Parm for the exit routine
 000024 00                          4003  1  369.     ESBFLGS    FLAG  ,             Exit flags
 ESBFLGS.ESBFSTK   80 ONES          4007  1  370.                FLAG  ESBFSTK        Enter the exit with a stack
 ESBFLGS.ESBFENCE  40 ONES          4012  1  371.                FLAG  ESBFENCE       Limit search for exit manipulation
 ESBFLGS.ESBFQUAL  20 ONES          4017  1  372.                FLAG  ESBFQUAL       This exit limited to matching quals
 ESBFLGS.ESBFDIS   10 ONES          4022  1  373.                FLAG  ESBFDIS        This exit is disabled
 000025                00025 00025  4027     374.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   47
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4037     376.     *****************************************************************
                                    4038     377.     *                                                               *
                                    4039     378.     *     ERB  --  Exit request block.  This control block          *
                                    4040     379.     *              represents a request for an exit routine to be   *
                                    4041     380.     *              entered.  It also serves as an information       *
                                    4042     381.     *              repository while the exit routine is running.    *
                                    4043     382.     *                                                               *
                                    4044     383.     *****************************************************************
-000000                00000 000B1  4046     385.     ERB      RECORD BEGIN
 000000 C5D9C240                    4054  1  386.                DC    C'ERB '       Control block ID
 000004                             4055  1  387.     ERBNEXT    DS    A             Next ERB in queue
 000008                             4056  1  388.     ERBCHN     DS    A             Chain of the ERB's off the ASDB
 00000C                             4057  1  389.     ERBASDB    DS    A             Address of the owning ASDB
 000010                             4058  1  390.     ERBTDB     DS    A             Address of the TDB it is queued on
 000014                             4059  1  391.     ERBESB     DS    A             Address of the associated exit routine
 000018 00                          4060  1  392.     ERBSTFL    FLAG  ,             Exit request status
 ERBSTFL.ERBSFREE  00 EQ            4064  1  393.                FLAG  (ERBSFREE,0,EQ)   Exit request is available
 ERBSTFL.ERBSPEND  01 EQ            4074  1  394.                FLAG  (ERBSPEND,1,EQ)   Exit request is pending
 ERBSTFL.ERBSACT   02 EQ            4084  1  395.                FLAG  (ERBSACT,2,EQ)    Exit request is active
 000019 00                          4094  1  396.     ERBFL      FLAG  ,             Exit request flags
 ERBFL.ERBFDEL     80 ONES          4098  1  397.                FLAG  ERBFDEL           This one has been deleted
 00001C                             4103  1  398.     ERBMTYPE   DS    A             Type of the exit (bit mask)
                                    4104  1  399.     *
                                    4105  1  400.     * The address of the following area is passed to the exit routine
                                    4106  1  401.     * and is mapped by the dsect XITSAREA
                                    4107  1  402.     *
 000020                             4108  1  403.                DS    0D            Make it so alignment is same as dsect
 000020                             4109  1  404.     ERBRPARM   DS    A             Exit routine parm (from the ESB)
 000024                             4110  1  405.     ERBTYPE    DS    X             Type of the exit (integer)
 000025                             4111  1  406.                DS    3X
 000028                             4112  1  407.     ERBQUAL    DS    A             Qualifier for the exit
 00002C                             4113  1  408.     ERBPARM    DS    4A            Exit parms
                                    4114  1  409.     *
                                    4115  1  410.     * Information about the interrupted level of control
                                    4116  1  411.     *
 000040                             4117  1  412.                DS    0D
 000040                             4118  1  413.     ERBSTAT    DS    XL(L'TDBESTAT)          Saved status area
 0000B1                000B1 000B1  4119     414.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   48
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4129     416.     *****************************************************************
                                    4130     417.     *                                                               *
                                    4131     418.     *    RTCQ  --  Real Time Clock Queue element.  This control     *
                                    4132     419.     *              block represents real time timer requests.       *
                                    4133     420.     *                                                               *
                                    4134     421.     *****************************************************************
-000000                00000 00029  4136     423.     RTCQ     RECORD BEGIN
 000000 D9E3C3D8                    4144  1  424.                DC    C'RTCQ'       Control block id
 000004                             4145  1  425.     RTCQNEXT   DS    A             Next RTCQ in the queue
 000008                             4146  1  426.     RTCQTOD    DS    D             TOD clock when this RTCQ expires
 000010                             4147  1  427.     RTCQASB    DS    A             Pointer to the owning ASB
 000014                             4148  1  428.     RTCQTDB    DS    A             Pointer to the owning TDB
 000018                             4149  1  429.     RTCQSYSR   DS    A             ID of a SYSR
 00001C                             4150  1  430.     RTCQXID    DS    A             User's exit ID
 000020                             4151  1  431.     RTCQPARM   DS    2A            User's parms
 000028 00                          4152  1  432.     RTCQFLGS   FLAG  ,             Timer flags
 RTCQFLGS.RTINTVL  80 ONES          4156  1  433.                FLAG  RTINTVL        This is an interval timer
 000029                00029 00029  4161     434.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Local Control Blocks                                                                   Page   49
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4171     436.     *****************************************************************
                                    4172     437.     *                                                               *
                                    4173     438.     *    CPTQ  --  CPU Time timer Queue element.  This control      *
                                    4174     439.     *              block represents CPU time timer requests.        *
                                    4175     440.     *                                                               *
                                    4176     441.     *****************************************************************
-000000                00000 00020  4178     443.     CPTQ     RECORD BEGIN
 000000 C3D7E3D8                    4186  1  444.                DC    C'CPTQ'       Control block id
 000004                             4187  1  445.     CPTQNEXT   DS    A             Next CPTQ in the queue
 000008                             4188  1  446.     CPTQTOD    DS    D             TOD clock when this CPTQ expires
 000010                             4189  1  447.     CPTQTDB    DS    A             Pointer to the owning TDB
 000014                             4190  1  448.     CPTQXID    DS    A             User's exit ID
 000018                             4191  1  449.     CPTQPARM   DS    2A            User's parms
 000020                00020 00020  4192     450.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   50
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4202     452.     *****************************************************************
                                    4203     453.     *                                                               *
                                    4204     454.     *  ASDISP  --  This is the address space dispatcher.  It is     *
                                    4205     455.     *              entered off the dispatcher stack and makes sure  *
                                    4206     456.     *              that the highest priority ready address space is *
                                    4207     457.     *              the one selected by this CPU.                    *
                                    4208     458.     *                                                               *
                                    4209     459.     *   Input  --  none                                             *
                                    4210     460.     *                                                               *
                                    4211     461.     *  Output  --  none                                             *
                                    4212     462.     *                                                               *
                                    4213     463.     *****************************************************************
-000016                             4215     465.     ASDISP   PROC  SCOPE=LOCAL
 000016 C1E2C4C9E2D74040            4222             +
 00001E 0000/0000                   4223             +
 000022 900F D004/18AF       00004  4225             +
 USING  ASDISP,R10
 000028 50D0 C000/18CD       00000  4240             +
 00002E 9680 C000      00000        4242             +
 000032 41D0 C048            00048  4243             +
                                    4244     466.     *
                                    4245     467.     * See if an Address space level dispatch is needed before a local one
                                    4246     468.     *
 000036 48F0 0308            00088  4247     469.              CLOCK DISP                    Put it on our nickel
 00003A 49F0 A802            00824  4249             +
 00003E 4780 A030            00052  4256             +
 000042 B209 F000      00000        4261  1          +
 000046 41F0 02F8            002F8  4262  1          +
 00004A 40F0 0308            00088  4263  1          +
 00004E B208 02F8      00078        4264             +
 000052 9140 021A      0021A        4269     470.              IF    PZATERM,BEGIN
 000056 47E0 A05C            0007E  4279             +
 00005A 9300 033A      000BA        4284  1  471.                TS    PSATRMLK                Get the term lock
 00005E 4770 A05C            0007E  4285  1  472.                IF    Z,BEGIN
 000062 94BF 021A      0021A        4296  2  473.                  CLEAR PZATERM                 Not again
 000066 5820 0200            00200  4303  2  474.                  L     RA,PZMATP               Get the mat pointer
 USING  MAT,R2                      4304  2  475.                  WITH  (MAT,RA),BEGIN
 USING  @SIGNAL-72,R13              4318  3  476.                    SIGNL MATTECB,TYPE=AS         Wakeup termination processing
 00006A D713 D048 D048 00000 00000  4336  3          +
 000070 4100 2040            00040  4348  3          +
 000074 5000 D050            00008  4353  3          +
 000078 58F0 A7D6/0DEF       007F8  4356  3          +
 DROP   MAT,R2                      4358  2  477.                  END   ,
 00007E                             4366  1  478.                END   ,
 00007E                             4370     479.              END   ,
000007E 9140 0338      000B8        4375     481.              IF    ~DISPGRD,LOCDISP        Go directly to the local one
 000082 47E0 A2B4            002D6  4387             +
                                    4393     482.     *
                                    4394     483.     * Turn off the request(s) to re-dispatch
                                    4395     484.     *
 000086 94BF 0338      000B8        4396     485.     ASDLP    CLEAR DISPGRD                 No need to do this now
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   51
0Current Usings:  (PZERO,R0) (ASDISP,R10) (@SIGNAL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000008A 5890 0320            000A0  4404     486.              L     RN,PSAIPCB
 USING  IPCB,R9                     4405     487.              WITH  (IPCB,RN),BEGIN
 00008E 9180 9010      00010        4419  1  488.                IF    IPFLGRD,BEGIN
 000092 47E0 A092            000B4  4429  1          +
 00082C 7F             0082C 05F38  4434  2  489.                  CLEAR IPFLGRD,MODE=LOCKED,REF=IPCB
 000096 41F0 0001/111F       00001  4454  2          +
 00009C 89F0 0003            00003  4456  2          +
 0000A0 44F0 A80C            0082E  4458  2          +
 00082D 00/BF10 A80A         0082C        2          +
 0000A4 58F0 9010/180F       00010  4473  2          +
 0000AA 1401/BAF0 9010       00010  4475  2          +
 0000B0 4770 A086            000A8  4478  2          +
 0000B4                             4479  1  490.                END   ,
 DROP   IPCB,R9                     4483     491.              END   ,
                                    4491     492.     *
                                    4492     493.     * Get the dispatcher lock
                                    4493     494.     *
 0000B4 5860 032C            000AC  4494     495.              L     RX,PSADCT               Get the DCT pointer
 USING  DCT,R6                      4495     496.              WITH  (DCT,RX)
 DROP   @SIGNAL-72,R13              4508     497.              LKOB  DCTLOCK                 Get the DCT lock
 USING  @LOCKS-72,R13
 0000B8 D203 D048 6004 00000 00004  4527             +
 0000BE 58F0 A7DA/0DEF       007FC  4530             +
                                    4532     498.     *
                                    4533     499.     * Take care of the long term dispatching before all else
                                    4534     500.     *
 0000C4 5820 0200            00200  4535     501.              L     RA,PZMATP               Get the mat pointer
 USING  MAT,R2                      4536     502.              WITH  (MAT,RA),BEGIN
 0000C8 5810 20DC            000DC  4550  1  503.                L     RS,MATPAGFN             Current paging function num
                                    4551  1  504.   C            IF    (DISPLTD,OR,
                                          1  505.   C                  (RS,GE,DCTSHPF),OR,
 0000CC 9120 0338      000B8              1  506.                      (RS,LT,DCTSLPF)),BEGIN
 0000D0 4710 A0C2            000E4  4565  1          +
 0000D4 5910 6104            00104  4576  1          +
 0000D8 47A0 A0C2            000E4  4579  1          +
 0000DC 5910 6100            00100  4590  1          +
 0000E0 47B0 A0CC            000EE  4591  1          +
 0000E4 94DF 0338      000B8        4596  2  507.                  CLEAR DISPLTD
 0000E8 58F0 A7DE/0DEF       00800  4603  2  508.                  ACALL LTDISP                  Do the long term disp
 0000EE                             4610  1  509.                END   ,
 DROP   MAT,R2                      4614     510.              END   ,
                                    4622     511.     *
                                    4623     512.     * Get the current ASDB
                                    4624     513.     *
 0000EE 5870 0324            000A4  4625     514.              L     RY,PSAASDB
 USING  ASDB,R7                     4626     515.              WITH  (ASDB,RY)
                                    4639     516.     *
                                    4640     517.     * If there is no current ASDB, get one
                                    4641     518.     *
 0000F2 1277/4770 A100       00122  4642     519.              IF    (RY,Z),BEGIN
 0000F8 4100 6058            00058  4656  1  520.     GETNASDB   PQHIGH DCTACTIV               Remove the top one
 DROP   @LOCKS-72,R13
 USING  PQPARM-72,R13
 0000FC 5000 D04C            00004  4689  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   52
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000100 58F0 A7E2/0DEF       00804  4695  1          +
 000106 1270                        4697  1  521.                LTR   RY,RVR
 000108 4770 A100            00122  4698  1  522.                IF    Z,BEGIN                 None there either
 00010C 41F0 AD42/0DEF       00D64  4709  2  523.                  LCALL IDLE                    Set up to do nothing
 DROP   PQPARM-72,R13               4718  2  524.                  LKREL DCTLOCK                 Free the lock
 USING  @LOCKS-72,R13
 000112 D203 D048 6004 00000 00004  4737  2          +
 000118 58F0 A7E6/0DEF       00808  4740  2          +
 00011E 47F0 A2F2            00314  4742  2  525.                  EXIT  ASDISP                  Then bag out of this joint
 000122                             4745  1  526.                END   ,
 000122                             4749     527.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   53
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4754     529.     *
                                    4755     530.     * We have the current executing ASDB now. Lets take a look at it.
                                    4756     531.     *
0                                   4758     533.     *
                                    4759     534.     * Check to see whether the current address space is outranked by
                                    4760     535.     * an address space that is swapped out but ready.  If it is, and
                                    4761     536.     * it is also swapable, we take care of that matter here and now.
                                    4762     537.     *
 000122 4810 7022            00022  4763     538.              LH    RS,ASDBSPRI             Get the Priority
 000126 4910 60FC            000FC  4764     539.              IF    ((RS,LE,DCTSWPRI),AND,('LT RS,ASDBSHCT',Z)),BEGIN
 00012A 4730 A13C            0015E  4778             +
 00012E 5810 7098/1211       00098  4789             +
 000134 4770 A13C            0015E  4791             +
 000138 5970 0324            000A4  4796  1  540.                IF    (RY,EQ,PSAASDB),'LCALL DISMASDB'  Clean up the AS
 00013C 4770 A124            00146  4808  1          +
 000140 41F0 A5C6/0DEF       005E8  4821  1          +
 DROP   @LOCKS-72,R13               4827  1  541.                PSET  @DEMOTE,CLEAR=NO
 USING  @DEMOTE-72,R13
 000146 5070 D048            00000  4841  1  542.                ST    RY,@DEMASDB             ASDB to demote
 00014A 58F0 A7EA/0DEF       0080C  4842  1  543.                ACALL DEMOTE                  Demote it
 000150 1200/4770 A13C       0015E  4849  1  544.                IF    (RVR,Z),BEGIN           It went ok, been put on LTW
 000156 B205 70C0      000C0        4863  2  545.                  STCK  ASDBWTST                It has been put in wait
 00015A 47F0 A0D6            000F8  4864  2  546.                  B     GETNASDB                Try for another
 00015E                             4865  1  547.                END   ,
                                    4869  1  548.     *
                                    4870  1  549.     * If we couldn't swap it out, we just pretend we didn't try
                                    4871  1  550.     *
 00015E                             4872     551.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   54
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (@DEMOTE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4877     553.     *
                                    4878     554.     * Take care of the suspended address space case
                                    4879     555.     *
 00015E 5810 702C/1211       0002C  4880     556.              IF    ('LT RS,ASDBSUSP',NZ),BEGIN    It is suspended
 000164 4780 A16E            00190  4891             +
 000168 5970 0324            000A4  4896  1  557.                IF    (RY,EQ,PSAASDB),'LCALL DISMASDB'  Clean it up
 00016C 4770 A154            00176  4908  1          +
 000170 41F0 A5C6/0DEF       005E8  4921  1          +
 000176 B205 70C0      000C0        4927  1  558.                STCK  ASDBWTST                Start of the wait time
 00017A 4100 6080            00080  4928  1  559.                PQADD DCTSWAIT,(RY)           Put it on the STW queue
 DROP   @DEMOTE-72,R13
 USING  PQPARM-72,R13
 00017E 5000 D04C            00004  4960  1          +
 000182 5070 D048            00000  4970  1          +
 000186 58F0 A7EE/0DEF       00810  4976  1          +
 00018C 47F0 A0D6            000F8  4978  1  560.                B     GETNASDB                Go back for another one
 000190                             4979     561.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   55
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4984     563.     *
                                    4985     564.     * If the current Address space has no ready tasks, we can move on
                                    4986     565.     * to another.
                                    4987     566.     *
                                    4988     567.   C          IF    (('LT RS,ASDBCTDB',Z),AND,('LT RS,ASDBSTDB',Z),AND,
 000190 5810 7038/1211       00038           568.                    ('LT RS,ASDBATDB',Z)),BEGIN
 000196 4770 A22A            0024C  5001             +
 00019A 5810 7044/1211       00044  5012             +
 0001A0 4770 A22A            0024C  5014             +
 0001A4 5810 703C/1211       0003C  5025             +
 0001AA 4770 A22A            0024C  5027             +
 0001AE 5970 0324            000A4  5032  1  569.                IF    (RY,EQ,PSAASDB),'LCALL DISMASDB'  Clean up the AS
 0001B2 4770 A19A            001BC  5044  1          +
 0001B6 41F0 A5C6/0DEF       005E8  5057  1          +
 0001BC B205 70C0      000C0        5063  1  570.                STCK  ASDBWTST                Save the wait time start
 0001C0                             5064  1  571.                IF    (ASDBNTDB,EQ,ASDBNLTW),BEGIN      Long term wait
 0001C0 D501 704C 7050 0004C 00050  5076  1          +
 0001C6 4770 A214            00236  5077  1          +
                                    5082  2  572.     *
                                    5083  2  573.     * If all the tasks are in long term wait, we try to swap it right
                                    5084  2  574.     * now, even if it has not been in for a whole time slice.
                                    5085  2  575.     *
 0001CA 9180 709C      0009C        5086  2  576.                  IF    ~ASDBSWTS,BEGIN         Hasn't been in one slice
 0001CE 4710 A1FA            0021C  5096  2          +
 0001D2 9680 709C      0009C        5101  3  577.                    SET   ASDBSWTS                Pretend it has
 0001D6 5820 7098            00098  5107  3  578.                    L     RA,ASDBSHCT             Get the swap hold count
 0001DA                             5108  3  579.                    LOOP  BEGIN
 0001DA 1812                        5114  4  580.                      LR    RS,RA                   Copy the count value
 0001DC 4B10 A804            00826  5115  4  581.                      SH    RS,=Y(1)                Decrement the count
 0001E0 47B0 A1F2            00214  5116  4  582.                      IF    NEG,'ABORT SWAPHREL'    Not too far though
 0001E4 AC04 021B      0021B        5131  5          +
 0001E8 9680 021A      0021A        5137  5          +
 0001EC 50F0 021C            0021C  5138  5          +
 0001F0 58F0 0210            00210  5139  5          +
 0001F4 89F0 0010            00010  5140  5          +
 0001F8 88F0 0010            00010  5141  5          +
 0001FC 41F0 F000            00000  5142  5          +
 000200 AEFF 0006            00006  5143  5          +
 000204 E2E6C1D7C8D9C5D3            5144  4          +
 000214 BA21 7098            00098  5149  4  583.                      CS    RA,RS,ASDBSHCT          Update the count
 000218 4770 A1B8            001DA  5150  3  584.                    UNTIL Z,END                   Release one swap hold
 00021C                             5169  2  585.                  END   ,
                                    5173  2  586.     *
                                    5174  2  587.     * If there are no holds, swap it out
                                    5175  2  588.     *
 00021C 5810 7098/1211       00098  5176  2  589.                  IF    ('LT RS,ASDBSHCT',Z),BEGIN
 000222 4770 A214            00236  5187  2          +
 DROP   PQPARM-72,R13               5192  3  590.                    PSET  @DEMOTE,CLEAR=NO
 USING  @DEMOTE-72,R13
 000226 5070 D048            00000  5206  3  591.                    ST    RY,@DEMASDB             ASDB to demote
 00022A 58F0 A7EA/0DEF       0080C  5207  3  592.                    ACALL DEMOTE                  Demote it
 000230 1200/4780 A0D6       000F8  5214  3  593.                    IF    (RVR,Z),GETNASDB        Swap went ok.
                                    5231  3  594.     *
                                    5232  3  595.     * If the swap didn't go, pretend we didn't try
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   56
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (@DEMOTE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5233  3  596.     *
 000236                             5234  2  597.                  END   ,
 000236                             5238  1  598.                END   ,
                                    5242  1  599.     *
                                    5243  1  600.     * In other cases, just move it to the short term wait queue
                                    5244  1  601.     *
 000236 4100 6080            00080  5245  1  602.                PQADD DCTSWAIT,(RY)           Put it on the STW queue
 DROP   @DEMOTE-72,R13
 USING  PQPARM-72,R13
 00023A 5000 D04C            00004  5277  1          +
 00023E 5070 D048            00000  5287  1          +
 000242 58F0 A7EE/0DEF       00810  5293  1          +
 000248 47F0 A0D6            000F8  5295  1  603.                B     GETNASDB                Done with this one
 00024C                             5296     604.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   57
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5301     606.     *
                                    5302     607.     * Check to see whether the current address space is outranked
                                    5303     608.     * by any on the active queue.
                                    5304     609.     *
 00024C 4100 6058            00058  5305     610.              PQPRIO DCTACTIV               Get the highest ready prio
 000250 5000 D04C            00004  5327             +
 000254 58F0 A7F2/0DEF       00814  5333             +
 00025A 4900 7022            00022  5335     611.              IF    (RVR,GT,ASDBSPRI),BEGIN We are outranked
 00025E 47D0 A264            00286  5347             +
 000262 5970 0324            000A4  5352  1  612.                IF    (RY,EQ,PSAASDB),BEGIN
 000266 4770 A24E            00270  5364  1          +
 00026A 41F0 A5C6/0DEF       005E8  5369  2  613.                  LCALL DISMASDB                Clean up the Address space
 000270                             5378  1  614.                END   ,
 000270 4100 6058            00058  5382  1  615.                PQREQ DCTACTIV,(RY)           Re-queue our boy
 000274 5000 D04C            00004  5404  1          +
 000278 5070 D048            00000  5414  1          +
 00027C 58F0 A7F6/0DEF       00818  5420  1          +
 000282 47F0 A0D6            000F8  5422  1  616.                B     GETNASDB                And try out the next one
 000286                             5423     617.              END   ,
                                    5427     618.     *
                                    5428     619.     * If we have run one time slice at zero priority, and the next guy
                                    5429     620.     * also has zero priority, then we let him run.
                                    5430     621.     *
 000286 9180 7024      00024        5431     622.              IF    (ASDBPZTS,AND,(RVR,Z)),BEGIN
 00028A 47E0 A296/1200       002B8  5443             +
 000290 4770 A296            002B8  5454             +
 000294 5970 0324            000A4  5459  1  623.                IF    (RY,EQ,PSAASDB),BEGIN
 000298 4770 A280            002A2  5471  1          +
 00029C 41F0 A5C6/0DEF       005E8  5476  2  624.                  LCALL DISMASDB                Clean up the Address space
 0002A2                             5485  1  625.                END   ,
 0002A2 4100 6058            00058  5489  1  626.                PQADD DCTACTIV,(RY)           Add our boy at the end
 0002A6 5000 D04C            00004  5511  1          +
 0002AA 5070 D048            00000  5521  1          +
 0002AE 58F0 A7EE/0DEF       00810  5527  1          +
 0002B4 47F0 A0D6            000F8  5529  1  627.                B     GETNASDB                And try out the next one
 0002B8                             5530     628.              END   ,
                                    5534     629.     *
                                    5535     630.     * We are ready to start up this address space
                                    5536     631.     *
 0002B8 5970 0324            000A4  5537     632.              IF    (RY,NE,PSAASDB),BEGIN   If it's not all set up
 0002BC 4780 A2A8            002CA  5549             +
 0002C0 5070 0324            000A4  5554  1  633.                ST    RY,PSAASDB              Mark it in the PSA
 0002C4 41F0 A4E0/0DEF       00502  5555  1  634.                LCALL ACTASDB                 Set up the PSA
 0002CA                             5564     635.              END
 DROP   PQPARM-72,R13               5568     636.              LKREL DCTLOCK                 Free the dispatcher lock
 USING  @LOCKS-72,R13
 0002CA D203 D048 6004 00000 00004  5587             +
 0002D0 58F0 A7E6/0DEF       00808  5590             +
                                    5592     637.     *
                                    5593     638.     * Take care of the local dispatching now
                                    5594     639.     *
 0002D6 9180 7028      00028        5595     640.     LOCDISP  IF    (ASDBTDSP,OR,('LT RS,PSATDB',Z)),BEGIN   Dispatch needed
 0002DA 4710 A2C6            002E8  5610             +
 0002DE 5810 0328/1211       000A8  5619             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   58
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASDISP,R10) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00002E4 4770 A2D6            002F8  5621             +
 0002E8 41F0 A308/0DEF       0032A  5626  1  641.                LCALL TKDISP                           Re-dispatch locally
 0002EE 5810 0328/1211       000A8  5635  1  642.                IF    ('LT RS,PSATDB',Z),ASDLP         Try again from the top
 0002F4 4780 A064            00086  5648  1          +
 0002F8                             5654     643.              END   ,
 0002F8 48F0 0308            00088  5658     644.              CLOCK USER                    And back at the user
 0002FC 49F0 A806            00828  5660             +
 000300 4780 A2F2            00314  5667             +
 000304 B209 F000      00000        5672  1          +
 000308 41F0 02F0            002F0  5673  1          +
 00030C 40F0 0308            00088  5674  1          +
 000310 B208 02F0      00070        5675             +
                                    5680     645.     *
                                    5681     646.     * All done... All the user info is now in the PSA
                                    5682     647.     *
 000314 981F C008            00008  5683     648.              PEND  ,
 DROP   ASDB,R7
 DROP   DCT,R6
 DROP   ASDISP,R10
 000318 9680 C000/0B0E 00000        5703             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   59
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5713     650.     *****************************************************************
                                    5714     651.     *                                                               *
                                    5715     652.     *  TKDISP  --  This is the local task dispatcher.  It makes     *
                                    5716     653.     *              sure that the highest priority TDB in the        *
                                    5717     654.     *              current ASDB is the current TDB.                 *
                                    5718     655.     *                                                               *
                                    5719     656.     *    Input --  none                                             *
                                    5720     657.     *                                                               *
                                    5721     658.     *   Output --  none                                             *
                                    5722     659.     *                                                               *
                                    5723     660.     *****************************************************************
-00031E                             5725     662.     TKDISP   PROC  SCOPE=LOCAL
 00031E E3D2C4C9E2D74040            5732             +
 000326 0000/0000                   5733             +
 00032A 900F D004/18AF       00004  5735             +
 USING  TKDISP,R10
 000330 50D0 C000/18CD       00000  5750             +
 000336 9680 C000      00000        5752             +
 00033A 41D0 C048            00048  5753             +
 00033E 9180 0338      000B8        5754     663.              IF    ~DISPSTK,'ABORT NODISP' Must be off dispatch stack
 000342 4710 A04C            00376  5764             +
 000346 AC04 021B      0021B        5773  1          +
 00034A 9680 021A      0021A        5779  1          +
 00034E 50F0 021C            0021C  5780  1          +
 000352 58F0 0210            00210  5781  1          +
 000356 89F0 0010            00010  5782  1          +
 00035A 88F0 0010            00010  5783  1          +
 00035E 41F0 F000            00000  5784  1          +
 000362 AEFF 0006            00006  5785  1          +
 000366 D5D6C4C9E2D74040            5786             +
                                    5791     664.     *
                                    5792     665.     * Get the current control blocks
                                    5793     666.     *
 000376 5870 0324            000A4  5794     667.              L     RY,PSAASDB              Get the ASDB pointer
 USING  ASDB,R7                     5795     668.              WITH  (ASDB,RY)
                                    5808     669.     *
                                    5809     670.     * If the local lock is held, we don't re-dispatch here
                                    5810     671.     *
 00037A 5860 7030/1266       00030  5811     672.              IF    ('LT RX,ASDBLOCK',NZ),EXIT       It is held here
 000380 4770 A1C2            004EC  5824             +
                                    5830     673.     *
                                    5831     674.     * If the re-dispatch flag is set, clear it (interlocked)
                                    5832     675.     *
 000384 9180 7028      00028        5833     676.              IF    ASDBTDSP,BEGIN
 000388 47E0 A080            003AA  5843             +
 000832 7F             0082C 05F38  5848  1  677.                CLEAR ASDBTDSP,MODE=LOCKED,REF=ASDB
 00038C 41F0 0001/111F       00001  5868  1          +
 000392 89F0 0003            00003  5870  1          +
 000396 44F0 A50A            00834  5872  1          +
 000833 00/BF10 A508         00832        1          +
 00039A 58F0 7028/180F       00028  5887  1          +
 0003A0 1401/BAF0 7028       00028  5889  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   60
0Current Usings:  (PZERO,R0) (ASDB,R7) (TKDISP,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00003A6 4770 A074            0039E  5892  1          +
 0003AA                             5893     678.              END   ,
                                    5897     679.     *
                                    5898     680.     * Take care of any queued system TDBs (STDBs)
                                    5899     681.     *
 0003AA 5810 7044/1211       00044  5900     682.              IF    ('LT RS,ASDBSTDB',NZ),BEGIN   Some STDB's are queued
 0003B0 4780 A0C8            003F2  5911             +
 0003B4 48F0 0308            00088  5916  1  683.                CLOCK USER                    Address space work
 0003B8 49F0 A4FE            00828  5918  1          +
 0003BC 4780 A0A6            003D0  5925  1          +
 0003C0 B209 F000      00000        5930  2          +
 0003C4 41F0 02F0            002F0  5931  2          +
 0003C8 40F0 0308            00088  5932  2          +
 0003CC B208 02F0      00070        5933  1          +
 0003D0 41F0 A42C/0DEF       00756  5938  1  684.                LCALL SYSTDBS                 Take care of them
 0003D6 48F0 0308            00088  5947  1  685.                CLOCK DISP                    Put it on our nickel
 0003DA 49F0 A4FA            00824  5949  1          +
 0003DE 4780 A0C8            003F2  5956  1          +
 0003E2 B209 F000      00000        5961  2          +
 0003E6 41F0 02F8            002F8  5962  2          +
 0003EA 40F0 0308            00088  5963  2          +
 0003EE B208 02F8      00078        5964  1          +
 0003F2                             5969     686.              END   ,
                                    5973     687.     *
                                    5974     688.     * Get the current TDB or a new one if we don't have one
                                    5975     689.     *
 0003F2 5860 7038/1266       00038  5976     690.     TKDLP    LT    RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                      5980     691.              WITH  (TDB,RX)
 0003F8 4770 A0E6            00410  5993     692.              IF    Z,BEGIN                 Don't have one
 0003FC 5860 703C/1266       0003C  6004  1  693.                LT    RX,ASDBATDB             Get the first one on the queue
 000402 4780 A1C2            004EC  6008  1  694.                IF    Z,EXIT,TKDISP           No work to do here
 000406 D203 703C 600C 0003C 0000C  6022  1  695.                MVC   ASDBATDB,TDBNEXT        Remove this one from the list
 00040C 5060 7038            00038  6023  1  696.                ST    RX,ASDBCTDB             New current one
 000410                             6024     697.              END   ,
                                    6028     698.     *
                                    6029     699.     * Make sure it is the highest priority ready task
                                    6030     700.     *
 000410 5810 703C/1211       0003C  6031     701.              LT    RS,ASDBATDB             Get top TDB addr
 000416 4780 A122            0044C  6035     702.              IF    NZ,BEGIN
 00041A D503 6010 1010 00010 00010  6046  1  703.                CLC   TDBPRIO,TDBPRIO-TDB(RS) Compare priorities
 000420 47B0 A122            0044C  6047  1  704.                IF    LT,BEGIN                It must be switched
 000424 5960 0328            000A8  6058  2  705.                  IF    (RX,EQ,PSATDB),'LCALL DISMTDB'
 000428 4770 A108            00432  6070  2          +
 00042C 41F0 A3C0/0DEF       006EA  6083  2          +
 000432 D203 703C 100C 0003C 0000C  6089  2  706.                  MVC   ASDBATDB,TDBNEXT-TDB(RS)    Remove Highest prio
 000438 94BF 6018      00018        6090  2  707.                  CLEAR TDBFACT                 Mark it inactive for a moment
 00043C 5060 D048            00000  6097  2  708.                  TQREQ TDB                     Then Re-queue it
 USING  TQPARM-72,R13
 000440 58F0 A4F2/0DEF       0081C  6125  2          +
 000446 1861                        6127  2  709.                  LR    RX,RS                   And use the new one
 000448 5060 7038            00038  6128  2  710.                  ST    RX,ASDBCTDB             It is the current one
 00044C                             6129  1  711.                END   ,
 00044C                             6133     712.              END   ,
                                    6137     713.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   61
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TKDISP,R10) (TQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6138     714.     * Check for any exits that may be taken
                                    6139     715.     *
 00044C 5800 60A8            000A8  6140     716.              L     RVR,TDBEMASK            Get the exit mask
 000450 5400 6024            00024  6141     717.              N     RVR,TDBXRMAP            Any of those want in?
 000454 4780 A16C            00496  6142     718.              IF    NZ,BEGIN
 000458 48F0 0308            00088  6153  1  719.                CLOCK USER                    Use the user clock
 00045C 49F0 A4FE            00828  6155  1          +
 000460 4780 A14A            00474  6162  1          +
 000464 B209 F000      00000        6167  2          +
 000468 41F0 02F0            002F0  6168  2          +
 00046C 40F0 0308            00088  6169  2          +
 000470 B208 02F0      00070        6170  1          +
 000474 58F0 A4F6/0DEF       00820  6175  1  720.                ACALL EXSCHED                 Schedule the exit(s)
 00047A 48F0 0308            00088  6182  1  721.                CLOCK DISP                    Turn on the dispatcher clock
 00047E 49F0 A4FA            00824  6184  1          +
 000482 4780 A16C            00496  6191  1          +
 000486 B209 F000      00000        6196  2          +
 00048A 41F0 02F8            002F8  6197  2          +
 00048E 40F0 0308            00088  6198  2          +
 000492 B208 02F8      00078        6199  1          +
 000496                             6204     722.              END
                                    6208     723.     *
                                    6209     724.     * Check to see whether this task is suspended.
                                    6210     725.     *
 000496 9180 60B0      000B0        6211     726.              IF    TDBSUSP,BEGIN           It is suspended.
 00049A 47E0 A1B4            004DE  6221             +
 00049E 9140 60B0      000B0        6226  1  727.                IF    TDBLONG,'INCR RVR,ASDBNLTW'     Count the long wait
 0004A2 47E0 A188            004B2  6236  1          +
 0004A6 4100 0001            00001  6245  2          +
 0004AA 4A00 7050            00050  6246  2          +
 0004AE 4000 7050            00050  6247  1          +
 0004B2 A18C           004B2 004A4  6252  1  728.                ELSE  'INCR RVR,ASDBNSTW'             Or short term wait
 0004B2 47F0 A198            004C2  6257  1          +
 0004B6 4100 0001            00001  6267  2          +
 0004BA 4A00 704E            0004E  6268  2          +
 0004BE 4000 704E            0004E  6269  1          +
 0004C2 5960 0328            000A8  6274  1  729.                IF    (RX,EQ,PSATDB),'LCALL DISMTDB'  Clean up the TDB
 0004C6 4770 A1A6            004D0  6286  1          +
 0004CA 41F0 A3C0/0DEF       006EA  6299  1          +
 0004D0 94BF 6018      00018        6305  1  730.                CLEAR TDBFACT                 It's not active
 0004D4                             6312  1  731.                CLEAR ASDBCTDB                Nor current anymore
 0004D4 D703 7038 7038 00038 00038  6318  1          +
 0004DA 47F0 A0C8            003F2  6319  1  732.                B     TKDLP                   Try for another one
 0004DE                             6320     733.              END   ,
                                    6324     734.     *
                                    6325     735.     * Make sure the TDB is set up now and return
                                    6326     736.     *
 0004DE 5960 0328            000A8  6327     737.              IF    (RX,NE,PSATDB),'LCALL ACTTDB'
 0004E2 4780 A1C2            004EC  6339             +
 0004E6 41F0 A32C/0DEF       00656  6352             +
 0004EC 981F C008            00008  6358     738.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   TKDISP,R10
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   62
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00004F0 9680 C000/0B0E 00000        6378             +
 DROP   TQPARM-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   63
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6388     740.     *****************************************************************
                                    6389     741.     *                                                               *
                                    6390     742.     *  ACTASDB --  This routine takes the information in the ASDB   *
                                    6391     743.     *              whose address is in PSAASDB and moves all the    *
                                    6392     744.     *              other info into the PSA.  It makes use of the    *
                                    6393     745.     *              current TDB.                                     *
                                    6394     746.     *                                                               *
                                    6395     747.     *    Input --  none                                             *
                                    6396     748.     *                                                               *
                                    6397     749.     *   Output --  none                                             *
                                    6398     750.     *                                                               *
                                    6399     751.     *****************************************************************
-0004F6                             6401     753.     ACTASDB  PROC  SCOPE=LOCAL
 0004F6 C1C3E3C1E2C4C240            6408             +
 0004FE 0000/0000                   6409             +
 000502 900F D004/18AF       00004  6411             +
 USING  ACTASDB,R10
 000508 50D0 C000/18CD       00000  6426             +
 00050E 9680 C000      00000        6428             +
 000512 41D0 C048            00048  6429             +
                                    6430     754.     *
                                    6431     755.     * Get the current pointers
                                    6432     756.     *
 000516 5870 0324/1277       000A4  6433     757.              LT    RY,PSAASDB              Get the current ASDB
 00051C 4780 A0D0            005D2  6437     758.              IF    Z,EXIT                  Ignore the null one
 USING  ASDB,R7                     6451     759.              WITH  (ASDB,RY)
 000520 5880 7004            00004  6464     760.              L     RM,ASDBASB              Get the ASB associated
 USING  ASB,R8                      6465     761.              WITH  (ASB,RM)
                                    6478     762.     *
                                    6479     763.     * Fix up the user clock
                                    6480     764.     *
 000524 D207 02F0 70A0 00070 000A0  6481     765.              MVC   PSAKUSER,ASDBCCPT       Move the user's clock in
                                    6482     766.     *
                                    6483     767.     * Move info about the current ASDB into the IPCB
                                    6484     768.     *
 00052A 5890 0320            000A0  6485     769.              L     RN,PSAIPCB              Get the IPCB address
 USING  IPCB,R9                     6486     770.              WITH  (IPCB,RN),BEGIN
 00052E D201 900E 7022 0000E 00022  6500  1  771.                MVC   IPCBPRIO,ASDBSPRI        Move in the priority
 DROP   IPCB,R9                     6501     772.              END   ,
                                    6509     773.     *
                                    6510     774.     * Make sure we are in the right address space
                                    6511     775.     *
 000534 5080 0208            00208  6512     776.              ST    RM,PZCURASB             It is now the current
 000538 E500 8008 0000 00008 00000  6513     777.              LASP  ASBLASP,0
 00053E 4780 A070            00572  6514     778.              IF    NZ,'ABORT BADLASP'      HUH?!!
 000542 AC04 021B      0021B        6529  1          +
 000546 9680 021A      0021A        6535  1          +
 00054A 50F0 021C            0021C  6536  1          +
 00054E 58F0 0210            00210  6537  1          +
 000552 89F0 0010            00010  6538  1          +
 000556 88F0 0010            00010  6539  1          +
 00055A 41F0 F000            00000  6540  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   64
0Current Usings:  (PZERO,R0) (ASDB,R7) (ASB,R8) (ACTASDB,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000055E AEFF 0006            00006  6541  1          +
 000562 C2C1C4D3C1E2D740            6542             +
 000572 D203 7018 0210 00018 00210  6547     779.              MVC   ASDBCCPU,PZLCPUA        Move in the current CPU addr
                                    6548     780.     *
                                    6549     781.     * Get the current TDB pointer
                                    6550     782.     *
 000578 5860 7038/1266       00038  6551     783.              LT    RX,ASDBCTDB             Current TDB pointer
 00057E 9967 A336            00838  6555     784.              XTRC  RX,RY,ACTASDB           Trace the new TDB, ASDB
 000838 00000838                    6563  1          +
 00083C 00000064/0607               6564  1          +
 000842 C1C3E3C1E2C4C240            6566             +
 000582 4780 A0D0            005D2  6573     785.              IF    Z,EXIT                  Nothing to set up
 USING  TDB,R6                      6587     786.              WITH  (TDB,RX)
                                    6600     787.     *
                                    6601     788.     * Move the Task status to the PSA
                                    6602     789.     *
                                    6603     790.   C          IF    ('LT RS,PSATDB',NZ),
 000586 5810 0328/1211       000A8           791.                    'ABORT UNCLEAN'         Make sure it's clean
 00058C 4780 A0BE            005C0  6614             +
 000590 AC04 021B      0021B        6623  1          +
 000594 9680 021A      0021A        6629  1          +
 000598 50F0 021C            0021C  6630  1          +
 00059C 58F0 0210            00210  6631  1          +
 0005A0 89F0 0010            00010  6632  1          +
 0005A4 88F0 0010            00010  6633  1          +
 0005A8 41F0 F000            00000  6634  1          +
 0005AC AEFF 0006            00006  6635  1          +
 0005B0 E4D5C3D3C5C1D540            6636             +
 0005C0 D267 0280 6040 00000 00040  6641     792.              MVC   PSASTATE,TDBISTAT       PSW, GPRs, FPRs
 0005C6 B78B 60B4            000B4  6642     793.              LCTL  8,11,TDBMON             Load Mon and PER
 0005CA 5060 0328            000A8  6643     794.              ST    RX,PSATDB               Save the TDB pointer
 0005CE 5060 020C            0020C  6644     795.              ST    RX,PZCURTSK             And the task ID
 0005D2 981F C008            00008  6645     796.              PEND  ,
 DROP   TDB,R6
 DROP   ASB,R8
 DROP   ASDB,R7
 DROP   ACTASDB,R10
 0005D6 9680 C000/0B0E 00000        6670             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   65
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6677     798.     *****************************************************************
                                    6678     799.     *                                                               *
                                    6679     800.     * DISMASDB --  This routine packages up the information in the  *
                                    6680     801.     *              PSA and stores it in the the ASDB.  It does not  *
                                    6681     802.     *              change the current task.  It Clears the ASDB and *
                                    6682     803.     *              TDB pointers in PSA.                             *
                                    6683     804.     *                                                               *
                                    6684     805.     *    Input --  none                                             *
                                    6685     806.     *                                                               *
                                    6686     807.     *   Output --  none                                             *
                                    6687     808.     *                                                               *
                                    6688     809.     *****************************************************************
-0005DC                             6690     811.     DISMASDB PROC  SCOPE=LOCAL
 0005DC C4C9E2D4C1E2C4C2            6697             +
 0005E4 0000/0000                   6698             +
 0005E8 900F D004/18AF       00004  6700             +
 USING  DISMASDB,R10
 0005EE 50D0 C000/18CD       00000  6715             +
 0005F4 9680 C000      00000        6717             +
 0005F8 41D0 C048            00048  6718             +
                                    6719     812.     *
                                    6720     813.     * Since we are now the dispatcher update the priority in the IPCB
                                    6721     814.     *
 0005FC 5890 0320            000A0  6722     815.              L     RN,PSAIPCB
 USING  IPCB,R9                     6723     816.              WITH  (IPCB,RN),BEGIN
 000600 D201 900E A242 0000E 0082A  6737  1  817.                MVC   IPCBPRIO,=Y(NUMPRIO)    Always higher than highest
 DROP   IPCB,R9                     6738     818.              END   ,
                                    6746     819.     *
                                    6747     820.     * Get the current pointers
                                    6748     821.     *
 000606 5870 0324/1277       000A4  6749     822.              LT    RY,PSAASDB              Get the current ASDB
 00060C 4780 A058            00640  6753     823.              IF    Z,EXIT                  Ignore the null one
 USING  ASDB,R7                     6767     824.              WITH  (ASDB,RY)
 000610 9977 A264            0084C  6780     825.              XTRC  RY,RY,DISMASDB          Trace ending ASDB
 00084A 0000/0000084C                     1          +
 000850 00000065/0707               6789  1          +
 000856 C4C9E2D4C1E2C4C2            6791             +
 000614 D207 70A0 02F0 000A0 00070  6798     826.              MVC   ASDBCCPT,PSAKUSER       Save the user Clock
 00061A 947F 7024      00024        6799     827.              CLEAR ASDBPZTS                No time slices at Prio lvl 0
 00061E                             6806     828.              CLEAR ASDBCCPU                No current CPU
 00061E D703 7018 7018 00018 00018  6812             +
 000624                             6813     829.              CLEAR PSAASDB                 And no current ASDB
 000624 D703 0324 0324 000A4 000A4  6819             +
                                    6820     830.     *
                                    6821     831.     * Get the current TDB pointer
                                    6822     832.     *
 00062A 5860 0328/1266       000A8  6823     833.              LT    RX,PSATDB               Current TDB pointer
 000630 4780 A058            00640  6827     834.              IF    Z,EXIT                  Nothing to dismiss
 USING  TDB,R6                      6841     835.              WITH  (TDB,RX)
                                    6854     836.     *
                                    6855     837.     * Move the task status from PSA to the current TDB
                                    6856     838.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   66
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (DISMASDB,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000634 D267 6040 0280 00040 00000  6857     839.              MVC   TDBISTAT,PSASTATE       PSW, GPRs, FPRs
 00063A                             6858     840.              CLEAR PSATDB                  No TDB now
 00063A D703 0328 0328 000A8 000A8  6864             +
 000640 981F C008            00008  6865     841.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   DISMASDB,R10
 000644 9680 C000/0B0E 00000        6885             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   67
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6892     843.     *****************************************************************
                                    6893     844.     *                                                               *
                                    6894     845.     *   ACTTDB --  This routine makes the TDB whose address in      *
                                    6895     846.     *              ASDBCTDB the current TDB.  It assumes that the   *
                                    6896     847.     *              ASDB has been all set up to be the current one.  *
                                    6897     848.     *              It moves data into the PSA.                      *
                                    6898     849.     *                                                               *
                                    6899     850.     *    Input --  none                                             *
                                    6900     851.     *                                                               *
                                    6901     852.     *   Output --  none                                             *
                                    6902     853.     *                                                               *
                                    6903     854.     *****************************************************************
-00064A                             6905     856.     ACTTDB   PROC  SCOPE=LOCAL
 00064A C1C3E3E3C4C24040            6912             +
 000652 0000/0000                   6913             +
 000656 900F D004/18AF       00004  6915             +
 USING  ACTTDB,R10
 00065C 50D0 C000/18CD       00000  6930             +
 000662 9680 C000      00000        6932             +
 000666 41D0 C048            00048  6933             +
 00066A 5810 0328/1211       000A8  6934     857.              IF    ('LT RS,PSATDB',NZ),'ABORT UNCLEAN'
 000670 4780 A04E            006A4  6945             +
 000674 AC04 021B      0021B        6954  1          +
 000678 9680 021A      0021A        6960  1          +
 00067C 50F0 021C            0021C  6961  1          +
 000680 58F0 0210            00210  6962  1          +
 000684 89F0 0010            00010  6963  1          +
 000688 88F0 0010            00010  6964  1          +
 00068C 41F0 F000            00000  6965  1          +
 000690 AEFF 0006            00006  6966  1          +
 000694 E4D5C3D3C5C1D540            6967             +
                                    6972     858.     *
                                    6973     859.     * Get the current pointers
                                    6974     860.     *
 0006A4 5870 0324/1277       000A4  6975     861.              LT    RY,PSAASDB              Get the current ASDB
 0006AA 4780 A07E            006D4  6979     862.              IF    Z,EXIT                  Ignore the null one
 USING  ASDB,R7                     6993     863.              WITH  (ASDB,RY)
                                    7006     864.     *
                                    7007     865.     * Get the current TDB pointer
                                    7008     866.     *
 0006AE 5860 7038/1266       00038  7009     867.              LT    RX,ASDBCTDB             Current TDB pointer
 0006B4 4780 A07E            006D4  7013     868.              IF    Z,EXIT                  Nothing to set up
 USING  TDB,R6                      7027     869.              WITH  (TDB,RX)
 0006B8 9966 A20A            00860  7040     870.              XTRC  RX,RX,ACTTDB            Trace the new TDB
 00085E 0000/00000860                     1          +
 000864 00000066/0606               7049  1          +
 00086A C1C3E3E3C4C24040            7051             +
                                    7058     871.     *
                                    7059     872.     * Take care of the CPU time clock
                                    7060     873.     *
 0006BC D207 60C8 70B8 000C8 000B8  7061     874.              MVC   TDBCPUST,ASDBTCPU       Save the starting clock val
                                    7062     875.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   68
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ACTTDB,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7063     876.     * Move the task info to the PSA
                                    7064     877.     *
 0006C2 D267 0280 6040 00000 00040  7065     878.              MVC   PSASTATE,TDBISTAT       PSW, GPRs, FPRs
 0006C8 B78B 60B4            000B4  7066     879.              LCTL  8,11,TDBMON             Load Mon and PER
 0006CC 5060 0328            000A8  7067     880.              ST    RX,PSATDB               Save the TDB pointer
 0006D0 5060 020C            0020C  7068     881.              ST    RX,PZCURTSK             And the task ID
 0006D4 981F C008            00008  7069     882.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   ACTTDB,R10
 0006D8 9680 C000/0B0E 00000        7089             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   69
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7096     884.     *****************************************************************
                                    7097     885.     *                                                               *
                                    7098     886.     *  DISMTDB --  This routine packages up the information in the  *
                                    7099     887.     *              PSA and ASDB and socks it away in the TDB.  It   *
                                    7100     888.     *              is called when the current TDB will not be the   *
                                    7101     889.     *              current much longer.  It clears the ASDBCTDB     *
                                    7102     890.     *              field.  The current ASDB better be set up.       *
                                    7103     891.     *                                                               *
                                    7104     892.     *    Input --  none                                             *
                                    7105     893.     *                                                               *
                                    7106     894.     *   Output --  none                                             *
                                    7107     895.     *                                                               *
                                    7108     896.     *****************************************************************
-0006DE                             7110     898.     DISMTDB  PROC  SCOPE=LOCAL
 0006DE C4C9E2D4E3C4C240            7117             +
 0006E6 0000/0000                   7118             +
 0006EA 900F D004/18AF       00004  7120             +
 USING  DISMTDB,R10
 0006F0 50D0 C000/18CD       00000  7135             +
 0006F6 9680 C000      00000        7137             +
 0006FA 41D0 C048            00048  7138             +
                                    7139     899.     *
                                    7140     900.     * Get the current pointers
                                    7141     901.     *
 0006FE 5870 0324/1277       000A4  7142     902.              LT    RY,PSAASDB              Get the current ASDB
 000704 4780 A056            00740  7146     903.              IF    Z,EXIT                  Ignore the null one
 USING  ASDB,R7                     7160     904.              WITH  (ASDB,RY)
                                    7173     905.     *
                                    7174     906.     * Get the current TDB pointer
                                    7175     907.     *
 000708 5860 7038/1266       00038  7176     908.              LT    RX,ASDBCTDB             Current TDB pointer
 00070E 4780 A056            00740  7180     909.              IF    Z,EXIT                  Nothing to dismiss
 USING  TDB,R6                      7194     910.              WITH  (TDB,RX)
                                    7207     911.     *
                                    7208     912.     * Move the task status from PSA to the current TDB
                                    7209     913.     *
 000712 5960 0328            000A8  7210     914.              IF    (RX,EQ,PSATDB),BEGIN
 000716 4770 A036            00720  7222             +
 00071A D267 6040 0280 00040 00000  7227  1  915.                MVC   TDBISTAT,PSASTATE       PSW, GPRs, FPRs
 000720                             7228     916.              END   ,
                                    7232     917.     *
                                    7233     918.     * Handle the clock
                                    7234     919.     *
 000720 6800 70B8            000B8  7235     920.              LD    0,ASDBTCPU              Get current total CPU time
 000724 6F00 60C8            000C8  7236     921.              SW    0,TDBCPUST              Less when it became active
 000728 6E00 60D8            000D8  7237     922.              AW    0,TDBTCPU               Plus the previous amount
 00072C 6000 60D8            000D8  7238     923.              STD   0,TDBTCPU               Gives the new total
                                    7239     924.     *
                                    7240     925.     * Clean up the ASDB and the PSA
                                    7241     926.     *
 000730 94BF 6018      00018        7242     927.              CLEAR TDBFACT                 Not active anymore
 000734                             7249     928.              CLEAR ASDBCTDB                Current TDB pointer
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   70
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (DISMTDB,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000734 D703 7038 7038 00038 00038  7255             +
 00073A                             7256     929.              CLEAR PSATDB                  No current TDB now
 00073A D703 0328 0328 000A8 000A8  7262             +
 000740 981F C008            00008  7263     930.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   DISMTDB,R10
 000744 9680 C000/0B0E 00000        7283             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   71
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7290     932.     *****************************************************************
                                    7291     933.     *                                                               *
                                    7292     934.     *  SYSTDBS --  This routine takes care of any System TDBs       *
                                    7293     935.     *              (STDB) that have been queued to the current      *
                                    7294     936.     *              ASDB.  It takes them off en mass and calls each  *
                                    7295     937.     *              routine off the dispatcher stack.                *
                                    7296     938.     *                                                               *
                                    7297     939.     *    Input --  none                                             *
                                    7298     940.     *                                                               *
                                    7299     941.     *   Output --  none                                             *
                                    7300     942.     *                                                               *
                                    7301     943.     *****************************************************************
-00074A                             7303     945.     SYSTDBS  PROC  SCOPE=LOCAL
 00074A E2E8E2E3C4C2E240            7310             +
 000752 0000/0000                   7311             +
 000756 900F D004/18AF       00004  7313             +
 USING  SYSTDBS,R10
 00075C 50D0 C000/18CD       00000  7328             +
 000762 9680 C000      00000        7330             +
 000766 41D0 C048            00048  7331             +
                                    7332     946.     *
                                    7333     947.     * Get the current pointers
                                    7334     948.     *
 00076A 5870 0324            000A4  7335     949.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                     7336     950.              WITH  (ASDB,RY)
                                    7349     951.     *
                                    7350     952.     * Process the STDBs
                                    7351     953.     *
 00076E 5820 7044/1222       00044  7352     954.              WHILE ('LT RA,ASDBSTDB',NZ),BEGIN
 000774 4780 A098            007EE  7365             +
                                    7370  1  955.     *
                                    7371  1  956.     * Remove the whole queue
                                    7372  1  957.     *
 000778 1B11                        7373  1  958.                CLEAR RS                      New value
 00077A                             7377  1  959.                LOOP  BEGIN
 00077A BA21 7044            00044  7383  2  960.                  CS    RA,RS,ASDBSTDB          Out with the old
 00077E 4770 A024            0077A  7384  1  961.                UNTIL Z,END
                                    7403  1  962.     *
                                    7404  1  963.     * Loop through the list and call each routine in turn.
                                    7405  1  964.     *
 000782 1222/4780 A094       007EA  7406  1  965.                WHILE (RA,NZ),BEGIN           While we still have some left
 USING  STDB,R2                     7422  2  966.                  WITH  (STDB,RA)
 000788 5830 2004            00004  7435  2  967.                  L     RB,STDBNEXT             Address of the next one
 USING  @SYSRTN-72,R13              7436  2  968.                  PSET  @SYSRTN,CLEAR=NO        Setup the parm area
 00078C D20F D048 2010 00000 00010  7447  2  969.                  MVC   @SYSPARS(16),STDBPARM   Move in the parms
 000792 5840 200C            0000C  7448  2  970.                  L     RJ,STDBADDR             Get the routine address
                                    7449  2  971.     *
                                    7450  2  972.     * Free the STDB
                                    7451  2  973.     *
 000796 5010 2004            00004  7452  2  974.                  ST    RS,STDBNEXT             Clear the next pointer
 00079A 5010 2008            00008  7453  2  975.                  ST    RS,STDBASDB             And the ASDB pointer
                                    7454  2  976.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   72
0Current Usings:  (PZERO,R0) (STDB,R2) (ASDB,R7) (SYSTDBS,R10) (@SYSRTN-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7455  2  977.     * Call the system routine, then go on to the next in the queue
                                    7456  2  978.     *
 00079E 9610 0338      000B8        7457  2  979.                  SET   DISPSYSR                Set us into system task mode
 0007A2 18F4/0DEF                   7463  2  980.                  ACALL (RJ)                    Call the routine
 0007A6 94EF 0338      000B8        7470  2  981.                  CLEAR DISPSYSR                Not in STDB mode any more
 0007AA 5820 7030/1222       00030  7477  2  982.                  IF    ('LT RA,ASDBLOCK',NZ),'ABORT STMDLOCK'
 0007B0 4780 A08E            007E4  7488  2          +
 0007B4 AC04 021B      0021B        7497  3          +
 0007B8 9680 021A      0021A        7503  3          +
 0007BC 50F0 021C            0021C  7504  3          +
 0007C0 58F0 0210            00210  7505  3          +
 0007C4 89F0 0010            00010  7506  3          +
 0007C8 88F0 0010            00010  7507  3          +
 0007CC 41F0 F000            00000  7508  3          +
 0007D0 AEFF 0006            00006  7509  3          +
 0007D4 E2E3D4C4D3D6C3D2            7510  2          +
 0007E4 1823                        7515  2  983.                  LR    RA,RB                   Get to the next in the queue
 0007E6 47F0 A02C            00782  7516  1  984.                END   ,
 DROP   STDB,R2
 0007EA 47F0 A018            0076E  7526     985.              END   ,                       Continue while there are STDBs
 0007EE 981F C008            00008  7531     986.              PEND  ,
 DROP   ASDB,R7
 DROP   SYSTDBS,R10
 0007F2 9680 C000/0B0E 00000        7546             +
 DROP   @SYSRTN-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   73
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00007F8                             7556     988.              LTORG ,
 0007F8 00000000                    7558                             =V(SIGNALAS)
 0007FC 00000000                    7559                             =V(LKOB)
 000800 00003086                    7560                             =A(LTDISP)
 000804 00003F30                    7561                             =A(PQHIGH)
 000808 00000000                    7562                             =V(LKREL)
 00080C 00003250                    7563                             =A(DEMOTE)
 000810 00003DAA                    7564                             =A(PQADD)
 000814 0000400E                    7565                             =A(PQPRIO)
 000818 00003EC2                    7566                             =A(PQREQ)
 00081C 000041BC                    7567                             =A(TSKREQ)
 000820 00004AC0                    7568                             =A(EXSCHED)
 000824 02F8                        7569                             =Y(PSAKDISP-PSA+L'PZERO)
 000826 0001                        7570                             =Y(1)
 000828 02F0                        7571                             =Y(PSAKUSER-PSA+L'PZERO)
 00082A 0005           00872 05F38  7572                             =Y(NUMPRIO)
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   74
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7577     990.     *****************************************************************
                                    7578     991.     *                                                               *
                                    7579     992.     *  ASLOCK  --  This routine obtains the local address space     *
                                    7580     993.     *              lock.  This lock will prevent any other unit of  *
                                    7581     994.     *              work from running in this address space as long  *
                                    7582     995.     *              as it is held.  It can be held across address    *
                                    7583     996.     *              space suspends, but obviously not during a task  *
                                    7584     997.     *              suspend.                                         *
                                    7585     998.     *                                                               *
                                    7586     999.     *   Input  --  none                                             *
                                    7587    1000.     *                                                               *
                                    7588    1001.     *  Output  --  none                                             *
                                    7589    1002.     *                                                               *
                                    7590    1003.     *****************************************************************
-000872                             7592    1005.     ASLOCK   PROC  SCOPE=GLOBAL
 000872 C1E2D3D6C3D24040            7598             +
 00087A 0000/0000                   7599             +
 00087E 900F D004/18AF       00004  7601             +
 USING  ASLOCK,R10
 000884 50D0 C000/18CD       00000  7616             +
 00088A 9680 C000      00000        7618             +
 00088E 41D0 C048            00048  7619             +
 000892 9180 0338      000B8        7620    1006.              IF    (DISPSTK,AND,~DISPSYSR),'ABORT DISLOCK'
 000896 47E0 A054            008D2  7632             +
 00089A 9110 0338      000B8        7643             +
 00089E 4710 A054            008D2  7644             +
 0008A2 AC04 021B      0021B        7653  1          +
 0008A6 9680 021A      0021A        7659  1          +
 0008AA 50F0 021C            0021C  7660  1          +
 0008AE 58F0 0210            00210  7661  1          +
 0008B2 89F0 0010            00010  7662  1          +
 0008B6 88F0 0010            00010  7663  1          +
 0008BA 41F0 F000            00000  7664  1          +
 0008BE AEFF 0006            00006  7665  1          +
 0008C2 C4C9E2D3D6C3D240            7666             +
                                    7671    1007.     *
                                    7672    1008.     * Get our bearings
                                    7673    1009.     *
 0008D2 5870 0324            000A4  7674    1010.              L     RY,PSAASDB              Get the current ASDB pointer
 USING  ASDB,R7                     7675    1011.              WITH  (ASDB,RY)
 0008D6 4100 0001            00001  7688    1012.              INCR  RVR,ASDBLOCK            Set the lock
 0008DA 5E00 7030            00030  7692             +
 0008DE 5000 7030            00030  7693             +
 0008E2 981F C008            00008  7694    1013.              PEND  ,
 DROP   ASDB,R7
 DROP   ASLOCK,R10
 0008E6 9680 C000/0B0E 00000        7709             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   75
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7716    1015.     *****************************************************************
                                    7717    1016.     *                                                               *
                                    7718    1017.     * ASULOCK  --  This routine releases the local address space    *
                                    7719    1018.     *              lock.  A re-dispatch will be done if it is       *
                                    7720    1019.     *              needed.                                          *
                                    7721    1020.     *                                                               *
                                    7722    1021.     *   Input  --  none                                             *
                                    7723    1022.     *                                                               *
                                    7724    1023.     *  Output  --  none                                             *
                                    7725    1024.     *                                                               *
                                    7726    1025.     *****************************************************************
-0008EC                             7728    1027.     ASULOCK  PROC  SCOPE=GLOBAL
 0008EC C1E2E4D3D6C3D240            7734             +
 0008F4 0000/0000                   7735             +
 0008F8 900F D004/18AF       00004  7737             +
 USING  ASULOCK,R10
 0008FE 50D0 C000/18CD       00000  7752             +
 000904 9680 C000      00000        7754             +
 000908 41D0 C048            00048  7755             +
                                    7756    1028.     *
                                    7757    1029.     * Get our bearings
                                    7758    1030.     *
 00090C 5870 0324            000A4  7759    1031.              L     RY,PSAASDB              Current ASDB pointer
 USING  ASDB,R7                     7760    1032.              WITH  (ASDB,RY)
 000910 5810 7030/1211       00030  7773    1033.              IF    ('LT RS,ASDBLOCK',Z),'ABORT ASLKBAL'     Don't have it
 000916 4770 A052            0094A  7784             +
 00091A AC04 021B      0021B        7793  1          +
 00091E 9680 021A      0021A        7799  1          +
 000922 50F0 021C            0021C  7800  1          +
 000926 58F0 0210            00210  7801  1          +
 00092A 89F0 0010            00010  7802  1          +
 00092E 88F0 0010            00010  7803  1          +
 000932 41F0 F000            00000  7804  1          +
 000936 AEFF 0006            00006  7805  1          +
 00093A C1E2D3D2C2C1D340            7806             +
 00094A 0610                        7811    1034.              DECR  RS                      Remove one lock
 00094C 5010 7030            00030  7813    1035.              ST    RS,ASDBLOCK             |
 000950 1211/4770 A06C       00964  7814    1036.              IF    (RS,Z),BEGIN            We are free to dispatch
 000956 9180 7028      00028        7828  1 1037.                IF    ASDBTDSP,'ACALL DISPRD' If a dispatch is needed
 00095A 47E0 A06C            00964  7838  1          +
 00095E 58F0 AAC8/0DEF       013C0  7849  1          +
 000964                             7855    1038.              END   ,
 000964 981F C008            00008  7859    1039.              PEND  ,
 DROP   ASDB,R7
 DROP   ASULOCK,R10
 000968 9680 C000/0B0E 00000        7874             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   76
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7881    1041.     *****************************************************************
                                    7882    1042.     *                                                               *
                                    7883    1043.     *  CPLOCK  --  This routine obtains the CPU lock for the        *
                                    7884    1044.     *              current CPU.  It will prevent any re-dispatch    *
                                    7885    1045.     *              as long as no SVC or PI's occur.  It must        *
                                    7886    1046.     *              obviously be released before any useful work     *
                                    7887    1047.     *              can be done.  The CPU should be disabled while   *
                                    7888    1048.     *              holding this lock.                               *
                                    7889    1049.     *                                                               *
                                    7890    1050.     *   Input  --  none                                             *
                                    7891    1051.     *                                                               *
                                    7892    1052.     *  Output  --  none                                             *
                                    7893    1053.     *                                                               *
                                    7894    1054.     *****************************************************************
-00096E                             7896    1056.     CPLOCK   PROC  SCOPE=GLOBAL
 00096E C3D7D3D6C3D24040            7902             +
 000976 0000/0000                   7903             +
 00097A 900F D004/18AF       00004  7905             +
 USING  CPLOCK,R10
 000980 50D0 C000/18CD       00000  7920             +
 000986 9680 C000      00000        7922             +
 00098A 41D0 C048            00048  7923             +
 00098E 4100 0001            00001  7924    1057.              INCR  RVR,PSACPLK             Set the lock
 000992 5E00 0334            000B4  7928             +
 000996 5000 0334            000B4  7929             +
 00099A 981F C008            00008  7930    1058.              PEND  ,
 DROP   CPLOCK,R10
 00099E 9680 C000/0B0E 00000        7940             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   77
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7947    1060.     *****************************************************************
                                    7948    1061.     *                                                               *
                                    7949    1062.     * CPULOCK  --  This routine releases the CPU lock.  If it goes  *
                                    7950    1063.     *              to zero, a re-dispatch will be done if it is     *
                                    7951    1064.     *              needed.                                          *
                                    7952    1065.     *                                                               *
                                    7953    1066.     *   Input  --  none                                             *
                                    7954    1067.     *                                                               *
                                    7955    1068.     *  Output  --  none                                             *
                                    7956    1069.     *                                                               *
                                    7957    1070.     *****************************************************************
-0009A4                             7959    1072.     CPULOCK  PROC  SCOPE=GLOBAL
 0009A4 C3D7E4D3D6C3D240            7965             +
 0009AC 0000/0000                   7966             +
 0009B0 900F D004/18AF       00004  7968             +
 USING  CPULOCK,R10
 0009B6 50D0 C000/18CD       00000  7983             +
 0009BC 9680 C000      00000        7985             +
 0009C0 41D0 C048            00048  7986             +
 0009C4 5810 0334            000B4  7987    1073.              L     RS,PSACPLK              Get the current count
 0009C8 4B10 AA5C            0140C  7988    1074.              SH    RS,=Y(1)                Decrement it
 0009CC 5010 0334            000B4  7989    1075.              ST    RS,PSACPLK              Update the count
 0009D0 4720 A060            00A10  7990    1076.              IF    POS,EXIT                Still held
 0009D4 4740 A030            009E0  8004    1077.              IF    (NEG,OR,DISPSTK),'ABORT CPLOCK' This ain't right
 0009D8 9180 0338      000B8        8023             +
 0009DC 47E0 A060            00A10  8024             +
 0009E0 AC04 021B      0021B        8033  1          +
 0009E4 9680 021A      0021A        8039  1          +
 0009E8 50F0 021C            0021C  8040  1          +
 0009EC 58F0 0210            00210  8041  1          +
 0009F0 89F0 0010            00010  8042  1          +
 0009F4 88F0 0010            00010  8043  1          +
 0009F8 41F0 F000            00000  8044  1          +
 0009FC AEFF 0006            00006  8045  1          +
 000A00 C3D7D3D6C3D24040            8046             +
 000A10 981F C008            00008  8051    1078.              PEND  ,
 DROP   CPULOCK,R10
 000A14 9680 C000/0B0E 00000        8061             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   78
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8068    1080.     *****************************************************************
                                    8069    1081.     *                                                               *
                                    8070    1082.     *  ASWAKE  --  This routine moves an address space from a       *
                                    8071    1083.     *              waiting queue to a ready queue. ed when the ASDB *
                                    8072    1084.     *              would not normally be dispatched.                *
                                    8073    1085.     *                                                               *
                                    8074    1086.     *    Input --  @ASWAKE                                          *
                                    8075    1087.     *                                                               *
                                    8076    1088.     *   Output --  none                                             *
                                    8077    1089.     *                                                               *
                                    8078    1090.     *****************************************************************
-000000                00000 00001  8080    1092.     #ASWAKE  RECORD BEGIN
 000000                             8088  1 1093.     #ASPSWM    DS    X             A place to save PSW mask during disable
 000001                00001 00001  8089    1094.              END   ,
0000000                00000 00004  8099    1096.     @ASWAKE  RECORD BEGIN
 000000                             8107  1 1097.     @ASWASDB   DS    A             Address of the ASDB to wake
 000004                00004 00004  8108    1098.              END   ,
-000A1A                             8118    1100.     ASWAKE   PROC  @ASWAKE,#ASWAKE,SCOPE=LOCAL
 000A1A C1E2E6C1D2C54040            8125             +
 000A22 0008/0008                   8126             +
 000A26 900F D004/18AF       00004  8128             +
 USING  ASWAKE,R10
 000A2C 50D0 C000/18CD       00000  8143             +
 000A32 9680 C000      00000        8145             +
 USING  @ASWAKE-72,R12
 AUSING (#ASWAKE,@ASWAKE+8)
 000A36 41D0 C058            00058  8164             +
                                    8165    1101.     *
                                    8166    1102.     * Get the desired ASDB
                                    8167    1103.     *
 000A3A 5870 C048            00000  8168    1104.              L     RY,@ASWASDB   Get the desired ASDB
 000A3E                             8169    1105.              IF    (@RY,NE,'ASDB'),'ABORT BADASDB'
 000A3E D503 A99E 7000 013C4 00000  8179             +
 000A44 4780 A052            00A78  8180             +
 000A48 AC04 021B      0021B        8189  1          +
 000A4C 9680 021A      0021A        8195  1          +
 000A50 50F0 021C            0021C  8196  1          +
 000A54 58F0 0210            00210  8197  1          +
 000A58 89F0 0010            00010  8198  1          +
 000A5C 88F0 0010            00010  8199  1          +
 000A60 41F0 F000            00000  8200  1          +
 000A64 AEFF 0006            00006  8201  1          +
 000A68 C2C1C4C1E2C4C240            8202             +
 USING  ASDB,R7                     8207    1106.              WITH  (ASDB,RY)
                                    8220    1107.     *
                                    8221    1108.     * Is it the current one?
                                    8222    1109.     *
 000A78 5970 0324            000A4  8223    1110.              IF    (RY,EQ,PSAASDB),EXIT    If so, don't bother
 000A7C 4780 A206            00C2C  8237             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   79
0Current Usings:  (PZERO,R0) (ASDB,R7) (ASWAKE,R10) (@ASWAKE-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8243    1111.     *
                                    8244    1112.     * Put it on either the active or the ready queue, depending on
                                    8245    1113.     * whether it is currently swapped out.
                                    8246    1114.     *
 000A80 5860 032C            000AC  8247    1115.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                      8248    1116.              WITH  (DCT,RX)
 000A84 AC04 C050      00000        8261    1117.              DISABLE #ASPSWM               Must be disabled
 USING  @LOCKS-72,R13               8263    1118.              LKOB  DCTLOCK                 Get the dispatching lock
 000A88 D203 D048 6004 00000 00004  8279             +
 000A8E 58F0 A9A2/0DEF       013C8  8282             +
 000A94                             8284    1119.     AWLK     BEGIN                         Block holding the lock
                                    8289  1 1120.     *
                                    8290  1 1121.     * See if we gain anything by waking this ASDB up
                                    8291  1 1122.     *
                                    8292  1 1123.   C            IF    (('LT RS,ASDBSUSP',NZ),OR,                  Suspended
                                          1 1124.   C                  (('LT RS,ASDBSTDB',Z),AND,('LT RS,ASDBCTDB',Z),AND,
 000A94 5810 702C/1211       0002C        1 1125.                      ('LT RS,ASDBATDB',Z))),EXIT No work
 000A9A 4770 A1DE            00C04  8307  1          +
 000A9E 5810 7044/1211       00044  8318  1          +
 000AA4 4770 A096            00ABC  8320  1          +
 000AA8 5810 7038/1211       00038  8331  1          +
 000AAE 4770 A096            00ABC  8333  1          +
 000AB2 5810 703C/1211       0003C  8344  1          +
 000AB8 4780 A1DE            00C04  8348  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   80
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASWAKE,R10) (@ASWAKE-72,R12) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8355  1 1127.     *
                                    8356  1 1128.     * A S D B   O N   S H O R T   T E R M   W A I T   Q U E U E
                                    8357  1 1129.     *
-000ABC 4110 6080            00080  8359  1 1131.                LA    RS,DCTSWAIT             Address of the STW queue
 000AC0 5910 7014            00014  8360  1 1132.                IF    (RS,EQ,ASDBQADD),BEGIN  It is on this queue
 000AC4 4770 A13E            00B64  8372  1          +
                                    8377  2 1133.     *
                                    8378  2 1134.     * Take it off the list where it now resides
                                    8379  2 1135.     *
 000AC8 5010 D04C            00004  8380  2 1136.                  PQDEL (RS),ASDB               Remove it from the STW queue
 DROP   @LOCKS-72,R13
 USING  PQPARM-72,R13
 000ACC 5070 D048            00000  8416  2          +
 000AD0 58F0 A9A6/0DEF       013CC  8422  2          +
                                    8424  2 1137.     *
                                    8425  2 1138.     * Update the priority based on the time spent waiting
                                    8426  2 1139.     *
 DROP   PQPARM-72,R13               8427  2 1140.                  PSET  @UPDPRIO
 USING  @UPDPRIO-72,R13
 000AD6 D704 D048 D048 00000 00000  8447  2          +
 000ADC 5070 D048            00000  8448  2 1141.                  PMOV  @UPPASDB,ASDB,OP=LA     Move in the ASDB address
 000AE0 41F0 A21C/0DEF       00C42  8459  2 1142.                  LCALL UPDPRIO                 Call the local routine
                                    8468  2 1143.     *
                                    8469  2 1144.     * Put it on the Active queue
                                    8470  2 1145.     *
 000AE6 4100 6058            00058  8471  2 1146.                  PQADD DCTACTIV,ASDB           Add it to the active queue
 DROP   @UPDPRIO-72,R13
 USING  PQPARM-72,R13
 000AEA 5000 D04C            00004  8503  2          +
 000AEE 5070 D048            00000  8514  2          +
 000AF2 58F0 A9AA/0DEF       013D0  8520  2          +
                                    8522  2 1147.     *
                                    8523  2 1148.     * Find the CPU running the lowest priority ASDB
                                    8524  2 1149.     *
 000AF8 1B11                        8525  2 1150.                  CLEAR RS                      Saved IPCB address
 000AFA 4120 0005            00005  8529  2 1151.                  LA    RA,NUMPRIO              Priority of that CPU
 000AFE 5890 6170            00170  8530  2 1152.                  L     RN,DCTIPCBS             Get the first in the queue
 USING  IPCB,R9                     8531  2 1153.                  WITH  (IPCB,RN)
 000B02 1299/4780 A0F8       00B1E  8544  2 1154.                  WHILE (RN,NZ),BEGIN           Loop through all the CPUs
 000B08 4920 900E            0000E  8560  3 1155.                    IF    (RA,GE,IPCBPRIO),BEGIN
 000B0C 4750 A0F0            00B16  8572  3          +
 000B10 4820 900E            0000E  8577  4 1156.                      LH    RA,IPCBPRIO             Load the priority
 000B14 1819                        8578  4 1157.                      LR    RS,RN                   Keep track of which CPU
 000B16                             8579  3 1158.                    END   ,
 000B16 5890 9004            00004  8583  3 1159.                    L     RN,IPCBNEXT             Get to the next
 000B1A 47F0 A0DC            00B02  8584  2 1160.                  END   ,
 000B1E 1891                        8589  2 1161.                  LR    RN,RS                   Get it into RN
                                    8590  2 1162.     *
                                    8591  2 1163.     * We now have the IPCB address of the CPU running the lowest priority
                                    8592  2 1164.     * ASDB.  We have to see whether it deserves to be awakened.
                                    8593  2 1165.     *
 000B20 4920 7022            00022  8594  2 1166.                  IF    (RA,LT,ASDBSPRI),BEGIN  Someone needs to wake up
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   81
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (IPCB,R9) (ASWAKE,R10) (@ASWAKE-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000B24 47B0 A13A            00B60  8606  2          +
 000B28 5990 0320            000A0  8611  3 1167.                    IF    (RN,EQ,PSAIPCB),BEGIN   It is this CPU
 000B2C 4770 A10E            00B34  8623  3          +
 000B30 9640 0338      000B8        8628  4 1168.                      SET   DISPGRD                 Mark the re-dispatch
 000B34 A112           00B34 00B2E  8634  3 1169.                    END   ELSE,BEGIN              It is another CPU
 000B34 47F0 A13A            00B60  8643  3          +
 000B38 9180 9010      00010        8649  4 1170.                      IF    ~IPFLGRD,BEGIN          Flag not set now
 000B3C 4710 A13A            00B60  8659  4          +
 000B40 58F0 9010            00010  8664  5 1171.                        SET   IPFLGRD,MODE=LOCKED,REF=IPCB
 000B44 4110 0080            00080  8671  5          +
 000B48 8910 0018/180F       00018  8672  5          +
 000B4E 1601/BAF0 9010       00010  8674  5          +
 000B54 4770 A126            00B4C  8677  5          +
                                    8678  5 1172.     *
                                    8679  5 1173.     * Signal the other processor
                                    8680  5 1174.     *
 000B58 4810 900C            0000C  8681  5 1175.                        LH    RS,IPCBCPUA             Get the CPU address
 000B5C AE11 0002            00002  8682  5 1176.                        SIGP  RS,RS,X'02'             Wake up that CPU
 000B60                             8683  4 1177.                      END   ,
 000B60                             8687  3 1178.                    END   ,
 000B60                             8691  2 1179.                  END   ,
 000B60 47F0 A1DE            00C04  8695  2 1180.                  EXIT  AWLK                    STW case done
 DROP   IPCB,R9                     8698  1 1181.                END   ,                       Of the STW
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   82
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASWAKE,R10) (@ASWAKE-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8708  1 1183.     *
                                    8709  1 1184.     * A S D B   O N   L O N G   T E R M   W A I T   Q U E U E
                                    8710  1 1185.     *
-000B64 4110 60D0            000D0  8712  1 1187.                LA    RS,DCTLWAIT             Address of the LTW queue
 000B68 5910 7014            00014  8713  1 1188.                IF    (RS,EQ,ASDBQADD),BEGIN  It is on this queue
 000B6C 4770 A1DE            00C04  8725  1          +
                                    8730  2 1189.     *
                                    8731  2 1190.     * Take it off the queue where it now lives
                                    8732  2 1191.     *
 000B70 5010 D04C            00004  8733  2 1192.                  PQDEL (RS),ASDB               Remove it
 000B74 5070 D048            00000  8759  2          +
 000B78 58F0 A9A6/0DEF       013CC  8765  2          +
                                    8767  2 1193.     *
                                    8768  2 1194.     * Update the priority based on the wait time
                                    8769  2 1195.     *
 DROP   PQPARM-72,R13               8770  2 1196.                  PSET  @UPDPRIO
 USING  @UPDPRIO-72,R13
 000B7E D704 D048 D048 00000 00000  8790  2          +
 000B84 5070 D048            00000  8791  2 1197.                  PMOV  @UPPASDB,ASDB,OP=LA     Move in the ASDB address
 000B88 41F0 A21C/0DEF       00C42  8802  2 1198.                  LCALL UPDPRIO                 Call the local routine
                                    8811  2 1199.     *
                                    8812  2 1200.     * Put it on the READY queue
                                    8813  2 1201.     *
 000B8E 4100 60A8            000A8  8814  2 1202.                  PQADD DCTREADY,ASDB           Add it to the queue
 DROP   @UPDPRIO-72,R13
 USING  PQPARM-72,R13
 000B92 5000 D04C            00004  8846  2          +
 000B96 5070 D048            00000  8857  2          +
 000B9A 58F0 A9AA/0DEF       013D0  8863  2          +
 000BA0 4820 7022            00022  8865  2 1203.                  LH    RA,ASDBSPRI             Get the priority
 000BA4 8920 0002            00002  8866  2 1204.                  SLL   RA,2                    times 4
 000BA8 5812 6108            00108  8867  2 1205.                  L     RS,DCTSPFCT(RA)         Get the current count there
 000BAC 5A10 7090            00090  8868  2 1206.                  A     RS,ASDBPAGN             Add the value for this AS
 000BB0 5012 6108            00108  8869  2 1207.                  ST    RS,DCTSPFCT(RA)         Update the value
 000BB4 4810 7022            00022  8870  2 1208.                  LH    RS,ASDBSPRI             Get the dispatching priority
 000BB8 4910 60FC            000FC  8871  2 1209.                  IF    (RS,GE,DCTSWPRI),'SET DISPGRD+DISPLTD'
 000BBC 4750 A19E            00BC4  8883  2          +
 000BC0 9660 0338      000B8        8897  2          +
                                    8902  2 1210.     *
                                    8903  2 1211.     *  Advise the Swap manager of upgrade to ready queue
                                    8904  2 1212.     *
 DROP   PQPARM-72,R13               8905  2 1213.                  PSET  @PAGSWADV
 USING  @PAGSWADV-72,R13
 000BC4 D703 D048 D048 00000 00000  8925  2          +
 000BCA D203 D048 7004 00000 00004  8926  2 1214.                  MVC   @ADVASB,ASDBASB
 000BD0 58F0 A9AE/0DEF       013D4  8927  2 1215.                  VCALL PAGSWADV                Tell swap manager
                                    8931  2 1216.     *
                                    8932  2 1217.     * Update the upper page frame limit
                                    8933  2 1218.     *
 000BD6 4100 60A8            000A8  8934  2 1219.                  PQHPFN DCTREADY               Get the number needed
 DROP   @PAGSWADV-72,R13
 USING  PQPARM-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   83
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASWAKE,R10) (@ASWAKE-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000BDA 5000 D04C            00004  8966  2          +
 000BDE 58F0 A9B2/0DEF       013D8  8972  2          +
 000BE4 5000 6104            00104  8974  2 1220.                  ST    RVR,DCTSHPF             Save it
 000BE8 5810 0200            00200  8975  2 1221.                  L     RS,PZMATP               Get the mat pointer
 USING  MAT,R1                      8976  2 1222.                  WITH  (MAT,RS),BEGIN
 000BEC 58F0 10DC            000DC  8990  3 1223.                    L     R15,MATPAGFN            Current paging function num
                                    8991  3 1224.   C                IF    ((R15,GE,DCTSHPF),OR,
 000BF0 59F0 6104            00104        3 1225.                          (R15,LT,DCTSLPF)),'SET DISPGRD+DISPLTD'
 000BF4 47A0 A1DA            00C00  9007  3          +
 000BF8 59F0 6100            00100  9018  3          +
 000BFC 47B0 A1DE            00C04  9019  3          +
 000C00 9660 0338      000B8        9033  3          +
 DROP   MAT,R1                      9038  2 1226.                  END   ,
 000C04                             9046  1 1227.                END   ,                       Of the long term wait
 000C04                             9050    1228.              END   ,                       Of the locked portion
 DROP   PQPARM-72,R13               9054    1229.              LKREL DCTLOCK                 Release the lock
 USING  @LOCKS-72,R13
 000C04 D203 D048 6004 00000 00004  9073             +
 000C0A 58F0 A9B6/0DEF       013DC  9076             +
 000C10 8000 C050      00000        9078    1230.              ENABLE #ASPSWM                Get back our PSW flags
 000C14 9140 0338      000B8        9080    1231.              IF    DISPGRD,BEGIN
 000C18 47E0 A206            00C2C  9090             +
 000C1C 5810 0334/1211       000B4  9095  1 1232.                IF    ('LT RS,PSACPLK',Z),'ACALL DISPRD'       Re-dispatch
 000C22 4770 A206            00C2C  9106  1          +
 000C26 58F0 A99A/0DEF       013C0  9117  1          +
 000C2C                             9123    1233.              END   ,
 000C2C 981F C008            00008  9127    1234.              PEND  ,
 DROP   DCT,R6
 DROP   ASDB,R7
 DROP   @ASWAKE-72,R12
 DROP   ASWAKE,R10
 000C30 9680 C000/0B0E 00000        9152             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   84
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9162    1236.     *****************************************************************
                                    9163    1237.     *                                                               *
                                    9164    1238.     *  UPDPRIO --  This routine updates the dispatching priority    *
                                    9165    1239.     *              of the ASDB whose address is passed.  It may     *
                                    9166    1240.     *              update the time-slice end time as well as the    *
                                    9167    1241.     *              dispatching priority.  The ASDB should not be on *
                                    9168    1242.     *              any of the dispatcher queues.                    *
                                    9169    1243.     *                                                               *
                                    9170    1244.     *   Input  --  @UPDPRIO                                         *
                                    9171    1245.     *                                                               *
                                    9172    1246.     *  Output  --  none                                             *
                                    9173    1247.     *                                                               *
                                    9174    1248.     *****************************************************************
-000000                00000 00005  9176    1250.     @UPDPRIO RECORD BEGIN
 000000                             9184  1 1251.     @UPPASDB   DS    A             Address of the ASDB to update
 000004 00                          9185  1 1252.     @UPPFL     FLAG  ,
 @UPPFL.@UPPTSE    80 ONES          9189  1 1253.                FLAG  @UPPTSE       This is a time-slice end call
 000005                00005 00005  9194    1254.              END   ,
-000000                00000 00018  9204    1256.     UPPWA    RECORD BEGIN        Work area for UPDPRIO
 000000                             9212  1 1257.     UPPSTCK    DS    D             Store clock area
 000008                             9213  1 1258.     UPPOTIM    DS    D             Store clock at wait time
 000010                             9214  1 1259.     UPPSFPR    DS    D             Save area for FPR
 000018                00018 00018  9215    1260.              END   ,
-000C36                             9225    1262.     UPDPRIO  PROC  @UPDPRIO,UPPWA,SCOPE=LOCAL
 000C36 E4D7C4D7D9C9D640            9232             +
 000C3E 0008/0018                   9233             +
 000C42 900F D004/18AF       00004  9235             +
 USING  UPDPRIO,R10
 000C48 50D0 C000/18CD       00000  9250             +
 000C4E 9680 C000      00000        9252             +
 USING  @UPDPRIO-72,R12
 AUSING (UPPWA,@UPDPRIO+8)
 000C52 41D0 C068            00068  9271             +
                                    9272    1263.     *
                                    9273    1264.     * Get our control blocks
                                    9274    1265.     *
 000C56 5870 C048            00000  9275    1266.              L     RY,@UPPASDB   Get the ASDB address
 USING  ASDB,R7                     9276    1267.              WITH  (ASDB,RY)
 000C5A 5860 7014/1266       00014  9289    1268.              IF    ('LT RX,ASDBQADD',NZ),'ABORT ONQUEUE'
 000C60 4780 A052            00C94  9300             +
 000C64 AC04 021B      0021B        9309  1          +
 000C68 9680 021A      0021A        9315  1          +
 000C6C 50F0 021C            0021C  9316  1          +
 000C70 58F0 0210            00210  9317  1          +
 000C74 89F0 0010            00010  9318  1          +
 000C78 88F0 0010            00010  9319  1          +
 000C7C 41F0 F000            00000  9320  1          +
 000C80 AEFF 0006            00006  9321  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   85
0Current Usings:  (PZERO,R0) (ASDB,R7) (UPDPRIO,R10) (@UPDPRIO-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000C84 D6D5D8E4C5E4C540            9322             +
 000C94 5860 032C            000AC  9327    1269.              L     RX,PSADCT     Get the DCT pointer
 USING  DCT,R6                      9328    1270.              WITH  (DCT,RX)
                                    9341    1271.     *
                                    9342    1272.     * Take care of the time-slice end case
                                    9343    1273.     *
 000C98 9180 C04C      00004        9344    1274.              IF    @UPPTSE,BEGIN
 000C9C 47E0 A08E            00CD0  9354             +
                                    9359  1 1275.     *
                                    9360  1 1276.     * Set new priority level
                                    9361  1 1277.     *
 000CA0 4810 701C            0001C  9362  1 1278.                LH    RS,ASDBTPRI             Get the Current TS priority
 000CA4 4B10 A7CC            0140E  9363  1 1279.                SH    RS,=H'1'                Less one
 000CA8 47B0 A070            00CB2  9364  1 1280.                IF    NEG,BEGIN
 000CAC 9680 7024      00024        9375  2 1281.                  SET   ASDBPZTS                Make it lower prio than zero
 000CB0 1B11                        9381  2 1282.                  CLEAR RS                      But set the prio to zero
 000CB2                             9385  1 1283.                END   ,
 000CB2 4010 701C            0001C  9389  1 1284.                STH   RS,ASDBTPRI             We have the new slice prio
                                    9390  1 1285.     *
                                    9391  1 1286.     * Calculate the time of the end of the next time slice
                                    9392  1 1287.     *
 000CB6 1821                        9393  1 1288.                LR    RA,RS                   Copy it for a second
 000CB8 8920 0003            00003  9394  1 1289.                SLL   RA,3                    Size of the slice entries
 000CBC 6040 C060            00010  9395  1 1290.                STD   4,UPPSFPR               Save FPR 4
 000CC0 6842 6120            00120  9396  1 1291.                LD    4,DCTSLICE(RA)          Get the new slice value
 000CC4 6E40 70B8            000B8  9397  1 1292.                AW    4,ASDBTCPU              Get the new slice end time
 000CC8 6040 70B0            000B0  9398  1 1293.                STD   4,ASDBSLC               Save it
 000CCC 6840 C060            00010  9399  1 1294.                LD    4,UPPSFPR               Restore FPR 4
 000CD0 A092           00CD0 00C9E  9400    1295.              END   ELSE,BEGIN
 000CD0 47F0 A0EC            00D2E  9409             +
                                    9415  1 1296.     *
                                    9416  1 1297.     * An address space is waking up and needs to have it's time in
                                    9417  1 1298.     * wait evaluated to see if it merits an increase in priority
                                    9418  1 1299.     *
                                    9419  1 1300.     *  Get the time it has been waiting
                                    9420  1 1301.     *
 000CD4 6040 C060            00010  9421  1 1302.                STD   4,UPPSFPR               Save the floating register
 000CD8 B205 C050      00000        9422  1 1303.                STCK  UPPSTCK                 Get the current time
 000CDC D207 C058 70C0 00008 000C0  9423  1 1304.                MVC   UPPOTIM,ASDBWTST        And the start of the wait
 000CE2 9200 C050      00000        9424  1 1305.                MVI   UPPSTCK,0
 000CE6 9200 C058      00008        9425  1 1306.                MVI   UPPOTIM,0               Clear high bytes of the times
 000CEA 6840 C050            00000  9426  1 1307.                LD    4,UPPSTCK               Get the current time
 000CEE 6F40 C058            00008  9427  1 1308.                SW    4,UPPOTIM               Less the previous time
 000CF2 2044                        9428  1 1309.                LPDR  4,4                     Get the positive value
                                    9429  1 1310.     *
                                    9430  1 1311.     * Find out which priority level it qualifies for
                                    9431  1 1312.     *
 000CF4 4820 701C            0001C  9432  1 1313.                LH    RA,ASDBTPRI             Get the time-slice prio
 000CF8 5920 A79E            013E0  9433  1 1314.                WHILE (RA,LT,MAXPRIO),BEGIN   Loop through the levels
 000CFC 47B0 A0D4            00D16  9447  1          +
 000D00 1812                        9452  2 1315.                  LR    RS,RA                   Copy the priority level
 000D02 8910 0003            00003  9453  2 1316.                  SLL   RS,3                    Times 8; size of wait entry
 000D06 6941 6148            00148  9454  2 1317.                  CD    4,DCTSLCWT(RS)          Enough to merit a raise?
 000D0A 4740 A0D4            00D16  9455  2 1318.                  IF    LT,EXIT                 Nope.. Enough of this circus
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   86
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (UPDPRIO,R10) (@UPDPRIO-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000D0E 4120 2001            00001  9469  2 1319.                  LA    RA,@RA+1                Bump up the priority
 000D12 47F0 A0B6            00CF8  9470  1 1320.                END   ,
 000D16 4020 701C            0001C  9475  1 1321.                STH   RA,ASDBTPRI             New slice priority
                                    9476  1 1322.     *
                                    9477  1 1323.     * Decide on the new time slice value
                                    9478  1 1324.     *
 000D1A 8920 0003            00003  9479  1 1325.                SLL   RA,3                    Offset into the time
 000D1E 6842 6120            00120  9480  1 1326.                LD    4,DCTSLICE(RA)          Get the new slice value
 000D22 6E40 70B8            000B8  9481  1 1327.                AW    4,ASDBTCPU              Get the new slice end time
 000D26 6040 70B0            000B0  9482  1 1328.                STD   4,ASDBSLC               Save it
 000D2A 6840 C060            00010  9483  1 1329.                LD    4,UPPSFPR               Restore the register
 000D2E                             9484    1330.              END   ,
                                    9488    1331.     *
                                    9489    1332.     * Apply the ASDB priority limits to the time slice priority to
                                    9490    1333.     * obtain the dispatching priority
                                    9491    1334.     *
 000D2E 4810 701C            0001C  9492    1335.              LH    RS,ASDBTPRI             Get the slice priority
 000D32 4910 7020            00020  9493    1336.              FLOOR RS,ASDBLPRI             Minimum dispatching prio
 000D36 47B0 A0FC            00D3E  9497             +
 000D3A 4810 7020            00020  9498             +
 000D3E 4910 701E            0001E  9499    1337.              CEIL  RS,ASDBHPRI             Maximum dispatching prio
 000D42 47D0 A108            00D4A  9503             +
 000D46 4810 701E            0001E  9504             +
 000D4A 4010 7022            00022  9505    1338.              STH   RS,ASDBSPRI             Save the dispatching prio
 000D4E 981F C008            00008  9506    1339.              PEND  ,
 DROP   DCT,R6
 DROP   ASDB,R7
 DROP   @UPDPRIO-72,R12
 DROP   UPDPRIO,R10
 000D52 9680 C000/0B0E 00000        9531             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   87
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9538    1341.     *****************************************************************
                                    9539    1342.     *                                                               *
                                    9540    1343.     *    IDLE  --  This routine sets up the PSW and registers to    *
                                    9541    1344.     *              put the CPU into a wait state.  It is called     *
                                    9542    1345.     *              when there is no work for this CPU to do.        *
                                    9543    1346.     *                                                               *
                                    9544    1347.     *   Input  --  none                                             *
                                    9545    1348.     *                                                               *
                                    9546    1349.     *  Output  --  none                                             *
                                    9547    1350.     *                                                               *
                                    9548    1351.     *****************************************************************
-000D58                             9550    1353.     IDLE     PROC  SCOPE=LOCAL
 000D58 C9C4D3C540404040            9557             +
 000D60 0000/0000                   9558             +
 000D64 900F D004/18AF       00004  9560             +
 USING  IDLE,R10
 000D6A 50D0 C000/18CD       00000  9575             +
 000D70 9680 C000      00000        9577             +
 000D74 41D0 C048            00048  9578             +
                                    9579    1354.     *
                                    9580    1355.     * Make sure that there is no task active
                                    9581    1356.     *
 000D78 5890 0324/1299       000A4  9582    1357.              IF    ('LT RN,PSAASDB',NZ),BEGIN       Whoa!
 000D7E 4780 A04E            00DB2  9593             +
 000D82 AC04 021B      0021B        9598  1 1358.                ABORT  BADASDB
 000D86 9680 021A      0021A        9607  1          +
 000D8A 50F0 021C            0021C  9608  1          +
 000D8E 58F0 0210            00210  9609  1          +
 000D92 89F0 0010            00010  9610  1          +
 000D96 88F0 0010            00010  9611  1          +
 000D9A 41F0 F000            00000  9612  1          +
 000D9E AEFF 0006            00006  9613  1          +
 000DA2 C2C1C4C1E2C4C240            9614  1          +
 000DB2                             9615    1359.              END   ,
                                    9619    1360.     *
                                    9620    1361.     * Update the IPCB to show us having VERY low priority
                                    9621    1362.     *
 000DB2 5890 0320            000A0  9622    1363.              L     RN,PSAIPCB
 USING  IPCB,R9                     9623    1364.              WITH  (IPCB,RN),BEGIN
 000DB6 D201 900E A6AC 0000E 01410  9637  1 1365.                MVC   IPCBPRIO,=H'-1'         Lower than lowest
 DROP   IPCB,R9                     9638    1366.              END   ,
                                    9646    1367.     *
                                    9647    1368.     * Clean up the rest of the stuff from the PSA
                                    9648    1369.     *
 000DBC                             9649    1370.              CLEAR PZCURASB
 000DBC D703 0208 0208 00208 00208  9655             +
 000DC2 D207 02F0 A64C 00070 013B0  9656    1371.              MVC   PSAKUSER,=X'00FFFFFFFFFFFFFF'     No clock things
 000DC8 5860 032C            000AC  9657    1372.              L     RX,PSADCT               Get the DCT pointer
 USING  DCT,R6                      9658    1373.              WITH  (DCT,RX)
                                    9671    1374.     *
                                    9672    1375.     * Establish the global address space
                                    9673    1376.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   88
0Current Usings:  (PZERO,R0) (DCT,R6) (IDLE,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000DCC 5810 6008            00008  9674    1377.              L     RS,DCTGASB              Get the global ASB
 USING  ASB,R1                      9675    1378.              WITH  (ASB,RS),BEGIN
 000DD0 E500 1008 0003 00008 00003  9689  1 1379.                LASP  ASBLASP,3               Load up the parms
 DROP   ASB,R1                      9690    1380.              END   ,
                                    9698    1381.     *
                                    9699    1382.     * Setup a new PSW
                                    9700    1383.     *
 000DD6 D207 0280 A654 00000 013B8  9701    1384.              MVC   PSAPSW,=X'070F0000C9C4D3C5'       IDLE PSW
 000DDC 981F C008            00008  9702    1385.              PEND  ,
 DROP   DCT,R6
 DROP   IDLE,R10
 000DE0 9680 C000/0B0E 00000        9717             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   89
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9724    1387.     *****************************************************************
                                    9725    1388.     *                                                               *
                                    9726    1389.     * SUSPEND  --  This routine causes the current TDB/ASDB to be   *
                                    9727    1390.     *              marked as suspended until it is awakened by a    *
                                    9728    1391.     *              call to RESUME.  The suspension does not         *
                                    9729    1392.     *              actually take place until the next dispatch. It  *
                                    9730    1393.     *              sets flags to make sure that this re-dispatch    *
                                    9731    1394.     *              does, in fact, occur.                            *
                                    9732    1395.     *                                                               *
                                    9733    1396.     *    Input --  @SUSPEND                                         *
                                    9734    1397.     *                                                               *
                                    9735    1398.     *   Output --  Updated fields in @SUSPEND                       *
                                    9736    1399.     *                                                               *
                                    9737    1400.     *****************************************************************
-000DE6                             9739    1402.     SUSPEND  PROC  @SUSPEND,SCOPE=GLOBAL
 000DE6 E2E4E2D7C5D5C440            9745             +
 000DEE 0010/0000                   9746             +
 000DF2 900F D004/18AF       00004  9748             +
 USING  SUSPEND,R10
 000DF8 50D0 C000/18CD       00000  9763             +
 000DFE 9680 C000      00000        9765             +
 USING  @SUSPEND-72,R12
 000E02 41D0 C058            00058  9779             +
                                    9780    1403.     *
                                    9781    1404.     * Get the control blocks
                                    9782    1405.     *
 000E06 5870 0324            000A4  9783    1406.              L     RY,PSAASDB              Get the current ASDB addr
 USING  ASDB,R7                     9784    1407.              WITH  (ASDB,RY)
 000E0A 5860 032C            000AC  9797    1408.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                      9798    1409.              WITH  (DCT,RX)
                                    9811    1410.     *
                                    9812    1411.     * Handle the Address space level suspension
                                    9813    1412.     *
 000E0E 9140 C050      00008        9814    1413.              IF    @SUSPAS,BEGIN           It is at the AS level
 000E12 47E0 A03E            00E30  9824             +
                                    9829  1 1414.     *
                                    9830  1 1415.     * Update the suspend count
                                    9831  1 1416.     *
 000E16 5820 702C            0002C  9832  1 1417.                L     RA,ASDBSUSP             Get the current count
 000E1A                             9833  1 1418.                LOOP  BEGIN
 000E1A 4130 2001            00001  9839  2 1419.                  LA    RB,@RA+1                Count one more suspension
 000E1E BA23 702C            0002C  9840  2 1420.                  CS    RA,RB,ASDBSUSP          Update the count
 000E22 4770 A028            00E1A  9841  1 1421.                UNTIL Z,END
                                    9860  1 1422.     *
                                    9861  1 1423.     * Mark it for a re-dispatch
                                    9862  1 1424.     *
 000E26 9640 0338      000B8        9863  1 1425.                SET   DISPGRD                 Global re-dispatch flag
 000E2A D203 C048 7004 00000 00004  9869  1 1426.                MVC   @SUSPID,ASDBASB         Move in the suspended ID
 000E30 A042           00E30 00E14  9870    1427.              END   ELSE,BEGIN
 000E30 47F0 A0BA            00EAC  9879             +
                                    9885  1 1428.     *
                                    9886  1 1429.     * Handle the Task level suspension
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   90
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (SUSPEND,R10) (@SUSPEND-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9887  1 1430.     *
 000E34 5860 7038            00038  9888  1 1431.                L     RX,ASDBCTDB             Get the current TDB
 DROP   DCT,R6                      9889  1 1432.                WITH  (TDB,RX)
 USING  TDB,R6
 000E38 9120 C050      00008        9905  1 1433.                IF    ~@SUSPPLC,BEGIN         It's for us, highest level
 000E3C 4710 A088            00E7A  9915  1          +
                                    9920  2 1434.     *
                                    9921  2 1435.     * Turn on the suspend flags
                                    9922  2 1436.     *
 000E40 9680 60B0      000B0        9923  2 1437.                  SET   TDBSUSP                 Mark it as suspended
 000E44 9180 C050      00008        9929  2 1438.                  IF    @SUSPLNG,'SET TDBLONG'  Mark it as long term
 000E48 47E0 A05E            00E50  9939  2          +
 000E4C 9640 60B0      000B0        9950  2          +
                                    9955  2 1439.     *
                                    9956  2 1440.     * Set up for the re-dispatch
                                    9957  2 1441.     *
 000E50 9180 7028      00028        9958  2 1442.                  IF    ~ASDBTDSP,BEGIN
 000E54 4710 A07E            00E70  9968  2          +
 000E58 58F0 7028            00028  9973  3 1443.                    SET   ASDBTDSP,MODE=LOCKED,REF=ASDB
 000E5C 4110 0080            00080  9980  3          +
 000E60 8910 0018/180F       00018  9981  3          +
 000E66 1601/BAF0 7028       00028  9983  3          +
 000E6C 4770 A072            00E64  9986  3          +
 000E70                             9987  2 1444.                  END   ,
 000E70 5060 C048            00000  9991  2 1445.                  ST    RX,@SUSPID              Save the task ID
 000E74 D203 C04C 60AC 00004 000AC  9992  2 1446.                  MVC   @SUSPLC,TDBCLCN         Tell about the control level
 000E7A A08C           00E7A 00E3E  9993  1 1447.                END   ELSE,BEGIN
 000E7A 47F0 A0BA            00EAC 10002  1          +
                                   10008  2 1448.     *
                                   10009  2 1449.     * It is for the previous level of control, so we set the bit
                                   10010  2 1450.     * in the ERB and no redispatch is needed.
                                   10011  2 1451.     *
 000E7E 58F0 A5F2/0DEF       013E4 10012  2 1452.                  ACALL ASLOCK                  Lock up the chain
 000E84 5840 6028            00028 10019  2 1453.                  L     RJ,TDBISTK              Get the previous level
 000E88 4140 4040            00040 10020  2 1454.                  WITH  (ERB,RJ),'LA RJ,ERBSTAT'
 USING  ERB,R4
 DROP   ERB,R4
 USING  TDBESTAT,R4                10044  2 1455.                  WITH  (TDBESTAT,RJ),BEGIN
 000E8C 9680 4070      000B0       10058  3 1456.                    SET   TDBSUSP                 Suspend it
 000E90 9180 C050      00008       10064  3 1457.                    IF    @SUSPLNG,'SET TDBLONG'  Long time
 000E94 47E0 A0AA            00E9C 10074  3          +
 000E98 9640 4070      000B0       10085  3          +
 000E9C 5060 C048            00000 10090  3 1458.                    ST    RX,@SUSPID              Save the Task ID
 000EA0 D203 C04C 406C 00004 000AC 10091  3 1459.                    MVC   @SUSPLC,TDBCLCN         And the level of control
 DROP   TDBESTAT,R4                10092  2 1460.                  END   ,
 000EA6 58F0 A5F6/0DEF       013E8 10100  2 1461.                  ACALL ASULOCK                 Free the lock
 000EAC                            10107  1 1462.                END   ,
 DROP   TDB,R6                     10111    1463.              END   ,
 USING  DCT,R6
 000EAC 981F C008            00008 10127    1464.              PEND  ,
 DROP   DCT,R6
 DROP   ASDB,R7
 DROP   @SUSPEND-72,R12
 DROP   SUSPEND,R10
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   91
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000EB0 9680 C000/0B0E 00000       10152             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   92
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10159    1466.     *****************************************************************
                                   10160    1467.     *                                                               *
                                   10161    1468.     *  DISPRD  --  This routine calls the dispatcher if some        *
                                   10162    1469.     *              re-dispatch needs to be done.  It puts the       *
                                   10163    1470.     *              caller into dispatch mode as well, saving the    *
                                   10164    1471.     *              registers and PSW info in PSA and using the      *
                                   10165    1472.     *              dispatcher stack.                                *
                                   10166    1473.     *                                                               *
                                   10167    1474.     *    Input --  none                                             *
                                   10168    1475.     *                                                               *
                                   10169    1476.     *   Output --  none                                             *
                                   10170    1477.     *                                                               *
                                   10171    1478.     *****************************************************************
-000EB6                            10173    1480.     DISPRD   PROC  SCOPE=GLOBAL
 000EB6 C4C9E2D7D9C44040           10179             +
 000EBE 0000/0000                  10180             +
 000EC2 900F D004/18AF       00004 10182             +
 USING  DISPRD,R10
 000EC8 50D0 C000/18CD       00000 10197             +
 000ECE 9680 C000      00000       10199             +
 000ED2 41D0 C048            00048 10200             +
                                   10201    1481.     *
                                   10202    1482.     * First make sure that we are allowed to cause a re-dispatch.
                                   10203    1483.     * Then do all that is required to get us to the state where we
                                   10204    1484.     * are running off the dispatcher stack.
                                   10205    1485.     *
 000ED6 5870 0334/1277       000B4 10206    1486.              IF    ('LT RY,PSACPLK',NZ),EXIT
 000EDC 4770 A15A            0101C 10219             +
                                   10225    1487.     *
                                   10226    1488.     * See if there is any possible reason we would want to re-dispatch
                                   10227    1489.     *
 000EE0 5870 0324            000A4 10228    1490.              L     RY,PSAASDB
 USING  ASDB,R7                    10229    1491.              WITH  (ASDB,RY)
                                   10242    1492.     *
                                   10243    1493.     * Make sure it doesn't hold a lock
                                   10244    1494.     *
 000EE4 9140 0338      000B8       10245    1495.              IF    (~DISPGRD,AND,~ASDBTDSP),EXIT     No need to continue
 000EE8 4710 A032            00EF4 10257             +
 000EEC 9180 7028      00028       10268             +
 000EF0 47E0 A15A            0101C 10271             +
 000EF4 5860 0328            000A8 10277    1496.              L     RX,PSATDB               Get the current TDB
 USING  TDB,R6                     10278    1497.              WITH  (TDB,RX),BEGIN
 000EF8 9180 60B0      000B0       10292  1 1498.                IF    (TDBSUSP,AND,('LT RS,ASDBLOCK',NZ)),'ABORT SUSPWLOCK'
 000EFC 47E0 A078            00F3A 10304  1          +
 000F00 5810 7030/1211       00030 10315  1          +
 000F06 4780 A078            00F3A 10317  1          +
 000F0A AC04 021B      0021B       10326  2          +
 000F0E 9680 021A      0021A       10332  2          +
 000F12 50F0 021C            0021C 10333  2          +
 000F16 58F0 0210            00210 10334  2          +
 000F1A 89F0 0010            00010 10335  2          +
 000F1E 88F0 0010            00010 10336  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   93
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (DISPRD,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000F22 41F0 F000            00000 10337  2          +
 000F26 AEFF 0006            00006 10338  2          +
 000F2A E2E4E2D7E6D3D6C3           10339  1          +
 DROP   TDB,R6                     10344    1499.              END   ,
                                   10352    1500.     *
                                   10353    1501.     * Get us to the dispatcher stack
                                   10354    1502.     *
 000F3A AC04 0280      00000       10355    1503.              STNSM PSAPSW,X'04'            Save mask and disable
 000F3E 9680 0338      000B8       10356    1504.              SET   DISPSTK                 Turn on the tattle tail
 000F42 D203 0334 A52A 000B4 013EC 10362    1505.              MVC   PSACPLK,=A(1)           Lock up this CPU
 000F48 900F 0288            00008 10363    1506.              STM   R0,R15,PSAGPRS          Save GPRs
 000F4C 6000 02C8            00048 10364    1507.              STD   0,PSAFPRS+0*4           FPR 0
 000F50 6020 02D0            00050 10365    1508.              STD   2,PSAFPRS+2*4           FPR 2
 000F54 6040 02D8            00058 10366    1509.              STD   4,PSAFPRS+4*4           FPR 4
 000F58 6060 02E0            00060 10367    1510.              STD   6,PSAFPRS+6*4           FPR 6
                                   10368    1511.     *
                                   10369    1512.     * Save any other bits in the PSW that might have changed since the
                                   10370    1513.     * last dispatch.
                                   10371    1514.     *
 000F5C D403 0280 A52E 00000 013F0 10372    1515.              NC    PSAPSW(4),=X'FF0F0000'  Turn off changeable bits
 000F62 1B22                       10373    1516.              CLEAR RA                      Construct high order PSW word
 000F64 B20B 0000                  10377    1517.              IPK   ,                       PSW key to RA
 000F68 8920 0010            00010 10378    1518.              SLL   RA,16                   Get it to proper spot
                                   10379    1519.     *
                                   10380    1520.     * Program mask
                                   10381    1521.     *
 000F6C 1B33                       10382    1522.              CLEAR RB
 000F6E B222 0030                  10386    1523.              IPM   RB                      Get the program mask
 000F72 8830 0017            00017 10387    1524.              SRL   RB,23                   Shift to the right spot
                                   10388    1525.     *
                                   10389    1526.     * Secondary space bit
                                   10390    1527.     *
 000F76 B224 0030                  10391    1528.              IAC   RB                      Put the addr control bit
 000F7A 8930 0007            00007 10392    1529.              SLL   RB,7                    Move bits to the right spot
                                   10393    1530.     *
                                   10394    1531.     * Construct the composite
                                   10395    1532.     *
 000F7E 1623                       10396    1533.              OR    RA,RB
 000F80 5620 0280            00000 10397    1534.              O     RA,PSAPSW               Get a composite
 000F84 5020 0280            00000 10398    1535.              ST    RA,PSAPSW               And save it for him
                                   10399    1536.     *
                                   10400    1537.     * Setup a new PC as well
                                   10401    1538.     *
 000F88 4120 A15A            0101C 10402    1539.              LA    RA,DISPRDRT             Get the new program address
 000F8C 0B20                       10403    1540.              BSM   RA,0                    Insert the addressing mode
 000F8E 5020 0284            00004 10404    1541.              ST    RA,PSAPSW+4             Put it in the PSW
                                   10405    1542.     *
                                   10406    1543.     * Setup a stack to use
                                   10407    1544.     *
 000F92 58C0 0330            000B0 10408    1545.              L     WAR,PSADSTK             Get the current location ptr
 000F96 41D0 C008            00008 10409    1546.              LA    SPR,@WAR+8              And the new stack pointer
                                   10410    1547.     *
                                   10411    1548.     *
                                   10412    1549.     * Now we pretend that we were entered just like any good interrupt
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   94
0Current Usings:  (PZERO,R0) (ASDB,R7) (DISPRD,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10413    1550.     * routine and we act accordingly.
                                   10414    1551.     *
 000F9A 9801 0280            00000 10415    1552.              LM    R0,R1,PSAPSW            Get the current PSW
 000F9E 9901 A552            01414 10416    1553.              XTRC  R0,R1,DISPRD            Trace that
 001414 00001414                   10424  1          +
 001418 00000067/0001              10425  1          +
 00141E C4C9E2D7D9C44040           10427             +
                                   10434    1554.     *
                                   10435    1555.     * Return to the user
                                   10436    1556.     *
 000FA2 9140 0338      000B8       10437    1557.              IF    (DISPGRD,OR,ASDBTDSP),'ACALL ASDISP'
 000FA6 4710 A0F0            00FB2 10451             +
 000FAA 9180 7028      00028       10460             +
 000FAE 47E0 A0F6            00FB8 10461             +
 000FB2 58F0 A532/0DEF       013F4 10472             +
 000FB8                            10478    1558.              IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 000FB8 D503 A536 0334 013F8 000B4 10490             +
 000FBE 4780 A130            00FF2 10491             +
 000FC2 AC04 021B      0021B       10500  1          +
 000FC6 9680 021A      0021A       10506  1          +
 000FCA 50F0 021C            0021C 10507  1          +
 000FCE 58F0 0210            00210 10508  1          +
 000FD2 89F0 0010            00010 10509  1          +
 000FD6 88F0 0010            00010 10510  1          +
 000FDA 41F0 F000            00000 10511  1          +
 000FDE AEFF 0006            00006 10512  1          +
 000FE2 C3D7D3D2C2C1D340           10513             +
 000FF2 9801 0280            00000 10518    1559.              LM    R0,R1,PSAPSW            Get the PSW
 000FF6 9901 A566            01428 10519    1560.              XTRC  R0,R1,RUNUSER1          Trace the PSW
 001426 0000/00001428                     1          +
 00142C 00000068/0001              10528  1          +
 001432 D9E4D5E4E2C5D9F1           10530             +
 000FFA 6800 02C8            00048 10537    1561.              LD    0,PSAFPRS+0*4           FPR 0
 000FFE 6820 02D0            00050 10538    1562.              LD    2,PSAFPRS+2*4           FPR 2
 001002 6840 02D8            00058 10539    1563.              LD    4,PSAFPRS+4*4           FPR 4
 001006 6860 02E0            00060 10540    1564.              LD    6,PSAFPRS+6*4           FPR 6
 00100A 980F 0288            00008 10541    1565.              LM    0,15,PSAGPRS            GPRs
 00100E 947F 0338      000B8       10542    1566.              CLEAR DISPSTK                 Not in dispatcher stack now
 001012                            10549    1567.              CLEAR PSACPLK
 001012 D703 0334 0334 000B4 000B4 10555             +
 001018 8200 0280      00000       10556    1568.              LPSW  PSAPSW                  And off and running
 00101C 981F C008            00008 10557    1569.     DISPRDRT PEND  ,                       Return to the caller
 DROP   ASDB,R7
 DROP   DISPRD,R10
 001020 9680 C000/0B0E 00000       10573             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   95
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10580    1571.     *****************************************************************
                                   10581    1572.     *                                                               *
                                   10582    1573.     * DISPSHLD --  This routine cases the current address space     *
                                   10583    1574.     *              to become non-swappable.  It increments the      *
                                   10584    1575.     *              count of holds on the address space.             *
                                   10585    1576.     *                                                               *
                                   10586    1577.     *    Input --  none                                             *
                                   10587    1578.     *                                                               *
                                   10588    1579.     *   Output --  none                                             *
                                   10589    1580.     *                                                               *
                                   10590    1581.     *****************************************************************
-001026                            10592    1583.     DISPSHLD PROC  SCOPE=GLOBAL
 001026 C4C9E2D7E2C8D3C4           10598             +
 00102E 0000/0000                  10599             +
 001032 900F D004/18AF       00004 10601             +
 USING  DISPSHLD,R10
 001038 50D0 C000/18CD       00000 10616             +
 00103E 9680 C000      00000       10618             +
 001042 41D0 C048            00048 10619             +
                                   10620    1584.     *
                                   10621    1585.     * Locate the control blocks
                                   10622    1586.     *
 001046 5870 0324            000A4 10623    1587.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    10624    1588.              WITH  (ASDB,RY)
                                   10637    1589.     *
                                   10638    1590.     * Get and update the values
                                   10639    1591.     *
 00104A 5820 7098            00098 10640    1592.              L     RA,ASDBSHCT             Get the swap hold count
 00104E                            10641    1593.              LOOP  BEGIN
 00104E 1812                       10647  1 1594.                LR    RS,RA                   Copy the current value
 001050 4110 1001            00001 10648  1 1595.                LA    RS,@RS+1                Increment the hold count
 001054 BA21 7098            00098 10649  1 1596.                CS    RA,RS,ASDBSHCT          Replace it
 001058 4770 A01C            0104E 10650    1597.              UNTIL Z,END                   Loop it up
 00105C 981F C008            00008 10669    1598.              PEND  ,                       Return to the caller
 DROP   ASDB,R7
 DROP   DISPSHLD,R10
 001060 9680 C000/0B0E 00000       10684             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   96
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10691    1600.     *****************************************************************
                                   10692    1601.     *                                                               *
                                   10693    1602.     * DISPSREL --  This routine cancels the effect of a DISPSHLD.   *
                                   10694    1603.     *              It decrements the swap hold count.  It won't     *
                                   10695    1604.     *              decrement the count below zero.                  *
                                   10696    1605.     *                                                               *
                                   10697    1606.     *    Input --  @DISPSWP                                         *
                                   10698    1607.     *                                                               *
                                   10699    1608.     *   Output --  none                                             *
                                   10700    1609.     *                                                               *
                                   10701    1610.     *****************************************************************
-001066                            10703    1612.     DISPSREL PROC  @DISPSWP,SCOPE=GLOBAL
 001066 C4C9E2D7E2D9C5D3           10709             +
 00106E 0008/0000                  10710             +
 001072 900F D004/18AF       00004 10712             +
 USING  DISPSREL,R10
 001078 50D0 C000/18CD       00000 10727             +
 00107E 9680 C000      00000       10729             +
 USING  @DISPSWP-72,R12
 001082 41D0 C050            00050 10743             +
                                   10744    1613.     *
                                   10745    1614.     * Locate all the control blocks
                                   10746    1615.     *
 001086 5810 C048            00000 10747    1616.              L     RS,@DISPSAS             Get the ASB address
 00108A 5870 101C            0001C 10748    1617.              WITH  (ASB,RS),'L RY,ASBASDB' Get the ASDB address
 USING  ASB,R1
 DROP   ASB,R1
 USING  ASDB,R7                    10772    1618.              WITH  (ASDB,RY)
 00108E                            10785    1619.              IF    (ASDB,NE,'ASDB'),'ABORT BADASDB'
 00108E D503 A352 7000 013C4 00000 10796             +
 001094 4780 A056            010C8 10797             +
 001098 AC04 021B      0021B       10806  1          +
 00109C 9680 021A      0021A       10812  1          +
 0010A0 50F0 021C            0021C 10813  1          +
 0010A4 58F0 0210            00210 10814  1          +
 0010A8 89F0 0010            00010 10815  1          +
 0010AC 88F0 0010            00010 10816  1          +
 0010B0 41F0 F000            00000 10817  1          +
 0010B4 AEFF 0006            00006 10818  1          +
 0010B8 C2C1C4C1E2C4C240           10819             +
                                   10824    1620.     *
                                   10825    1621.     * Get and update them values
                                   10826    1622.     *
 0010C8 5820 7098            00098 10827    1623.              L     RA,ASDBSHCT             Get the swap hold count
 0010CC                            10828    1624.              LOOP  BEGIN
 0010CC 1812                       10834  1 1625.                LR    RS,RA                   Copy the count value
 0010CE 4B10 A39A            0140C 10835  1 1626.                SH    RS,=Y(1)                Decrement the count
 0010D2 47B0 A094            01106 10836  1 1627.                IF    NEG,'ABORT SWAPHREL'    Not too far though
 0010D6 AC04 021B      0021B       10851  2          +
 0010DA 9680 021A      0021A       10857  2          +
 0010DE 50F0 021C            0021C 10858  2          +
 0010E2 58F0 0210            00210 10859  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   97
0Current Usings:  (PZERO,R0) (ASDB,R7) (DISPSREL,R10) (@DISPSWP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00010E6 89F0 0010            00010 10860  2          +
 0010EA 88F0 0010            00010 10861  2          +
 0010EE 41F0 F000            00000 10862  2          +
 0010F2 AEFF 0006            00006 10863  2          +
 0010F6 E2E6C1D7C8D9C5D3           10864  1          +
 001106 BA21 7098            00098 10869  1 1628.                CS    RA,RS,ASDBSHCT          Update the count
 00110A 4770 A05A            010CC 10870    1629.              UNTIL Z,END                   Release one swap hold
                                   10889    1630.     *
                                   10890    1631.     * Check and see if this one is below the magic swap value
                                   10891    1632.     *
 00110E 1211/4770 A0D2       01144 10892    1633.              IF    (RS,Z),BEGIN            It is now swapable
 001114 5860 032C            000AC 10906  1 1634.                L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     10907  1 1635.                WITH  (DCT,RX)
 001118 4820 7022            00022 10920  1 1636.                LH    RA,ASDBSPRI             Get the priority
 00111C 4920 60FC            000FC 10921  1 1637.                IF    (RA,LE,DCTSWPRI),'SET DISPGRD'  Re-dispatch
 001120 4730 A0B6            01128 10933  1          +
 001124 9640 0338      000B8       10944  1          +
 001128 5820 0200            00200 10949  1 1638.                L     RA,PZMATP               Get the MAT pointer
 USING  MAT,R2                     10950  1 1639.                WITH  (MAT,RA)
 00112C 5810 20DC            000DC 10963  1 1640.                L     RS,MATPAGFN             Current paging function num
                                   10964  1 1641.   C            IF    ((RS,GE,DCTSHPF),OR,
 001130 5910 6104            00104        1 1642.                      (RS,LT,DCTSLPF)),'SET DISPGRD+DISPLTD'
 001134 47A0 A0CE            01140 10980  1          +
 001138 5910 6100            00100 10991  1          +
 00113C 47B0 A0D2            01144 10992  1          +
 001140 9660 0338      000B8       11006  1          +
 DROP   MAT,R2                     11011    1643.              END   ,
 DROP   DCT,R6
 001144 981F C008            00008 11025    1644.              PEND  ,
 DROP   ASDB,R7
 DROP   @DISPSWP-72,R12
 DROP   DISPSREL,R10
 001148 9680 C000/0B0E 00000       11045             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   98
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11052    1646.     *****************************************************************
                                   11053    1647.     *                                                               *
                                   11054    1648.     * ASSYSTSK --  This routine causes the current address space    *
                                   11055    1649.     *              to be marked as a system task.  System tasks     *
                                   11056    1650.     *              are always queued at the highest priority.       *
                                   11057    1651.     *                                                               *
                                   11058    1652.     *    Input --  none                                             *
                                   11059    1653.     *                                                               *
                                   11060    1654.     *   Output --  none                                             *
                                   11061    1655.     *                                                               *
                                   11062    1656.     *****************************************************************
-00114E                            11064    1658.     ASSYSTSK PROC  SCOPE=GLOBAL
 00114E C1E2E2E8E2E3E2D2           11070             +
 001156 0000/0000                  11071             +
 00115A 900F D004/18AF       00004 11073             +
 USING  ASSYSTSK,R10
 001160 50D0 C000/18CD       00000 11088             +
 001166 9680 C000      00000       11090             +
 00116A 41D0 C048            00048 11091             +
                                   11092    1659.     *
                                   11093    1660.     * Locate the control blocks
                                   11094    1661.     *
 00116E 5870 0324            000A4 11095    1662.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    11096    1663.              WITH  (ASDB,RY)
                                   11109    1664.     *
                                   11110    1665.     * Set system task mode
                                   11111    1666.     *
 001172 D201 701E A2B8 0001E 01412 11112    1667.              MVC   ASDBHPRI,=Y(SYSPRIO)    Top it out at the max
 001178 D201 7020 A2B8 00020 01412 11113    1668.              MVC   ASDBLPRI,=Y(SYSPRIO)    Bottom out at the max
 00117E D201 7022 A2B8 00022 01412 11114    1669.              MVC   ASDBSPRI,=Y(SYSPRIO)    Current priority is highest
 001184 981F C008            00008 11115    1670.              PEND  ,                       Return to the caller
 DROP   ASDB,R7
 DROP   ASSYSTSK,R10
 001188 9680 C000/0B0E 00000       11130             +
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page   99
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11137    1672.     *****************************************************************
                                   11138    1673.     *                                                               *
                                   11139    1674.     * RESUMAS  --  This routine wakes up an ASDB that has been      *
                                   11140    1675.     *              previously put to sleep with a SUSPEND.          *
                                   11141    1676.     *                                                               *
                                   11142    1677.     *                                                               *
                                   11143    1678.     *    Input --  @RESUME                                          *
                                   11144    1679.     *                                                               *
                                   11145    1680.     *   Output --  none                                             *
                                   11146    1681.     *                                                               *
                                   11147    1682.     *****************************************************************
-00118E                            11149    1684.     RESUMAS  PROC  @RESUME,SCOPE=GLOBAL
 00118E D9C5E2E4D4C1E240           11155             +
 001196 0008/0000                  11156             +
 00119A 900F D004/18AF       00004 11158             +
 USING  RESUMAS,R10
 0011A0 50D0 C000/18CD       00000 11173             +
 0011A6 9680 C000      00000       11175             +
 USING  @RESUME-72,R12
 0011AA 41D0 C050            00050 11189             +
                                   11190    1685.     *
                                   11191    1686.     * Get the desired ASDB
                                   11192    1687.     *
 0011AE 5870 C048            00000 11193    1688.              L     RY,@RESUNIT             Get the ASB address
 0011B2                            11194    1689.              IF    (@RY,NE,'ASB '),'ABORT BADASB'
 0011B2 D503 A262 7000 013FC 00000 11204             +
 0011B8 4780 A052            011EC 11205             +
 0011BC AC04 021B      0021B       11214  1          +
 0011C0 9680 021A      0021A       11220  1          +
 0011C4 50F0 021C            0021C 11221  1          +
 0011C8 58F0 0210            00210 11222  1          +
 0011CC 89F0 0010            00010 11223  1          +
 0011D0 88F0 0010            00010 11224  1          +
 0011D4 41F0 F000            00000 11225  1          +
 0011D8 AEFF 0006            00006 11226  1          +
 0011DC C2C1C4C1E2C24040           11227             +
 0011EC 5870 701C            0001C 11232    1690.              WITH  (ASB,RY),'L RY,ASBASDB' Get the ASDB address
 USING  ASB,R7
 DROP   ASB,R7
 0011F0                            11256    1691.              IF    (@RY,NE,'ASDB'),'ABORT BADASDB'
 0011F0 D503 A22A 7000 013C4 00000 11266             +
 0011F6 4780 A090            0122A 11267             +
 0011FA AC04 021B      0021B       11276  1          +
 0011FE 9680 021A      0021A       11282  1          +
 001202 50F0 021C            0021C 11283  1          +
 001206 58F0 0210            00210 11284  1          +
 00120A 89F0 0010            00010 11285  1          +
 00120E 88F0 0010            00010 11286  1          +
 001212 41F0 F000            00000 11287  1          +
 001216 AEFF 0006            00006 11288  1          +
 00121A C2C1C4C1E2C4C240           11289             +
 USING  ASDB,R7                    11294    1692.              WITH  (ASDB,RY)
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page  100
0Current Usings:  (PZERO,R0) (ASDB,R7) (RESUMAS,R10) (@RESUME-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11307    1693.     *
                                   11308    1694.     * Remove one suspension from the ASDB
                                   11309    1695.     *
 00122A 5820 702C            0002C 11310    1696.              L     RA,ASDBSUSP             Get the current count
 00122E                            11311    1697.              LOOP  BEGIN
 00122E 1832                       11317  1 1698.                LR    RB,RA                   Copy the current
 001230 4B30 A274            0140E 11318  1 1699.                SH    RB,=H'1'                Reduce it by one
 001234 47B0 A0CE            01268 11319  1 1700.                IF    NEG,'ABORT RESUMERR'
 001238 AC04 021B      0021B       11334  2          +
 00123C 9680 021A      0021A       11340  2          +
 001240 50F0 021C            0021C 11341  2          +
 001244 58F0 0210            00210 11342  2          +
 001248 89F0 0010            00010 11343  2          +
 00124C 88F0 0010            00010 11344  2          +
 001250 41F0 F000            00000 11345  2          +
 001254 AEFF 0006            00006 11346  2          +
 001258 D9C5E2E4D4C5D9D9           11347  1          +
                                   11352  1 1701.     *         IF    NEG,'CLEAR RB'          But not less than zero
 001268 BA23 702C            0002C 11353  1 1702.                CS    RA,RB,ASDBSUSP          Replace it
 00126C 4770 A094            0122E 11354    1703.              UNTIL Z,END
                                   11373    1704.     *
                                   11374    1705.     * If the count is now zero, wake it up
                                   11375    1706.     *
 001270 1233/4770 A0E6       01280 11376    1707.              IF    (RB,Z),BEGIN
 USING  @ASWAKE-72,R13             11390  1 1708.                PSET  @ASWAKE,CLEAR=NO
 001276 5070 D048            00000 11401  1 1709.                ST    RY,@ASWASDB             Save the ASDB address
 00127A 58F0 A266/0DEF       01400 11402  1 1710.                ACALL ASWAKE                  Wake up the ASDB
 001280                            11409    1711.              END   ,
 001280 1803                       11413    1712.              LR    RVR,RB                  Return current suspend count
 001282 981F C008            00008 11414    1713.              PEND  ,
 DROP   ASDB,R7
 DROP   @RESUME-72,R12
 DROP   RESUMAS,R10
 001286 9680 C000/0B0E 00000       11434             +
 DROP   @ASWAKE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page  101
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11444    1715.     *****************************************************************
                                   11445    1716.     *                                                               *
                                   11446    1717.     * RESUMTS  --  This routine wakes up a TDB that has been        *
                                   11447    1718.     *              previously put to sleep with a SUSPEND.          *
                                   11448    1719.     *                                                               *
                                   11449    1720.     *                                                               *
                                   11450    1721.     *    Input --  @RESUME                                          *
                                   11451    1722.     *                                                               *
                                   11452    1723.     *   Output --  none                                             *
                                   11453    1724.     *                                                               *
                                   11454    1725.     *****************************************************************
-00128C                            11456    1727.     RESUMTS  PROC  @RESUME,SCOPE=GLOBAL
 00128C D9C5E2E4D4E3E240           11462             +
 001294 0008/0000                  11463             +
 001298 900F D004/18AF       00004 11465             +
 USING  RESUMTS,R10
 00129E 50D0 C000/18CD       00000 11480             +
 0012A4 9680 C000      00000       11482             +
 USING  @RESUME-72,R12
 0012A8 41D0 C050            00050 11496             +
                                   11497    1728.     *
                                   11498    1729.     * Get our bearings
                                   11499    1730.     *
 0012AC 5870 0324            000A4 11500    1731.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    11501    1732.              WITH  (ASDB,RY)
 0012B0 5860 C048/1266       00000 11514    1733.              LT    RX,@RESUNIT             Get the TDB address
 0012B6 47D0 A02C            012C4 11518    1734.              IF    (NP,OR,(@RX,NE,'TDB ')),'ABORT BADTID'
 0012BA D503 A16C 6000 01404 00000 11538             +
 0012C0 4780 A05C            012F4 11539             +
 0012C4 AC04 021B      0021B       11548  1          +
 0012C8 9680 021A      0021A       11554  1          +
 0012CC 50F0 021C            0021C 11555  1          +
 0012D0 58F0 0210            00210 11556  1          +
 0012D4 89F0 0010            00010 11557  1          +
 0012D8 88F0 0010            00010 11558  1          +
 0012DC 41F0 F000            00000 11559  1          +
 0012E0 AEFF 0006            00006 11560  1          +
 0012E4 C2C1C4E3C9C44040           11561             +
 USING  TDB,R6                     11566    1735.              WITH  (TDB,RX)
                                   11579    1736.     *
                                   11580    1737.     * Find the level of control desired
                                   11581    1738.     *
 0012F4 5820 C04C            00004 11582    1739.              L     RA,@RESLC               Get the level of control
 0012F8 58F0 A14C/0DEF       013E4 11583    1740.              ACALL ASLOCK                  Lock up local dispatching
                                   11590    1741.     *
                                   11591    1742.     * If it is the top level task, it changes the dispatchablitiy
                                   11592    1743.     *
 0012FE 5920 60AC            000AC 11593    1744.              IF    (RA,EQ,TDBCLCN),BEGIN   It is the top level of control
 001302 4770 A0D8            01370 11605             +
 001306 9180 60B0      000B0       11610  1 1745.                IF    TDBSUSP,BEGIN           Only update if it's suspended
 00130A 47E0 A0D8            01370 11620  1          +
 00130E 947F 60B0      000B0       11625  2 1746.                  CLEAR TDBSUSP                 Clear the suspend
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page  102
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (RESUMTS,R10) (@RESUME-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11632  2 1747.     *
                                   11633  2 1748.     * Make it active if it is not already
                                   11634  2 1749.     *
 001312 9140 6018      00018       11635  2 1750.                  IF    ~TDBFACT,BEGIN          Not currently active
 001316 4710 A0D8            01370 11645  2          +
                                   11650  3 1751.     *
                                   11651  3 1752.     * Fix up the ASDB suspend counts
                                   11652  3 1753.     *
 00131A 9140 60B0      000B0       11653  3 1754.                    IF    TDBLONG,BEGIN
 00131E 47E0 A098            01330 11663  3          +
 001322 4810 7050/0610       00050 11668  4 1755.                      DECR  RS,ASDBNLTW             Update long term wait count
 001328 4010 7050            00050 11672  4          +
 00132C 94BF 60B0      000B0       11673  4 1756.                      CLEAR TDBLONG
 001330 A09C           01330 01320 11680  3 1757.                    END   ELSE,'DECR RS,ASDBNSTW' Or the short term wait count
 001330 47F0 A0A6            0133E 11689  3          +
 001334 4810 704E/0610       0004E 11698  4          +
 00133A 4010 704E            0004E 11700  3          +
                                   11705  3 1758.     *
                                   11706  3 1759.     * Add the task to the active list
                                   11707  3 1760.     *
 00133E 5060 D048            00000 11708  3 1761.                    TQADD TDB                     Add the TDB to the queue
 USING  TQPARM-72,R13
 001342 58F0 A170/0DEF       01408 11736  3          +
 001348 5810 6010            00010 11738  3 1762.                    L     RS,TDBPRIO              Get the prio of the new one
 00134C 5860 7038            00038 11739  3 1763.                    L     RX,ASDBCTDB             Get the current TDB address
 001350 5910 6010            00010 11740  3 1764.                    IF    (RS,GT,TDBPRIO),BEGIN   Need to re-dispatch
 001354 47D0 A0D8            01370 11752  3          +
 001358 58F0 7028            00028 11757  4 1765.                      SET   ASDBTDSP,MODE=LOCKED,REF=ASDB     Set the flag
 00135C 4110 0080            00080 11764  4          +
 001360 8910 0018/180F       00018 11765  4          +
 001366 1601/BAF0 7028       00028 11767  4          +
 00136C 4770 A0CC            01364 11770  4          +
 001370                            11771  3 1766.                    END   ,
 001370                            11775  2 1767.                  END   ,
 001370                            11779  1 1768.                END   ,
 001370 A0DC           01370 01304 11783    1769.              END   ELSE,BEGIN
 001370 47F0 A102            0139A 11792             +
                                   11798  1 1770.     *
                                   11799  1 1771.     * It is not the top level of control.  Find and modify the correct
                                   11800  1 1772.     * ERB.
                                   11801  1 1773.     *
 001374 5840 6028            00028 11802  1 1774.                L     RJ,TDBISTK              Get the first one
 001378 1244/4780 A102       0139A 11803  1 1775.     ERRLP      WHILE (RJ,NZ),BEGIN
 USING  ERB,R4                     11820  2 1776.                  WITH  (ERB,RJ)
 00137E 4110 4040            00040 11833  2 1777.                  LA    RS,ERBSTAT              Address of the status area
 USING  TDBESTAT,R1                11834  2 1778.                  WITH  (TDBESTAT,RS)
 001382 5920 106C            000AC 11847  2 1779.                  IF    (RA,EQ,TDBCLCN),BEGIN   We have the level
 001386 4770 A0FA            01392 11859  2          +
 00138A 943F 1070      000B0       11864  3 1780.                    CLEAR TDBSUSP+TDBLONG         Clear the suspend flags
 00138E 47F0 A102            0139A 11874  3 1781.                    EXIT  ERRLP                   Then get out of this rut
 001392                            11877  2 1782.                  END   ,
 001392 5840 4004            00004 11881  2 1783.                  L     RJ,ERBNEXT              Get the next ERB
 001396 47F0 A0E0            01378 11882  1 1784.                END   ,                       End of the loop
 DROP   TDBESTAT,R1
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page  103
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (RESUMTS,R10) (@RESUME-72,R12) (TQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   ERB,R4
 00139A                            11897    1785.              END   ,
 00139A 58F0 A150/0DEF       013E8 11901    1786.              ACALL ASULOCK                 Free up the AS lock
 0013A0 981F C008            00008 11908    1787.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @RESUME-72,R12
 DROP   RESUMTS,R10
 0013A4 9680 C000/0B0E 00000       11933             +
 DROP   TQPARM-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Dispatching                                                                            Page  104
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00013B0                            11943    1789.              LTORG ,
 0013B0 00FFFFFFFFFFFFFF           11945                             =X'00FFFFFFFFFFFFFF'
 0013B8 070F0000C9C4D3C5           11946                             =X'070F0000C9C4D3C5'
 0013C0 00000EC2                   11947                             =A(DISPRD)
 0013C4 C1E2C4C2                   11948                             =C'ASDB'
 0013C8 00000000                   11949                             =V(LKOB)
 0013CC 00003E18                   11950                             =A(PQDEL)
 0013D0 00003DAA                   11951                             =A(PQADD)
 0013D4 00000000                   11952                             =V(PAGSWADV)
 0013D8 00004062                   11953                             =A(PQHPFN)
 0013DC 00000000                   11954                             =V(LKREL)
 0013E0 00000003                   11955                             =A(MAXPRIO)
 0013E4 0000087E                   11956                             =A(ASLOCK)
 0013E8 000008F8                   11957                             =A(ASULOCK)
 0013EC 00000001                   11958                             =A(1)
 0013F0 FF0F0000                   11959                             =X'FF0F0000'
 0013F4 00000022                   11960                             =A(ASDISP)
 0013F8 00000001                   11961                             =AL4(1)
 0013FC C1E2C240                   11962                             =C'ASB '
 001400 00000A26                   11963                             =A(ASWAKE)
 001404 E3C4C240                   11964                             =C'TDB '
 001408 00004126                   11965                             =A(TSKADD)
 00140C 0001                       11966                             =Y(1)
 00140E 0001                       11967                             =H'1'
 001410 FFFF                       11968                             =H'-1'
 001412 0004           0143A 05F38 11969                             =Y(SYSPRIO)
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  105
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11974    1791.     *****************************************************************
                                   11975    1792.     *                                                               *
                                   11976    1793.     *  RSFLIH  --  This is where restart interrups are taken.  It   *
                                   11977    1794.     *              is not in the form of a procedure.               *
                                   11978    1795.     *                                                               *
                                   11979    1796.     *    Input --  none                                             *
                                   11980    1797.     *                                                               *
                                   11981    1798.     *   Output --  none                                             *
                                   11982    1799.     *                                                               *
                                   11983    1800.     *****************************************************************
-00143A                            11985    1802.     RSFLIH   BEGIN
 00143A D207 0390 0008 00110 00008 11990  1 1803.                MVC   PSASPSW,PZRSOPSW        Save the calling area
 001440 900F 0398            00118 11991  1 1804.                STM   0,15,PSASGPRS           Save the registers
 001444 0DA0                       11992  1 1805.                BASE  ,
 USING  *,R10
                                   12006  1 1806.
 001446 9180 021A      0021A       12007  1 1807.                IF    PZABORT,BEGIN       ABORT macro issued...
 00144A 47E0 A060            014A6 12017  1          +
 00144E 5820 0394            00114 12022  2 1808.                  L     RA,PSASPSW+4        Addr of 16 char ABORT id...
                                   12023  2 1809.     *  Avoid oper confusion...
 001452                            12024  2 1810.                  IF    ((@RA,EQ,'MILSTOP'),OR,(@RA,EQ,'MILGONE')),BEGIN
 001452 D506 AED0 2000 02316 00000 12036  2          +
 001458 4780 A020            01466 12039  2          +
 00145C D506 AED7 2000 0231D 00000 12049  2          +
 001462 4770 A030            01476 12050  2          +
 001466 41E0 AE12            02258 12055  3 1811.                    ORVWTO 'Milten closed connection'
 00146A 41F0 0018            00018 12068  3          +
 00146E 4100 0002            00002 12069  3          +
 001472 83E00013                   12072  3          +
 001476                            12073  2 1812.                  END
                                   12077  2 1813.
 001476 A034           01476 01464 12078  2 1814.                  ELSE  BEGIN               Standard message...
 001476 47F0 A054            0149A 12083  2          +
 00147A 41E0 AE2A            02270 12089  3 1815.                    ORVWTO 'Abort Code ID = ',MODE=SYSLOG
 00147E 41F0 0010            00010 12102  3          +
 001482 4100 0001            00001 12103  3          +
 001486 83E00013                   12106  3          +
 00148A 41E0 2000            00000 12107  3 1816.                    ORVWTO @RA,16,MODE=SYSLOG
 00148E 41F0 0010            00010 12120  3          +
 001492 4100 0001            00001 12121  3          +
 001496 83E00013                   12124  3          +
 00149A                            12125  2 1817.                  END
                                   12129  2 1818.
 00149A D200 0390 021B 00110 0021B 12130  2 1819.                  MVC   PSASPSW(1),PZABSM       Restore the system mask
 0014A0 D203 03D4 021C 00154 0021C 12131  2 1820.                  MVC   PSASGPRS+4*15(4),PZABR15   Restore R15
 0014A6                            12132  1 1821.                END   ,
 0014A6 83000000                   12136  1 1822.                SYSCTL TYPE=ABEND             Whoa!!!
 0014AA                            12139    1823.              END   ,
 DROP   *,R10                      12143    1824.              DROP  BR
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  106
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12151    1826.     *****************************************************************
                                   12152    1827.     *                                                               *
                                   12153    1828.     *  INFLIH  --  This is the initial restart interrupt is taken.  *
                                   12154    1829.     *              It is done when this CPU is being initialized.   *
                                   12155    1830.     *              This routine finishes the intialization and      *
                                   12156    1831.     *              starts into the dispatching of work. It          *
                                   12157    1832.     *              is not in the form of a procedure.               *
                                   12158    1833.     *                                                               *
                                   12159    1834.     *    Input --  none                                             *
                                   12160    1835.     *                                                               *
                                   12161    1836.     *   Output --  none                                             *
                                   12162    1837.     *                                                               *
                                   12163    1838.     *****************************************************************
-0014AA                            12165    1840.     INFLIH   BEGIN
 0014AA 0DA0                       12170  1 1841.                BASE  ,                       Set up local addressablity
 USING  *,R10
 0014AC D203 0334 ADEC 000B4 02298 12184  1 1842.                MVC   PSACPLK,=A(1)
 0014B2 9680 0338      000B8       12185  1 1843.                SET   DISPSTK                 We are now in SUP routine
 0014B6 58C0 0330            000B0 12191  1 1844.                L     WAR,PSADSTK             Get the stack for this CPU
 0014BA 41D0 C008            00008 12192  1 1845.                LA    SPR,@WAR+8              Get a location for Save area
 0014BE B70F 03D8            00158 12193  1 1846.                LCTL  0,15,PSACTRS            Copy the initial CTR's
 0014C2 AD04 0339      000B9       12194  1 1847.                STOSM PSASMASK,X'04'          Turn on DAT
 0014C6 5860 032C            000AC 12195  1 1848.                L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     12196  1 1849.                WITH  (DCT,RX)
                                   12209  1 1850.     *
                                   12210  1 1851.     * Save our CPU id
                                   12211  1 1852.     *
 0014CA B202 0310      00090       12212  1 1853.                STIDP PSACPUID                Finish up the PSA
                                   12213  1 1854.     *
                                   12214  1 1855.     * Fix up the Restart PSW
                                   12215  1 1856.     *
 0014CE B700 ADF0            0229C 12216  1 1857.                LCTL  0,0,=X'00B00000'        Allow Modification
 0014D2 D203 0000 ADF4 00000 022A0 12217  1 1858.                MVC   PZRSNPSW(4),=X'040C0000'
 0014D8 D203 0004 ADF8 00004 022A4 12218  1 1859.                MVC   PZRSNPSW+4(4),=A(X'80000000'+RSFLIH)
 0014DE B700 ADFC            022A8 12219  1 1860.                LCTL  0,0,=X'10B06400'        Restore default value
                                   12220  1 1861.     *
                                   12221  1 1862.     * See if this is the the prime CPU
                                   12222  1 1863.     *
 0014E2                            12223  1 1864.                IF    (PSAIPCB,EQ,DCTIPCBS),BEGIN       First on the list
 0014E2 D503 0320 6170 000A0 00170 12235  1          +
 0014E8 4770 A04C            014F8 12236  1          +
 0014EC B700 AE00            022AC 12241  2 1865.                  LCTL  0,0,=X'10B06C40'        Turn on all (including CKC)
 0014F0 B206 ADD4      02280       12242  2 1866.                  SCKC  =X'FFFFFFFFFFFFFFFF'    But not interrupts for awhile
 0014F4 B766 AE04            022B0 12243  2 1867.                  LCTL  6,6,=X'FF000000'        And turn on the subclass bits
 0014F8                            12244  1 1868.                END   ,
                                   12248  1 1869.     *
                                   12249  1 1870.     * Start the dispatcher clock up
                                   12250  1 1871.     *
 0014F8 B208 02F8      00078       12251  1 1872.                SPT   PSAKDISP                Load the timer
                                   12252  1 1873.     *
                                   12253  1 1874.     * Set up the trace for this CPU
                                   12254  1 1875.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  107
0Current Usings:  (PZERO,R0) (DCT,R6) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00014FC 5820 0340            000C0 12255  1 1876.                L     RA,PSATRB0              Get the trace buffer
 001500 B205 2000      00000       12256  1 1877.                STCK  @RA                     Save the clock
 001504 B120 2008            00008 12257  1 1878.                LRA   RA,@RA+8                Get the start of trace
 001508 5620 61B4            001B4 12258  1 1879.                O     RA,DCTTRMSK             And set the active ones
 00150C 5020 0348            000C8 12259  1 1880.                ST    RA,PSATRWK              Save the value
 001510 B7CC 0348            000C8 12260  1 1881.                LCTL  12,12,PSATRWK           Then load it into a register
                                   12261  1 1882.     *
                                   12262  1 1883.     * All the initialization is done. Start dispatching.
                                   12263  1 1884.     *
 001514 9640 0338      000B8       12264  1 1885.                SET   DISPGRD                 Indicate the need
 001518 58F0 AE08/0DEF       022B4 12270  1 1886.                ACALL ASDISP                  Do the dispatch
                                   12277  1 1887.     *
                                   12278  1 1888.     * Start the current user
                                   12279  1 1889.     *
 00151E 48F0 0308            00088 12280  1 1890.                CLOCK USER                    Use the user clock
 001522 49F0 AE5C            02308 12282  1          +
 001526 4780 A08E            0153A 12289  1          +
 00152A B209 F000      00000       12294  2          +
 00152E 41F0 02F0            002F0 12295  2          +
 001532 40F0 0308            00088 12296  2          +
 001536 B208 02F0      00070       12297  1          +
 00153A                            12302  1 1891.                IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 00153A D503 AE0C 0334 022B8 000B4 12314  1          +
 001540 4780 A0C8            01574 12315  1          +
 001544 AC04 021B      0021B       12324  2          +
 001548 9680 021A      0021A       12330  2          +
 00154C 50F0 021C            0021C 12331  2          +
 001550 58F0 0210            00210 12332  2          +
 001554 89F0 0010            00010 12333  2          +
 001558 88F0 0010            00010 12334  2          +
 00155C 41F0 F000            00000 12335  2          +
 001560 AEFF 0006            00006 12336  2          +
 001564 C3D7D3D2C2C1D340           12337  1          +
 001574 6800 02C8            00048 12342  1 1892.                LD    0,PSAFPRS+0*4           FPR 0
 001578 6820 02D0            00050 12343  1 1893.                LD    2,PSAFPRS+2*4           FPR 2
 00157C 6840 02D8            00058 12344  1 1894.                LD    4,PSAFPRS+4*4           FPR 4
 001580 6860 02E0            00060 12345  1 1895.                LD    6,PSAFPRS+6*4           FPR 6
 001584 980F 0288            00008 12346  1 1896.                LM    0,15,PSAGPRS            GPRs
 001588 947F 0338      000B8       12347  1 1897.                CLEAR DISPSTK                 Not in dispatcher stack now
 00158C                            12354  1 1898.                CLEAR PSACPLK
 00158C D703 0334 0334 000B4 000B4 12360  1          +
 001592 8200 0280      00000       12361  1 1899.                LPSW  PSAPSW                  And off and running
 DROP   DCT,R6                     12362    1900.              END   ,                       ** End of Initial FLIH **
 DROP   *,R10                      12371    1901.              DROP  BR
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  108
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12379    1903.     *****************************************************************
                                   12380    1904.     *                                                               *
                                   12381    1905.     *  EXFLIH  --  This is where external interrupts are taken.     *
                                   12382    1906.     *              It is not of the form of a procedure.            *
                                   12383    1907.     *                                                               *
                                   12384    1908.     *    Input --  none                                             *
                                   12385    1909.     *                                                               *
                                   12386    1910.     *   Output --  none                                             *
                                   12387    1911.     *                                                               *
                                   12388    1912.     *****************************************************************
-001596                            12390    1914.     EXFLIH   BEGIN
                                   12395  1 1915.     *
                                   12396  1 1916.     * Save the state
                                   12397  1 1917.     *
 001596 D207 0280 0018 00000 00018 12398  1 1918.                MVC   PSAPSW,PZEXOPSW         Copy the PSW
 00159C 900F 0288            00008 12399  1 1919.                STM   0,15,PSAGPRS            Save GPRs in PSA
 0015A0 6000 02C8            00048 12400  1 1920.                STD   0,PSAFPRS+0*4           FPR 0
 0015A4 6020 02D0            00050 12401  1 1921.                STD   2,PSAFPRS+2*4           FPR 2
 0015A8 6040 02D8            00058 12402  1 1922.                STD   4,PSAFPRS+4*4           FPR 4
 0015AC 6060 02E0            00060 12403  1 1923.                STD   6,PSAFPRS+6*4           FPR 6
 0015B0 0DA0                       12404  1 1924.                BASE  ,                       Set up addressability
 USING  *,R10
 0015B2 9801 0280            00000 12418  1 1925.                LM    R0,R1,PSAPSW            Get the PSW
 0015B6 5820 0084            00084 12419  1 1926.                L     R2,PZEXCPU              CPU and interrupt code
 0015BA 9902 AD72            02324 12420  1 1927.                XTRC  R0,R2,EXTINT            Trace the information
 002324 00002324                   12428  2          +
 002328 00000069/0002              12429  2          +
 00232E C5E7E3C9D5E34040           12431  1          +
 0015BE 48F0 0308            00088 12438  1 1928.                CLOCK DISP                    Turn on the dispatcher clock
 0015C2 49F0 AD58            0230A 12440  1          +
 0015C6 4780 A028            015DA 12447  1          +
 0015CA B209 F000      00000       12452  2          +
 0015CE 41F0 02F8            002F8 12453  2          +
 0015D2 40F0 0308            00088 12454  2          +
 0015D6 B208 02F8      00078       12455  1          +
 0015DA 5810 0334/1211       000B4 12460  1 1929.                IF    ('LT RS,PSACPLK',NZ),BEGIN       In a SUP routine...
 0015E0 4780 A062            01614 12471  1          +
 0015E4 AC04 021B      0021B       12476  2 1930.                  ABORT EXINSUP                 That is not good
 0015E8 9680 021A      0021A       12485  2          +
 0015EC 50F0 021C            0021C 12486  2          +
 0015F0 58F0 0210            00210 12487  2          +
 0015F4 89F0 0010            00010 12488  2          +
 0015F8 88F0 0010            00010 12489  2          +
 0015FC 41F0 F000            00000 12490  2          +
 001600 AEFF 0006            00006 12491  2          +
 001604 C5E7C9D5E2E4D740           12492  2          +
 001614                            12493  1 1931.                END   ,
 001614 D203 0334 ACE6 000B4 02298 12497  1 1932.                MVC   PSACPLK,=A(1)
 00161A 9680 0338      000B8       12498  1 1933.                SET   DISPSTK                 We are now in SUP routine
                                   12504  1 1934.     *
                                   12505  1 1935.     * set up the stack for the dispatcher
                                   12506  1 1936.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  109
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000161E 58C0 0330            000B0 12507  1 1937.                L     WAR,PSADSTK             Get the stack for this CPU
 001622 41D0 C008            00008 12508  1 1938.                LA    SPR,@WAR+8              Get a location for Save area
                                   12509  1 1939.     *
                                   12510  1 1940.     * External call interrupt.  Check on the call flags.
                                   12511  1 1941.     *
 001626                            12512  1 1942.                IF    (PZEXIC,EQ,X'1202'),BEGIN
 001626 D501 AD5A 0086 0230C 00086 12523  1          +
 00162C 4770 A0E4            01696 12524  1          +
 001630 5850 0320            000A0 12529  2 1943.                  L     RK,PSAIPCB              Get the IPCB address
 USING  IPCB,R5                    12530  2 1944.                  WITH  (IPCB,RK)
 001634 9180 5010      00010       12543  2 1945.                  IF    IPFLGRD,BEGIN           Global re-dispatch
 001638 47E0 A08E            01640 12553  2          +
 00163C 9640 0338      000B8       12558  3 1946.                    SET   DISPGRD                 Set the global flag
 001640                            12564  2 1947.                  END   ,
 001640 9140 5010      00010       12568  2 1948.                  IF    IPFLRCC,BEGIN           Reset the clock comparator
 001644 47E0 A0BA            0166C 12578  2          +
 002336 BF             02324 05F38 12583  3 1949.                    CLEAR IPFLRCC,MODE=LOCKED,REF=IPCB
 001648 41F0 0001/111F       00001 12603  3          +
 00164E 89F0 0003            00003 12605  3          +
 001652 44F0 AD86            02338 12607  3          +
 002337 00/BF10 AD84         02336        3          +
 001656 58F0 5010/180F       00010 12622  3          +
 00165C 1401/BAF0 5010       00010 12624  3          +
 001662 4770 A0A8            0165A 12627  3          +
 001666 58F0 AD0A/0DEF       022BC 12628  3 1950.                    ACALL RTCLOCK                 Re-adjust the Clock comparator
 00166C                            12635  2 1951.                  END   ,
 00166C 9120 5010      00010       12639  2 1952.                  IF    IPFLPTLB,BEGIN          Purge the TLB
 001670 47E0 A0E4            01696 12649  2          +
 00233C DF             02324 05F38 12654  3 1953.                    CLEAR IPFLPTLB,MODE=LOCKED,REF=IPCB
 001674 41F0 0001/111F       00001 12674  3          +
 00167A 89F0 0003            00003 12676  3          +
 00167E 44F0 AD8C            0233E 12678  3          +
 00233D 00/BF10 AD8A         0233C        3          +
 001682 58F0 5010/180F       00010 12693  3          +
 001688 1401/BAF0 5010       00010 12695  3          +
 00168E 4770 A0D4            01686 12698  3          +
 001692 B20D 0000                  12699  3 1954.                    PTLB  ,
 001696                            12700  2 1955.                  END   ,
 DROP   IPCB,R5                    12704  1 1956.                END   ,
-                                  12714  1 1958.     *
                                   12715  1 1959.     * CPU timer interrupt.  Handle the timer-up condition.
                                   12716  1 1960.     *
 001696                            12717  1 1961.                IF    (PZEXIC,EQ,X'1005'),'ACALL CPUTIMR'
 001696 D501 AD5C 0086 0230E 00086 12728  1          +
 00169C 4770 A0F4            016A6 12729  1          +
 0016A0 58F0 AD0E/0DEF       022C0 12740  1          +
-                                  12747  1 1963.     *
                                   12748  1 1964.     * Clock comparator interrupt.  Handle the real time timer.
                                   12749  1 1965.     *
 0016A6                            12750  1 1966.                IF    (PZEXIC,EQ,X'1004'),'ACALL RTCLOCK'
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  110
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00016A6 D501 AD5E 0086 02310 00086 12761  1          +
 0016AC 4770 A104            016B6 12762  1          +
 0016B0 58F0 AD0A/0DEF       022BC 12773  1          +
-                                  12780  1 1968.     * Any other external interrupts are just ignored.
-                                  12782  1 1970.     * If termination processing indicated by host, re-dispatch
                                   12783  1 1971.     * will be needed.
                                   12784  1 1972.     *
 0016B6 9140 021A      0021A       12785  1 1973.                IF    PZATERM,'SET DISPGRD'
 0016BA 47E0 A110            016C2 12795  1          +
 0016BE 9640 0338      000B8       12806  1          +
                                   12811  1 1974.     *
                                   12812  1 1975.     * Do a re-dispatch if it is needed
                                   12813  1 1976.     *
 0016C2 9140 0338      000B8       12814  1 1977.                IF    DISPGRD,'ACALL ASDISP'
 0016C6 47E0 A11E            016D0 12824  1          +
 0016CA 58F0 AD02/0DEF       022B4 12835  1          +
 0016D0 A122           016D0 016C8 12841  1 1978.                ELSE  BEGIN
 0016D0 47F0 A13A            016EC 12846  1          +
 0016D4 5870 0324            000A4 12852  2 1979.                  L     RY,PSAASDB
 USING  ASDB,R7                    12853  2 1980.                  WITH  (ASDB,RY)
 0016D8 1277/4780 A13A       016EC 12866  2 1981.                  IF    ((RY,NZ),AND,ASDBTDSP),'ACALL ASDISP'
 0016DE 9180 7028      00028       12888  2          +
 0016E2 47E0 A13A            016EC 12889  2          +
 0016E6 58F0 AD02/0DEF       022B4 12900  2          +
 DROP   ASDB,R7                    12906  1 1982.                END   ,
                                   12915  1 1983.     *
                                   12916  1 1984.     * Go to the user
                                   12917  1 1985.     *
 0016EC 48F0 0308            00088 12918  1 1986.                CLOCK USER                    Use the user clock
 0016F0 49F0 AD56            02308 12920  1          +
 0016F4 4780 A156            01708 12927  1          +
 0016F8 B209 F000      00000       12932  2          +
 0016FC 41F0 02F0            002F0 12933  2          +
 001700 40F0 0308            00088 12934  2          +
 001704 B208 02F0      00070       12935  1          +
 001708                            12940  1 1987.                IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 001708 D503 AD06 0334 022B8 000B4 12952  1          +
 00170E 4780 A190            01742 12953  1          +
 001712 AC04 021B      0021B       12962  2          +
 001716 9680 021A      0021A       12968  2          +
 00171A 50F0 021C            0021C 12969  2          +
 00171E 58F0 0210            00210 12970  2          +
 001722 89F0 0010            00010 12971  2          +
 001726 88F0 0010            00010 12972  2          +
 00172A 41F0 F000            00000 12973  2          +
 00172E AEFF 0006            00006 12974  2          +
 001732 C3D7D3D2C2C1D340           12975  1          +
 001742 9801 0280            00000 12980  1 1988.                LM    R0,R1,PSAPSW            Get the PSW
 001746 9901 AD92            02344 12981  1 1989.                XTRC  R0,R1,RUNUSER2          Trace the run
 002342 0000/00002344                     2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  111
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002348 0000006A/0001              12990  2          +
 00234E D9E4D5E4E2C5D9F2           12992  1          +
 00174A 6800 02C8            00048 12999  1 1990.                LD    0,PSAFPRS+0*4           FPR 0
 00174E 6820 02D0            00050 13000  1 1991.                LD    2,PSAFPRS+2*4           FPR 2
 001752 6840 02D8            00058 13001  1 1992.                LD    4,PSAFPRS+4*4           FPR 4
 001756 6860 02E0            00060 13002  1 1993.                LD    6,PSAFPRS+6*4           FPR 6
 00175A 980F 0288            00008 13003  1 1994.                LM    0,15,PSAGPRS            GPRs
 00175E 947F 0338      000B8       13004  1 1995.                CLEAR DISPSTK                 Not in dispatcher stack now
 001762                            13011  1 1996.                CLEAR PSACPLK
 001762 D703 0334 0334 000B4 000B4 13017  1          +
 001768 8200 0280      00000       13018  1 1997.                LPSW  PSAPSW                  And off and running
 00176C                            13019    1998.              END   ,                       ** End of External FLIH **
 DROP   *,R10                      13023    1999.              DROP  BR
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  112
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13031    2001.     *****************************************************************
                                   13032    2002.     *                                                               *
                                   13033    2003.     *  SVFLIH  --  This is where Supervisor Call interrupts are     *
                                   13034    2004.     *              taken.  It is not in the form of a procedure.    *
                                   13035    2005.     *                                                               *
                                   13036    2006.     *    Input --  none                                             *
                                   13037    2007.     *                                                               *
                                   13038    2008.     *   Output --  none                                             *
                                   13039    2009.     *                                                               *
                                   13040    2010.     *****************************************************************
-00176C                            13042    2012.     SVFLIH   BEGIN
                                   13047  1 2013.     *
                                   13048  1 2014.     * Save the state
                                   13049  1 2015.     *
 00176C 900F 0288            00008 13050  1 2016.                STM   0,15,PSAGPRS            Save GPRs in PSA
 001770 6000 02C8            00048 13051  1 2017.                STD   0,PSAFPRS+0*4           FPR 0
 001774 6020 02D0            00050 13052  1 2018.                STD   2,PSAFPRS+2*4           FPR 2
 001778 6040 02D8            00058 13053  1 2019.                STD   4,PSAFPRS+4*4           FPR 4
 00177C 6060 02E0            00060 13054  1 2020.                STD   6,PSAFPRS+6*4           FPR 6
 001780 0DA0                       13055  1 2021.     SVCPER     BASE  ,                       Set up addressability
 USING  *,R10
 001782 D207 0280 0020 00000 00020 13069  1 2022.                MVC   PSAPSW,PZSVOPSW         Copy the PSW
 001788 9801 0280            00000 13070  1 2023.                LM    R0,R1,PSAPSW            Get the PSW
 00178C 5820 0088            00088 13071  1 2024.                L     R2,PZSVILC              Get the ILC and IC
 001790 9902 ABD6            02358 13072  1 2025.                XTRC  R0,R2,SVCINT            Trace it
 002356 0000/00002358                     2          +
 00235C 0000006B/0002              13081  2          +
 002362 E2E5C3C9D5E34040           13083  1          +
 001794 5810 0334/1211       000B4 13090  1 2026.                IF    ('LT RS,PSACPLK',NZ),BEGIN      In a SUP routine...
 00179A 4780 A04C            017CE 13101  1          +
 00179E AC04 021B      0021B       13106  2 2027.                  ABORT SVINSUP                 That is not good
 0017A2 9680 021A      0021A       13115  2          +
 0017A6 50F0 021C            0021C 13116  2          +
 0017AA 58F0 0210            00210 13117  2          +
 0017AE 89F0 0010            00010 13118  2          +
 0017B2 88F0 0010            00010 13119  2          +
 0017B6 41F0 F000            00000 13120  2          +
 0017BA AEFF 0006            00006 13121  2          +
 0017BE E2E5C9D5E2E4D740           13122  2          +
 0017CE                            13123  1 2028.                END   ,
 0017CE D203 0334 AB16 000B4 02298 13127  1 2029.                MVC   PSACPLK,=A(1)
 0017D4 9680 0338      000B8       13128  1 2030.                SET   DISPSTK                 We are now in SUP routine
                                   13134  1 2031.     *
                                   13135  1 2032.     * set up the stack for the dispatcher
                                   13136  1 2033.     *
 0017D8 58C0 0330            000B0 13137  1 2034.                L     WAR,PSADSTK             Get the stack for this CPU
 0017DC 41D0 C008            00008 13138  1 2035.                LA    SPR,@WAR+8              Get a location for Save area
                                   13139  1 2036.     *
                                   13140  1 2037.     * Make sure he isn't doing SVCs while holding the lock
                                   13141  1 2038.     *
 0017E0 5870 0324/1277       000A4 13142  1 2039.                LT    RY,PSAASDB              Get the current ASDB
 0017E6 4780 A0A2            01824 13146  1 2040.                IF    NZ,BEGIN
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  113
0Current Usings:  (PZERO,R0) (ASDB,R7) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  ASDB,R7                    13157  2 2041.                  WITH  (ASDB,RY)
 0017EA 5810 7030/1211       00030 13170  2 2042.                  IF    ('LT RS,ASDBLOCK',NZ),'ABORT SVCLOCK'
 0017F0 4780 A0A2            01824 13181  2          +
 0017F4 AC04 021B      0021B       13190  3          +
 0017F8 9680 021A      0021A       13196  3          +
 0017FC 50F0 021C            0021C 13197  3          +
 001800 58F0 0210            00210 13198  3          +
 001804 89F0 0010            00010 13199  3          +
 001808 88F0 0010            00010 13200  3          +
 00180C 41F0 F000            00000 13201  3          +
 001810 AEFF 0006            00006 13202  3          +
 001814 E2E5C3D3D6C3D240           13203  2          +
 DROP   ASDB,R7                    13208  1 2043.                END   ,
                                   13217  1 2044.     *
                                   13218  1 2045.     * Call the SVC router
                                   13219  1 2046.     *
 001824 58F0 AB42/0DEF       022C4 13220  1 2047.                ACALL SVCROUTE
                                   13227  1 2048.     *
                                   13228  1 2049.     * Do a re-dispatch if it is needed
                                   13229  1 2050.     *
 00182A 9140 0338      000B8       13230  1 2051.                IF    DISPGRD,'ACALL ASDISP'
 00182E 47E0 A0B6            01838 13240  1          +
 001832 58F0 AB32/0DEF       022B4 13251  1          +
 001838 A0BA           01838 01830 13257  1 2052.                ELSE  BEGIN
 001838 47F0 A0D2            01854 13262  1          +
 00183C 5870 0324            000A4 13268  2 2053.                  L     RY,PSAASDB
 USING  ASDB,R7                    13269  2 2054.                  WITH  (ASDB,RY)
 001840 1277/4780 A0D2       01854 13282  2 2055.                  IF    ((RY,NZ),AND,ASDBTDSP),'ACALL ASDISP'
 001846 9180 7028      00028       13304  2          +
 00184A 47E0 A0D2            01854 13305  2          +
 00184E 58F0 AB32/0DEF       022B4 13316  2          +
 DROP   ASDB,R7                    13322  1 2056.                END   ,
                                   13331  1 2057.     *
                                   13332  1 2058.     * Return to the user
                                   13333  1 2059.     *
 001854                            13334  1 2060.                IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 001854 D503 AB36 0334 022B8 000B4 13346  1          +
 00185A 4780 A10C            0188E 13347  1          +
 00185E AC04 021B      0021B       13356  2          +
 001862 9680 021A      0021A       13362  2          +
 001866 50F0 021C            0021C 13363  2          +
 00186A 58F0 0210            00210 13364  2          +
 00186E 89F0 0010            00010 13365  2          +
 001872 88F0 0010            00010 13366  2          +
 001876 41F0 F000            00000 13367  2          +
 00187A AEFF 0006            00006 13368  2          +
 00187E C3D7D3D2C2C1D340           13369  1          +
 00188E 9801 0280            00000 13374  1 2061.                LM    R0,R1,PSAPSW            Get the PSW
 001892 9901 ABEA            0236C 13375  1 2062.                XTRC  R0,R1,RUNUSER3          Trace the run
 00236A 0000/0000236C                     2          +
 002370 0000006C/0001              13384  2          +
 002376 D9E4D5E4E2C5D9F3           13386  1          +
 001896 6800 02C8            00048 13393  1 2063.                LD    0,PSAFPRS+0*4           FPR 0
 00189A 6820 02D0            00050 13394  1 2064.                LD    2,PSAFPRS+2*4           FPR 2
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  114
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000189E 6840 02D8            00058 13395  1 2065.                LD    4,PSAFPRS+4*4           FPR 4
 0018A2 6860 02E0            00060 13396  1 2066.                LD    6,PSAFPRS+6*4           FPR 6
 0018A6 980F 0288            00008 13397  1 2067.                LM    0,15,PSAGPRS            GPRs
 0018AA 947F 0338      000B8       13398  1 2068.                CLEAR DISPSTK                 Not in dispatcher stack now
 0018AE                            13405  1 2069.                CLEAR PSACPLK
 0018AE D703 0334 0334 000B4 000B4 13411  1          +
 0018B4 8200 0280      00000       13412  1 2070.                LPSW  PSAPSW                  And off and running
 0018B8                            13413    2071.              END   ,                       ** End of Supervisor FLIH **
 DROP   *,R10                      13417    2072.              DROP  BR
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  115
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13425    2074.     *****************************************************************
                                   13426    2075.     *                                                               *
                                   13427    2076.     *  PIFLIH  --  This is where Program interrupts are taken.      *
                                   13428    2077.     *              It is not in the form of a procedure.            *
                                   13429    2078.     *                                                               *
                                   13430    2079.     *    Input --  none                                             *
                                   13431    2080.     *                                                               *
                                   13432    2081.     *   Output --  none                                             *
                                   13433    2082.     *                                                               *
                                   13434    2083.     *****************************************************************
-0018B8                            13436    2085.     PIFLIH   BEGIN
 0018B8 900F 034C            000CC 13441  1 2086.                STM   R0,R15,PSATRGRS         Save trace registers
 0018BC 0DA0                       13442  1 2087.                BASE  ,                       Set up the base register
 USING  *,R10
 0018BE 4120 007F            0007F 13456  1 2088.                LA    RA,X'7F'                Get a mask
 0018C2 5420 008C            0008C 13457  1 2089.                N     RA,PZPIIC-2             Get the interrupt code
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  116
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13459  1 2091.     *
                                   13460  1 2092.     * TRACE TABLE -- If the interrupt is for trace table then
                                   13461  1 2093.     *                it must be handled in a special way.  First
                                   13462  1 2094.     *                the new trace table is set up and then a quick
                                   13463  1 2095.     *                return to the interrupted program is made.
                                   13464  1 2096.     *
 0018C6 5920 AA0A            022C8 13465  1 2097.                IF    (RA,EQ,X'16'),BEGIN     Trace table exception
 0018CA 4770 A03A            018F8 13477  1          +
 0018CE 9845 0340            000C0 13482  2 2098.                  LM    RJ,RK,PSATRB0           Get the two trace pointers
 0018D2 1835                       13483  2 2099.                  LR    RB,RK
 0018D4 9034 0340            000C0 13484  2 2100.                  STM   RB,RJ,PSATRB0           Swap the two pointers
 0018D8 B205 3000      00000       13485  2 2101.                  STCK  @RB                     Save the time of the start
 0018DC B110 3008            00008 13486  2 2102.                  LRA   RS,@RB+8                Get real addr of new trace tab
 0018E0 5850 032C            000AC 13487  2 2103.                  L     RK,PSADCT
 USING  DCT,R5                     13488  2 2104.                  WITH  (DCT,RK),BEGIN
 0018E4 5610 51B4            001B4 13502  3 2105.                    O     RS,DCTTRMSK             OR in the trace bits
 DROP   DCT,R5                     13503  2 2106.                  END   ,
 0018E8 5010 0348            000C8 13511  2 2107.                  ST    RS,PSATRWK              Save the new value
 0018EC B7CC 0348            000C8 13512  2 2108.                  LCTL  12,12,PSATRWK           Load the control register
                                   13513  2 2109.     *
                                   13514  2 2110.     * Make a quick getaway
                                   13515  2 2111.     *
 0018F0 980F 034C            000CC 13516  2 2112.                  LM    R0,R15,PSATRGRS         Load the registers
 0018F4 8200 0028      00028       13517  2 2113.                  LPSW  PZPIOPSW                And the PSW
 0018F8                            13518  1 2114.                END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  117
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13523  1 2116.     *
                                   13524  1 2117.     * If it was not a trace interrupt we take off from here.  RA
                                   13525  1 2118.     * contains the interupt code less per and monitor bits.
                                   13526  1 2119.     *
                                   13527  1 2120.     *
                                   13528  1 2121.     * Save the state
                                   13529  1 2122.     *
 0018F8 D203 033C 008C 000BC 0008C 13530  1 2123.                MVC   PSAPIILC(4),PZPIILC     Copy the ILC and IC
 0018FE D207 0280 0028 00000 00028 13531  1 2124.                MVC   PSAPSW,PZPIOPSW         Copy the PSW
 001904 D23F 0288 034C 00008 000CC 13532  1 2125.                MVC   PSAGPRS(16*4),PSATRGRS  Take user regs from trace
 00190A 6000 02C8            00048 13533  1 2126.                STD   0,PSAFPRS+0*4           FPR 0
 00190E 6020 02D0            00050 13534  1 2127.                STD   2,PSAFPRS+2*4           FPR 2
 001912 6040 02D8            00058 13535  1 2128.                STD   4,PSAFPRS+4*4           FPR 4
 001916 6060 02E0            00060 13536  1 2129.                STD   6,PSAFPRS+6*4           FPR 6
 00191A 9834 0280            00000 13537  1 2130.                LM    R3,R4,PSAPSW            Get the PSW
 00191E 5850 033C            000BC 13538  1 2131.                L     R5,PSAPIILC             Copy of the ILC/IC
 001922 9869 0090            00090 13539  1 2132.                LM    R6,R9,PZTREXA           Get the other codes
 001926 9939 AAC2            02380 13540  1 2133.                XTRC  R3,R9,PIINT             Trace all that info
 00237E 0000/00002380                     2          +
 002384 0000006D/0309              13549  2          +
 00238A D7C9C9D5E3404040           13551  1          +
                                   13558  1 2134.     *
 00192A 5810 0334/1211       000B4 13559  1 2135.                IF    ('LT RS,PSACPLK',NZ),BEGIN      In a SUP routine...
 001930 4780 A0A6            01964 13570  1          +
 001934 AC04 021B      0021B       13575  2 2136.                  ABORT PIINSUP                 That is not good
 001938 9680 021A      0021A       13584  2          +
 00193C 50F0 021C            0021C 13585  2          +
 001940 58F0 0210            00210 13586  2          +
 001944 89F0 0010            00010 13587  2          +
 001948 88F0 0010            00010 13588  2          +
 00194C 41F0 F000            00000 13589  2          +
 001950 AEFF 0006            00006 13590  2          +
 001954 D7C9C9D5E2E4D740           13591  2          +
 001964                            13592  1 2137.                END   ,
 001964 D203 0334 A9DA 000B4 02298 13596  1 2138.                MVC   PSACPLK,=A(1)
 00196A 9680 0338      000B8       13597  1 2139.                SET   DISPSTK                 We are now in SUP routine
                                   13603  1 2140.     *
                                   13604  1 2141.     * Don't allow any program checks while disabled
                                   13605  1 2142.     *
 00196E 1222/4780 A0EE       019AC 13606  1 2143.                IF    (RA,NZ),BEGIN           Any real interrupt?
 001974 9103 0280      00000       13620  2 2144.                  TM    PSAPSW,B'00000011'      External & I/O on?
 001978 4710 A0EE            019AC 13621  2 2145.                  IF    ~ON,'ABORT PIDISAB'     If not... bag it
 00197C AC04 021B      0021B       13636  3          +
 001980 9680 021A      0021A       13642  3          +
 001984 50F0 021C            0021C 13643  3          +
 001988 58F0 0210            00210 13644  3          +
 00198C 89F0 0010            00010 13645  3          +
 001990 88F0 0010            00010 13646  3          +
 001994 41F0 F000            00000 13647  3          +
 001998 AEFF 0006            00006 13648  3          +
 00199C D7C9C4C9E2C1C240           13649  2          +
 0019AC                            13654  1 2146.                END   ,
                                   13658  1 2147.     *
                                   13659  1 2148.     * Set up the stack for the dispatcher
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  118
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13660  1 2149.     *
 0019AC 58C0 0330            000B0 13661  1 2150.                L     WAR,PSADSTK             Get the stack for this CPU
 0019B0 41D0 C008            00008 13662  1 2151.                LA    SPR,@WAR+8              Get a location for Save area
                                   13663  1 2152.
 0019B4 5920 AA0E            022CC 13664  1 2153.                IF    ((RA,EQ,X'11'),OR,(RA,EQ,X'10')),BEGIN
 0019B8 4780 A106            019C4 13680  1          +
 0019BC 5920 AA12            022D0 13691  1          +
 0019C0 4770 A112            019D0 13692  1          +
                                   13697  2 2154.     *
                                   13698  2 2155.     * Call the page/segment fault processing routine.  This returns
                                   13699  2 2156.     * a zero if the rest of the processing may be skipped and non-zero
                                   13700  2 2157.     * if the page/segment is not available.
                                   13701  2 2158.     *
 0019C4 58F0 AA16/0DEF       022D4 13702  2 2159.                  ACALL PFLT                    Process fault
 0019CA 1200/4780 A1D8       01A96 13709  2 2160.                  IF    (RVR,Z),PIEND           Complete the interrupt
 0019D0                            13726  1 2161.                END   ,
                                   13730  1 2162.     *
                                   13731  1 2163.     * Make sure he isn't program checking while holding the lock
                                   13732  1 2164.     *
 0019D0 5870 0324/1277       000A4 13733  1 2165.                LT    RY,PSAASDB              Get the current ASDB
 0019D6 4780 A156            01A14 13737  1 2166.                IF    NZ,BEGIN
 USING  ASDB,R7                    13748  2 2167.                  WITH  (ASDB,RY)
 0019DA 5810 7030/1211       00030 13761  2 2168.                  IF    ('LT RS,ASDBLOCK',NZ),'ABORT PILOCK'
 0019E0 4780 A156            01A14 13772  2          +
 0019E4 AC04 021B      0021B       13781  3          +
 0019E8 9680 021A      0021A       13787  3          +
 0019EC 50F0 021C            0021C 13788  3          +
 0019F0 58F0 0210            00210 13789  3          +
 0019F4 89F0 0010            00010 13790  3          +
 0019F8 88F0 0010            00010 13791  3          +
 0019FC 41F0 F000            00000 13792  3          +
 001A00 AEFF 0006            00006 13793  3          +
 001A04 D7C9D3D6C3D24040           13794  2          +
 DROP   ASDB,R7                    13799  1 2169.                END   ,
                                   13808  1 2170.     *
                                   13809  1 2171.     * Take care of the stand alone PER
                                   13810  1 2172.     *
 001A14 9580 033F      000BF       13811  1 2173.                IF    (PSAPIIC+1,EQ,X'80'),BEGIN
 001A18 4770 A1C0            01A7E 13823  1          +
                                   13828  2 2174.     *
                                   13829  2 2175.     * Check for a PER on an SVC
                                   13830  2 2176.     *
 001A1C                            13831  2 2177.                  IF    (PSAPSW,EQ,PZSVNPSW),BEGIN  Yep, It was an SVC
 001A1C D507 0280 0060 00000 00060 13843  2          +
 001A22 4770 A17E            01A3C 13844  2          +
 001A26 41F0 A558/0DEF       01E16 13849  3 2178.                    LCALL PERROUTE                Handle the PER
 001A2C 947F 0338      000B8       13858  3 2179.                    CLEAR DISPSTK                 Clear dispatch flag
 001A30                            13865  3 2180.                    CLEAR PSACPLK                 And CPU lock
 001A30 D703 0334 0334 000B4 000B4 13871  3          +
 001A36 5810 AA1A            022D8 13872  3 2181.                    L     RS,=A(SVCPER)           Get the branch address
 001A3A 07F1                       13873  3 2182.                    BR    RS                      And go do it
 001A3C                            13874  2 2183.                  END   ,
                                   13878  2 2184.     *
                                   13879  2 2185.     * Machine better not be disabled otherwize
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  119
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13880  2 2186.     *
 001A3C 9103 0280      00000       13881  2 2187.                  TM    PSAPSW,B'00000011'      External & I/O on?
 001A40 4710 A1B6            01A74 13882  2 2188.                  IF    ~ON,'ABORT PERDISAB'    If not... bag it
 001A44 AC04 021B      0021B       13897  3          +
 001A48 9680 021A      0021A       13903  3          +
 001A4C 50F0 021C            0021C 13904  3          +
 001A50 58F0 0210            00210 13905  3          +
 001A54 89F0 0010            00010 13906  3          +
 001A58 88F0 0010            00010 13907  3          +
 001A5C 41F0 F000            00000 13908  3          +
 001A60 AEFF 0006            00006 13909  3          +
 001A64 D7C5D9C4C9E2C1C2           13910  2          +
 001A74 41F0 A558/0DEF       01E16 13915  2 2189.                  LCALL PERROUTE                Handle the PER
 001A7A 47F0 A1D8            01A96 13924  2 2190.                  B     PIEND                   Done with stand alone PER
 001A7E                            13925  1 2191.                END   ,
                                   13929  1 2192.     *
                                   13930  1 2193.     * Take Care of Monitor Call
                                   13931  1 2194.     *
 001A7E 5920 AA1E            022DC 13932  1 2195.                IF    (RA,EQ,X'40'),BEGIN     Monitor Call interrupt
 001A82 4770 A1CE            01A8C 13944  1          +
                                   13949  2 2196.     *        IF    PSAPIIC+1.X'80','LCALL PERROUTE' No per on MON for now
 001A86 41F0 A700/0DEF       01FBE 13950  2 2197.                  LCALL MONROUTE                Take care of the MON Call
 001A8C A1D2           01A8C 01A84 13959  1 2198.                END   ELSE,BEGIN
 001A8C 47F0 A1D8            01A96 13968  1          +
                                   13974  2 2199.     *
                                   13975  2 2200.     * Take care of the rest of the possible interrupt conditions
                                   13976  2 2201.     *
                                   13977  2 2202.     *
 001A90 41F0 A5EC/0DEF       01EAA 13978  2 2203.                  LCALL PIROUTE                 And take care of the PI
 001A96                            13987  1 2204.                END   ,
                                   13991  1 2205.     *
                                   13992  1 2206.     * Do a re-dispatch if it is needed
                                   13993  1 2207.     *
 001A96                            13994  1 2208.     PIEND      LABEL ,
 001A96 9140 0338      000B8       13996  1 2209.                IF    DISPGRD,'ACALL ASDISP'
 001A9A 47E0 A1E6            01AA4 14006  1          +
 001A9E 58F0 A9F6/0DEF       022B4 14017  1          +
 001AA4 A1EA           01AA4 01A9C 14023  1 2210.                ELSE  BEGIN
 001AA4 47F0 A202            01AC0 14028  1          +
 001AA8 5870 0324            000A4 14034  2 2211.                  L     RY,PSAASDB
 USING  ASDB,R7                    14035  2 2212.                  WITH  (ASDB,RY)
 001AAC 1277/4780 A202       01AC0 14048  2 2213.                  IF    ((RY,NZ),AND,ASDBTDSP),'ACALL ASDISP'
 001AB2 9180 7028      00028       14070  2          +
 001AB6 47E0 A202            01AC0 14071  2          +
 001ABA 58F0 A9F6/0DEF       022B4 14082  2          +
 DROP   ASDB,R7                    14088  1 2214.                END   ,
                                   14097  1 2215.     *
                                   14098  1 2216.     * Return to the user
                                   14099  1 2217.     *
 001AC0                            14100  1 2218.                IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 001AC0 D503 A9FA 0334 022B8 000B4 14112  1          +
 001AC6 4780 A23C            01AFA 14113  1          +
 001ACA AC04 021B      0021B       14122  2          +
 001ACE 9680 021A      0021A       14128  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  120
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001AD2 50F0 021C            0021C 14129  2          +
 001AD6 58F0 0210            00210 14130  2          +
 001ADA 89F0 0010            00010 14131  2          +
 001ADE 88F0 0010            00010 14132  2          +
 001AE2 41F0 F000            00000 14133  2          +
 001AE6 AEFF 0006            00006 14134  2          +
 001AEA C3D7D3D2C2C1D340           14135  1          +
 001AFA 9801 0280            00000 14140  1 2219.                LM    R0,R1,PSAPSW            Get the location
 001AFE 9901 AAD6            02394 14141  1 2220.                XTRC  R0,R1,RUNUSER4          Trace the run
 002392 0000/00002394                     2          +
 002398 0000006E/0001              14150  2          +
 00239E D9E4D5E4E2C5D9F4           14152  1          +
 001B02 6800 02C8            00048 14159  1 2221.                LD    0,PSAFPRS+0*4           FPR 0
 001B06 6820 02D0            00050 14160  1 2222.                LD    2,PSAFPRS+2*4           FPR 2
 001B0A 6840 02D8            00058 14161  1 2223.                LD    4,PSAFPRS+4*4           FPR 4
 001B0E 6860 02E0            00060 14162  1 2224.                LD    6,PSAFPRS+6*4           FPR 6
 001B12 980F 0288            00008 14163  1 2225.                LM    0,15,PSAGPRS            GPRs
 001B16 947F 0338      000B8       14164  1 2226.                CLEAR DISPSTK                 Not in dispatcher stack now
 001B1A                            14171  1 2227.                CLEAR PSACPLK
 001B1A D703 0334 0334 000B4 000B4 14177  1          +
 001B20 8200 0280      00000       14178  1 2228.                LPSW  PSAPSW                  And off and running
 001B24                            14179    2229.              END   ,                       ** End of Program FLIH **
 DROP   *,R10                      14183    2230.              DROP  BR
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  121
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14191    2232.     *****************************************************************
                                   14192    2233.     *                                                               *
                                   14193    2234.     *  MCFLIH  --  This is where Machine Check interrupts are       *
                                   14194    2235.     *              taken.  It is not in the form of a procedure.    *
                                   14195    2236.     *                                                               *
                                   14196    2237.     *    Input --  none                                             *
                                   14197    2238.     *                                                               *
                                   14198    2239.     *   Output --  none                                             *
                                   14199    2240.     *                                                               *
                                   14200    2241.     *****************************************************************
-001B24                            14202    2243.     MCFLIH   BEGIN
 001B24 AC04 021B      0021B       14207  1 2244.                ABORT  MCHECK                 Whoa!!!
 001B28 9680 021A      0021A       14216  1          +
 001B2C 50F0 021C            0021C 14217  1          +
 001B30 58F0 0210            00210 14218  1          +
 001B34 89F0 0010            00010 14219  1          +
 001B38 88F0 0010            00010 14220  1          +
 001B3C 41F0 F000            00000 14221  1          +
 001B40 AEFF 0006            00006 14222  1          +
 001B44 D4C3C8C5C3D24040           14223  1          +
 001B54                            14224    2245.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  122
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14229    2247.     *****************************************************************
                                   14230    2248.     *                                                               *
                                   14231    2249.     *  IOFLIH  --  This is where I/O interrupts are taken.  It is   *
                                   14232    2250.     *              NOT in the form of a procedure.                  *
                                   14233    2251.     *                                                               *
                                   14234    2252.     *    Input --  none                                             *
                                   14235    2253.     *                                                               *
                                   14236    2254.     *   Output --  none                                             *
                                   14237    2255.     *                                                               *
                                   14238    2256.     *****************************************************************
-001B54                            14240    2258.     IOFLIH   BEGIN
                                   14245  1 2259.     *
                                   14246  1 2260.     * Save the state
                                   14247  1 2261.     *
 001B54 D207 0280 0038 00000 00038 14248  1 2262.                MVC   PSAPSW,PZIOOPSW         Copy the PSW
 001B5A 900F 0288            00008 14249  1 2263.                STM   0,15,PSAGPRS            Save GPRs in PSA
 001B5E 6000 02C8            00048 14250  1 2264.                STD   0,PSAFPRS+0*4           FPR 0
 001B62 6020 02D0            00050 14251  1 2265.                STD   2,PSAFPRS+2*4           FPR 2
 001B66 6040 02D8            00058 14252  1 2266.                STD   4,PSAFPRS+4*4           FPR 4
 001B6A 6060 02E0            00060 14253  1 2267.                STD   6,PSAFPRS+6*4           FPR 6
 001B6E 0DA0                       14254  1 2268.                BASE  ,                       Set up addressability
 USING  *,R10
 001B70 9801 0280            00000 14268  1 2269.                LM    R0,R1,PSAPSW            Get the PSW
 001B74 9824 00B8            000B8 14269  1 2270.                LM    R2,R4,PZIOSID           Get the I/O info
 001B78 9904 A838            023A8 14270  1 2271.                XTRC  R0,R4,IOINT             Trace the interrupt
 0023A6 0000/000023A8                     2          +
 0023AC 0000006F/0004              14279  2          +
 0023B2 C9D6C9D5E3404040           14281  1          +
 001B7C 48F0 0308            00088 14288  1 2272.                CLOCK IOSV                    I/O service clock
 001B80 49F0 A7A2            02312 14290  1          +
 001B84 4780 A028            01B98 14297  1          +
 001B88 B209 F000      00000       14302  2          +
 001B8C 41F0 0300            00300 14303  2          +
 001B90 40F0 0308            00088 14304  2          +
 001B94 B208 0300      00080       14305  1          +
 001B98 5810 0334/1211       000B4 14310  1 2273.                IF    ('LT RS,PSACPLK',NZ),BEGIN      In a SUP routine...
 001B9E 4780 A062            01BD2 14321  1          +
 001BA2 AC04 021B      0021B       14326  2 2274.                  ABORT IOINSUP                 That is not good
 001BA6 9680 021A      0021A       14335  2          +
 001BAA 50F0 021C            0021C 14336  2          +
 001BAE 58F0 0210            00210 14337  2          +
 001BB2 89F0 0010            00010 14338  2          +
 001BB6 88F0 0010            00010 14339  2          +
 001BBA 41F0 F000            00000 14340  2          +
 001BBE AEFF 0006            00006 14341  2          +
 001BC2 C9D6C9D5E2E4D740           14342  2          +
 001BD2                            14343  1 2275.                END   ,
 001BD2 D203 0334 A728 000B4 02298 14347  1 2276.                MVC   PSACPLK,=A(1)
 001BD8 9680 0338      000B8       14348  1 2277.                SET   DISPSTK                 We are now in SUP routine
                                   14354  1 2278.     *
                                   14355  1 2279.     * set up the stack for the dispatcher
                                   14356  1 2280.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  123
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001BDC 58C0 0330            000B0 14357  1 2281.                L     WAR,PSADSTK             Get the stack for this CPU
 001BE0 41D0 C008            00008 14358  1 2282.                LA    SPR,@WAR+8              Get a location for Save area
                                   14359  1 2283.     *
                                   14360  1 2284.     * Call the I/O supervisor
                                   14361  1 2285.     *
 001BE4 58F0 A770/0DEF       022E0 14362  1 2286.                VCALL IOSINTER                I/O supervisor interrupt entry
                                   14366  1 2287.     *
                                   14367  1 2288.     * Do a re-dispatch if it is needed
                                   14368  1 2289.     *
 001BEA 9140 0338      000B8       14369  1 2290.                IF    DISPGRD,'ACALL ASDISP'
 001BEE 47E0 A088            01BF8 14379  1          +
 001BF2 58F0 A744/0DEF       022B4 14390  1          +
 001BF8 A08C           01BF8 01BF0 14396  1 2291.                ELSE  BEGIN
 001BF8 47F0 A0A4            01C14 14401  1          +
 001BFC 5870 0324            000A4 14407  2 2292.                  L     RY,PSAASDB
 USING  ASDB,R7                    14408  2 2293.                  WITH  (ASDB,RY)
 001C00 1277/4780 A0A4       01C14 14421  2 2294.                  IF    ((RY,NZ),AND,ASDBTDSP),'ACALL ASDISP'
 001C06 9180 7028      00028       14443  2          +
 001C0A 47E0 A0A4            01C14 14444  2          +
 001C0E 58F0 A744/0DEF       022B4 14455  2          +
 DROP   ASDB,R7                    14461  1 2295.                END   ,
                                   14470  1 2296.     *
                                   14471  1 2297.     * Re-start the current user
                                   14472  1 2298.     *
 001C14 48F0 0308            00088 14473  1 2299.                CLOCK USER                    Use the user clock
 001C18 49F0 A798            02308 14475  1          +
 001C1C 4780 A0C0            01C30 14482  1          +
 001C20 B209 F000      00000       14487  2          +
 001C24 41F0 02F0            002F0 14488  2          +
 001C28 40F0 0308            00088 14489  2          +
 001C2C B208 02F0      00070       14490  1          +
 001C30                            14495  1 2300.                IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 001C30 D503 A748 0334 022B8 000B4 14507  1          +
 001C36 4780 A0FA            01C6A 14508  1          +
 001C3A AC04 021B      0021B       14517  2          +
 001C3E 9680 021A      0021A       14523  2          +
 001C42 50F0 021C            0021C 14524  2          +
 001C46 58F0 0210            00210 14525  2          +
 001C4A 89F0 0010            00010 14526  2          +
 001C4E 88F0 0010            00010 14527  2          +
 001C52 41F0 F000            00000 14528  2          +
 001C56 AEFF 0006            00006 14529  2          +
 001C5A C3D7D3D2C2C1D340           14530  1          +
 001C6A 9801 0280            00000 14535  1 2301.                LM    R0,R1,PSAPSW
 001C6E 9901 A84C            023BC 14536  1 2302.                XTRC  R0,R1,RUNUSER5          Trace the run
 0023BA 0000/000023BC                     2          +
 0023C0 00000070/0001              14545  2          +
 0023C6 D9E4D5E4E2C5D9F5           14547  1          +
 001C72 6800 02C8            00048 14554  1 2303.                LD    0,PSAFPRS+0*4           FPR 0
 001C76 6820 02D0            00050 14555  1 2304.                LD    2,PSAFPRS+2*4           FPR 2
 001C7A 6840 02D8            00058 14556  1 2305.                LD    4,PSAFPRS+4*4           FPR 4
 001C7E 6860 02E0            00060 14557  1 2306.                LD    6,PSAFPRS+6*4           FPR 6
 001C82 980F 0288            00008 14558  1 2307.                LM    0,15,PSAGPRS            GPRs
 001C86 947F 0338      000B8       14559  1 2308.                CLEAR DISPSTK                 Not in dispatcher stack now
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  124
0Current Usings:  (PZERO,R0) (*,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001C8A                            14566  1 2309.                CLEAR PSACPLK
 001C8A D703 0334 0334 000B4 000B4 14572  1          +
 001C90 8200 0280      00000       14573  1 2310.                LPSW  PSAPSW                  And off and running
 001C94                            14574    2311.              END   ,                       ** End of I/O FLIH **
 DROP   *,R10                      14578    2312.              DROP  BR
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  125
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14586    2314.     *****************************************************************
                                   14587    2315.     *                                                               *
                                   14588    2316.     *    PFLT  --  This is called when a page or segment fault      *
                                   14589    2317.     *              occurs.  It calls the real storage manager and   *
                                   14590    2318.     *              handles the response.  It returns a zero in RVR  *
                                   14591    2319.     *              if everything was handled correctly and non-zero *
                                   14592    2320.     *              if program interrupt processing should continue. *
                                   14593    2321.     *                                                               *
                                   14594    2322.     *   Input  --  none                                             *
                                   14595    2323.     *                                                               *
                                   14596    2324.     *  Output  --  none                                             *
                                   14597    2325.     *                                                               *
                                   14598    2326.     *****************************************************************
-001C94                            14600    2328.     PFLT     PROC  SCOPE=LOCAL
 001C94 D7C6D3E340404040           14607             +
 001C9C 0000/0000                  14608             +
 001CA0 900F D004/18AF       00004 14610             +
 USING  PFLT,R10
 001CA6 50D0 C000/18CD       00000 14625             +
 001CAC 9680 C000      00000       14627             +
 001CB0 41D0 C048            00048 14628             +
                                   14629    2329.     *
                                   14630    2330.     * Assume that the real storage manager will process the page fault
                                   14631    2331.     *
 001CB4 5870 0324            000A4 14632    2332.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    14633    2333.              WITH  (ASDB,RY)
 001CB8 9140 7028      00028       14646    2334.              IF    ASDBPFLT,'ABORT TWOPFLT'
 001CBC 47E0 A050            01CF0 14656             +
 001CC0 AC04 021B      0021B       14665  1          +
 001CC4 9680 021A      0021A       14671  1          +
 001CC8 50F0 021C            0021C 14672  1          +
 001CCC 58F0 0210            00210 14673  1          +
 001CD0 89F0 0010            00010 14674  1          +
 001CD4 88F0 0010            00010 14675  1          +
 001CD8 41F0 F000            00000 14676  1          +
 001CDC AEFF 0006            00006 14677  1          +
 001CE0 E3E6D6D7C6D3E340           14678             +
 001CF0 58F0 7028            00028 14683    2335.              SET   ASDBPFLT,MODE=LOCKED,REF=ASDB   Mark it as in progress
 001CF4 4110 0040            00040 14690             +
 001CF8 8910 0018/180F       00018 14691             +
 001CFE 1601/BAF0 7028       00028 14693             +
 001D04 4770 A05C            01CFC 14696             +
                                   14697    2336.     *
                                   14698    2337.     * Update the suspend count
                                   14699    2338.     *
 001D08 5820 702C            0002C 14700    2339.              L     RA,ASDBSUSP             Get the current count
 001D0C                            14701    2340.              LOOP  BEGIN
 001D0C 4130 2001            00001 14707  1 2341.                LA    RB,@RA+1                Count one more suspension
 001D10 BA23 702C            0002C 14708  1 2342.                CS    RA,RB,ASDBSUSP          Update the count
 001D14 4770 A06C            01D0C 14709    2343.              UNTIL Z,END
                                   14728    2344.     *
                                   14729    2345.     * Make us non-swapable for the duration of the page fault
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  126
0Current Usings:  (PZERO,R0) (ASDB,R7) (PFLT,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14730    2346.     *
 001D18 5810 7098            00098 14731    2347.              L     RS,ASDBSHCT             Get the hold count
 001D1C                            14732    2348.              LOOP  BEGIN
 001D1C 4100 1001            00001 14738  1 2349.                LA    RVR,@RS+1               Increment the count
 001D20 BA10 7098            00098 14739  1 2350.                CS    RS,RVR,ASDBSHCT         Update the value
 001D24 4770 A07C            01D1C 14740    2351.              UNTIL Z,END
                                   14759    2352.     *
                                   14760    2353.     * Call the Real storage manager
                                   14761    2354.     *
 001D28 58F0 A644/0DEF       022E4 14762    2355.              VCALL PAGFAULT                Let him try it
 001D2E 1810                       14766    2356.              LR    RS,RVR                  Get the return info
 001D30 47F1 A094            01D34 14767    2357.              B     PFRET(RS)               And go to it
                                   14768    2358.
 001D34 47F0 A0A4            01D44 14769    2359.     PFRET    B     PFINPRO                 0 -- Fault in progress
 001D38 47F0 A0BA            01D5A 14770    2360.              B     PFBAD                   4 -- Page no good
 001D3C 47F0 A0C2            01D62 14771    2361.              B     PFOK                    8 -- Page fault resolved
 001D40 47F0 A0AE            01D4E 14772    2362.              B     PFWAIT                 12 -- Must wait for something
-                                  14774    2364.     *
                                   14775    2365.     * Page fault resolution is in progress; we were right
                                   14776    2366.     *
 001D44 9640 0338      000B8       14777    2367.     PFINPRO  SET   DISPGRD                 Make sure the suspend takes
 001D48 1B00                       14784    2368.              CLEAR RVR                     Signal good return
 001D4A 47F0 A160            01E00 14788    2369.              B     PFEND                   Return to the caller
0                                  14790    2371.     *
                                   14791    2372.     * The real storage manager is unable to handle the page fault at this
                                   14792    2373.     * time.  He is supposed to queue it up and return OK, however there
                                   14793    2374.     * is always the possiblitiy that he cannot even do that.  In that
                                   14794    2375.     * case, we just pretend it didn't happen, drop the priority and let
                                   14795    2376.     * this address space run again.
                                   14796    2377.     *
 001D4E                            14797    2378.     PFWAIT   CLEAR ASDBSPRI                Lowest possible priority
 001D4E D701 7022 7022 00022 00022 14804             +
 001D54 1B00                       14805    2379.              CLEAR RVR                     Good return
 001D56 47F0 A0C4            01D64 14809    2380.              B     NOTINP
                                   14810    2381.
 001D5A 4100 0004            00004 14811    2382.     PFBAD    LA    RVR,4                   The page is no good
 001D5E 47F0 A0C4            01D64 14812    2383.              B     NOTINP
                                   14813    2384.
 001D62 1B00                       14814    2385.     PFOK     CLEAR RVR                     The page fault resolved
-                                  14820    2387.     *
                                   14821    2388.     * If the page I/O is not in progress we have to un-do what we did
                                   14822    2389.     * at the start.  First remove the suspension.
                                   14823    2390.     *
 001D64 5820 702C            0002C 14824    2391.     NOTINP   L     RA,ASDBSUSP             Get the current value
 001D68                            14825    2392.              LOOP  BEGIN
 001D68 1812                       14831  1 2393.                LR    RS,RA                   Copy the current value
 001D6A 4B10 A674            02314 14832  1 2394.                SH    RS,=Y(1)
 001D6E 47B0 A0D4/1B11       01D74 14833  1 2395.                IF    NEG,'CLEAR RS'          not less than zero
 001D74 BA21 702C            0002C 14853  1 2396.                CS    RA,RS,ASDBSUSP          Update the suspend count
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  127
0Current Usings:  (PZERO,R0) (ASDB,R7) (PFLT,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001D78 4770 A0C8            01D68 14854    2397.              UNTIL Z,END
                                   14873    2398.     *
                                   14874    2399.     * Clear the in progress flag
                                   14875    2400.     *
 0023CE BF             02324 05F38 14876    2401.              CLEAR ASDBPFLT,MODE=LOCKED,REF=ASDB,REGS=(EPAR,RA,RS)
 001D7C 41F0 0001/111F       00001 14896             +
 001D82 89F0 0003            00003 14898             +
 001D86 44F0 A730            023D0 14900             +
 0023CF 00/BF10 A72E         023CE                   +
 001D8A 58F0 7028/182F       00028 14915             +
 001D90 1421/BAF2 7028       00028 14917             +
 001D96 4770 A0EE            01D8E 14920             +
                                   14921    2402.     *
                                   14922    2403.     * Remove the swap hold
                                   14923    2404.     *
 001D9A 5820 7098            00098 14924    2405.              L     RA,ASDBSHCT             Get the swap hold count
 001D9E                            14925    2406.              LOOP  BEGIN
 001D9E 1812                       14931  1 2407.                LR    RS,RA                   Copy the count value
 001DA0 4B10 A674            02314 14932  1 2408.                SH    RS,=Y(1)                Decrement the count
 001DA4 47B0 A138            01DD8 14933  1 2409.                IF    NEG,'ABORT SWAPHREL'    Not too far though
 001DA8 AC04 021B      0021B       14948  2          +
 001DAC 9680 021A      0021A       14954  2          +
 001DB0 50F0 021C            0021C 14955  2          +
 001DB4 58F0 0210            00210 14956  2          +
 001DB8 89F0 0010            00010 14957  2          +
 001DBC 88F0 0010            00010 14958  2          +
 001DC0 41F0 F000            00000 14959  2          +
 001DC4 AEFF 0006            00006 14960  2          +
 001DC8 E2E6C1D7C8D9C5D3           14961  1          +
 001DD8 BA21 7098            00098 14966  1 2410.                CS    RA,RS,ASDBSHCT          Update the count
 001DDC 4770 A0FE            01D9E 14967    2411.              UNTIL Z,END                   Release one swap hold
                                   14986    2412.     *
                                   14987    2413.     * Check to see if a re-dispatch is needed to handle the new paging
                                   14988    2414.     * numbers
                                   14989    2415.     *
 001DE0 5820 032C            000AC 14990    2416.              L     RA,PSADCT               Get the DCT pointer
 USING  DCT,R2                     14991    2417.              WITH  (DCT,RA)
 001DE4 5830 0200            00200 15004    2418.              L     RB,PZMATP               Get the MAT pointer
 USING  MAT,R3                     15005    2419.              WITH  (MAT,RB)
 001DE8 5810 30DC            000DC 15018    2420.              L     RS,MATPAGFN             Current paging function num
                                   15019    2421.   C          IF    ((RS,GE,DCTSHPF),OR,
 001DEC 5910 2104            00104          2422.                    (RS,LT,DCTSLPF)),'SET DISPGRD+DISPLTD'
 001DF0 47A0 A15C            01DFC 15035             +
 001DF4 5910 2100            00100 15046             +
 001DF8 47B0 A160            01E00 15047             +
 001DFC 9660 0338      000B8       15061             +
 001E00 981F C008            00008 15066    2423.     PFEND    PEND  ,
 DROP   MAT,R3
 DROP   DCT,R2
 DROP   ASDB,R7
 DROP   PFLT,R10
 001E04 9680 C000/0B0E 00000       15092             +
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  128
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15099    2425.     *****************************************************************
                                   15100    2426.     *                                                               *
                                   15101    2427.     * PERROUTE --  This routine is entered when a PER condition is  *
                                   15102    2428.     *              sensed.  It schedule a PER exit.                 *
                                   15103    2429.     *                                                               *
                                   15104    2430.     *   Input  --  none                                             *
                                   15105    2431.     *                                                               *
                                   15106    2432.     *  Output  --  none                                             *
                                   15107    2433.     *                                                               *
                                   15108    2434.     *****************************************************************
-001E0A                            15110    2436.     PERROUTE PROC  SCOPE=LOCAL
 001E0A D7C5D9D9D6E4E3C5           15117             +
 001E12 0000/0000                  15118             +
 001E16 900F D004/18AF       00004 15120             +
 USING  PERROUTE,R10
 001E1C 50D0 C000/18CD       00000 15135             +
 001E22 9680 C000      00000       15137             +
 001E26 41D0 C048            00048 15138             +
                                   15139    2437.     *
                                   15140    2438.     * Get our bearings
                                   15141    2439.     *
 001E2A 5870 0324            000A4 15142    2440.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    15143    2441.              WITH  (ASDB,RY)
 001E2E 5860 7038            00038 15156    2442.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     15157    2443.              WITH  (TDB,RX)
                                   15170    2444.     *
                                   15171    2445.     * Set up to call the Exit
                                   15172    2446.     *
 USING  @XITDO-72,R13              15173    2447.              PSET  @XITDO                  Address the parm area
 001E32 D71F D048 D048 00000 00000 15190             +
 001E38                            15191    2448.              PMOV  @XITRQID,TDBPEERQ       Move in the request ID
 001E38 D203 D048 603C 00000 0003C 15195             +
 001E3E 5060 D04C            00004 15196    2449.              PMOV  @XITTSK,LA:TDB          Task ID
 001E42 9204 D050      00008       15207    2450.              MVI   @XITTYPE,XITTPER        Exit type
 AUSING (SEXITPER,@XITPARM)        15208    2451.              WITH  (SEXITPER,@XITPARM),BEGIN
 001E46 D201 D058 033C 00000 000BC 15218  1 2452.                MVC   SXIEILC,PSAPIILC        Instruction length
 001E4C D201 D05A 0096 00002 00096 15219  1 2453.                MVC   SXIECODE,PZPERCD        PER code
 001E52 D203 D05C 0098 00004 00098 15220  1 2454.                MVC   SXIEPERA,PZPERA         PER Address
                                   15221    2455.              END   ,
 001E58 58F0 A4D2/0DEF       022E8 15224    2456.              ACALL XITDO                   Cause the exit to take place
 001E5E 1200/4780 A07E       01E94 15231    2457.              IF    (RVR,NZ),'ABORT BADPER'
 001E64 AC04 021B      0021B       15249  1          +
 001E68 9680 021A      0021A       15255  1          +
 001E6C 50F0 021C            0021C 15256  1          +
 001E70 58F0 0210            00210 15257  1          +
 001E74 89F0 0010            00010 15258  1          +
 001E78 88F0 0010            00010 15259  1          +
 001E7C 41F0 F000            00000 15260  1          +
 001E80 AEFF 0006            00006 15261  1          +
 001E84 C2C1C4D7C5D94040           15262             +
 001E94 981F C008            00008 15267    2458.              PEND  ,
 DROP   TDB,R6
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  129
0Current Usings:  (PZERO,R0) (@XITDO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   ASDB,R7
 DROP   PERROUTE,R10
 001E98 9680 C000/0B0E 00000       15287             +
 DROP   @XITDO-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  130
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15297    2460.     *****************************************************************
                                   15298    2461.     *                                                               *
                                   15299    2462.     * PIROUTE  --  Program Interrupt router.  This routine causes   *
                                   15300    2463.     *              an exit to be scheduled.                         *
                                   15301    2464.     *                                                               *
                                   15302    2465.     *   Input  --  none                                             *
                                   15303    2466.     *                                                               *
                                   15304    2467.     *  Output  --  none                                             *
                                   15305    2468.     *                                                               *
                                   15306    2469.     *****************************************************************
-001E9E                            15308    2471.     PIROUTE  PROC  SCOPE=LOCAL
 001E9E D7C9D9D6E4E3C540           15315             +
 001EA6 0000/0000                  15316             +
 001EAA 900F D004/18AF       00004 15318             +
 USING  PIROUTE,R10
 001EB0 50D0 C000/18CD       00000 15333             +
 001EB6 9680 C000      00000       15335             +
 001EBA 41D0 C048            00048 15336             +
                                   15337    2472.     *
                                   15338    2473.     * Get our bearings
                                   15339    2474.     *
 001EBE 5870 0324            000A4 15340    2475.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    15341    2476.              WITH  (ASDB,RY)
 001EC2 5860 7038            00038 15354    2477.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     15355    2478.              WITH  (TDB,RX)
                                   15368    2479.     *
                                   15369    2480.     * Set up to call the Exit
                                   15370    2481.     *
 USING  @XITDO-72,R13              15371    2482.              PSET  @XITDO                  Address the parm area
 001EC6 D71F D048 D048 00000 00000 15388             +
 001ECC                            15389    2483.              PMOV  @XITRQID,TDBPIERQ       Move in the request ID
 001ECC D203 D048 6034 00000 00034 15393             +
 001ED2 5060 D04C            00004 15394    2484.              PMOV  @XITTSK,LA:TDB          Task ID
 001ED6 9200 D050      00008       15405    2485.              MVI   @XITTYPE,XITTPI         Exit type
 AUSING (SEXITPI,@XITPARM)         15406    2486.              WITH  (SEXITPI,@XITPARM),BEGIN
 001EDA D207 D058 033C 00000 000BC 15416  1 2487.                MVC   SEXITPI,PSAPIILC        Move the interrupt info in
 001EE0 947F D05B      00003       15417  1 2488.                NI    SXIPCODE+1,X'7F'        Turn off the the PER bit
                                   15418    2489.              END   ,
 001EE4 58F0 A43E/0DEF       022E8 15421    2490.              ACALL XITDO                   Cause the exit to take place
 001EEA 1200/4780 A076       01F20 15428    2491.              IF    (RVR,NZ),'ABORT BADPI'
 001EF0 AC04 021B      0021B       15446  1          +
 001EF4 9680 021A      0021A       15452  1          +
 001EF8 50F0 021C            0021C 15453  1          +
 001EFC 58F0 0210            00210 15454  1          +
 001F00 89F0 0010            00010 15455  1          +
 001F04 88F0 0010            00010 15456  1          +
 001F08 41F0 F000            00000 15457  1          +
 001F0C AEFF 0006            00006 15458  1          +
 001F10 C2C1C4D7C9404040           15459             +
 001F20 981F C008            00008 15464    2492.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  131
0Current Usings:  (PZERO,R0) (@XITDO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   PIROUTE,R10
 001F24 9680 C000/0B0E 00000       15484             +
 DROP   @XITDO-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  132
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15494    2494.     *****************************************************************
                                   15495    2495.     *                                                               *
                                   15496    2496.     * SVCROUTE --  This is the SVC router.  It schedules an SVC     *
                                   15497    2497.     *              exit routine.                                    *
                                   15498    2498.     *                                                               *
                                   15499    2499.     *   Input  --  none                                             *
                                   15500    2500.     *                                                               *
                                   15501    2501.     *  Output  --  none                                             *
                                   15502    2502.     *                                                               *
                                   15503    2503.     *****************************************************************
-001F2A                            15505    2505.     SVCROUTE PROC  SCOPE=LOCAL
 001F2A E2E5C3D9D6E4E3C5           15512             +
 001F32 0000/0000                  15513             +
 001F36 900F D004/18AF       00004 15515             +
 USING  SVCROUTE,R10
 001F3C 50D0 C000/18CD       00000 15530             +
 001F42 9680 C000      00000       15532             +
 001F46 41D0 C048            00048 15533             +
                                   15534    2506.     *
                                   15535    2507.     * Get our bearings
                                   15536    2508.     *
 001F4A 5870 0324            000A4 15537    2509.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    15538    2510.              WITH  (ASDB,RY)
 001F4E 5860 7038            00038 15551    2511.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     15552    2512.              WITH  (TDB,RX)
                                   15565    2513.     *
                                   15566    2514.     * Set up to call the Exit
                                   15567    2515.     *
 USING  @XITDO-72,R13              15568    2516.              PSET  @XITDO                  Address the parm area
 001F52 D71F D048 D048 00000 00000 15585             +
 001F58                            15586    2517.              PMOV  @XITRQID,TDBSVERQ       Move in the request ID
 001F58 D203 D048 6030 00000 00030 15590             +
 001F5E 5060 D04C            00004 15591    2518.              PMOV  @XITTSK,LA:TDB          Task ID
 001F62 9201 D050      00008       15602    2519.              MVI   @XITTYPE,XITTSVC        Exit type
 AUSING (SEXITSVC,@XITPARM)        15603    2520.              WITH  (SEXITSVC,@XITPARM),BEGIN
 001F66 D203 D058 0088 00000 00088 15613  1 2521.                MVC   SEXITSVC,PZSVILC        Move the interrupt info in
                                   15614    2522.              END   ,
 001F6C 58F0 A3B2/0DEF       022E8 15617    2523.              ACALL XITDO                   Cause the exit to take place
 001F72 1200/4780 A072       01FA8 15624    2524.              IF    (RVR,NZ),'ABORT BADSVC'
 001F78 AC04 021B      0021B       15642  1          +
 001F7C 9680 021A      0021A       15648  1          +
 001F80 50F0 021C            0021C 15649  1          +
 001F84 58F0 0210            00210 15650  1          +
 001F88 89F0 0010            00010 15651  1          +
 001F8C 88F0 0010            00010 15652  1          +
 001F90 41F0 F000            00000 15653  1          +
 001F94 AEFF 0006            00006 15654  1          +
 001F98 C2C1C4E2E5C34040           15655             +
 001FA8 981F C008            00008 15660    2525.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   SVCROUTE,R10
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  133
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001FAC 9680 C000/0B0E 00000       15680             +
 DROP   @XITDO-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  134
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15690    2527.     *****************************************************************
                                   15691    2528.     *                                                               *
                                   15692    2529.     * MONROUTE --  This is the Monitor Call Router.  It schedules   *
                                   15693    2530.     *              a Monitor Call exit.                             *
                                   15694    2531.     *                                                               *
                                   15695    2532.     *   Input  --  none                                             *
                                   15696    2533.     *                                                               *
                                   15697    2534.     *  Output  --  none                                             *
                                   15698    2535.     *                                                               *
                                   15699    2536.     *****************************************************************
-001FB2                            15701    2538.     MONROUTE PROC  SCOPE=LOCAL
 001FB2 D4D6D5D9D6E4E3C5           15708             +
 001FBA 0000/0000                  15709             +
 001FBE 900F D004/18AF       00004 15711             +
 USING  MONROUTE,R10
 001FC4 50D0 C000/18CD       00000 15726             +
 001FCA 9680 C000      00000       15728             +
 001FCE 41D0 C048            00048 15729             +
                                   15730    2539.     *
                                   15731    2540.     * Get our bearings
                                   15732    2541.     *
 001FD2 5870 0324            000A4 15733    2542.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    15734    2543.              WITH  (ASDB,RY)
 001FD6 5860 7038            00038 15747    2544.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     15748    2545.              WITH  (TDB,RX)
                                   15761    2546.     *
                                   15762    2547.     * Set up to call the Exit
                                   15763    2548.     *
 USING  @XITDO-72,R13              15764    2549.              PSET  @XITDO                  Address the parm area
 001FDA D71F D048 D048 00000 00000 15781             +
 001FE0                            15782    2550.              PMOV  @XITRQID,TDBMCERQ       Move in the request ID
 001FE0 D203 D048 6038 00000 00038 15786             +
 001FE6 5060 D04C            00004 15787    2551.              PMOV  @XITTSK,LA:TDB          Task ID
 001FEA 9205 D050      00008       15798    2552.              MVI   @XITTYPE,XITTMON        Exit type
 AUSING (SEXITMC,@XITPARM)         15799    2553.              WITH  (SEXITMC,@XITPARM),BEGIN
 001FEE D201 D058 033C 00000 000BC 15809  1 2554.                MVC   SXIMILC,PSAPIILC        Move the interrupt info in
 001FF4 D201 D05A 0094 00002 00094 15810  1 2555.                MVC   SXIMCLA,PZMONCL         Monitor Class
 001FFA D203 D05C 009C 00004 0009C 15811  1 2556.                MVC   SXIMCODE,PZMONCD        Monitor Code
                                   15812    2557.              END   ,
 002000 58F0 A32A/0DEF       022E8 15815    2558.              ACALL XITDO                   Cause the exit to take place
 002006 1200/4780 A07E       0203C 15822    2559.              IF    (RVR,NZ),'ABORT BADMON'
 00200C AC04 021B      0021B       15840  1          +
 002010 9680 021A      0021A       15846  1          +
 002014 50F0 021C            0021C 15847  1          +
 002018 58F0 0210            00210 15848  1          +
 00201C 89F0 0010            00010 15849  1          +
 002020 88F0 0010            00010 15850  1          +
 002024 41F0 F000            00000 15851  1          +
 002028 AEFF 0006            00006 15852  1          +
 00202C C2C1C4D4D6D54040           15853             +
 00203C 981F C008            00008 15858    2560.              PEND  ,
 DROP   TDB,R6
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  135
0Current Usings:  (PZERO,R0) (@XITDO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   ASDB,R7
 DROP   MONROUTE,R10
 002040 9680 C000/0B0E 00000       15878             +
 DROP   @XITDO-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  136
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15888    2562.     *****************************************************************
                                   15889    2563.     *                                                               *
                                   15890    2564.     * CPUTIMR  --  This routine is entered when a CPU timer expires *
                                   15891    2565.     *              for a user.  It takes care of all the stuff that *
                                   15892    2566.     *              has to happen when a time slice expires and also *
                                   15893    2567.     *              the implementation of user CPU timers.           *
                                   15894    2568.     *                                                               *
                                   15895    2569.     *   Input  --  none                                             *
                                   15896    2570.     *                                                               *
                                   15897    2571.     *  Output  --  none                                             *
                                   15898    2572.     *                                                               *
                                   15899    2573.     *****************************************************************
-000000                00000 00010 15901    2575.     CPWA     RECORD BEGIN
 000000                            15909  1 2576.     CPWINTC    DS    D             Current number of WS intervals
 000008                            15910  1 2577.     CPWEINT    DS    D             Number of elapsed intervals
 000010                00010 00010 15911    2578.              END   ,
-002046                            15921    2580.     CPUTIMR  PROC  ,CPWA,SCOPE=LOCAL
 002046 C3D7E4E3C9D4D940           15928             +
 00204E 0000/0010                  15929             +
 002052 900F D004/18AF       00004 15931             +
 USING  CPUTIMR,R10
 002058 50D0 C000/18CD       00000 15946             +
 00205E 9680 C000      00000       15948             +
 USING  CPWA-72,R12
 002062 41D0 C058            00058 15962             +
                                   15963    2581.     *
                                   15964    2582.     * Get the current ASDB
                                   15965    2583.     *
 002066 5870 0324            000A4 15966    2584.              L     RY,PSAASDB              Current ASDB pointer
 USING  ASDB,R7                    15967    2585.              WITH  (ASDB,RY)
 00206A 5860 7038            00038 15980    2586.              L     RX,ASDBCTDB             Current TDB pointer
 USING  TDB,R6                     15981    2587.              WITH  (TDB,RX)
 00206E 5840 032C            000AC 15994    2588.              L     RJ,PSADCT               DCT pointer
 USING  DCT,R4                     15995    2589.              WITH  (DCT,RJ)
                                   16008    2590.     *
                                   16009    2591.     * Calculate the elapsed time Since the timer was loaded
                                   16010    2592.     *
 002072 D707 02F0 A22E 00070 02280 16011    2593.              XC    PSAKUSER,=X'FFFFFFFFFFFFFFFF'  Complement the value
 002078 6800 02F0            00070 16012    2594.              LD    0,PSAKUSER              Load that value
 00207C 6E00 A236            02288 16013    2595.              AW    0,=X'0000000000000001'  Get twos complement of time
 002080 6E00 70A8            000A8 16014    2596.              AW    0,ASDBSCPU              Add the starting CPU time
                                   16015    2597.     *
                                   16016    2598.     * Update the various clocks
                                   16017    2599.     *
 002084 9140 7024      00024       16018    2600.              IF    ASDBACCT,BEGIN          This ASDB is charged
 002088 47E0 A044            02096 16028             +
 00208C 6820 02E8            00068 16033  1 2601.                LD    2,PSATCHG               Get the total time charged
 002090 2E20                       16034  1 2602.                AWR   2,0                     Add this bit
 002092 6020 02E8            00068 16035  1 2603.                STD   2,PSATCHG               Update the value
 002096                            16036    2604.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  137
0Current Usings:  (PZERO,R0) (DCT,R4) (TDB,R6) (ASDB,R7) (CPUTIMR,R10) (CPWA-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16040    2605.
 002096 6820 70B8            000B8 16041    2606.              LD    2,ASDBTCPU              Get the ASDB total CPU time
 00209A 2E20                       16042    2607.              AWR   2,0                     Add in this iteration
 00209C 6020 70B8            000B8 16043    2608.              STD   2,ASDBTCPU              Then update the value
                                   16044    2609.
 0020A0 6920 7058            00058 16045    2610.              CD    2,ASDBTIMR              We at the appointed time yet?
 0020A4 4750 A05C            020AE 16046    2611.              IF    GE,BEGIN                Yep, we have to take the exit
 0020A8 58F0 A29A/0DEF       022EC 16057  1 2612.                ACALL CPTIMER                 Take care of the timers
 0020AE                            16064    2613.              END   ,
                                   16068    2614.
 0020AE 6920 7088            00088 16069    2615.              CD    2,ASDBWSNC              Is it time for more WS man.
 0020B2 4750 A0CC            0211E 16070    2616.              IF    GE,BEGIN                It is...
                                   16081  1 2617.     *
                                   16082  1 2618.     * Calculate the number of working set intervals have passed
                                   16083  1 2619.     *
 0020B6 2842                       16084  1 2620.                LDR   4,2                     Get the total CPU time
 0020B8 6D40 7078            00078 16085  1 2621.                DD    4,ASDBWSIN              Get the number of intervals
 0020BC 6E40 A23E            02290 16086  1 2622.                AW    4,=X'4E00000000000000'  Get integral number
 0020C0 6040 C048            00000 16087  1 2623.                STD   4,CPWINTC               Save the current number
 0020C4 6F40 7080            00080 16088  1 2624.                SW    4,ASDBWSLC              Get the difference
 0020C8 6040 C050            00008 16089  1 2625.                STD   4,CPWEINT               Save the elapsed interval
 0020CC D207 7080 C048 00080 00000 16090  1 2626.                MVC   ASDBWSLC,CPWINTC        Save the new value
                                   16091  1 2627.     *
                                   16092  1 2628.     * Calculate the time at which we must go through this again
                                   16093  1 2629.     *
 0020D2 6840 7078            00078 16094  1 2630.                LD    4,ASDBWSIN              Get the interval
 0020D6 2E42                       16095  1 2631.                AWR   4,2                     Get the time of the next call
 0020D8 6040 7088            00088 16096  1 2632.                STD   4,ASDBWSNC              Save that time for later
                                   16097  1 2633.     *
                                   16098  1 2634.     * Call the paging supervisor
                                   16099  1 2635.     *
 0020DC 9120 7024      00024       16100  1 2636.                IF    ~ASDBTERM,BEGIN         But not during termination
 0020E0 4710 A0B0            02102 16110  1          +
 USING  @PAGWSMA-72,R13            16115  2 2637.                  PSET  @PAGWSMA
 0020E4 D70C D048 D048 00000 00000 16132  2          +
 0020EA D203 D048 7004 00000 00004 16133  2 2638.                  MVC   @WSASB,ASDBASB          ASB address
 0020F0 D203 D04C C054 00004 0000C 16134  2 2639.                  MVC   @WSINT,CPWEINT+4        Move in the count of intervals
 0020F6 D203 D050 7094 00008 00094 16135  2 2640.                  MVC   @WSLIMIT,ASDBWSLM       Move in the working set limit
 0020FC 58F0 A29E/0DEF       022F0 16136  2 2641.                  VCALL PAGWSMAN                Call the paging supervisor
 002102                            16140  1 2642.                END   ,
                                   16144  1 2643.     *
                                   16145  1 2644.     * See if that changes the global situation
                                   16146  1 2645.     *
 002102 5820 0200            00200 16147  1 2646.                L     RA,PZMATP               Get the MAT address
 USING  MAT,R2                     16148  1 2647.                WITH  (MAT,RA)
 002106 5810 20DC            000DC 16161  1 2648.                L     RS,MATPAGFN             Current paging function num
                                   16162  1 2649.   C            IF    ((RS,GE,DCTSHPF),OR,
 00210A 5910 4104            00104        1 2650.                      (RS,LT,DCTSLPF)),'SET DISPGRD+DISPLTD'
 00210E 47A0 A0C8            0211A 16178  1          +
 002112 5910 4100            00100 16189  1          +
 002116 47B0 A0CC            0211E 16190  1          +
 00211A 9660 0338      000B8       16204  1          +
 DROP   MAT,R2                     16209    2651.              END   ,
                                   16218    2652.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  138
0Current Usings:  (PZERO,R0) (DCT,R4) (TDB,R6) (ASDB,R7) (CPUTIMR,R10) (CPWA-72,R12) (@PAGWSMA-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16219    2653.     * Check the slice timer.  If it has expired, we  update the priority
                                   16220    2654.     * of this AS
                                   16221    2655.     *
 00211E 6920 70B0            000B0 16222    2656.              CD    2,ASDBSLC               Has it expired
 002122 4750 A13E            02190 16223    2657.              IF    GE,BEGIN                Yep...modify the priorities
 002126 9640 0338      000B8       16234  1 2658.                SET   DISPGRD                 We will need to re-dispatch
 DROP   @PAGWSMA-72,R13            16240  1 2659.                PSET  @UPDPRIO
 USING  @UPDPRIO-72,R13
 00212A D704 D048 D048 00000 00000 16260  1          +
 002130 5070 D048            00000 16261  1 2660.                PMOV  @UPPASDB,ASDB,OP=LA     Move the ASDB pointer in
 002134 9680 D04C      00004       16272  1 2661.                SET   @UPPTSE                 Indicate time slice end
 002138 58F0 A2A2/0DEF       022F4 16278  1 2662.                ACALL UPDPRIO                 Update the priority
                                   16285  1 2663.     *
                                   16286  1 2664.     * See if this is the first time slice since this AS was swapped in.
                                   16287  1 2665.     *
 00213E 9180 709C      0009C       16288  1 2666.                IF    ~ASDBSWTS,BEGIN         Yep.
 002142 4710 A13E            02190 16298  1          +
 002146 9680 709C      0009C       16303  2 2667.                  SET   ASDBSWTS                Mark it as getting one
 00214A 5820 7098            00098 16309  2 2668.                  L     RA,ASDBSHCT             Get the swap hold count
 00214E                            16310  2 2669.                  LOOP  BEGIN
 00214E 1812                       16316  3 2670.                    LR    RS,RA                   Copy the count value
 002150 4B10 A2C2            02314 16317  3 2671.                    SH    RS,=Y(1)                Decrement the count
 002154 47B0 A136            02188 16318  3 2672.                    IF    NEG,'ABORT SWAPHREL'    Not too far though
 002158 AC04 021B      0021B       16333  4          +
 00215C 9680 021A      0021A       16339  4          +
 002160 50F0 021C            0021C 16340  4          +
 002164 58F0 0210            00210 16341  4          +
 002168 89F0 0010            00010 16342  4          +
 00216C 88F0 0010            00010 16343  4          +
 002170 41F0 F000            00000 16344  4          +
 002174 AEFF 0006            00006 16345  4          +
 002178 E2E6C1D7C8D9C5D3           16346  3          +
 002188 BA21 7098            00098 16351  3 2673.                    CS    RA,RS,ASDBSHCT          Update the count
 00218C 4770 A0FC            0214E 16352  2 2674.                  UNTIL Z,END                   Release one swap hold
 002190                            16371  1 2675.                END   ,
 002190                            16375    2676.              END   ,
                                   16379    2677.     *
                                   16380    2678.     * Calculate the next value of the CPU timer
                                   16381    2679.     *
 002190 6800 70B0            000B0 16382    2680.              LD    0,ASDBSLC               Get the slice end time
 002194 2F02                       16383    2681.              SWR   0,2                     Interval from now
 002196 6840 7058            00058 16384    2682.              LD    4,ASDBTIMR              Get the CPU timer value
 00219A 2F42                       16385    2683.              SWR   4,2                     Interval from now
 00219C 2904                       16386    2684.              CDR   0,4
 00219E 47D0 A152/2804       021A4 16387    2685.              IF    GT,'LDR 0,4'            Get the smaller
                                   16404    2686.     *
                                   16405    2687.     * Update the user clock
                                   16406    2688.     *
 0021A4 6000 70A8            000A8 16407    2689.              STD   0,ASDBSCPU              Starting clock value
 0021A8 6000 02F0            00070 16408    2690.              STD   0,PSAKUSER              And put it in the user area
                                   16409    2691.     *
                                   16410    2692.     * If our priority changed, do a dispatch
                                   16411    2693.     *
 0021AC 981F C008            00008 16412    2694.              PEND  ,
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  139
0Current Usings:  (PZERO,R0) (@UPDPRIO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   DCT,R4
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   CPWA-72,R12
 DROP   CPUTIMR,R10
 0021B0 9680 C000/0B0E 00000       16442             +
 DROP   @UPDPRIO-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  140
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16452    2696.     *****************************************************************
                                   16453    2697.     *                                                               *
                                   16454    2698.     * RTCLOCK  --  This routine is called when the Real-time clock  *
                                   16455    2699.     *              queue neede to be modified.  It will handle      *
                                   16456    2700.     *              expired timers and reset the clock comparator.   *
                                   16457    2701.     *                                                               *
                                   16458    2702.     *   Input  --  none                                             *
                                   16459    2703.     *                                                               *
                                   16460    2704.     *  Output  --  none                                             *
                                   16461    2705.     *                                                               *
                                   16462    2706.     *****************************************************************
-0021B6                            16464    2708.     RTCLOCK  PROC  SCOPE=LOCAL
 0021B6 D9E3C3D3D6C3D240           16471             +
 0021BE 0000/0000                  16472             +
 0021C2 900F D004/18AF       00004 16474             +
 USING  RTCLOCK,R10
 0021C8 50D0 C000/18CD       00000 16489             +
 0021CE 9680 C000      00000       16491             +
 0021D2 41D0 C048            00048 16492             +
 0021D6 5860 032C            000AC 16493    2709.              L     RX,PSADCT               Get the DCT pointer
 USING  DCT,R6                     16494    2710.              WITH  (DCT,RX)                And address it
 USING  @LOCKS-72,R13              16507    2711.              LKOB  DCTLOCK                 Get the lock
 0021DA D203 D048 6004 00000 00004 16523             +
 0021E0 58F0 A136/0DEF       022F8 16526             +
                                   16528    2712.     *
                                   16529    2713.     * Check each one in the real time clock queue to see if it has
                                   16530    2714.     * expired yet
                                   16531    2715.     *
 0021E6 5820 6010            00010 16532    2716.              L     RA,DCTRTCQ              And of the real current
 USING  RTCQ,R2                    16533    2717.              WITH  (RTCQ,RA)               Address the area
 0021EA B205 0418      00198       16546    2718.              STCK  PSADWK1                 And also the current time
 0021EE 1222/4780 A06C       0222E 16547    2719.     RTQLOOP  WHILE (RA,NZ),BEGIN           We have a pointer
 0021F4 D507 0418 2008 00198 00008 16564  1 2720.                CLC   PSADWK1,RTCQTOD         Has this one arrived yet?
 0021FA 4740 A06C            0222E 16565  1 2721.                IF    LT,EXIT                 If not then no more to wake up
                                   16579  1 2722.     *
                                   16580  1 2723.     * The first one in the list has expired.  Remove it from the list,
                                   16581  1 2724.     * and schedule the SYSR.
                                   16582  1 2725.     *
 0021FE D203 6010 2004 00010 00004 16583  1 2726.                MVC   DCTRTCQ,RTCQNEXT        Remove this element
 DROP   @LOCKS-72,R13              16584  1 2727.                PSET  @SYSRDO
 USING  @SYSRDO-72,R13
 002204 D71B D048 D048 00000 00000 16604  1          +
 00220A D203 D048 2018 00000 00018 16605  1 2728.                MVC   @SYSRID,RTCQSYSR        Move in the SYSR ID
 002210 D203 D04C 2010 00004 00010 16606  1 2729.                MVC   @SYSRASB,RTCQASB        Get the ASB address
 002216 D203 D050 A13A 00008 022FC 16607  1 2730.                MVC   @SYSRLOC,=A(RTSYSR)     Where to do it
 00221C 5020 D054            0000C 16608  1 2731.                ST    RA,@SYSRPRM             Parm for the SYSR routine
 002220 58F0 A13E/0DEF       02300 16609  1 2732.                ACALL SYSRDO                  Schedule the SYSR
 002226 5820 6010            00010 16616  1 2733.                L     RA,DCTRTCQ              Get the first in line again
 00222A 47F0 A02C            021EE 16617    2734.              END   ,
                                   16622    2735.     *
                                   16623    2736.     * There are no more expired timers.  We set the clock comparator from
                                   16624    2737.     * the first in the list if there is one and some very large value
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  141
0Current Usings:  (PZERO,R0) (RTCQ,R2) (DCT,R6) (RTCLOCK,R10) (@SYSRDO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16625    2738.     * if there is not.
                                   16626    2739.     *
 00222E 1222/4770 A076       02238 16627    2740.              IF    (RA,Z),BEGIN
 002234 B206 A0BE      02280       16641  1 2741.                SCKC  =X'FFFFFFFFFFFFFFFF'    Far into the future
 002238 A07A           02238 02232 16642    2742.              END   ELSE,BEGIN
 002238 47F0 A07E            02240 16651             +
 00223C B206 2008      00008       16657  1 2743.                SCKC  RTCQTOD                 Set the new timer
 002240                            16658    2744.              END   ,
 DROP   @SYSRDO-72,R13             16662    2745.              LKREL DCTLOCK                 Free the lock
 USING  @LOCKS-72,R13
 002240 D203 D048 6004 00000 00004 16681             +
 002246 58F0 A142/0DEF       02304 16684             +
 00224C 981F C008            00008 16686    2746.              PEND  ,                       Return to the current user
 DROP   RTCQ,R2
 DROP   DCT,R6
 DROP   RTCLOCK,R10
 002250 9680 C000/0B0E 00000       16706             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Interrupt Handling                                                                     Page  142
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002258                            16716    2748.              LTORG
 002258 D48993A385954083           16718                             =C'Milten closed connection'
 002270 C1829699A340C396           16719                             =C'Abort Code ID = '
 002280 FFFFFFFFFFFFFFFF           16720                             =X'FFFFFFFFFFFFFFFF'
 002288 0000000000000001           16721                             =X'0000000000000001'
 002290 4E00000000000000           16722                             =X'4E00000000000000'
 002298 00000001                   16723                             =A(1)
 00229C 00B00000                   16724                             =X'00B00000'
 0022A0 040C0000                   16725                             =X'040C0000'
 0022A4 8000143A                   16726                             =A(X'80000000'+RSFLIH)
 0022A8 10B06400                   16727                             =X'10B06400'
 0022AC 10B06C40                   16728                             =X'10B06C40'
 0022B0 FF000000                   16729                             =X'FF000000'
 0022B4 00000022                   16730                             =A(ASDISP)
 0022B8 00000001                   16731                             =AL4(1)
 0022BC 000021C2                   16732                             =A(RTCLOCK)
 0022C0 00002052                   16733                             =A(CPUTIMR)
 0022C4 00001F36                   16734                             =A(SVCROUTE)
 0022C8 00000016                   16735                             =A(X'16')
 0022CC 00000011                   16736                             =A(X'11')
 0022D0 00000010                   16737                             =A(X'10')
 0022D4 00001CA0                   16738                             =A(PFLT)
 0022D8 00001780                   16739                             =A(SVCPER)
 0022DC 00000040                   16740                             =A(X'40')
 0022E0 00000000                   16741                             =V(IOSINTER)
 0022E4 00000000                   16742                             =V(PAGFAULT)
 0022E8 000045EA                   16743                             =A(XITDO)
 0022EC 000029D6                   16744                             =A(CPTIMER)
 0022F0 00000000                   16745                             =V(PAGWSMAN)
 0022F4 00000C42                   16746                             =A(UPDPRIO)
 0022F8 00000000                   16747                             =V(LKOB)
 0022FC 00002698                   16748                             =A(RTSYSR)
 002300 000052EC                   16749                             =A(SYSRDO)
 002304 00000000                   16750                             =V(LKREL)
 002308 02F0                       16751                             =Y(PSAKUSER-PSA+L'PZERO)
 00230A 02F8                       16752                             =Y(PSAKDISP-PSA+L'PZERO)
 00230C 1202                       16753                             =X'1202'
 00230E 1005                       16754                             =X'1005'
 002310 1004                       16755                             =X'1004'
 002312 0300                       16756                             =Y(PSAKIOSV-PSA+L'PZERO)
 002314 0001                       16757                             =Y(1)
 002316 D4C9D3E2E3D6D7             16758                             =C'MILSTOP'
 00231D D4C9D3C7D6D5C5             16759                             =C'MILGONE'
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  143
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16764    2750.     *****************************************************************
                                   16765    2751.     *                                                               *
                                   16766    2752.     *   RTSET  --  This routine starts a real-time timer for the    *
                                   16767    2753.     *              calling task.  It allocates a new RTCQ and       *
                                   16768    2754.     *              queues it to the timer queue.  It then wakes up  *
                                   16769    2755.     *              the CPU controlling the real time clocks.        *
                                   16770    2756.     *                                                               *
                                   16771    2757.     *   Input  --  @RTSET                                           *
                                   16772    2758.     *                                                               *
                                   16773    2759.     *  Output  --  RVR contains the timer ID                        *
                                   16774    2760.     *                                                               *
                                   16775    2761.     *****************************************************************
-0023D4                            16777    2763.     RTSET    PROC  @RTSET,SCOPE=GLOBAL
 0023D4 D9E3E2C5E3404040           16783             +
 0023DC 0018/0000                  16784             +
 0023E0 900F D004/18AF       00004 16786             +
 USING  RTSET,R10
 0023E6 50D0 C000/18CD       00000 16801             +
 0023EC 9680 C000      00000       16803             +
 USING  @RTSET-72,R12
 0023F0 41D0 C060            00060 16817             +
                                   16818    2764.     *
                                   16819    2765.     * Get our bearings
                                   16820    2766.     *
 0023F4 5870 0324            000A4 16821    2767.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    16822    2768.              WITH  (ASDB,RY)
 0023F8 5860 032C            000AC 16835    2769.              L     RX,PSADCT               DCT Address
 USING  DCT,R6                     16836    2770.              WITH  (DCT,RX)
                                   16849    2771.     *
                                   16850    2772.     * Allocate a new RTCQ entry
                                   16851    2773.     *
 0023FC 58F0 A688/0DEF       02A68 16852    2774.              ACALL NEWRTCQ                 Get a new RTCQ entry
 002402 1820                       16859    2775.              LR    RA,RVR                  Copy the address
 USING  RTCQ,R2                    16860    2776.              WITH  (RTCQ,RA)
                                   16873    2777.     *
                                   16874    2778.     * Format the RTCQ
                                   16875    2779.     *
 002404 D203 2010 7004 00010 00004 16876    2780.              MVC   RTCQASB,ASDBASB         Save the Current ASB
 00240A D203 2014 7038 00014 00038 16877    2781.              MVC   RTCQTDB,ASDBCTDB        And the current TDB
 USING  @SYSRNEW-72,R13            16878    2782.              PSET  @SYSRNEW
 002410 D703 D048 D048 00000 00000 16895             +
 002416 58F0 A68C/0DEF       02A6C 16896    2783.              ACALL SYSRNEW                 Get a new SYSR
 00241C 5000 2018            00018 16903    2784.              ST    RVR,RTCQSYSR            Save the ID
 002420 D203 201C C054 0001C 0000C 16904    2785.              MVC   RTCQXID,@RTSXIT         User's Exit ID
 002426 D207 2020 C058 00020 00010 16905    2786.              MVC   RTCQPARM(8),@RTSPARM    Move in the user exit parms
                                   16906    2787.     *
                                   16907    2788.     * Figure out what time this timer will expire
                                   16908    2789.     *
 00242C 9180 C050      00008       16909    2790.              IF    @RTSFINT,BEGIN          Interval timer
 002430 47E0 A074            02454 16919             +
 002434 9680 2028      00028       16924  1 2791.                SET   RTINTVL                 Mark it as an interval timer
 002438 B205 2008      00008       16930  1 2792.                STCK  RTCQTOD                 Get the current time
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  144
0Current Usings:  (PZERO,R0) (RTCQ,R2) (DCT,R6) (ASDB,R7) (RTSET,R10) (@RTSET-72,R12) (@SYSRNEW-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000243C 9845 2008            00008 16931  1 2793.                LM    RJ,RK,RTCQTOD           Load into regs
 002440 5E50 C04C            00004 16932  1 2794.                ADL   RJ,@RTSCLK              Get the TOD of the end
 002444 47C0 A06C            0244C 16941  1          +
 002448 5E40 A690            02A70 16947  1          +
 00244C 5E40 C048            00000 16952  1          +
 002450 9045 2008            00008 16953  1 2795.                STM   RJ,RK,RTCQTOD           Save it in the Clock
 002454 A078           02454 02432 16954    2796.              END   ELSE,BEGIN              It is a TOD clock
 002454 47F0 A07E            0245E 16963             +
 002458 D207 2008 C048 00008 00000 16969  1 2797.                MVC   RTCQTOD,@RTSCLK         Caller passes the TOD clock
 00245E                            16970    2798.              END   ,
                                   16974    2799.     *
                                   16975    2800.     * Now we have to add it to the timer queue
                                   16976    2801.     *
 00245E AC04 0339      000B9       16977    2802.              DISABLE ,                     We can't afford interrupts
 DROP   @SYSRNEW-72,R13            16979    2803.              LKOB  DCTLOCK                 Get the disp lock
 USING  @LOCKS-72,R13
 002462 D203 D048 6004 00000 00004 16998             +
 002468 58F0 A694/0DEF       02A74 17001             +
 00246E 4140 6010            00010 17003    2804.              LA    RJ,DCTRTCQ              Address of first pointer
 002472 5850 4000/1255       00000 17004    2805.              WHILE ('LT RK,@RJ',NZ),BEGIN  Insert loop
 002478 4780 A0AE            0248E 17017             +
 USING  Q.RTCQ,R5                  17022  1 2806.                WITH  (RTCQ,RK),LABEL=Q       Address it
 00247C                            17030  1 2807.                IF    (RTCQTOD,LT,Q.RTCQTOD),EXIT  Found the spot
 00247C D507 2008 5008 00008 00008 17042  1          +
 002482 4740 A0AE            0248E 17045  1          +
 002486 4140 5004            00004 17051  1 2808.                LA    RJ,Q.RTCQNEXT           Address of pointer to next
 00248A 47F0 A092            02472 17052    2809.              END   ,
 DROP   Q.RTCQ,R5
                                   17065    2810.     *
                                   17066    2811.     * We've found the insertion point, add it to the list
                                   17067    2812.     *
 00248E D203 2004 4000 00004 00000 17068    2813.              MVC   RTCQNEXT,@RJ            Point this at the rest
 002494 5020 4000            00000 17069    2814.              ST    RA,@RJ                  And add this to the list
 002498                            17070    2815.              LKREL DCTLOCK                 Free the dispatch lock
 002498 D203 D048 6004 00000 00004 17079             +
 00249E 58F0 A698/0DEF       02A78 17082             +
                                   17084    2816.     *
                                   17085    2817.     * Update the clock comparator if we need to do so.
                                   17086    2818.     *
 0024A4 5920 6010            00010 17087    2819.              IF    (RA,EQ,DCTRTCQ),BEGIN   Ours is first in line
 0024A8 4770 A0F0            024D0 17099             +
 0024AC 5830 6170            00170 17104  1 2820.                L     RB,DCTIPCBS             Get the first IPCB in system
 USING  IPCB,R3                    17105  1 2821.                WITH  (IPCB,RB),BEGIN
 0024B0 58F0 3010            00010 17119  2 2822.                  SET   IPFLRCC,MODE=LOCKED,REF=IPCB
 0024B4 4110 0040            00040 17126  2          +
 0024B8 8910 0018/180F       00018 17127  2          +
 0024BE 1601/BAF0 3010       00010 17129  2          +
 0024C4 4770 A0DC            024BC 17132  2          +
 0024C8 4810 300C            0000C 17133  2 2823.                  LH    RS,IPCBCPUA             Get the CPU address
 0024CC AE11 0002            00002 17134  2 2824.                  SIGP  RS,RS,X'02'             Signal the external call
 DROP   IPCB,R3                    17135  1 2825.                END   ,
 0024D0                            17143    2826.              END   ,
 0024D0 8000 0339      000B9       17147    2827.              ENABLE ,                      Get our system mask back
 0024D4 1802                       17149    2828.              LR    RVR,RA                  Return the timer ID
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  145
0Current Usings:  (PZERO,R0) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00024D6 981F C008            00008 17150    2829.              PEND  ,
 DROP   RTCQ,R2
 DROP   DCT,R6
 DROP   ASDB,R7
 DROP   @RTSET-72,R12
 DROP   RTSET,R10
 0024DA 9680 C000/0B0E 00000       17180             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  146
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17190    2831.     *****************************************************************
                                   17191    2832.     *                                                               *
                                   17192    2833.     *   RTCHK  --  This routine returns the time remaining on a     *
                                   17193    2834.     *              given Real-time timer.                           *
                                   17194    2835.     *                                                               *
                                   17195    2836.     *   Input  --  @RTCNCK                                          *
                                   17196    2837.     *                                                               *
                                   17197    2838.     *  Output  --  RVR=0, Data is ok; RVR~=0, Bad ID passed.        *
                                   17198    2839.     *                                                               *
                                   17199    2840.     *****************************************************************
-0024E0                            17201    2842.     RTCHK    PROC  @RTCNCK,SCOPE=GLOBAL
 0024E0 D9E3C3C8D2404040           17207             +
 0024E8 0020/0000                  17208             +
 0024EC 900F D004/18AF       00004 17210             +
 USING  RTCHK,R10
 0024F2 50D0 C000/18CD       00000 17225             +
 0024F8 9680 C000      00000       17227             +
 USING  @RTCNCK-72,R12
 0024FC 41D0 C068            00068 17241             +
 AUSING (RTEXIT,@RTCPARM)          17242    2843.              WITH  (RTEXIT,@RTCPARM)
                                   17249    2844.     *
                                   17250    2845.     * Verify the identity of the RTCQ he is passing
                                   17251    2846.     *
 002500 58F0 A590/0DEF       02A7C 17252    2847.              ACALL ASLOCK                  Make sure the SYSR doesn't run
 002506                            17259    2848.     RTKLK    BEGIN
 002506 4120 0004            00004 17264  1 2849.                LA    RA,4                    Default return code
 00250A 5860 C048            00000 17265  1 2850.                L     RX,@RTCID               Get the ID of the timer
 USING  RTCQ,R6                    17266  1 2851.                WITH  (RTCQ,RX)
 00250E                            17279  1 2852.                IF    (RTCQ,NE,'RTCQ'),EXIT   Not a timer ID
 00250E D503 A594 6000 02A80 00000 17290  1          +
 002514 4770 A080            0256C 17293  1          +
 002518                            17299  1 2853.                IF    (RTCQASB,NE,PZCURASB),EXIT  Not our Address space
 002518 D503 6010 0208 00010 00208 17311  1          +
 00251E 4770 A080            0256C 17314  1          +
 002522                            17320  1 2854.                IF    (RTCQTDB,NE,PSATDB),EXIT    Or our task
 002522 D503 6014 0328 00014 000A8 17332  1          +
 002528 4770 A080            0256C 17335  1          +
                                   17341  1 2855.     *
                                   17342  1 2856.     * Get the time remaining
                                   17343  1 2857.     *
 00252C B205 C050      00008       17344  1 2858.                STCK  @RTCCLK                 Get the current time
 002530                            17345  1 2859.                IF    (@RTCCLK,GE,RTCQTOD),BEGIN  Expired already
 002530 D507 6008 C050 00008 00008 17356  1          +
 002536 4730 A054            02540 17357  1          +
 00253A                            17362  2 2860.                  CLEAR @RTCCLK                 No time left
 00253A D707 C050 C050 00008 00008 17368  2          +
 002540 A058           02540 02538 17369  1 2861.                END   ELSE,BEGIN
 002540 47F0 A06E            0255A 17378  1          +
 002544 9823 6008            00008 17384  2 2862.                  LM    RA,RB,RTCQTOD           Get the expiration time
 002548 5F30 C054            0000C 17385  2 2863.                  SDL   RA,@RTCCLK              Get the remaining interval
 00254C 47B0 A066/0620       02552 17387  2          +
 002552 5F20 C050            00008 17389  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  147
0Current Usings:  (PZERO,R0) (RTCQ,R6) (RTCHK,R10) (@RTCNCK-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002556 9023 C050            00008 17390  2 2864.                  STM   RA,RB,@RTCCLK           Save the interval left
 00255A                            17391  1 2865.                END   ,
                                   17395  1 2866.     *
                                   17396  1 2867.     * Fill in the other parms
                                   17397  1 2868.     *
 00255A 5060 C058            00000 17398  1 2869.                ST    RX,RTXTID               Save the timer ID
 00255E D203 C05C 601C 00004 0001C 17399  1 2870.                MVC   RTXXID,RTCQXID          Exit ID
 002564 D207 C060 6020 00008 00020 17400  1 2871.                MVC   RTXPARM(8),RTCQPARM     And the parms
 00256A 1B22                       17401  1 2872.                CLEAR RA                      Signal good return
 DROP   RTCQ,R6                    17405    2873.              END   ,
 00256C 58F0 A598/0DEF       02A84 17414    2874.              ACALL ASULOCK                 Free the lock
 002572 1802                       17421    2875.              LR    RVR,RA                  Copy the return code
 002574 981F C008            00008 17422    2876.              PEND  ,
 DROP   @RTCNCK-72,R12
 DROP   RTCHK,R10
 002578 9680 C000/0B0E 00000       17437             +
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  148
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17444    2878.     *****************************************************************
                                   17445    2879.     *                                                               *
                                   17446    2880.     *   RTCAN  --  This routine Cancel's the timer and returns the  *
                                   17447    2881.     *              time remaining on it.                            *
                                   17448    2882.     *                                                               *
                                   17449    2883.     *   Input  --  @RTCNCK                                          *
                                   17450    2884.     *                                                               *
                                   17451    2885.     *  Output  --  RVR=0, Data is ok; RVR~=0, Bad ID passed.        *
                                   17452    2886.     *                                                               *
                                   17453    2887.     *****************************************************************
-00257E                            17455    2889.     RTCAN    PROC  @RTCNCK,SCOPE=GLOBAL
 00257E D9E3C3C1D5404040           17461             +
 002586 0020/0000                  17462             +
 00258A 900F D004/18AF       00004 17464             +
 USING  RTCAN,R10
 002590 50D0 C000/18CD       00000 17479             +
 002596 9680 C000      00000       17481             +
 USING  @RTCNCK-72,R12
 00259A 41D0 C068            00068 17495             +
 AUSING (RTEXIT,@RTCPARM)          17496    2890.              WITH  (RTEXIT,@RTCPARM)       Map the parm area
                                   17503    2891.     *
                                   17504    2892.     * Get our bearings
                                   17505    2893.     *
 00259E 5860 032C            000AC 17506    2894.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     17507    2895.              WITH  (DCT,RX)
 0025A2 5840 C048            00000 17520    2896.              L     RJ,@RTCID               Get the RTCQ address (ID)
 USING  RTCQ,R4                    17521    2897.              WITH  (RTCQ,RJ)
                                   17534    2898.     *
                                   17535    2899.     * Check out the ID
                                   17536    2900.     *
 0025A6 AC04 0339      000B9       17537    2901.              DISABLE ,                     Turn off interrupts
 USING  @LOCKS-72,R13              17539    2902.              LKOB  DCTLOCK                 Get the DCT lock
 0025AA D203 D048 6004 00000 00004 17555             +
 0025B0 58F0 A4EA/0DEF       02A74 17558             +
 0025B6                            17560    2903.     RTCTLK   BEGIN
 0025B6 4190 0004            00004 17565  1 2904.                LA    RN,4                     efault return code
 0025BA                            17566  1 2905.                IF    (RTCQ,NE,'RTCQ'),EXIT   Not a timer ID
 0025BA D503 A4F6 4000 02A80 00000 17577  1          +
 0025C0 4770 A080            0260A 17580  1          +
 0025C4                            17586  1 2906.                IF    (RTCQASB,NE,PZCURASB),EXIT  Not our Address space
 0025C4 D503 4010 0208 00010 00208 17598  1          +
 0025CA 4770 A080            0260A 17601  1          +
 0025CE                            17607  1 2907.                IF    (RTCQTDB,NE,PSATDB),EXIT    Not our task
 0025CE D503 4014 0328 00014 000A8 17619  1          +
 0025D4 4770 A080            0260A 17622  1          +
                                   17628  1 2908.     *
                                   17629  1 2909.     * Find it on the RT timer queue
                                   17630  1 2910.     *
 0025D8 4110 6010            00010 17631  1 2911.                LA    RS,DCTRTCQ              Address of the queue head
 0025DC 9500 1000      00000       17632  1 2912.                WHILE (@RS,NZ),BEGIN          Loop to the end of the queue
 0025E0 4780 A06E            025F8 17645  1          +
 0025E4 5940 1000            00000 17650  2 2913.                  IF    (RJ,EQ,@RS),EXIT        Found the pointer to ours
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  149
0Current Usings:  (PZERO,R0) (RTCQ,R4) (DCT,R6) (RTCAN,R10) (@RTCNCK-72,R12) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00025E8 4780 A06E            025F8 17664  2          +
 0025EC 5810 1000            00000 17670  2 2914.                  L     RS,@RS                  Get the address of next in q
 0025F0 4110 1004            00004 17671  2 2915.                  WITH  (RTCQ,RS),'LA RS,RTCQNEXT'  And the addr of the ptr
 DROP   RTCQ,R4
 USING  RTCQ,R1
 USING  RTCQ,R4
 DROP   RTCQ,R1
 0025F4 47F0 A052            025DC 17712  1 2916.                END   ,
 0025F8                            17717  1 2917.                IF    (@RS,EQ,=A(0)),EXIT     Not found
 0025F8 D503 A4FE 1000 02A88 00000 17727  1          +
 0025FE 4780 A080            0260A 17730  1          +
                                   17736  1 2918.     *
                                   17737  1 2919.     * Remove it from the queue
                                   17738  1 2920.     *
 002602 D203 1000 4004 00000 00004 17739  1 2921.                MVC   @RS(4),RTCQNEXT         Remove this one from the list
 002608 1B99                       17740  1 2922.                CLEAR RN                      Clear the return code
 00260A                            17744    2923.              END   ,                       End of the locked area
 00260A                            17748    2924.              LKREL DCTLOCK                 Free the dispatch lock
 00260A D203 D048 6004 00000 00004 17757             +
 002610 58F0 A4EE/0DEF       02A78 17760             +
 002616 8000 0339      000B9       17762    2925.              ENABLE ,                      And restore system flags
                                   17764    2926.
 00261A 1299/4770 A0F6       02680 17765    2927.              IF    (RN,Z),BEGIN            The ID is good, and removed
                                   17779  1 2928.     *
                                   17780  1 2929.     * Get the time remaining
                                   17781  1 2930.     *
 002620 B205 C050      00008       17782  1 2931.                STCK  @RTCCLK                 Get the current time
 002624                            17783  1 2932.                IF    (@RTCCLK,GE,RTCQTOD),BEGIN  Expired already
 002624 D507 4008 C050 00008 00008 17794  1          +
 00262A 4730 A0AA            02634 17795  1          +
 00262E                            17800  2 2933.                  CLEAR @RTCCLK                 No time left
 00262E D707 C050 C050 00008 00008 17806  2          +
 002634 A0AE           02634 0262C 17807  1 2934.                END   ELSE,BEGIN
 002634 47F0 A0C4            0264E 17816  1          +
 002638 9823 4008            00008 17822  2 2935.                  LM    RA,RB,RTCQTOD           Get the expiration time
 00263C 5F30 C054            0000C 17823  2 2936.                  SDL   RA,@RTCCLK              Get the remaining interval
 002640 47B0 A0BC/0620       02646 17825  2          +
 002646 5F20 C050            00008 17827  2          +
 00264A 9023 C050            00008 17828  2 2937.                  STM   RA,RB,@RTCCLK           Save the interval left
 00264E                            17829  1 2938.                END   ,
                                   17833  1 2939.     *
                                   17834  1 2940.     * Fill in the other parms
                                   17835  1 2941.     *
 00264E 5040 C058            00000 17836  1 2942.                ST    RJ,RTXTID               Save the timer ID
 002652 D203 C05C 401C 00004 0001C 17837  1 2943.                MVC   RTXXID,RTCQXID          Exit ID
 002658 D207 C060 4020 00008 00020 17838  1 2944.                MVC   RTXPARM(8),RTCQPARM     And the parms
                                   17839  1 2945.     *
                                   17840  1 2946.     * Free the SYSR id
                                   17841  1 2947.     *
 DROP   @LOCKS-72,R13              17842  1 2948.                PSET  @SYSRDEL
 USING  @SYSRDEL-72,R13
 00265E D703 D048 D048 00000 00000 17862  1          +
 002664 D203 D048 4018 00000 00018 17863  1 2949.                MVC   @SYSRDID,RTCQSYSR       Move in the ID
 00266A 58F0 A502/0DEF       02A8C 17864  1 2950.                ACALL SYSRDEL                 Free that up
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  150
0Current Usings:  (PZERO,R0) (RTCQ,R4) (DCT,R6) (RTCAN,R10) (@RTCNCK-72,R12) (@SYSRDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17871  1 2951.     *
                                   17872  1 2952.     * Now free the RTCQ
                                   17873  1 2953.     *
 DROP   @SYSRDEL-72,R13            17874  1 2954.                PSET  @GCBDEL
 USING  @GCBDEL-72,R13
 002670 D703 D048 D048 00000 00000 17894  1          +
 002676 5040 D048            00000 17895  1 2955.                ST    RJ,@GCBDLOC             Address of the RTCQ
 00267A 58F0 A506/0DEF       02A90 17896  1 2956.                ACALL DELRTCQ                 Free it up
 002680                            17903    2957.              END   ,
 002680 1809                       17907    2958.              LR    RVR,RN                  Copy the return code
 002682 981F C008            00008 17908    2959.              PEND  ,
 DROP   RTCQ,R4
 DROP   DCT,R6
 DROP   @RTCNCK-72,R12
 DROP   RTCAN,R10
 002686 9680 C000/0B0E 00000       17933             +
 DROP   @GCBDEL-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  151
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17943    2961.     *****************************************************************
                                   17944    2962.     *                                                               *
                                   17945    2963.     *  RTSYSR  --  This is the real-time timer complete routine.    *
                                   17946    2964.     *              It frees the RTCQ and schedules the timer exit   *
                                   17947    2965.     *              routine.                                         *
                                   17948    2966.     *                                                               *
                                   17949    2967.     *   Input  --  @SYSRTN                                          *
                                   17950    2968.     *                                                               *
                                   17951    2969.     *  Output  --  none                                             *
                                   17952    2970.     *                                                               *
                                   17953    2971.     *****************************************************************
-00268C                            17955    2973.     RTSYSR   PROC  @SYSRTN,SCOPE=LOCAL
 00268C D9E3E2E8E2D94040           17962             +
 002694 0010/0000                  17963             +
 002698 900F D004/18AF       00004 17965             +
 USING  RTSYSR,R10
 00269E 50D0 C000/18CD       00000 17980             +
 0026A4 9680 C000      00000       17982             +
 USING  @SYSRTN-72,R12
 0026A8 41D0 C058            00058 17996             +
                                   17997    2974.     *
                                   17998    2975.     * Get our bearings
                                   17999    2976.     *
 0026AC 5860 032C            000AC 18000    2977.              L     RX,PSADCT               Get the DCT pointer
 USING  DCT,R6                     18001    2978.              WITH  (DCT,RX)
 0026B0 5820 C048            00000 18014    2979.              L     RA,@SYSPARS             Get the RTCQ pointer
 USING  RTCQ,R2                    18015    2980.              WITH  (RTCQ,RA)
                                   18028    2981.     *
                                   18029    2982.     * Schedule the timer exit
                                   18030    2983.     *
 USING  @XITDO-72,R13              18031    2984.              PSET  @XITDO
 0026B4 D71F D048 D048 00000 00000 18048             +
 0026BA D203 D048 201C 00000 0001C 18049    2985.              MVC   @XITRQID,RTCQXID        Exit ID
 0026C0 D203 D04C 2014 00004 00014 18050    2986.              MVC   @XITTSK,RTCQTDB         Task ID
 0026C6 9202 D050      00008       18051    2987.              MVI   @XITTYPE,XITTRTC        Real time Clock exit
 AUSING (RTEXIT,@XITPARM)          18052    2988.              WITH  (RTEXIT,@XITPARM)
 0026CA 5020 D058            00000 18059    2989.              ST    RA,RTXTID               Save the timer id
 0026CE D203 D05C 201C 00004 0001C 18060    2990.              MVC   RTXXID,RTCQXID          And the Exit it
 0026D4 D207 D060 2020 00008 00020 18061    2991.              MVC   RTXPARM(8),RTCQPARM     And the user parms
 0026DA 58F0 A3FC/0DEF       02A94 18062    2992.              ACALL XITDO                   Schedule the exit
                                   18069    2993.     *
                                   18070    2994.     * Free the SYSR id
                                   18071    2995.     *
 DROP   @XITDO-72,R13              18072    2996.              PSET  @SYSRDEL
 USING  @SYSRDEL-72,R13
 0026E0 D703 D048 D048 00000 00000 18092             +
 0026E6 D203 D048 2018 00000 00018 18093    2997.              MVC   @SYSRDID,RTCQSYSR       Move in the ID
 0026EC 58F0 A3F4/0DEF       02A8C 18094    2998.              ACALL SYSRDEL                 Free that up
                                   18101    2999.     *
                                   18102    3000.     * Now free the RTCQ
                                   18103    3001.     *
 DROP   @SYSRDEL-72,R13            18104    3002.              PSET  @GCBDEL
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  152
0Current Usings:  (PZERO,R0) (RTCQ,R2) (DCT,R6) (RTSYSR,R10) (@SYSRTN-72,R12) (@GCBDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  @GCBDEL-72,R13
 0026F2 D703 D048 D048 00000 00000 18124             +
 0026F8 5020 D048            00000 18125    3003.              ST    RA,@GCBDLOC             Address of the RTCQ
 0026FC 58F0 A3F8/0DEF       02A90 18126    3004.              ACALL DELRTCQ                 Free it up
 002702 981F C008            00008 18133    3005.              PEND  ,
 DROP   RTCQ,R2
 DROP   DCT,R6
 DROP   @SYSRTN-72,R12
 DROP   RTSYSR,R10
 002706 9680 C000/0B0E 00000       18158             +
 DROP   @GCBDEL-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  153
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18168    3007.     *****************************************************************
                                   18169    3008.     *                                                               *
                                   18170    3009.     *  RTTERM  --  This routine is called when an address space     *
                                   18171    3010.     *              is terminating.  It removes any outstanding      *
                                   18172    3011.     *              real time timers for the current address space.  *
                                   18173    3012.     *                                                               *
                                   18174    3013.     *   Input  --  none                                             *
                                   18175    3014.     *                                                               *
                                   18176    3015.     *  Output  --  none                                             *
                                   18177    3016.     *                                                               *
                                   18178    3017.     *****************************************************************
-00270C                            18180    3019.     RTTERM   PROC  SCOPE=LOCAL
 00270C D9E3E3C5D9D44040           18187             +
 002714 0000/0000                  18188             +
 002718 900F D004/18AF       00004 18190             +
 USING  RTTERM,R10
 00271E 50D0 C000/18CD       00000 18205             +
 002724 9680 C000      00000       18207             +
 002728 41D0 C048            00048 18208             +
                                   18209    3020.     *
                                   18210    3021.     * Get our bearings
                                   18211    3022.     *
 00272C 5860 032C            000AC 18212    3023.              L     RX,PSADCT               Get the DCT pointer
 USING  DCT,R6                     18213    3024.              WITH  (DCT,RX)
 USING  @LOCKS-72,R13              18226    3025.              LKOB  DCTLOCK                 Lock up the chain
 002730 D203 D048 6004 00000 00004 18242             +
 002736 58F0 A35C/0DEF       02A74 18245             +
 00273C 4110 6010            00010 18247    3026.              LA    RS,DCTRTCQ              Addr of first pointer
                                   18248    3027.     *
                                   18249    3028.     * Loop through the queue, removeing elements for this ASB
                                   18250    3029.     *
 002740 5820 1000/1222       00000 18251    3030.              WHILE ('LT RA,@RS',NZ),BEGIN
 002746 4780 A070            02788 18264             +
 USING  RTCQ,R2                    18269  1 3031.                WITH  (RTCQ,RA)
 00274A                            18282  1 3032.                IF    (RTCQASB,NE,PZCURASB),BEGIN    Not ours
 00274A D503 2010 0208 00010 00208 18294  1          +
 002750 4780 A040            02758 18295  1          +
 002754 4110 2004            00004 18300  2 3033.                  LA    RS,RTCQNEXT             Addr of next pointer
 002758 A044           02758 02752 18301  1 3034.                END   ELSE,BEGIN              If it is ours...
 002758 47F0 A06C            02784 18310  1          +
 00275C D203 1000 2004 00000 00004 18316  2 3035.                  MVC   @RS(4),RTCQNEXT         Remove it from the queue
                                   18317  2 3036.     *
                                   18318  2 3037.     * Free the associated SYSR
                                   18319  2 3038.     *
 DROP   @LOCKS-72,R13              18320  2 3039.                  PSET  @SYSRDEL
 USING  @SYSRDEL-72,R13
 002762 D703 D048 D048 00000 00000 18340  2          +
 002768 D203 D048 2018 00000 00018 18341  2 3040.                  MVC   @SYSRDID,RTCQSYSR
 00276E 58F0 A374/0DEF       02A8C 18342  2 3041.                  ACALL SYSRDEL                 Remove the SYSR
                                   18349  2 3042.     *
                                   18350  2 3043.     * Free the RTCQ
                                   18351  2 3044.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  154
0Current Usings:  (PZERO,R0) (RTCQ,R2) (DCT,R6) (RTTERM,R10) (@GCBDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   @SYSRDEL-72,R13            18352  2 3045.                  PSET  @GCBDEL
 USING  @GCBDEL-72,R13
 002774 D703 D048 D048 00000 00000 18372  2          +
 00277A 5020 D048            00000 18373  2 3046.                  ST    RA,@GCBDLOC             Address of the RTCQ
 00277E 58F0 A378/0DEF       02A90 18374  2 3047.                  ACALL DELRTCQ                 Free it up
 002784                            18381  1 3048.                END   ,                       Loop to the end of the list
 002784 47F0 A028            02740 18385    3049.              END   ,
 DROP   RTCQ,R2
 DROP   @GCBDEL-72,R13             18395    3050.              LKREL DCTLOCK                 Free the lock
 USING  @LOCKS-72,R13
 002788 D203 D048 6004 00000 00004 18414             +
 00278E 58F0 A360/0DEF       02A78 18417             +
 002794 981F C008            00008 18419    3051.              PEND  ,
 DROP   DCT,R6
 DROP   RTTERM,R10
 002798 9680 C000/0B0E 00000       18434             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  155
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18444    3053.     *****************************************************************
                                   18445    3054.     *                                                               *
                                   18446    3055.     *   CPSET  --  This routine starts a CPU-time timer for the     *
                                   18447    3056.     *              calling task.  It allocates a new CPTQ and       *
                                   18448    3057.     *              queues it to the timer queue.                    *
                                   18449    3058.     *                                                               *
                                   18450    3059.     *   Input  --  @CPSET                                           *
                                   18451    3060.     *                                                               *
                                   18452    3061.     *  Output  --  RVR contains the timer ID                        *
                                   18453    3062.     *                                                               *
                                   18454    3063.     *****************************************************************
-00279E                            18456    3065.     CPSET    PROC  @CPSET,SCOPE=GLOBAL
 00279E C3D7E2C5E3404040           18462             +
 0027A6 0018/0000                  18463             +
 0027AA 900F D004/18AF       00004 18465             +
 USING  CPSET,R10
 0027B0 50D0 C000/18CD       00000 18480             +
 0027B6 9680 C000      00000       18482             +
 USING  @CPSET-72,R12
 0027BA 41D0 C060            00060 18496             +
                                   18497    3066.     *
                                   18498    3067.     * Get our bearings
                                   18499    3068.     *
 0027BE 5870 0324            000A4 18500    3069.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    18501    3070.              WITH  (ASDB,RY)
                                   18514    3071.     *
                                   18515    3072.     * Allocate a new CPTQ entry
                                   18516    3073.     *
 0027C2 AC04 0339      000B9       18517    3074.              DISABLE ,                     Eliminate the competition
 0027C6 5820 7074            00074 18519    3075.              L     RA,ASDBFCPQ             Get the first free one
 USING  CPTQ,R2                    18520    3076.              WITH  (CPTQ,RA)
 0027CA 1222/4770 A046       027F0 18533    3077.              IF    (RA,Z),BEGIN            No free ones
 0027D0 8000 0339      000B9       18547  1 3078.                ENABLE ,
 USING  @VMGET-72,R13              18549  1 3079.                VMGET L'CPTQ,LOC=LOCSYS,FIX=YES
 0027D4 D70A D048 D048 00000 00000 18573  1          +
 0027DA 4100 0020            00020 18585  1          +
 0027DE 5000 D048            00000 18590  1          +
 0027E2 D201 D050 A2FA 00008 02AA4 18591  1          +
 0027E8 58F0 A2EE/0DEF       02A98 18594  1          +
 0027EE 1820                       18596  1 3080.                LR    RA,RVR                  Copy the address
 0027F0 A04A           027F0 027CE 18597    3081.              END   ELSE,BEGIN
 0027F0 47F0 A054            027FE 18606             +
 0027F4 D203 7074 2004 00074 00004 18612  1 3082.                MVC   ASDBFCPQ,CPTQNEXT       Remove it from the list
 0027FA 8000 0339      000B9       18613  1 3083.                ENABLE ,                      Then enable again
 0027FE                            18615    3084.              END   ,
                                   18619    3085.     *
                                   18620    3086.     * Format the CPTQ
                                   18621    3087.     *
 0027FE                            18622    3088.              CLEAR CPTQ                    Make it all zero
 0027FE D71F 2000 2000 00000 00000 18628             +
 002804 D203 2000 A2F2 00000 02A9C 18629    3089.              MVC   CPTQ(4),=C'CPTQ'        Move in the ID
 00280A D203 2010 7038 00010 00038 18630    3090.              MVC   CPTQTDB,ASDBCTDB        And the current TDB
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  156
0Current Usings:  (PZERO,R0) (CPTQ,R2) (ASDB,R7) (CPSET,R10) (@CPSET-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002810 D203 2014 C050 00014 00008 18631    3091.              MVC   CPTQXID,@CPSXIT         User's Exit ID
 002816 D207 2018 C054 00018 0000C 18632    3092.              MVC   CPTQPARM(8),@CPSPARM    Move in the user exit parms
                                   18633    3093.     *
                                   18634    3094.     * Figure out what time this timer will expire
                                   18635    3095.     *
 00281C 58F0 A2F6/0DEF       02AA0 18636    3096.              ACALL ACPUTIME                Returns the value in F0
 002822 6E00 C048            00000 18643    3097.              AW    0,@CPSCLK               Get the ending time
 002826 6000 2008            00008 18644    3098.              STD   0,CPTQTOD               Save it in the Clock
                                   18645    3099.     *
                                   18646    3100.     * Now we have to add it to the timer queue
                                   18647    3101.     *
 00282A AC04 0339      000B9       18648    3102.              DISABLE ,                     We can't afford interrupts
 00282E 4140 7060            00060 18650    3103.              LA    RJ,ASDBCPTQ             Address of first pointer
 002832 5850 4000/1255       00000 18651    3104.              WHILE ('LT RK,@RJ',NZ),BEGIN  Insert loop
 002838 4780 A0A4            0284E 18664             +
 USING  Q.CPTQ,R5                  18669  1 3105.                WITH  (CPTQ,RK),LABEL=Q       Address it
 00283C                            18677  1 3106.                IF    (CPTQTOD,LT,Q.CPTQTOD),EXIT  Found the spot
 00283C D507 2008 5008 00008 00008 18689  1          +
 002842 4740 A0A4            0284E 18692  1          +
 002846 4140 5004            00004 18698  1 3107.                LA    RJ,Q.CPTQNEXT           Address of pointer to next
 00284A 47F0 A088            02832 18699    3108.              END   ,
 DROP   Q.CPTQ,R5
                                   18712    3109.     *
                                   18713    3110.     * We've found the insertion point, add it to the list
                                   18714    3111.     *
 00284E D203 2004 4000 00004 00000 18715    3112.              MVC   CPTQNEXT,@RJ            Point this at the rest
 002854 5020 4000            00000 18716    3113.              ST    RA,@RJ                  And add this to the list
                                   18717    3114.     *
                                   18718    3115.     * If this is the first, we update the time in the ASDB
                                   18719    3116.     *
 002858 5920 7060            00060 18720    3117.              IF    (RA,EQ,ASDBCPTQ),BEGIN  It is the first
 00285C 4770 A0BC            02866 18732             +
 002860 D207 7058 2008 00058 00008 18737  1 3118.                MVC   ASDBTIMR,CPTQTOD        Update the time
 002866                            18738    3119.              END   ,
 002866 8000 0339      000B9       18742    3120.              ENABLE ,                      Get our system mask back
 00286A 1802                       18744    3121.              LR    RVR,RA                  Return the timer ID
 00286C 981F C008            00008 18745    3122.              PEND  ,
 DROP   CPTQ,R2
 DROP   ASDB,R7
 DROP   @CPSET-72,R12
 DROP   CPSET,R10
 002870 9680 C000/0B0E 00000       18770             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  157
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18780    3124.     *****************************************************************
                                   18781    3125.     *                                                               *
                                   18782    3126.     *   CPCHK  --  This routine returns the time remaining on a     *
                                   18783    3127.     *              given CPU-time timer.                            *
                                   18784    3128.     *                                                               *
                                   18785    3129.     *   Input  --  @CPCNCK                                          *
                                   18786    3130.     *                                                               *
                                   18787    3131.     *  Output  --  RVR=0, Data is ok; RVR~=0, Bad ID passed.        *
                                   18788    3132.     *                                                               *
                                   18789    3133.     *****************************************************************
-002876                            18791    3135.     CPCHK    PROC  @CPCNCK,SCOPE=GLOBAL
 002876 C3D7C3C8D2404040           18797             +
 00287E 0020/0000                  18798             +
 002882 900F D004/18AF       00004 18800             +
 USING  CPCHK,R10
 002888 50D0 C000/18CD       00000 18815             +
 00288E 9680 C000      00000       18817             +
 USING  @CPCNCK-72,R12
 002892 41D0 C068            00068 18831             +
 AUSING (CPEXIT,@CPCPARM)          18832    3136.              WITH  (CPEXIT,@CPCPARM)
                                   18839    3137.     *
                                   18840    3138.     * Verify the identity of the CPTQ he is passing
                                   18841    3139.     *
 002896                            18842    3140.     CPCLK    BEGIN
 002896 58F0 A1FA/0DEF       02A7C 18847  1 3141.                ACALL ASLOCK                  Make sure no-one else grabs it
 00289C 4120 0004            00004 18854  1 3142.                LA    RA,4                    Default return code
 0028A0 5860 C048            00000 18855  1 3143.                L     RX,@CPCID               Get the ID of the timer
 USING  CPTQ,R6                    18856  1 3144.                WITH  (CPTQ,RX)
 0028A4                            18869  1 3145.                IF    (CPTQ,NE,'CPTQ'),EXIT   Not a timer ID
 0028A4 D503 A21A 6000 02A9C 00000 18880  1          +
 0028AA 4770 A066            028E8 18883  1          +
 0028AE                            18889  1 3146.                IF    (CPTQTDB,NE,PSATDB),EXIT Or our task
 0028AE D503 6010 0328 00010 000A8 18901  1          +
 0028B4 4770 A066            028E8 18904  1          +
                                   18910  1 3147.     *
                                   18911  1 3148.     * Get the time remaining
                                   18912  1 3149.     *
 0028B8 58F0 A21E/0DEF       02AA0 18913  1 3150.                ACALL ACPUTIME                Get the current time
 0028BE 6900 6008            00008 18920  1 3151.                CD    0,CPTQTOD               Compare the time
 0028C2 4750 A046            028C8 18921  1 3152.                IF    GE,BEGIN
 0028C6 2B00                       18932  2 3153.                  SDR   0,0                     No time left
 0028C8 A04A           028C8 028C4 18933  1 3154.                END   ELSE,BEGIN
 0028C8 47F0 A050            028D2 18942  1          +
 0028CC 6F00 6008            00008 18948  2 3155.                  SW    0,CPTQTOD               Get the difference
 0028D0 2300                       18949  2 3156.                  LCDR  0,0                     In positive terms
 0028D2                            18950  1 3157.                END   ,
 0028D2 6000 C050            00008 18954  1 3158.                STD   0,@CPCCLK
                                   18955  1 3159.     *
                                   18956  1 3160.     * Fill in the other parms
                                   18957  1 3161.     *
 0028D6 5060 C058            00000 18958  1 3162.                ST    RX,CPXTID               Save the timer ID
 0028DA D203 C05C 6014 00004 00014 18959  1 3163.                MVC   CPXXID,CPTQXID          Exit ID
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  158
0Current Usings:  (PZERO,R0) (CPTQ,R6) (CPCHK,R10) (@CPCNCK-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00028E0 D207 C060 6018 00008 00018 18960  1 3164.                MVC   CPXPARM(8),CPTQPARM     And the parms
 0028E6 1B22                       18961  1 3165.                CLEAR RA                      Signal good return
 DROP   CPTQ,R6                    18965    3166.              END   ,
 0028E8 58F0 A202/0DEF       02A84 18974    3167.              ACALL ASULOCK                 Free the lock
 0028EE 1802                       18981    3168.              LR    RVR,RA                  Copy the return code
 0028F0 981F C008            00008 18982    3169.              PEND  ,
 DROP   @CPCNCK-72,R12
 DROP   CPCHK,R10
 0028F4 9680 C000/0B0E 00000       18997             +
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  159
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19004    3171.     *****************************************************************
                                   19005    3172.     *                                                               *
                                   19006    3173.     *   CPCAN  --  This routine Cancels the timer and returns the   *
                                   19007    3174.     *              time remaining on it.                            *
                                   19008    3175.     *                                                               *
                                   19009    3176.     *   Input  --  @CPCNCK                                          *
                                   19010    3177.     *                                                               *
                                   19011    3178.     *  Output  --  RVR=0, Data is ok; RVR~=0, Bad ID passed.        *
                                   19012    3179.     *                                                               *
                                   19013    3180.     *****************************************************************
-0028FA                            19015    3182.     CPCAN    PROC  @CPCNCK,SCOPE=GLOBAL
 0028FA C3D7C3C1D5404040           19021             +
 002902 0020/0000                  19022             +
 002906 900F D004/18AF       00004 19024             +
 USING  CPCAN,R10
 00290C 50D0 C000/18CD       00000 19039             +
 002912 9680 C000      00000       19041             +
 USING  @CPCNCK-72,R12
 002916 41D0 C068            00068 19055             +
 AUSING (CPEXIT,@CPCPARM)          19056    3183.              WITH  (CPEXIT,@CPCPARM)       Map the parm area
                                   19063    3184.     *
                                   19064    3185.     * Get our bearings
                                   19065    3186.     *
 00291A 5870 0324            000A4 19066    3187.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    19067    3188.              WITH  (ASDB,RY)
 00291E 5840 C048            00000 19080    3189.              L     RJ,@CPCID               Get the CPTQ address (ID)
 USING  CPTQ,R4                    19081    3190.              WITH  (CPTQ,RJ)
                                   19094    3191.     *
                                   19095    3192.     * Check out the ID
                                   19096    3193.     *
 002922 AC04 0339      000B9       19097    3194.              DISABLE ,                     Turn off interrupts
 002926                            19099    3195.     CPCTLK   BEGIN
 002926 4190 0004            00004 19104  1 3196.                LA    RN,4                    Default return code
 00292A                            19105  1 3197.                IF    (CPTQ,NE,'CPTQ'),EXIT   Not a timer ID
 00292A D503 A196 4000 02A9C 00000 19116  1          +
 002930 4770 A06A            02970 19119  1          +
 002934                            19125  1 3198.                IF    (CPTQTDB,NE,ASDBCTDB),EXIT  Not our task
 002934 D503 4010 7038 00010 00038 19137  1          +
 00293A 4770 A06A            02970 19140  1          +
                                   19146  1 3199.     *
                                   19147  1 3200.     * Find it on the CP timer queue
                                   19148  1 3201.     *
 00293E 4110 7060            00060 19149  1 3202.                LA    RS,ASDBCPTQ             Address of the queue head
 002942 9500 1000      00000       19150  1 3203.                WHILE (@RS,NZ),BEGIN          Loop to the end of the queue
 002946 4780 A058            0295E 19163  1          +
 00294A 5940 1000            00000 19168  2 3204.                  IF    (RJ,EQ,@RS),EXIT        Found the pointer to ours
 00294E 4780 A058            0295E 19182  2          +
 002952 5810 1000            00000 19188  2 3205.                  L     RS,@RS                  Get the address of next in q
 002956 4110 1004            00004 19189  2 3206.                  WITH  (CPTQ,RS),'LA RS,CPTQNEXT'  And the addr of the ptr
 DROP   CPTQ,R4
 USING  CPTQ,R1
 USING  CPTQ,R4
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  160
0Current Usings:  (PZERO,R0) (CPTQ,R4) (ASDB,R7) (CPCAN,R10) (@CPCNCK-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   CPTQ,R1
 00295A 47F0 A03C            02942 19230  1 3207.                END   ,
 00295E                            19235  1 3208.                IF    (@RS,EQ,=A(0)),EXIT     Not found
 00295E D503 A182 1000 02A88 00000 19245  1          +
 002964 4780 A06A            02970 19248  1          +
                                   19254  1 3209.     *
                                   19255  1 3210.     * Remove it from the queue
                                   19256  1 3211.     *
 002968 D203 1000 4004 00000 00004 19257  1 3212.                MVC   @RS(4),CPTQNEXT         Remove this one from the list
 00296E 1B99                       19258  1 3213.                CLEAR RN                      Clear the return code
 002970                            19262    3214.              END   ,                       End of the locked area
 002970 8000 0339      000B9       19266    3215.              ENABLE ,                      And restore system flags
                                   19268    3216.
 002974 1299/4770 A0B8       029BE 19269    3217.              IF    (RN,Z),BEGIN            The ID is good, and removed
                                   19283  1 3218.     *
                                   19284  1 3219.     * Get the time remaining
                                   19285  1 3220.     *
 00297A 58F0 A19A/0DEF       02AA0 19286  1 3221.                ACALL ACPUTIME                Get the current time
 002980 6900 4008            00008 19293  1 3222.                CD    0,CPTQTOD               Expired already?
 002984 4750 A084            0298A 19294  1 3223.                IF    GE,BEGIN                Then no time left
 002988 2B00                       19305  2 3224.                  SDR   0,0
 00298A A088           0298A 02986 19306  1 3225.                END   ELSE,BEGIN
 00298A 47F0 A08E            02994 19315  1          +
 00298E 6F00 4008            00008 19321  2 3226.                  SW    0,CPTQTOD               Get the expiration time
 002992 2300                       19322  2 3227.                  LCDR  0,0                     In positive terms
 002994                            19323  1 3228.                END   ,
 002994 6000 C050            00008 19327  1 3229.                STD   0,@CPCCLK               Tell the caller how much
                                   19328  1 3230.     *
                                   19329  1 3231.     * Fill in the other parms
                                   19330  1 3232.     *
 002998 5040 C058            00000 19331  1 3233.                ST    RJ,CPXTID               Save the timer ID
 00299C D203 C05C 4014 00004 00014 19332  1 3234.                MVC   CPXXID,CPTQXID          Exit ID
 0029A2 D207 C060 4018 00008 00018 19333  1 3235.                MVC   CPXPARM(8),CPTQPARM     And the parms
                                   19334  1 3236.     *
                                   19335  1 3237.     * Now free the CPTQ
                                   19336  1 3238.     *
 0029A8 9298 4003      00003       19337  1 3239.                MVI   CPTQ+3,C'q'             Blitz the ID
 0029AC AC04 0339      000B9       19338  1 3240.                DISABLE ,                     Everything out
 0029B0 D203 4004 7074 00004 00074 19340  1 3241.                MVC   CPTQNEXT,ASDBFCPQ       Point this at the free list
 0029B6 5040 7074            00074 19341  1 3242.                ST    RJ,ASDBFCPQ             Point the queue at this one
 0029BA 8000 0339      000B9       19342  1 3243.                ENABLE ,
 0029BE                            19344    3244.              END   ,
 0029BE 1809                       19348    3245.              LR    RVR,RN                  Copy the return code
 0029C0 981F C008            00008 19349    3246.              PEND  ,
 DROP   CPTQ,R4
 DROP   ASDB,R7
 DROP   @CPCNCK-72,R12
 DROP   CPCAN,R10
 0029C4 9680 C000/0B0E 00000       19374             +
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  161
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19381    3248.     *****************************************************************
                                   19382    3249.     *                                                               *
                                   19383    3250.     * CPTIMER  --  This routine is called when some CPU timer has   *
                                   19384    3251.     *              expired and must be taken care of.  It also      *
                                   19385    3252.     *              updates the time of the next timer expiration.   *
                                   19386    3253.     *                                                               *
                                   19387    3254.     *   Input  --  none                                             *
                                   19388    3255.     *                                                               *
                                   19389    3256.     *  Output  --  none                                             *
                                   19390    3257.     *                                                               *
                                   19391    3258.     *****************************************************************
-0029CA                            19393    3260.     CPTIMER  PROC  SCOPE=LOCAL
 0029CA C3D7E3C9D4C5D940           19400             +
 0029D2 0000/0000                  19401             +
 0029D6 900F D004/18AF       00004 19403             +
 USING  CPTIMER,R10
 0029DC 50D0 C000/18CD       00000 19418             +
 0029E2 9680 C000      00000       19420             +
 0029E6 41D0 C048            00048 19421             +
                                   19422    3261.     *
                                   19423    3262.     * Get our bearings
                                   19424    3263.     *
 0029EA 5870 0324            000A4 19425    3264.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    19426    3265.              WITH  (ASDB,RY)
                                   19439    3266.     *
                                   19440    3267.     * Handle all the expired timers
                                   19441    3268.     *
 0029EE 5820 7060            00060 19442    3269.              L     RA,ASDBCPTQ             Get the first timer
 USING  CPTQ,R2                    19443    3270.              WITH  (CPTQ,RA)
 0029F2 1222/4780 A070       02A46 19456    3271.              WHILE (RA,NZ),BEGIN
 0029F8                            19472  1 3272.                IF    (ASDBTCPU,LT,CPTQTOD),EXIT        No more expired
 0029F8 D507 70B8 2008 000B8 00008 19484  1          +
 0029FE 4740 A070            02A46 19487  1          +
                                   19493  1 3273.     *
                                   19494  1 3274.     * The first in the list has expired, remove it and schedule the
                                   19495  1 3275.     * timer exit.
                                   19496  1 3276.     *
 002A02 D203 7060 2004 00060 00004 19497  1 3277.                MVC   ASDBCPTQ,CPTQNEXT       Remove it
 USING  @XITDO-72,R13              19498  1 3278.                PSET  @XITDO
 002A08 D71F D048 D048 00000 00000 19515  1          +
 002A0E D203 D048 2014 00000 00014 19516  1 3279.                MVC   @XITRQID,CPTQXID        ExitID
 002A14 D203 D04C 2010 00004 00010 19517  1 3280.                MVC   @XITTSK,CPTQTDB         Task ID
 002A1A 9203 D050      00008       19518  1 3281.                MVI   @XITTYPE,XITTCTC        CPU timer
 AUSING (CPEXIT,@XITPARM)          19519  1 3282.                WITH  (CPEXIT,@XITPARM)
 002A1E 5020 D058            00000 19526  1 3283.                ST    RA,CPXTID               Save the timer ID
 002A22 D203 D05C 2014 00004 00014 19527  1 3284.                MVC   CPXXID,CPTQXID          The exit id
 002A28 D207 D060 2018 00008 00018 19528  1 3285.                MVC   CPXPARM(8),CPTQPARM     And the parms
 002A2E 58F0 A0BE/0DEF       02A94 19529  1 3286.                ACALL XITDO                   Schedule the exit
                                   19536  1 3287.     *
                                   19537  1 3288.     * Put the CPTQ on the free list
                                   19538  1 3289.     *
 002A34 D203 2004 7074 00004 00074 19539  1 3290.                MVC   CPTQNEXT,ASDBFCPQ       Point this at the list
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  162
0Current Usings:  (PZERO,R0) (CPTQ,R2) (ASDB,R7) (CPTIMER,R10) (@XITDO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002A3A 5020 7074            00074 19540  1 3291.                ST    RA,ASDBFCPQ             And the list at this one
 002A3E 5820 7060            00060 19541  1 3292.                L     RA,ASDBCPTQ             Get first in list again
 002A42 47F0 A01C            029F2 19542    3293.              END   ,                       And keep looking
                                   19547    3294.     *
                                   19548    3295.     * There are no more expired timers
                                   19549    3296.     *
 002A46 1222/4770 A07C       02A52 19550    3297.              IF    (RA,Z),BEGIN
 002A4C D207 7058 A0D0 00058 02AA6 19564  1 3298.                MVC   ASDBTIMR,=X'00FFFFFFFFFFFFFFFF'   No active timers
 002A52 A080           02A52 02A4A 19565    3299.              END   ELSE,BEGIN
 002A52 47F0 A086            02A5C 19574             +
 002A56 D207 7058 2008 00058 00008 19580  1 3300.                MVC   ASDBTIMR,CPTQTOD        Next wakeup time
 002A5C                            19581    3301.              END   ,
 002A5C 981F C008            00008 19585    3302.              PEND  ,
 DROP   CPTQ,R2
 DROP   ASDB,R7
 DROP   CPTIMER,R10
 002A60 9680 C000/0B0E 00000       19605             +
 DROP   @XITDO-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Timer Management                                                                       Page  163
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002A68                            19615    3304.              LTORG ,
 002A68 00003AF0                   19617                             =A(NEWRTCQ)
 002A6C 0000520A                   19618                             =A(SYSRNEW)
 002A70 00000001                   19619                             =A(1)
 002A74 00000000                   19620                             =V(LKOB)
 002A78 00000000                   19621                             =V(LKREL)
 002A7C 0000087E                   19622                             =A(ASLOCK)
 002A80 D9E3C3D8                   19623                             =C'RTCQ'
 002A84 000008F8                   19624                             =A(ASULOCK)
 002A88 00000000                   19625                             =A(0)
 002A8C 00005284                   19626                             =A(SYSRDEL)
 002A90 00003BA0                   19627                             =A(DELRTCQ)
 002A94 000045EA                   19628                             =A(XITDO)
 002A98 00000000                   19629                             =V(VMGET)
 002A9C C3D7E3D8                   19630                             =C'CPTQ'
 002AA0 00005672                   19631                             =A(ACPUTIME)
 002AA4 1F00                       19632                             =Y(31*256+0)
 002AA6 00FFFFFFFFFFFFFF           19633                             =X'00FFFFFFFFFFFFFFFF'
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  164
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19638    3306.     *****************************************************************
                                   19639    3307.     *                                                               *
                                   19640    3308.     * ACREATE  --  This routine creates a new address space.  It    *
                                   19641    3309.     *              does all the creation that can be done under     *
                                   19642    3310.     *              another task.  The creation will continue under  *
                                   19643    3311.     *              the control of the ASDB created here.  It        *
                                   19644    3312.     *              returns the address of the ASB created.          *
                                   19645    3313.     *                                                               *
                                   19646    3314.     *   Input  --  @ACREATE                                         *
                                   19647    3315.     *                                                               *
                                   19648    3316.     *  Output  --  RVR contains the address of the ASB created      *
                                   19649    3317.     *                                                               *
                                   19650    3318.     *****************************************************************
-002AB0                            19652    3320.     ACREATE  PROC  @ACREATE,SCOPE=GLOBAL
 002AB0 C1C3D9C5C1E3C540           19658             +
 002AB8 0008/0000                  19659             +
 002ABC 900F D004/18AF       00004 19661             +
 USING  ACREATE,R10
 002AC2 50D0 C000/18CD       00000 19676             +
 002AC8 9680 C000      00000       19678             +
 USING  @ACREATE-72,R12
 002ACC 41D0 C050            00050 19692             +
                                   19693    3321.     *
                                   19694    3322.     * Get the DCT pointer.  Use the MAT in case the PSA is not set up yet.
                                   19695    3323.     *
 002AD0 5890 0200            00200 19696    3324.              L     RN,PZMATP               Get the MAT pointer
 002AD4 5890 9008            00008 19697    3325.              WITH  (MAT,RN),'L RN,MATDCT'  Get the pointer
 USING  MAT,R9
 DROP   MAT,R9
 USING  DCT,R9                     19721    3326.              WITH  (DCT,RN)                Address it
                                   19734    3327.     *
                                   19735    3328.     * Allocate an ASB
                                   19736    3329.     *
 002AD8 58F0 AB84/0DEF       03640 19737    3330.              ACALL NEWASB                  Get a new one
 002ADE 1880                       19744    3331.              LR    RM,RVR                  ASB address
 USING  ASB,R8                     19745    3332.              WITH  (ASB,RM)
                                   19758    3333.     *
                                   19759    3334.     * Call the 1st part of the Paging supervisor initialization
                                   19760    3335.     *
 USING  @PAGASC1-72,R13            19761    3336.              PSET  @PAGASC1
 002AE0 D707 D048 D048 00000 00000 19778             +
 002AE6 5080 D048            00000 19779    3337.              ST    RM,@ASCASB              Save the ASB address
 002AEA D203 D04C 9014 00004 00014 19780    3338.              MVC   @ASCWSLM,DCTWSLM        Working set maximum
 002AF0 58F0 AB88/0DEF       03644 19781    3339.              VCALL PAGASC1
                                   19785    3340.     *
                                   19786    3341.     *  Global init for address space
                                   19787    3342.     *
 002AF6 58F0 AB8C/0DEF       03648 19788    3343.              VCALL ASMGBLIN
                                   19792    3344.     *
                                   19793    3345.     * Allocate an ASDB
                                   19794    3346.     *
 002AFC 58F0 AB90/0DEF       0364C 19795    3347.              ACALL NEWASDB                 Get an ASDB
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  165
0Current Usings:  (PZERO,R0) (ASB,R8) (DCT,R9) (ACREATE,R10) (@ACREATE-72,R12) (@PAGASC1-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002B02 1870                       19802    3348.              LR    RY,RVR                  ASDB address
 USING  ASDB,R7                    19803    3349.              WITH  (ASDB,RY)
 002B04 5080 7004            00004 19816    3350.              ST    RM,ASDBASB              ASB address
 002B08 5070 801C            0001C 19817    3351.              ST    RY,ASBASDB              ASDB address in the ASB
                                   19818    3352.     *
                                   19819    3353.     * Set up the priority
                                   19820    3354.     *
 002B0C D201 701E AC30 0001E 036EC 19821    3355.              MVC   ASDBHPRI,=Y(MAXPRIO)    Top it out at the max
 002B12 D201 701C AC30 0001C 036EC 19822    3356.              MVC   ASDBTPRI,=Y(MAXPRIO)    Time slice is highest
 002B18 D201 7022 AC30 00022 036EC 19823    3357.              MVC   ASDBSPRI,=Y(MAXPRIO)    Current priority is highest
                                   19824    3358.     *
                                   19825    3359.     * Timing information
                                   19826    3360.     *
 002B1E D207 70A0 9138 000A0 00138 19827    3361.              MVC   ASDBCCPT,DCTSLICE+8*MAXPRIO       Slice timer
 002B24 D207 70A8 70A0 000A8 000A0 19828    3362.              MVC   ASDBSCPU,ASDBCCPT       Starting timer
 002B2A D207 70B0 70A0 000B0 000A0 19829    3363.              MVC   ASDBSLC,ASDBCCPT        Slice end cpu time
 002B30 D207 7078 9018 00078 00018 19830    3364.              MVC   ASDBWSIN,DCTWSIN        Working set interval
 002B36 D207 7088 7078 00088 00078 19831    3365.              MVC   ASDBWSNC,ASDBWSIN       CPU time at next WS call
 002B3C D207 7058 AB7C 00058 03638 19832    3366.              MVC   ASDBTIMR,=X'00FFFFFFFFFFFFFF' Time for the CPU timer
                                   19833    3367.     *
                                   19834    3368.     * Other global dispatching things
                                   19835    3369.     *
 002B42 D203 7094 9014 00094 00014 19836    3370.              MVC   ASDBWSLM,DCTWSLM        Maximum size of the working set
 002B48 D203 7098 AB94 00098 03650 19837    3371.              MVC   ASDBSHCT,=A(2)          Two swap holds (ignore ts)
 002B4E D203 7030 AB98 00030 03654 19838    3372.              MVC   ASDBLOCK,=A(1)          Shut out competition
                                   19839    3373.     *
                                   19840    3374.     * Set up a TDB to run in the Address space
                                   19841    3375.     *
 002B54 58F0 AB9C/0DEF       03658 19842    3376.              ACALL NEWGTDB                 Get new global TDB
 002B5A 1860                       19849    3377.              LR    RX,RVR                  Copy the address
 USING  TDB,R6                     19850    3378.              WITH  (TDB,RX)
                                   19863    3379.     *
                                   19864    3380.     * Reflect this new TDB
                                   19865    3381.     *
 002B5C 5060 7038            00038 19866    3382.              ST    RX,ASDBCTDB             It is the current one
 002B60 D201 704C AC32 0004C 036EE 19867    3383.              MVC   ASDBNTDB,=Y(1)          Count it as in there
 002B66 9640 6018      00018       19868    3384.              SET   TDBFACT                 And mark it as active
                                   19874    3385.     *
                                   19875    3386.     * Fill in some of the TDB fields
                                   19876    3387.     *
 002B6A 5070 6004            00004 19877    3388.              ST    RY,TDBASDB              Pointer to the ASDB
 002B6E 9680 6018      00018       19878    3389.              SET   TDBFGLOB                Just so we know it's global
 002B72 D203 6040 ABA0 00040 0365C 19884    3390.              MVC   TDBPSW(4),=X'070C0000'  High part of the PSW
 002B78 D203 6044 ABA4 00044 03660 19885    3391.              MVC   TDBPSW+4(4),=A(X'80000000'+ASCRE2)
 002B7E D207 60D0 AB7C 000D0 03638 19886    3392.              MVC   TDBTCLK,=X'00FFFFFFFFFFFFFF'      Task timeout
                                   19887    3393.     *
                                   19888    3394.     * Get a stack for it
                                   19889    3395.     *
 002B84 58F0 ABA8/0DEF       03664 19890    3396.              ACALL GGSTK                   Get a global stack
 002B8A 1820                       19897    3397.              LR    RA,RVR                  Copy the address
 002B8C 5020 6014            00014 19898    3398.              ST    RA,TDBSTACK             Save the stack location
 002B90 5020 6078            00078 19899    3399.              ST    RA,TDBGPRS+4*WAR        Put it in his Regs too
 002B94 4120 2008            00008 19900    3400.              LA    RA,@RA+8                Get to a double word
 002B98 5020 607C            0007C 19901    3401.              ST    RA,TDBGPRS+4*SPR        Set up his stack pointer
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  166
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ASB,R8) (DCT,R9) (ACREATE,R10) (@ACREATE-72,R12) (@PAGASC1-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002B9C D203 6084 6044 00084 00044 19902    3402.              MVC   TDBGPRS+4*EPAR(4),TDBPSW+4        Entry point address
 002BA2 D207 2048 C048 00048 00000 19903    3403.              MVC   @RA+72(L'@ACREATE),@ACREATE       Move parms in
                                   19904    3404.     *
                                   19905    3405.     * Now the ASDB needs to be added to the system
                                   19906    3406.     *
 002BA8 5820 9004/1222       00004 19907    3407.              LT    RA,DCTLOCK              Get the lock pointer
 002BAE 4780 A12E            02BEA 19911    3408.              IF    NZ,BEGIN                We have a lock pointer
 002BB2 AC04 0339      000B9       19922  1 3409.                DISABLE ,
 002BB6 5020 D048            00000 19924  1 3410.                LKOB  (RA)                    Get the chain locks
 DROP   @PAGASC1-72,R13
 USING  @LOCKS-72,R13
 002BBA 58F0 ABAC/0DEF       03668 19951  1          +
 002BC0 D203 7008 900C 00008 0000C 19953  1 3411.                MVC   ASDBCHN,DCTASDBS        Point this at the list
 002BC6 5070 900C            0000C 19954  1 3412.                ST    RY,DCTASDBS             Make the header point here
 002BCA 4100 9058            00058 19955  1 3413.                PQADD DCTACTIV,(RY)           Queue it up (no preempt)
 DROP   @LOCKS-72,R13
 USING  PQPARM-72,R13
 002BCE 5000 D04C            00004 19987  1          +
 002BD2 5070 D048            00000 19997  1          +
 002BD6 58F0 ABB0/0DEF       0366C 20003  1          +
 002BDC 5020 D048            00000 20005  1 3414.                LKREL (RA)                    Free the lock
 DROP   PQPARM-72,R13
 USING  @LOCKS-72,R13
 002BE0 58F0 ABB4/0DEF       03670 20032  1          +
 002BE6 8000 0339      000B9       20034  1 3415.                ENABLE ,
 002BEA A132           02BEA 02BB0 20036    3416.              END   ELSE,BEGIN              Initialization
 002BEA 47F0 A14E            02C0A 20045             +
 002BEE D203 7008 900C 00008 0000C 20051  1 3417.                MVC   ASDBCHN,DCTASDBS        Point this at the list
 002BF4 5070 900C            0000C 20052  1 3418.                ST    RY,DCTASDBS             Make the header point here
 002BF8 4100 9058            00058 20053  1 3419.                PQADD DCTACTIV,(RY)           Queue it up (no preempt)
 DROP   @LOCKS-72,R13
 USING  PQPARM-72,R13
 002BFC 5000 D04C            00004 20085  1          +
 002C00 5070 D048            00000 20095  1          +
 002C04 58F0 ABB0/0DEF       0366C 20101  1          +
 002C0A                            20103    3420.              END   ,
                                   20107    3421.     *
                                   20108    3422.     * Return the ASB pointer to the caller
                                   20109    3423.     *
 002C0A 1808                       20110    3424.              LR    RVR,RM                  Copy it in
 002C0C 981F C008            00008 20111    3425.              PEND  ,                       Return to the caller
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   ASB,R8
 DROP   DCT,R9
 DROP   @ACREATE-72,R12
 DROP   ACREATE,R10
 002C10 9680 C000/0B0E 00000       20146             +
 DROP   PQPARM-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  167
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  20156    3427.     *****************************************************************
                                   20157    3428.     *                                                               *
                                   20158    3429.     *  ASCRE2  --  This routine picks up where ACREATE leaves off.  *
                                   20159    3430.     *              It is run under the local ASDB, but the TDB and  *
                                   20160    3431.     *              stack are still global.  It converts those to    *
                                   20161    3432.     *              local and creates the main task of the address   *
                                   20162    3433.     *              space.                                           *
                                   20163    3434.     *                                                               *
                                   20164    3435.     *   Input  --  @ACREATE                                         *
                                   20165    3436.     *                                                               *
                                   20166    3437.     *  Output  --  none                                             *
                                   20167    3438.     *                                                               *
                                   20168    3439.     *****************************************************************
-002C16                            20170    3441.     ASCRE2   PROC  @ACREATE,SCOPE=LOCAL
 002C16 C1E2C3D9C5F24040           20177             +
 002C1E 0008/0000                  20178             +
 002C22 900F D004/18AF       00004 20180             +
 USING  ASCRE2,R10
 002C28 50D0 C000/18CD       00000 20195             +
 002C2E 9680 C000      00000       20197             +
 USING  @ACREATE-72,R12
 002C32 41D0 C050            00050 20211             +
                                   20212    3442.     *
                                   20213    3443.     * First get our bearings
                                   20214    3444.     *
 002C36 5870 0324            000A4 20215    3445.              L     RY,PSAASDB              Get the ASDB pointer
 USING  ASDB,R7                    20216    3446.              WITH  (ASDB,RY)
 002C3A 5860 7038            00038 20229    3447.              L     RX,ASDBCTDB             Get the global TDB
 USING  TDB,R6                     20230    3448.              WITH  (TDB,RX)
                                   20243    3449.     *
                                   20244    3450.     * Create the new address space
                                   20245    3451.     *
 USING  @VMCRAS-72,R13             20246    3452.              PSET  @VMCRAS
 002C3E D703 D048 D048 00000 00000 20263             +
 002C44 D203 D048 7004 00000 00004 20264    3453.              MVC   @VMCASB,ASDBASB         Pass the ASB address
 002C4A 58F0 AA52/0DEF       03674 20265    3454.              VCALL VMCRAS1                 Create the address space
                                   20269    3455.     *
                                   20270    3456.     * Replace the global TDB with a local one
                                   20271    3457.     *
 DROP   @VMCRAS-72,R13             20272    3458.              VMGET L'TDB,LOC=LOCSYS,FIX=YES
 USING  @VMGET-72,R13
 002C50 D70A D048 D048 00000 00000 20299             +
 002C56 4100 00E0            000E0 20311             +
 002C5A 5000 D048            00000 20316             +
 002C5E D201 D050 AACE 00008 036F0 20317             +
 002C64 58F0 AA56/0DEF       03678 20320             +
 002C6A 1250                       20322    3459.              LTR   RK,RVR                  Copy the address
 002C6C 4720 A07E            02CA0 20323    3460.              IF    NP,'ABORT NO-TMEM'
 002C70 AC04 021B      0021B       20338  1          +
 002C74 9680 021A      0021A       20344  1          +
 002C78 50F0 021C            0021C 20345  1          +
 002C7C 58F0 0210            00210 20346  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  168
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ASCRE2,R10) (@ACREATE-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002C80 89F0 0010            00010 20347  1          +
 002C84 88F0 0010            00010 20348  1          +
 002C88 41F0 F000            00000 20349  1          +
 002C8C AEFF 0006            00006 20350  1          +
 002C90 D5D660E3D4C5D440           20351             +
 002CA0 D2DF 5000 6000 00000 00000 20356    3461.              MVC   @RK(L'TDB),TDB          Copy the TDB info
 002CA6 AC04 0339      000B9       20357    3462.              DISABLE ,
 002CAA 5050 7038            00038 20359    3463.              ST    RK,ASDBCTDB             Make this the current one
 002CAE 5050 0328            000A8 20360    3464.              ST    RK,PSATDB               Here too
 002CB2 5050 020C            0020C 20361    3465.              ST    RK,PZCURTSK             Here too
 002CB6 5050 7040            00040 20362    3466.              ST    RK,ASDBTDBS             And finally here
 002CBA 8000 0339      000B9       20363    3467.              ENABLE ,
 DROP   TDB,R6                     20365    3468.              WITH  (TDB,RK)                Use the new one now
 USING  TDB,R5
 002CBE 947F 5018      00018       20386    3469.              CLEAR TDBFGLOB                It is not global either
                                   20393    3470.     *
                                   20394    3471.     * Get a stack for the address space
                                   20395    3472.     *
 002CC2 58F0 AA5A/0DEF       0367C 20396    3473.              ACALL STKNEW                  Get a stack
 002CC8 5000 7034            00034 20403    3474.              ST    RVR,ASDBSTK             ASDB stack
                                   20404    3475.     *
                                   20405    3476.     * Call initialization routines for other task based functions
                                   20406    3477.     *
 002CCC 58F0 AA5E/0DEF       03680 20407    3478.              VCALL ASMLCLIN
                                   20411    3479.     *
                                   20412    3480.     * Create the main task for the address space
                                   20413    3481.     *
 DROP   @VMGET-72,R13              20414    3482.              PSET  @TCREATE
 USING  @TCREATE-72,R13
 002CD2 D714 D048 D048 00000 00000 20434             +
 002CD8 D203 D048 AA3A 00000 0365C 20435    3483.              MVC   @TCRPSW(4),=X'070C0000' The PSW
 002CDE D203 D04C AA62 00004 03684 20436    3484.              MVC   @TCRPSW+4(4),=V(ASMTASK)  starting in master task
 002CE4 9680 D04C      00004       20437    3485.              OI    @TCRPSW+4,X'80'             with 31 bit amode
 002CE8 D207 D050 C048 00008 00000 20438    3486.              MVC   @TCRPARM(8),@ACRPSW     Parm is PSW for next task
 002CEE 9680 D05C      00014       20439    3487.              SET   @TCRFSTK                Make it with a stack
 002CF2 D203 D058 AA66 00010 03688 20445    3488.              MVC   @TCRPRIO,=A(100)        Set task priority
 002CF8 9640 D05C      00014       20446    3489.              SET   @TCRFPABS                 it's absolute
 002CFC 58F0 AA6A/0DEF       0368C 20452    3490.              ACALL TCREATE                 Create the main task
                                   20459    3491.     *
                                   20460    3492.     * Switch stacks
                                   20461    3493.     *
 002D02 58C0 7034            00034 20462    3494.              L     WAR,ASDBSTK             Use the address space stack
 002D06 41D0 C008            00008 20463    3495.              LA    SPR,8(,WAR)             Stack top pointer
                                   20464    3496.     *
                                   20465    3497.     * Free the global storage
                                   20466    3498.     *
 DROP   @TCREATE-72,R13            20467    3499.              PSET  @GCBDEL
 USING  @GCBDEL-72,R13
 002D0A D703 D048 D048 00000 00000 20487             +
 002D10 D203 D048 5014 00000 00014 20488    3500.              MVC   @GCBDLOC,TDBSTACK
 002D16 58F0 AA6E/0DEF       03690 20489    3501.              ACALL FGSTK                   Free the global stack
 002D1C                            20496    3502.              CLEAR TDBSTACK                This stack not there now
 002D1C D703 5014 5014 00014 00014 20502             +
 002D22 5060 D048            00000 20503    3503.              ST    RX,@GCBDLOC             Location of the TDB
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  169
0Current Usings:  (PZERO,R0) (TDB,R5) (ASDB,R7) (ASCRE2,R10) (@ACREATE-72,R12) (@GCBDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002D26 58F0 AA72/0DEF       03694 20504    3504.              ACALL DELGTDB                 Free the Global TDB
                                   20511    3505.     *
                                   20512    3506.     * This address space is all started up now, we add its ASB to the
                                   20513    3507.     * global chain.
                                   20514    3508.     *
 002D2C 5830 7004            00004 20515    3509.              L     RB,ASDBASB              Get the ASB pointer
 USING  ASB,R3                     20516    3510.              WITH  (ASB,RB),BEGIN
 002D30 5820 0200            00200 20530  1 3511.                L     RA,PZMATP               Get the MAT pointer
 USING  MAT,R2                     20531  1 3512.                WITH  (MAT,RA)
 002D34 5810 20B0/1211       000B0 20544  1 3513.                LT    RS,MATASBL              Get the lock id
 002D3A 4780 A126            02D48 20548  1 3514.                IF    NZ,'LKOB (RS)'          Get the lock
 DROP   @GCBDEL-72,R13
 USING  @LOCKS-72,R13
 002D3E 5010 D048            00000 20584  2          +
 002D42 58F0 AA46/0DEF       03668 20587  1          +
 002D48 D203 3004 20AC 00004 000AC 20593  1 3515.                MVC   ASBNEXT,MATASBS         Point this at chain
 002D4E 5030 20AC            000AC 20594  1 3516.                ST    RB,MATASBS              And the chain at this one
 002D52 1211/4780 A140       02D62 20595  1 3517.                IF    (RS,NZ),'LKREL (RS)'    Free the lock
 002D58 5010 D048            00000 20624  2          +
 002D5C 58F0 AA4E/0DEF       03670 20627  1          +
 DROP   MAT,R2                     20633    3518.              END   ,
 DROP   ASB,R3
                                   20646    3519.     *
                                   20647    3520.     * Remove the swap hold
                                   20648    3521.     *
 002D62 5820 7098            00098 20649    3522.              L     RA,ASDBSHCT             Get the swap hold count
 002D66                            20650    3523.              LOOP  BEGIN
 002D66 1812                       20656  1 3524.                LR    RS,RA                   Copy the count value
 002D68 4B10 AACC            036EE 20657  1 3525.                SH    RS,=Y(1)                Decrement the count
 002D6C 47B0 A17E            02DA0 20658  1 3526.                IF    NEG,'ABORT SWAPHREL'    Not too far though
 002D70 AC04 021B      0021B       20673  2          +
 002D74 9680 021A      0021A       20679  2          +
 002D78 50F0 021C            0021C 20680  2          +
 002D7C 58F0 0210            00210 20681  2          +
 002D80 89F0 0010            00010 20682  2          +
 002D84 88F0 0010            00010 20683  2          +
 002D88 41F0 F000            00000 20684  2          +
 002D8C AEFF 0006            00006 20685  2          +
 002D90 E2E6C1D7C8D9C5D3           20686  1          +
 002DA0 BA21 7098            00098 20691  1 3527.                CS    RA,RS,ASDBSHCT          Update the count
 002DA4 4770 A144            02D66 20692    3528.              UNTIL Z,END                   Release one swap hold
                                   20711    3529.     *
                                   20712    3530.     * Then exit from this task
                                   20713    3531.     *
 002DA8 58F0 AA76/0DEF       03698 20714    3532.              ACALL TEXIT                   Finished (Frees local lock)
 002DAE 981F C008            00008 20721    3533.              PEND
 USING  TDB,R6
 DROP   TDB,R5
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @ACREATE-72,R12
 DROP   ASCRE2,R10
 002DB2 9680 C000/0B0E 00000       20760             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  170
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  20770    3535.     *****************************************************************
                                   20771    3536.     *                                                               *
                                   20772    3537.     *  ASEXIT  --  This routine is called when an address space     *
                                   20773    3538.     *              wishes to terminate.  It cleans up related       *
                                   20774    3539.     *              control blocks and causes the address space to   *
                                   20775    3540.     *              end.                                             *
                                   20776    3541.     *                                                               *
                                   20777    3542.     *   Input  --  none                                             *
                                   20778    3543.     *                                                               *
                                   20779    3544.     *  Output  --  none                                             *
                                   20780    3545.     *                                                               *
                                   20781    3546.     *****************************************************************
-002DB8                            20783    3548.     ASEXIT   PROC  SCOPE=GLOBAL
 002DB8 C1E2C5E7C9E34040           20789             +
 002DC0 0000/0000                  20790             +
 002DC4 900F D004/18AF       00004 20792             +
 USING  ASEXIT,R10
 002DCA 50D0 C000/18CD       00000 20807             +
 002DD0 9680 C000      00000       20809             +
 002DD4 41D0 C048            00048 20810             +
                                   20811    3549.     *
                                   20812    3550.     * First get our bearings
                                   20813    3551.     *
 002DD8 5870 0324            000A4 20814    3552.              L     RY,PSAASDB              Get the ASDB pointer
 USING  ASDB,R7                    20815    3553.              WITH  (ASDB,RY)
 002DDC 5860 7038            00038 20828    3554.              L     RX,ASDBCTDB             Get the TDB address
 USING  TDB,R6                     20829    3555.              WITH  (TDB,RX)
 002DE0 5890 7004            00004 20842    3556.              L     RN,ASDBASB              Current ASB
 USING  ASB,R9                     20843    3557.              WITH  (ASB,RN)
 002DE4 9967 A934            036F8 20856    3558.              XTRC  RX,RY,ASEXIT            Trace the call
 0036F7 00/000036F8                       1          +
 0036FC 00000071/0607              20865  1          +
 003702 C1E2C5E7C9E34040           20867             +
                                   20874    3559.     *
                                   20875    3560.     * Mark us as going away
                                   20876    3561.     *
 002DE8 4110 0078            00078 20877    3562.              LA    RS,120                  Loop count, two minutes total
 002DEC                            20878    3563.              LOOP  BEGIN
 002DEC                            20884  1 3564.                IF    (ASDBNTDB,EQ,1),EXIT
 002DEC D501 A92E 704C 036F2 0004C 20896  1          +
 002DF2 4780 A040            02E04 20899  1          +
 002DF6 4100 000A            0000A 20905  1 3565.                LA    R0,10                   10 * 0.1 = 1 second
 002DFA 58F0 A8D8/0DEF       0369C 20906  1 3566.                VCALL M1GOWAIT                Wait for outstanding tasks
 002E00 4610 A028            02DEC 20910    3567.              UNTIL (BCT,RS),END
 002E04                            20920    3568.              IF    (ASDBNTDB,NE,1),'ABORT NOTALONE'
 002E04 D501 A92E 704C 036F2 0004C 20932             +
 002E0A 4780 A07A            02E3E 20933             +
 002E0E AC04 021B      0021B       20942  1          +
 002E12 9680 021A      0021A       20948  1          +
 002E16 50F0 021C            0021C 20949  1          +
 002E1A 58F0 0210            00210 20950  1          +
 002E1E 89F0 0010            00010 20951  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  171
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ASB,R9) (ASEXIT,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002E22 88F0 0010            00010 20952  1          +
 002E26 41F0 F000            00000 20953  1          +
 002E2A AEFF 0006            00006 20954  1          +
 002E2E D5D6E3C1D3D6D5C5           20955             +
 002E3E 9620 7024      00024       20960    3569.              SET   ASDBTERM                Set the flag
 002E42                            20966    3570.              CLEAR TDBEMASK                Don't take any exits
 002E42 D703 60A8 60A8 000A8 000A8 20972             +
 002E48 58F0 A8DC/0DEF       036A0 20973    3571.              VCALL PAGAST1                 Setup for freeing the AS
 002E4E 58F0 A8E0/0DEF       036A4 20977    3572.              ACALL DISPSHLD                Don't swap us out
 002E54 D207 7058 A874 00058 03638 20984    3573.              MVC   ASDBTIMR,=X'00FFFFFFFFFFFFFF' Ignore user CPU timer
 002E5A D207 70B0 A874 000B0 03638 20985    3574.              MVC   ASDBSLC,=X'00FFFFFFFFFFFFFF'  Bypass slice timer
                                   20986    3575.     *
                                   20987    3576.     * Get us onto a global stack
                                   20988    3577.     *
 002E60 58F0 A8A0/0DEF       03664 20989    3578.              ACALL GGSTK                   Get a global stack
 002E66 18C0                       20996    3579.              LR    WAR,RVR                 Copy the address
 002E68 41D0 C008            00008 20997    3580.              LA    SPR,@WAR+8              Setup the stack
                                   20998    3581.     *
                                   20999    3582.     * And a global TDB
                                   21000    3583.     *
 002E6C 58F0 A894/0DEF       03658 21001    3584.              ACALL NEWGTDB                 Get a new one
 002E72 1820                       21008    3585.              LR    RA,RVR                  Copy the address
 002E74 AC04 0339      000B9       21009    3586.              DISABLE ,                     Disable for just a second
 002E78 D2DF 2000 6000 00000 00000 21011    3587.              MVC   @RA(L'TDB),TDB          Make a copy the TDB
 002E7E 1862                       21012    3588.              LR    RX,RA                   Make it ours
 002E80 9680 6018      00018       21013    3589.              SET   TDBFGLOB                Mark it global
 002E84 5060 7040            00040 21019    3590.              ST    RX,ASDBTDBS             List of all
 002E88 5060 7038            00038 21020    3591.              ST    RX,ASDBCTDB             And it is current
 002E8C 5060 020C            0020C 21021    3592.              ST    RX,PZCURTSK             And there too
 002E90 5060 0328            000A8 21022    3593.              ST    RX,PSATDB               And there
 002E94 8000 0339      000B9       21023    3594.              ENABLE ,
                                   21025    3595.     *
                                   21026    3596.     * De-Queue the ASB
                                   21027    3597.     *
 002E98 5880 0200            00200 21028    3598.              L     RM,PZMATP               Get the MAT pointer
 USING  MAT,R8                     21029    3599.              WITH  (MAT,RM),BEGIN
 USING  @LOCKS-72,R13              21043  1 3600.                LKOB  MATASBL                 Get the lock
 002E9C D203 D048 80B0 00000 000B0 21059  1          +
 002EA2 58F0 A8A4/0DEF       03668 21062  1          +
                                   21064  1 3601.     *
                                   21065  1 3602.     * Find where this ASB is on the queue
                                   21066  1 3603.     *
 002EA8 4120 80AC            000AC 21067  1 3604.                LA    RA,MATASBS              Address of first pointer
 USING  S.ASB,R3                   21068  1 3605.                WITH  (ASB,RB),LABEL=S
 002EAC 5830 2000/1233       00000 21076  1 3606.                WHILE ('LT RB,@RA',NZ),BEGIN  Get next ASB address
 002EB2 4780 A100            02EC4 21089  1          +
 002EB6 1939/4780 A100       02EC4 21094  2 3607.                  IF    (RB,EQ,RN),EXIT         Same as ours: found it
 002EBC 4120 3004            00004 21112  2 3608.                  LA    RA,S.ASBNEXT            Address of next pointer
 002EC0 47F0 A0E8            02EAC 21113  1 3609.                END   ,
                                   21118  1 3610.     *
                                   21119  1 3611.     * We have the spot, Remove the ASB
                                   21120  1 3612.     *
 002EC4 1233/4770 A136       02EFA 21121  1 3613.                IF    (RB,Z),'ABORT ASBDEQ'   What?!! Not on the list
 002ECA AC04 021B      0021B       21139  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  172
0Current Usings:  (PZERO,R0) (S.ASB,R3) (TDB,R6) (ASDB,R7) (MAT,R8) (ASB,R9) (ASEXIT,R10) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002ECE 9680 021A      0021A       21145  2          +
 002ED2 50F0 021C            0021C 21146  2          +
 002ED6 58F0 0210            00210 21147  2          +
 002EDA 89F0 0010            00010 21148  2          +
 002EDE 88F0 0010            00010 21149  2          +
 002EE2 41F0 F000            00000 21150  2          +
 002EE6 AEFF 0006            00006 21151  2          +
 002EEA C1E2C2C4C5D84040           21152  1          +
 002EFA D203 2000 9004 00000 00004 21157  1 3614.                MVC   @RA(4),ASBNEXT          Remove it from the list
 002F00                            21158  1 3615.                CLEAR ASBNEXT                 Make sure
 002F00 D703 9004 9004 00004 00004 21164  1          +
                                   21165  1 3616.     *
                                   21166  1 3617.     * Free the queue
                                   21167  1 3618.     *
 002F06                            21168  1 3619.                LKREL MATASBL                 Free the lock
 002F06 D203 D048 80B0 00000 000B0 21177  1          +
 002F0C 58F0 A8AC/0DEF       03670 21180  1          +
 DROP   S.ASB,R3                   21182    3620.              END   ,
 DROP   MAT,R8
                                   21198    3621.     *
                                   21199    3622.     * Call local termination routines
                                   21200    3623.     *
 002F12 58F0 A8E4/0DEF       036A8 21201    3624.              VCALL ASMLCLX
                                   21205    3625.     *
                                   21206    3626.     * Eliminate the local area
                                   21207    3627.     *
 002F18 58F0 A8E8/0DEF       036AC 21208    3628.              VCALL PAGAST2                 Remove it. Leave us global.
                                   21212    3629.     *
                                   21213    3630.     * Get to the dispatcher stack
                                   21214    3631.     *
 002F1E 8000 A932      036F6       21215    3632.              SSM   =X'04'                  Disable everything
 002F22 9680 0338      000B8       21216    3633.              SET   DISPSTK                 On the dispatcher stack
 002F26 D203 0334 A890 000B4 03654 21222    3634.              MVC   PSACPLK,=A(1)           Holding the lock
 002F2C 182C                       21223    3635.              LR    RA,WAR                  Copy our stack pointer
 002F2E 58C0 0330            000B0 21224    3636.              L     WAR,PSADSTK
 002F32 41D0 C008            00008 21225    3637.              LA    SPR,@WAR+8              Setup the stack
                                   21226    3638.     *
                                   21227    3639.     * Free the global areas we got
                                   21228    3640.     *
 DROP   @LOCKS-72,R13              21229    3641.              PSET  @GCBDEL
 USING  @GCBDEL-72,R13
 002F36 D703 D048 D048 00000 00000 21249             +
 002F3C 5060 D048            00000 21250    3642.              ST    RX,@GCBDLOC             Location of the TDB
 002F40 58F0 A8D0/0DEF       03694 21251    3643.              ACALL DELGTDB                 Free that up
 002F46                            21258    3644.              PSET  @GCBDEL
 002F46 D703 D048 D048 00000 00000 21268             +
 002F4C 5020 D048            00000 21269    3645.              ST    RA,@GCBDLOC             Global stack address
 002F50 58F0 A8CC/0DEF       03690 21270    3646.              ACALL FGSTK                   Free the stack
 002F56 5860 032C            000AC 21277    3647.              L     RX,PSADCT               DCT address
 DROP   TDB,R6                     21278    3648.              WITH  (DCT,RX)
 USING  DCT,R6
                                   21294    3649.     *
                                   21295    3650.     * Remove all associated Real-time timers
                                   21296    3651.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  173
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASB,R9) (ASEXIT,R10) (@GCBDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002F5A 58F0 A8EC/0DEF       036B0 21297    3652.              ACALL RTTERM                  Go remove them all
                                   21304    3653.     *
                                   21305    3654.     * Free the ASB
                                   21306    3655.     *
 002F60                            21307    3656.              PSET  @GCBDEL
 002F60 D703 D048 D048 00000 00000 21317             +
 002F66 5090 D048            00000 21318    3657.              ST    RN,@GCBDLOC             Location of the ASB
 002F6A 58F0 A8F0/0DEF       036B4 21319    3658.              ACALL DELASB                  Free it
                                   21326    3659.     *
                                   21327    3660.     * Dequeue the ASDB and free it
                                   21328    3661.     *
 DROP   @GCBDEL-72,R13             21329    3662.              LKOB  DCTLOCK
 USING  @LOCKS-72,R13
 002F70 D203 D048 6004 00000 00004 21348             +
 002F76 58F0 A8A4/0DEF       03668 21351             +
 002F7C 4120 600C            0000C 21353    3663.              LA    RA,DCTASDBS
 002F80 5830 2000/1233       00000 21354    3664.              WHILE ('LT RB,@RA',NZ),BEGIN
 002F86 4780 A1D4            02F98 21367             +
 002F8A 1937/4780 A1D4       02F98 21372  1 3665.                IF    (RB,EQ,RY),EXIT
 002F90 4120 3008            00008 21390  1 3666.                WITH  (ASDB,RB),'LA RA,ASDBCHN'
 DROP   ASDB,R7
 USING  ASDB,R3
 USING  ASDB,R7
 DROP   ASDB,R3
 002F94 47F0 A1BC            02F80 21431    3667.              END   ,
 002F98 1233/4770 A20A       02FCE 21436    3668.              IF    (RB,Z),'ABORT ASDBNOTQ'
 002F9E AC04 021B      0021B       21454  1          +
 002FA2 9680 021A      0021A       21460  1          +
 002FA6 50F0 021C            0021C 21461  1          +
 002FAA 58F0 0210            00210 21462  1          +
 002FAE 89F0 0010            00010 21463  1          +
 002FB2 88F0 0010            00010 21464  1          +
 002FB6 41F0 F000            00000 21465  1          +
 002FBA AEFF 0006            00006 21466  1          +
 002FBE C1E2C4C2D5D6E3D8           21467             +
 002FCE D203 2000 7008 00000 00008 21472    3669.              MVC   @RA(4),ASDBCHN          Remove it from the chain
 002FD4                            21473    3670.              LKREL DCTLOCK                 Free the lock
 002FD4 D203 D048 6004 00000 00004 21482             +
 002FDA 58F0 A8AC/0DEF       03670 21485             +
                                   21487    3671.     *
                                   21488    3672.     * Free it
                                   21489    3673.     *
 DROP   @LOCKS-72,R13              21490    3674.              PSET  @GCBDEL
 USING  @GCBDEL-72,R13
 002FE0 D703 D048 D048 00000 00000 21510             +
 002FE6 5070 D048            00000 21511    3675.              ST    RY,@GCBDLOC             Location of the ASDB
 002FEA 58F0 A8F4/0DEF       036B8 21512    3676.              ACALL DELASDB                 Free it
 002FF0                            21519    3677.              CLEAR PSAASDB                 Free the ASDB pointer too
 002FF0 D703 0324 0324 000A4 000A4 21525             +
 002FF6                            21526    3678.              CLEAR PSATDB                  No TDB active
 002FF6 D703 0328 0328 000A8 000A8 21532             +
 002FFC                            21533    3679.              CLEAR PZCURPID                Clear out the PZ too
 002FFC D707 0208 0208 00208 00208 21539             +
                                   21540    3680.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  174
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (ASB,R9) (ASEXIT,R10) (@GCBDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21541    3681.     * Start up the next ready Address space
                                   21542    3682.     *
 003002 9640 0338      000B8       21543    3683.              SET   DISPGRD
 003006 58F0 A8F8/0DEF       036BC 21549    3684.              ACALL ASDISP
 00300C                            21556    3685.              IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 00300C D503 A8FC 0334 036C0 000B4 21568             +
 003012 4780 A282            03046 21569             +
 003016 AC04 021B      0021B       21578  1          +
 00301A 9680 021A      0021A       21584  1          +
 00301E 50F0 021C            0021C 21585  1          +
 003022 58F0 0210            00210 21586  1          +
 003026 89F0 0010            00010 21587  1          +
 00302A 88F0 0010            00010 21588  1          +
 00302E 41F0 F000            00000 21589  1          +
 003032 AEFF 0006            00006 21590  1          +
 003036 C3D7D3D2C2C1D340           21591             +
 003046 9801 0280            00000 21596    3686.              LM    R0,R1,PSAPSW            Get the PSW
 00304A 9901 A948            0370C 21597    3687.              XTRC  R0,R1,RUNUSER6          Trace the PSW
 00370A 0000/0000370C                     1          +
 003710 00000072/0001              21606  1          +
 003716 D9E4D5E4E2C5D9F6           21608             +
 00304E 6800 02C8            00048 21615    3688.              LD    0,PSAFPRS+0*4           FPR 0
 003052 6820 02D0            00050 21616    3689.              LD    2,PSAFPRS+2*4           FPR 2
 003056 6840 02D8            00058 21617    3690.              LD    4,PSAFPRS+4*4           FPR 4
 00305A 6860 02E0            00060 21618    3691.              LD    6,PSAFPRS+6*4           FPR 6
 00305E 980F 0288            00008 21619    3692.              LM    0,15,PSAGPRS            GPRs
 003062 947F 0338      000B8       21620    3693.              CLEAR DISPSTK                 Not in dispatcher stack now
 003066                            21627    3694.              CLEAR PSACPLK
 003066 D703 0334 0334 000B4 000B4 21633             +
 00306C 8200 0280      00000       21634    3695.              LPSW  PSAPSW                  And off and running
 003070 981F C008            00008 21635    3696.              PEND  ,
 DROP   DCT,R6
 USING  TDB,R6
 DROP   ASB,R9
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   ASEXIT,R10
 003074 9680 C000/0B0E 00000       21672             +
 DROP   @GCBDEL-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  175
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21682    3698.     *****************************************************************
                                   21683    3699.     *                                                               *
                                   21684    3700.     *  LTDISP  --  This is the long term dispatcher.  It tries to   *
                                   21685    3701.     *              keep the highest priority ready tasks in the     *
                                   21686    3702.     *              active set.                                      *
                                   21687    3703.     *                                                               *
                                   21688    3704.     *   Input  --  none                                             *
                                   21689    3705.     *                                                               *
                                   21690    3706.     *  Output  --  none                                             *
                                   21691    3707.     *                                                               *
                                   21692    3708.     *****************************************************************
-000000                00000 00000 21694    3710.     LTDWA    RECORD BEGIN
 000000                00000 00000 21702    3711.              END   ,
-00307A                            21712    3713.     LTDISP   PROC  ,LTDWA,SCOPE=LOCAL
 00307A D3E3C4C9E2D74040           21719             +
 003082 0000/0000                  21720             +
 003086 900F D004/18AF       00004 21722             +
 USING  LTDISP,R10
 00308C 50D0 C000/18CD       00000 21737             +
 003092 9680 C000      00000       21739             +
 USING  LTDWA-72,R12
 003096 41D0 C048            00048 21753             +
                                   21754    3714.     *
                                   21755    3715.     * Get our bearings
                                   21756    3716.     *
 00309A 5860 032C            000AC 21757    3717.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     21758    3718.              WITH  (DCT,RX)
 00309E 5890 0200            00200 21771    3719.              L     RN,PZMATP               Get the MAT pointer
 USING  MAT,R9                     21772    3720.              WITH  (MAT,RN)
                                   21785    3721.     *
                                   21786    3722.     * First, promote all the AS's we can
                                   21787    3723.     *
 0030A2                            21788    3724.     LTPRO    LOOP  BEGIN                   Promotion phase
 0030A2 5810 90DC            000DC 21795  1 3725.                L     RS,MATPAGFN             Paging function value
 0030A6 5910 6104            00104 21796  1 3726.                IF    (RS,LT,DCTSHPF),EXIT
 0030AA 4740 A0FA            03180 21810  1          +
                                   21816  1 3727.     * Get the highest priority AS in the RD queue
                                   21817  1 3728.     *
 0030AE 4100 60A8            000A8 21818  1 3729.                PQHIGH DCTREADY               Get the highest prio AS
 USING  PQPARM-72,R13
 0030B2 5000 D04C            00004 21847  1          +
 0030B6 58F0 A63E/0DEF       036C4 21853  1          +
 0030BC 1270                       21855  1 3730.                LTR   RY,RVR                  Get the location
 0030BE 4770 A046            030CC 21856  1 3731.                IF    Z,BEGIN                 None to promote, how nice
 0030C2 D203 6104 A642 00104 036C8 21867  2 3732.                  MVC   DCTSHPF,=X'7FFFFFFF'    Don't bother us about pages
 0030C8 47F0 A0FA            03180 21868  2 3733.                  EXIT  LTPRO                   Then go on to better things
 0030CC                            21871  1 3734.                END   ,
 USING  ASDB,R7                    21875  1 3735.                WITH  (ASDB,RY)
                                   21888  1 3736.     *
                                   21889  1 3737.     * There should be enough room, we will try to swap it in
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  176
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (MAT,R9) (LTDISP,R10) (LTDWA-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21890  1 3738.     *
 DROP   PQPARM-72,R13              21891  1 3739.                PSET  @PAGSWAP
 USING  @PAGSWAP-72,R13
 0030CC D704 D048 D048 00000 00000 21911  1          +
 0030D2 D203 D048 7004 00000 00004 21912  1 3740.                MVC   @SWASB,ASDBASB          Tell paging manager which
 0030D8 58F0 A646/0DEF       036CC 21913  1 3741.                VCALL PAGISWAP                Swap the AS in
 0030DE 1F22/4320 D04C       00004 21917  1 3742.                LC    RA,@SWFLG               Get the flag value
 0030E4 47F2 A062            030E8 21924  1 3743.                B     *+4(RA)                 Take care of the return
 0030E8 47F0 A080            03106 21925  1 3744.                B     LTPINP                  In progress
 0030EC 47F0 A0B0            03136 21926  1 3745.                B     LTPOK                   Done already
                                   21927  1 3746.     *        Drop through to ...           Wait
                                   21928  1 3747.     *
                                   21929  1 3748.     * If the swap couldn't be done, we are done promoting
                                   21930  1 3749.     *
 0030F0 4100 60A8            000A8 21931  1 3750.                PQREQ DCTREADY,(RY)           Put it back on the queue
 DROP   @PAGSWAP-72,R13
 USING  PQPARM-72,R13
 0030F4 5000 D04C            00004 21963  1          +
 0030F8 5070 D048            00000 21973  1          +
 0030FC 58F0 A64A/0DEF       036D0 21979  1          +
 003102 47F0 A0FA            03180 21981  1 3751.                EXIT  ,                       Done promoting
-                                  21985  1 3753.     *
                                   21986  1 3754.     * If the swap is in progress, we mark it suspended and put it on
                                   21987  1 3755.     * the STW queue
                                   21988  1 3756.     *
 003106 5820 702C            0002C 21989  1 3757.     LTPINP     L     RA,ASDBSUSP             Current suspend count
 00310A                            21990  1 3758.                LOOP  BEGIN
 00310A 4110 2001            00001 21996  2 3759.                  LA    RS,@RA+1                Increment the suspend count
 00310E BA21 702C            0002C 21997  2 3760.                  CS    RA,RS,ASDBSUSP          Update the suspend count
 003112 4770 A084            0310A 21998  1 3761.                UNTIL Z,END
 003116 4100 6080            00080 22017  1 3762.                PQADD DCTSWAIT,(RY)           Add it to the queue
 00311A 5000 D04C            00004 22039  1          +
 00311E 5070 D048            00000 22049  1          +
 003122 58F0 A5E6/0DEF       0366C 22055  1          +
 003128 947F 709C      0009C       22057  1 3763.                CLEAR ASDBSWTS                It gets a new start
 00312C D203 7098 A5CE 00098 03654 22064  1 3764.                MVC   ASDBSHCT,=A(1)          Count of swap holds
 003132 47F0 A0D0            03156 22065  1 3765.                B     LTPFUPD                 Go update the PF counters
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  177
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (MAT,R9) (LTDISP,R10) (LTDWA-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22067  1 3767.     *
                                   22068  1 3768.     * Whoa nellie, that swap we asked for is already done!!! We move
                                   22069  1 3769.     * the AS to the ACTIVE queue.  We DO NOT however preempt AS on
                                   22070  1 3770.     * other CPUs.  We will cause a re-dispatch on this CPU though.
                                   22071  1 3771.     *
 003136 4100 6058            00058 22072  1 3772.     LTPOK      PQADD DCTACTIV,(RY)           Add it to the queue
 00313A 5000 D04C            00004 22095  1          +
 00313E 5070 D048            00000 22105  1          +
 003142 58F0 A5E6/0DEF       0366C 22111  1          +
 003148 947F 709C      0009C       22113  1 3773.                CLEAR ASDBSWTS                Give a chance for 1 Time slice
 00314C D203 7098 A5CE 00098 03654 22120  1 3774.                MVC   ASDBSHCT,=A(1)          Count of swap holds
 003152 9640 0338      000B8       22121  1 3775.                SET   DISPGRD                 See that we do a global Disp
-                                  22128  1 3777.     *
                                   22129  1 3778.     * Update the PF priority counters in the DCT
                                   22130  1 3779.     *
 003156 4820 7022            00022 22131  1 3780.     LTPFUPD    LH    RA,ASDBSPRI             Get the current priority
 00315A 8920 0002            00002 22132  1 3781.                SLL   RA,2                    Times 4
 00315E 5812 6108            00108 22133  1 3782.                L     RS,DCTSPFCT(RA)         Get the correct priority
 003162 5B10 7090            00090 22134  1 3783.                S     RS,ASDBPAGN             Remove this one from the count
 003166 5012 6108            00108 22135  1 3784.                ST    RS,DCTSPFCT(RA)         Update the value
                                   22136  1 3785.     *
                                   22137  1 3786.     * Update the PFN high limit
                                   22138  1 3787.     *
 00316A 4100 60A8            000A8 22139  1 3788.                PQHPFN DCTREADY               Get the higest number
 00316E 5000 D04C            00004 22161  1          +
 003172 58F0 A64E/0DEF       036D4 22167  1          +
 003178 5000 6104            00104 22169  1 3789.                ST    RVR,DCTSHPF             Update the number
 00317C 47F0 A01C            030A2 22170    3790.              END   ,                       End of the promotion phase
 DROP   ASDB,R7
                                   22180    3791.     *
                                   22181    3792.     * Update the Swap priority
                                   22182    3793.     *
 003180 5810 60F8            000F8 22183    3794.              L     RS,DCTSWOUT             Count of outgoing
 003184 5830 90DC            000DC 22184    3795.              L     RB,MATPAGFN             Get current paging function
 003188 1A13                       22185    3796.              AR    RS,RB                   Add it to the pool
 00318A 4120 0010            00010 22186    3797.              LA    RA,(NUMPRIO-1)*4        Offset of highest prio count
 00318E 1222/4740 A12C       031B2 22187    3798.     LTPSLP   WHILE (RA,NM),BEGIN           Loop through the levels
 003194 5B12 6108            00108 22204  1 3799.                S     RS,DCTSPFCT(RA)         Less those at this prio level
 003198 47B0 A124            031AA 22205  1 3800.                IF    NEG,BEGIN               We have run out of gas
 00319C 1B31                       22216  2 3801.                  SR    RB,RS
 00319E 5B32 6108            00108 22217  2 3802.                  S     RB,DCTSPFCT(RA)         Compute low sensitivity
 0031A2 5030 6100            00100 22218  2 3803.                  ST    RB,DCTSLPF              Save as the low Paging func
 0031A6 47F0 A12C            031B2 22219  2 3804.                  EXIT  LTPSLP                  Done here
 0031AA                            22222  1 3805.                END   ,
 0031AA 4B20 A66E            036F4 22226  1 3806.                SH    RA,=Y(4)                Move to lower priority level
 0031AE 47F0 A108            0318E 22227    3807.              END   ,
 0031B2 8820 0002            00002 22232    3808.              SRL   RA,2                    Get the actual priority level
 0031B6 4920 60FC            000FC 22233    3809.              IF    (RA,LE,DCTSWPRI),EXIT   If less or the same we're done
 0031BA 47C0 A1B4            0323A 22247             +
 0031BE 4020 60FC            000FC 22253    3810.              STH   RA,DCTSWPRI             New swap priority level
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  178
0Current Usings:  (PZERO,R0) (DCT,R6) (MAT,R9) (LTDISP,R10) (LTDWA-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22255    3812.     *
                                   22256    3813.     * Since the swap priority has gotten higher we need to re-search the
                                   22257    3814.     * ACT and STW queues.
                                   22258    3815.     *
 0031C2 1B88                       22259    3816.              CLEAR RM                      Current priority level
 0031C4 4980 60FC            000FC 22263    3817.     LTDDEM   WHILE (RM,LE,DCTSWPRI),BEGIN  Demotion phase
 0031C8 4730 A1B4            0323A 22278             +
 0031CC 1828                       22283  1 3818.                LR    RA,RM                   Get the priority level
 0031CE 8920 0003            00003 22284  1 3819.                SLL   RA,3                    times 8
                                   22285  1 3820.     *
                                   22286  1 3821.     * Start with those on the short term wait queue at this priority
                                   22287  1 3822.     *
 0031D2 5842 6084            00084 22288  1 3823.                L     RJ,DCTSWAIT+4(RA)       Get the tail AS at this level
 0031D6 1244/4780 A17C       03202 22289  1 3824.                WHILE ((RJ,NZ),AND,(RM,LE,DCTSWPRI)),BEGIN    Loop through
 0031DC 4980 60FC            000FC 22315  1          +
 0031E0 4730 A17C            03202 22316  1          +
 USING  ASDB,R4                    22321  2 3825.                  WITH  (ASDB,RJ)
 0031E4 5830 4010            00010 22334  2 3826.                  L     RB,ASDBPREV             Keep a pointer to previous one
                                   22335  2 3827.     *
                                   22336  2 3828.     * Check out the current ASDB.  If it is swapable, we swap it.
                                   22337  2 3829.     *
 0031E8 5810 4098/1211       00098 22338  2 3830.                  IF    ('LT RS,ASDBSHCT',Z),BEGIN    This AS is swapable
 0031EE 4770 A176            031FC 22349  2          +
 DROP   PQPARM-72,R13              22354  3 3831.                    PSET  @DEMOTE,CLEAR=NO
 USING  @DEMOTE-72,R13
 0031F2 5040 D048            00000 22368  3 3832.                    ST    RJ,@DEMASDB             Save the AS to be swapped
 0031F6 41F0 A1CA/0DEF       03250 22369  3 3833.                    LCALL DEMOTE                  Demote it (RC unimportant)
 0031FC                            22378  2 3834.                  END   ,
 0031FC 1843                       22382  2 3835.                  LR    RJ,RB                   Get to the previous
 0031FE 47F0 A150            031D6 22383  1 3836.                END   ,                       End of the STW loop
 DROP   ASDB,R4
                                   22393  1 3837.     *
                                   22394  1 3838.     * Continue with those on the Active queue at this priority
                                   22395  1 3839.     *
 003202 5842 605C            0005C 22396  1 3840.                L     RJ,DCTACTIV+4(RA)       Get the tail AS at this level
 003206 1244/4780 A1AC       03232 22397  1 3841.                WHILE ((RJ,NZ),AND,(RM,LE,DCTSWPRI)),BEGIN    Loop through
 00320C 4980 60FC            000FC 22423  1          +
 003210 4730 A1AC            03232 22424  1          +
 USING  ASDB,R4                    22429  2 3842.                  WITH  (ASDB,RJ)
 003214 5830 4010            00010 22442  2 3843.                  L     RB,ASDBPREV             Keep a pointer to previous one
                                   22443  2 3844.     *
                                   22444  2 3845.     * Check out the current ASDB.  If it is swapable, we swap it.
                                   22445  2 3846.     *
 003218 5810 4098/1211       00098 22446  2 3847.                  IF    ('LT RS,ASDBSHCT',Z),BEGIN      This AS is swapable
 00321E 4770 A1A6            0322C 22457  2          +
                                   22462  3 3848.                    PSET  @DEMOTE,CLEAR=NO
 003222 5040 D048            00000 22466  3 3849.                    ST    RJ,@DEMASDB             Save the AS to be swapped
 003226 41F0 A1CA/0DEF       03250 22467  3 3850.                    LCALL DEMOTE                  Demote it (RC unimportant)
 00322C                            22476  2 3851.                  END   ,
 00322C 1843                       22480  2 3852.                  LR    RJ,RB                   Get to the previous one
 00322E 47F0 A180            03206 22481  1 3853.                END   ,                       End of the ACT loop
 DROP   ASDB,R4
                                   22491  1 3854.     *
                                   22492  1 3855.     * Get us to the next priority level
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  179
0Current Usings:  (PZERO,R0) (DCT,R6) (MAT,R9) (LTDISP,R10) (LTDWA-72,R12) (@DEMOTE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22493  1 3856.     *
 003232 4180 8001            00001 22494  1 3857.                LA    RM,@RM+1                Get the next level
 003236 47F0 A13E            031C4 22495    3858.              END   ,                       End of the demotion phase
 00323A 981F C008            00008 22500    3859.              PEND  ,                       Return home
 DROP   MAT,R9
 DROP   DCT,R6
 DROP   LTDWA-72,R12
 DROP   LTDISP,R10
 00323E 9680 C000/0B0E 00000       22525             +
 DROP   @DEMOTE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  180
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22535    3861.     *****************************************************************
                                   22536    3862.     *                                                               *
                                   22537    3863.     *  DEMOTE  --  This routine will request that the specified     *
                                   22538    3864.     *              address space be swapped out.  It is passed the  *
                                   22539    3865.     *              ASDB of the desired address space.  It first     *
                                   22540    3866.     *              tries to swap out the ASDB.  If it is not        *
                                   22541    3867.     *              sucessful, it returns 4 in RVR. Otherwize, if    *
                                   22542    3868.     *              the ASDB is on a queue, it removes it.  Then it  *
                                   22543    3869.     *              puts the ASDB on the LTW queue.  It also updates *
                                   22544    3870.     *              the swap information in the DCT.                 *
                                   22545    3871.     *                                                               *
                                   22546    3872.     *              *** THE DISPATCH LOCK MUST BE HELD ***           *
                                   22547    3873.     *                                                               *
                                   22548    3874.     *   Input  --  @DEMOTE                                          *
                                   22549    3875.     *                                                               *
                                   22550    3876.     *  Output  --  none                                             *
                                   22551    3877.     *                                                               *
                                   22552    3878.     *****************************************************************
-000000                00000 00004 22554    3880.     @DEMOTE  RECORD BEGIN
 000000                            22562  1 3881.     @DEMASDB   DS    A             ASDB to swap
 000004                00004 00004 22563    3882.              END   ,
-003244                            22573    3884.     DEMOTE   PROC  @DEMOTE,SCOPE=LOCAL
 003244 C4C5D4D6E3C54040           22580             +
 00324C 0008/0000                  22581             +
 003250 900F D004/18AF       00004 22583             +
 USING  DEMOTE,R10
 003256 50D0 C000/18CD       00000 22598             +
 00325C 9680 C000      00000       22600             +
 USING  @DEMOTE-72,R12
 003260 41D0 C050            00050 22614             +
                                   22615    3885.     *
                                   22616    3886.     * First get the control blocks we need
                                   22617    3887.     *
 003264 5870 C048            00000 22618    3888.              L     RY,@DEMASDB             The ASDB to swap
 USING  ASDB,R7                    22619    3889.              WITH  (ASDB,RY)
 003268 5860 032C            000AC 22632    3890.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     22633    3891.              WITH  (DCT,RX)
                                   22646    3892.     *
                                   22647    3893.     * Make sure it can be swapped out
                                   22648    3894.     *
 00326C 5810 7098/1211       00098 22649    3895.              IF    ('LT RS,ASDBSHCT',NZ),BEGIN
 003272 4780 A02E            0327E 22660             +
 003276 4100 0004            00004 22665  1 3896.                LA    RVR,4                   Non-swapable
 00327A 47F0 A190            033E0 22666  1 3897.                EXIT  DEMOTE                  All done
 00327E                            22669    3898.              END   ,
                                   22673    3899.     *
                                   22674    3900.     * Then we try to swap the bugger out
                                   22675    3901.     *
 USING  @PAGSWAP-72,R13            22676    3902.              PSET  @PAGSWAP                Setup the parm area
 00327E D704 D048 D048 00000 00000 22693             +
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  181
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (DEMOTE,R10) (@DEMOTE-72,R12) (@PAGSWAP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003284 D203 D048 7004 00000 00004 22694    3903.              MVC   @SWASB,ASDBASB          Move in the ASB address
 00328A 58F0 A488/0DEF       036D8 22695    3904.              VCALL PAGOSWAP                Call the swap out routine
 003290 1F22/4320 D04C       00004 22699    3905.              LC    RA,@SWFLG               Get the flag value
 003296 47F2 A04A            0329A 22706    3906.              B     *+4(RA)                 Take care of the return
 00329A 47F0 A05A            032AA 22707    3907.              B     DMSINP                  In progress
 00329E 47F0 A0F0            03340 22708    3908.              B     DMSOK                   Done already
                                   22709    3909.     *        Drop through to ...           Wait
                                   22710    3910.     *
                                   22711    3911.     *  Swap couldn't be done
                                   22712    3912.     *
 0032A2 4100 0004            00004 22713    3913.              LA    RVR,4                   Signal the result
 0032A6 47F0 A190            033E0 22714    3914.              EXIT  DEMOTE
                                   22717    3915.     *
                                   22718    3916.     * Swap is in progress
                                   22719    3917.     *
 0032AA 5000 7090            00090 22720    3918.     DMSINP   ST    RVR,ASDBPAGN            Save the paging number
 0032AE 9640 709C      0009C       22721    3919.              SET   ASDBSOIP                Set the indicator
 0032B2 5810 7014/1211       00014 22727    3920.              IF    ('LT RS,ASDBQADD',NZ),BEGIN      Currently on a queue
 0032B8 4780 A07C            032CC 22738             +
 DROP   @PAGSWAP-72,R13            22743  1 3921.                PQDEL L:ASDBQADD,(RY)         Remove it from the queue
 USING  PQPARM-72,R13
 0032BC D203 D04C 7014 00004 00014 22763  1          +
 0032C2 5070 D048            00000 22773  1          +
 0032C6 58F0 A48C/0DEF       036DC 22779  1          +
 0032CC                            22781    3922.              END   ,
 0032CC 4100 60D0            000D0 22785    3923.              PQADD DCTLWAIT,(RY)           Add it to the LTW queue
 0032D0 5000 D04C            00004 22807             +
 0032D4 5070 D048            00000 22817             +
 0032D8 58F0 A41C/0DEF       0366C 22823             +
                                   22825    3924.     *
                                   22826    3925.     * Suspend that address space
                                   22827    3926.     *
 0032DE 5810 702C            0002C 22828    3927.              L     RS,ASDBSUSP             Get the suspend count
 0032E2                            22829    3928.              LOOP  BEGIN
 0032E2 4120 1001            00001 22835  1 3929.                LA    RA,@RS+1                Increment the count
 0032E6 BA12 702C            0002C 22836  1 3930.                CS    RS,RA,ASDBSUSP          Update it
 0032EA 4770 A092            032E2 22837    3931.              UNTIL Z,END                   If at first you don't succeed
                                   22856    3932.     *
                                   22857    3933.     * Update the DCT counts
                                   22858    3934.     *
 0032EE 5820 60F8            000F8 22859    3935.              L     RA,DCTSWOUT             Count of outgoing
 0032F2                            22860    3936.              LOOP  BEGIN
 0032F2 1812                       22866  1 3937.                LR    RS,RA                   Copy the count
 0032F4 5A10 7090            00090 22867  1 3938.                A     RS,ASDBPAGN             Add this one
 0032F8 BA21 60F8            000F8 22868  1 3939.                CS    RA,RS,DCTSWOUT          Update the count
 0032FC 4770 A0A2            032F2 22869    3940.              UNTIL Z,END
 003300 5820 0200            00200 22888    3941.              L     RA,PZMATP               Get the MAT address
 003304 5830 20DC            000DC 22889    3942.              WITH  (MAT,RA),'L RB,MATPAGFN'  Get the current paging func
 USING  MAT,R2
 DROP   MAT,R2
 003308 1A13                       22913    3943.              AR    RS,RB                   Add it into our pool
 00330A 4120 0010            00010 22914    3944.              LA    RA,(NUMPRIO-1)*4        Offset of highest prio count
 00330E 1222/47D0 A0E2       03332 22915    3945.     DMSLP    WHILE (RA,POS),BEGIN          Loop through the levels
 003314 5B12 6108            00108 22932  1 3946.                S     RS,DCTSPFCT(RA)         Less those at this prio level
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  182
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (DEMOTE,R10) (@DEMOTE-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003318 47B0 A0DA            0332A 22933  1 3947.                IF    NEG,BEGIN               We have run out of gas
 00331C 1B31                       22944  2 3948.                  SR    RB,RS
 00331E 5B32 6108            00108 22945  2 3949.                  S     RB,DCTSPFCT(RA)         Compute low sensitivity
 003322 5030 6100            00100 22946  2 3950.                  ST    RB,DCTSLPF              Save as the low Paging func
 003326 47F0 A0E2            03332 22947  2 3951.                  EXIT  DMSLP                   Done here
 00332A                            22950  1 3952.                END   ,
 00332A 4B20 A4A4            036F4 22954  1 3953.                SH    RA,=Y(4)                Move to lower priority level
 00332E 47F0 A0BE            0330E 22955    3954.              END   ,
 003332 8820 0002            00002 22960    3955.              SRL   RA,2                    Get the actual priority level
 003336 4020 60FC            000FC 22961    3956.              STH   RA,DCTSWPRI             New swap priority level
                                   22962    3957.     *
                                   22963    3958.     * Return to the caller
                                   22964    3959.     *
 00333A 1B00                       22965    3960.              CLEAR RVR                     Good return code
 00333C 47F0 A190            033E0 22969    3961.              EXIT  DEMOTE                  Return to caller
                                   22972    3962.     *
                                   22973    3963.     * The swap is complete
                                   22974    3964.     *
 003340 5000 7090            00090 22975    3965.     DMSOK    ST    RVR,ASDBPAGN            Save the paging number
 003344 5810 7014/1211       00014 22976    3966.              IF    ('LT RS,ASDBQADD',NZ),BEGIN      Currently on a queue
 00334A 4780 A10E            0335E 22987             +
 00334E                            22992  1 3967.                PQDEL L:ASDBQADD,(RY)         Remove it from the queue
 00334E D203 D04C 7014 00004 00014 23002  1          +
 003354 5070 D048            00000 23012  1          +
 003358 58F0 A48C/0DEF       036DC 23018  1          +
 00335E                            23020    3968.              END   ,
 00335E 4100 60D0            000D0 23024    3969.              PQADD DCTLWAIT,(RY)           Add it to the LTW queue
 003362 5000 D04C            00004 23046             +
 003366 5070 D048            00000 23056             +
 00336A 58F0 A41C/0DEF       0366C 23062             +
                                   23064    3970.     *
                                   23065    3971.     * Update the Swap priority
                                   23066    3972.     *
 003370 5810 60F8            000F8 23067    3973.              L     RS,DCTSWOUT             Count of outgoing
 003374 5830 0200            00200 23068    3974.              L     RB,PZMATP               Get the mat pointer
 003378 5830 30DC            000DC 23069    3975.              WITH  (MAT,RB),'L  RB,MATPAGFN'    Paging function value
 USING  MAT,R3
 DROP   MAT,R3
 00337C 1A13                       23093    3976.              AR    RS,RB                   Add it to the pool
 00337E 4120 0010            00010 23094    3977.              LA    RA,(NUMPRIO-1)*4        Offset of highest prio count
 003382 1222/4740 A156       033A6 23095    3978.     DMQSLP   WHILE (RA,NM),BEGIN           Loop through the levels
 003388 5B12 6108            00108 23112  1 3979.                S     RS,DCTSPFCT(RA)         Less those at this prio level
 00338C 47B0 A14E            0339E 23113  1 3980.                IF    NEG,BEGIN               We have run out of gas
 003390 1B31                       23124  2 3981.                  SR    RB,RS
 003392 5B32 6108            00108 23125  2 3982.                  S     RB,DCTSPFCT(RA)         Compute low sensitivity
 003396 5030 6100            00100 23126  2 3983.                  ST    RB,DCTSLPF              Save as the low Paging func
 00339A 47F0 A156            033A6 23127  2 3984.                  EXIT  DMQSLP                  Done here
 00339E                            23130  1 3985.                END   ,
 00339E 4B20 A4A4            036F4 23134  1 3986.                SH    RA,=Y(4)                Move to lower priority level
 0033A2 47F0 A132            03382 23135    3987.              END   ,
 0033A6 8820 0002            00002 23140    3988.              SRL   RA,2                    Get the actual priority level
 0033AA 4020 60FC            000FC 23141    3989.              STH   RA,DCTSWPRI             New swap priority level
                                   23142    3990.     *
                                   23143    3991.     * Address space is not suspended - try to upgrade it
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  183
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (DEMOTE,R10) (@DEMOTE-72,R12) (PQPARM-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  23144    3992.     *
 0033AE 5810 702C            0002C 23145    3993.              L     RS,ASDBSUSP             Get the suspend count
 0033B2 1211/4770 A172       033C2 23146    3994.              IF    (RS,Z),BEGIN            This AS is ready to go
 DROP   PQPARM-72,R13              23160  1 3995.                PSET  @ASWAKE,CLEAR=NO
 USING  @ASWAKE-72,R13
 0033B8 5070 D048            00000 23174  1 3996.                ST    RY,@ASWASDB             Save the ASDB address
 0033BC 58F0 A490/0DEF       036E0 23175  1 3997.                ACALL ASWAKE                  Wake up the ASDB
 0033C2                            23182    3998.              END   ,
                                   23186    3999.     *
                                   23187    4000.     * See if this changed the paging situation
                                   23188    4001.     *
 0033C2 5810 0200            00200 23189    4002.              L     RS,PZMATP               Get the mat pointer
 0033C6 5810 10DC            000DC 23190    4003.              WITH  (MAT,RS),'L  RS,MATPAGFN'    Paging function value
 USING  MAT,R1
 DROP   MAT,R1
                                   23214    4004.   C          IF    ((RS,GE,DCTSHPF),OR,
 0033CA 5910 6104            00104          4005.                    (RS,LT,DCTSLPF)),'SET DISPGRD+DISPLTD'
 0033CE 47A0 A18A            033DA 23230             +
 0033D2 5910 6100            00100 23241             +
 0033D6 47B0 A18E            033DE 23242             +
 0033DA 9660 0338      000B8       23256             +
                                   23261    4006.     *
                                   23262    4007.     * Return to the caller
                                   23263    4008.     *
 0033DE 1B00                       23264    4009.              CLEAR RVR                     Good return code
                                   23268    4010.     *        EXIT  DEMOTE                  Return to caller
 0033E0 981F C008            00008 23269    4011.              PEND  ,
 DROP   DCT,R6
 DROP   ASDB,R7
 DROP   @DEMOTE-72,R12
 DROP   DEMOTE,R10
 0033E4 9680 C000/0B0E 00000       23294             +
 DROP   @ASWAKE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  184
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  23304    4013.     *****************************************************************
                                   23305    4014.     *                                                               *
                                   23306    4015.     * DISPSIOC --  This routine is called by the real storage       *
                                   23307    4016.     *              manager when a swap that has been requested is   *
                                   23308    4017.     *              finished.  An AS based suspension is lifed and   *
                                   23309    4018.     *              the ASDB is awakend if possible.                 *
                                   23310    4019.     *                                                               *
                                   23311    4020.     *   Input  --  @DISPSIOC                                        *
                                   23312    4021.     *                                                               *
                                   23313    4022.     *  Output  --  none                                             *
                                   23314    4023.     *                                                               *
                                   23315    4024.     *****************************************************************
-0033EA                            23317    4026.     DISPSIOC PROC  @DISPSIOC,SCOPE=GLOBAL
 0033EA C4C9E2D7E2C9D6C3           23323             +
 0033F2 0008/0000                  23324             +
 0033F6 900F D004/18AF       00004 23326             +
 USING  DISPSIOC,R10
 0033FC 50D0 C000/18CD       00000 23341             +
 003402 9680 C000      00000       23343             +
 USING  @DISPSIOC-72,R12
 003406 41D0 C050            00050 23357             +
                                   23358    4027.     *
                                   23359    4028.     * Get our bearings
                                   23360    4029.     *
 00340A 5860 032C            000AC 23361    4030.              L     RX,PSADCT               Get the DCT pointer
 USING  DCT,R6                     23362    4031.              WITH  (DCT,RX)
 00340E 5870 C048            00000 23375    4032.              L     RY,@DSIOASB             Get the ASB pointer
 003412 5870 701C            0001C 23376    4033.              WITH  (ASB,RY),'L RY,ASBASDB' Get the ASDB pointer
 USING  ASB,R7
 DROP   ASB,R7
 003416                            23400    4034.              IF    (@RY,NE,'ASDB'),'ABORT BADASDB'
 003416 D503 A2EE 7000 036E4 00000 23410             +
 00341C 4780 A05A            03450 23411             +
 003420 AC04 021B      0021B       23420  1          +
 003424 9680 021A      0021A       23426  1          +
 003428 50F0 021C            0021C 23427  1          +
 00342C 58F0 0210            00210 23428  1          +
 003430 89F0 0010            00010 23429  1          +
 003434 88F0 0010            00010 23430  1          +
 003438 41F0 F000            00000 23431  1          +
 00343C AEFF 0006            00006 23432  1          +
 003440 C2C1C4C1E2C4C240           23433             +
 USING  ASDB,R7                    23438    4035.              WITH  (ASDB,RY)
                                   23451    4036.     *
                                   23452    4037.     * If Swapout, update the count of pages in swap out
                                   23453    4038.     *
 003450 9140 709C      0009C       23454    4039.              IF    ASDBSOIP,BEGIN          Swap out in progress
 003454 47E0 A078            0346E 23464             +
 003458 94BF 709C      0009C       23469  1 4040.                CLEAR ASDBSOIP                But its done now
 00345C 5810 60F8            000F8 23476  1 4041.                L     RS,DCTSWOUT             Count of outgoing
 003460                            23477  1 4042.                LOOP  BEGIN
 003460 1821                       23483  2 4043.                  LR    RA,RS                   Copy the count
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  185
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (DISPSIOC,R10) (@DISPSIOC-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003462 5B20 7090            00090 23484  2 4044.                  S     RA,ASDBPAGN             Less the value of this
 003466 BA12 60F8            000F8 23485  2 4045.                  CS    RS,RA,DCTSWOUT          Update the count
 00346A 4770 A06A            03460 23486  1 4046.                UNTIL Z,END
 00346E                            23505    4047.              END   ,
                                   23509    4048.     *
                                   23510    4049.     * Remove a suspension from the ASDB
                                   23511    4050.     *
 00346E 5820 702C            0002C 23512    4051.              L     RA,ASDBSUSP             Get the current value
 003472                            23513    4052.              LOOP  BEGIN
 003472 1812                       23519  1 4053.                LR    RS,RA                   Copy the current value
 003474 4B10 A2F8            036EE 23520  1 4054.                SH    RS,=Y(1)
 003478 47B0 A088/1B11       0347E 23521  1 4055.                IF    NEG,'CLEAR RS'          not less than zero
 00347E BA21 702C            0002C 23541  1 4056.                CS    RA,RS,ASDBSUSP          Update the suspend count
 003482 4770 A07C            03472 23542    4057.              UNTIL Z,END
 003486 1211/4770 A0A0       03496 23561    4058.              IF    (RS,Z),BEGIN            This AS is ready to go
 USING  @ASWAKE-72,R13             23575  1 4059.                PSET  @ASWAKE,CLEAR=NO
 00348C 5070 D048            00000 23586  1 4060.                ST    RY,@ASWASDB             Save the ASDB address
 003490 58F0 A2EA/0DEF       036E0 23587  1 4061.                ACALL ASWAKE                  Wake up the ASDB
 003496                            23594    4062.              END   ,
                                   23598    4063.     *
                                   23599    4064.     * See if this changed the paging situation
                                   23600    4065.     *
 003496 5810 0200            00200 23601    4066.              L     RS,PZMATP               Get the mat pointer
 USING  MAT,R1                     23602    4067.              WITH  (MAT,RS),BEGIN
 00349A 58F0 10DC            000DC 23616  1 4068.                L     R15,MATPAGFN            Paging function value
                                   23617  1 4069.   C            IF    ((R15,GE,DCTSHPF),OR,
 00349E 59F0 6104            00104        1 4070.                      (R15,LT,DCTSLPF)),'SET DISPGRD+DISPLTD'
 0034A2 47A0 A0B8            034AE 23633  1          +
 0034A6 59F0 6100            00100 23644  1          +
 0034AA 47B0 A0BC            034B2 23645  1          +
 0034AE 9660 0338      000B8       23659  1          +
 DROP   MAT,R1                     23664    4071.              END   ,
 0034B2 981F C008            00008 23672    4072.              PEND  ,
 DROP   ASDB,R7
 DROP   DCT,R6
 DROP   @DISPSIOC-72,R12
 DROP   DISPSIOC,R10
 0034B6 9680 C000/0B0E 00000       23697             +
 DROP   @ASWAKE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  186
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  23707    4074.     *****************************************************************
                                   23708    4075.     *                                                               *
                                   23709    4076.     * DISPPIOC --  This routine is called by the real storage       *
                                   23710    4077.     *              manager when a page fault has been resolved.  It *
                                   23711    4078.     *              makes the AS swapable, removes a suspension and  *
                                   23712    4079.     *              wakes up the ASDB (if possible).                 *
                                   23713    4080.     *                                                               *
                                   23714    4081.     *   Input  --  @DISPPIOC                                        *
                                   23715    4082.     *                                                               *
                                   23716    4083.     *  Output  --  none                                             *
                                   23717    4084.     *                                                               *
                                   23718    4085.     *****************************************************************
-0034BC                            23720    4087.     DISPPIOC PROC  @DISPPIOC,SCOPE=GLOBAL
 0034BC C4C9E2D7D7C9D6C3           23726             +
 0034C4 0008/0000                  23727             +
 0034C8 900F D004/18AF       00004 23729             +
 USING  DISPPIOC,R10
 0034CE 50D0 C000/18CD       00000 23744             +
 0034D4 9680 C000      00000       23746             +
 USING  @DISPPIOC-72,R12
 0034D8 41D0 C050            00050 23760             +
                                   23761    4088.     *
                                   23762    4089.     * Get our bearings
                                   23763    4090.     *
 0034DC 5870 C048            00000 23764    4091.              L     RY,@DPIOASB             Get the ASB pointer
 0034E0 5870 701C            0001C 23765    4092.              WITH  (ASB,RY),'L RY,ASBASDB' Get the ASDB pointer
 USING  ASB,R7
 DROP   ASB,R7
 0034E4                            23789    4093.              IF    (@RY,NE,'ASDB'),'ABORT BADASDB'
 0034E4 D503 A21C 7000 036E4 00000 23799             +
 0034EA 4780 A056            0351E 23800             +
 0034EE AC04 021B      0021B       23809  1          +
 0034F2 9680 021A      0021A       23815  1          +
 0034F6 50F0 021C            0021C 23816  1          +
 0034FA 58F0 0210            00210 23817  1          +
 0034FE 89F0 0010            00010 23818  1          +
 003502 88F0 0010            00010 23819  1          +
 003506 41F0 F000            00000 23820  1          +
 00350A AEFF 0006            00006 23821  1          +
 00350E C2C1C4C1E2C4C240           23822             +
 USING  ASDB,R7                    23827    4094.              WITH  (ASDB,RY)
 00351E 9140 7028      00028       23840    4095.              IF    ~ASDBPFLT,'ABORT NOPFLT'
 003522 4710 A08E            03556 23850             +
 003526 AC04 021B      0021B       23859  1          +
 00352A 9680 021A      0021A       23865  1          +
 00352E 50F0 021C            0021C 23866  1          +
 003532 58F0 0210            00210 23867  1          +
 003536 89F0 0010            00010 23868  1          +
 00353A 88F0 0010            00010 23869  1          +
 00353E 41F0 F000            00000 23870  1          +
 003542 AEFF 0006            00006 23871  1          +
 003546 D5D6D7C6D3E34040           23872             +
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  187
0Current Usings:  (PZERO,R0) (ASDB,R7) (DISPPIOC,R10) (@DISPPIOC-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000371E BF             036F7 05F38 23877    4096.              CLEAR ASDBPFLT,MODE=LOCKED,REF=ASDB,REGS=(EPAR,RA,RS)
 003556 41F0 0001/111F       00001 23897             +
 00355C 89F0 0003            00003 23899             +
 003560 44F0 A258            03720 23901             +
 00371F 00/BF10 A256         0371E                   +
 003564 58F0 7028/182F       00028 23916             +
 00356A 1421/BAF2 7028       00028 23918             +
 003570 4770 A0A0            03568 23921             +
 003574 5860 032C            000AC 23922    4097.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     23923    4098.              WITH  (DCT,RX)
 USING  @LOCKS-72,R13              23936    4099.              LKOB  DCTLOCK                 Get the dispatcher lock
 003578 D203 D048 6004 00000 00004 23952             +
 00357E 58F0 A1A0/0DEF       03668 23955             +
                                   23957    4100.     *
                                   23958    4101.     * Remove a suspension from the ASDB
                                   23959    4102.     *
 003584 5820 702C            0002C 23960    4103.              L     RA,ASDBSUSP             Get the current value
 003588                            23961    4104.              LOOP  BEGIN
 003588 1812                       23967  1 4105.                LR    RS,RA                   Copy the current value
 00358A 4B10 A226            036EE 23968  1 4106.                SH    RS,=Y(1)
 00358E 47B0 A0CC/1B11       03594 23969  1 4107.                IF    NEG,'CLEAR RS'          not less than zero
 003594 BA21 702C            0002C 23989  1 4108.                CS    RA,RS,ASDBSUSP          Update the suspend count
 003598 4770 A0C0            03588 23990    4109.              UNTIL Z,END
                                   24009    4110.     *
                                   24010    4111.     * Remove a swap hold from the ASDB
                                   24011    4112.     *
 00359C 5820 7098            00098 24012    4113.              L     RA,ASDBSHCT             Get the swap hold count
 0035A0                            24013    4114.              LOOP  BEGIN
 0035A0 1812                       24019  1 4115.                LR    RS,RA                   Copy the count value
 0035A2 4B10 A226            036EE 24020  1 4116.                SH    RS,=Y(1)                Decrement the count
 0035A6 47B0 A112            035DA 24021  1 4117.                IF    NEG,'ABORT SWAPHREL'    Not too far though
 0035AA AC04 021B      0021B       24036  2          +
 0035AE 9680 021A      0021A       24042  2          +
 0035B2 50F0 021C            0021C 24043  2          +
 0035B6 58F0 0210            00210 24044  2          +
 0035BA 89F0 0010            00010 24045  2          +
 0035BE 88F0 0010            00010 24046  2          +
 0035C2 41F0 F000            00000 24047  2          +
 0035C6 AEFF 0006            00006 24048  2          +
 0035CA E2E6C1D7C8D9C5D3           24049  1          +
 0035DA BA21 7098            00098 24054  1 4118.                CS    RA,RS,ASDBSHCT          Update the count
 0035DE 4770 A0D8            035A0 24055    4119.              UNTIL Z,END                   Release one swap hold
                                   24074    4120.     *
                                   24075    4121.     * See if it needs to be swapped out
                                   24076    4122.     *
 0035E2 58F0 7014/12FF       00014 24077    4123.     PIOCLK   IF    ('LT  R15,ASDBQADD',NZ),BEGIN    Not active other CPU
 0035E8 4780 A15A            03622 24089             +
 0035EC 4820 7022            00022 24094  1 4124.                LH    RA,ASDBSPRI             Get the dispatching prio
 0035F0 1211/4770 A146       0360E 24095  1 4125.                IF    ((RS,Z),AND,(RA,LE,DCTSWPRI)),BEGIN
 0035F6 4920 60FC            000FC 24119  1          +
 0035FA 4730 A146            0360E 24120  1          +
 DROP   @LOCKS-72,R13              24125  2 4126.                  PSET  @DEMOTE,CLEAR=NO
 USING  @DEMOTE-72,R13
 0035FE 5070 D048            00000 24139  2 4127.                  ST    RY,@DEMASDB             Which one
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  188
0Current Usings:  (PZERO,R0) (DCT,R6) (ASDB,R7) (DISPPIOC,R10) (@DISPPIOC-72,R12) (@DEMOTE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003602 58F0 A220/0DEF       036E8 24140  2 4128.                  ACALL DEMOTE                  Move this one out
 003608 1200/4780 A15A       03622 24147  2 4129.                  IF    (RVR,Z),EXIT,PIOCLK     If done, ignore the rest
 00360E                            24164  1 4130.                END   ,
                                   24168  1 4131.     *
                                   24169  1 4132.     * If it should not, or could not be swapped out, we wake it up
                                   24170  1 4133.     *
 00360E 5810 702C/1211       0002C 24171  1 4134.                IF    ('LT RS,ASDBSUSP',Z),BEGIN
 003614 4770 A15A            03622 24182  1          +
 DROP   @DEMOTE-72,R13             24187  2 4135.                  PSET  @ASWAKE,CLEAR=NO
 USING  @ASWAKE-72,R13
 003618 5070 D048            00000 24201  2 4136.                  ST    RY,@ASWASDB             Save the ASDB address
 00361C 58F0 A218/0DEF       036E0 24202  2 4137.                  ACALL ASWAKE                  Wake up the ASDB
 003622                            24209  1 4138.                END   ,
 003622                            24213    4139.              END   ,
 DROP   @ASWAKE-72,R13             24217    4140.              LKREL DCTLOCK                 Free up the lock
 USING  @LOCKS-72,R13
 003622 D203 D048 6004 00000 00004 24236             +
 003628 58F0 A1A8/0DEF       03670 24239             +
 00362E 981F C008            00008 24241    4141.              PEND  ,
 DROP   DCT,R6
 DROP   ASDB,R7
 DROP   @DISPPIOC-72,R12
 DROP   DISPPIOC,R10
 003632 9680 C000/0B0E 00000       24266             +
 DROP   @LOCKS-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Address Space Management                                                               Page  189
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003638                            24276    4143.              LTORG ,
 003638 00FFFFFFFFFFFFFF           24278                             =X'00FFFFFFFFFFFFFF'
 003640 000039B0                   24279                             =A(NEWASB)
 003644 00000000                   24280                             =V(PAGASC1)
 003648 00000000                   24281                             =V(ASMGBLIN)
 00364C 00003730                   24282                             =A(NEWASDB)
 003650 00000002                   24283                             =A(2)
 003654 00000001                   24284                             =A(1)
 003658 00003870                   24285                             =A(NEWGTDB)
 00365C 070C0000                   24286                             =X'070C0000'
 003660 80002C22                   24287                             =A(X'80000000'+ASCRE2)
 003664 00003C30                   24288                             =A(GGSTK)
 003668 00000000                   24289                             =V(LKOB)
 00366C 00003DAA                   24290                             =A(PQADD)
 003670 00000000                   24291                             =V(LKREL)
 003674 00000000                   24292                             =V(VMCRAS1)
 003678 00000000                   24293                             =V(VMGET)
 00367C 000053A0                   24294                             =A(STKNEW)
 003680 00000000                   24295                             =V(ASMLCLIN)
 003684 00000000                   24296                             =V(ASMTASK)
 003688 00000064                   24297                             =A(100)
 00368C 00004CBE                   24298                             =A(TCREATE)
 003690 00003CE6                   24299                             =A(FGSTK)
 003694 00003920                   24300                             =A(DELGTDB)
 003698 00004E04                   24301                             =A(TEXIT)
 00369C 00000000                   24302                             =V(M1GOWAIT)
 0036A0 00000000                   24303                             =V(PAGAST1)
 0036A4 00001032                   24304                             =A(DISPSHLD)
 0036A8 00000000                   24305                             =V(ASMLCLX)
 0036AC 00000000                   24306                             =V(PAGAST2)
 0036B0 00002718                   24307                             =A(RTTERM)
 0036B4 00003A60                   24308                             =A(DELASB)
 0036B8 000037E0                   24309                             =A(DELASDB)
 0036BC 00000022                   24310                             =A(ASDISP)
 0036C0 00000001                   24311                             =AL4(1)
 0036C4 00003F30                   24312                             =A(PQHIGH)
 0036C8 7FFFFFFF                   24313                             =X'7FFFFFFF'
 0036CC 00000000                   24314                             =V(PAGISWAP)
 0036D0 00003EC2                   24315                             =A(PQREQ)
 0036D4 00004062                   24316                             =A(PQHPFN)
 0036D8 00000000                   24317                             =V(PAGOSWAP)
 0036DC 00003E18                   24318                             =A(PQDEL)
 0036E0 00000A26                   24319                             =A(ASWAKE)
 0036E4 C1E2C4C2                   24320                             =C'ASDB'
 0036E8 00003250                   24321                             =A(DEMOTE)
 0036EC 0003                       24322                             =Y(MAXPRIO)
 0036EE 0001                       24323                             =Y(1)
 0036F0 1F00                       24324                             =Y(31*256+0)
 0036F2 0001                       24325                             =AL2(1)
 0036F4 0004                       24326                             =Y(4)
 0036F6 04             03724 05F38 24327                             =X'04'
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  190
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  24332    4145.     *****************************************************************
                                   24333    4146.     *                                                               *
                                   24334    4147.     *  NEWASDB --  This routine obtains a new ASDB.  It first       *
                                   24335    4148.     *              looks to see if there are any free.  If not it   *
                                   24336    4149.     *              will allocate a new one.                         *
                                   24337    4150.     *                                                               *
                                   24338    4151.     *   Input  --  none                                             *
                                   24339    4152.     *                                                               *
                                   24340    4153.     *  Output  --  RVR contains a pointer to the new ASDB           *
                                   24341    4154.     *                                                               *
                                   24342    4155.     *****************************************************************
-003724                            24344    4157.     NEWASDB  PROC  SCOPE=LOCAL
 003724 D5C5E6C1E2C4C240           24351             +
 00372C 0000/0000                  24352             +
 003730 900F D004/18AF       00004 24354             +
 USING  NEWASDB,R10
 003736 50D0 C000/18CD       00000 24369             +
 00373C 9680 C000      00000       24371             +
 003740 41D0 C048            00048 24372             +
                                   24373    4158.     *
                                   24374    4159.     * Find the DCT
                                   24375    4160.     *
 003744 5860 0200            00200 24376    4161.              L     RX,PZMATP               MAT pointer
 003748 5860 6008            00008 24377    4162.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     24401    4163.              WITH  (DCT,RX)
                                   24414    4164.     *
                                   24415    4165.     * Look for a pre-existing one
                                   24416    4166.     *
 00374C 9823 6030            00030 24417    4167.              LM    RA,RB,DCTFASDB          Get free queue info
 USING  ASDB,R2                    24418    4168.              WITH  (ASDB,RA)
 003750                            24431    4169.              LOOP  BEGIN
 003750 1222/4780 A034       03764 24437  1 4170.                IF    (RA,Z),EXIT             No free ones left
 003756 5840 200C            0000C 24454  1 4171.                L     RJ,ASDBNEXT             Get pointer to the next one
 00375A 1853                       24455  1 4172.                LR    RK,RB                   Copy the control word
 00375C BB24 6030            00030 24456  1 4173.                CDS   RA,RJ,DCTFASDB          Remove it from the queue
 003760 4770 A020            03750 24457    4174.              UNTIL Z,END                   Keep on trying
                                   24476    4175.     *
                                   24477    4176.     * We've got one if any were to be had
                                   24478    4177.     *
 003764 1222/4770 A08C       037BC 24479    4178.              IF    (RA,Z),BEGIN            None were to be had
 USING  @VMGET-72,R13              24493  1 4179.                VMGET L'ASDB,LOC=GLOBHI,FIX=YES ,SP=01  Get a new one
 00376A D70A D048 D048 00000 00000 24517  1          +
 003770 4100 00C8            000C8 24529  1          +
 003774 5000 D048            00000 24534  1          +
 003778 D201 D050 A66C 00008 03D9C 24535  1          +
 00377E 58F0 A640/0DEF       03D70 24538  1          +
 003784 1200/4770 A08A       037BA 24540  1 4180.                IF    (RVR,Z),'ABORT NOMEM'
 00378A AC04 021B      0021B       24558  2          +
 00378E 9680 021A      0021A       24564  2          +
 003792 50F0 021C            0021C 24565  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  191
0Current Usings:  (PZERO,R0) (ASDB,R2) (DCT,R6) (NEWASDB,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003796 58F0 0210            00210 24566  2          +
 00379A 89F0 0010            00010 24567  2          +
 00379E 88F0 0010            00010 24568  2          +
 0037A2 41F0 F000            00000 24569  2          +
 0037A6 AEFF 0006            00006 24570  2          +
 0037AA D5D6D4C5D4404040           24571  1          +
 0037BA 1820                       24576  1 4181.                LR    RA,RVR                  Copy the Address
 0037BC                            24577    4182.              END   ,
                                   24581    4183.     *
                                   24582    4184.     * Now format it
                                   24583    4185.     *
 0037BC                            24584    4186.              CLEAR ASDB                    Clear it to zero
 0037BC D7C7 2000 2000 00000 00000 24590             +
 0037C2 D203 2000 A644 00000 03D74 24591    4187.              MVC   ASDB(4),=C'ASDB'        Move in the ID
 0037C8 1802                       24592    4188.              LR    RVR,RA                  Copy the Location
 0037CA 981F C008            00008 24593    4189.              PEND  ,
 DROP   ASDB,R2
 DROP   DCT,R6
 DROP   NEWASDB,R10
 0037CE 9680 C000/0B0E 00000       24613             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  192
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  24623    4191.     *****************************************************************
                                   24624    4192.     *                                                               *
                                   24625    4193.     *  DELASDB --  This routine frees an ASDB.  It queues it to the *
                                   24626    4194.     *              DCT.                                             *
                                   24627    4195.     *                                                               *
                                   24628    4196.     *   Input  --  @GCBDEL                                          *
                                   24629    4197.     *                                                               *
                                   24630    4198.     *  Output  --  none                                             *
                                   24631    4199.     *                                                               *
                                   24632    4200.     *****************************************************************
-000000                00000 00004 24634    4202.     @GCBDEL  RECORD BEGIN        Free a global control block
 000000                            24642  1 4203.     @GCBDLOC   DS    A             Address of the control block being freed
 000004                00004 00004 24643    4204.              END   ,
-0037D4                            24653    4206.     DELASDB  PROC  @GCBDEL,SCOPE=LOCAL
 0037D4 C4C5D3C1E2C4C240           24660             +
 0037DC 0008/0000                  24661             +
 0037E0 900F D004/18AF       00004 24663             +
 USING  DELASDB,R10
 0037E6 50D0 C000/18CD       00000 24678             +
 0037EC 9680 C000      00000       24680             +
 USING  @GCBDEL-72,R12
 0037F0 41D0 C050            00050 24694             +
                                   24695    4207.     *
                                   24696    4208.     * Verify the control block ID
                                   24697    4209.     *
 0037F4 5840 C048            00000 24698    4210.              L     RJ,@GCBDLOC             Get the ASDB address
 USING  ASDB,R4                    24699    4211.              WITH  (ASDB,RJ)
 0037F8                            24712    4212.              IF    (ASDB,NE,'ASDB'),'ABORT FREEASDB'
 0037F8 D503 A594 4000 03D74 00000 24723             +
 0037FE 4780 A052            03832 24724             +
 003802 AC04 021B      0021B       24733  1          +
 003806 9680 021A      0021A       24739  1          +
 00380A 50F0 021C            0021C 24740  1          +
 00380E 58F0 0210            00210 24741  1          +
 003812 89F0 0010            00010 24742  1          +
 003816 88F0 0010            00010 24743  1          +
 00381A 41F0 F000            00000 24744  1          +
 00381E AEFF 0006            00006 24745  1          +
 003822 C6D9C5C5C1E2C4C2           24746             +
 003832                            24751    4213.              CLEAR ASDB
 003832 D7C7 4000 4000 00000 00000 24757             +
 003838 D203 4000 A598 00000 03D78 24758    4214.              MVC   ASDB(4),=C'asdb'        Free ID
                                   24759    4215.     *
                                   24760    4216.     * Find the DCT
                                   24761    4217.     *
 00383E 5860 0200            00200 24762    4218.              L     RX,PZMATP               MAT pointer
 003842 5860 6008            00008 24763    4219.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     24787    4220.              WITH  (DCT,RX)
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  193
0Current Usings:  (PZERO,R0) (ASDB,R4) (DCT,R6) (DELASDB,R10) (@GCBDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  24800    4221.     *
                                   24801    4222.     * Add the control block to the queue
                                   24802    4223.     *
 003846 9823 6030            00030 24803    4224.              LM    RA,RB,DCTFASDB          Get current top,control
 00384A                            24804    4225.              LOOP  BEGIN
 00384A 5020 400C            0000C 24810  1 4226.                ST    RA,ASDBNEXT             Make ours point at theirs
 00384E 4150 3001            00001 24811  1 4227.                LA    RK,@RB+1                Copy and update the control
 003852 BB24 6030            00030 24812  1 4228.                CDS   RA,RJ,DCTFASDB          Update the values
 003856 4770 A06A            0384A 24813    4229.              UNTIL Z,END                   Keep on trucking
 00385A 981F C008            00008 24832    4230.              PEND  ,
 DROP   DCT,R6
 DROP   ASDB,R4
 DROP   @GCBDEL-72,R12
 DROP   DELASDB,R10
 00385E 9680 C000/0B0E 00000       24857             +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  194
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  24864    4232.     *****************************************************************
                                   24865    4233.     *                                                               *
                                   24866    4234.     *  NEWGTDB --  This routine obtains a new Global TDB. First it  *
                                   24867    4235.     *              looks to see if there are any free.  If not it   *
                                   24868    4236.     *              will allocate a new one.                         *
                                   24869    4237.     *                                                               *
                                   24870    4238.     *   Input  --  none                                             *
                                   24871    4239.     *                                                               *
                                   24872    4240.     *  Output  --  RVR contains a pointer to the new TDB            *
                                   24873    4241.     *                                                               *
                                   24874    4242.     *****************************************************************
-003864                            24876    4244.     NEWGTDB  PROC  SCOPE=LOCAL
 003864 D5C5E6C7E3C4C240           24883             +
 00386C 0000/0000                  24884             +
 003870 900F D004/18AF       00004 24886             +
 USING  NEWGTDB,R10
 003876 50D0 C000/18CD       00000 24901             +
 00387C 9680 C000      00000       24903             +
 003880 41D0 C048            00048 24904             +
                                   24905    4245.     *
                                   24906    4246.     * Find the DCT
                                   24907    4247.     *
 003884 5860 0200            00200 24908    4248.              L     RX,PZMATP               MAT pointer
 003888 5860 6008            00008 24909    4249.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     24933    4250.              WITH  (DCT,RX)
                                   24946    4251.     *
                                   24947    4252.     * Look for a pre-existing one
                                   24948    4253.     *
 00388C 9823 6038            00038 24949    4254.              LM    RA,RB,DCTFTDB           Get free queue info
 USING  TDB,R2                     24950    4255.              WITH  (TDB,RA)
 003890                            24963    4256.              LOOP  BEGIN
 003890 1222/4780 A034       038A4 24969  1 4257.                IF    (RA,Z),EXIT             No free ones left
 003896 5840 200C            0000C 24986  1 4258.                L     RJ,TDBNEXT              Get pointer to the next one
 00389A 1853                       24987  1 4259.                LR    RK,RB                   Copy the control word
 00389C BB24 6038            00038 24988  1 4260.                CDS   RA,RJ,DCTFTDB           Remove it from the queue
 0038A0 4770 A020            03890 24989    4261.              UNTIL Z,END                   Keep on trying
                                   25008    4262.     *
                                   25009    4263.     * We've got one if any were to be had
                                   25010    4264.     *
 0038A4 1222/4770 A08C       038FC 25011    4265.              IF    (RA,Z),BEGIN            None were to be had
 USING  @VMGET-72,R13              25025  1 4266.                VMGET L'TDB,LOC=GLOBHI,FIX=YES ,SP=01   Get a new one
 0038AA D70A D048 D048 00000 00000 25049  1          +
 0038B0 4100 00E0            000E0 25061  1          +
 0038B4 5000 D048            00000 25066  1          +
 0038B8 D201 D050 A52C 00008 03D9C 25067  1          +
 0038BE 58F0 A500/0DEF       03D70 25070  1          +
 0038C4 1200/4770 A08A       038FA 25072  1 4267.                IF    (RVR,Z),'ABORT NOMEM'
 0038CA AC04 021B      0021B       25090  2          +
 0038CE 9680 021A      0021A       25096  2          +
 0038D2 50F0 021C            0021C 25097  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  195
0Current Usings:  (PZERO,R0) (TDB,R2) (DCT,R6) (NEWGTDB,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00038D6 58F0 0210            00210 25098  2          +
 0038DA 89F0 0010            00010 25099  2          +
 0038DE 88F0 0010            00010 25100  2          +
 0038E2 41F0 F000            00000 25101  2          +
 0038E6 AEFF 0006            00006 25102  2          +
 0038EA D5D6D4C5D4404040           25103  1          +
 0038FA 1820                       25108  1 4268.                LR    RA,RVR                  Copy the Address
 0038FC                            25109    4269.              END   ,
                                   25113    4270.     *
                                   25114    4271.     * Now format it
                                   25115    4272.     *
 0038FC                            25116    4273.              CLEAR TDB                     Clear it to zero
 0038FC D7DF 2000 2000 00000 00000 25122             +
 003902 D203 2000 A50C 00000 03D7C 25123    4274.              MVC   TDB(4),=C'TDB '         Move in the ID
 003908 1802                       25124    4275.              LR    RVR,RA                  Copy the Location
 00390A 981F C008            00008 25125    4276.              PEND  ,
 DROP   TDB,R2
 DROP   DCT,R6
 DROP   NEWGTDB,R10
 00390E 9680 C000/0B0E 00000       25145             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  196
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  25155    4278.     *****************************************************************
                                   25156    4279.     *                                                               *
                                   25157    4280.     *  DELGTDB --  This routine frees a global TDB. It queues it    *
                                   25158    4281.     *              off the DCT.                                     *
                                   25159    4282.     *                                                               *
                                   25160    4283.     *   Input  --  @GCBDEL                                          *
                                   25161    4284.     *                                                               *
                                   25162    4285.     *  Output  --  none                                             *
                                   25163    4286.     *                                                               *
                                   25164    4287.     *****************************************************************
-003914                            25166    4289.     DELGTDB  PROC  @GCBDEL,SCOPE=LOCAL
 003914 C4C5D3C7E3C4C240           25173             +
 00391C 0008/0000                  25174             +
 003920 900F D004/18AF       00004 25176             +
 USING  DELGTDB,R10
 003926 50D0 C000/18CD       00000 25191             +
 00392C 9680 C000      00000       25193             +
 USING  @GCBDEL-72,R12
 003930 41D0 C050            00050 25207             +
                                   25208    4290.     *
                                   25209    4291.     * Verify the control block ID
                                   25210    4292.     *
 003934 5840 C048            00000 25211    4293.              L     RJ,@GCBDLOC             Get the ASDB address
 USING  TDB,R4                     25212    4294.              WITH  (TDB,RJ)
 003938                            25225    4295.              IF    (TDB,NE,'TDB '),'ABORT FREEGTDB'
 003938 D503 A45C 4000 03D7C 00000 25236             +
 00393E 4780 A052            03972 25237             +
 003942 AC04 021B      0021B       25246  1          +
 003946 9680 021A      0021A       25252  1          +
 00394A 50F0 021C            0021C 25253  1          +
 00394E 58F0 0210            00210 25254  1          +
 003952 89F0 0010            00010 25255  1          +
 003956 88F0 0010            00010 25256  1          +
 00395A 41F0 F000            00000 25257  1          +
 00395E AEFF 0006            00006 25258  1          +
 003962 C6D9C5C5C7E3C4C2           25259             +
 003972                            25264    4296.              CLEAR TDB
 003972 D7DF 4000 4000 00000 00000 25270             +
 003978 D203 4000 A460 00000 03D80 25271    4297.              MVC   TDB(4),=C'gtdb'         Free ID
                                   25272    4298.     *
                                   25273    4299.     * Find the DCT
                                   25274    4300.     *
 00397E 5860 0200            00200 25275    4301.              L     RX,PZMATP               MAT pointer
 003982 5860 6008            00008 25276    4302.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     25300    4303.              WITH  (DCT,RX)
                                   25313    4304.     *
                                   25314    4305.     * Add the control block to the queue
                                   25315    4306.     *
 003986 9823 6038            00038 25316    4307.              LM    RA,RB,DCTFTDB           Get current top,control
 00398A                            25317    4308.              LOOP  BEGIN
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  197
0Current Usings:  (PZERO,R0) (TDB,R4) (DCT,R6) (DELGTDB,R10) (@GCBDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000398A 5020 400C            0000C 25323  1 4309.                ST    RA,TDBNEXT              Make ours point at theirs
 00398E 4150 3001            00001 25324  1 4310.                LA    RK,@RB+1                Copy and update the control
 003992 BB24 6038            00038 25325  1 4311.                CDS   RA,RJ,DCTFTDB           Update the values
 003996 4770 A06A            0398A 25326    4312.              UNTIL Z,END                   Keep on trucking
 00399A 981F C008            00008 25345    4313.              PEND  ,
 DROP   DCT,R6
 DROP   TDB,R4
 DROP   @GCBDEL-72,R12
 DROP   DELGTDB,R10
 00399E 9680 C000/0B0E 00000       25370             +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  198
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  25377    4315.     *****************************************************************
                                   25378    4316.     *                                                               *
                                   25379    4317.     *   NEWASB --  This routine obtains a new ASB.  It first        *
                                   25380    4318.     *              looks to see if there are any free.  If not it   *
                                   25381    4319.     *              will allocate a new one.                         *
                                   25382    4320.     *                                                               *
                                   25383    4321.     *   Input  --  none                                             *
                                   25384    4322.     *                                                               *
                                   25385    4323.     *  Output  --  RVR contains a pointer to the new ASB            *
                                   25386    4324.     *                                                               *
                                   25387    4325.     *****************************************************************
-0039A4                            25389    4327.     NEWASB   PROC  SCOPE=LOCAL
 0039A4 D5C5E6C1E2C24040           25396             +
 0039AC 0000/0000                  25397             +
 0039B0 900F D004/18AF       00004 25399             +
 USING  NEWASB,R10
 0039B6 50D0 C000/18CD       00000 25414             +
 0039BC 9680 C000      00000       25416             +
 0039C0 41D0 C048            00048 25417             +
                                   25418    4328.     *
                                   25419    4329.     * Find the DCT
                                   25420    4330.     *
 0039C4 5860 0200            00200 25421    4331.              L     RX,PZMATP               MAT pointer
 0039C8 5860 6008            00008 25422    4332.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     25446    4333.              WITH  (DCT,RX)
                                   25459    4334.     *
                                   25460    4335.     * Look for a pre-existing one
                                   25461    4336.     *
 0039CC 9823 6028            00028 25462    4337.              LM    RA,RB,DCTFASB           Get free queue info
 USING  ASB,R2                     25463    4338.              WITH  (ASB,RA)
 0039D0                            25476    4339.              LOOP  BEGIN
 0039D0 1222/4780 A034       039E4 25482  1 4340.                IF    (RA,Z),EXIT             No free ones left
 0039D6 5840 2004            00004 25499  1 4341.                L     RJ,ASBNEXT              Get pointer to the next one
 0039DA 1853                       25500  1 4342.                LR    RK,RB                   Copy the control word
 0039DC BB24 6028            00028 25501  1 4343.                CDS   RA,RJ,DCTFASB           Remove it from the queue
 0039E0 4770 A020            039D0 25502    4344.              UNTIL Z,END                   Keep on trying
                                   25521    4345.     *
                                   25522    4346.     * We've got one if any were to be had
                                   25523    4347.     *
 0039E4 1222/4770 A08C       03A3C 25524    4348.              IF    (RA,Z),BEGIN            None were to be had
 USING  @VMGET-72,R13              25538  1 4349.                VMGET L'ASB,LOC=GLOBHI,FIX=YES ,SP=01   Get a new one
 0039EA D70A D048 D048 00000 00000 25562  1          +
 0039F0 4100 0044            00044 25574  1          +
 0039F4 5000 D048            00000 25579  1          +
 0039F8 D201 D050 A3EC 00008 03D9C 25580  1          +
 0039FE 58F0 A3C0/0DEF       03D70 25583  1          +
 003A04 1200/4770 A08A       03A3A 25585  1 4350.                IF    (RVR,Z),'ABORT NOMEM'
 003A0A AC04 021B      0021B       25603  2          +
 003A0E 9680 021A      0021A       25609  2          +
 003A12 50F0 021C            0021C 25610  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  199
0Current Usings:  (PZERO,R0) (ASB,R2) (DCT,R6) (NEWASB,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003A16 58F0 0210            00210 25611  2          +
 003A1A 89F0 0010            00010 25612  2          +
 003A1E 88F0 0010            00010 25613  2          +
 003A22 41F0 F000            00000 25614  2          +
 003A26 AEFF 0006            00006 25615  2          +
 003A2A D5D6D4C5D4404040           25616  1          +
 003A3A 1820                       25621  1 4351.                LR    RA,RVR                  Copy the Address
 003A3C                            25622    4352.              END   ,
                                   25626    4353.     *
                                   25627    4354.     * Now format it
                                   25628    4355.     *
 003A3C                            25629    4356.              CLEAR ASB                     Clear it to zero
 003A3C D743 2000 2000 00000 00000 25635             +
 003A42 D203 2000 A3D4 00000 03D84 25636    4357.              MVC   ASB(4),=C'ASB '         Move in the ID
 003A48 1802                       25637    4358.              LR    RVR,RA                  Copy the Location
 003A4A 981F C008            00008 25638    4359.              PEND  ,
 DROP   ASB,R2
 DROP   DCT,R6
 DROP   NEWASB,R10
 003A4E 9680 C000/0B0E 00000       25658             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  200
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  25668    4361.     *****************************************************************
                                   25669    4362.     *                                                               *
                                   25670    4363.     *   DELASB --  This routine frees an ASB.   It queues it to the *
                                   25671    4364.     *              DCT.                                             *
                                   25672    4365.     *                                                               *
                                   25673    4366.     *   Input  --  @GCBDEL                                          *
                                   25674    4367.     *                                                               *
                                   25675    4368.     *  Output  --  none                                             *
                                   25676    4369.     *                                                               *
                                   25677    4370.     *****************************************************************
-003A54                            25679    4372.     DELASB   PROC  @GCBDEL,SCOPE=LOCAL
 003A54 C4C5D3C1E2C24040           25686             +
 003A5C 0008/0000                  25687             +
 003A60 900F D004/18AF       00004 25689             +
 USING  DELASB,R10
 003A66 50D0 C000/18CD       00000 25704             +
 003A6C 9680 C000      00000       25706             +
 USING  @GCBDEL-72,R12
 003A70 41D0 C050            00050 25720             +
                                   25721    4373.     *
                                   25722    4374.     * Verify the control block ID
                                   25723    4375.     *
 003A74 5840 C048            00000 25724    4376.              L     RJ,@GCBDLOC             Get the ASDB address
 USING  ASB,R4                     25725    4377.              WITH  (ASB,RJ)
 003A78                            25738    4378.              IF    (ASB,NE,'ASB '),'ABORT FREEASB'
 003A78 D503 A324 4000 03D84 00000 25749             +
 003A7E 4780 A052            03AB2 25750             +
 003A82 AC04 021B      0021B       25759  1          +
 003A86 9680 021A      0021A       25765  1          +
 003A8A 50F0 021C            0021C 25766  1          +
 003A8E 58F0 0210            00210 25767  1          +
 003A92 89F0 0010            00010 25768  1          +
 003A96 88F0 0010            00010 25769  1          +
 003A9A 41F0 F000            00000 25770  1          +
 003A9E AEFF 0006            00006 25771  1          +
 003AA2 C6D9C5C5C1E2C240           25772             +
 003AB2                            25777    4379.              CLEAR ASB
 003AB2 D743 4000 4000 00000 00000 25783             +
 003AB8 D203 4000 A328 00000 03D88 25784    4380.              MVC   ASB(4),=C'asb '         Free ID
                                   25785    4381.     *
                                   25786    4382.     * Find the DCT
                                   25787    4383.     *
 003ABE 5860 0200            00200 25788    4384.              L     RX,PZMATP               MAT pointer
 003AC2 5860 6008            00008 25789    4385.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     25813    4386.              WITH  (DCT,RX)
                                   25826    4387.     *
                                   25827    4388.     * Add the control block to the queue
                                   25828    4389.     *
 003AC6 9823 6028            00028 25829    4390.              LM    RA,RB,DCTFASB           Get current top,control
 003ACA                            25830    4391.              LOOP  BEGIN
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  201
0Current Usings:  (PZERO,R0) (ASB,R4) (DCT,R6) (DELASB,R10) (@GCBDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003ACA 5020 4004            00004 25836  1 4392.                ST    RA,ASBNEXT              Make ours point at theirs
 003ACE 4150 3001            00001 25837  1 4393.                LA    RK,@RB+1                Copy and update the control
 003AD2 BB24 6028            00028 25838  1 4394.                CDS   RA,RJ,DCTFASB           Update the values
 003AD6 4770 A06A            03ACA 25839    4395.              UNTIL Z,END                   Keep on trucking
 003ADA 981F C008            00008 25858    4396.              PEND  ,
 DROP   DCT,R6
 DROP   ASB,R4
 DROP   @GCBDEL-72,R12
 DROP   DELASB,R10
 003ADE 9680 C000/0B0E 00000       25883             +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  202
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  25890    4398.     *****************************************************************
                                   25891    4399.     *                                                               *
                                   25892    4400.     *  NEWRTCQ --  This routine obtains a new RTCQ. If first        *
                                   25893    4401.     *              looks to see if there are any free.  If not it   *
                                   25894    4402.     *              will allocate a new one.                         *
                                   25895    4403.     *                                                               *
                                   25896    4404.     *   Input  --  none                                             *
                                   25897    4405.     *                                                               *
                                   25898    4406.     *  Output  --  RVR contains a pointer to the new RTCQ           *
                                   25899    4407.     *                                                               *
                                   25900    4408.     *****************************************************************
-003AE4                            25902    4410.     NEWRTCQ  PROC  SCOPE=LOCAL
 003AE4 D5C5E6D9E3C3D840           25909             +
 003AEC 0000/0000                  25910             +
 003AF0 900F D004/18AF       00004 25912             +
 USING  NEWRTCQ,R10
 003AF6 50D0 C000/18CD       00000 25927             +
 003AFC 9680 C000      00000       25929             +
 003B00 41D0 C048            00048 25930             +
                                   25931    4411.     *
                                   25932    4412.     * Find the DCT
                                   25933    4413.     *
 003B04 5860 0200            00200 25934    4414.              L     RX,PZMATP               MAT pointer
 003B08 5860 6008            00008 25935    4415.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     25959    4416.              WITH  (DCT,RX)
                                   25972    4417.     *
                                   25973    4418.     * Look for a pre-existing one
                                   25974    4419.     *
 003B0C 9823 6040            00040 25975    4420.              LM    RA,RB,DCTFRTCQ          Get free queue info
 USING  RTCQ,R2                    25976    4421.              WITH  (RTCQ,RA)
 003B10                            25989    4422.              LOOP  BEGIN
 003B10 1222/4780 A034       03B24 25995  1 4423.                IF    (RA,Z),EXIT             No free ones left
 003B16 5840 2004            00004 26012  1 4424.                L     RJ,RTCQNEXT             Get pointer to the next one
 003B1A 1853                       26013  1 4425.                LR    RK,RB                   Copy the control word
 003B1C BB24 6040            00040 26014  1 4426.                CDS   RA,RJ,DCTFRTCQ          Remove it from the queue
 003B20 4770 A020            03B10 26015    4427.              UNTIL Z,END                   Keep on trying
                                   26034    4428.     *
                                   26035    4429.     * We've got one if any were to be had
                                   26036    4430.     *
 003B24 1222/4770 A08C       03B7C 26037    4431.              IF    (RA,Z),BEGIN            None were to be had
 USING  @VMGET-72,R13              26051  1 4432.                VMGET L'RTCQ,LOC=GLOBHI,FIX=YES ,SP=01  Get a new one
 003B2A D70A D048 D048 00000 00000 26075  1          +
 003B30 4100 0029            00029 26087  1          +
 003B34 5000 D048            00000 26092  1          +
 003B38 D201 D050 A2AC 00008 03D9C 26093  1          +
 003B3E 58F0 A280/0DEF       03D70 26096  1          +
 003B44 1200/4770 A08A       03B7A 26098  1 4433.                IF    (RVR,Z),'ABORT NOMEM'
 003B4A AC04 021B      0021B       26116  2          +
 003B4E 9680 021A      0021A       26122  2          +
 003B52 50F0 021C            0021C 26123  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  203
0Current Usings:  (PZERO,R0) (RTCQ,R2) (DCT,R6) (NEWRTCQ,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003B56 58F0 0210            00210 26124  2          +
 003B5A 89F0 0010            00010 26125  2          +
 003B5E 88F0 0010            00010 26126  2          +
 003B62 41F0 F000            00000 26127  2          +
 003B66 AEFF 0006            00006 26128  2          +
 003B6A D5D6D4C5D4404040           26129  1          +
 003B7A 1820                       26134  1 4434.                LR    RA,RVR                  Copy the Address
 003B7C                            26135    4435.              END   ,
                                   26139    4436.     *
                                   26140    4437.     * Now format it
                                   26141    4438.     *
 003B7C                            26142    4439.              CLEAR RTCQ                    Clear it to zero
 003B7C D728 2000 2000 00000 00000 26148             +
 003B82 D203 2000 A29C 00000 03D8C 26149    4440.              MVC   RTCQ(4),=C'RTCQ'        Move in the ID
 003B88 1802                       26150    4441.              LR    RVR,RA                  Copy the Location
 003B8A 981F C008            00008 26151    4442.              PEND  ,
 DROP   RTCQ,R2
 DROP   DCT,R6
 DROP   NEWRTCQ,R10
 003B8E 9680 C000/0B0E 00000       26171             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  204
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  26181    4444.     *****************************************************************
                                   26182    4445.     *                                                               *
                                   26183    4446.     *  DELRTCQ --  This routine frees an RTCQ.  It queues it to the *
                                   26184    4447.     *              DCT.                                             *
                                   26185    4448.     *                                                               *
                                   26186    4449.     *   Input  --  @GCBDEL                                          *
                                   26187    4450.     *                                                               *
                                   26188    4451.     *  Output  --  none                                             *
                                   26189    4452.     *                                                               *
                                   26190    4453.     *****************************************************************
-003B94                            26192    4455.     DELRTCQ  PROC  @GCBDEL,SCOPE=LOCAL
 003B94 C4C5D3D9E3C3D840           26199             +
 003B9C 0008/0000                  26200             +
 003BA0 900F D004/18AF       00004 26202             +
 USING  DELRTCQ,R10
 003BA6 50D0 C000/18CD       00000 26217             +
 003BAC 9680 C000      00000       26219             +
 USING  @GCBDEL-72,R12
 003BB0 41D0 C050            00050 26233             +
                                   26234    4456.     *
                                   26235    4457.     * Verify the control block ID
                                   26236    4458.     *
 003BB4 5840 C048            00000 26237    4459.              L     RJ,@GCBDLOC             Get the ASDB address
 USING  RTCQ,R4                    26238    4460.              WITH  (RTCQ,RJ)
 003BB8                            26251    4461.              IF    (RTCQ,NE,'RTCQ'),'ABORT FREERTCQ'
 003BB8 D503 A1EC 4000 03D8C 00000 26262             +
 003BBE 4780 A052            03BF2 26263             +
 003BC2 AC04 021B      0021B       26272  1          +
 003BC6 9680 021A      0021A       26278  1          +
 003BCA 50F0 021C            0021C 26279  1          +
 003BCE 58F0 0210            00210 26280  1          +
 003BD2 89F0 0010            00010 26281  1          +
 003BD6 88F0 0010            00010 26282  1          +
 003BDA 41F0 F000            00000 26283  1          +
 003BDE AEFF 0006            00006 26284  1          +
 003BE2 C6D9C5C5D9E3C3D8           26285             +
 003BF2                            26290    4462.              CLEAR RTCQ
 003BF2 D728 4000 4000 00000 00000 26296             +
 003BF8 D203 4000 A1F0 00000 03D90 26297    4463.              MVC   RTCQ(4),=C'rtcq'         Free ID
                                   26298    4464.     *
                                   26299    4465.     * Find the DCT
                                   26300    4466.     *
 003BFE 5860 0200            00200 26301    4467.              L     RX,PZMATP               MAT pointer
 003C02 5860 6008            00008 26302    4468.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     26326    4469.              WITH  (DCT,RX)
                                   26339    4470.     *
                                   26340    4471.     * Add the control block to the queue
                                   26341    4472.     *
 003C06 9823 6040            00040 26342    4473.              LM    RA,RB,DCTFRTCQ          Get current top,control
 003C0A                            26343    4474.              LOOP  BEGIN
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  205
0Current Usings:  (PZERO,R0) (RTCQ,R4) (DCT,R6) (DELRTCQ,R10) (@GCBDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003C0A 5020 4004            00004 26349  1 4475.                ST    RA,RTCQNEXT             Make ours point at theirs
 003C0E 4150 3001            00001 26350  1 4476.                LA    RK,@RB+1                Copy and update the control
 003C12 BB24 6040            00040 26351  1 4477.                CDS   RA,RJ,DCTFRTCQ          Update the values
 003C16 4770 A06A            03C0A 26352    4478.              UNTIL Z,END                   Keep on trucking
 003C1A 981F C008            00008 26371    4479.              PEND  ,
 DROP   DCT,R6
 DROP   RTCQ,R4
 DROP   @GCBDEL-72,R12
 DROP   DELRTCQ,R10
 003C1E 9680 C000/0B0E 00000       26396             +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  206
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  26403    4481.     *****************************************************************
                                   26404    4482.     *                                                               *
                                   26405    4483.     *    GGSTK --  This routine gets a new global fixed stack.  It  *
                                   26406    4484.     *              first checks the DCT to see if there is one      *
                                   26407    4485.     *              already that can be used.  If not, it allocates  *
                                   26408    4486.     *              another one.                                     *
                                   26409    4487.     *                                                               *
                                   26410    4488.     *   Input  --  none                                             *
                                   26411    4489.     *                                                               *
                                   26412    4490.     *  Output  --  RVR contains a pointer to the new stack.         *
                                   26413    4491.     *                                                               *
                                   26414    4492.     *****************************************************************
-003C24                            26416    4494.     GGSTK    PROC  SCOPE=LOCAL
 003C24 C7C7E2E3D2404040           26423             +
 003C2C 0000/0000                  26424             +
 003C30 900F D004/18AF       00004 26426             +
 USING  GGSTK,R10
 003C36 50D0 C000/18CD       00000 26441             +
 003C3C 9680 C000      00000       26443             +
 003C40 41D0 C048            00048 26444             +
                                   26445    4495.     *
                                   26446    4496.     * Find the DCT
                                   26447    4497.     *
 003C44 5860 0200            00200 26448    4498.              L     RX,PZMATP               MAT pointer
 003C48 5860 6008            00008 26449    4499.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     26473    4500.              WITH  (DCT,RX)
                                   26486    4501.     *
                                   26487    4502.     * Look for a pre-existing one
                                   26488    4503.     *
 003C4C 9823 6050            00050 26489    4504.              LM    RA,RB,DCTFSTK           Get free queue info
 003C50                            26490    4505.              LOOP  BEGIN
 003C50 1222/4780 A034       03C64 26496  1 4506.                IF    (RA,Z),EXIT             No free ones left
 003C56 5840 2000            00000 26513  1 4507.                L     RJ,@RA                  Get pointer to the next one
 003C5A 1853                       26514  1 4508.                LR    RK,RB                   Copy the control word
 003C5C BB24 6050            00050 26515  1 4509.                CDS   RA,RJ,DCTFSTK           Remove it from the queue
 003C60 4770 A020            03C50 26516    4510.              UNTIL Z,END                   Keep on trying
                                   26535    4511.     *
                                   26536    4512.     * We've got one if any were to be had
                                   26537    4513.     *
 003C64 1222/4770 A08C       03CBC 26538    4514.              IF    (RA,Z),BEGIN            None were to be had
 USING  @VMGET-72,R13              26552  1 4515.                VMGET STKSIZE,LOC=GLOBHI,FIX=YES ,SP=01 Get a new one
 003C6A D70A D048 D048 00000 00000 26576  1          +
 003C70 4100 0800            00800 26588  1          +
 003C74 5000 D048            00000 26593  1          +
 003C78 D201 D050 A16C 00008 03D9C 26594  1          +
 003C7E 58F0 A140/0DEF       03D70 26597  1          +
 003C84 1200/4770 A08A       03CBA 26599  1 4516.                IF    (RVR,Z),'ABORT NOMEM'
 003C8A AC04 021B      0021B       26617  2          +
 003C8E 9680 021A      0021A       26623  2          +
 003C92 50F0 021C            0021C 26624  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  207
0Current Usings:  (PZERO,R0) (DCT,R6) (GGSTK,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003C96 58F0 0210            00210 26625  2          +
 003C9A 89F0 0010            00010 26626  2          +
 003C9E 88F0 0010            00010 26627  2          +
 003CA2 41F0 F000            00000 26628  2          +
 003CA6 AEFF 0006            00006 26629  2          +
 003CAA D5D6D4C5D4404040           26630  1          +
 003CBA 1820                       26635  1 4517.                LR    RA,RVR                  Copy the Address
 003CBC                            26636    4518.              END   ,
                                   26640    4519.     *
                                   26641    4520.     * Now format it
                                   26642    4521.     *
 003CBC 41E0 2000            00000 26643    4522.              ZOT   @RA,STKSIZE             Clear it to zero
 003CC0 41F0 0800/1B11       00800 26657             +
 003CC6 0EE0                       26659             +
 003CC8 D203 2004 A164 00004 03D94 26660    4523.              MVC   @RA+4(4),=C'GSTK'       A bit of an ID
 003CCE 1802                       26661    4524.              LR    RVR,RA                  Copy the Location
 003CD0 981F C008            00008 26662    4525.              PEND  ,
 DROP   DCT,R6
 DROP   GGSTK,R10
 003CD4 9680 C000/0B0E 00000       26677             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  208
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  26687    4527.     *****************************************************************
                                   26688    4528.     *                                                               *
                                   26689    4529.     *    FGSTK --  This routine frees a global stack obtained with  *
                                   26690    4530.     *              GGSTK.  It just queues it up to the DCT.         *
                                   26691    4531.     *                                                               *
                                   26692    4532.     *   Input  --  @GCBDEL                                          *
                                   26693    4533.     *                                                               *
                                   26694    4534.     *  Output  --  none                                             *
                                   26695    4535.     *                                                               *
                                   26696    4536.     *****************************************************************
-003CDA                            26698    4538.     FGSTK    PROC  @GCBDEL,SCOPE=LOCAL
 003CDA C6C7E2E3D2404040           26705             +
 003CE2 0008/0000                  26706             +
 003CE6 900F D004/18AF       00004 26708             +
 USING  FGSTK,R10
 003CEC 50D0 C000/18CD       00000 26723             +
 003CF2 9680 C000      00000       26725             +
 USING  @GCBDEL-72,R12
 003CF6 41D0 C050            00050 26739             +
                                   26740    4539.     *
                                   26741    4540.     * Verify the control block ID
                                   26742    4541.     *
 003CFA 5840 C048            00000 26743    4542.              L     RJ,@GCBDLOC             Get the stack address
 003CFE                            26744    4543.              IF    (@RJ+4,NE,'GSTK'),'ABORT FREEGSTK'
 003CFE D503 A0AE 4004 03D94 00004 26754             +
 003D04 4780 A052            03D38 26755             +
 003D08 AC04 021B      0021B       26764  1          +
 003D0C 9680 021A      0021A       26770  1          +
 003D10 50F0 021C            0021C 26771  1          +
 003D14 58F0 0210            00210 26772  1          +
 003D18 89F0 0010            00010 26773  1          +
 003D1C 88F0 0010            00010 26774  1          +
 003D20 41F0 F000            00000 26775  1          +
 003D24 AEFF 0006            00006 26776  1          +
 003D28 C6D9C5C5C7E2E3D2           26777             +
 003D38 41E0 4000            00000 26782    4544.              ZOT   @RJ,STKSIZE             Clear it
 003D3C 41F0 0800/1B11       00800 26796             +
 003D42 0EE0                       26798             +
 003D44 D203 4004 A0B2 00004 03D98 26799    4545.              MVC   @RJ+4(4),=C'gstk'       Different ID
                                   26800    4546.     *
                                   26801    4547.     * Find the DCT
                                   26802    4548.     *
 003D4A 5860 0200            00200 26803    4549.              L     RX,PZMATP               MAT pointer
 003D4E 5860 6008            00008 26804    4550.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     26828    4551.              WITH  (DCT,RX)
                                   26841    4552.     *
                                   26842    4553.     * Add the stack to the queue
                                   26843    4554.     *
 003D52 9823 6050            00050 26844    4555.              LM    RA,RB,DCTFSTK           Get current top,control
 003D56                            26845    4556.              LOOP  BEGIN
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  209
0Current Usings:  (PZERO,R0) (DCT,R6) (FGSTK,R10) (@GCBDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003D56 5020 4000            00000 26851  1 4557.                ST    RA,@RJ                  Make ours point at theirs
 003D5A 4150 3001            00001 26852  1 4558.                LA    RK,@RB+1                Copy and update the control
 003D5E BB24 6050            00050 26853  1 4559.                CDS   RA,RJ,DCTFSTK           Update the values
 003D62 4770 A070            03D56 26854    4560.              UNTIL Z,END                   Keep on trucking
 003D66 981F C008            00008 26873    4561.              PEND  ,
 DROP   DCT,R6
 DROP   @GCBDEL-72,R12
 DROP   FGSTK,R10
 003D6A 9680 C000/0B0E 00000       26893             +
1DISPATCH (DISP00) (09:38) (22MAR04) Global Control Block Allocation/Deallocation                                           Page  210
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003D70                            26900    4563.              LTORG
 003D70 00000000                   26902                             =V(VMGET)
 003D74 C1E2C4C2                   26903                             =C'ASDB'
 003D78 81A28482                   26904                             =C'asdb'
 003D7C E3C4C240                   26905                             =C'TDB '
 003D80 87A38482                   26906                             =C'gtdb'
 003D84 C1E2C240                   26907                             =C'ASB '
 003D88 81A28240                   26908                             =C'asb '
 003D8C D9E3C3D8                   26909                             =C'RTCQ'
 003D90 99A38398                   26910                             =C'rtcq'
 003D94 C7E2E3D2                   26911                             =C'GSTK'
 003D98 87A2A392                   26912                             =C'gstk'
 003D9C 3F00           03D9E 05F38 26913                             =Y(63*256+0)
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  211
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  26918    4565.     *****************************************************************
                                   26919    4566.     *                                                               *
                                   26920    4567.     *   PQADD  --  This routine adds an ASDB to the priority queue  *
                                   26921    4568.     *              whose header is passed.  It puts the ASDB after  *
                                   26922    4569.     *              those ASDBs in the queue that have the same      *
                                   26923    4570.     *              priority.                                        *
                                   26924    4571.     *                                                               *
                                   26925    4572.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   26926    4573.     *                                                               *
                                   26927    4574.     *   Input  --  PQPARM                                           *
                                   26928    4575.     *                                                               *
                                   26929    4576.     *  Output  --  none                                             *
                                   26930    4577.     *                                                               *
                                   26931    4578.     *****************************************************************
-000000                00000 00008 26933    4580.     PQPARM   RECORD BEGIN
 000000                            26941  1 4581.     PQASDB     DS    A             ASDB value
 000004                            26942  1 4582.     PQQUEUE    DS    A             Address of the header for the queue
 000008                00008 00008 26943    4583.              END   ,
-003D9E                            26953    4585.     PQADD    PROC  PQPARM,SCOPE=LOCAL
 003D9E D7D8C1C4C4404040           26960             +
 003DA6 0008/0000                  26961             +
 003DAA 900F D004/18AF       00004 26963             +
 USING  PQADD,R10
 003DB0 50D0 C000/18CD       00000 26978             +
 003DB6 9680 C000      00000       26980             +
 USING  PQPARM-72,R12
 003DBA 41D0 C050            00050 26994             +
 003DBE 5870 C048            00000 26995    4586.              L     RY,PQASDB               Addr of ASDB to add
 USING  ASDB,R7                    26996    4587.              WITH  (ASDB,RY)
                                   27009    4588.     *
                                   27010    4589.     * Determine the queue level on which this ASDB will go.
                                   27011    4590.     *
 003DC2 4820 7022            00022 27012    4591.              LH    RA,ASDBSPRI             Get the priority
 003DC6 8920 0003            00003 27013    4592.              SLL   RA,3                    Multiply by 8
 003DCA 5A20 C04C            00004 27014    4593.              A     RA,PQQUEUE              Address of Header/trailer
                                   27015    4594.     *
                                   27016    4595.     * Add it to the end of the queue at this level
                                   27017    4596.     *
 003DCE 5840 2004/1244       00004 27018    4597.              LT    RJ,@RA+4                Get the tail pointer
 003DD4 4770 A03C            03DE6 27022    4598.              IF    Z,BEGIN                 If no one else in the queue
 003DD8 5070 2000            00000 27033  1 4599.                ST    RY,@RA                  Point the header here
 003DDC 5070 2004            00004 27034  1 4600.                ST    RY,@RA+4                And the tail as well
 003DE0                            27035  1 4601.                CLEAR (ASDBNEXT,8)            Then clear the pointers
 003DE0 D707 700C 700C 0000C 0000C 27041  1          +
 003DE6 A040           03DE6 03DD6 27042    4602.              END   ELSE,BEGIN              At least one in the queue
 003DE6 47F0 A052            03DFC 27051             +
 003DEA                            27057  1 4603.                CLEAR ASDBNEXT
 003DEA D703 700C 700C 0000C 0000C 27063  1          +
 003DF0 5040 7010            00010 27064  1 4604.                ST    RJ,ASDBPREV             Update the previous pointer
 003DF4 5070 400C            0000C 27065  1 4605.                ST    RY,ASDBNEXT-ASDB(,RJ)   Update previous to point here
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  212
0Current Usings:  (PZERO,R0) (ASDB,R7) (PQADD,R10) (PQPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003DF8 5070 2004            00004 27066  1 4606.                ST    RY,@RA+4                Then update tail pointer
 003DFC                            27067    4607.              END   ,
 003DFC D203 7014 C04C 00014 00004 27071    4608.              MVC   ASDBQADD,PQQUEUE        Move in the queue address
 003E02 981F C008            00008 27072    4609.              PEND  ,
 DROP   ASDB,R7
 DROP   PQPARM-72,R12
 DROP   PQADD,R10
 003E06 9680 C000/0B0E 00000       27092             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  213
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  27099    4611.     *****************************************************************
                                   27100    4612.     *                                                               *
                                   27101    4613.     *   PQDEL  --  This routine removes an ASDB from the priority   *
                                   27102    4614.     *              queue, the address of whose header is passed.    *
                                   27103    4615.     *                                                               *
                                   27104    4616.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   27105    4617.     *                                                               *
                                   27106    4618.     *   Input  --  PQPARM                                           *
                                   27107    4619.     *                                                               *
                                   27108    4620.     *  Output  --  none                                             *
                                   27109    4621.     *                                                               *
                                   27110    4622.     *****************************************************************
-003E0C                            27112    4624.     PQDEL    PROC  PQPARM,SCOPE=LOCAL
 003E0C D7D8C4C5D3404040           27119             +
 003E14 0008/0000                  27120             +
 003E18 900F D004/18AF       00004 27122             +
 USING  PQDEL,R10
 003E1E 50D0 C000/18CD       00000 27137             +
 003E24 9680 C000      00000       27139             +
 USING  PQPARM-72,R12
 003E28 41D0 C050            00050 27153             +
 003E2C 5870 C048            00000 27154    4625.              L     RY,PQASDB               Addr of ASDB to add
 USING  ASDB,R7                    27155    4626.              WITH  (ASDB,RY)
                                   27168    4627.     *
                                   27169    4628.     * Determine the queue level on which this ASDB will go.
                                   27170    4629.     *
 003E30 4820 7022            00022 27171    4630.              LH    RA,ASDBSPRI             Get the priority
 003E34 8920 0003            00003 27172    4631.              SLL   RA,3                    Multiply by 8
 003E38 5A20 C04C            00004 27173    4632.              A     RA,PQQUEUE              Address of Header/trailer
 003E3C                            27174    4633.              IF    (PQQUEUE,NE,ASDBQADD),'ABORT BADREM'
 003E3C D503 C04C 7014 00004 00014 27186             +
 003E42 4780 A05E            03E76 27187             +
 003E46 AC04 021B      0021B       27196  1          +
 003E4A 9680 021A      0021A       27202  1          +
 003E4E 50F0 021C            0021C 27203  1          +
 003E52 58F0 0210            00210 27204  1          +
 003E56 89F0 0010            00010 27205  1          +
 003E5A 88F0 0010            00010 27206  1          +
 003E5E 41F0 F000            00000 27207  1          +
 003E62 AEFF 0006            00006 27208  1          +
 003E66 C2C1C4D9C5D44040           27209             +
                                   27214    4634.     *
                                   27215    4635.     * Delete it from this queue
                                   27216    4636.     *
 003E76 5840 7010/1244       00010 27217    4637.              LT    RJ,ASDBPREV             Address of the previous
 003E7C 4770 A06E            03E86 27221    4638.              IF    Z,BEGIN                 None before it
 003E80 D203 2000 700C 00000 0000C 27232  1 4639.                MVC   @RA(4),ASDBNEXT         Update the head pointer
 003E86 A072           03E86 03E7E 27233    4640.              END   ELSE,BEGIN
 003E86 47F0 A078            03E90 27242             +
 003E8A D203 400C 700C 0000C 0000C 27248  1 4641.                MVC   ASDBNEXT-ASDB(4,RJ),ASDBNEXT      Update prev ASDB
 003E90                            27249    4642.              END   ,
 003E90 5850 700C/1255       0000C 27253    4643.              LT    RK,ASDBNEXT             Address of the next
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  214
0Current Usings:  (PZERO,R0) (ASDB,R7) (PQDEL,R10) (PQPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0003E96 4770 A086            03E9E 27257    4644.              IF    Z,BEGIN
 003E9A 5040 2004            00004 27268  1 4645.                ST    RJ,@RA+4                Update the tail pointer
 003E9E A08A           03E9E 03E98 27269    4646.              END   ELSE,BEGIN
 003E9E 47F0 A08E            03EA6 27278             +
 003EA2 5040 5010            00010 27284  1 4647.                ST    RJ,ASDBPREV-ASDB(,RK)   Update next ASDB
 003EA6                            27285    4648.              END   ,
 003EA6                            27289    4649.              CLEAR ASDBQADD                Not on any queue now
 003EA6 D703 7014 7014 00014 00014 27295             +
 003EAC 981F C008            00008 27296    4650.              PEND  ,
 DROP   ASDB,R7
 DROP   PQPARM-72,R12
 DROP   PQDEL,R10
 003EB0 9680 C000/0B0E 00000       27316             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  215
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  27323    4652.     *****************************************************************
                                   27324    4653.     *                                                               *
                                   27325    4654.     *   PQREQ  --  This routine adds an ASDB to the priority queue  *
                                   27326    4655.     *              whose header is passed.  It puts the ASDB before *
                                   27327    4656.     *              those ASDBs in the queue that have the same      *
                                   27328    4657.     *              priority.                                        *
                                   27329    4658.     *                                                               *
                                   27330    4659.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   27331    4660.     *                                                               *
                                   27332    4661.     *   Input  --  PQPARM                                           *
                                   27333    4662.     *                                                               *
                                   27334    4663.     *  Output  --  none                                             *
                                   27335    4664.     *                                                               *
                                   27336    4665.     *****************************************************************
-003EB6                            27338    4667.     PQREQ    PROC  PQPARM,SCOPE=LOCAL
 003EB6 D7D8D9C5D8404040           27345             +
 003EBE 0008/0000                  27346             +
 003EC2 900F D004/18AF       00004 27348             +
 USING  PQREQ,R10
 003EC8 50D0 C000/18CD       00000 27363             +
 003ECE 9680 C000      00000       27365             +
 USING  PQPARM-72,R12
 003ED2 41D0 C050            00050 27379             +
 003ED6 5870 C048            00000 27380    4668.              L     RY,PQASDB               Addr of ASDB to add
 USING  ASDB,R7                    27381    4669.              WITH  (ASDB,RY)
                                   27394    4670.     *
                                   27395    4671.     * Determine the queue level on which this ASDB will go.
                                   27396    4672.     *
 003EDA 4820 7022            00022 27397    4673.              LH    RA,ASDBSPRI             Get the priority
 003EDE 8920 0003            00003 27398    4674.              SLL   RA,3                    Multiply by 8
 003EE2 5A20 C04C            00004 27399    4675.              A     RA,PQQUEUE              Address of Header/trailer
                                   27400    4676.     *
                                   27401    4677.     * Add it to the head of the queue at this level
                                   27402    4678.     *
 003EE6 5840 2000/1244       00000 27403    4679.              LT    RJ,@RA                  Get the head pointer
 003EEC 4770 A03C            03EFE 27407    4680.              IF    Z,BEGIN                 If no one else in the queue
 003EF0 5070 2000            00000 27418  1 4681.                ST    RY,@RA                  Point the header here
 003EF4 5070 2004            00004 27419  1 4682.                ST    RY,@RA+4                And the tail as well
 003EF8                            27420  1 4683.                CLEAR (ASDBNEXT,8)            Then clear the pointers
 003EF8 D707 700C 700C 0000C 0000C 27426  1          +
 003EFE A040           03EFE 03EEE 27427    4684.              END   ELSE,BEGIN              At least one in the queue
 003EFE 47F0 A052            03F14 27436             +
 003F02                            27442  1 4685.                CLEAR ASDBPREV
 003F02 D703 7010 7010 00010 00010 27448  1          +
 003F08 5040 700C            0000C 27449  1 4686.                ST    RJ,ASDBNEXT             Update the next pointer
 003F0C 5070 4010            00010 27450  1 4687.                ST    RY,ASDBPREV-ASDB(,RJ)   Update next to point here
 003F10 5070 2000            00000 27451  1 4688.                ST    RY,@RA                  Then update tail pointer
 003F14                            27452    4689.              END   ,
 003F14 D203 7014 C04C 00014 00004 27456    4690.              MVC   ASDBQADD,PQQUEUE        Its on this queue now
 003F1A 981F C008            00008 27457    4691.              PEND  ,
 DROP   ASDB,R7
 DROP   PQPARM-72,R12
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  216
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   PQREQ,R10
 003F1E 9680 C000/0B0E 00000       27477             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  217
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  27484    4693.     *****************************************************************
                                   27485    4694.     *                                                               *
                                   27486    4695.     *  PQHIGH  --  This routine removes the highest priority ASDB   *
                                   27487    4696.     *              from the priority queue whose header is passed.  *
                                   27488    4697.     *              It returns the address of the ASDB in RVR.  If   *
                                   27489    4698.     *              there are no ASDBs in the queue then a zero is   *
                                   27490    4699.     *              returned.                                        *
                                   27491    4700.     *                                                               *
                                   27492    4701.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   27493    4702.     *                                                               *
                                   27494    4703.     *   Input  --  PQPARM                                           *
                                   27495    4704.     *                                                               *
                                   27496    4705.     *  Output  --  RVR contains the Address of the ASDB or 0.       *
                                   27497    4706.     *                                                               *
                                   27498    4707.     *****************************************************************
-003F24                            27500    4709.     PQHIGH   PROC  PQPARM,SCOPE=LOCAL
 003F24 D7D8C8C9C7C84040           27507             +
 003F2C 0008/0000                  27508             +
 003F30 900F D004/18AF       00004 27510             +
 USING  PQHIGH,R10
 003F36 50D0 C000/18CD       00000 27525             +
 003F3C 9680 C000      00000       27527             +
 USING  PQPARM-72,R12
 003F40 41D0 C050            00050 27541             +
 003F44 1B00                       27542    4710.              CLEAR RVR
 003F46 5820 C04C            00004 27546    4711.              L     RA,PQQUEUE              Start of the queues
 003F4A 4830 A320            04250 27547    4712.              LH    RB,=H'-8'               Comparand/index
 003F4E 4110 0020            00020 27548    4713.              LA    RS,8*(NUMPRIO-1)        Last one in queue
 003F52                            27549    4714.     PQHLP1   LABEL ,
 003F52 5901 2000            00000 27551    4715.              IF    (RVR,NE,@RA(RS)),PQHFND Found a non-empty queue
 003F56 4770 A032            03F62 27565             +
 003F5A 8613 A022            03F52 27571    4716.              BXH   RS,RB,PQHLP1            Loop through the blocks
 003F5E 47F0 A058            03F88 27572    4717.              EXIT  PQHIGH                  None found
                                   27575    4718.     *
                                   27576    4719.     * We found a queue with some object in it.  We have to remove the
                                   27577    4720.     * object.
                                   27578    4721.     *
 003F62 5871 2000            00000 27579    4722.     PQHFND   L     RY,@RA(RS)              Get the ASDB address
 USING  ASDB,R7                    27580    4723.              WITH  (ASDB,RY)
 003F66 5840 700C/1244       0000C 27593    4724.              LT    RJ,ASDBNEXT             Get the next pointer
 003F6C 4770 A044            03F74 27597    4725.              IF    Z,BEGIN                 None before it
 003F70 5001 2004            00004 27608  1 4726.                ST    RVR,@RA+4(RS)           Clear the tail pointer
 003F74 A048           03F74 03F6E 27609    4727.              END   ELSE,BEGIN
 003F74 47F0 A04C            03F7C 27618             +
 003F78 5000 4010            00010 27624  1 4728.                ST    RVR,ASDBPREV-ASDB(,RJ)  Clear prev pointer
 003F7C                            27625    4729.              END   ,
 003F7C 5041 2000            00000 27629    4730.              ST    RJ,@RA(RS)              Make the head point at next
 003F80                            27630    4731.              CLEAR ASDBQADD                Not on the queue now
 003F80 D703 7014 7014 00014 00014 27636             +
 003F86 1807                       27637    4732.              LR    RVR,RY                  Load the return value
 003F88 981F C008            00008 27638    4733.              PEND  ,
 DROP   ASDB,R7
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  218
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   PQPARM-72,R12
 DROP   PQHIGH,R10
 003F8C 9680 C000/0B0E 00000       27658             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  219
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  27665    4735.     *****************************************************************
                                   27666    4736.     *                                                               *
                                   27667    4737.     *   PQLOW  --  This routine removes the lowest priority ASDB    *
                                   27668    4738.     *              from the priority queue whose header address     *
                                   27669    4739.     *              is passed.  If there are no ASDBs in the queue   *
                                   27670    4740.     *              a zero is returned.                              *
                                   27671    4741.     *                                                               *
                                   27672    4742.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   27673    4743.     *                                                               *
                                   27674    4744.     *   Input  --  PQPARM                                           *
                                   27675    4745.     *                                                               *
                                   27676    4746.     *  Output  --  RVR contains the address of the ASDB or 0.       *
                                   27677    4747.     *                                                               *
                                   27678    4748.     *****************************************************************
-003F92                            27680    4750.     PQLOW    PROC  PQPARM,SCOPE=LOCAL
 003F92 D7D8D3D6E6404040           27687             +
 003F9A 0008/0000                  27688             +
 003F9E 900F D004/18AF       00004 27690             +
 USING  PQLOW,R10
 003FA4 50D0 C000/18CD       00000 27705             +
 003FAA 9680 C000      00000       27707             +
 USING  PQPARM-72,R12
 003FAE 41D0 C050            00050 27721             +
 003FB2 1B00                       27722    4751.              CLEAR RVR
 003FB4 5820 C04C            00004 27726    4752.              L     RA,PQQUEUE              Get the queue start
 003FB8 1810                       27727    4753.              LR    RS,RVR                  Get initial value
 003FBA 4140 0008            00008 27728    4754.              LA    RJ,8                    Get increment
 003FBE 4150 0020            00020 27729    4755.              LA    RK,8*(NUMPRIO-1)        Get comparand
 003FC2                            27730    4756.     PQLLP1   LABEL ,
 003FC2 5901 2000            00000 27732    4757.              IF    (RVR,NE,@RA(RS)),PQLFND This queue isn't empty
 003FC6 4770 A034            03FD2 27746             +
 003FCA 8714 A024            03FC2 27752    4758.              BXLE  RS,RJ,PQLLP1            Look through all the queues
 003FCE 47F0 A05A            03FF8 27753    4759.              EXIT  PQLOW                   return 0 if none found
                                   27756    4760.     *
                                   27757    4761.     * We found a queue with some object in it.  We have to remove the
                                   27758    4762.     * object.
                                   27759    4763.     *
 003FD2 5871 2004            00004 27760    4764.     PQLFND   L     RY,@RA+4(RS)            Get the ASDB address
 USING  ASDB,R7                    27761    4765.              WITH  (ASDB,RY)
 003FD6 5840 7010/1244       00010 27774    4766.              LT    RJ,ASDBPREV             Get the prev pointer
 003FDC 4770 A046            03FE4 27778    4767.              IF    Z,BEGIN                 None before it
 003FE0 5001 2000            00000 27789  1 4768.                ST    RVR,@RA(RS)             Clear the head pointer
 003FE4 A04A           03FE4 03FDE 27790    4769.              END   ELSE,BEGIN
 003FE4 47F0 A04E            03FEC 27799             +
 003FE8 5000 400C            0000C 27805  1 4770.                ST    RVR,ASDBNEXT-ASDB(,RJ)  Clear next pointer
 003FEC                            27806    4771.              END   ,
 003FEC 5041 2004            00004 27810    4772.              ST    RJ,@RA+4(RS)            Make the tail point at prev
 003FF0                            27811    4773.              CLEAR ASDBQADD                Not on the queue now
 003FF0 D703 7014 7014 00014 00014 27817             +
 003FF6 1807                       27818    4774.              LR    RVR,RY                  Load the return value
 003FF8 981F C008            00008 27819    4775.              PEND  ,
 DROP   ASDB,R7
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  220
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   PQPARM-72,R12
 DROP   PQLOW,R10
 003FFC 9680 C000/0B0E 00000       27839             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  221
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  27846    4777.     *****************************************************************
                                   27847    4778.     *                                                               *
                                   27848    4779.     *  PQPRIO  --  This routine returns the priority of the highest *
                                   27849    4780.     *              priority ASDB in the queue.  If there are no     *
                                   27850    4781.     *              ASDBs in the queue the lowest priority possible  *
                                   27851    4782.     *              will be returned.                                *
                                   27852    4783.     *                                                               *
                                   27853    4784.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   27854    4785.     *                                                               *
                                   27855    4786.     *   Input  --  PQPARM                                           *
                                   27856    4787.     *                                                               *
                                   27857    4788.     *  Output  --  RVR contains prio of highest prio ASDB           *
                                   27858    4789.     *                                                               *
                                   27859    4790.     *****************************************************************
-004002                            27861    4792.     PQPRIO   PROC  PQPARM,SCOPE=LOCAL
 004002 D7D8D7D9C9D64040           27868             +
 00400A 0008/0000                  27869             +
 00400E 900F D004/18AF       00004 27871             +
 USING  PQPRIO,R10
 004014 50D0 C000/18CD       00000 27886             +
 00401A 9680 C000      00000       27888             +
 USING  PQPARM-72,R12
 00401E 41D0 C050            00050 27902             +
 004022 1B44                       27903    4793.              CLEAR RJ
 004024 5800 A23A            04248 27907    4794.              L     RVR,=F'-1'              Default return
 004028 5820 C04C            00004 27908    4795.              L     RA,PQQUEUE              Start of the queues
 00402C 4830 A242            04250 27909    4796.              LH    RB,=H'-8'               Comparand/index
 004030 4110 0020            00020 27910    4797.              LA    RS,8*(NUMPRIO-1)        Last one in queue
 004034                            27911    4798.     PQPLP1   LABEL ,
 004034 5941 2000            00000 27913    4799.              IF    (RJ,NE,@RA(RS)),PQPFND  Found a non-empty queue
 004038 4770 A036            04044 27927             +
 00403C 8613 A026            04034 27933    4800.              BXH   RS,RB,PQPLP1            Loop through the blocks
 004040 47F0 A03E            0404C 27934    4801.              EXIT  PQPRIO                  None found
                                   27937    4802.     *
                                   27938    4803.     * We found a queue with some object in it.  We have to return the
                                   27939    4804.     * priority.
                                   27940    4805.     *
 004044 5871 2000            00000 27941    4806.     PQPFND   L     RY,@RA(RS)              Get the ASDB address
 USING  ASDB,R7                    27942    4807.              WITH  (ASDB,RY)
 004048 4800 7022            00022 27955    4808.              LH    RVR,ASDBSPRI            Get the priority
 00404C 981F C008            00008 27956    4809.              PEND  ,                       Return it to the caller
 DROP   ASDB,R7
 DROP   PQPARM-72,R12
 DROP   PQPRIO,R10
 004050 9680 C000/0B0E 00000       27976             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  222
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  27983    4811.     *****************************************************************
                                   27984    4812.     *                                                               *
                                   27985    4813.     *  PQHPFN  --  This routine returns the paging function of the  *
                                   27986    4814.     *              highest prio ASDB in the queue.  If there is no  *
                                   27987    4815.     *              ASDB in the queue, the highest paging function   *
                                   27988    4816.     *              number possible will be returned.                *
                                   27989    4817.     *                                                               *
                                   27990    4818.     *              THE DISPATCH LOCK MUST BE HELD!!!                *
                                   27991    4819.     *                                                               *
                                   27992    4820.     *   Input  --  PQPARM                                           *
                                   27993    4821.     *                                                               *
                                   27994    4822.     *  Output  --  RVR contains PFN of highest prio ASDB            *
                                   27995    4823.     *                                                               *
                                   27996    4824.     *****************************************************************
-004056                            27998    4826.     PQHPFN   PROC  PQPARM,SCOPE=LOCAL
 004056 D7D8C8D7C6D54040           28005             +
 00405E 0008/0000                  28006             +
 004062 900F D004/18AF       00004 28008             +
 USING  PQHPFN,R10
 004068 50D0 C000/18CD       00000 28023             +
 00406E 9680 C000      00000       28025             +
 USING  PQPARM-72,R12
 004072 41D0 C050            00050 28039             +
 004076 1B44                       28040    4827.              CLEAR RJ
 004078 5800 A1EA            0424C 28044    4828.              L     RVR,=X'7FFFFFFF'        Default return
 00407C 5820 C04C            00004 28045    4829.              L     RA,PQQUEUE              Start of the queues
 004080 4830 A1EE            04250 28046    4830.              LH    RB,=H'-8'               Comparand/index
 004084 4110 0020            00020 28047    4831.              LA    RS,8*(NUMPRIO-1)        Last one in queue
 004088                            28048    4832.     PQPFLP1  LABEL ,
 004088 5941 2000            00000 28050    4833.              IF    (RJ,NE,@RA(RS)),PQPFFND Found a non-empty queue
 00408C 4770 A06E            040D0 28064             +
 004090 5941 2004            00004 28070    4834.              IF    (RJ,NE,@RA+4(RS)),'ABORT BADQ'
 004094 4780 A066            040C8 28082             +
 004098 AC04 021B      0021B       28091  1          +
 00409C 9680 021A      0021A       28097  1          +
 0040A0 50F0 021C            0021C 28098  1          +
 0040A4 58F0 0210            00210 28099  1          +
 0040A8 89F0 0010            00010 28100  1          +
 0040AC 88F0 0010            00010 28101  1          +
 0040B0 41F0 F000            00000 28102  1          +
 0040B4 AEFF 0006            00006 28103  1          +
 0040B8 C2C1C4D840404040           28104             +
 0040C8 8613 A026            04088 28109    4835.              BXH   RS,RB,PQPFLP1           Loop through the blocks
 0040CC 47F0 A0AE            04110 28110    4836.              EXIT  PQHPFN                  None found
                                   28113    4837.     *
                                   28114    4838.     * We found a queue with some object in it.  We have to return the
                                   28115    4839.     * paging function number.
                                   28116    4840.     *
 0040D0 5871 2000            00000 28117    4841.     PQPFFND  L     RY,@RA(RS)              Get the ASDB address
 0040D4 5941 2004            00004 28118    4842.              IF    (RJ,EQ,@RA+4(RS)),'ABORT BADQ'
 0040D8 4770 A0AA            0410C 28130             +
 0040DC AC04 021B      0021B       28139  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  223
0Current Usings:  (PZERO,R0) (PQHPFN,R10) (PQPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00040E0 9680 021A      0021A       28145  1          +
 0040E4 50F0 021C            0021C 28146  1          +
 0040E8 58F0 0210            00210 28147  1          +
 0040EC 89F0 0010            00010 28148  1          +
 0040F0 88F0 0010            00010 28149  1          +
 0040F4 41F0 F000            00000 28150  1          +
 0040F8 AEFF 0006            00006 28151  1          +
 0040FC C2C1C4D840404040           28152             +
 USING  ASDB,R7                    28157    4843.              WITH  (ASDB,RY)
 00410C 5800 7090            00090 28170    4844.              L     RVR,ASDBPAGN            Get the paging number
 004110 981F C008            00008 28171    4845.              PEND  ,                       Return it to the caller
 DROP   ASDB,R7
 DROP   PQPARM-72,R12
 DROP   PQHPFN,R10
 004114 9680 C000/0B0E 00000       28191             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  224
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  28198    4847.     *****************************************************************
                                   28199    4848.     *                                                               *
                                   28200    4849.     *  TSKADD  --  This routine adds the passed TDB onto the ready  *
                                   28201    4850.     *              queue of the current ASDB after all TDBs of      *
                                   28202    4851.     *              equal or higher priority.                        *
                                   28203    4852.     *                                                               *
                                   28204    4853.     *              The ASDB lock must be held or the CPU disabled.  *
                                   28205    4854.     *                                                               *
                                   28206    4855.     *   Input  --  TQPARM                                           *
                                   28207    4856.     *                                                               *
                                   28208    4857.     *  Output  --  none                                             *
                                   28209    4858.     *                                                               *
                                   28210    4859.     *****************************************************************
-000000                00000 00004 28212    4861.     TQPARM   RECORD BEGIN
 000000                            28220  1 4862.     TQPTDB     DS    A             Address of the TDB to be added/requeued
 000004                00004 00004 28221    4863.              END   ,
-00411A                            28231    4865.     TSKADD   PROC  TQPARM,SCOPE=LOCAL
 00411A E3E2D2C1C4C44040           28238             +
 004122 0008/0000                  28239             +
 004126 900F D004/18AF       00004 28241             +
 USING  TSKADD,R10
 00412C 50D0 C000/18CD       00000 28256             +
 004132 9680 C000      00000       28258             +
 USING  TQPARM-72,R12
 004136 41D0 C050            00050 28272             +
                                   28273    4866.     *
                                   28274    4867.     * Get the ASDB pointer
                                   28275    4868.     *
 00413A 5870 0324            000A4 28276    4869.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    28277    4870.              WITH  (ASDB,RY)
 00413E 5860 C048            00000 28290    4871.              L     RX,TQPTDB               Get te new TDB pointer
 USING  TDB,R6                     28291    4872.              WITH  (TDB,RX)
                                   28304    4873.     *
                                   28305    4874.     * If it is already active, we're in bad shape.
                                   28306    4875.     *
 004142 9140 6018      00018       28307    4876.              IF    TDBFACT,'ABORT TDBACT2' Already on the list
 004146 47E0 A054            0417A 28317             +
 00414A AC04 021B      0021B       28326  1          +
 00414E 9680 021A      0021A       28332  1          +
 004152 50F0 021C            0021C 28333  1          +
 004156 58F0 0210            00210 28334  1          +
 00415A 89F0 0010            00010 28335  1          +
 00415E 88F0 0010            00010 28336  1          +
 004162 41F0 F000            00000 28337  1          +
 004166 AEFF 0006            00006 28338  1          +
 00416A E3C4C2C1C3E3F240           28339             +
 00417A 9640 6018      00018       28344    4877.              SET   TDBFACT                 Mark it on the list
                                   28350    4878.     *
                                   28351    4879.     * Search the queue for what we want
                                   28352    4880.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  225
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TSKADD,R10) (TQPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000417E 4120 703C            0003C 28353    4881.              LA    RA,ASDBATDB             RA points at prev pointer
 004182 5830 2000/1233       00000 28354    4882.              WHILE ('LT RB,@RA',NZ),BEGIN  Until we get to the end
 004188 4780 A078            0419E 28367             +
 USING  NXT.TDB,R3                 28372  1 4883.                WITH  (TDB,RB),LABEL=NXT      Identify the TDBs
 00418C                            28380  1 4884.                IF    (NXT.TDBPRIO,LT,TDBPRIO),EXIT     Found the spot
 00418C D503 3010 6010 00010 00010 28392  1          +
 004192 4740 A078            0419E 28395  1          +
 004196 4120 300C            0000C 28401  1 4885.                LA    RA,NXT.TDBNEXT           Update the pointers
 00419A 47F0 A05C            04182 28402    4886.              END   ,
 DROP   NXT.TDB,R3
                                   28415    4887.     *
                                   28416    4888.     * We have the spot now.
                                   28417    4889.     *
 00419E 5030 600C            0000C 28418    4890.              ST    RB,TDBNEXT              Update this one
 0041A2 5060 2000            00000 28419    4891.              ST    RX,@RA                  Update previous pointer
 0041A6 981F C008            00008 28420    4892.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   TQPARM-72,R12
 DROP   TSKADD,R10
 0041AA 9680 C000/0B0E 00000       28445             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  226
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  28452    4894.     *****************************************************************
                                   28453    4895.     *                                                               *
                                   28454    4896.     *  TSKREQ  --  This routine adds the passed TDB onto the ready  *
                                   28455    4897.     *              queue of the current ASDB after all TDBs of      *
                                   28456    4898.     *              higher priority.                                 *
                                   28457    4899.     *                                                               *
                                   28458    4900.     *              The ASDB lock must be held or the CPU disabled.  *
                                   28459    4901.     *                                                               *
                                   28460    4902.     *   Input  --  TQPARM                                           *
                                   28461    4903.     *                                                               *
                                   28462    4904.     *  Output  --  none                                             *
                                   28463    4905.     *                                                               *
                                   28464    4906.     *****************************************************************
-0041B0                            28466    4908.     TSKREQ   PROC  TQPARM,SCOPE=LOCAL
 0041B0 E3E2D2D9C5D84040           28473             +
 0041B8 0008/0000                  28474             +
 0041BC 900F D004/18AF       00004 28476             +
 USING  TSKREQ,R10
 0041C2 50D0 C000/18CD       00000 28491             +
 0041C8 9680 C000      00000       28493             +
 USING  TQPARM-72,R12
 0041CC 41D0 C050            00050 28507             +
                                   28508    4909.     *
                                   28509    4910.     * Get the ASDB pointer
                                   28510    4911.     *
 0041D0 5870 0324            000A4 28511    4912.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    28512    4913.              WITH  (ASDB,RY)
 0041D4 5860 C048            00000 28525    4914.              L     RX,TQPTDB               Get te new TDB pointer
 USING  TDB,R6                     28526    4915.              WITH  (TDB,RX)
                                   28539    4916.     *
                                   28540    4917.     * If it is already active, we're in bad shape
                                   28541    4918.     *
 0041D8 9140 6018      00018       28542    4919.              IF    TDBFACT,'ABORT TDBACT2' Already on the list
 0041DC 47E0 A054            04210 28552             +
 0041E0 AC04 021B      0021B       28561  1          +
 0041E4 9680 021A      0021A       28567  1          +
 0041E8 50F0 021C            0021C 28568  1          +
 0041EC 58F0 0210            00210 28569  1          +
 0041F0 89F0 0010            00010 28570  1          +
 0041F4 88F0 0010            00010 28571  1          +
 0041F8 41F0 F000            00000 28572  1          +
 0041FC AEFF 0006            00006 28573  1          +
 004200 E3C4C2C1C3E3F240           28574             +
 004210 9640 6018      00018       28579    4920.              SET   TDBFACT                 Mark it on the list
                                   28585    4921.     *
                                   28586    4922.     * Search the queue for what we want
                                   28587    4923.     *
 004214 4120 703C            0003C 28588    4924.              LA    RA,ASDBATDB             RA points at prev pointer
 004218 5830 2000/1233       00000 28589    4925.              WHILE ('LT RB,@RA',NZ),BEGIN  Until we get to the end
 00421E 4780 A078            04234 28602             +
 USING  NXT.TDB,R3                 28607  1 4926.                WITH  (TDB,RB),LABEL=NXT      Identify the TDBs
 004222                            28615  1 4927.                IF    (NXT.TDBPRIO,LE,TDBPRIO),EXIT     Found the spot
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  227
0Current Usings:  (PZERO,R0) (NXT.TDB,R3) (TDB,R6) (ASDB,R7) (TSKREQ,R10) (TQPARM-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004222 D503 3010 6010 00010 00010 28627  1          +
 004228 47C0 A078            04234 28630  1          +
 00422C 4120 300C            0000C 28636  1 4928.                LA    RA,NXT.TDBNEXT          Update the pointers
 004230 47F0 A05C            04218 28637    4929.              END   ,
 DROP   NXT.TDB,R3
                                   28650    4930.     *
                                   28651    4931.     * We have the spot now.
                                   28652    4932.     *
 004234 5030 600C            0000C 28653    4933.              ST    RB,TDBNEXT              Update this one
 004238 5060 2000            00000 28654    4934.              ST    RX,@RA                  Update previous pointer
 00423C 981F C008            00008 28655    4935.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   TQPARM-72,R12
 DROP   TSKREQ,R10
 004240 9680 C000/0B0E 00000       28680             +
1DISPATCH (DISP00) (09:38) (22MAR04) Priority Queue Management                                                              Page  228
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004248                            28687    4937.              LTORG ,
 004248 FFFFFFFF                   28689                             =F'-1'
 00424C 7FFFFFFF                   28690                             =X'7FFFFFFF'
 004250 FFF8           04252 05F38 28691                             =H'-8'
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  229
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  28696    4939.     *****************************************************************
                                   28697    4940.     *                                                               *
                                   28698    4941.     *  EXRADD  --  This routine is called to specify a new exit     *
                                   28699    4942.     *              routine.  It allocates an ESB and queues it off  *
                                   28700    4943.     *              the TDB.  It can't be called from the dispatcher *
                                   28701    4944.     *              stack for obvious reasons.                       *
                                   28702    4945.     *                                                               *
                                   28703    4946.     *   Input  --  @EXRADD                                          *
                                   28704    4947.     *                                                               *
                                   28705    4948.     *  Output  --  RVR contains an exit routine ID. (ESB addr)      *
                                   28706    4949.     *                                                               *
                                   28707    4950.     *****************************************************************
-004252                            28709    4952.     EXRADD   PROC  @EXRADD,SCOPE=GLOBAL
 004252 C5E7D9C1C4C44040           28715             +
 00425A 0018/0000                  28716             +
 00425E 900F D004/18AF       00004 28718             +
 USING  EXRADD,R10
 004264 50D0 C000/18CD       00000 28733             +
 00426A 9680 C000      00000       28735             +
 USING  @EXRADD-72,R12
 00426E 41D0 C060            00060 28749             +
                                   28750    4953.     *
                                   28751    4954.     * Get the current control block pointers
                                   28752    4955.     *
 004272 5870 0324            000A4 28753    4956.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    28754    4957.              WITH  (ASDB,RY)
 004276 5860 7038            00038 28767    4958.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     28768    4959.              WITH  (TDB,RX)
                                   28781    4960.     *
                                   28782    4961.     * Get a new ESB.  First try to get one from the pool.
                                   28783    4962.     *
 00427A 58F0 A9EA/0DEF       04C48 28784    4963.              ACALL ASLOCK                  Lock up the address space
 004280 5890 706C/1299       0006C 28791    4964.              LT    RN,ASDBFESB             Get a free one
 004286 4780 A032            04290 28795    4965.              IF    NZ,BEGIN
 USING  ESB,R9                     28806  1 4966.                WITH  (ESB,RN),'MVC ASDBFESB,ESBNEXT'   Remove it
 00428A D203 706C 9004 0006C 00004 28821  1          +
 DROP   ESB,R9
 004290 A036           04290 04288 28830    4967.              END   ELSE,BEGIN              No free ones, get another.
 004290 47F0 A052            042B0 28839             +
 USING  @VMGET-72,R13              28845  1 4968.                VMGET L'ESB,LOC=LOCSYS,FIX=YES   Get the memory for it
 004294 D70A D048 D048 00000 00000 28869  1          +
 00429A 4100 0025            00025 28881  1          +
 00429E 5000 D048            00000 28886  1          +
 0042A2 D201 D050 AA2A 00008 04C88 28887  1          +
 0042A8 58F0 A9EE/0DEF       04C4C 28890  1          +
 0042AE 1890                       28892  1 4969.                LR    RN,RVR                  Copy the address
 0042B0                            28893    4970.              END   ,
 0042B0 58F0 A9F2/0DEF       04C50 28897    4971.              ACALL ASULOCK                 Unlock the address space
 USING  ESB,R9                     28904    4972.              WITH  (ESB,RN)
                                   28917    4973.     *
                                   28918    4974.     * Fill it in
                                   28919    4975.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  230
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ESB,R9) (EXRADD,R10) (@EXRADD-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00042B6                            28920    4976.              CLEAR ESB
 0042B6 D724 9000 9000 00000 00000 28926             +
 0042BC D203 9000 A9F6 00000 04C54 28927    4977.              MVC   ESB(4),=C'ESB '         Move in the control block id
 0042C2 5060 9008            00008 28928    4978.              ST    RX,ESBTDB               Save the TDB info
 0042C6 D203 900C C048 0000C 00000 28929    4979.              MVC   ESBTYPE,@EXRTYPE        Save the type bitmap
 0042CC D207 9010 C050 00010 00008 28930    4980.              MVC   ESBPSW,@EXRPSW          New PSW
 0042D2 D203 9020 C058 00020 00010 28931    4981.              MVC   ESBPARM,@EXRPARM        Exit routine parameter
 0042D8 9180 C05C      00014       28932    4982.              IF    @EXRAFQ,BEGIN           Exit is qualified
 0042DC 47E0 A08C            042EA 28942             +
 0042E0 9620 9024      00024       28947  1 4983.                SET   ESBFQUAL                Mark it as qualified
 0042E4 D203 901C C04C 0001C 00004 28953  1 4984.                MVC   ESBQUAL,@EXRQUAL        Move in the qualifier
 0042EA                            28954    4985.              END   ,
 0042EA 9140 C05C      00014       28958    4986.              IF    @EXRAFS,BEGIN           Needs a stack
 0042EE 47E0 A0A2            04300 28968             +
 0042F2 9680 9024      00024       28973  1 4987.                SET   ESBFSTK
 0042F6 58F0 A9FA/0DEF       04C58 28979  1 4988.                ACALL STKNEW                  Get a stack
 0042FC 5000 9018            00018 28986  1 4989.                ST    RVR,ESBSTACK            Save the address of it
 004300                            28987    4990.              END   ,
                                   28991    4991.     *
                                   28992    4992.     * Queue it off the TDB
                                   28993    4993.     *
 004300 D203 9004 601C 00004 0001C 28994    4994.              MVC   ESBNEXT,TDBESBS         Move in the queue list
 004306 5090 601C            0001C 28995    4995.              ST    RN,TDBESBS              And point the head at this
                                   28996    4996.     *
                                   28997    4997.     * Return the 'ID' to the caller
                                   28998    4998.     *
 00430A 1809                       28999    4999.              LR    RVR,RN                  Address of the ESB
 00430C 981F C008            00008 29000    5000.              PEND  ,                       Return to the caller
 DROP   ESB,R9
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @EXRADD-72,R12
 DROP   EXRADD,R10
 004310 9680 C000/0B0E 00000       29030             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  231
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  29040    5002.     *****************************************************************
                                   29041    5003.     *                                                               *
                                   29042    5004.     *  EXRDEL  --  This routine is called to remove an exit         *
                                   29043    5005.     *              routine.  It makes sure the ESB is not behind a  *
                                   29044    5006.     *              fence and then frees it.                         *
                                   29045    5007.     *                                                               *
                                   29046    5008.     *   Input  --  @EXRDEL                                          *
                                   29047    5009.     *                                                               *
                                   29048    5010.     *  Output  --  RVR  = 0 if the ESB was removed                  *
                                   29049    5011.     *              RVR ~= 0 if the ESB could not be removed         *
                                   29050    5012.     *                                                               *
                                   29051    5013.     *****************************************************************
-004316                            29053    5015.     EXRDEL   PROC  @EXRDEL,SCOPE=GLOBAL
 004316 C5E7D9C4C5D34040           29059             +
 00431E 0008/0000                  29060             +
 004322 900F D004/18AF       00004 29062             +
 USING  EXRDEL,R10
 004328 50D0 C000/18CD       00000 29077             +
 00432E 9680 C000      00000       29079             +
 USING  @EXRDEL-72,R12
 004332 41D0 C050            00050 29093             +
                                   29094    5016.     *
                                   29095    5017.     * First get the local control blocks
                                   29096    5018.     *
 004336 5870 0324            000A4 29097    5019.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    29098    5020.              WITH  (ASDB,RY)
 00433A 5860 7038            00038 29111    5021.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     29112    5022.              WITH  (TDB,RX)
                                   29125    5023.     *
                                   29126    5024.     * Start down the ESB queue looking for the one passed
                                   29127    5025.     *
 00433E 4120 601C            0001C 29128    5026.              LA    RA,TDBESBS              Address of first pointer
 004342 5830 2000/1233       00000 29129    5027.              WHILE ('LT RB,@RA',NZ),BEGIN  Look to the end
 004348 4780 A084            043A6 29142             +
 USING  ESB,R3                     29147  1 5028.                WITH  (ESB,RB)                Address this pointer
                                   29160  1 5029.     *
                                   29161  1 5030.     * If the Fence is turned on we don't look at this one or any
                                   29162  1 5031.     * farther down in the list.
                                   29163  1 5032.     *
 00434C 9140 3024      00024       29164  1 5033.                IF    ESBFENCE,BEGIN
 004350 47E0 A03A            0435C 29174  1          +
 004354 4100 0008            00008 29179  2 5034.                  LA    RVR,8                   Behind a fence
 004358 47F0 A088            043AA 29180  2 5035.                  EXIT  EXRDEL                  All fenced in
 00435C                            29183  1 5036.                END   ,
                                   29187  1 5037.     *
                                   29188  1 5038.     * If we have found the one to be deleted we remove it from the
                                   29189  1 5039.     * list and free the storage
                                   29190  1 5040.     *
 00435C 5930 C048            00000 29191  1 5041.                IF    (RB,EQ,@EXRDID),BEGIN
 004360 4770 A07C            0439E 29203  1          +
 004364 D203 2000 3004 00000 00004 29208  2 5042.                  MVC   @RA(4),ESBNEXT          Remove it from the list
 00436A 925C 3003      00003       29209  2 5043.                  MVI   ESB+3,C'*'              Make it invalid
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  232
0Current Usings:  (PZERO,R0) (ESB,R3) (TDB,R6) (ASDB,R7) (EXRDEL,R10) (@EXRDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000436E 9180 3024      00024       29210  2 5044.                  IF    ESBFSTK,BEGIN
 004372 47E0 A060            04382 29220  2          +
 USING  @STKDEL-72,R13             29225  3 5045.                    PSET  @STKDEL,CLEAR=NO
 004376 D203 D048 3018 00000 00018 29236  3 5046.                    MVC   @STKDLOC,ESBSTACK       Location of the stack
 00437C 58F0 A93A/0DEF       04C5C 29237  3 5047.                    ACALL STKDEL                  Remove the stack
 004382                            29244  2 5048.                  END   ,
 004382 58F0 A926/0DEF       04C48 29248  2 5049.                  ACALL ASLOCK                  Lock up the address space
 004388 D203 3004 706C 00004 0006C 29255  2 5050.                  MVC   ESBNEXT,ASDBFESB        Point this at the queue
 00438E 5030 706C            0006C 29256  2 5051.                  ST    RB,ASDBFESB             And the queue at this
 004392 58F0 A92E/0DEF       04C50 29257  2 5052.                  ACALL ASULOCK                 Unlock the address space
 004398 1B00                       29264  2 5053.                  CLEAR RVR
 00439A 47F0 A088            043AA 29268  2 5054.                  EXIT  EXRDEL                  All done
 00439E                            29271  1 5055.                END   ,
                                   29275  1 5056.     *
                                   29276  1 5057.     * Get to the next one
                                   29277  1 5058.     *
 00439E 4120 3004            00004 29278  1 5059.                LA    RA,ESBNEXT              Point at the next pointer
 0043A2 47F0 A020            04342 29279    5060.              END   ,
 DROP   ESB,R3
 0043A6 4100 0004            00004 29289    5061.              LA    RVR,4                   Not found
 0043AA 981F C008            00008 29290    5062.              PEND  ,                       Return to the caller
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @EXRDEL-72,R12
 DROP   EXRDEL,R10
 0043AE 9680 C000/0B0E 00000       29315             +
 DROP   @STKDEL-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  233
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  29325    5064.     *****************************************************************
                                   29326    5065.     *                                                               *
                                   29327    5066.     * EXRDELA  --  This routine removes all the exit routine        *
                                   29328    5067.     *              definitions up to the fence.                     *
                                   29329    5068.     *                                                               *
                                   29330    5069.     *   Input  --  none                                             *
                                   29331    5070.     *                                                               *
                                   29332    5071.     *  Output  --  none                                             *
                                   29333    5072.     *                                                               *
                                   29334    5073.     *****************************************************************
-0043B4                            29336    5075.     EXRDELA  PROC  SCOPE=GLOBAL
 0043B4 C5E7D9C4C5D3C140           29342             +
 0043BC 0000/0000                  29343             +
 0043C0 900F D004/18AF       00004 29345             +
 USING  EXRDELA,R10
 0043C6 50D0 C000/18CD       00000 29360             +
 0043CC 9680 C000      00000       29362             +
 0043D0 41D0 C048            00048 29363             +
                                   29364    5076.     *
                                   29365    5077.     * First get the local control blocks
                                   29366    5078.     *
 0043D4 5870 0324            000A4 29367    5079.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    29368    5080.              WITH  (ASDB,RY)
 0043D8 5860 7038            00038 29381    5081.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     29382    5082.              WITH  (TDB,RX)
                                   29395    5083.     *
                                   29396    5084.     * Start down the ESB queue, deleting as we go
                                   29397    5085.     *
 0043DC 5830 601C            0001C 29398    5086.              L     RB,TDBESBS              Get the first ESB
 0043E0 1233/4780 A05A       0441A 29399    5087.              WHILE (RB,NZ),BEGIN
 USING  ESB,R3                     29415  1 5088.                WITH  (ESB,RB)
 0043E6 9140 3024      00024       29428  1 5089.                IF    ESBFENCE,EXIT           All done at the fence
 0043EA 4710 A05A            0441A 29440  1          +
 0043EE 5820 3004            00004 29446  1 5090.                L     RA,ESBNEXT              Address of the next one
 0043F2 5020 601C            0001C 29447  1 5091.                ST    RA,TDBESBS              Remove it from the queue
 USING  @VMFREE-72,R13             29448  1 5092.                VMFREE L'ESB,A=(RB),LOC=LOCSYS,FIX=YES
 0043F6 D709 D048 D048 00000 00000 29472  1          +
 0043FC 4100 0025            00025 29484  1          +
 004400 5000 D04C            00004 29489  1          +
 004404 5030 D048            00000 29499  1          +
 004408 D201 D050 A8C8 00008 04C88 29500  1          +
 00440E 58F0 A8A0/0DEF       04C60 29503  1          +
 004414 1832                       29505  1 5093.                LR    RB,RA                   Get to the next
 004416 47F0 A020            043E0 29506    5094.              END   ,
 DROP   ESB,R3
 00441A 981F C008            00008 29516    5095.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   EXRDELA,R10
 00441E 9680 C000/0B0E 00000       29536             +
 DROP   @VMFREE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  234
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  29546    5097.     *****************************************************************
                                   29547    5098.     *                                                               *
                                   29548    5099.     * EXRFENCE --  This routine puts up a fence preventing the top  *
                                   29549    5100.     *              exit routine definition and all previous ones    *
                                   29550    5101.     *              from being modified.                             *
                                   29551    5102.     *                                                               *
                                   29552    5103.     *   Input  --  none                                             *
                                   29553    5104.     *                                                               *
                                   29554    5105.     *  Output  --  none                                             *
                                   29555    5106.     *                                                               *
                                   29556    5107.     *****************************************************************
-004424                            29558    5109.     EXRFENCE PROC  SCOPE=GLOBAL
 004424 C5E7D9C6C5D5C3C5           29564             +
 00442C 0000/0000                  29565             +
 004430 900F D004/18AF       00004 29567             +
 USING  EXRFENCE,R10
 004436 50D0 C000/18CD       00000 29582             +
 00443C 9680 C000      00000       29584             +
 004440 41D0 C048            00048 29585             +
                                   29586    5110.     *
                                   29587    5111.     * First get the local control blocks
                                   29588    5112.     *
 004444 5870 0324            000A4 29589    5113.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    29590    5114.              WITH  (ASDB,RY)
 004448 5860 7038            00038 29603    5115.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     29604    5116.              WITH  (TDB,RX)
                                   29617    5117.     *
                                   29618    5118.     * Find the first ESB and mark it fenced
                                   29619    5119.     *
 00444C 5820 601C/1222       0001C 29620    5120.              LT    RA,TDBESBS              Get the first
 004452 4780 A02A            0445A 29624    5121.              IF    NZ,BEGIN                If there is one
 USING  ESB,R2                     29635  1 5122.                WITH  (ESB,RA)
 004456 9640 2024      00024       29648  1 5123.                SET   ESBFENCE                Fence it in
 DROP   ESB,R2                     29654    5124.              END   ,
 00445A 981F C008            00008 29663    5125.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   EXRFENCE,R10
 00445E 9680 C000/0B0E 00000       29683             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  235
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  29690    5127.     *****************************************************************
                                   29691    5128.     *                                                               *
                                   29692    5129.     * EXRFDOWN --  This routine takes down a fence on the current   *
                                   29693    5130.     *              exit routine definition.                         *
                                   29694    5131.     *                                                               *
                                   29695    5132.     *   Input  --  none                                             *
                                   29696    5133.     *                                                               *
                                   29697    5134.     *  Output  --  RVR  = 0, Fence removed.                         *
                                   29698    5135.     *              RVR ~= 0, No fence at the top ESB.               *
                                   29699    5136.     *                                                               *
                                   29700    5137.     *****************************************************************
-004464                            29702    5139.     EXRFDOWN PROC  SCOPE=GLOBAL
 004464 C5E7D9C6C4D6E6D5           29708             +
 00446C 0000/0000                  29709             +
 004470 900F D004/18AF       00004 29711             +
 USING  EXRFDOWN,R10
 004476 50D0 C000/18CD       00000 29726             +
 00447C 9680 C000      00000       29728             +
 004480 41D0 C048            00048 29729             +
                                   29730    5140.     *
                                   29731    5141.     * First get the local control blocks
                                   29732    5142.     *
 004484 5870 0324            000A4 29733    5143.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    29734    5144.              WITH  (ASDB,RY)
 004488 5860 7038            00038 29747    5145.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     29748    5146.              WITH  (TDB,RX)
                                   29761    5147.     *
                                   29762    5148.     * Find the first ESB and mark it unfenced
                                   29763    5149.     *
 00448C 4100 0004            00004 29764    5150.              LA    RVR,4                   Expect a bad return
 004490 5820 601C/1222       0001C 29765    5151.              LT    RA,TDBESBS              Get the first ESB
 004496 4780 A038            044A8 29769    5152.              IF    NZ,BEGIN                If there is one
 USING  ESB,R2                     29780  1 5153.                WITH  (ESB,RA)
 00449A 9140 2024      00024       29793  1 5154.                IF    ESBFENCE,BEGIN
 00449E 47E0 A038            044A8 29803  1          +
 0044A2 1B00                       29808  2 5155.                  CLEAR RVR                     Good return
 0044A4 94BF 2024      00024       29812  2 5156.                  CLEAR ESBFENCE                Dont fence me in
 0044A8                            29819  1 5157.                END   ,
 DROP   ESB,R2                     29823    5158.              END   ,
 0044A8 981F C008            00008 29832    5159.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   EXRFDOWN,R10
 0044AC 9680 C000/0B0E 00000       29852             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  236
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  29859    5161.     *****************************************************************
                                   29860    5162.     *                                                               *
                                   29861    5163.     *  XITNEW  --  This routine allocates a new ERB and returns     *
                                   29862    5164.     *              an ID of that exit request to the caller.  The   *
                                   29863    5165.     *              ERB is also chained off the ASDB so we can keep  *
                                   29864    5166.     *              track of them.                                   *
                                   29865    5167.     *                                                               *
                                   29866    5168.     *   Input  --  @XITNEW                                          *
                                   29867    5169.     *                                                               *
                                   29868    5170.     *  Output  --  RVR contains the Exit request ID                 *
                                   29869    5171.     *                                                               *
                                   29870    5172.     *****************************************************************
-0044B2                            29872    5174.     XITNEW   PROC  @XITNEW,SCOPE=GLOBAL
 0044B2 E7C9E3D5C5E64040           29878             +
 0044BA 0008/0000                  29879             +
 0044BE 900F D004/18AF       00004 29881             +
 USING  XITNEW,R10
 0044C4 50D0 C000/18CD       00000 29896             +
 0044CA 9680 C000      00000       29898             +
 USING  @XITNEW-72,R12
 0044CE 41D0 C050            00050 29912             +
                                   29913    5175.     *
                                   29914    5176.     * Find out where we are
                                   29915    5177.     *
 0044D2 5870 0324            000A4 29916    5178.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    29917    5179.              WITH  (ASDB,RY)
                                   29930    5180.     *
                                   29931    5181.     * Allocate a new ERB. First try the free pool.
                                   29932    5182.     *
 0044D6 58F0 A78A/0DEF       04C48 29933    5183.              ACALL ASLOCK                  Lock up the address space
 0044DC 5890 7068/1299       00068 29940    5184.              LT    RN,ASDBFERB             Head of the free queue
 0044E2 4780 A02E            044EC 29944    5185.              IF    NZ,BEGIN
 USING  ERB,R9                     29955  1 5186.                WITH  (ERB,RN),'MVC ASDBFERB,ERBNEXT'   De-queue it
 0044E6 D203 7068 9004 00068 00004 29970  1          +
 DROP   ERB,R9
 0044EC A032           044EC 044E4 29979    5187.              END   ELSE,BEGIN              If no-free ones
 0044EC 47F0 A04E            0450C 29988             +
 USING  @VMGET-72,R13              29994  1 5188.                VMGET L'ERB,LOC=LOCSYS,FIX=YES          Get a new one
 0044F0 D70A D048 D048 00000 00000 30018  1          +
 0044F6 4100 00B1            000B1 30030  1          +
 0044FA 5000 D048            00000 30035  1          +
 0044FE D201 D050 A7CA 00008 04C88 30036  1          +
 004504 58F0 A78E/0DEF       04C4C 30039  1          +
 00450A 1890                       30041  1 5189.                LR    RN,RVR                  Copy the address
 00450C                            30042    5190.              END   ,
 USING  ERB,R9                     30046    5191.              WITH  (ERB,RN)
                                   30059    5192.     *
                                   30060    5193.     * Fill in the ERB (that which needs to be done now)
                                   30061    5194.     *
 00450C                            30062    5195.              CLEAR ERB
 00450C D7B0 9000 9000 00000 00000 30068             +
 004512 D203 9000 A7A6 00000 04C64 30069    5196.              MVC   ERB(4),=C'ERB '         Move in the control block ID
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  237
0Current Usings:  (PZERO,R0) (ASDB,R7) (ERB,R9) (XITNEW,R10) (@XITNEW-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004518 5070 900C            0000C 30070    5197.              ST    RY,ERBASDB              ASDB address
                                   30071    5198.     *
                                   30072    5199.     * Queue it up on the ASDB
                                   30073    5200.     *
 00451C D203 9008 7048 00008 00048 30074    5201.              MVC   ERBCHN,ASDBERBS         Point this at the queue
 004522 5090 7048            00048 30075    5202.              ST    RN,ASDBERBS             And the chain at this
 004526 58F0 A792/0DEF       04C50 30076    5203.              ACALL ASULOCK                 Unlock the address space
                                   30083    5204.     *
                                   30084    5205.     * Return the 'ID'
                                   30085    5206.     *
 00452C 1809                       30086    5207.              LR    RVR,RN                  Address of the ERB
 00452E 981F C008            00008 30087    5208.              PEND  ,
 DROP   ERB,R9
 DROP   ASDB,R7
 DROP   @XITNEW-72,R12
 DROP   XITNEW,R10
 004532 9680 C000/0B0E 00000       30112             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  238
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  30122    5210.     *****************************************************************
                                   30123    5211.     *                                                               *
                                   30124    5212.     *  XITDEL  --  This routine is called to delete a previously    *
                                   30125    5213.     *              allocated ERB.  It makes sure the ERB is chained *
                                   30126    5214.     *              off the ASDB and then frees it.                  *
                                   30127    5215.     *                                                               *
                                   30128    5216.     *   Input  --  @XITDEL                                          *
                                   30129    5217.     *                                                               *
                                   30130    5218.     *  Output  --  RVR  = 0 if the ERB was removed                  *
                                   30131    5219.     *              RVR ~= 0 if the ERB could not be removed         *
                                   30132    5220.     *                                                               *
                                   30133    5221.     *****************************************************************
-004538                            30135    5223.     XITDEL   PROC  @XITDEL,SCOPE=GLOBAL
 004538 E7C9E3C4C5D34040           30141             +
 004540 0008/0000                  30142             +
 004544 900F D004/18AF       00004 30144             +
 USING  XITDEL,R10
 00454A 50D0 C000/18CD       00000 30159             +
 004550 9680 C000      00000       30161             +
 USING  @XITDEL-72,R12
 004554 41D0 C050            00050 30175             +
                                   30176    5224.     *
                                   30177    5225.     * Get our bearings
                                   30178    5226.     *
 004558 5870 0324            000A4 30179    5227.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    30180    5228.              WITH  (ASDB,RY)
                                   30193    5229.     *
                                   30194    5230.     * Make sure that the ID points at an ERB
                                   30195    5231.     *
 00455C 5890 C048            00000 30196    5232.              L     RN,@XITDID              ID of the one to go
 004560                            30197    5233.              IF    (@RN,NE,'ERB '),BEGIN   Not a valid ERB
 004560 D503 A720 9000 04C64 00000 30207             +
 004566 4780 A02E            04572 30208             +
 00456A 4100 0004            00004 30213  1 5234.                LA    RVR,4
 00456E 47F0 A090            045D4 30214  1 5235.                EXIT  XITDEL
 004572                            30217    5236.              END   ,
 USING  ERB,R3                     30221    5237.              WITH  (ERB,RB)
                                   30234    5238.     *
                                   30235    5239.     * Scan to find the one we want
                                   30236    5240.     *
 004572 58F0 A704/0DEF       04C48 30237    5241.              ACALL ASLOCK                  Lock up the address space
 004578 4120 7048            00048 30244    5242.              LA    RA,ASDBERBS             Address of the pointer
 00457C 5830 2000/1233       00000 30245    5243.     XDSRCH   WHILE ('LT RB,@RA',NZ),BEGIN  Loop to the end
 004582 4780 A086            045CA 30259             +
                                   30264  1 5244.     *
                                   30265  1 5245.     * When we find it, we remove it from the list and free it
                                   30266  1 5246.     * (if possible).
                                   30267  1 5247.     *
 004586 1939/4770 A07E       045C2 30268  1 5248.                IF    (RB,EQ,RN),BEGIN        This is the one
 00458C D203 2000 3008 00000 00008 30283  2 5249.                  MVC   @RA(4),ERBCHN           Remove it from the chain
 004592                            30284  2 5250.                  CLEAR ERBCHN                  And clear the chain pointer
 004592 D703 3008 3008 00008 00008 30290  2          +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  239
0Current Usings:  (PZERO,R0) (ERB,R3) (ASDB,R7) (XITDEL,R10) (@XITDEL-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004598 9500 3018      00018       30291  2 5251.                  IF    ~ERBSFREE,BEGIN         We can't delete it now
 00459C 4780 A060            045A4 30301  2          +
 0045A0 9680 3019      00019       30306  3 5252.                    SET   ERBFDEL                 Mark it as deletion desired
 0045A4 A064           045A4 0459E 30312  2 5253.                  END   ELSE,BEGIN
 0045A4 47F0 A072            045B6 30321  2          +
 0045A8 925C 3003      00003       30327  3 5254.                    MVI   ERB+3,C'*'              Blitz the ID
 0045AC D203 3004 7068 00004 00068 30328  3 5255.                    MVC   ERBNEXT,ASDBFERB        Point this at the list
 0045B2 5090 7068            00068 30329  3 5256.                    ST    RN,ASDBFERB             And the list at this
 0045B6                            30330  2 5257.                  END   ,
 0045B6 58F0 A70C/0DEF       04C50 30334  2 5258.                  ACALL ASULOCK                 Unlock the address space
 0045BC 1B00                       30341  2 5259.                  CLEAR RVR
 0045BE 47F0 A090            045D4 30345  2 5260.                  EXIT  XITDEL
 0045C2                            30348  1 5261.                END   ,
                                   30352  1 5262.     *
                                   30353  1 5263.     * Update the search pointers
                                   30354  1 5264.     *
 0045C2 4120 3008            00008 30355  1 5265.                LA    RA,ERBCHN               Address of the next one
 0045C6 47F0 A038            0457C 30356    5266.              END   ,                       end of the search
                                   30361    5267.     *
                                   30362    5268.     * It was not found on the list...bad return
                                   30363    5269.     *
 0045CA 58F0 A70C/0DEF       04C50 30364    5270.              ACALL ASULOCK                 Unlock the address space
 0045D0 4100 0004            00004 30371    5271.              LA    RVR,4                   Return code for not found
 0045D4 981F C008            00008 30372    5272.              PEND  ,                       Return to the user
 DROP   ERB,R3
 DROP   ASDB,R7
 DROP   @XITDEL-72,R12
 DROP   XITDEL,R10
 0045D8 9680 C000/0B0E 00000       30397             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  240
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  30404    5274.     *****************************************************************
                                   30405    5275.     *                                                               *
                                   30406    5276.     *   XITDO  --  This routine is called to schedule an exit.  The *
                                   30407    5277.     *              ERB must have been allocated previously and its  *
                                   30408    5278.     *              id is passed in.                                 *
                                   30409    5279.     *                                                               *
                                   30410    5280.     *   Input  --  @XITDO                                           *
                                   30411    5281.     *                                                               *
                                   30412    5282.     *  Output  --  RVR  = 0 if the Exit was scheduled.              *
                                   30413    5283.     *              RVR ~= 0 if the Exit could not be scheduled.     *
                                   30414    5284.     *                                                               *
                                   30415    5285.     *****************************************************************
-0045DE                            30417    5287.     XITDO    PROC  @XITDO,SCOPE=GLOBAL
 0045DE E7C9E3C4D6404040           30423             +
 0045E6 0020/0000                  30424             +
 0045EA 900F D004/18AF       00004 30426             +
 USING  XITDO,R10
 0045F0 50D0 C000/18CD       00000 30441             +
 0045F6 9680 C000      00000       30443             +
 USING  @XITDO-72,R12
 0045FA 41D0 C068            00068 30457             +
                                   30458    5288.     *
                                   30459    5289.     * Get our bearings
                                   30460    5290.     *
 0045FE 5870 0324            000A4 30461    5291.              L     RY,PSAASDB              get the current ASDB pointer
 USING  ASDB,R7                    30462    5292.              WITH  (ASDB,RY)
                                   30475    5293.     *
                                   30476    5294.     * Validate and fill in the ERB passed
                                   30477    5295.     *
 004602 AC04 0339      000B9       30478    5296.              DISABLE ,                     Make us the only one to run
 004606                            30480    5297.     XDLCK    BEGIN                         Block of the locked up code
 004606 4180 0004            00004 30485  1 5298.                LA    RM,4                    Assume a bad return
 00460A 5890 C048            00000 30486  1 5299.                L     RN,@XITRQID
 00460E                            30487  1 5300.                IF    (@RN,NE,'ERB '),EXIT    Bad ID
 00460E D503 A67A 9000 04C64 00000 30497  1          +
 004614 4770 A12A            04714 30500  1          +
 USING  ERB,R9                     30506  1 5301.                WITH  (ERB,RN)
 004618 5970 900C            0000C 30519  1 5302.                IF    (RY,NE,ERBASDB),EXIT    It's not ours
 00461C 4770 A12A            04714 30533  1          +
 004620 5860 C04C            00004 30539  1 5303.                L     RX,@XITTSK              Get the Task ID
 004624                            30540  1 5304.                IF    (@RX,NE,'TDB '),EXIT    If it's not a task
 004624 D503 A67E 6000 04C68 00000 30550  1          +
 00462A 4770 A12A            04714 30553  1          +
 USING  TDB,R6                     30559  1 5305.                WITH  (TDB,RX)
 00462E 1F11/4310 C050       00008 30572  1 5306.                LC    RS,@XITTYPE             Get the exit type
 004634 5910 A682            04C6C 30579  1 5307.                IF    (RS,GT,31),EXIT         Bad type
 004638 4720 A12A            04714 30593  1          +
                                   30599  1 5308.     *
                                   30600  1 5309.     * We know we're going to take it now.  Reserve the ERB.
                                   30601  1 5310.     *
 00463C 9500 9018      00018       30602  1 5311.                IF    ~ERBSFREE,EXIT          The ERB isn't free, bug out
 004640 4770 A12A            04714 30614  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  241
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ERB,R9) (XITDO,R10) (@XITDO-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004644 9201 9018      00018       30620  1 5312.                SET   ERBSPEND                Exit is now pending
                                   30626  1 5313.     *
                                   30627  1 5314.     * Fill in the exit type
                                   30628  1 5315.     *
 004648 4210 9024            00024 30629  1 5316.                STC   RS,ERBTYPE              Save the numerical type
 00464C 5800 A686            04C70 30630  1 5317.                L     RVR,=X'80000000'        Exit zero
 004650 8800 1000            00000 30631  1 5318.                SRL   RVR,@RS                 Get the mask for the exit
 004654 5000 901C            0001C 30632  1 5319.                ST    RVR,ERBMTYPE            Save it
 004658 D603 6024 901C 00024 0001C 30633  1 5320.                OC    TDBXRMAP,ERBMTYPE       Indicate it is waiting
                                   30634  1 5321.     *
                                   30635  1 5322.     * And the rest of the info
                                   30636  1 5323.     *
 00465E D203 9028 C054 00028 0000C 30637  1 5324.                MVC   ERBQUAL,@XITQUAL        Qualifier
 004664 D20F 902C C058 0002C 00010 30638  1 5325.                MVC   ERBPARM(16),@XITPARM    Move in the parameter
 00466A 5060 9010            00010 30639  1 5326.                ST    RX,ERBTDB               TDB where this is queued
                                   30640  1 5327.     *
                                   30641  1 5328.     * All filled in.  Now it must be queued off the TDB
                                   30642  1 5329.     *
 00466E 91CE 901C      0001C       30643  1 5330.                IF    ERBMTYPE.XITMPI+XITMSVC+XITMPER+XITMMON+XITMLGO,BEGIN
 004672 4780 A096            04680 30671  1          +
 004676 D203 9004 6020 00004 00020 30676  2 5331.                  MVC   ERBNEXT,TDBERBS
 00467C 5090 6020            00020 30677  2 5332.                  ST    RN,TDBERBS              Put this at the front
 004680                            30678  1 5333.                END
                                   30682  1 5334.     *
                                   30683  1 5335.     *  Asynchronous exits are queued at the end of the queue
                                   30684  1 5336.     *
 004680 A09A           04680 04674 30685  1 5337.                ELSE  BEGIN
 004680 47F0 A0BA            046A4 30690  1          +
 004684                            30696  2 5338.                  CLEAR ERBNEXT                 This is the end of the chain
 004684 D703 9004 9004 00004 00004 30702  2          +
 00468A 4130 601C            0001C 30703  2 5339.                  LA    RB,TDBERBS-(ERBNEXT-ERB)
 DROP   ERB,R9                     30704  2 5340.                  WITH  (ERB,RB)
 USING  ERB,R3
 00468E 5810 3004/1211       00004 30725  2 5341.                  WHILE ('LT  RS,ERBNEXT',NZ),'L  RB,ERBNEXT'  Get last one
 004694 4780 A0B6            046A0 30738  2          +
 004698 5830 3004            00004 30744  2          +
 00469C 47F0 A0A4            0468E 30748  2          +
 0046A0 5090 3004            00004 30750  2 5342.                  ST    RN,ERBNEXT              Put this one at the end
 USING  ERB,R9                     30751  1 5343.                END
 DROP   ERB,R3
                                   30769  1 5344.     *
                                   30770  1 5345.     * See if the exit situation has changed to where something must
                                   30771  1 5346.     * be done.  If the exit mask will allow an exit to take effect, we
                                   30772  1 5347.     * have to set it up so that will take place.  If the TDB is currently
                                   30773  1 5348.     * suspended, we put in on the ready queue so the dispatcher will
                                   30774  1 5349.     * schedule the exit.  Since a new task has become ready, we call the
                                   30775  1 5350.     * dispatcher to insure that the highest priority task in the AS is
                                   30776  1 5351.     * running.  If the TDB is the current TDB, we also have to call the
                                   30777  1 5352.     * dispatcher to let the exit be scheduled.
                                   30778  1 5353.     *
 0046A4 5810 60A8            000A8 30779  1 5354.                L     RS,TDBEMASK             Get the Exit mask
 0046A8 5410 6024            00024 30780  1 5355.                N     RS,TDBXRMAP
 0046AC 4780 A128            04712 30781  1 5356.                IF    NZ,BEGIN                It needs to take an exit
                                   30792  2 5357.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  242
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (ERB,R9) (XITDO,R10) (@XITDO-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  30793  2 5358.     * If this will wake up that TDB we have to do it here
                                   30794  2 5359.     *
 0046B0 9180 60B0      000B0       30795  2 5360.                  IF    TDBSUSP,BEGIN           It is suspended
 0046B4 47E0 A100            046EA 30805  2          +
 0046B8 9140 6018      00018       30810  3 5361.                    IF    ~TDBFACT,BEGIN          Not already active
 0046BC 4710 A100            046EA 30820  3          +
 0046C0 9140 60B0      000B0       30825  4 5362.                      IF    TDBLONG,'DECR RS,ASDBNLTW'
 0046C4 47E0 A0E8            046D2 30835  4          +
 0046C8 4810 7050/0610       00050 30843  5          +
 0046CE 4010 7050            00050 30845  4          +
 0046D2 A0EC           046D2 046C6 30850  4 5363.                      ELSE  'DECR RS,ASDBNSTW'      Short term wait
 0046D2 47F0 A0F6            046E0 30855  4          +
 0046D6 4810 704E/0610       0004E 30864  5          +
 0046DC 4010 704E            0004E 30866  4          +
 0046E0 5060 D048            00000 30871  4 5364.                      TQADD TDB                     Add it to the active queue
 USING  TQPARM-72,R13
 0046E4 58F0 A68A/0DEF       04C74 30899  4          +
 0046EA                            30901  3 5365.                    END   ,
 0046EA                            30905  2 5366.                  END   ,
                                   30909  2 5367.     *
                                   30910  2 5368.     * Signal a re-dispatch if it is needed
                                   30911  2 5369.     *
 0046EA 9180 60B0      000B0       30912  2 5370.                  IF    (TDBSUSP,OR,(RX,EQ,PSATDB)),BEGIN
 0046EE 4710 A110            046FA 30926  2          +
 0046F2 5960 0328            000A8 30937  2          +
 0046F6 4770 A128            04712 30938  2          +
 0046FA 58F0 7028            00028 30943  3 5371.                    SET   ASDBTDSP,MODE=LOCKED,REF=ASDB     Turn it on
 0046FE 4110 0080            00080 30950  3          +
 004702 8910 0018/180F       00018 30951  3          +
 004708 1601/BAF0 7028       00028 30953  3          +
 00470E 4770 A11C            04706 30956  3          +
 004712                            30957  2 5372.                  END   ,
 004712                            30961  1 5373.                END   ,                       If no new exits, just enable
 004712 1B88                       30965  1 5374.                CLEAR RM
 DROP   TDB,R6                     30969    5375.              END   ,                       End of the locked up code
 DROP   ERB,R9
 004714 8000 0339      000B9       30983    5376.              ENABLE ,                      Unlock it all
 004718 1808                       30985    5377.              LR    RVR,RM                  Copy the return code
 00471A 981F C008            00008 30986    5378.              PEND  ,
 DROP   ASDB,R7
 DROP   @XITDO-72,R12
 DROP   XITDO,R10
 00471E 9680 C000/0B0E 00000       31006             +
 DROP   TQPARM-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  243
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  31016    5380.     *****************************************************************
                                   31017    5381.     *                                                               *
                                   31018    5382.     *  XITGST  --  This routine returns information about the       *
                                   31019    5383.     *              previous level of control.  It is called from    *
                                   31020    5384.     *              an exit routine.  The information obtained can   *
                                   31021    5385.     *              be updated with the routine XITPST.              *
                                   31022    5386.     *                                                               *
                                   31023    5387.     *   Input  --  @XITGPST                                         *
                                   31024    5388.     *                                                               *
                                   31025    5389.     *  Output  --  Updated info in the calling parm area.           *
                                   31026    5390.     *                                                               *
                                   31027    5391.     *****************************************************************
-004724                            31029    5393.     XITGST   PROC  @XITGPST,SCOPE=GLOBAL
 004724 E7C9E3C7E2E34040           31035             +
 00472C 0068/0000                  31036             +
 004730 900F D004/18AF       00004 31038             +
 USING  XITGST,R10
 004736 50D0 C000/18CD       00000 31053             +
 00473C 9680 C000      00000       31055             +
 USING  @XITGPST-72,R12
 004740 41D0 C0B0            000B0 31069             +
                                   31070    5394.     *
                                   31071    5395.     * Find out where we are
                                   31072    5396.     *
 004744 5870 0324            000A4 31073    5397.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    31074    5398.              WITH  (ASDB,RY)
 004748 5860 7038            00038 31087    5399.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     31088    5400.              WITH  (TDB,RX)
 00474C 5890 6028/1299       00028 31101    5401.              LT    RN,TDBISTK              Get the previous ERB
 004752 4780 A02C            0475C 31105    5402.              IF    Z,EXIT                  Exit if there isn't one
 USING  ERB,R9                     31119    5403.              WITH  (ERB,RN)
                                   31132    5404.     *
                                   31133    5405.     * Move the info into the parm area
                                   31134    5406.     *
 AUSING (E.TDBESTAT,ERBSTAT)       31135    5407.              WITH  (TDBESTAT,ERBSTAT),LABEL=E
 004756 D267 C048 9040 00000 00040 31142    5408.              MVC   @XITGPST,E.TDBISTAT     Update the info
 00475C 981F C008            00008 31143    5409.              PEND  ,
 DROP   ERB,R9
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @XITGPST-72,R12
 DROP   XITGST,R10
 004760 9680 C000/0B0E 00000       31173             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  244
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  31180    5411.     *****************************************************************
                                   31181    5412.     *                                                               *
                                   31182    5413.     *  XITPST  --  This routine updates information about the       *
                                   31183    5414.     *              previous level of control.  It is called from    *
                                   31184    5415.     *              an exit routine.  The information to be updated  *
                                   31185    5416.     *              can be obtained using the routine XITGST.        *
                                   31186    5417.     *                                                               *
                                   31187    5418.     *   Input  --  @XITGPST                                         *
                                   31188    5419.     *                                                               *
                                   31189    5420.     *  Output  --  None                                             *
                                   31190    5421.     *                                                               *
                                   31191    5422.     *****************************************************************
-004766                            31193    5424.     XITPST   PROC  @XITGPST,SCOPE=GLOBAL
 004766 E7C9E3D7E2E34040           31199             +
 00476E 0068/0000                  31200             +
 004772 900F D004/18AF       00004 31202             +
 USING  XITPST,R10
 004778 50D0 C000/18CD       00000 31217             +
 00477E 9680 C000      00000       31219             +
 USING  @XITGPST-72,R12
 004782 41D0 C0B0            000B0 31233             +
                                   31234    5425.     *
                                   31235    5426.     * Find out where we are
                                   31236    5427.     *
 004786 5870 0324            000A4 31237    5428.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    31238    5429.              WITH  (ASDB,RY)
 00478A 5860 7038            00038 31251    5430.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     31252    5431.              WITH  (TDB,RX)
 00478E 5890 6028/1299       00028 31265    5432.              LT    RN,TDBISTK              Get the previous ERB
 004794 4780 A02C            0479E 31269    5433.              IF    Z,EXIT                  Exit if there isn't one
 USING  ERB,R9                     31283    5434.              WITH  (ERB,RN)
                                   31296    5435.     *
                                   31297    5436.     * Move the info from the parm area
                                   31298    5437.     *
 AUSING (E.TDBESTAT,ERBSTAT)       31299    5438.              WITH  (TDBESTAT,ERBSTAT),LABEL=E
 004798 D267 9040 C048 00040 00000 31306    5439.              MVC   E.TDBISTAT,@XITGPST     Update the info
 00479E 981F C008            00008 31307    5440.              PEND  ,
 DROP   ERB,R9
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @XITGPST-72,R12
 DROP   XITPST,R10
 0047A2 9680 C000/0B0E 00000       31337             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  245
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  31344    5442.     *****************************************************************
                                   31345    5443.     *                                                               *
                                   31346    5444.     *  XITFPR  --  Thir routine flushes pending exit request that   *
                                   31347    5445.     *              of the types specified in the mask.              *
                                   31348    5446.     *                                                               *
                                   31349    5447.     *   Input  --  @XITMASK                                         *
                                   31350    5448.     *                                                               *
                                   31351    5449.     *  Output  --  RVR contains mask before the modification        *
                                   31352    5450.     *                                                               *
                                   31353    5451.     *****************************************************************
-0047A8                            31355    5453.     XITFPR   PROC  @XITMASK,SCOPE=GLOBAL
 0047A8 E7C9E3C6D7D94040           31361             +
 0047B0 0008/0000                  31362             +
 0047B4 900F D004/18AF       00004 31364             +
 USING  XITFPR,R10
 0047BA 50D0 C000/18CD       00000 31379             +
 0047C0 9680 C000      00000       31381             +
 USING  @XITMASK-72,R12
 0047C4 41D0 C050            00050 31395             +
                                   31396    5454.     *
                                   31397    5455.     * Find out where we are
                                   31398    5456.     *
 0047C8 5870 0324            000A4 31399    5457.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    31400    5458.              WITH  (ASDB,RY)
 0047CC 5860 7038            00038 31413    5459.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     31414    5460.              WITH  (TDB,RX)
                                   31427    5461.     *
                                   31428    5462.     * Scan the pending queue, removing any matching types
                                   31429    5463.     *
 0047D0 5810 C048            00000 31430    5464.              L     RS,@XITMSK              Get the desired mask
 0047D4 5410 6024            00024 31431    5465.              N     RS,TDBXRMAP             Any queued like this?
 0047D8 4780 A074            04828 31432    5466.              IF    Z,EXIT                  If not, bypass all this junk
                                   31446    5467.
 0047DC AC04 0339      000B9       31447    5468.              DISABLE ,                     Lock up the address space
 0047E0 4140 6020            00020 31449    5469.              LA    RJ,TDBERBS              Address of the pointer
 0047E4 5850 6020            00020 31450    5470.              L     RK,TDBERBS              Get the first in the list
 USING  ERB,R5                     31451    5471.              WITH  (ERB,RK)
 0047E8                            31464    5472.              CLEAR TDBXRMAP                Clear the request map
 0047E8 D703 6024 6024 00024 00024 31470             +
 0047EE 1255/4780 A070       04824 31471    5473.              WHILE (RK,NZ),BEGIN
 0047F4 5800 C048            00000 31487  1 5474.                L     RVR,@XITMSK             Get the target mask
 0047F8 5400 501C            0001C 31488  1 5475.                N     RVR,ERBMTYPE            Is this one of them
                                   31489  1 5476.     *
                                   31490  1 5477.     * If this is on the hit list, make it seem as though it was never
                                   31491  1 5478.     * on the queue.
                                   31492  1 5479.     *
 0047FC 4780 A05A            0480E 31493  1 5480.                IF    NZ,BEGIN                It is... remove it
 004800 D203 4000 5004 00000 00004 31504  2 5481.                  MVC   @RJ(4),ERBNEXT          Take it off the queue
 004806 9200 5018      00018       31505  2 5482.                  SET   ERBSFREE                Mark it as free
 00480A 5850 5004            00004 31511  2 5483.                  L     RK,ERBNEXT              Move on to the next one
 00480E A05E           0480E 047FE 31512  1 5484.                END   ELSE,BEGIN
 00480E 47F0 A06C            04820 31521  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  246
0Current Usings:  (PZERO,R0) (ERB,R5) (TDB,R6) (ASDB,R7) (XITFPR,R10) (@XITMASK-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  31527  2 5485.     *
                                   31528  2 5486.     * Not on the hit list
                                   31529  2 5487.     *
 004812 D603 6024 501C 00024 0001C 31530  2 5488.                  OC    TDBXRMAP,ERBMTYPE       Count this among those pending
 004818 4140 5004            00004 31531  2 5489.                  LA    RJ,ERBNEXT              Move on down the road
 00481C 5850 5004            00004 31532  2 5490.                  L     RK,ERBNEXT              Point at the next one
 004820                            31533  1 5491.                END   ,
 004820 47F0 A03A            047EE 31537    5492.              END   ,                       all the way to the end
 004824 8000 0339      000B9       31542    5493.              ENABLE ,                      Unlock the Address space
 004828 981F C008            00008 31544    5494.              PEND
 DROP   ERB,R5
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @XITMASK-72,R12
 DROP   XITFPR,R10
 00482C 9680 C000/0B0E 00000       31574             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  247
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  31581    5496.     *****************************************************************
                                   31582    5497.     *                                                               *
                                   31583    5498.     * XITMASK  --  This routine enables the caller to modify the    *
                                   31584    5499.     *              exit enable mask.  It may be replaced, have bits *
                                   31585    5500.     *              added, or bits removed.  The old mask is         *
                                   31586    5501.     *              returned in RVR.                                 *
                                   31587    5502.     *                                                               *
                                   31588    5503.     *   Input  --  @XITMASK                                         *
                                   31589    5504.     *                                                               *
                                   31590    5505.     *  Output  --  RVR contains mask before the modification        *
                                   31591    5506.     *                                                               *
                                   31592    5507.     *****************************************************************
-004832                            31594    5509.     XITMASK  PROC  @XITMASK,SCOPE=GLOBAL
 004832 E7C9E3D4C1E2D240           31600             +
 00483A 0008/0000                  31601             +
 00483E 900F D004/18AF       00004 31603             +
 USING  XITMASK,R10
 004844 50D0 C000/18CD       00000 31618             +
 00484A 9680 C000      00000       31620             +
 USING  @XITMASK-72,R12
 00484E 41D0 C050            00050 31634             +
                                   31635    5510.     *
                                   31636    5511.     * Find out where we are
                                   31637    5512.     *
 004852 5870 0324            000A4 31638    5513.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    31639    5514.              WITH  (ASDB,RY)
 004856 5860 7038            00038 31652    5515.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     31653    5516.              WITH  (TDB,RX)
                                   31666    5517.     *
                                   31667    5518.     * Update the mask
                                   31668    5519.     *
 00485A 5800 60A8            000A8 31669    5520.              L     RVR,TDBEMASK            Get the current value
 00485E                            31670    5521.              LOOP  BEGIN
 00485E 1820                       31676  1 5522.                LR    RA,RVR
 004860 9500 C04C      00004       31677  1 5523.                IF    @XITMSO,'O RA,@XITMSK'  OR  operation
 004864 4770 A02E            0486C 31687  1          +
 004868 5620 C048            00000 31693  1          +
 00486C 9501 C04C      00004       31698  1 5524.                IF    @XITMSN,'N RA,@XITMSK'  AND operation
 004870 4770 A03A            04878 31708  1          +
 004874 5420 C048            00000 31714  1          +
 004878 9502 C04C      00004       31719  1 5525.                IF    @XITMSS,'L RA,@XITMSK'  SET operation
 00487C 4770 A046            04884 31729  1          +
 004880 5820 C048            00000 31735  1          +
 004884 BA02 60A8            000A8 31740  1 5526.                CS    RVR,RA,TDBEMASK         Implement it
 004888 4770 A020            0485E 31741    5527.              UNTIL Z,END
                                   31760    5528.     *
                                   31761    5529.     * If this enables an exit we call the dispatcher
                                   31762    5530.     *
 00488C 5420 6024            00024 31763    5531.              N     RA,TDBXRMAP             Request map
 004890 4780 A074            048B2 31764    5532.              IF    NZ,BEGIN
 004894 58F0 7028            00028 31775  1 5533.                SET   ASDBTDSP,MODE=LOCKED,REF=ASDB     Local re-dispatch
 004898 4110 0080            00080 31782  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  248
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (XITMASK,R10) (@XITMASK-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000489C 8910 0018/180F       00018 31783  1          +
 0048A2 1601/BAF0 7028       00028 31785  1          +
 0048A8 4770 A062            048A0 31788  1          +
 0048AC 58F0 A43A/0DEF       04C78 31789  1 5534.                ACALL DISPRD                  And call the dispatcher
 0048B2                            31796    5535.              END   ,
 0048B2 981F C008            00008 31800    5536.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @XITMASK-72,R12
 DROP   XITMASK,R10
 0048B6 9680 C000/0B0E 00000       31825             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  249
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  31832    5538.     *****************************************************************
                                   31833    5539.     *                                                               *
                                   31834    5540.     * XITRMPLC --  This routine allow a currently running exit      *
                                   31835    5541.     *              routine to remove the evidence of a previously   *
                                   31836    5542.     *              scheduled exit.  (E.G. A supervisor exit program *
                                   31837    5543.     *              checks.  The PI exit can call this routine to    *
                                   31838    5544.     *              make it appear that the original program program *
                                   31839    5545.     *              checked at the SVC).  After calling this routine *
                                   31840    5546.     *              the registers and PSWs accessed will be those of *
                                   31841    5547.     *              the lower level routine.  The other information  *
                                   31842    5548.     *              in the exit status area will be unchanged after  *
                                   31843    5549.     *              the call.                                        *
                                   31844    5550.     *                                                               *
                                   31845    5551.     *   Input  --  none                                             *
                                   31846    5552.     *                                                               *
                                   31847    5553.     *  Output  --  none                                             *
                                   31848    5554.     *                                                               *
                                   31849    5555.     *****************************************************************
-0048BC                            31851    5557.     XITRMPLC PROC  SCOPE=GLOBAL
 0048BC E7C9E3D9D4D7D3C3           31857             +
 0048C4 0000/0000                  31858             +
 0048C8 900F D004/18AF       00004 31860             +
 USING  XITRMPLC,R10
 0048CE 50D0 C000/18CD       00000 31875             +
 0048D4 9680 C000      00000       31877             +
 0048D8 41D0 C048            00048 31878             +
                                   31879    5558.     *
                                   31880    5559.     * Get our bearings
                                   31881    5560.     *
 0048DC 5870 0324            000A4 31882    5561.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    31883    5562.              WITH  (ASDB,RY)
 0048E0 5860 7038            00038 31896    5563.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     31897    5564.              WITH  (TDB,RX)
                                   31910    5565.     *
                                   31911    5566.     * Keep anything from getting at this queue while we're looking
                                   31912    5567.     *
 0048E4 58F0 A380/0DEF       04C48 31913    5568.              ACALL ASLOCK                  Lock up the address space
 0048EA                            31920    5569.     XRMIX    BEGIN ,
 0048EA 5850 6028/1255       00028 31925  1 5570.                LT    RK,TDBISTK              Get the current exit level
 0048F0 4780 A04C            04914 31929  1 5571.                IF    Z,EXIT                  No exit here
 USING  CUR.ERB,R5                 31943  1 5572.                WITH  (ERB,RK),LABEL=CUR      Address it
 0048F4 5840 5004/1244       00004 31951  1 5573.                LT    RJ,CUR.ERBNEXT          Get the previous one
 0048FA 4780 A04C            04914 31955  1 5574.                IF    Z,EXIT                  No previous one
 USING  PRV.ERB,R4                 31969  1 5575.                WITH  (ERB,RJ),LABEL=PRV      Address it
                                   31977  1 5576.     *
                                   31978  1 5577.     * Remove the previous from the queue
                                   31979  1 5578.     *
 0048FE D203 5004 4004 00004 00004 31980  1 5579.                MVC   CUR.ERBNEXT,PRV.ERBNEXT Remove it from the queue
 004904 9200 4018      00018       31981  1 5580.                SET   PRV:ERBSFREE            Mark it as free
 004908 D703 4010 4010 00010 00010 31987  1 5581.                XC    PRV.ERBTDB,PRV.ERBTDB   Clear the TDB field
 00490E D270 5040 4040 00040 00040 31988  1 5582.                MVC   CUR.ERBSTAT,PRV.ERBSTAT Overlay the information
 DROP   PRV.ERB,R4                 31989    5583.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  250
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (XITRMPLC,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   CUR.ERB,R5
 004914 58F0 A388/0DEF       04C50 32009    5584.              ACALL ASULOCK                 Free up the address space
 00491A 981F C008            00008 32016    5585.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   XITRMPLC,R10
 00491E 9680 C000/0B0E 00000       32036             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  251
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  32043    5587.     *****************************************************************
                                   32044    5588.     *                                                               *
                                   32045    5589.     *  EXRDONE --  This routine is called to return from and exit   *
                                   32046    5590.     *              routine.  It frees the ERB and goes into         *
                                   32047    5591.     *              dispatcher mode to cause the task, address space *
                                   32048    5592.     *              dispatching to be done.                          *
                                   32049    5593.     *                                                               *
                                   32050    5594.     *   Input  --  @EXRDONE                                         *
                                   32051    5595.     *                                                               *
                                   32052    5596.     *  Output  --  none                                             *
                                   32053    5597.     *                                                               *
                                   32054    5598.     *****************************************************************
-004924                            32056    5600.     EXRDONE  PROC  @EXRDONE,SCOPE=GLOBAL
 004924 C5E7D9C4D6D5C540           32062             +
 00492C 0008/0000                  32063             +
 004930 900F D004/18AF       00004 32065             +
 USING  EXRDONE,R10
 004936 50D0 C000/18CD       00000 32080             +
 00493C 9680 C000      00000       32082             +
 USING  @EXRDONE-72,R12
 004940 41D0 C050            00050 32096             +
                                   32097    5601.     *
                                   32098    5602.     * Get our bearings
                                   32099    5603.     *
 004944 5870 0324            000A4 32100    5604.              L     RY,PSAASDB              Get the current ASDB
 USING  ASDB,R7                    32101    5605.              WITH  (ASDB,RY)
 004948 5860 7038            00038 32114    5606.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     32115    5607.              WITH  (TDB,RX)
                                   32128    5608.     *
                                   32129    5609.     * Find the previous level of control
                                   32130    5610.     *
 00494C 58F0 A318/0DEF       04C48 32131    5611.              ACALL ASLOCK                  Get the lock
 004952 5850 6028/1255       00028 32138    5612.              LT    RK,TDBISTK              Get the previous exit
 004958 4770 A05C            0498C 32142    5613.              IF    Z,BEGIN                 This is the bottom level
 00495C AC04 021B      0021B       32153  1 5614.                ABORT EXRDBAD                 Very bad
 004960 9680 021A      0021A       32162  1          +
 004964 50F0 021C            0021C 32163  1          +
 004968 58F0 0210            00210 32164  1          +
 00496C 89F0 0010            00010 32165  1          +
 004970 88F0 0010            00010 32166  1          +
 004974 41F0 F000            00000 32167  1          +
 004978 AEFF 0006            00006 32168  1          +
 00497C C5E7D9C4C2C1C440           32169  1          +
 00498C                            32170    5615.              END   ,
                                   32174    5616.     *
                                   32175    5617.     * Re-enable the exit routine
                                   32176    5618.     *
 USING  ERB,R5                     32177    5619.              WITH  (ERB,RK)                Point to it
 00498C 5810 5014            00014 32190    5620.              L     RS,ERBESB               Address of the associated ESB
 USING  ESB,R1                     32191    5621.              WITH  (ESB,RS),BEGIN
 004990 9180 1024      00024       32205  1 5622.                IF    ESBFSTK,'CLEAR ESBFDIS' Re-enable the exit routine
 004994 47E0 A06C            0499C 32215  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  252
0Current Usings:  (PZERO,R0) (ESB,R1) (ERB,R5) (TDB,R6) (ASDB,R7) (EXRDONE,R10) (@EXRDONE-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004998 94EF 1024      00024       32227  1          +
 DROP   ESB,R1                     32232    5623.              END   ,
                                   32240    5624.     *
                                   32241    5625.     * Get us to the dispatcher stack
                                   32242    5626.     *
 00499C AC04 0339      000B9       32243    5627.              DISABLE ,                     No interrupts
 0049A0 58C0 0334/12CC       000B4 32245    5628.              IF    ('LT WAR,PSACPLK',NZ),'ABORT CPLKBAL'
 0049A6 4780 A0AA            049DA 32256             +
 0049AA AC04 021B      0021B       32265  1          +
 0049AE 9680 021A      0021A       32271  1          +
 0049B2 50F0 021C            0021C 32272  1          +
 0049B6 58F0 0210            00210 32273  1          +
 0049BA 89F0 0010            00010 32274  1          +
 0049BE 88F0 0010            00010 32275  1          +
 0049C2 41F0 F000            00000 32276  1          +
 0049C6 AEFF 0006            00006 32277  1          +
 0049CA C3D7D3D2C2C1D340           32278             +
 0049DA 58C0 0330            000B0 32283    5629.              L     WAR,PSADSTK             Get the Dispatcher stack
 0049DE 41D0 C008            00008 32284    5630.              LA    SPR,8(,WAR)
 0049E2 9680 0338      000B8       32285    5631.              SET   DISPSTK                 We are now on it
 0049E6 D203 0334 A34C 000B4 04C7C 32291    5632.              MVC   PSACPLK,=A(1)           Lock up the CPU
 0049EC                            32292    5633.              CLEAR ASDBLOCK                Free ASDB locks held
 0049EC D703 7030 7030 00030 00030 32298             +
 0049F2 9955 A35C            04C8C 32299    5634.              XTRC  RK,RK,EXRDONE           Trace the change
 004C8A 0000/00004C8C                     1          +
 004C90 00000073/0505              32308  1          +
 004C96 C5E7D9C4D6D5C540           32310             +
                                   32317    5635.     *
                                   32318    5636.     * Take the status info out of it
                                   32319    5637.     *
 0049F6 D203 6028 5004 00028 00004 32320    5638.              MVC   TDBISTK,ERBNEXT         Remove it from the list
 0049FC D270 6040 5040 00040 00040 32321    5639.              MVC   TDBESTAT,ERBSTAT        Restore the level of control
 004A02 D267 0280 6040 00000 00040 32322    5640.              MVC   PSASTATE,TDBISTAT       Update the PSA version too
                                   32323    5641.     *
                                   32324    5642.     * Free the ERB
                                   32325    5643.     *
 004A08                            32326    5644.              CLEAR ERBTDB
 004A08 D703 5010 5010 00010 00010 32332             +
 004A0E 9200 5018      00018       32333    5645.              SET   ERBSFREE                Free the ERB
 004A12 9180 5019      00019       32339    5646.              IF    ERBFDEL,BEGIN           It was previously deleted
 004A16 47E0 A0F8            04A28 32349             +
 004A1A 925C 5003      00003       32354  1 5647.                MVI   ERB+3,C'*'              Bliz the ID
 004A1E D203 5004 7068 00004 00068 32355  1 5648.                MVC   ERBNEXT,ASDBFERB        Point this at the list
 004A24 5050 7068            00068 32356  1 5649.                ST    RK,ASDBFERB             And the list at this
 004A28                            32357    5650.              END   ,
                                   32361    5651.     *
                                   32362    5652.     * Re-dispatch
                                   32363    5653.     *
 004A28 58F0 7028            00028 32364    5654.              SET   ASDBTDSP,MODE=LOCKED,REF=ASDB
 004A2C 4110 0080            00080 32371             +
 004A30 8910 0018/180F       00018 32372             +
 004A36 1601/BAF0 7028       00028 32374             +
 004A3C 4770 A104            04A34 32377             +
 004A40 58F0 A350/0DEF       04C80 32378    5655.              ACALL ASDISP
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  253
0Current Usings:  (PZERO,R0) (ERB,R5) (TDB,R6) (ASDB,R7) (EXRDONE,R10) (@EXRDONE-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  32385    5656.
 004A46                            32386    5657.              IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 004A46 D503 A354 0334 04C84 000B4 32398             +
 004A4C 4780 A150            04A80 32399             +
 004A50 AC04 021B      0021B       32408  1          +
 004A54 9680 021A      0021A       32414  1          +
 004A58 50F0 021C            0021C 32415  1          +
 004A5C 58F0 0210            00210 32416  1          +
 004A60 89F0 0010            00010 32417  1          +
 004A64 88F0 0010            00010 32418  1          +
 004A68 41F0 F000            00000 32419  1          +
 004A6C AEFF 0006            00006 32420  1          +
 004A70 C3D7D3D2C2C1D340           32421             +
 004A80 9801 0280            00000 32426    5658.              LM    R0,R1,PSAPSW
 004A84 9901 A370            04CA0 32427    5659.              XTRC  R0,R1,RUNUSER7          Trace the run
 004C9E 0000/00004CA0                     1          +
 004CA4 00000074/0001              32436  1          +
 004CAA D9E4D5E4E2C5D9F7           32438             +
 004A88 6800 02C8            00048 32445    5660.              LD    0,PSAFPRS+0*4           FPR 0
 004A8C 6820 02D0            00050 32446    5661.              LD    2,PSAFPRS+2*4           FPR 2
 004A90 6840 02D8            00058 32447    5662.              LD    4,PSAFPRS+4*4           FPR 4
 004A94 6860 02E0            00060 32448    5663.              LD    6,PSAFPRS+6*4           FPR 6
 004A98 980F 0288            00008 32449    5664.              LM    0,15,PSAGPRS            GPRs
 004A9C 947F 0338      000B8       32450    5665.              CLEAR DISPSTK                 No in dispatcher stack now
 004AA0                            32457    5666.              CLEAR PSACPLK
 004AA0 D703 0334 0334 000B4 000B4 32463             +
 004AA6 8200 0280      00000       32464    5667.              LPSW  PSAPSW                  Return to previous level
 004AAA 981F C008            00008 32465    5668.              PEND  ,
 DROP   ERB,R5
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @EXRDONE-72,R12
 DROP   EXRDONE,R10
 004AAE 9680 C000/0B0E 00000       32495             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  254
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  32502    5670.     *****************************************************************
                                   32503    5671.     *                                                               *
                                   32504    5672.     *  EXSCHED --  This routine must be called off the dispatcher   *
                                   32505    5673.     *              stack.  It scans the list of waiting exit        *
                                   32506    5674.     *              requests and shedules the first one that is      *
                                   32507    5675.     *              enabled.  It is only called when there is some   *
                                   32508    5676.     *              bit on in the exit mask that is also on in the   *
                                   32509    5677.     *              exit request map.  This routine, along with      *
                                   32510    5678.     *              XITDO, maintains the exit request map.           *
                                   32511    5679.     *                                                               *
                                   32512    5680.     *   Input  --  none                                             *
                                   32513    5681.     *                                                               *
                                   32514    5682.     *  Output  --  none                                             *
                                   32515    5683.     *                                                               *
                                   32516    5684.     *****************************************************************
-004AB4                            32518    5686.     EXSCHED  PROC  SCOPE=LOCAL
 004AB4 C5E7E2C3C8C5C440           32525             +
 004ABC 0000/0000                  32526             +
 004AC0 900F D004/18AF       00004 32528             +
 USING  EXSCHED,R10
 004AC6 50D0 C000/18CD       00000 32543             +
 004ACC 9680 C000      00000       32545             +
 004AD0 41D0 C048            00048 32546             +
                                   32547    5687.     *
                                   32548    5688.     * Get our bearings
                                   32549    5689.     *
 004AD4 5870 0324            000A4 32550    5690.              L     RY,PSAASDB              Current ASDB
 USING  ASDB,R7                    32551    5691.              WITH  (ASDB,RY)
 004AD8 5860 7038            00038 32564    5692.              L     RX,ASDBCTDB             Current TDB
 USING  TDB,R6                     32565    5693.              WITH  (TDB,RX)
                                   32578    5694.     *
                                   32579    5695.     * Set up for the search
                                   32580    5696.     *
 004ADC                            32581    5697.              CLEAR TDBXRMAP                Clear the new exit RQ map
 004ADC D703 6024 6024 00024 00024 32587             +
 004AE2 1B99                       32588    5698.              CLEAR RN                      Location for the one we want
 004AE4 5810 60A8            000A8 32592    5699.              L     RS,TDBEMASK             Copy the mask
 004AE8 4120 6020            00020 32593    5700.              LA    RA,TDBERBS              Point at the pointer
                                   32594    5701.     *
                                   32595    5702.     * Loop through all the queued exits
                                   32596    5703.     *
 004AEC 5830 2000/1233       00000 32597    5704.              WHILE ('LT RB,@RA',NZ),BEGIN  Loop through
 004AF2 4780 A060            04B20 32610             +
 USING  ERB,R3                     32615  1 5705.                WITH  (ERB,RB)
 004AF6 1801                       32628  1 5706.                LR    RVR,RS                  Copy the Exit mask
 004AF8 5400 301C            0001C 32629  1 5707.                N     RVR,ERBMTYPE            See about the type
 004AFC 4780 A04E/1299       04B0E 32630  1 5708.                IF    (NZ,AND,(RN,Z)),BEGIN   Remove this one
 004B02 4770 A04E            04B0E 32649  1          +
 004B06 1893                       32654  2 5709.                  LR    RN,RB                   This is ours
 004B08 D203 2000 3004 00000 00004 32655  2 5710.                  MVC   @RA(4),ERBNEXT          Take it out of the chain
 004B0E A052           04B0E 04AFE 32656  1 5711.                END   ELSE,BEGIN
 004B04 A052           04B06 04B0E 32665  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  255
0Current Usings:  (PZERO,R0) (ERB,R3) (TDB,R6) (ASDB,R7) (EXSCHED,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004B0E 47F0 A05C            04B1C 32667  1          +
                                   32673  2 5712.
 004B12 D603 6024 301C 00024 0001C 32674  2 5713.                  OC    TDBXRMAP,ERBMTYPE       Keep track of those we need
 004B18 4120 3004            00004 32675  2 5714.                  LA    RA,ERBNEXT              Address of the next pointer
 004B1C                            32676  1 5715.                END   ,
 004B1C 47F0 A02C            04AEC 32680    5716.              END   ,                       end of the search
 DROP   ERB,R3
                                   32690    5717.     *
                                   32691    5718.     * At this point, RN should point to an ERB to be scheduled
                                   32692    5719.     *
 004B20 1299/4780 A17C       04C3C 32693    5720.              IF    (RN,Z),EXIT             If not... never mind.
 USING  ERB,R9                     32710    5721.              WITH  (ERB,RN)
                                   32723    5722.     *
                                   32724    5723.     * Scan to see if there is an exit routine defined to handle it
                                   32725    5724.     *
 004B26 5810 901C            0001C 32726    5725.              L     RS,ERBMTYPE             Get the exit type mask
 004B2A 5850 601C            0001C 32727    5726.              L     RK,TDBESBS              Get the first of the bunch
 USING  ESB,R5                     32728    5727.              WITH  (ESB,RK)
 004B2E 1255/4780 A0A4       04B64 32741    5728.     ESBSRCH  WHILE (RK,NZ),BEGIN           Loop till we find one
 004B34 5800 500C            0000C 32758  1 5729.                L     RVR,ESBTYPE             Get the exit routine type mask
 004B38 1401                       32759  1 5730.                NR    RVR,RS                  Compare against the exit
 004B3A 4780 A09C            04B5C 32760  1 5731.                IF    (NZ,AND,~ESBFDIS),BEGIN Try this one out
 004B3E 9110 5024      00024       32779  1          +
 004B42 4710 A09C            04B5C 32780  1          +
 004B46 9120 5024      00024       32785  2 5732.                  IF    (ESBFQUAL,AND,(ERBQUAL,NE,ESBQUAL)),EXIT Bad Qual
 004B4A 47E0 A098            04B58 32797  2          +
 004B4E D503 9028 501C 00028 0001C 32811  2          +
 004B54 4770 A09C            04B5C 32814  2          +
 004B58 47F0 A0A4            04B64 32820  2 5733.                  EXIT  ESBSRCH                 We found one
 004B5C                            32823  1 5734.                END   ,
 004B5C 5850 5004            00004 32827  1 5735.                L     RK,ESBNEXT              Move to the next one
 004B60 47F0 A06E            04B2E 32828    5736.              END   ,                       End of the search
                                   32833    5737.     *
                                   32834    5738.     * We have either found the first or not found any.
                                   32835    5739.     *
 004B64 1255/4770 A0EC       04BAC 32836    5740.              IF    (RK,Z),BEGIN            We didn't find one
 004B6A 9500 9024      00024       32850  1 5741.                IF    (ERBTYPE,EQ,XITTPI),BEGIN
 004B6E 4770 A0E2            04BA2 32863  1          +
 004B72 AC04 021B      0021B       32868  2 5742.                  ABORT NOEXIT
 004B76 9680 021A      0021A       32877  2          +
 004B7A 50F0 021C            0021C 32878  2          +
 004B7E 58F0 0210            00210 32879  2          +
 004B82 89F0 0010            00010 32880  2          +
 004B86 88F0 0010            00010 32881  2          +
 004B8A 41F0 F000            00000 32882  2          +
 004B8E AEFF 0006            00006 32883  2          +
 004B92 D5D6C5E7C9E34040           32884  2          +
 004BA2                            32885  1 5743.                END   ,
 004BA2                            32889  1 5744.                CLEAR ERBTDB                  Clear the TDB address
 004BA2 D703 9010 9010 00010 00010 32895  1          +
 004BA8 9200 9018      00018       32896  1 5745.                SET   ERBSFREE                Change the status
 004BAC A0F0           04BAC 04B68 32902    5746.              END   ELSE,BEGIN
 004BAC 47F0 A17C            04C3C 32911             +
                                   32917  1 5747.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  256
0Current Usings:  (PZERO,R0) (ESB,R5) (TDB,R6) (ASDB,R7) (ERB,R9) (EXSCHED,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  32918  1 5748.     * We have the ESB and the ERB... Yea!! We get to take an exit.
                                   32919  1 5749.     *
                                   32920  1 5750.     *
                                   32921  1 5751.     * Save the current state
                                   32922  1 5752.     *
 004BB0 5960 0328            000A8 32923  1 5753.                IF    (RX,EQ,PSATDB),BEGIN    The Task has been established
 004BB4 4770 A0FE            04BBE 32935  1          +
 004BB8 D267 6040 0280 00040 00000 32940  2 5754.                  MVC   TDBISTAT,PSASTATE       Save the PSA info in the TDB
 004BBE                            32941  1 5755.                END   ,
 004BBE D270 9040 6040 00040 00040 32945  1 5756.                MVC   ERBSTAT,TDBESTAT        Save the current status
 004BC4 D203 9004 6028 00004 00028 32946  1 5757.                MVC   ERBNEXT,TDBISTK         Point this to the list
 004BCA 5090 6028            00028 32947  1 5758.                ST    RN,TDBISTK              Stack this one
                                   32948  1 5759.     *
                                   32949  1 5760.     * Formulate the new state
                                   32950  1 5761.     *
 004BCE                            32951  1 5762.                CLEAR TDBESTAT                Zero the whole thing
 004BCE D770 6040 6040 00040 00040 32957  1          +
 004BD4 D207 6040 5010 00040 00010 32958  1 5763.                MVC   TDBPSW,ESBPSW           New PSW
 004BDA D203 9020 5020 00020 00020 32959  1 5764.                MVC   ERBRPARM,ESBPARM        And the Routine parm
 AUSING (XITMSKD,TDBEMASK)         32960  1 5765.                WITH  (XITMSKD,TDBEMASK)      Refer to the exit map
 004BE0 9680 60A8      00000       32967  1 5766.                SET   XITMPI                  Set the non-maskable ones
                                   32973  1 5767.     *
                                   32974  1 5768.     * For system style exits (those that require a stack), we set
                                   32975  1 5769.     * up the stack that was pre-allocated.  We also disable the exit
                                   32976  1 5770.     * so that the stack won't be used again.
                                   32977  1 5771.     *
 004BE4 9180 5024      00024       32978  1 5772.                IF    ESBFSTK,BEGIN           System-type exit (with stack)
 004BE8 47E0 A14E            04C0E 32988  1          +
 004BEC 9610 5024      00024       32993  2 5773.                  SET   ESBFDIS                 Disable it
 004BF0 D203 6084 6044 00084 00044 32999  2 5774.                  MVC   TDBGPRS+15*4(4),TDBPSW+4  Entry point address
 004BF6 5810 5018            00018 33000  2 5775.                  L     RS,ESBSTACK             Get the stack location
 004BFA 5010 6078            00078 33001  2 5776.                  ST    RS,TDBGPRS+WAR*4        Save the frame pointer
 004BFE 4110 1008            00008 33002  2 5777.                  LA    RS,@RS+8
 004C02 5010 607C            0007C 33003  2 5778.                  ST    RS,TDBGPRS+SPR*4        And the stack pointer
 004C06 4120 9020            00020 33004  2 5779.                  LA    RA,ERBRPARM             Location of the XITSAREA
 004C0A 5020 1048            00048 33005  2 5780.                  ST    RA,@RS+72               Location for the address
 004C0E A152           04C0E 04BEA 33006  1 5781.                END   ELSE,BEGIN
 004C0E 47F0 A15A            04C1A 33015  1          +
 004C12 4120 9020            00020 33021  2 5782.                  LA    RA,ERBRPARM             Location of the XITSAREA
 004C16 5020 604C            0004C 33022  2 5783.                  ST    RA,TDBGPRS+1*4          Put it in R1
 004C1A                            33023  1 5784.                END   ,
                                   33027  1 5785.     *
                                   33028  1 5786.     * If the task was already established, the correct place for the
                                   33029  1 5787.     * PSW and registers is in the PSA.
                                   33030  1 5788.     *
 004C1A 5960 0328            000A8 33031  1 5789.                IF    (RX,EQ,PSATDB),BEGIN    The Task has been established
 004C1E 4770 A168            04C28 33043  1          +
 004C22 D267 0280 6040 00000 00040 33048  2 5790.                  MVC   PSASTATE,TDBISTAT       Save the TDB info in the PSA
 004C28                            33049  1 5791.                END   ,
                                   33053  1 5792.     *
                                   33054  1 5793.     * Setup the exit chaining thing
                                   33055  1 5794.     *
 004C28 5050 9014            00014 33056  1 5795.                ST    RK,ERBESB               Save the exit routine
                                   33057  1 5796.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  257
0Current Usings:  (PZERO,R0) (ESB,R5) (TDB,R6) (ASDB,R7) (ERB,R9) (EXSCHED,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  33058  1 5797.     * Calculate a new Level of control number
                                   33059  1 5798.     *
 004C2C 4110 0001            00001 33060  1 5799.                INCR  RS,TDBLCN               Bump up the number
 004C30 5E10 602C            0002C 33064  1          +
 004C34 5010 602C            0002C 33065  1          +
 004C38 5010 60AC            000AC 33066  1 5800.                ST    RS,TDBCLCN              Save the current number
 004C3C                            33067    5801.              END   ,
 004C3C 981F C008            00008 33071    5802.              PEND  ,
 DROP   ESB,R5
 DROP   ERB,R9
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   EXSCHED,R10
 004C40 9680 C000/0B0E 00000       33101             +
1DISPATCH (DISP00) (09:38) (22MAR04) Exit Routine handling and Exits                                                        Page  258
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004C48                            33108    5804.              LTORG ,
 004C48 0000087E                   33110                             =A(ASLOCK)
 004C4C 00000000                   33111                             =V(VMGET)
 004C50 000008F8                   33112                             =A(ASULOCK)
 004C54 C5E2C240                   33113                             =C'ESB '
 004C58 000053A0                   33114                             =A(STKNEW)
 004C5C 00005456                   33115                             =A(STKDEL)
 004C60 00000000                   33116                             =V(VMFREE)
 004C64 C5D9C240                   33117                             =C'ERB '
 004C68 E3C4C240                   33118                             =C'TDB '
 004C6C 0000001F                   33119                             =A(31)
 004C70 80000000                   33120                             =X'80000000'
 004C74 00004126                   33121                             =A(TSKADD)
 004C78 00000EC2                   33122                             =A(DISPRD)
 004C7C 00000001                   33123                             =A(1)
 004C80 00000022                   33124                             =A(ASDISP)
 004C84 00000001                   33125                             =AL4(1)
 004C88 1F00           04CB2 05F38 33126                             =Y(31*256+0)
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  259
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  33131    5806.     *****************************************************************
                                   33132    5807.     *                                                               *
                                   33133    5808.     *  TCREATE --  This routine creates a new task in the current   *
                                   33134    5809.     *              address space.  It  ID.  It tries to get one     *
                                   33135    5810.     *              that was previously allocated first.  If it      *
                                   33136    5811.     *              can't get one of those, it allocates a new one.  *
                                   33137    5812.     *                                                               *
                                   33138    5813.     *   Input  --  @TCREATE                                         *
                                   33139    5814.     *                                                               *
                                   33140    5815.     *  Output  --  RVR contains the ID of the new task              *
                                   33141    5816.     *                                                               *
                                   33142    5817.     *****************************************************************
-004CB2                            33144    5819.     TCREATE  PROC  @TCREATE,SCOPE=GLOBAL
 004CB2 E3C3D9C5C1E3C540           33150             +
 004CBA 0018/0000                  33151             +
 004CBE 900F D004/18AF       00004 33153             +
 USING  TCREATE,R10
 004CC4 50D0 C000/18CD       00000 33168             +
 004CCA 9680 C000      00000       33170             +
 USING  @TCREATE-72,R12
 004CCE 41D0 C060            00060 33184             +
                                   33185    5820.     *
                                   33186    5821.     * First get the current info
                                   33187    5822.     *
 004CD2 5870 0324            000A4 33188    5823.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    33189    5824.              WITH  (ASDB,RY)
 004CD6 5880 7038            00038 33202    5825.              L     RM,ASDBCTDB             Current TDB address
 USING  CUR.TDB,R8                 33203    5826.              WITH  (TDB,RM),LABEL=CUR
                                   33211    5827.     *
                                   33212    5828.     * Try to get a TDB off the free queue
                                   33213    5829.     *
 004CDA 58F0 A7FA/0DEF       054B8 33214    5830.              ACALL ASLOCK                  Lock up the dispatching
 004CE0 5860 7064/1266       00064 33221    5831.              LT    RX,ASDBFTDB             Get the Free TDB queue
 USING  TDB,R6                     33225    5832.              WITH  (TDB,RX)
 004CE6 4780 A032            04CF0 33238    5833.              IF    NZ,BEGIN                We have one
 004CEA D203 7064 600C 00064 0000C 33249  1 5834.                MVC   ASDBFTDB,TDBNEXT        Remove it from the list
 004CF0 A036           04CF0 04CE8 33250    5835.              END   ELSE,BEGIN              There is not one
 004CF0 47F0 A052            04D10 33259             +
 USING  @VMGET-72,R13              33265  1 5836.                VMGET L'TDB,LOC=LOCSYS,FIX=YES
 004CF4 D70A D048 D048 00000 00000 33289  1          +
 004CFA 4100 00E0            000E0 33301  1          +
 004CFE 5000 D048            00000 33306  1          +
 004D02 D201 D050 A846 00008 05504 33307  1          +
 004D08 58F0 A7FE/0DEF       054BC 33310  1          +
 004D0E 1860                       33312  1 5837.                LR    RX,RVR                  Copy the address
 004D10                            33313    5838.              END   ,
                                   33317    5839.     *
                                   33318    5840.     * Add the ID and put it on the proper queues
                                   33319    5841.     *
 004D10                            33320    5842.              CLEAR TDB
 004D10 D7DF 6000 6000 00000 00000 33326             +
 004D16 D203 6000 A802 00000 054C0 33327    5843.              MVC   TDB(4),=C'TDB '         Move in the ID
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  260
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (CUR.TDB,R8) (TCREATE,R10) (@TCREATE-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004D1C 5070 6004            00004 33328    5844.              ST    RY,TDBASDB              The ASDB address
 004D20 D203 6008 7040 00008 00040 33329    5845.              MVC   TDBCHN,ASDBTDBS
 004D26 5060 7040            00040 33330    5846.              ST    RX,ASDBTDBS             Add to the TDB chain
 004D2A 4110 0001            00001 33331    5847.              INCR  RS,ASDBNTDB             Increment the number of TDBs
 004D2E 4A10 704C            0004C 33335             +
 004D32 4010 704C            0004C 33336             +
                                   33337    5848.     *
                                   33338    5849.     * Add the system exit routine request ID's
                                   33339    5850.     *
 004D36 9200 D048      00000       33340    5851.              PSET  @XITNEW                 Get the exit requests
 DROP   @VMGET-72,R13
 USING  @XITNEW-72,R13
 004D3A 58F0 A806/0DEF       054C4 33361    5852.              ACALL XITNEW
 004D40 5000 6030            00030 33368    5853.              ST    RVR,TDBSVERQ            SVC
 004D44 58F0 A806/0DEF       054C4 33369    5854.              ACALL XITNEW
 004D4A 5000 6034            00034 33376    5855.              ST    RVR,TDBPIERQ            PI
 004D4E 58F0 A806/0DEF       054C4 33377    5856.              ACALL XITNEW
 004D54 5000 6038            00038 33384    5857.              ST    RVR,TDBMCERQ            Monitor
 004D58 58F0 A806/0DEF       054C4 33385    5858.              ACALL XITNEW
 004D5E 5000 603C            0003C 33392    5859.              ST    RVR,TDBPEERQ            PER
                                   33393    5860.     *
                                   33394    5861.     * PSW & registers and stack
                                   33395    5862.     *
 004D62 D207 6040 C048 00040 00000 33396    5863.              MVC   TDBPSW,@TCRPSW          New PSW
 004D68 9180 C05C      00014       33397    5864.              IF    @TCRFSTK,BEGIN          Stack based
 004D6C 47E0 A0D6            04D94 33407             +
 004D70 58F0 A80A/0DEF       054C8 33412  1 5865.                ACALL STKNEW                  Get a new Stack
 004D76 5000 6014            00014 33419  1 5866.                ST    RVR,TDBSTACK            Save the address
 004D7A 1820                       33420  1 5867.                LR    RA,RVR                  Copy the address
 004D7C 5020 6078            00078 33421  1 5868.                ST    RA,TDBGPRS+WAR*4        Save the start of the stack
 004D80 4120 2008            00008 33422  1 5869.                LA    RA,@RA+8                Top of stack location
 004D84 5020 607C            0007C 33423  1 5870.                ST    RA,TDBGPRS+SPR*4        Save the top of stack location
 004D88 D207 2048 C050 00048 00008 33424  1 5871.                MVC   @RA+72(8),@TCRPARM      Move parm to the stack
 004D8E D203 6084 6044 00084 00044 33425  1 5872.                MVC   TDBGPRS+EPAR*4(4),TDBPSW+4  Entry point address
 004D94 A0DA           04D94 04D6E 33426    5873.              END   ELSE,BEGIN              Not stack based
 004D94 47F0 A0E0            04D9E 33435             +
 004D98 D203 604C C050 0004C 00008 33441  1 5874.                MVC   TDBGPRS+1*4(4),@TCRPARM Parm goes into register 1
 004D9E                            33442    5875.              END   ,
                                   33446    5876.     *
                                   33447    5877.     * Exit mask
                                   33448    5878.     *
 AUSING (XITMSKD,TDBEMASK)         33449    5879.              WITH  (XITMSKD,TDBEMASK),BEGIN
 004D9E 96C0 60A8      00000       33459  1 5880.                SET   XITMPI+XITMSVC          Enable the SVC and PI exits
                                   33468    5881.              END   ,
 004DA2 D207 60D0 A7F2 000D0 054B0 33471    5882.              MVC   TDBTCLK,=X'00FFFFFFFFFFFFFF'  No timer set
                                   33472    5883.     *
                                   33473    5884.     * Dispatching priority of the new task
                                   33474    5885.     *
 004DA8 5820 C058            00010 33475    5886.              L     RA,@TCRPRIO             Get prio number
 004DAC 9140 C05C      00014       33476    5887.              IF    ~@TCRFPABS,BEGIN        Relative prio
 004DB0 4710 A0FA            04DB8 33486             +
 004DB4 5E20 8010            00010 33491  1 5888.                AL    RA,CUR.TDBPRIO          Add the current priority
 004DB8                            33492    5889.              END   ,                       OF Relative prio
 004DB8 5020 6010            00010 33496    5890.              ST    RA,TDBPRIO              Gives the new priority
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  261
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (CUR.TDB,R8) (TCREATE,R10) (@TCREATE-72,R12) (@XITNEW-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004DBC 5920 8010            00010 33497    5891.              IF    (RA,GT,CUR.TDBPRIO),BEGIN        New one is higher
 004DC0 47D0 A11E            04DDC 33509             +
 004DC4 58F0 7028            00028 33514  1 5892.                SET   ASDBTDSP,MODE=LOCKED,REF=ASDB    Re-dispatch needed
 004DC8 4110 0080            00080 33521  1          +
 004DCC 8910 0018/180F       00018 33522  1          +
 004DD2 1601/BAF0 7028       00028 33524  1          +
 004DD8 4770 A112            04DD0 33527  1          +
 004DDC                            33528    5893.              END   ,
                                   33532    5894.     *
                                   33533    5895.     * Add it to the ready queue
                                   33534    5896.     *
 004DDC 5060 D048            00000 33535    5897.              TQADD TDB                     Add it to the queue
 DROP   @XITNEW-72,R13
 USING  TQPARM-72,R13
 004DE0 58F0 A80E/0DEF       054CC 33566             +
 004DE6 58F0 A812/0DEF       054D0 33568    5898.              ACALL ASULOCK                 Free the Local lock
                                   33575    5899.     *
                                   33576    5900.     * Return the task ID to the caller
                                   33577    5901.     *
 004DEC 1807                       33578    5902.              LR    RVR,RY
 004DEE 981F C008            00008 33579    5903.              PEND  ,
 DROP   TDB,R6
 DROP   CUR.TDB,R8
 DROP   ASDB,R7
 DROP   @TCREATE-72,R12
 DROP   TCREATE,R10
 004DF2 9680 C000/0B0E 00000       33612             +
 DROP   TQPARM-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  262
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  33622    5905.     *****************************************************************
                                   33623    5906.     *                                                               *
                                   33624    5907.     *   TEXIT  --  This routine is called to terminate a task.  It  *
                                   33625    5908.     *              causes the TDB and all associated things to be   *
                                   33626    5909.     *              deleted.  It exits directly to the dispatcher.   *
                                   33627    5910.     *                                                               *
                                   33628    5911.     *   Input  --  @TEXIT                                           *
                                   33629    5912.     *                                                               *
                                   33630    5913.     *  Output  --  none                                             *
                                   33631    5914.     *                                                               *
                                   33632    5915.     *****************************************************************
-004DF8                            33634    5917.     TEXIT    PROC  @TEXIT,SCOPE=GLOBAL
 004DF8 E3C5E7C9E3404040           33640             +
 004E00 0008/0000                  33641             +
 004E04 900F D004/18AF       00004 33643             +
 USING  TEXIT,R10
 004E0A 50D0 C000/18CD       00000 33658             +
 004E10 9680 C000      00000       33660             +
 USING  @TEXIT-72,R12
 004E14 41D0 C050            00050 33674             +
                                   33675    5918.     *
                                   33676    5919.     * Get our bearings
                                   33677    5920.     *
 004E18 5870 0324            000A4 33678    5921.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    33679    5922.              WITH  (ASDB,RY)
 004E1C 5860 7038            00038 33692    5923.              L     RX,ASDBCTDB             Get the current TDB
 USING  TDB,R6                     33693    5924.              WITH  (TDB,RX)
                                   33706    5925.     *
                                   33707    5926.     * Lock out the othere tasks in the address space, then start using
                                   33708    5927.     * the address space stack.
                                   33709    5928.     *
 004E20 58F0 A6B4/0DEF       054B8 33710    5929.              ACALL ASLOCK                  Lock up the Address space
 004E26 58C0 7034            00034 33717    5930.              L     WAR,ASDBSTK             Get the AS wide stack
 004E2A 41D0 C008            00008 33718    5931.              LA    SPR,8(,WAR)             Set up the other register
                                   33719    5932.     *
                                   33720    5933.     * Clean everything about this TDB
                                   33721    5934.     *
 USING  @TCLUP-72,R13              33722    5935.              PSET  @TCLUP,CLEAR=NO
 004E2E 5060 D048            00000 33733    5936.              ST    RX,@TCLTDB
 004E32 41F0 A2EC/0DEF       050F0 33734    5937.              LCALL TCLEANUP                Clean it all up
                                   33743    5938.     *
                                   33744    5939.     * Disable so no other dispatching goes on, then get the dispatcher
                                   33745    5940.     * stack.
                                   33746    5941.     *
 004E38 58C0 0334/12CC       000B4 33747    5942.              IF    ('LT WAR,PSACPLK',NZ),'ABORT CPLKBAL'
 004E3E 4780 A06E            04E72 33758             +
 004E42 AC04 021B      0021B       33767  1          +
 004E46 9680 021A      0021A       33773  1          +
 004E4A 50F0 021C            0021C 33774  1          +
 004E4E 58F0 0210            00210 33775  1          +
 004E52 89F0 0010            00010 33776  1          +
 004E56 88F0 0010            00010 33777  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  263
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TEXIT,R10) (@TEXIT-72,R12) (@TCLUP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004E5A 41F0 F000            00000 33778  1          +
 004E5E AEFF 0006            00006 33779  1          +
 004E62 C3D7D3D2C2C1D340           33780             +
 004E72 AC04 0339      000B9       33785    5943.              DISABLE ,
 004E76 9680 0338      000B8       33787    5944.              SET   DISPSTK                 Mark us on the disp stack
 004E7A D203 0334 A6D0 000B4 054D4 33793    5945.              MVC   PSACPLK,=A(1)           Lock up the CPU
 004E80 58C0 0330            000B0 33794    5946.              L     WAR,PSADSTK             Get the dispatcher stack
 004E84 41D0 C008            00008 33795    5947.              LA    SPR,8(,WAR)             Set up the other stack reg
 004E88 9966 A704            05508 33796    5948.              XTRC  RX,RX,TEXIT             Trace the exit
 005508 00005508                   33804  1          +
 00550C 00000075/0606              33805  1          +
 005512 E3C5E7C9E3404040           33807             +
                                   33814    5949.     *
                                   33815    5950.     * Remove this TDB from the ASDB queue
                                   33816    5951.     *
 004E8C 4120 7040            00040 33817    5952.              LA    RA,ASDBTDBS             Address of the chain pointer
 004E90 5830 2000            00000 33818    5953.              L     RB,@RA
 004E94 1936/4780 A0A2       04EA6 33819    5954.              WHILE (RB,NE,RX),BEGIN
 DROP   TDB,R6                     33836  1 5955.                WITH  (TDB,RB)
 USING  TDB,R3
 004E9A 4120 3008            00008 33857  1 5956.                LA    RA,TDBCHN               Address of the next pointer
 004E9E 5830 3008            00008 33858  1 5957.                L     RB,TDBCHN               Address of the next
 004EA2 47F0 A090            04E94 33859    5958.              END   ,
 USING  TDB,R6
 DROP   TDB,R3
 004EA6 D203 2000 6008 00000 00008 33878    5959.              MVC   @RA(4),TDBCHN           Remove it from the chain
 004EAC 4810 704C/0610       0004C 33879    5960.              DECR  RS,ASDBNTDB             Count one less
 004EB2 4010 704C            0004C 33883             +
 004EB6                            33884    5961.              CLEAR PSATDB                  Not current in the PSA
 004EB6 D703 0328 0328 000A8 000A8 33890             +
 004EBC                            33891    5962.              CLEAR ASDBCTDB                Not the current TDB anymore
 004EBC D703 7038 7038 00038 00038 33897             +
 004EC2                            33898    5963.              CLEAR ASDBLOCK                Insure the local lock is free
 004EC2 D703 7030 7030 00030 00030 33904             +
                                   33905    5964.     *
                                   33906    5965.     * Queue up the TDB on the free queue
                                   33907    5966.     *
 004EC8 925C 6003      00003       33908    5967.              MVI   TDB+3,C'*'              Blitz the ID
 004ECC D203 600C 7064 0000C 00064 33909    5968.              MVC   TDBNEXT,ASDBFTDB        Point this at the queue
 004ED2 5060 7064            00064 33910    5969.              ST    RX,ASDBFTDB             And the queue at this
                                   33911    5970.     *
                                   33912    5971.     * Move the next ready task into the current position
                                   33913    5972.     *
 004ED6 5860 703C/1266       0003C 33914    5973.              LT    RX,ASDBATDB             Get the first ready one
 004EDC 4780 A0EC            04EF0 33918    5974.              IF    NZ,BEGIN
 004EE0 D203 703C 600C 0003C 0000C 33929  1 5975.                MVC   ASDBATDB,TDBNEXT        remove it from that queue
 004EE6                            33930  1 5976.                CLEAR TDBNEXT                 No next now
 004EE6 D703 600C 600C 0000C 0000C 33936  1          +
 004EEC 5060 7038            00038 33937  1 5977.                ST    RX,ASDBCTDB
 004EF0                            33938    5978.              END   ,
                                   33942    5979.     *
                                   33943    5980.     * Re-dispatch
                                   33944    5981.     *
 004EF0 58F0 7028            00028 33945    5982.              SET   ASDBTDSP,MODE=LOCKED,REF=ASDB
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  264
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TEXIT,R10) (@TEXIT-72,R12) (@TCLUP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004EF4 4110 0080            00080 33952             +
 004EF8 8910 0018/180F       00018 33953             +
 004EFE 1601/BAF0 7028       00028 33955             +
 004F04 4770 A0F8            04EFC 33958             +
 004F08 58F0 A6D4/0DEF       054D8 33959    5983.              ACALL ASDISP                  Do the complete re-dispatch
                                   33966    5984.     *
                                   33967    5985.     * Get right back to the proper user
                                   33968    5986.     *
 004F0E                            33969    5987.              IF    (PSACPLK,NE,1),'ABORT CPLKBAL'
 004F0E D503 A6D8 0334 054DC 000B4 33981             +
 004F14 4780 A144            04F48 33982             +
 004F18 AC04 021B      0021B       33991  1          +
 004F1C 9680 021A      0021A       33997  1          +
 004F20 50F0 021C            0021C 33998  1          +
 004F24 58F0 0210            00210 33999  1          +
 004F28 89F0 0010            00010 34000  1          +
 004F2C 88F0 0010            00010 34001  1          +
 004F30 41F0 F000            00000 34002  1          +
 004F34 AEFF 0006            00006 34003  1          +
 004F38 C3D7D3D2C2C1D340           34004             +
 004F48 9801 0280            00000 34009    5988.              LM    R0,R1,PSAPSW            Get the new PSW
 004F4C 9901 A718            0551C 34010    5989.              XTRC  R0,R1,RUNUSER8          Trace it
 00551A 0000/0000551C                     1          +
 005520 00000076/0001              34019  1          +
 005526 D9E4D5E4E2C5D9F8           34021             +
 004F50 6800 02C8            00048 34028    5990.              LD    0,PSAFPRS+0*4           FPR 0
 004F54 6820 02D0            00050 34029    5991.              LD    2,PSAFPRS+2*4           FPR 2
 004F58 6840 02D8            00058 34030    5992.              LD    4,PSAFPRS+4*4           FPR 4
 004F5C 6860 02E0            00060 34031    5993.              LD    6,PSAFPRS+6*4           FPR 6
 004F60 980F 0288            00008 34032    5994.              LM    0,15,PSAGPRS            GPRs
 004F64 947F 0338      000B8       34033    5995.              CLEAR DISPSTK                 Not in dispatcher stack now
 004F68                            34040    5996.              CLEAR PSACPLK
 004F68 D703 0334 0334 000B4 000B4 34046             +
 004F6E 8200 0280      00000       34047    5997.              LPSW  PSAPSW                  And off and running
 004F72 981F C008            00008 34048    5998.              PEND  ,                       Never executed
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @TEXIT-72,R12
 DROP   TEXIT,R10
 004F76 9680 C000/0B0E 00000       34073             +
 DROP   @TCLUP-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  265
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  34083    6000.     *****************************************************************
                                   34084    6001.     *                                                               *
                                   34085    6002.     *  TREMOVE --  This routine removes a task from the current     *
                                   34086    6003.     *              address space.  It is passed the ID of the task  *
                                   34087    6004.     *              and it frees the TDB and anything else it can    *
                                   34088    6005.     *              get it's mitts on.                               *
                                   34089    6006.     *                                                               *
                                   34090    6007.     *   Input  --  @TREMOVE                                         *
                                   34091    6008.     *                                                               *
                                   34092    6009.     *  Output  --  none                                             *
                                   34093    6010.     *                                                               *
                                   34094    6011.     *****************************************************************
-004F7C                            34096    6013.     TREMOVE  PROC  @TREMOVE,SCOPE=GLOBAL
 004F7C E3D9C5D4D6E5C540           34102             +
 004F84 0008/0000                  34103             +
 004F88 900F D004/18AF       00004 34105             +
 USING  TREMOVE,R10
 004F8E 50D0 C000/18CD       00000 34120             +
 004F94 9680 C000      00000       34122             +
 USING  @TREMOVE-72,R12
 004F98 41D0 C050            00050 34136             +
                                   34137    6014.     *
                                   34138    6015.     * Get our bearings
                                   34139    6016.     *
 004F9C 5870 0324            000A4 34140    6017.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    34141    6018.              WITH  (ASDB,RY)
 004FA0 58F0 A530/0DEF       054B8 34154    6019.              ACALL ASLOCK                  Lock the address space
                                   34161    6020.     *
                                   34162    6021.     * Verify the TDB to be removed
                                   34163    6022.     *
 004FA6 5860 C048            00000 34164    6023.              L     RX,@TREID               Get the task ID
 004FAA                            34165    6024.              IF    (@RX,NE,'TDB '),EXIT    It isn't a TDB
 004FAA D503 A538 6000 054C0 00000 34175             +
 004FB0 4770 A152            050DA 34178             +
 USING  TDB,R6                     34184    6025.              WITH  (TDB,RX)
 004FB4 5970 6004            00004 34197    6026.              IF    (RY,NE,TDBASDB),EXIT    It doesn't belong here
 004FB8 4770 A152            050DA 34211             +
 004FBC 5960 7038            00038 34217    6027.              IF    (RX,EQ,ASDBCTDB),'ABORT REMCUR'   Can't remove ours
 004FC0 4770 A06C            04FF4 34229             +
 004FC4 AC04 021B      0021B       34238  1          +
 004FC8 9680 021A      0021A       34244  1          +
 004FCC 50F0 021C            0021C 34245  1          +
 004FD0 58F0 0210            00210 34246  1          +
 004FD4 89F0 0010            00010 34247  1          +
 004FD8 88F0 0010            00010 34248  1          +
 004FDC 41F0 F000            00000 34249  1          +
 004FE0 AEFF 0006            00006 34250  1          +
 004FE4 D9C5D4C3E4D94040           34251             +
                                   34256    6028.     *
                                   34257    6029.     * Clean up the TDB
                                   34258    6030.     *
 USING  @TCLUP-72,R13              34259    6031.              PSET  @TCLUP,CLEAR=NO
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  266
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TREMOVE,R10) (@TREMOVE-72,R12) (@TCLUP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0004FF4 5060 D048            00000 34270    6032.              ST    RX,@TCLTDB
 004FF8 41F0 A168/0DEF       050F0 34271    6033.              LCALL TCLEANUP
                                   34280    6034.     *
                                   34281    6035.     * Free the TDB's stack if it has one
                                   34282    6036.     *
 004FFE 9180 6018      00018       34283    6037.              IF    TDBFGLOB,'ABORT GTDBREM' Can't remove a global one
 005002 47E0 A0AE            05036 34293             +
 005006 AC04 021B      0021B       34302  1          +
 00500A 9680 021A      0021A       34308  1          +
 00500E 50F0 021C            0021C 34309  1          +
 005012 58F0 0210            00210 34310  1          +
 005016 89F0 0010            00010 34311  1          +
 00501A 88F0 0010            00010 34312  1          +
 00501E 41F0 F000            00000 34313  1          +
 005022 AEFF 0006            00006 34314  1          +
 005026 C7E3C4C2D9C5D440           34315             +
 005036 5820 6014/1222       00014 34320    6038.              IF    ('LT RA,TDBSTACK',NZ),BEGIN      There is a stack
 00503C 4780 A0C4            0504C 34331             +
 DROP   @TCLUP-72,R13              34336  1 6039.                PSET  @STKDEL,CLEAR=NO
 USING  @STKDEL-72,R13
 005040 D203 D048 6014 00000 00014 34350  1 6040.                MVC   @STKDLOC,TDBSTACK       Stack address
 005046 41F0 A4CE/0DEF       05456 34351  1 6041.                LCALL STKDEL                  Remove the stack
 00504C                            34360    6042.              END   ,
                                   34364    6043.     *
                                   34365    6044.     * Now remove the TDB from all it's queues
                                   34366    6045.     *
 00504C 4120 7040            00040 34367    6046.              LA    RA,ASDBTDBS             Address of the chain pointer
 005050 5830 2000            00000 34368    6047.              L     RB,@RA
 005054 1936/4780 A0DE       05066 34369    6048.              WHILE (RB,NE,RX),BEGIN
 DROP   TDB,R6                     34386  1 6049.                WITH  (TDB,RB)
 USING  TDB,R3
 00505A 4120 3008            00008 34407  1 6050.                LA    RA,TDBCHN               Address of the next pointer
 00505E 5830 3008            00008 34408  1 6051.                L     RB,TDBCHN               Address of the next
 005062 47F0 A0CC            05054 34409    6052.              END   ,
 USING  TDB,R6
 DROP   TDB,R3
 005066 D203 2000 6008 00000 00008 34428    6053.              MVC   @RA(4),TDBCHN           Remove it from the chain
 00506C 4810 704C/0610       0004C 34429    6054.              DECR  RS,ASDBNTDB             Count one less
 005072 4010 704C            0004C 34433             +
                                   34434    6055.     *
                                   34435    6056.     * If it's active remove it from that queue (can't be the current one,
                                   34436    6057.     * because we're the current one).
                                   34437    6058.     *
 005076 9140 6018      00018       34438    6059.              IF    TDBFACT,BEGIN           It's on the active list
 00507A 47E0 A116            0509E 34448             +
 00507E 4120 703C            0003C 34453  1 6060.                LA    RA,ASDBATDB             Address of the list pointer
 005082 5830 2000            00000 34454  1 6061.                L     RB,@RA
 005086 1936/4780 A110       05098 34455  1 6062.                WHILE (RB,NE,RX),BEGIN
 DROP   TDB,R6                     34472  2 6063.                  WITH  (TDB,RB)
 USING  TDB,R3
 00508C 4120 300C            0000C 34493  2 6064.                  LA    RA,TDBNEXT              Address of the next pointer
 005090 5830 300C            0000C 34494  2 6065.                  L     RB,TDBNEXT              Address of the next
 005094 47F0 A0FE            05086 34495  1 6066.                END   ,
 USING  TDB,R6
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  267
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TREMOVE,R10) (@TREMOVE-72,R12) (@STKDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   TDB,R3
 005098 D203 2000 600C 00000 0000C 34514  1 6067.                MVC   @RA(4),TDBNEXT          Remove it from the chain
 00509E                            34515    6068.              END   ,
                                   34519    6069.     *
                                   34520    6070.     * If it is suspended, we have to adjust those counts too
                                   34521    6071.     *
 00509E 9180 60B0      000B0       34522    6072.              IF    TDBSUSP,BEGIN           Handle suspend counts
 0050A2 47E0 A13E            050C6 34532             +
 0050A6 9140 60B0      000B0       34537  1 6073.                IF    TDBLONG,'DECR RS,ASDBNLTW'        Long term waits
 0050AA 47E0 A130            050B8 34547  1          +
 0050AE 4810 7050/0610       00050 34555  2          +
 0050B4 4010 7050            00050 34557  1          +
 0050B8 A134           050B8 050AC 34562  1 6074.                ELSE  'DECR RS,ASDBNSTW'                Short term waits
 0050B8 47F0 A13E            050C6 34567  1          +
 0050BC 4810 704E/0610       0004E 34576  2          +
 0050C2 4010 704E            0004E 34578  1          +
 0050C6                            34583    6075.              END   ,
                                   34587    6076.     *
                                   34588    6077.     * The TDB is completely disconnected now.  Put the storage on the
                                   34589    6078.     * free TDB queue
                                   34590    6079.     *
 0050C6 925C 6003      00003       34591    6080.              MVI   TDB+3,C'*'              Blitz the ID
 0050CA D203 600C 7064 0000C 00064 34592    6081.              MVC   TDBNEXT,ASDBFTDB
 0050D0 5060 7064            00064 34593    6082.              ST    RX,ASDBFTDB             Put it on the free queue
 0050D4 58F0 A548/0DEF       054D0 34594    6083.              ACALL ASULOCK                 Free the local lock
 0050DA 981F C008            00008 34601    6084.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @TREMOVE-72,R12
 DROP   TREMOVE,R10
 0050DE 9680 C000/0B0E 00000       34626             +
 DROP   @STKDEL-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  268
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  34636    6086.     *****************************************************************
                                   34637    6087.     *                                                               *
                                   34638    6088.     * TCLEANUP --  This routine cleans up all the exit routines,    *
                                   34639    6089.     *              pending exits, etc from a TDB so that it may be  *
                                   34640    6090.     *              removed from the address space.                  *
                                   34641    6091.     *                                                               *
                                   34642    6092.     *              *** THE LOCAL LOCK MUST BE HELD ***              *
                                   34643    6093.     *                                                               *
                                   34644    6094.     *   Input  --  @TCLUP                                           *
                                   34645    6095.     *                                                               *
                                   34646    6096.     *  Output  --  none                                             *
                                   34647    6097.     *                                                               *
                                   34648    6098.     *****************************************************************
-000000                00000 00004 34650    6100.     @TCLUP   RECORD BEGIN
 000000                            34658  1 6101.     @TCLTDB    DS    A             Address of the TDB to be scrubbed
 000004                00004 00004 34659    6102.              END   ,
-0050E4                            34669    6104.     TCLEANUP PROC  @TCLUP,SCOPE=LOCAL
 0050E4 E3C3D3C5C1D5E4D7           34676             +
 0050EC 0008/0000                  34677             +
 0050F0 900F D004/18AF       00004 34679             +
 USING  TCLEANUP,R10
 0050F6 50D0 C000/18CD       00000 34694             +
 0050FC 9680 C000      00000       34696             +
 USING  @TCLUP-72,R12
 005100 41D0 C050            00050 34710             +
                                   34711    6105.     *
                                   34712    6106.     * Get our bearings
                                   34713    6107.     *
 005104 5870 0324            000A4 34714    6108.              L     RY,PSAASDB              Get the ASDB address
 USING  ASDB,R7                    34715    6109.              WITH  (ASDB,RY)
                                   34728    6110.     *
                                   34729    6111.     * Get the TDB to be removed
                                   34730    6112.     *
 005108 5860 C048            00000 34731    6113.              L     RX,@TCLTDB              Address of the TDB
 USING  TDB,R6                     34732    6114.              WITH  (TDB,RX)
                                   34745    6115.     *
                                   34746    6116.     * Remove the task stack if there is one
                                   34747    6117.     *
 00510C 5820 6014/1222       00014 34748    6118.              IF    ('LT RA,TDBSTACK',NZ),BEGIN
 005112 4780 A032            05122 34759             +
 USING  @STKDEL-72,R13             34764  1 6119.                PSET  @STKDEL,CLEAR=NO
 005116 D203 D048 6014 00000 00014 34775  1 6120.                MVC   @STKDLOC,TDBSTACK       Location of the stack
 00511C 41F0 A366/0DEF       05456 34776  1 6121.                LCALL STKDEL                  Free up the stack
 005122                            34785    6122.              END   ,
                                   34789    6123.     *
                                   34790    6124.     * Take care of the pending exit requests
                                   34791    6125.     *
 005122 AC04 0339      000B9       34792    6126.              DISABLE ,
 005126 5820 6020            00020 34794    6127.              L     RA,TDBERBS              Chain of ERBs
 00512A 1222/4780 A052       05142 34795    6128.              WHILE (RA,NZ),BEGIN
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  269
0Current Usings:  (PZERO,R0) (ERB,R2) (TDB,R6) (ASDB,R7) (TCLEANUP,R10) (@TCLUP-72,R12) (@STKDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  ERB,R2                     34811  1 6129.                WITH  (ERB,RA)
 005130 9200 2018      00018       34824  1 6130.                SET   ERBSFREE                Mark it as free
 005134                            34830  1 6131.                CLEAR ERBTDB                  And not on any TDB
 005134 D703 2010 2010 00010 00010 34836  1          +
 00513A 5820 2004            00004 34837  1 6132.                L     RA,ERBNEXT              Get to the next
 00513E 47F0 A03A            0512A 34838    6133.              END   ,
 DROP   ERB,R2
 005142 8000 0339      000B9       34848    6134.              ENABLE ,
                                   34850    6135.     *
                                   34851    6136.     * Take care of the active exit requests
                                   34852    6137.     *
 005146 5820 6028            00028 34853    6138.              L     RA,TDBISTK              Chain of ERBs
 00514A 1222/4780 A072       05162 34854    6139.              WHILE (RA,NZ),BEGIN
 USING  ERB,R2                     34870  1 6140.                WITH  (ERB,RA)
 005150 9200 2018      00018       34883  1 6141.                SET   ERBSFREE                Mark it as free
 005154                            34889  1 6142.                CLEAR ERBTDB                  And not on any TDB
 005154 D703 2010 2010 00010 00010 34895  1          +
 00515A 5820 2004            00004 34896  1 6143.                L     RA,ERBNEXT              Get to the next
 00515E 47F0 A05A            0514A 34897    6144.              END   ,
 DROP   ERB,R2
                                   34907    6145.     *
                                   34908    6146.     * Take care of the ESB's
                                   34909    6147.     *
 005162 5820 601C            0001C 34910    6148.              L     RA,TDBESBS              Stack of the ESBs
 005166 1222/4780 A0AE       0519E 34911    6149.              WHILE (RA,NZ),BEGIN           Loop through
 USING  ESB,R2                     34927  1 6150.                WITH  (ESB,RA)
 00516C 9180 2024      00024       34940  1 6151.                IF    ESBFSTK,BEGIN
 005170 47E0 A096            05186 34950  1          +
 005174                            34955  2 6152.                  PSET  @STKDEL
 005174 D703 D048 D048 00000 00000 34965  2          +
 00517A D203 D048 2018 00000 00018 34966  2 6153.                  MVC   @STKDLOC,ESBSTACK       Stack address
 005180 41F0 A366/0DEF       05456 34967  2 6154.                  LCALL STKDEL                  Remove the stack
 005186                            34976  1 6155.                END   ,
 005186 5830 2004            00004 34980  1 6156.                L     RB,ESBNEXT              Get the address of the next
 00518A 925C 2003      00003       34981  1 6157.                MVI   ESB+3,C'*'              Blitz the ID
 00518E D203 2004 706C 00004 0006C 34982  1 6158.                MVC   ESBNEXT,ASDBFESB
 005194 5020 706C            0006C 34983  1 6159.                ST    RA,ASDBFESB             Add it to the free queue
 005198 1823                       34984  1 6160.                LR    RA,RB                   Get to the next one
 00519A 47F0 A076            05166 34985    6161.              END   ,
 DROP   ESB,R2
                                   34995    6162.     *
                                   34996    6163.     * Free the ERBs for the system exits
                                   34997    6164.     *
 DROP   @STKDEL-72,R13             34998    6165.              PSET  @XITDEL
 USING  @XITDEL-72,R13
 00519E D703 D048 D048 00000 00000 35018             +
 0051A4 5810 6030/1211       00030 35019    6166.              LT    RS,TDBSVERQ             SVC Exit request
 0051AA 4780 A0C8            051B8 35023    6167.              IF    NZ,BEGIN
 0051AE 5010 D048            00000 35034  1 6168.                ST    RS,@XITDID
 0051B2 58F0 A3F0/0DEF       054E0 35035  1 6169.                ACALL XITDEL                  Delete it
 0051B8                            35042    6170.              END   ,
 0051B8 5810 6034/1211       00034 35046    6171.              LT    RS,TDBPIERQ             PI Exit request
 0051BE 4780 A0DC            051CC 35050    6172.              IF    NZ,BEGIN
 0051C2 5010 D048            00000 35061  1 6173.                ST    RS,@XITDID
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  270
0Current Usings:  (PZERO,R0) (TDB,R6) (ASDB,R7) (TCLEANUP,R10) (@TCLUP-72,R12) (@XITDEL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00051C6 58F0 A3F0/0DEF       054E0 35062  1 6174.                ACALL XITDEL                  Delete it
 0051CC                            35069    6175.              END   ,
 0051CC 5810 6038/1211       00038 35073    6176.              LT    RS,TDBMCERQ             Monitor Call Exit request
 0051D2 4780 A0F0            051E0 35077    6177.              IF    NZ,BEGIN
 0051D6 5010 D048            00000 35088  1 6178.                ST    RS,@XITDID
 0051DA 58F0 A3F0/0DEF       054E0 35089  1 6179.                ACALL XITDEL                  Delete it
 0051E0                            35096    6180.              END   ,
 0051E0 5810 603C/1211       0003C 35100    6181.              LT    RS,TDBPEERQ             PER Exit request
 0051E6 4780 A104            051F4 35104    6182.              IF    NZ,BEGIN
 0051EA 5010 D048            00000 35115  1 6183.                ST    RS,@XITDID
 0051EE 58F0 A3F0/0DEF       054E0 35116  1 6184.                ACALL XITDEL                  Delete it
 0051F4                            35123    6185.              END   ,
                                   35127    6186.     *
                                   35128    6187.     * Free the timer queue entries
                                   35129    6188.     *
 0051F4 981F C008            00008 35130    6189.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @TCLUP-72,R12
 DROP   TCLEANUP,R10
 0051F8 9680 C000/0B0E 00000       35155             +
 DROP   @XITDEL-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  271
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  35165    6191.     *****************************************************************
                                   35166    6192.     *                                                               *
                                   35167    6193.     *  SYSRNEW --  This routine allocates an STDB and returns the   *
                                   35168    6194.     *              address as the SYSR ID.  It tries to get one     *
                                   35169    6195.     *              that was previously allocated first.  If it      *
                                   35170    6196.     *              can't get one of those, it allocates a new one.  *
                                   35171    6197.     *                                                               *
                                   35172    6198.     *   Input  --  @SYSRNEW                                         *
                                   35173    6199.     *                                                               *
                                   35174    6200.     *  Output  --  RVR contains the SYSR ID.                        *
                                   35175    6201.     *                                                               *
                                   35176    6202.     *****************************************************************
-0051FE                            35178    6204.     SYSRNEW  PROC  @SYSRNEW,SCOPE=GLOBAL
 0051FE E2E8E2D9D5C5E640           35184             +
 005206 0008/0000                  35185             +
 00520A 900F D004/18AF       00004 35187             +
 USING  SYSRNEW,R10
 005210 50D0 C000/18CD       00000 35202             +
 005216 9680 C000      00000       35204             +
 USING  @SYSRNEW-72,R12
 00521A 41D0 C050            00050 35218             +
                                   35219    6205.     *
                                   35220    6206.     * Try to get one off the free queue
                                   35221    6207.     *
 00521E 5860 0200            00200 35222    6208.              L     RX,PZMATP               MAT pointer
 005222 5860 6008            00008 35223    6209.              WITH  (MAT,RX),'L RX,MATDCT'  DCT pointer
 USING  MAT,R6
 DROP   MAT,R6
 USING  DCT,R6                     35247    6210.              WITH  (DCT,RX)
 005226 9823 6048            00048 35260    6211.              LM    RA,RB,DCTFSTBQ          Get the first one
 USING  STDB,R2                    35261    6212.              WITH  (STDB,RA)               Address it
                                   35274    6213.     *
                                   35275    6214.     * Remove it from the chain
                                   35276    6215.     *
 00522A                            35277    6216.              LOOP  BEGIN
 00522A 1222/4780 A034       0523E 35283  1 6217.                IF    (RA,Z),EXIT             Not there, don't remove it
 005230 5840 2004            00004 35300  1 6218.                L     RJ,STDBNEXT             Point at the next one
 005234 1853                       35301  1 6219.                LR    RK,RB                   Copy the control value
 005236 BB24 6048            00048 35302  1 6220.                CDS   RA,RJ,DCTFSTBQ          Update the values
 00523A 4770 A020            0522A 35303    6221.              UNTIL Z,END                   Until the swap goes
                                   35322    6222.     *
                                   35323    6223.     * If we didn't get an old one, we have to get a new one.
                                   35324    6224.     *
 00523E 1222/4770 A056       05260 35325    6225.              IF    (RA,Z),BEGIN
 USING  @VMGET-72,R13              35339  1 6226.                VMGET L'STDB,LOC=GLOBHI,FIX=YES ,SP=01
 005244 D70A D048 D048 00000 00000 35363  1          +
 00524A 4100 0020            00020 35375  1          +
 00524E 5000 D048            00000 35380  1          +
 005252 D201 D050 A2FC 00008 05506 35381  1          +
 005258 58F0 A2B2/0DEF       054BC 35384  1          +
 00525E 1820                       35386  1 6227.                LR    RA,RVR                  Copy the address
 005260                            35387    6228.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  272
0Current Usings:  (PZERO,R0) (STDB,R2) (DCT,R6) (SYSRNEW,R10) (@SYSRNEW-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  35391    6229.     *
                                   35392    6230.     * Initialize it in any case
                                   35393    6231.     *
 005260                            35394    6232.              CLEAR STDB                    Zero it all out
 005260 D71F 2000 2000 00000 00000 35400             +
 005266 D203 2000 A2DA 00000 054E4 35401    6233.              MVC   STDB(4),=C'STDB'        Set up the ID
 00526C 1802                       35402    6234.              LR    RVR,RA                  Copy the 'ID'
 00526E 981F C008            00008 35403    6235.              PEND  ,
 DROP   STDB,R2
 DROP   DCT,R6
 DROP   @SYSRNEW-72,R12
 DROP   SYSRNEW,R10
 005272 9680 C000/0B0E 00000       35428             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  273
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  35438    6237.     *****************************************************************
                                   35439    6238.     *                                                               *
                                   35440    6239.     *  SYSRDEL --  This routine deletes an STDB previously obtained *
                                   35441    6240.     *              with SYSRNEW.  This just queues them up off the  *
                                   35442    6241.     *              DCT for future use.                              *
                                   35443    6242.     *                                                               *
                                   35444    6243.     *   Input  --  @SYSRDEL                                         *
                                   35445    6244.     *                                                               *
                                   35446    6245.     *  Output  --  RVR ~= 0:  It could not be freed.                *
                                   35447    6246.     *                                                               *
                                   35448    6247.     *****************************************************************
-005278                            35450    6249.     SYSRDEL  PROC  @SYSRDEL,SCOPE=GLOBAL
 005278 E2E8E2D9C4C5D340           35456             +
 005280 0008/0000                  35457             +
 005284 900F D004/18AF       00004 35459             +
 USING  SYSRDEL,R10
 00528A 50D0 C000/18CD       00000 35474             +
 005290 9680 C000      00000       35476             +
 USING  @SYSRDEL-72,R12
 005294 41D0 C050            00050 35490             +
                                   35491    6250.     *
                                   35492    6251.     * Validate the parm
                                   35493    6252.     *
 005298 4100 0004            00004 35494    6253.              LA    RVR,4                   Assume failure
 00529C 5840 C048            00000 35495    6254.              L     RJ,@SYSRDID             Get the STDB address
 0052A0                            35496    6255.              IF    (@RJ,NE,'STDB'),EXIT
 0052A0 D503 A260 4000 054E4 00000 35506             +
 0052A6 4770 A052            052D6 35509             +
 USING  STDB,R4                    35515    6256.              WITH  (STDB,RJ)
 0052AA 5820 A264            054E8 35528    6257.              L     RA,=A(C'FREE')          Get an ASDB address for us
 0052AE 1B11                       35529    6258.              CLEAR RS
 0052B0 BA12 4008            00008 35533    6259.              CS    RS,RA,STDBASDB          Mark it for ourselves
 0052B4 4770 A052            052D6 35534    6260.              IF    NZ,EXIT                 It is in use
                                   35548    6261.     *
                                   35549    6262.     * Mark it as deleted
                                   35550    6263.     *
 0052B8 92A2 4000      00000       35551    6264.              MVI   STDB,C's'               Change it to an sTDB
                                   35552    6265.     *
                                   35553    6266.     * Add it to the queue
                                   35554    6267.     *
 0052BC 5860 032C            000AC 35555    6268.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     35556    6269.              WITH  (DCT,RX)
 0052C0 9823 6048            00048 35569    6270.              LM    RA,RB,DCTFSTBQ          Get the current values
 0052C4                            35570    6271.              LOOP  BEGIN
 0052C4 5020 4004            00004 35576  1 6272.                ST    RA,STDBNEXT             Next points to current head
 0052C8 1853                       35577  1 6273.                LR    RK,RB                   Copy the control value
 0052CA 0650                       35578  1 6274.                DECR  RK                      New control value
 0052CC BB24 6048            00048 35580  1 6275.                CDS   RA,RJ,DCTFSTBQ          Update the values
 0052D0 4770 A040            052C4 35581    6276.              UNTIL Z,END                   Until the swap goes ok
 0052D4 1B00                       35600    6277.              CLEAR RVR                     Tell the caller it went well
 0052D6 981F C008            00008 35604    6278.              PEND  ,
 DROP   DCT,R6
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  274
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   STDB,R4
 DROP   @SYSRDEL-72,R12
 DROP   SYSRDEL,R10
 0052DA 9680 C000/0B0E 00000       35629             +
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  275
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  35636    6280.     *****************************************************************
                                   35637    6281.     *                                                               *
                                   35638    6282.     *   SYSRDO --  This routine schedules an STDB previously        *
                                   35639    6283.     *              obtained with SYSRNEW.  It adds it to the queue  *
                                   35640    6284.     *              for the Address space whose ASB addr is passed.  *
                                   35641    6285.     *                                                               *
                                   35642    6286.     *   Input  --  @SYSRDO                                          *
                                   35643    6287.     *                                                               *
                                   35644    6288.     *  Output  --  RVR ~= 0:  It could not be scheduled.            *
                                   35645    6289.     *                                                               *
                                   35646    6290.     *****************************************************************
-0052E0                            35648    6292.     SYSRDO   PROC  @SYSRDO,SCOPE=GLOBAL
 0052E0 E2E8E2D9C4D64040           35654             +
 0052E8 0020/0000                  35655             +
 0052EC 900F D004/18AF       00004 35657             +
 USING  SYSRDO,R10
 0052F2 50D0 C000/18CD       00000 35672             +
 0052F8 9680 C000      00000       35674             +
 USING  @SYSRDO-72,R12
 0052FC 41D0 C068            00068 35688             +
                                   35689    6293.     *
                                   35690    6294.     * Validate the parms
                                   35691    6295.     *
 005300 4100 0004            00004 35692    6296.              LA    RVR,4                   Assume failure
 005304 5870 C04C            00004 35693    6297.              L     RY,@SYSRASB             Get the ASB pointer
 005308                            35694    6298.              IF    (@RY,NE,'ASB '),EXIT
 005308 D503 A200 7000 054EC 00000 35704             +
 00530E 4770 A09E            0538A 35707             +
 005312 5870 701C            0001C 35713    6299.              WITH  (ASB,RY),'L RY,ASBASDB' Get the ASDB pointer
 USING  ASB,R7
 DROP   ASB,R7
 005316                            35737    6300.              IF    (@RY,NE,'ASDB'),EXIT
 005316 D503 A204 7000 054F0 00000 35747             +
 00531C 4770 A09E            0538A 35750             +
 USING  ASDB,R7                    35756    6301.              WITH  (ASDB,RY)
 005320 9120 7024      00024       35769    6302.              IF    ASDBTERM,EXIT           Termination in progress
 005324 4710 A09E            0538A 35781             +
 005328 5840 C048            00000 35787    6303.              L     RJ,@SYSRID              Get the STDB address
 00532C                            35788    6304.              IF    (@RJ,NE,'STDB'),EXIT
 00532C D503 A1F8 4000 054E4 00000 35798             +
 005332 4770 A09E            0538A 35801             +
 USING  STDB,R4                    35807    6305.              WITH  (STDB,RJ)
 005336 1B22                       35820    6306.              CLEAR RA
 005338 BA27 4008            00008 35824    6307.              CS    RA,RY,STDBASDB          Update the ASDB pointer
 00533C 4770 A09E            0538A 35825    6308.              IF    NZ,EXIT                 Wasn't free
                                   35839    6309.     *
                                   35840    6310.     * Move in the information
                                   35841    6311.     *
 005340 D203 400C C050 0000C 00008 35842    6312.              MVC   STDBADDR,@SYSRLOC       Move in the location
 005346 D20F 4010 C054 00010 0000C 35843    6313.              MVC   STDBPARM(16),@SYSRPRM   And the parms
                                   35844    6314.     *
                                   35845    6315.     * Add it to the ASDB queue
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  276
0Current Usings:  (PZERO,R0) (STDB,R4) (ASDB,R7) (SYSRDO,R10) (@SYSRDO-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  35846    6316.     *
 00534C 5820 7044            00044 35847    6317.              L     RA,ASDBSTDB             Get the current head of Q
 005350                            35848    6318.              LOOP  BEGIN
 005350 5020 4004            00004 35854  1 6319.                ST    RA,STDBNEXT             Next points to current head
 005354 BA24 7044            00044 35855  1 6320.                CS    RA,RJ,ASDBSTDB          Update the values
 005358 4770 A064            05350 35856    6321.              UNTIL Z,END                   Until the swap goes ok
 00535C 58F0 7028            00028 35875    6322.              SET   ASDBTDSP,MODE=LOCKED,REF=ASDB
 005360 4110 0080            00080 35882             +
 005364 8910 0018/180F       00018 35883             +
 00536A 1601/BAF0 7028       00028 35885             +
 005370 4770 A07C            05368 35888             +
 005374 5810 702C/1211       0002C 35889    6323.              IF    ('LT RS,ASDBSUSP',Z),BEGIN
 00537A 4770 A09C            05388 35900             +
 USING  @ASWAKE-72,R13             35905  1 6324.                PSET  @ASWAKE,CLEAR=NO
 00537E 5070 D048            00000 35916  1 6325.                ST    RY,@ASWASDB             ASDB to awaken
 005382 58F0 A208/0DEF       054F4 35917  1 6326.                ACALL ASWAKE                  Awaken the AS
 005388                            35924    6327.              END   ,
 005388 1B00                       35928    6328.              CLEAR RVR                     Tell the caller it went well
 00538A 981F C008            00008 35932    6329.              PEND  ,
 DROP   STDB,R4
 DROP   ASDB,R7
 DROP   @SYSRDO-72,R12
 DROP   SYSRDO,R10
 00538E 9680 C000/0B0E 00000       35957             +
 DROP   @ASWAKE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  277
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  35967    6331.     *****************************************************************
                                   35968    6332.     *                                                               *
                                   35969    6333.     *   STKNEW --  This routine gets a new fixed stack.  These      *
                                   35970    6334.     *              stackes are of size STKSIZE.  It attempts first  *
                                   35971    6335.     *              to get one already allocated.  If it can't get   *
                                   35972    6336.     *              one of those, it allocates a new page full of    *
                                   35973    6337.     *              stacks and adds them all to the list.            *
                                   35974    6338.     *                                                               *
                                   35975    6339.     *   Input  --  none                                             *
                                   35976    6340.     *                                                               *
                                   35977    6341.     *  Output  --  RVR contains a pointer to the new stack          *
                                   35978    6342.     *                                                               *
                                   35979    6343.     *****************************************************************
-005394                            35981    6345.     STKNEW   PROC  SCOPE=LOCAL
 005394 E2E3D2D5C5E64040           35988             +
 00539C 0000/0000                  35989             +
 0053A0 900F D004/18AF       00004 35991             +
 USING  STKNEW,R10
 0053A6 50D0 C000/18CD       00000 36006             +
 0053AC 9680 C000      00000       36008             +
 0053B0 41D0 C048            00048 36009             +
                                   36010    6346.     *
                                   36011    6347.     * Get our bearings
                                   36012    6348.     *
 0053B4 5870 0324            000A4 36013    6349.              L     RY,PSAASDB              Get the current ASDB address
 USING  ASDB,R7                    36014    6350.              WITH  (ASDB,RY)
                                   36027    6351.     *
                                   36028    6352.     * Get new ones if there are none available
                                   36029    6353.     *
 0053B8 58F0 A118/0DEF       054B8 36030    6354.              ACALL ASLOCK                  Lock up the address space
 0053BE 5820 7070/1222       00070 36037    6355.              IF    ('LT RA,ASDBFSTK',Z),BEGIN       Need some more
 0053C4 4770 A072            05412 36048             +
 USING  @VMGET-72,R13              36053  1 6356.                VMGET L:=A(4096),LOC=LOCSYS,FIX=YES,PAGE=YES  Get a page
 0053C8 D70A D048 D048 00000 00000 36077  1          +
 0053CE 5800 A158            054F8 36085  1          +
 0053D2 5000 D048            00000 36090  1          +
 0053D6 D201 D050 A164 00008 05504 36091  1          +
 0053DC 9680 D052      0000A       36097  1          +
 0053E0 58F0 A11C/0DEF       054BC 36100  1          +
                                   36102  1 6357.     *
                                   36103  1 6358.     * Chain all the stacks there together
                                   36104  1 6359.     *
 0053E6 1820                       36105  1 6360.                LR    RA,RVR                  Copy the Page address
 0053E8 1832                       36106  1 6361.                LR    RB,RA                   Stack pointer
 0053EA 4140 3800            00800 36107  1 6362.                LA    RJ,@RB+STKSIZE          Address of the next one
 0053EE 4150 2FFF            00FFF 36108  1 6363.                LA    RK,@RA+4095             Point at the last byte
 0053F2 1945/47B0 A066       05406 36109  1 6364.                WHILE (RJ,LT,RK),BEGIN        Loop through
 0053F8 5040 3000            00000 36126  2 6365.                  ST    RJ,@RB                  Point current at next
 0053FC 1834                       36127  2 6366.                  LR    RB,RJ                   next becomes current
 0053FE 4140 3800            00800 36128  2 6367.                  LA    RJ,@RB+STKSIZE          Compute new next
 005402 47F0 A052            053F2 36129  1 6368.                END   ,
                                   36134  1 6369.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  278
0Current Usings:  (PZERO,R0) (ASDB,R7) (STKNEW,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  36135  1 6370.     * Now RA points to the first one and RB to the last of the new ones
                                   36136  1 6371.     *
 005406 D203 3000 7070 00000 00070 36137  1 6372.                MVC   @RB(4),ASDBFSTK         Make this list point at old
 00540C D203 7070 2000 00070 00000 36138  1 6373.                MVC   ASDBFSTK,@RA            Put all but first on queue
 005412 A076           05412 053C6 36139    6374.              END   ELSE,BEGIN              End of the queue updates
 005412 47F0 A098            05438 36148             +
                                   36154  1 6375.     *
                                   36155  1 6376.     * There is one there,  remove it
                                   36156  1 6377.     *
 005416 5820 7070            00070 36157  1 6378.                L     RA,ASDBFSTK             Get the address of first
 00541A D203 7070 2000 00070 00000 36158  1 6379.                MVC   ASDBFSTK,@RA            Remove it
 DROP   @VMGET-72,R13              36159  1 6380.                PSET  @PAGE                   One more fix for the page
 USING  @PAGE-72,R13
 005420 D708 D048 D048 00000 00000 36179  1          +
 005426 5020 D048            00000 36180  1 6381.                PMOV  @PAGLOC,(RA)            |
 00542A 4100 0001            00001 36190  1 6382.                PMOV  @PAGLEN,LA:1            |
 00542E 5000 D04C            00004 36206  1          +
 005432 58F0 A15C/0DEF       054FC 36207  1 6383.                VCALL PAGSFIX                 |
 005438                            36211    6384.              END   ,
 005438 58F0 A130/0DEF       054D0 36215    6385.              ACALL ASULOCK                 Unlock the Address space
 00543E 1802                       36222    6386.              LR    RVR,RA                  Copy the 'ID'
 005440 981F C008            00008 36223    6387.              PEND  ,
 DROP   ASDB,R7
 DROP   STKNEW,R10
 005444 9680 C000/0B0E 00000       36238             +
 DROP   @PAGE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  279
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  36248    6389.     *****************************************************************
                                   36249    6390.     *                                                               *
                                   36250    6391.     *   STKDEL --  This routine frees a stack previously obtained   *
                                   36251    6392.     *              with STKNEW.  It just queues it to the ASDB for  *
                                   36252    6393.     *              future use.                                      *
                                   36253    6394.     *                                                               *
                                   36254    6395.     *   Input  --  @STKDEL                                          *
                                   36255    6396.     *                                                               *
                                   36256    6397.     *  Output  --  none                                             *
                                   36257    6398.     *                                                               *
                                   36258    6399.     *****************************************************************
-000000                00000 00004 36260    6401.     @STKDEL  RECORD BEGIN
 000000                            36268  1 6402.     @STKDLOC   DS    A             Address of the stack being freed
 000004                00004 00004 36269    6403.              END   ,
-00544A                            36279    6405.     STKDEL   PROC  @STKDEL,SCOPE=LOCAL
 00544A E2E3D2C4C5D34040           36286             +
 005452 0008/0000                  36287             +
 005456 900F D004/18AF       00004 36289             +
 USING  STKDEL,R10
 00545C 50D0 C000/18CD       00000 36304             +
 005462 9680 C000      00000       36306             +
 USING  @STKDEL-72,R12
 005466 41D0 C050            00050 36320             +
                                   36321    6406.     *
                                   36322    6407.     * Get our bearings
                                   36323    6408.     *
 00546A 5870 0324            000A4 36324    6409.              L     RY,PSAASDB              Get the current ASDB address
 USING  ASDB,R7                    36325    6410.              WITH  (ASDB,RY)
 00546E 5820 C048            00000 36338    6411.              L     RA,@STKDLOC             Get the stack to be removed
 005472 58F0 A062/0DEF       054B8 36339    6412.              ACALL ASLOCK                  Get the local lock
 USING  @PAGE-72,R13               36346    6413.              PSET  @PAGE                   One less fix for the page
 005478 D708 D048 D048 00000 00000 36363             +
 00547E 5020 D048            00000 36364    6414.              PMOV  @PAGLOC,(RA)            |
 005482 4100 0001            00001 36374    6415.              PMOV  @PAGLEN,LA:1            |
 005486 5000 D04C            00004 36390             +
 00548A 58F0 A0AA/0DEF       05500 36391    6416.              VCALL PAGUSFIX                |
 005490 D203 2000 7070 00000 00070 36395    6417.              MVC   @RA(4),ASDBFSTK         Point this at the queue
 005496 5020 7070            00070 36396    6418.              ST    RA,ASDBFSTK             And the queue at this
 00549A 58F0 A07A/0DEF       054D0 36397    6419.              ACALL ASULOCK                 Free the local lock
 0054A0 981F C008            00008 36404    6420.              PEND  ,
 DROP   ASDB,R7
 DROP   @STKDEL-72,R12
 DROP   STKDEL,R10
 0054A4 9680 C000/0B0E 00000       36424             +
 DROP   @PAGE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Task Creation, Deletion, Control                                                       Page  280
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00054B0                            36434    6422.              LTORG ,
 0054B0 00FFFFFFFFFFFFFF           36436                             =X'00FFFFFFFFFFFFFF'
 0054B8 0000087E                   36437                             =A(ASLOCK)
 0054BC 00000000                   36438                             =V(VMGET)
 0054C0 E3C4C240                   36439                             =C'TDB '
 0054C4 000044BE                   36440                             =A(XITNEW)
 0054C8 000053A0                   36441                             =A(STKNEW)
 0054CC 00004126                   36442                             =A(TSKADD)
 0054D0 000008F8                   36443                             =A(ASULOCK)
 0054D4 00000001                   36444                             =A(1)
 0054D8 00000022                   36445                             =A(ASDISP)
 0054DC 00000001                   36446                             =AL4(1)
 0054E0 00004544                   36447                             =A(XITDEL)
 0054E4 E2E3C4C2                   36448                             =C'STDB'
 0054E8 C6D9C5C5                   36449                             =A(C'FREE')
 0054EC C1E2C240                   36450                             =C'ASB '
 0054F0 C1E2C4C2                   36451                             =C'ASDB'
 0054F4 00000A26                   36452                             =A(ASWAKE)
 0054F8 00001000                   36453                             =A(4096)
 0054FC 00000000                   36454                             =V(PAGSFIX)
 005500 00000000                   36455                             =V(PAGUSFIX)
 005504 1F00                       36456                             =Y(31*256+0)
 005506 3F00           0552E 05F38 36457                             =Y(63*256+0)
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  281
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  36462    6424.     *****************************************************************
                                   36463    6425.     *                                                               *
                                   36464    6426.     * DISPCPTA --  This routine returns an address where a fairly   *
                                   36465    6427.     *              up to date CPU time may be obtained.  (It        *
                                   36466    6428.     *              returns a pointer to ASDBTCPU).  This is so the  *
                                   36467    6429.     *              accounting routines can tell other folks about   *
                                   36468    6430.     *              the resource usage in this address space. It     *
                                   36469    6431.     *              also marks the address space so that we will     *
                                   36470    6432.     *              count the time it uses as 'charged'.             *
                                   36471    6433.     *                                                               *
                                   36472    6434.     *   Input  --  none                                             *
                                   36473    6435.     *                                                               *
                                   36474    6436.     *  Output  --  RVR Points at the Address space CPU time.        *
                                   36475    6437.     *                                                               *
                                   36476    6438.     *****************************************************************
-00552E                            36478    6440.     DISPCPTA PROC  SCOPE=GLOBAL
 00552E C4C9E2D7C3D7E3C1           36484             +
 005536 0000/0000                  36485             +
 00553A 900F D004/18AF       00004 36487             +
 USING  DISPCPTA,R10
 005540 50D0 C000/18CD       00000 36502             +
 005546 9680 C000      00000       36504             +
 00554A 41D0 C048            00048 36505             +
                                   36506    6441.     *
                                   36507    6442.     * Get our bearings
                                   36508    6443.     *
 00554E 5870 0324            000A4 36509    6444.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    36510    6445.              WITH  (ASDB,RY)
 005552 9640 7024      00024       36523    6446.              SET   ASDBACCT                Turn on accounting
 005556 4100 70B8            000B8 36529    6447.              LA    RVR,ASDBTCPU            Get the address
 00555A 981F C008            00008 36530    6448.              PEND  ,                       Return to the caller
 DROP   ASDB,R7
 DROP   DISPCPTA,R10
 00555E 9680 C000/0B0E 00000       36545             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  282
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  36552    6450.     *****************************************************************
                                   36553    6451.     *                                                               *
                                   36554    6452.     *  DSPSTAT --  This routine returns statistical information     *
                                   36555    6453.     *              about the dispatcher.                            *
                                   36556    6454.     *                                                               *
                                   36557    6455.     *   Input  --  @DSPSTAT                                         *
                                   36558    6456.     *                                                               *
                                   36559    6457.     *  Output  --  None                                             *
                                   36560    6458.     *                                                               *
                                   36561    6459.     *****************************************************************
-000000                00000 00020 36563    6461.     DSPSWA   RECORD BEGIN
 000000                            36571  1 6462.     DWFSA      DS    4D            Save area for floating point Regs
 000020                00020 00020 36572    6463.              END   ,
-005564                            36582    6465.     DSPSTAT  PROC  @DSPSTAT,DSPSWA,SCOPE=GLOBAL
 005564 C4E2D7E2E3C1E340           36588             +
 00556C 0020/0020                  36589             +
 005570 900F D004/18AF       00004 36591             +
 USING  DSPSTAT,R10
 005576 50D0 C000/18CD       00000 36606             +
 00557C 9680 C000      00000       36608             +
 USING  @DSPSTAT-72,R12
 AUSING (DSPSWA,@DSPSTAT+32)
 005580 41D0 C088            00088 36627             +
                                   36628    6466.     *
                                   36629    6467.     * Save the Floating point registers
                                   36630    6468.     *
 005584 6000 C068            00000 36631    6469.              STD   0,DWFSA
 005588 6020 C070            00008 36632    6470.              STD   2,DWFSA+2*4
 00558C 6040 C078            00010 36633    6471.              STD   4,DWFSA+4*4
 005590 6060 C080            00018 36634    6472.              STD   6,DWFSA+6*4
 005594 2B22                       36635    6473.              SDR   2,2                     Total charged accumulator
 005596 2B44                       36636    6474.              SDR   4,4                     Dispatch time accumulator
 005598 2B66                       36637    6475.              SDR   6,6                     I/O service time accumulator
                                   36638    6476.     *
                                   36639    6477.     * Disable and look through the IPCB's
                                   36640    6478.     *
 00559A 5860 032C            000AC 36641    6479.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     36642    6480.              WITH  (DCT,RX)
 00559E 5870 6170            00170 36655    6481.              L     RY,DCTIPCBS             Get the first CPU
 0055A2 AC04 0339      000B9       36656    6482.              DISABLE ,
 0055A6 1277/4780 A072       055E2 36658    6483.              WHILE (RY,NZ),BEGIN           Loop through all the CPUs
 USING  IPCB,R7                    36674  1 6484.                WITH  (IPCB,RY)
                                   36687  1 6485.     *
                                   36688  1 6486.     * Point at the proper PSA
                                   36689  1 6487.     *
 0055AC 5970 0320            000A0 36690  1 6488.                IF    (RY,EQ,PSAIPCB),'CLEAR RJ'
 0055B0 4770 A046/1B44       055B6 36702  1          +
 0055B6 A04A           055B6 055B2 36716  1 6489.                ELSE  'L RJ,IPCBPZ'
 0055B6 47F0 A04E            055BE 36721  1          +
 0055BA 5840 7008            00008 36728  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  283
0Current Usings:  (PZERO,R0) (DCT,R6) (IPCB,R7) (DSPSTAT,R10) (@DSPSTAT-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00055BE 4140 4280            00280 36733  1 6490.                LA    RJ,@RJ+L'PZERO          Point to the PSA
 USING  X.PSA,R4                   36734  1 6491.                WITH  (PSA,RJ),LABEL=X
                                   36742  1 6492.     *
                                   36743  1 6493.     * Accumulate the values
                                   36744  1 6494.     *
 0055C2 6E20 4068            00068 36745  1 6495.                AW    2,X.PSATCHG             Total Charged
 0055C6 6800 A0A8            05618 36746  1 6496.                LD    0,ITVAL                 Initial timer value
 0055CA 6F00 4078            00078 36747  1 6497.                SW    0,X.PSAKDISP
 0055CE 2E40                       36748  1 6498.                AWR   4,0                     Dispatch time
 0055D0 6800 A0A8            05618 36749  1 6499.                LD    0,ITVAL                 Initial timer value
 0055D4 6F00 4080            00080 36750  1 6500.                SW    0,X.PSAKIOSV
 0055D8 2E60                       36751  1 6501.                AWR   6,0                     I/O Service time
                                   36752  1 6502.     *
                                   36753  1 6503.     * Go on to the next CPU
                                   36754  1 6504.     *
 0055DA 5870 7004            00004 36755  1 6505.                L     RY,IPCBNEXT             Get the next one
 0055DE 47F0 A036            055A6 36756    6506.              END   ,
 DROP   X.PSA,R4
 DROP   IPCB,R7
                                   36774    6507.     *
                                   36775    6508.     * Enable and return the data
                                   36776    6509.     *
 0055E2 8000 0339      000B9       36777    6510.              ENABLE ,
 0055E6 6020 C050            00008 36779    6511.              STD   2,@DSPSCHG              Total Charged
 0055EA 6040 C058            00010 36780    6512.              STD   4,@DSPSDSP              Dispatch
 0055EE 6060 C060            00018 36781    6513.              STD   6,@DSPSIOS              I/O service
 0055F2 D207 C048 6020 00000 00020 36782    6514.              MVC   @DSPSST,DCTSTIME        Tell 'em about the start time
 0055F8 6800 C068            00000 36783    6515.              LD    0,DWFSA                 Restore the registers
 0055FC 6820 C070            00008 36784    6516.              LD    2,DWFSA+2*4
 005600 6840 C078            00010 36785    6517.              LD    4,DWFSA+4*4
 005604 6060 C080            00018 36786    6518.              STD   6,DWFSA+6*4
 005608 981F C008            00008 36787    6519.              PEND  ,                       Return to the caller
 DROP   DCT,R6
 DROP   @DSPSTAT-72,R12
 DROP   DSPSTAT,R10
 00560C 9680 C000/0B0E 00000       36807             +
 005618                            36813    6520.              DS    0D
 005618 00FFFFFFFFFFFFFF           36814    6521.     ITVAL    DC    X'00FFFFFFFFFFFFFF'     Initial value of some timers
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  284
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  36816    6523.     *****************************************************************
                                   36817    6524.     *                                                               *
                                   36818    6525.     * TCPUTIME --  This routine returns in FPR 0 the unnormalized   *
                                   36819    6526.     *              TOD value of the amount of CPU time this task    *
                                   36820    6527.     *              has accrued.                                     *
                                   36821    6528.     *                                                               *
                                   36822    6529.     *   Input  --  none                                             *
                                   36823    6530.     *                                                               *
                                   36824    6531.     *  Output  --  FPR 0 contains the task CPU time                 *
                                   36825    6532.     *                                                               *
                                   36826    6533.     *****************************************************************
-005620                            36828    6535.     TCPUTIME PROC  SCOPE=GLOBAL
 005620 E3C3D7E4E3C9D4C5           36834             +
 005628 0000/0000                  36835             +
 00562C 900F D004/18AF       00004 36837             +
 USING  TCPUTIME,R10
 005632 50D0 C000/18CD       00000 36852             +
 005638 9680 C000      00000       36854             +
 00563C 41D0 C048            00048 36855             +
                                   36856    6536.     *
                                   36857    6537.     * Get our bearings
                                   36858    6538.     *
 005640 5870 0324            000A4 36859    6539.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    36860    6540.              WITH  (ASDB,RY)
 005644 5860 7038            00038 36873    6541.              L     RX,ASDBCTDB             Current TDB address
 USING  TDB,R6                     36874    6542.              WITH  (TDB,RX)
                                   36887    6543.     *
                                   36888    6544.     * Get the current task amount
                                   36889    6545.     *
 005648 AC04 0339      000B9       36890    6546.              DISABLE ,
 00564C 6800 70B8            000B8 36892    6547.              LD    0,ASDBTCPU              Total current amount
 005650 6F00 60C8            000C8 36893    6548.              SW    0,TDBCPUST              Less that when we became cur
 005654 6E00 60D8            000D8 36894    6549.              AW    0,TDBTCPU               Plus the previous amount
 005658 8000 0339      000B9       36895    6550.              ENABLE ,
 00565C 981F C008            00008 36897    6551.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   TCPUTIME,R10
 005660 9680 C000/0B0E 00000       36917             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  285
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  36924    6553.     *****************************************************************
                                   36925    6554.     *                                                               *
                                   36926    6555.     * ACPUTIME --  This routine returns in FPR 0 the unnormalized   *
                                   36927    6556.     *              TOD value of the amount of CPU time this Address *
                                   36928    6557.     *              space has accrued.                               *
                                   36929    6558.     *                                                               *
                                   36930    6559.     *   Input  --  none                                             *
                                   36931    6560.     *                                                               *
                                   36932    6561.     *  Output  --  FPR 0 contains the address space CPU time        *
                                   36933    6562.     *                                                               *
                                   36934    6563.     *****************************************************************
-005666                            36936    6565.     ACPUTIME PROC  SCOPE=GLOBAL
 005666 C1C3D7E4E3C9D4C5           36942             +
 00566E 0000/0000                  36943             +
 005672 900F D004/18AF       00004 36945             +
 USING  ACPUTIME,R10
 005678 50D0 C000/18CD       00000 36960             +
 00567E 9680 C000      00000       36962             +
 005682 41D0 C048            00048 36963             +
                                   36964    6566.     *
                                   36965    6567.     * Get our bearings
                                   36966    6568.     *
 005686 5870 0324            000A4 36967    6569.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    36968    6570.              WITH  (ASDB,RY)
 00568A AC04 0339      000B9       36981    6571.              DISABLE ,                     Turn off interrupts
                                   36983    6572.     *
                                   36984    6573.     * Get the current value of the user clock
                                   36985    6574.     *
 00568E 41F0 02F0            002F0 36986    6575.              UPDCLOCK USER                 Make sure about user clock
 005692 49F0 0308            00088 36999             +
 005696 4770 A02C            0569E 37000             +
 00569A B209 F000      00000       37005             +
 00569E 9180 02F0      00070       37010    6576.              IF    PSAKUSER.X'80',BEGIN    We've passed the time
 0056A2 47E0 A048            056BA 37021             +
 0056A6 D207 0418 02F0 00198 00070 37026  1 6577.                MVC   PSADWK1,PSAKUSER        Copy the clock
 0056AC D707 0418 A2AE 00198 05920 37027  1 6578.                XC    PSADWK1,=X'FFFFFFFFFFFFFFFF'
 0056B2 6800 0418            00198 37028  1 6579.                LD    0,PSADWK1               Get the complemented value
 0056B6 6E00 A2B6            05928 37029  1 6580.                AW    0,=X'0000000000000001'  Get the value past zero
 0056BA A04C           056BA 056A4 37030    6581.              END   ELSE,BEGIN              Not past time yet
 0056BA 47F0 A052            056C4 37039             +
 0056BE 6800 02F0            00070 37045  1 6582.                LD    0,PSAKUSER              Get the current value
 0056C2 2300                       37046  1 6583.                LCDR  0,0                     Negate it
 0056C4                            37047    6584.              END   ,
                                   37051    6585.     *
                                   37052    6586.     * Find the total CPU time used
                                   37053    6587.     *
 0056C4 6E00 70A8            000A8 37054    6588.              AW    0,ASDBSCPU              Get time since timer loaded
 0056C8 6E00 70B8            000B8 37055    6589.              AW    0,ASDBTCPU              Add the time before that
 0056CC 8000 0339      000B9       37056    6590.              ENABLE ,                      Enable for interrupts now
 0056D0 981F C008            00008 37058    6591.              PEND  ,
 DROP   ASDB,R7
 DROP   ACPUTIME,R10
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  286
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00056D4 9680 C000/0B0E 00000       37073             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  287
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  37080    6593.     *****************************************************************
                                   37081    6594.     *                                                               *
                                   37082    6595.     *  PERSET  --  This routine sets the PER info for the current   *
                                   37083    6596.     *              task.                                            *
                                   37084    6597.     *                                                               *
                                   37085    6598.     *   Input  --  @PERSET                                          *
                                   37086    6599.     *                                                               *
                                   37087    6600.     *  Output  --  none                                             *
                                   37088    6601.     *                                                               *
                                   37089    6602.     *****************************************************************
-0056DA                            37091    6604.     PERSET   PROC  @PERSET,SCOPE=GLOBAL
 0056DA D7C5D9E2C5E34040           37097             +
 0056E2 0010/0000                  37098             +
 0056E6 900F D004/18AF       00004 37100             +
 USING  PERSET,R10
 0056EC 50D0 C000/18CD       00000 37115             +
 0056F2 9680 C000      00000       37117             +
 USING  @PERSET-72,R12
 0056F6 41D0 C058            00058 37131             +
                                   37132    6605.     *
                                   37133    6606.     * Get our bearings
                                   37134    6607.     *
 0056FA 5870 0324            000A4 37135    6608.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    37136    6609.              WITH  (ASDB,RY)
 0056FE 5860 7038            00038 37149    6610.              L     RX,ASDBCTDB             Current TDB address
 USING  TDB,R6                     37150    6611.              WITH  (TDB,RX)
                                   37163    6612.     *
                                   37164    6613.     * Copy the info into the TDB
                                   37165    6614.     *
 005702 D20B 60B8 C048 000B8 00000 37166    6615.              MVC   TDBPERIN(3*4),@PERSDAT  Move it in
 005708 B79B 60B8            000B8 37167    6616.              LCTL  9,11,TDBPERIN           Then use it
 00570C 981F C008            00008 37168    6617.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @PERSET-72,R12
 DROP   PERSET,R10
 005710 9680 C000/0B0E 00000       37193             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  288
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  37200    6619.     *****************************************************************
                                   37201    6620.     *                                                               *
                                   37202    6621.     *  MONSET  --  This routine sets the MON info for the current   *
                                   37203    6622.     *              task.                                            *
                                   37204    6623.     *                                                               *
                                   37205    6624.     *   Input  --  @MONSET                                          *
                                   37206    6625.     *                                                               *
                                   37207    6626.     *  Output  --  none                                             *
                                   37208    6627.     *                                                               *
                                   37209    6628.     *****************************************************************
-005716                            37211    6630.     MONSET   PROC  @MONSET,SCOPE=GLOBAL
 005716 D4D6D5E2C5E34040           37217             +
 00571E 0008/0000                  37218             +
 005722 900F D004/18AF       00004 37220             +
 USING  MONSET,R10
 005728 50D0 C000/18CD       00000 37235             +
 00572E 9680 C000      00000       37237             +
 USING  @MONSET-72,R12
 005732 41D0 C050            00050 37251             +
                                   37252    6631.     *
                                   37253    6632.     * Get our bearings
                                   37254    6633.     *
 005736 5870 0324            000A4 37255    6634.              L     RY,PSAASDB              Current ASDB address
 USING  ASDB,R7                    37256    6635.              WITH  (ASDB,RY)
 00573A 5860 7038            00038 37269    6636.              L     RX,ASDBCTDB             Current TDB address
 USING  TDB,R6                     37270    6637.              WITH  (TDB,RX)
                                   37283    6638.     *
                                   37284    6639.     * Verify the monitor mask
                                   37285    6640.     *
 00573E 1F11/BF13 C048       00000 37286    6641.              L2    RS,@MONSDAT             Get the Monitor bits
 005744 5010 60B4            000B4 37292    6642.              ST    RS,TDBMON               Save them in the TDB
 005748 B788 60B4            000B4 37293    6643.              LCTL  8,8,TDBMON              Make it active now
 00574C 981F C008            00008 37294    6644.              PEND  ,
 DROP   TDB,R6
 DROP   ASDB,R7
 DROP   @MONSET-72,R12
 DROP   MONSET,R10
 005750 9680 C000/0B0E 00000       37319             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  289
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  37326    6646.     *****************************************************************
                                   37327    6647.     *                                                               *
                                   37328    6648.     * DISPPTLB --  This routine causes the TLBs of all the CPUs to  *
                                   37329    6649.     *              be cleared.  Due to the hardware function, this  *
                                   37330    6650.     *              will not happen  on an given CPU until that CPU  *
                                   37331    6651.     *              enables for External Interrupts.                 *
                                   37332    6652.     *                                                               *
                                   37333    6653.     *   Input  --  none                                             *
                                   37334    6654.     *                                                               *
                                   37335    6655.     *  Output  --  none                                             *
                                   37336    6656.     *                                                               *
                                   37337    6657.     *****************************************************************
-005756                            37339    6659.     DISPPTLB PROC  SCOPE=GLOBAL
 005756 C4C9E2D7D7E3D3C2           37345             +
 00575E 0000/0000                  37346             +
 005762 900F D004/18AF       00004 37348             +
 USING  DISPPTLB,R10
 005768 50D0 C000/18CD       00000 37363             +
 00576E 9680 C000      00000       37365             +
 005772 41D0 C048            00048 37366             +
                                   37367    6660.     *
                                   37368    6661.     * Make sure we stay put on this CPU, then clean our own house
                                   37369    6662.     *
 005776 AC04 0339      000B9       37370    6663.              DISABLE ,
 00577A B20D 0000                  37372    6664.              PTLB  ,                       Purge our own TLB
                                   37373    6665.     *
                                   37374    6666.     * Find and signal the other CPUs
                                   37375    6667.     *
 00577E 5860 032C            000AC 37376    6668.              L     RX,PSADCT               Get the DCT address
 USING  DCT,R6                     37377    6669.              WITH  (DCT,RX)
 005782 5840 6170            00170 37390    6670.              L     RJ,DCTIPCBS             Get the first in the queue
 005786 1244/4780 A05C       057BE 37391    6671.              WHILE (RJ,NZ),BEGIN           Loop through them
 USING  IPCB,R4                    37407  1 6672.                WITH  (IPCB,RJ)
 00578C                            37420  1 6673.                IF    (IPCBCPUA,NE,PSACPUA),BEGIN       Anyone else
 00578C D501 400C 030A 0000C 0008A 37432  1          +
 005792 4780 A054            057B6 37433  1          +
 005796 58F0 4010            00010 37438  2 6674.                  SET   IPFLPTLB,MODE=LOCKED,REF=IPCB     Tell them what to do
 00579A 4110 0020            00020 37445  2          +
 00579E 8910 0018/180F       00018 37446  2          +
 0057A4 1601/BAF0 4010       00010 37448  2          +
 0057AA 4770 A040            057A2 37451  2          +
 0057AE 4810 400C            0000C 37452  2 6675.                  LH    RS,IPCBCPUA             Get the CPU address
 0057B2 AE11 0002            00002 37453  2 6676.                  SIGP  RS,RS,X'02'             Signal External Call
 0057B6                            37454  1 6677.                END   ,
 0057B6 5840 4004            00004 37458  1 6678.                L     RJ,IPCBNEXT             Go on to the next one
 0057BA 47F0 A024            05786 37459    6679.              END   ,
 DROP   IPCB,R4
                                   37469    6680.     *
                                   37470    6681.     * Get us back to how we were
                                   37471    6682.     *
 0057BE 8000 0339      000B9       37472    6683.              ENABLE ,
 0057C2 981F C008            00008 37474    6684.              PEND  ,                       Return to the caller
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  290
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   DCT,R6
 DROP   DISPPTLB,R10
 0057C6 9680 C000/0B0E 00000       37489             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  291
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  37496    6686.     *****************************************************************
                                   37497    6687.     *                                                               *
                                   37498    6688.     *  RDPARMS --  This routine is called during initialization to  *
                                   37499    6689.     *              read the parameters relevent to dispatching.     *
                                   37500    6690.     *              It only updates those values for which parms     *
                                   37501    6691.     *              were specified, so defaults must be in place.    *
                                   37502    6692.     *                                                               *
                                   37503    6693.     *   Input  --  none                                             *
                                   37504    6694.     *                                                               *
                                   37505    6695.     *  Output  --  none                                             *
                                   37506    6696.     *                                                               *
                                   37507    6697.     *****************************************************************
-000000                00000 0002C 37509    6699.     RDPWA    RECORD BEGIN        Local Work area
 000000                            37517  1 6700.     RDPARM     DS    XL(L'PARMIN)
 000008                            37518  1 6701.                DS    D             First keyword
 000010                            37519  1 6702.                DS    D             Second keyword
 000018                            37520  1 6703.     RDPSTR     DS    CL20          String return area
 00002C                0002C 0002C 37521    6704.              END   ,
-0057CC                            37531    6706.     RDPARMS  PROC  ,RDPWA,SCOPE=LOCAL
 0057CC D9C4D7C1D9D4E240           37538             +
 0057D4 0000/0030                  37539             +
 0057D8 900F D004/18AF       00004 37541             +
 USING  RDPARMS,R10
 0057DE 50D0 C000/18CD       00000 37556             +
 0057E4 9680 C000      00000       37558             +
 USING  RDPWA-72,R12
 0057E8 41D0 C078            00078 37572             +
                                   37573    6707.     *
                                   37574    6708.     * Get our bearings
                                   37575    6709.     *
 0057EC 5870 0200            00200 37576    6710.              L     RY,PZMATP     Get the mat pointer
 USING  MAT,R7                     37577    6711.              WITH  (MAT,RY)
 0057F0 5860 7008            00008 37590    6712.              L     RX,MATDCT     Get the DCT pointer
 USING  DCT,R6                     37591    6713.              WITH  (DCT,RX)
 AUSING (PARMIN,RDPARM)            37604    6714.              WITH  (PARMIN,RDPARM)
                                   37611    6715.     *
                                   37612    6716.     * Get the system name
                                   37613    6717.     *
 0057F4 9200 C048      00000       37614    6718.              GETPARM2 RDPSTR,KEY=(SYSNAME),TYPE=STRING,REGS=(RA,RJ)
 0057F8 D207 C04C A158 00004 05930 37621             +
 0057FE 4120 C060            00018 37628             +
 005802 4130 0014            00014 37635             +
 005806 4140 C048            00000 37642             +
 00580A 4150 000C            0000C 37649             +
 00580E 83240016                   37652             +
 005812 4770 A04C            05824 37653    6719.              IF    Z,BEGIN                 It was specified
 005816 BF38 A1A6            0597E 37664  1 6720.                ICM   RB,B'1000',=C' '        Blank pad it
 00581A 4140 70D4            000D4 37665  1 6721.                LA    RJ,MATSNAME             Location of the name
 00581E 4150 0008            00008 37666  1 6722.                LA    RK,L'MATSNAME           Length of the name
 005822 0E42                       37667  1 6723.                MVCL  RJ,RA                   Move and pad the name
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  292
0Current Usings:  (PZERO,R0) (DCT,R6) (MAT,R7) (RDPARMS,R10) (RDPWA-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0005824                            37668    6724.              END   ,
                                   37672    6725.     *
                                   37673    6726.     * Get the working set interval
                                   37674    6727.     *
 005824 9204 C048      00000       37675    6728.              GETPARM2 KEY=(DISPATCH,WSINT),REGS=(RA,RJ)
 005828 D207 C04C A160 00004 05938 37682             +
 00582E D207 C054 A168 0000C 05940 37683             +
 005834 4140 C048            00000 37690             +
 005838 4150 0014            00014 37697             +
 00583C 83240016                   37700             +
 005840 4770 A07C            05854 37701    6729.              IF    Z,BEGIN                 It was specified
 005844 1832                       37712  1 6730.                LR    RB,RA                   Get the value (in millseconds)
 005846 1B22                       37713  1 6731.                CLEAR RA
 005848 4C30 A1A4            0597C 37717  1 6732.                MH    RB,=Y(1000)             Convert to microseconds
 00584C 8D20 000C            0000C 37718  1 6733.                SLDL  RA,12                   Convert to TOD
 005850 9023 6018            00018 37719  1 6734.                STM   RA,RB,DCTWSIN           Save it away
 005854                            37720    6735.              END   ,
                                   37724    6736.     *
                                   37725    6737.     * Get the working set size limit
                                   37726    6738.     *
 005854 9204 C048      00000       37727    6739.              GETPARM2 KEY=(,WSLIMIT),REGS=(RA,RJ)
 005858 D207 C054 A170 0000C 05948 37734             +
 00585E 4140 C048            00000 37741             +
 005862 4150 0014            00014 37748             +
 005866 83240016                   37751             +
 00586A 4770 A09A            05872 37752    6740.              IF    Z,BEGIN                 It was specified
 00586E 5020 6014            00014 37763  1 6741.                ST    RA,DCTWSLM              Save the limit
 005872                            37764    6742.              END   ,
                                   37768    6743.     *
                                   37769    6744.     *  Read our trace parameters
                                   37770    6745.     *
 005872 1B11                       37771    6746.              CLEAR RS                      Default to no tracing
 005874 9208 C048      00000       37775    6747.              GETPARM2 RDPSTR,KEY=(,TRACE,BRANCH),TYPE=YESNO,REGS=(RA,RJ)
 005878 D207 C054 A178 0000C 05950 37782             +
 00587E D207 C05C A180 00014 05958 37783             +
 005884 4120 C060            00018 37790             +
 005888 4130 0014            00014 37797             +
 00588C 4140 C048            00000 37804             +
 005890 4150 001C            0001C 37811             +
 005894 83240016                   37814             +
 005898 4770 A0D0            058A8 37815    6748.              IF    Z,BEGIN                 Specified
 00589C 95E8 C060      00018       37826  1 6749.                IF    ('CLI RDPSTR,C"Y"',EQ),BEGIN
 0058A0 4770 A0D0            058A8 37834  1          +
 0058A4 5610 A198            05970 37839  2 6750.                  O     RS,=A(TRCBRANCH)        Branch tracing
 0058A8                            37840  1 6751.                END   ,
 0058A8                            37844    6752.              END   ,                       OF Specified
 0058A8 9208 C048      00000       37848    6753.              GETPARM2 RDPSTR,KEY=(,TRACE,EXPLICIT),TYPE=YESNO,REGS=(RA,RJ)
 0058AC D207 C054 A178 0000C 05950 37855             +
 0058B2 D207 C05C A188 00014 05960 37856             +
 0058B8 4120 C060            00018 37863             +
 0058BC 4130 0014            00014 37870             +
 0058C0 4140 C048            00000 37877             +
 0058C4 4150 001C            0001C 37884             +
 0058C8 83240016                   37887             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  293
0Current Usings:  (PZERO,R0) (DCT,R6) (MAT,R7) (RDPARMS,R10) (RDPWA-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00058CC 4770 A104            058DC 37888    6754.              IF    Z,BEGIN                 Specified
 0058D0 95E8 C060      00018       37899  1 6755.                IF    ('CLI RDPSTR,C"Y"',EQ),BEGIN
 0058D4 4770 A104            058DC 37907  1          +
 0058D8 5610 A19C            05974 37912  2 6756.                  O     RS,=A(TRCEXPL)          Explicit tracing
 0058DC                            37913  1 6757.                END   ,
 0058DC                            37917    6758.              END   ,                       OF Specified
 0058DC 9208 C048      00000       37921    6759.              GETPARM2 RDPSTR,KEY=(,TRACE,ASN),TYPE=YESNO,REGS=(RA,RJ)
 0058E0 D207 C054 A178 0000C 05950 37928             +
 0058E6 D207 C05C A190 00014 05968 37929             +
 0058EC 4120 C060            00018 37936             +
 0058F0 4130 0014            00014 37943             +
 0058F4 4140 C048            00000 37950             +
 0058F8 4150 001C            0001C 37957             +
 0058FC 83240016                   37960             +
 005900 4770 A138            05910 37961    6760.              IF    Z,BEGIN                 Specified
 005904 95E8 C060      00018       37972  1 6761.                IF    ('CLI RDPSTR,C"Y"',EQ),BEGIN
 005908 4770 A138            05910 37980  1          +
 00590C 5610 A1A0            05978 37985  2 6762.                  O     RS,=A(TRCASN)           Branch tracing
 005910                            37986  1 6763.                END   ,
 005910                            37990    6764.              END   ,                       OF Specified
                                   37994    6765.
 005910 5010 61B4            001B4 37995    6766.              ST    RS,DCTTRMSK             Save mask
 005914 981F C008            00008 37996    6767.              PEND  ,
 DROP   DCT,R6
 DROP   MAT,R7
 DROP   RDPWA-72,R12
 DROP   RDPARMS,R10
 005918 9680 C000/0B0E 00000       38021             +
1DISPATCH (DISP00) (09:38) (22MAR04) Miscellaneous Global Info/Control Routines                                             Page  294
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0005920                            38028    6769.              LTORG ,
 005920 FFFFFFFFFFFFFFFF           38030                             =X'FFFFFFFFFFFFFFFF'
 005928 0000000000000001           38031                             =X'0000000000000001'
 005930 E2E8E2D5C1D4C540           38032                             =CL8'SYSNAME'
 005938 C4C9E2D7C1E3C3C8           38033                             =CL8'DISPATCH'
 005940 E6E2C9D5E3404040           38034                             =CL8'WSINT'
 005948 E6E2D3C9D4C9E340           38035                             =CL8'WSLIMIT'
 005950 E3D9C1C3C5404040           38036                             =CL8'TRACE'
 005958 C2D9C1D5C3C84040           38037                             =CL8'BRANCH'
 005960 C5E7D7D3C9C3C9E3           38038                             =CL8'EXPLICIT'
 005968 C1E2D54040404040           38039                             =CL8'ASN'
 005970 80000000                   38040                             =A(TRCBRANCH)
 005974 00000001                   38041                             =A(TRCEXPL)
 005978 00000002                   38042                             =A(TRCASN)
 00597C 03E8                       38043                             =Y(1000)
 00597E 40             0597F 05F38 38044                             =C' '
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  295
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   PZERO,R0                   38049    6771.              DROP  R0
 USING  IPL.PZERO,R0               38057    6772.     IPL      USING PZERO,R0
                                   38061    6773.     *****************************************************************
                                   38062    6774.     *                                                               *
                                   38063    6775.     * DISPINIT --  This routine is the entry point of the guest     *
                                   38064    6776.     *              portion of ORVYL.  It is called from the IPL     *
                                   38065    6777.     *              text.  It in turn calls those routines necessary *
                                   38066    6778.     *              to set up the system for business.               *
                                   38067    6779.     *                                                               *
                                   38068    6780.     *   Input  --  @IPLPARM                                         *
                                   38069    6781.     *                                                               *
                                   38070    6782.     *  Output  --  none                                             *
                                   38071    6783.     *                                                               *
                                   38072    6784.     *****************************************************************
-005980                            38074    6786.     DISPINIT PROC  @IPLPARM,SCOPE=GLOBAL
 005980 C4C9E2D7C9D5C9E3           38080             +
 005988 0018/0000                  38081             +
 00598C 900F D004/18AF       00004 38083             +
 USING  DISPINIT,R10
 005992 50D0 C000/18CD       00000 38098             +
 005998 9680 C000      00000       38100             +
 USING  @IPLPARM-72,R12
 00599C 41D0 C060            00060 38114             +
                                   38115    6787.     *
                                   38116    6788.     * Set up the virtual memory. That way when I need to get
                                   38117    6789.     * some memory, it will all be accounted for.  We have to inform
                                   38118    6790.     * him on the call of things that have already been allocated by
                                   38119    6791.     * the ipltext.  It will allocate the master address table (MAT)
                                   38120    6792.     * and store its address in PZERO.
                                   38121    6793.     *
                                   38122    6794.     *        NOTE:  Any interrupts that happen will be handled by the
                                   38123    6795.     *               IPLTEXT.  Page faults will be resolved automatically.
                                   38124    6796.     *
 USING  @VMIPARM-72,R13            38125    6797.              PSET  @VMIPARM                Set up the parm area
 0059A0 D713 D048 D048 00000 00000 38142             +
 0059A6 D203 D048 C048 00000 00000 38143    6798.              MVC   @VMIKLOC,@IPLKLOC       Kernel
 0059AC D203 D04C C04C 00004 00004 38144    6799.              MVC   @VMIKLEN,@IPLKLEN
 0059B2 D203 D050 C050 00008 00008 38145    6800.              MVC   @VMIMLOC,@IPLMLOC       Map
 0059B8 D203 D054 C054 0000C 0000C 38146    6801.              MVC   @VMIMLEN,@IPLMLEN
 0059BE D203 D058 C058 00010 00010 38147    6802.              MVC   @VMISLOC,@IPLSLOC       V=R stack area
 0059C4 58F0 A4FC/0DEF       05E88 38148    6803.              VCALL VMINIT1                 Init all that junk
 0059CA 1820                       38152    6804.              LR    RA,RVR                  Save the Address space size
 0059CC 58F0 A500/0DEF       05E8C 38153    6805.              VCALL LKINIT                  Initialize the lock manager
 0059D2 58F0 A504/0DEF       05E90 38157    6806.              VCALL IOSINIT                 Initialize the I/O supervisor
                                   38161    6807.     *
                                   38162    6808.     * Start the initialization of the dispatcher.
                                   38163    6809.     *
 0059D8 58F0 A508/0DEF       05E94 38164    6810.              ACALL INITDIS1                Allocate CBs, etc.
 0059DE 1830                       38171    6811.              LR    RB,RVR                  Address of the Global ASB
                                   38172    6812.     *
                                   38173    6813.     * Initialize the paging system
                                   38174    6814.     *
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  296
0Current Usings:  (IPL.PZERO,R0) (DISPINIT,R10) (@IPLPARM-72,R12) (@PAGINIT-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   @VMIPARM-72,R13            38175    6815.              PSET  @PAGINIT
 USING  @PAGINIT-72,R13
 0059E0 D707 D048 D048 00000 00000 38195             +
 0059E6 5020 D04C            00004 38196    6816.              ST    RA,@PAGIMEG             Size of the Workspace
 0059EA 5030 D048            00000 38197    6817.              ST    RB,@PAGIASB             Address of the ASB
 0059EE 58F0 A50C/0DEF       05E98 38198    6818.              VCALL PAGINIT                 Call the paging system
 0059F4 58F0 A510/0DEF       05E9C 38202    6819.              VCALL VMINIT2                 Finish the virtual memory
                                   38206    6820.     *
                                   38207    6821.     ** IMPORTANT NOTE :  No page faults must occur after this until the
                                   38208    6822.     *                    interrupt PSWs belong to us.
                                   38209    6823.     *
                                   38210    6824.     * Finish initializing the dispatcher
                                   38211    6825.     *
 0059FA 58F0 A514/0DEF       05EA0 38212    6826.              ACALL INITDIS2                Doesn't return
 005A00 981F C008            00008 38219    6827.              PEND                          Never executed
 DROP   @IPLPARM-72,R12
 DROP   DISPINIT,R10
 005A04 9680 C000/0B0E 00000       38234             +
 DROP   @PAGINIT-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  297
0Current Usings:  (IPL.PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  38244    6829.     *****************************************************************
                                   38245    6830.     *                                                               *
                                   38246    6831.     * INITDIS1 --  This routine is called to set up the initial     *
                                   38247    6832.     *              stuff for the dispatcher.  It allocates all      *
                                   38248    6833.     *              storage needed between now and the time the CPU  *
                                   38249    6834.     *              is completely set up (PZERO that is).            *
                                   38250    6835.     *                                                               *
                                   38251    6836.     *   Input  --  none                                             *
                                   38252    6837.     *                                                               *
                                   38253    6838.     *  Output  --  RVR Contains the address of the Global ASB       *
                                   38254    6839.     *                                                               *
                                   38255    6840.     *****************************************************************
-005A0A                            38257    6842.     INITDIS1 PROC  SCOPE=LOCAL
 005A0A C9D5C9E3C4C9E2F1           38264             +
 005A12 0000/0000                  38265             +
 005A16 900F D004/18AF       00004 38267             +
 USING  INITDIS1,R10
 005A1C 50D0 C000/18CD       00000 38282             +
 005A22 9680 C000      00000       38284             +
 005A26 41D0 C048            00048 38285             +
                                   38286    6843.     *
                                   38287    6844.     * Set up a DCT
                                   38288    6845.     *
 USING  @VMGET-72,R13              38289    6846.              VMGET L'DCT,LOC=GLOBHI,FIX=YES
 005A2A D70A D048 D048 00000 00000 38313             +
 005A30 4100 01C0            001C0 38325             +
 005A34 5000 D048            00000 38330             +
 005A38 D201 D050 A4C6 00008 05EDC 38331             +
 005A3E 58F0 A48E/0DEF       05EA4 38334             +
 005A44 1860                       38336    6847.              LR    RX,RVR                  Copy the address
 USING  DCT,R6                     38337    6848.              WITH  (DCT,RX)
 005A46                            38350    6849.              CLEAR DCT
 005A46 D7FF 6000 6000 00000 00000 38356             +
 005A4C D7BF 6100 6100 00100 00100 38357             +
 005A52 D203 6000 A492 00000 05EA8 38358    6850.              MVC   DCT(4),=CL4'DCT'        Move in the ID
 005A58 5810 0200            00200 38359    6851.              L     RS,IPL.PZMATP           Get the MAT pointer
 005A5C 5060 1008            00008 38360    6852.              WITH  (MAT,RS),'ST RX,MATDCT' Save the address there
 USING  MAT,R1
 DROP   MAT,R1
 005A60 D227 6120 A23A 00120 05C50 38384    6853.              MVC   DCTSLICE(8*NUMPRIO),DEFSLICE
 005A66 D227 6148 A262 00148 05C78 38385    6854.              MVC   DCTSLCWT(8*NUMPRIO),DEFWAIT
 005A6C D207 6018 A28A 00018 05CA0 38386    6855.              MVC   DCTWSIN,DEFWSIN         WS interval
 005A72 D203 6014 A292 00014 05CA8 38387    6856.              MVC   DCTWSLM,DEFWSLM         WS size limit
 005A78 B205 6020      00020       38388    6857.              STCK  DCTSTIME                Time we started
 005A7C D201 60FC A4C8 000FC 05EDE 38389    6858.              MVC   DCTSWPRI,=H'-1'         Swap priority
                                   38390    6859.     *
                                   38391    6860.     * Set up some things in the MAT
                                   38392    6861.     *
 005A82 5810 0200            00200 38393    6862.              L     RS,IPL.PZMATP           Get the MAT pointer
 USING  MAT,R1                     38394    6863.              WITH  (MAT,RS),BEGIN
 005A86 D207 10D4 A43A 000D4 05E50 38408  1 6864.                MVC   MATSNAME,=CL8'TORVYL'   Default name
 DROP   MAT,R1                     38409    6865.              END   ,
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  298
0Current Usings:  (IPL.PZERO,R0) (DCT,R6) (INITDIS1,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  38417    6866.     *
                                   38418    6867.     * Read any overriding input parms
                                   38419    6868.     *
 005A8C 58F0 A496/0DEF       05EAC 38420    6869.              ACALL RDPARMS
                                   38427    6870.     *
                                   38428    6871.     * Set up the System Address space
                                   38429    6872.     *
 DROP   @VMGET-72,R13              38430    6873.              PSET  @ACREATE
 USING  @ACREATE-72,R13
 005A92 D707 D048 D048 00000 00000 38450             +
 005A98 D203 D048 A49A 00000 05EB0 38451    6874.              MVC   @ACRPSW(4),=X'070C0000'
 005A9E D203 D04C A49E 00004 05EB4 38452    6875.              MVC   @ACRPSW+4(4),=V(SYSTASK)
 005AA4 9680 D04C      00004       38453    6876.              OI    @ACRPSW+4,X'80'         Enter in 31 bit mode
 005AA8 58F0 A4A2/0DEF       05EB8 38454    6877.              ACALL ACREATE
                                   38461    6878.     *
                                   38462    6879.     * Special fix up for the System task ASDB
                                   38463    6880.     *
 005AAE 1820                       38464    6881.              LR    RA,RVR                  ASB pointer is returned
 005AB0 5820 201C            0001C 38465    6882.              WITH  (ASB,RA),'L  RA,ASBASDB'    ASDB pointer
 USING  ASB,R2
 DROP   ASB,R2
 USING  ASDB,R2                    38489    6883.              WITH  (ASDB,RA),BEGIN
 005AB4 D207 2078 A442 00078 05E58 38503  1 6884.                MVC   ASDBWSIN,=FL8S12E3'50'  New working set interval
 DROP   ASDB,R2                    38504    6885.              END   ,
                                   38512    6886.     *
                                   38513    6887.     * Finally get the dispatch lock
                                   38514    6888.     *
 DROP   @ACREATE-72,R13            38515    6889.              LKCRE DISPATCH,TYPE=SPIN
 USING  @LOCKCRE-72,R13
 005ABA D710 D048 D048 00000 00000 38536             +
 005AC0 D20F D048 A44A 00000 05E60 38542             +
 005AC6 9680 D058      00010       38548             +
 005ACA 58F0 A4A6/0DEF       05EBC 38551             +
 005AD0 5000 6004            00004 38553    6890.              ST    RVR,DCTLOCK             Save the lock LOCATION
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  299
0Current Usings:  (IPL.PZERO,R0) (DCT,R6) (INITDIS1,R10) (@LOCKCRE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  38555    6892.     *
                                   38556    6893.     * Find out where the V=R stack area is and save the data in the DCT
                                   38557    6894.     *
 005AD4 183C                       38558    6895.              LR    RB,WAR                  Get our current stack
 005AD6 5430 A4AA            05EC0 38559    6896.              N     RB,=X'7FFFF000'         Start of the area
 005ADA 5030 61B8            001B8 38560    6897.              ST    RB,DCTVRST              Save the location
 005ADE D203 61BC A4AE 001BC 05EC4 38561    6898.              MVC   DCTVRLEN,=A(16*4096)    Initial length
                                   38562    6899.     *
                                   38563    6900.     * Generate the CPU information
                                   38564    6901.     *
 005AE4 4150 0010            00010 38565    6902.              LA    RK,16                   Maximum number of CPUs
 005AE8 1255/4780 A218       05C2E 38566    6903.              WHILE (RK,NZ),BEGIN
 005AEE 0650                       38582  1 6904.                DECR  RK                      CPU address is one less
 005AF0 1B22                       38584  1 6905.                CLEAR RA                      Clear status register
 005AF2 AE25 0001            00001 38588  1 6906.                SIGP  RA,RK,1                 Sense the status of the CPU
 005AF6 4710 A0D2            05AE8 38589  1 6907.                IF    O,NEXT                  Next if not op/busy
 005AFA 5420 A4B2            05EC8 38603  1 6908.                N     RA,=X'00000011'         Check stop/receiver check bits
 005AFE 4770 A0D2            05AE8 38604  1 6909.                IF    NZ,NEXT                 If on... don't bother with it
                                   38618  1 6910.     *
                                   38619  1 6911.     * Allocate an IPCB for this processor
                                   38620  1 6912.     *
 DROP   @LOCKCRE-72,R13            38621  1 6913.                VMGET L'IPCB,LOC=GLOBHI,FIX=YES
 USING  @VMGET-72,R13
 005B02 D70A D048 D048 00000 00000 38648  1          +
 005B08 4100 0011            00011 38660  1          +
 005B0C 5000 D048            00000 38665  1          +
 005B10 D201 D050 A4C6 00008 05EDC 38666  1          +
 005B16 58F0 A48E/0DEF       05EA4 38669  1          +
 005B1C 1840                       38671  1 6914.                LR    RJ,RVR                  Get its address
 USING  IPCB,R4                    38672  1 6915.                WITH  (IPCB,RJ)
 005B1E                            38685  1 6916.                CLEAR IPCB
 005B1E D710 4000 4000 00000 00000 38691  1          +
 005B24 D203 4000 A4B6 00000 05ECC 38692  1 6917.                MVC   IPCB(4),=C'IPCB'        Move in the IPCB ID
 005B2A 4050 400C            0000C 38693  1 6918.                STH   RK,IPCBCPUA             Save the CPU address
 005B2E D203 4004 6170 00004 00170 38694  1 6919.                MVC   IPCBNEXT,DCTIPCBS       Point this one at the queue
 005B34 5040 6170            00170 38695  1 6920.                ST    RJ,DCTIPCBS             And the header at this one
 005B38 1825                       38696  1 6921.                LR    RA,RK                   Copy the CPUA
 005B3A 8920 0002            00002 38697  1 6922.                SLL   RA,2                    Times 2
 005B3E 5042 6174            00174 38698  1 6923.                ST    RJ,DCTIPCBT(RA)         Put this IPCB in the table
                                   38699  1 6924.     *
                                   38700  1 6925.     * Allocate and initialize a prefix page for this processor
                                   38701  1 6926.     *
 005B42                            38702  1 6927.                VMGET LH:=Y(4096),LOC=GLOBHI,FIX=YES
 005B42 D70A D048 D048 00000 00000 38719  1          +
 005B48 4800 A4CA            05EE0 38726  1          +
 005B4C 5000 D048            00000 38731  1          +
 005B50 D201 D050 A4C6 00008 05EDC 38732  1          +
 005B56 58F0 A48E/0DEF       05EA4 38735  1          +
 005B5C 5000 4008            00008 38737  1 6928.                ST    RVR,IPCBPZ              Save the address
 005B60 1880                       38738  1 6929.                LR    RM,RVR                  Copy the address
 USING  PZERO,R8                   38739  1 6930.                WITH  (PZERO,RM)
                                   38752  1 6931.              $$USING PSA,PZERO+L'PZERO       Address it
 005B62 18E8/48F0 A4CA       05EE0 38753  1 6932.                ZOT   PZERO,LH:=Y(4096)       Zero the whole page
 005B68 1B11/0EE0                  38765  1          +
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  300
0Current Usings:  (IPL.PZERO,R0) (IPCB,R4) (DCT,R6) (PZERO,R8) (INITDIS1,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0005B6C D27F 8000 A29A 00000 05CB0 38767  1 6933.                MVC   PZERO(L'PZPAT),PZPAT    Move in the interrupt PSWs
 005B72 D207 82F8 A45A 00078 05E70 38768  1 6934.                MVC   PSAKDISP,=X'00FFFFFFFFFFFFFF'     Dispatch clock
 005B78 D207 8300 A45A 00080 05E70 38769  1 6935.                MVC   PSAKIOSV,=X'00FFFFFFFFFFFFFF'     I/O service clock
 005B7E D201 8308 A4CC 00088 05EE2 38770  1 6936.                MVC   PSAKCUR,=Y(PSAKDISP-PSA+L'PZERO)  Set to be dispatch
 005B84 4050 830A            0008A 38771  1 6937.                STH   RK,PSACPUA              CPU Address
 005B88 4050 8212            00212 38772  1 6938.                STH   RK,PZLCPUA+2            Save it in PZ too
 005B8C 9280 8210      00210       38773  1 6939.                MVI   PZLCPUA,X'80'           Make it a logical address
 005B90 5820 A4BA            05ED0 38774  1 6940.                L     RA,=X'80000000'         Get a bit for CPU 0
 005B94 8820 5000            00000 38775  1 6941.                SRL   RA,@RK                  Move it to get...
 005B98 5020 8214            00214 38776  1 6942.                ST    RA,PZCPUMSK             The CPU mask value
 005B9C D203 8200 0200 00200 00200 38777  1 6943.                MVC   PZMATP,IPL.PZMATP       Get the MAT pointer
                                   38778  1 6944.     *
                                   38779  1 6945.     * Get this CPU a stack
                                   38780  1 6946.     *
 005BA2 5830 61B8            001B8 38781  1 6947.                L     RB,DCTVRST              Get the start of the area
 005BA6 5030 8330            000B0 38782  1 6948.                ST    RB,PSADSTK              One page of V=R stack
 005BAA 4A30 A4CA            05EE0 38783  1 6949.                AH    RB,=Y(4096)             Get to the next page
 005BAE 5030 61B8            001B8 38784  1 6950.                ST    RB,DCTVRST              Save the new pointer
 005BB2 5830 61BC            001BC 38785  1 6951.                L     RB,DCTVRLEN             Get the length
 005BB6 4B30 A4CA            05EE0 38786  1 6952.                SH    RB,=Y(4096)             Update it
 005BBA 5030 61BC            001BC 38787  1 6953.                ST    RB,DCTVRLEN             And put the pointer back
                                   38788  1 6954.     *
                                   38789  1 6955.     * Save some other values in the page
                                   38790  1 6956.     *
 005BBE 5060 832C            000AC 38791  1 6957.                ST    RX,PSADCT               DCT pointer
 005BC2 5080 831C            0009C 38792  1 6958.                ST    RM,PSAPRFXV             Virtual prefix value
 005BC6 B120 8000            00000 38793  1 6959.                LRA   RA,PZERO                Get the real address
 005BCA 5020 8318            00098 38794  1 6960.                ST    RA,PSAPRFXR             Real prefix value
 005BCE 5040 8320            000A0 38795  1 6961.                ST    RJ,PSAIPCB              IPCB address
                                   38796  1 6962.     *
                                   38797  1 6963.     * Allocate some trace buffers
                                   38798  1 6964.     *
 005BD2                            38799  1 6965.                VMGET LH:=Y(4096),LOC=GLOBHI,FIX=YES    First buffer
 005BD2 D70A D048 D048 00000 00000 38816  1          +
 005BD8 4800 A4CA            05EE0 38823  1          +
 005BDC 5000 D048            00000 38828  1          +
 005BE0 D201 D050 A4C6 00008 05EDC 38829  1          +
 005BE6 58F0 A48E/0DEF       05EA4 38832  1          +
 005BEC 1820                       38834  1 6966.                LR    RA,RVR
 005BEE 41E0 2000            00000 38835  1 6967.                ZOT   @RA,LH:=Y(4096)
 005BF2 48F0 A4CA/1B11       05EE0 38846  1          +
 005BF8 0EE0                       38848  1          +
 005BFA 5020 8340            000C0 38849  1 6968.                ST    RA,PSATRB0              Save the address
 005BFE                            38850  1 6969.                VMGET LH:=Y(4096),LOC=GLOBHI,FIX=YES    Second buffer
 005BFE D70A D048 D048 00000 00000 38867  1          +
 005C04 4800 A4CA            05EE0 38874  1          +
 005C08 5000 D048            00000 38879  1          +
 005C0C D201 D050 A4C6 00008 05EDC 38880  1          +
 005C12 58F0 A48E/0DEF       05EA4 38883  1          +
 005C18 1820                       38885  1 6970.                LR    RA,RVR
 005C1A 41E0 2000            00000 38886  1 6971.                ZOT   @RA,LH:=Y(4096)
 005C1E 48F0 A4CA/1B11       05EE0 38897  1          +
 005C24 0EE0                       38899  1          +
 005C26 5020 8344            000C4 38900  1 6972.                ST    RA,PSATRB1              Save the address
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  301
0Current Usings:  (IPL.PZERO,R0) (DCT,R6) (INITDIS1,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0005C2A 47F0 A0D2            05AE8 38901    6973.              END   ,                       End of the CPU loop
 DROP   PZERO,R8
 DROP   IPCB,R4
                                   38916    6974.     *
                                   38917    6975.     * Allocate the global ASB
                                   38918    6976.     *
 005C2E 58F0 A4BE/0DEF       05ED4 38919    6977.              ACALL NEWASB                  Get the ASB
 005C34 1840                       38926    6978.              LR    RJ,RVR
 005C36 5040 6008            00008 38927    6979.              ST    RJ,DCTGASB              Save it in the DCT
 005C3A 5040 0208            00208 38928    6980.              ST    RJ,IPL.PZCURASB         And, during init, in PZERO
                                   38929    6981.     *
                                   38930    6982.     * Now that all the memory we will need has been allocated. We
                                   38931    6983.     * can try the next stuff.  We'll get back to the dispatcher in
                                   38932    6984.     * a few minutes.
                                   38933    6985.     *
 005C3E 1804                       38934    6986.              LR    RVR,RJ                  Return the global ASB addr
 005C40 981F C008            00008 38935    6987.              PEND  ,
 DROP   DCT,R6
 DROP   INITDIS1,R10
 005C44 9680 C000/0B0E 00000       38950             +
 DROP   @VMGET-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  302
0Current Usings:  (IPL.PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  38960    6989.     *
                                   38961    6990.     * Default time slices.  The number is in units of 1 millisecond.
                                   38962    6991.     *
 005C50                            38963    6992.              DS    0D
 005C50 00000000186A0000           38964    6993.     DEFSLICE DC    FL8S12E3'100'           Prio 0  100ms
 005C58 0000000009C40000           38965    6994.              DC    FL8S12E3'40'            Prio 1   40ms
 005C60 0000000004E20000           38966    6995.              DC    FL8S12E3'20'            Prio 2   20ms
 005C68 0000000002710000           38967    6996.              DC    FL8S12E3'10'            Prio 3   10ms
 005C70 0000000002710000           38968    6997.              DC    FL8S12E3'10'            Prio 4   10ms
                                   38969    6998.     *
                                   38970    6999.     * Default wait values.  The number is in units of .1 second.
                                   38971    7000.     *
 005C78 00000000186A0000           38972    7001.     DEFWAIT  DC    FL8S12E5'1'             Prio 0   0.1s
 005C80 00000000F4240000           38973    7002.              DC    FL8S12E5'10'            Prio 1   1.0s
 005C88 0000000989680000           38974    7003.              DC    FL8S12E5'100'           Prio 2  10.0s
 005C90 0000000000000000           38975    7004.              DC    FL8S12E5'0'             Prio 3   0.0s
 005C98 0000000000000000           38976    7005.              DC    FL8S12E5'0'             Prio 4   0.0s
                                   38977    7006.     *
                                   38978    7007.     * Default process time between working set manager calls (1 ms)
                                   38979    7008.     *
 005CA0 0000000003A98000           38980    7009.     DEFWSIN  DC    FL8S12E3'15'            15ms
                                   38981    7010.     *
                                   38982    7011.     * Default target for maximum working set size
                                   38983    7012.     *
 005CA8 00000064                   38984    7013.     DEFWSLM  DC    F'100'                  Maximum working set size
                                   38985    7014.     *
                                   38986    7015.     * Static layout of PZERO
                                   38987    7016.     *
 005CB0                            38988    7017.     PZPS     DS    0D                      Doubleword align
 005CB0 00080000800014AA           38989    7018.              DC    X'00080000',A(INFLIH+X'80000000') Initialization
 005CB8 0000000000000000           38990    7019.              DC    10D'0.0'
 005D08 0408000080001596           38991    7020.              DC    X'04080000',A(EXFLIH+X'80000000') External
 005D10 040800008000176C           38992    7021.              DC    X'04080000',A(SVFLIH+X'80000000') Supervisor
 005D18 04080000800018B8           38993    7022.              DC    X'04080000',A(PIFLIH+X'80000000') Program
 005D20 0408000080001B24           38994    7023.              DC    X'04080000',A(MCFLIH+X'80000000') Machine Check
 005D28 0408000080001B54           38995    7024.              DC    X'04080000',A(IOFLIH+X'80000000') I/O
                                   38996    7025.     PZPAT    EQU   PZPS,*-PZPS,C'X'
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  303
0Current Usings:  (IPL.PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  38998    7027.     *****************************************************************
                                   38999    7028.     *                                                               *
                                   39000    7029.     * INITDIS2 --  This routine finishes up the initialization of   *
                                   39001    7030.     *              the dispatcher.  It just makes sure that all     *
                                   39002    7031.     *              the necessary info is in each of the PZ's and    *
                                   39003    7032.     *              starts up all the CPU's in the configuration.    *
                                   39004    7033.     *                                                               *
                                   39005    7034.     *   Input  --  none                                             *
                                   39006    7035.     *                                                               *
                                   39007    7036.     *  Output  --  none                                             *
                                   39008    7037.     *                                                               *
                                   39009    7038.     *****************************************************************
-005D30                            39011    7040.     INITDIS2 PROC  SCOPE=LOCAL
 005D30 C9D5C9E3C4C9E2F2           39018             +
 005D38 0000/0000                  39019             +
 005D3C 900F D004/18AF       00004 39021             +
 USING  INITDIS2,R10
 005D42 50D0 C000/18CD       00000 39036             +
 005D48 9680 C000      00000       39038             +
 005D4C 41D0 C048            00048 39039             +
                                   39040    7041.     *
                                   39041    7042.     * Get our bearings
                                   39042    7043.     *
 005D50 5810 0200            00200 39043    7044.              L     RS,IPL.PZMATP           Get address of the MAT
 005D54 5860 1008            00008 39044    7045.              WITH  (MAT,RS),'L RX,MATDCT'  Get the DCT address
 USING  MAT,R1
 DROP   MAT,R1
 USING  DCT,R6                     39068    7046.              WITH  (DCT,RX)
                                   39081    7047.     *
                                   39082    7048.     * Finish setting up the control blocks for the various CPU's
                                   39083    7049.     *
 005D58 B212 0210      00210       39084    7050.              STAP  IPL.PZLCPUA             Save the CPU address
 005D5C 4840 0210            00210 39085    7051.              LH    RJ,IPL.PZLCPUA          Get the Current CPU address
                                   39086    7052.     *
                                   39087    7053.     * Loop through all the CPU's, starting them up
                                   39088    7054.     *
 005D60 5820 6170            00170 39089    7055.              L     RA,DCTIPCBS             Get the chain of IPCBs
 005D64 1222/4780 A056       05D92 39090    7056.              WHILE (RA,NZ),BEGIN
 USING  IPCB,R2                    39106  1 7057.                WITH  (IPCB,RA)
 005D6A 5890 2008            00008 39119  1 7058.                L     RN,IPCBPZ               Get the PZ for that page
 USING  PZERO,R9                   39120  1 7059.                WITH  (PZERO,RN)
                                   39133  1 7060.              $$USING PSA,PZERO+L'PZERO       Address PSA too
 005D6E B60F 93D8            00158 39134  1 7061.                STCTL 0,15,PSACTRS            Save the control register
 005D72 4940 200C            0000C 39135  1 7062.                IF    (RJ,NE,IPCBCPUA),BEGIN  It's not this one
 005D76 4780 A04E            05D8A 39147  1          +
 005D7A 4810 200C            0000C 39152  2 7063.                  LH    RS,IPCBCPUA             CPU address
 005D7E B130 9000            00000 39153  2 7064.                  LRA   RB,PZERO                Get it in real mode
 005D82 AE31 000D            0000D 39154  2 7065.                  SIGP  RB,RS,X'0D'             Set prefix
 005D86 AE31 0006            00006 39155  2 7066.                  SIGP  RB,RS,X'06'             Then restart it
 005D8A                            39156  1 7067.                END   ,
 005D8A 5820 2004            00004 39160  1 7068.                L     RA,IPCBNEXT             Get the next CPU
 005D8E 47F0 A028            05D64 39161    7069.              END   ,                       Of the CPU loop
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  304
0Current Usings:  (IPL.PZERO,R0) (DCT,R6) (INITDIS2,R10)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   PZERO,R9
 DROP   IPCB,R2
                                   39176    7070.     *
                                   39177    7071.     * Do the current CPU
                                   39178    7072.     *
 005D92 1814                       39179    7073.              LR    RS,RJ                   Copy the CPU address
 005D94 8910 0002            00002 39180    7074.              SLL   RS,2                    times 4
 005D98 5811 6174            00174 39181    7075.              L     RS,DCTIPCBT(RS)         Get the IPCB address
 USING  IPCB,R1                    39182    7076.              WITH  (IPCB,RS),BEGIN
 005D9C 5830 1008            00008 39196  1 7077.                L     RB,IPCBPZ               Get the PZ address
 USING  PZERO,R3                   39197  1 7078.                WITH  (PZERO,RB)
                                   39210  1 7079.              $$USING PSA,PZERO+L'PZERO       Address PSA too
 005DA0 B210 3318      00098       39211  1 7080.                SPX   PSAPRFXR                Set the prefix here
 DROP   PZERO,R3                   39212    7081.              END   ,
 DROP   IPCB,R1
 DROP   IPL.PZERO,R0               39225    7082.              DROP  IPL
 USING  PZERO,R0                   39233    7083.              USING PZERO,R0
 005DA4 8200 0000      00000       39242    7084.              LPSW  PZRSNPSW                Go into restart processing
 005DA8 981F C008            00008 39243    7085.              PEND  ,
 DROP   DCT,R6
 DROP   INITDIS2,R10
 005DAC 9680 C000/0B0E 00000       39258             +
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  305
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  39265    7087.     *****************************************************************
                                   39266    7088.     *                                                               *
                                   39267    7089.     * INITDIS3 --  This routine takes care of dispatcher            *
                                   39268    7090.     *              initialization that must take place under an     *
                                   39269    7091.     *              address space.   It is called first thing from   *
                                   39270    7092.     *              SYSTASK.                                         *
                                   39271    7093.     *                                                               *
                                   39272    7094.     *   Input  --  none                                             *
                                   39273    7095.     *                                                               *
                                   39274    7096.     *  Output  --  none                                             *
                                   39275    7097.     *                                                               *
                                   39276    7098.     *****************************************************************
-005DB2                            39278    7100.     INITDIS3 PROC  SCOPE=GLOBAL
 005DB2 C9D5C9E3C4C9E2F3           39284             +
 005DBA 0000/0000                  39285             +
 005DBE 900F D004/18AF       00004 39287             +
 USING  INITDIS3,R10
 005DC4 50D0 C000/18CD       00000 39302             +
 005DCA 9680 C000      00000       39304             +
 005DCE 41D0 C048            00048 39305             +
                                   39306    7101.     *
                                   39307    7102.     * Get the ASB chain lock
                                   39308    7103.     *
 005DD2 5870 0200            00200 39309    7104.              L     RY,MATPTR               Get the Mat pointer
 USING  MAT,R7                     39310    7105.              WITH  (MAT,RY)
 USING  @LOCKCRE-72,R13            39323    7106.              LKCRE ASBCHAIN                Create the lock
 005DD6 D710 D048 D048 00000 00000 39341             +
 005DDC D20F D048 A0BA 00000 05E78 39347             +
 005DE2 58F0 A0FE/0DEF       05EBC 39350             +
 005DE8 5000 70B0            000B0 39352    7107.              ST    RVR,MATASBL             Save the lock id
                                   39353    7108.     *
                                   39354    7109.     * Free any remaining V=R area so the pages may be reused.
                                   39355    7110.     *
 005DEC 5860 7008            00008 39356    7111.              L     RX,MATDCT               Get the DCT address
 USING  DCT,R6                     39357    7112.              WITH  (DCT,RX)
 DROP   @LOCKCRE-72,R13            39370    7113.              VMFREE L:DCTVRLEN,A=L:DCTVRST,LOC=GLOBLO,FIX=YES,FETP=YES
 USING  @VMFREE-72,R13
 005DF0 D709 D048 D048 00000 00000 39397             +
 005DF6 D203 D04C 61BC 00004 001BC 39402             +
 005DFC D203 D048 61B8 00000 001B8 39407             +
 005E02 D201 D050 A126 00008 05EE4 39408             +
 005E08 58F0 A11A/0DEF       05ED8 39411             +
 005E0E 1200/4780 A086       05E44 39413    7114.              IF    (RVR,NZ),'ABORT FREEVR'
 005E14 AC04 021B      0021B       39431  1          +
 005E18 9680 021A      0021A       39437  1          +
 005E1C 50F0 021C            0021C 39438  1          +
 005E20 58F0 0210            00210 39439  1          +
 005E24 89F0 0010            00010 39440  1          +
 005E28 88F0 0010            00010 39441  1          +
 005E2C 41F0 F000            00000 39442  1          +
 005E30 AEFF 0006            00006 39443  1          +
 005E34 C6D9C5C5E5D94040           39444             +
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  306
0Current Usings:  (PZERO,R0) (@VMFREE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0005E44 981F C008            00008 39449    7115.              PEND  ,
 DROP   DCT,R6
 DROP   MAT,R7
 DROP   INITDIS3,R10
 005E48 9680 C000/0B0E 00000       39469             +
 DROP   @VMFREE-72,R13
1DISPATCH (DISP00) (09:38) (22MAR04) Initialization                                                                         Page  307
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.38
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0005E50                            39479    7117.              LTORG ,
 005E50 E3D6D9E5E8D34040           39481                             =CL8'TORVYL'
 005E58 000000000C350000           39482                             =FL8S12E3'50'
 005E60 C4C9E2D7C1E3C3C8           39483                             =CL16'DISPATCH'
 005E70 00FFFFFFFFFFFFFF           39484                             =X'00FFFFFFFFFFFFFF'
 005E78 C1E2C2C3C8C1C9D5           39485                             =CL16'ASBCHAIN'
 005E88 00000000                   39486                             =V(VMINIT1)
 005E8C 00000000                   39487                             =V(LKINIT)
 005E90 00000000                   39488                             =V(IOSINIT)
 005E94 00005A16                   39489                             =A(INITDIS1)
 005E98 00000000                   39490                             =V(PAGINIT)
 005E9C 00000000                   39491                             =V(VMINIT2)
 005EA0 00005D3C                   39492                             =A(INITDIS2)
 005EA4 00000000                   39493                             =V(VMGET)
 005EA8 C4C3E340                   39494                             =CL4'DCT'
 005EAC 000057D8                   39495                             =A(RDPARMS)
 005EB0 070C0000                   39496                             =X'070C0000'
 005EB4 00000000                   39497                             =V(SYSTASK)
 005EB8 00002ABC                   39498                             =A(ACREATE)
 005EBC 00000000                   39499                             =V(LKCRE)
 005EC0 7FFFF000                   39500                             =X'7FFFF000'
 005EC4 00010000                   39501                             =A(16*4096)
 005EC8 00000011                   39502                             =X'00000011'
 005ECC C9D7C3C2                   39503                             =C'IPCB'
 005ED0 80000000                   39504                             =X'80000000'
 005ED4 000039B0                   39505                             =A(NEWASB)
 005ED8 00000000                   39506                             =V(VMFREE)
 005EDC 3F00                       39507                             =Y(63*256+0)
 005EDE FFFF                       39508                             =H'-1'
 005EE0 1000                       39509                             =Y(4096)
 005EE2 02F8                       39510                             =Y(PSAKDISP-PSA+L'PZERO)
 005EE4 2E00           05EE6 05F38 39511                             =Y(46*256+0)
 005EE6 0000/00000013              39515    7118.              XTRCDATA  ,                   Generate the trace info
 005EEC 00000838                   39518             +
 005EF0 0000084C                   39519             +
 005EF4 00000860                   39520             +
 005EF8 00001414                   39521             +
 005EFC 00001428                   39522             +
 005F00 00002324                   39523             +
 005F04 00002344                   39524             +
 005F08 00002358                   39525             +
 005F0C 0000236C                   39526             +
 005F10 00002380                   39527             +
 005F14 00002394                   39528             +
 005F18 000023A8                   39529             +
 005F1C 000023BC                   39530             +
 005F20 000036F8                   39531             +
 005F24 0000370C                   39532             +
 005F28 00004C8C                   39533             +
 005F2C 00004CA0                   39534             +
 005F30 00005508                   39535             +
 005F34 0000551C                   39536             +
 005F38                05F38 05F38 39537    7119.              END   .

1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  308
-Symbol   Length   Value     Id    R Type   Defn References                                  HLASM R4.0  2004/03/22 09.38
0$$$@R0        1 00000000 FFFFFFFE     J     714  1010
 $$$@R1        1 00000000 FFFFFFFD     J     727  1022
 $$$@R10       1 00000000 FFFFFFF4     J     844  1142
 $$$@R11       1 00000000 FFFFFFF3     J     857  1154
 $$$@R12       1 00000000 FFFFFFF2     J     870  1166
 $$$@R13       1 00000000 FFFFFFF1     J     883  1178
 $$$@R14       1 00000000 FFFFFFF0     J     896  1190
 $$$@R15       1 00000000 FFFFFFEF     J     909  1202
 $$$@R2        1 00000000 FFFFFFFC     J     740  1034
 $$$@R3        1 00000000 FFFFFFFB     J     753  1046
 $$$@R4        1 00000000 FFFFFFFA     J     766  1058
 $$$@R5        1 00000000 FFFFFFF9     J     779  1070
 $$$@R6        1 00000000 FFFFFFF8     J     792  1082
 $$$@R7        1 00000000 FFFFFFF7     J     805  1094
 $$$@R8        1 00000000 FFFFFFF6     J     818  1106
 $$$@R9        1 00000000 FFFFFFF5     J     831  1118   1130
 $$$C1DISPATCH
               1 00000872 00000001     J    7573  7575   8096   8115   9201   9222  10432  10535
 $$$C10DISPATCH
               1 0000597F 00000001     J   38045 38047
 $$$C11DISPATCH
               1 00005EE6 00000001     J   39512 39514
 $$$C12DISPATCH
               1 00005F38 00000001     J   39540 39542
 $$$C2DISPATCH
               1 0000143A 00000001     J   11970 11972  12436  12601  12620  12672  12691  12997  13088  13391  13556
                                                 14157  14286  14552  14894  14913  15918
 $$$C3DISPATCH
               1 000023D4 00000001     J   16760 16762
 $$$C4DISPATCH
               1 00002AAF 00000001     J   19634 19636  20872  21613  21709  22570  23895  23914
 $$$C5DISPATCH
               1 00003724 00000001     J   24328 24330  24650
 $$$C6DISPATCH
               1 00003D9E 00000001     J   26914 26916  26950  28228
 $$$C7DISPATCH
               1 00004252 00000001     J   28692 28694  32315  32443
 $$$C8DISPATCH
               1 00004CB2 00000001     J   33127 33129  33812  34026  34666  36276
 $$$C9DISPATCH
               1 0000552E 00000001     J   36458 36460  36579  37528
 $$$D0DISPATCH
               1 0000082C 00000001     J    1221  4442   4460   5856   5874   6559   6784   7044
 $$$D1DISPATCH
               1 00001414 00000001     J    7574 10420  10523
 $$$D2DISPATCH
               1 00002324 00000001     J   11971 12424  12591  12609  12662  12680  12985  13076  13379  13544  14145
                                                 14274  14540  14884  14902
 $$$D4DISPATCH
               1 000036F7 00000001     J   19635 20860  21601  23885  23903
 $$$D7DISPATCH
               1 00004C8A 00000001     J   28693 32303  32431
 $$$D8DISPATCH
               1 00005508 00000001     J   33128 33800  34014
 $$$R#ASWAKE
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  309
               1 00000000 FFFFFFA3     J    8082  8095   8095
 $$$R@ACREATE
               1 00000000 FFFFFFE4     J    1682  1695   1695
 $$$R@ASWAKE
               1 00000000 FFFFFFA2     J    8101  8114   8114
 $$$R@AWAIT
               1 00000000 FFFFFFEB     J    1479  1501   1501
 $$$R@CPCNCK
               1 00000000 FFFFFFD4     J    2095  2110   2110
 $$$R@CPSET
               1 00000000 FFFFFFD5     J    2070  2085   2085
 $$$R@DEMOTE
               1 00000000 FFFFFF9D     J   22556 22569  22569
 $$$R@DISPPIOC
               1 00000000 FFFFFFE9     J    1548  1561   1561
 $$$R@DISPSIOC
               1 00000000 FFFFFFE8     J    1567  1580   1580
 $$$R@DISPSWP
               1 00000000 FFFFFFE5     J    1659  1672   1672
 $$$R@DSPSTAT
               1 00000000 FFFFFFD9     J    1953  1969   1969
 $$$R@EXRADD
               1 00000000 FFFFFFBC     J    2783  2813   2813
 $$$R@EXRDEL
               1 00000000 FFFFFFBB     J    2823  2836   2836
 $$$R@EXRDONE
               1 00000000 FFFFFFBA     J    2846  2882   2882
 $$$R@GCBDEL
               1 00000000 FFFFFF9C     J   24636 24649  24649
 $$$R@IOSASC
               1 00000000 FFFFFFD0     J    2196  2209   2209
 $$$R@IPLPARM
               1 00000000 FFFFFFCA     J    2361  2378   2378
 $$$R@LOCKCRE
               1 00000000 FFFFFFD2     J    2148  2170   2170
 $$$R@LOCKS
               1 00000000 FFFFFFD1     J    2176  2189   2189
 $$$R@MONSET
               1 00000000 FFFFFFDA     J    1930  1943   1943
 $$$R@PAGASC1
               1 00000000 FFFFFFC4     J    2556  2570   2570
 $$$R@PAGASC2
               1 00000000 FFFFFFC3     J    2576  2590   2590
 $$$R@PAGDEF
               1 00000000 FFFFFFC6     J    2496  2523   2523
 $$$R@PAGE
               1 00000000 FFFFFFC2     J    2596  2612   2612
 $$$R@PAGINIT
               1 00000000 FFFFFFBF     J    2658  2672   2672
 $$$R@PAGINTV
               1 00000000 FFFFFFC0     J    2639  2652   2652
 $$$R@PAGRV
               1 00000000 FFFFFFC1     J    2618  2633   2633
 $$$R@PAGSEGD
               1 00000000 FFFFFFC5     J    2529  2550   2550
 $$$R@PAGSWADV
               1 00000000 FFFFFFC8     J    2447  2460   2460
 $$$R@PAGSWAP
               1 00000000 FFFFFFC9     J    2393  2441   2441
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  310
 $$$R@PAGWSMA
               1 00000000 FFFFFFC7     J    2466  2490   2490
 $$$R@PARMDO
               1 00000000 FFFFFFBE     J    2685  2701   2701
 $$$R@PERSET
               1 00000000 FFFFFFDB     J    1907  1920   1920
 $$$R@RESUME
               1 00000000 FFFFFFE6     J    1634  1649   1649
 $$$R@RTCNCK
               1 00000000 FFFFFFD7     J    2020  2035   2035
 $$$R@RTSET
               1 00000000 FFFFFFD8     J    1986  2010   2010
 $$$R@SIGNAL
               1 00000000 FFFFFFEA     J    1512  1532   1532
 $$$R@STKDEL
               1 00000000 FFFFFF98     J   36262 36275  36275
 $$$R@SUSPEND
               1 00000000 FFFFFFE7     J    1590  1624   1624
 $$$R@SYSRDEL
               1 00000000 FFFFFFDE     J    1835  1848   1848
 $$$R@SYSRDO
               1 00000000 FFFFFFDD     J    1858  1874   1874
 $$$R@SYSRNEW
               1 00000000 FFFFFFDF     J    1813  1826   1826
 $$$R@SYSRTN
               1 00000000 FFFFFFDC     J    1884  1897   1897
 $$$R@TCLUP
               1 00000000 FFFFFF99     J   34652 34665  34665
 $$$R@TCREATE
               1 00000000 FFFFFFE3     J    1705  1734   1734
 $$$R@TENTRY
               1 00000000 FFFFFFE1     J    1767  1780   1780
 $$$R@TEXIT
               1 00000000 FFFFFFE0     J    1790  1803   1803
 $$$R@TREMOVE
               1 00000000 FFFFFFE2     J    1744  1757   1757
 $$$R@UPDPRIO
               1 00000000 FFFFFFA1     J    9178  9200   9200
 $$$R@VMCRAS
               1 00000000 FFFFFFCB     J    2334  2347   2347
 $$$R@VMFREE
               1 00000000 FFFFFFCE     J    2257  2272   2272
 $$$R@VMGET
               1 00000000 FFFFFFCF     J    2222  2251   2251
 $$$R@VMINFO
               1 00000000 FFFFFFCD     J    2278  2293   2293
 $$$R@VMIPARM
               1 00000000 FFFFFFCC     J    2306  2323   2323
 $$$R@XITDATA
               1 00000000 FFFFFFB3     J    3168  3181   3181
 $$$R@XITDEL
               1 00000000 FFFFFFB8     J    2923  2936   2936
 $$$R@XITDO
               1 00000000 FFFFFFB7     J    2945  2962   2962
 $$$R@XITGPST
               1 00000000 FFFFFFB6     J    2973  2988   2988
 $$$R@XITMASK
               1 00000000 FFFFFFB5     J    2998  3045   3045
 $$$R@XITNEW
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  311
               1 00000000 FFFFFFB9     J    2892  2913   2913
 $$$RASB       1 00000000 FFFFFFEC     J    1416  1467   1467
 $$$RASDB      1 00000000 FFFFFFAA     J    3710  3831   3831
 $$$RCPEXIT
               1 00000000 FFFFFFD3     J    2120  2135   2135
 $$$RCPTQ      1 00000000 FFFFFFA4     J    4180  4198   4198
 $$$RCPWA      1 00000000 FFFFFF9F     J   15903 15917  15917
 $$$RDCT       1 00000000 FFFFFFAC     J    3554  3632   3632
 $$$RDSPSWA
               1 00000000 FFFFFF97     J   36565 36578  36578
 $$$RERB       1 00000000 FFFFFFA6     J    4048  4125   4125
 $$$RESB       1 00000000 FFFFFFA7     J    3986  4033   4033
 $$$RIPCB      1 00000000 FFFFFFAB     J    3649  3685   3685
 $$$RLTDWA
               1 00000000 FFFFFF9E     J   21696 21708  21708
 $$$RMAT       1 00000000 FFFFFFED     J    1350  1409   1409
 $$$RPARMIN
               1 00000000 FFFFFFBD     J    2707  2765   2765
 $$$RPQPARM
               1 00000000 FFFFFF9B     J   26935 26949  26949
 $$$RPSA       1 00000000 FFFFFFAD     J    3447  3539   3539
 $$$RPZERO
               1 00000000 FFFFFFEE     J    1236  1327   1327
 $$$RRDPWA
               1 00000000 FFFFFF96     J   37511 37527  37527
 $$$RRTCQ      1 00000000 FFFFFFA5     J    4138  4167   4167
 $$$RRTEXIT
               1 00000000 FFFFFFD6     J    2045  2060   2060
 $$$RSEXITMC
               1 00000000 FFFFFFAE     J    3301  3316   3316
 $$$RSEXITPER
               1 00000000 FFFFFFAF     J    3276  3291   3291
 $$$RSEXITPI
               1 00000000 FFFFFFB0     J    3251  3266   3266
 $$$RSEXITSVC
               1 00000000 FFFFFFB1     J    3227  3241   3241
 $$$RSTDB      1 00000000 FFFFFFA8     J    3955  3972   3972
 $$$RTDB       1 00000000 FFFFFFA9     J    3850  3939   3939
 $$$RTQPARM
               1 00000000 FFFFFF9A     J   28214 28227  28227
 $$$RUPPWA
               1 00000000 FFFFFFA0     J    9206  9221   9221
 $$$RXITMSKD
               1 00000000 FFFFFFB4     J    3071  3158   3158
 $$$RXITSAREA
               1 00000000 FFFFFFB2     J    3191  3207   3207
 $$$TR$0       4 00000838 00000001     A    6563  6557   6563  39518
 $$$TR$1       4 0000084C 00000001     A    6788  6782   6788  39519
 $$$TR$10      4 00002394 00000001     A   14149 14143  14149  39528
 $$$TR$11      4 000023A8 00000001     A   14278 14272  14278  39529
 $$$TR$12      4 000023BC 00000001     A   14544 14538  14544  39530
 $$$TR$13      4 000036F8 00000001     A   20864 20858  20864  39531
 $$$TR$14      4 0000370C 00000001     A   21605 21599  21605  39532
 $$$TR$15      4 00004C8C 00000001     A   32307 32301  32307  39533
 $$$TR$16      4 00004CA0 00000001     A   32435 32429  32435  39534
 $$$TR$17      4 00005508 00000001     A   33804 33798  33804  39535
 $$$TR$18      4 0000551C 00000001     A   34018 34012  34018  39536
 $$$TR$2       4 00000860 00000001     A    7048  7042   7048  39520
 $$$TR$3       4 00001414 00000001     A   10424 10418  10424  39521
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  312
 $$$TR$4       4 00001428 00000001     A   10527 10521  10527  39522
 $$$TR$5       4 00002324 00000001     A   12428 12422  12428  39523
 $$$TR$6       4 00002344 00000001     A   12989 12983  12989  39524
 $$$TR$7       4 00002358 00000001     A   13080 13074  13080  39525
 $$$TR$8       4 0000236C 00000001     A   13383 13377  13383  39526
 $$$TR$9       4 00002380 00000001     A   13548 13542  13548  39527
 $$$100S       2 0000077A 00000001     H    7381  7397B
 $$$103F       2 000007EA 00000001     H    7525  7417B
 $$$103S       2 00000782 00000001     H    7411  7524B
 $$$105F       2 000007E4 00000001     H    7514  7488B
 $$$107F       2 000008D2 00000001     H    7670  7632B  7644B
 $$$110F       2 0000094A 00000001     H    7810  7784B
 $$$111F       2 00000964 00000001     H    7858  7823B
 $$$112F       2 00000964 00000001     H    7854  7838B
 $$$114F       2 00000A10 00000001     H    8059  7998B
 $$$116F       2 00000A10 00000001     H    8050  8024B
 $$$116T       2 000009E0 00000001     H    8027  8014B
 $$$118F       2 00000C2C 00000001     H    9150  8237B
 $$$119F       2 00000A78 00000001     H    8206  8180B
 $$$121F       2 00000C04 00000001     H    9053  8307B  8348B  8697B
 $$$122F       2 00000ABC 00000001     H    8351  8320B  8333B
 $$$126F       2 00000B64 00000001     H    8706  8372B
 $$$127F       2 00000B1E 00000001     H    8588  8555B
 $$$127S       2 00000B02 00000001     H    8549  8587B
 $$$129F       2 00000B16 00000001     H    8582  8572B
 $$$130F       2 00000B60 00000001     H    8694  8606B
 $$$131B       4 00000B2C 00000001     I    8623  8640
 $$$131F       2 00000B34 00000001     H    8637  8623B  8639
 $$$132E       2 00000B38 00000001     H    8647  8641
 $$$132F       2 00000B60 00000001     H    8690  8643B
 $$$133F       2 00000B60 00000001     H    8686  8659B
 $$$134F       2 00000C04 00000001     H    9049  8725B
 $$$135F       2 00000BC4 00000001     H    8901  8883B
 $$$136F       2 00000C04 00000001     H    9037  9019B
 $$$136T       2 00000C00 00000001     H    9022  9007B
 $$$138F       2 00000C2C 00000001     H    9126  9090B
 $$$139F       2 00000C2C 00000001     H    9122  9106B
 $$$141F       2 00000C94 00000001     H    9326  9300B
 $$$142B       4 00000C9C 00000001     I    9354  9406
 $$$142F       2 00000CD0 00000001     H    9403  9354B  9405
 $$$143F       2 00000CB2 00000001     H    9388  9370B
 $$$144E       2 00000CD4 00000001     H    9413  9407
 $$$144F       2 00000D2E 00000001     H    9487  9409B
 $$$145F       2 00000D16 00000001     H    9474  9447B  9463B
 $$$145S       2 00000CF8 00000001     H    9438  9473B
 $$$149F       2 00000DB2 00000001     H    9618  9593B
 $$$15F        2 00000314 00000001     H    5701  4744B
 $$$151B       4 00000E12 00000001     I    9824  9876
 $$$151F       2 00000E30 00000001     H    9873  9824B  9875
 $$$152S       2 00000E1A 00000001     H    9837  9854B
 $$$155E       2 00000E34 00000001     H    9883  9877
 $$$155F       2 00000EAC 00000001     H   10126  9879B
 $$$156B       4 00000E3C 00000001     I    9915  9999
 $$$156F       2 00000E7A 00000001     H    9996  9915B  9998
 $$$157F       2 00000E50 00000001     H    9954  9939B
 $$$158F       2 00000E70 00000001     H    9990  9968B
 $$$159E       2 00000E7E 00000001     H   10006 10000
 $$$159F       2 00000EAC 00000001     H   10110 10002B
 $$$16F        2 00000052 00000001     H    4268  4256B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  313
 $$$160F       2 00000E9C 00000001     H   10089 10074B
 $$$161F       2 0000101C 00000001     H   10571 10219B 10271B
 $$$163F       2 00000EF4 00000001     H   10274 10257B
 $$$165F       2 00000F3A 00000001     H   10343 10304B 10317B
 $$$168F       2 00000FB8 00000001     H   10477 10461B
 $$$168T       2 00000FB2 00000001     H   10464 10451B
 $$$17F        2 0000007E 00000001     H    4373  4279B
 $$$170F       2 00000FF2 00000001     H   10517 10491B
 $$$173S       2 0000104E 00000001     H   10645 10663B
 $$$177F       2 000010C8 00000001     H   10823 10797B
 $$$178S       2 000010CC 00000001     H   10832 10883B
 $$$179F       2 00001106 00000001     H   10868 10842B
 $$$18F        2 0000007E 00000001     H    4369  4291B
 $$$182F       2 00001144 00000001     H   11024 10901B
 $$$183F       2 00001128 00000001     H   10948 10933B
 $$$184F       2 00001144 00000001     H   11010 10992B
 $$$184T       2 00001140 00000001     H   10995 10980B
 $$$188F       2 000011EC 00000001     H   11231 11205B
 $$$189F       2 0000122A 00000001     H   11293 11267B
 $$$190S       2 0000122E 00000001     H   11315 11367B
 $$$191F       2 00001268 00000001     H   11351 11325B
 $$$194F       2 00001280 00000001     H   11412 11385B
 $$$196F       2 000012F4 00000001     H   11565 11539B
 $$$196T       2 000012C4 00000001     H   11542 11528B
 $$$198B       4 00001302 00000001     I   11605 11789
 $$$198F       2 00001370 00000001     H   11786 11605B 11788
 $$$199F       2 00001370 00000001     H   11782 11620B
 $$$20F        2 000000B4 00000001     H    4482  4429B
 $$$200F       2 00001370 00000001     H   11778 11645B
 $$$201B       4 0000131E 00000001     I   11663 11686
 $$$201F       2 00001330 00000001     H   11683 11663B 11685
 $$$202E       2 00001334 00000001     H   11693 11687
 $$$202F       2 0000133E 00000001     H   11704 11689B
 $$$203F       2 00001370 00000001     H   11774 11752B
 $$$204E       2 00001374 00000001     H   11796 11790
 $$$204F       2 0000139A 00000001     H   11900 11792B
 $$$205F       2 0000139A 00000001     H   11896 11815B 11876B
 $$$205S       2 00001378 00000001     H   11809 11895B
 $$$207F       2 00001392 00000001     H   11880 11859B
 $$$209B       1 00001446 00000001     X   11997 12004U
 $$$21         4 0000082E 00000001     I    4466  4458X
 $$$210F       2 000014A6 00000001     H   12135 12017B
 $$$211B       4 00001462 00000001     I   12050 12080
 $$$211F       2 00001476 00000001     H   12076 12050B 12079
 $$$211T       2 00001466 00000001     H   12053 12039B
 $$$213E       2 0000147A 00000001     H   12087 12081
 $$$213F       2 0000149A 00000001     H   12128 12083B
 $$$215B       1 000014AC 00000001     X   12175 12182U
 $$$216F       2 000014F8 00000001     H   12247 12236B
 $$$217F       2 0000153A 00000001     H   12301 12289B
 $$$218F       2 00001574 00000001     H   12341 12315B
 $$$22         4 0000082E 00000001     I    4465  4466   4466
 $$$220B       1 000015B2 00000001     X   12409 12416U
 $$$222F       2 000015DA 00000001     H   12459 12447B
 $$$223F       2 00001614 00000001     H   12496 12471B
 $$$224F       2 00001696 00000001     H   12712 12524B
 $$$225F       2 00001640 00000001     H   12567 12553B
 $$$226F       2 0000166C 00000001     H   12638 12578B
 $$$227        4 00002338 00000001     I   12615 12607X
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  314
 $$$228        4 00002338 00000001     I   12614 12615  12615
 $$$229F       2 00001696 00000001     H   12703 12649B
 $$$23F        2 000000EE 00000001     H    4613  4591B
 $$$23T        2 000000E4 00000001     H    4594  4565B  4579B
 $$$230        4 0000233E 00000001     I   12686 12678X
 $$$231        4 0000233E 00000001     I   12685 12686  12686
 $$$232F       2 000016A6 00000001     H   12745 12729B
 $$$233F       2 000016B6 00000001     H   12778 12762B
 $$$234F       2 000016C2 00000001     H   12810 12795B
 $$$235B       4 000016C6 00000001     I   12824 12843
 $$$235F       2 000016D0 00000001     H   12840 12824B 12842
 $$$236E       2 000016D4 00000001     H   12850 12844
 $$$236F       2 000016EC 00000001     H   12914 12846B
 $$$237F       2 000016EC 00000001     H   12905 12877B 12889B
 $$$239F       2 00001708 00000001     H   12939 12927B
 $$$240F       2 00001742 00000001     H   12979 12953B
 $$$243B       1 00001782 00000001     X   13060 13067U
 $$$245F       2 000017CE 00000001     H   13126 13101B
 $$$246F       2 00001824 00000001     H   13216 13152B
 $$$247F       2 00001824 00000001     H   13207 13181B
 $$$248B       4 0000182E 00000001     I   13240 13259
 $$$248F       2 00001838 00000001     H   13256 13240B 13258
 $$$249E       2 0000183C 00000001     H   13266 13260
 $$$249F       2 00001854 00000001     H   13330 13262B
 $$$250F       2 00001854 00000001     H   13321 13293B 13305B
 $$$252F       2 0000188E 00000001     H   13373 13347B
 $$$255B       1 000018BE 00000001     X   13447 13454U
 $$$256F       2 000018F8 00000001     H   13521 13477B
 $$$258F       2 00001964 00000001     H   13595 13570B
 $$$259F       2 000019AC 00000001     H   13657 13615B
 $$$26F        2 00000122 00000001     H    4752  4651B
 $$$260F       2 000019AC 00000001     H   13653 13627B
 $$$261F       2 000019D0 00000001     H   13729 13692B
 $$$261T       2 000019C4 00000001     H   13695 13680B
 $$$264F       2 00001A14 00000001     H   13807 13743B
 $$$265F       2 00001A14 00000001     H   13798 13772B
 $$$266F       2 00001A7E 00000001     H   13928 13823B
 $$$267F       2 00001A3C 00000001     H   13877 13844B
 $$$268F       2 00001A74 00000001     H   13914 13888B
 $$$269B       4 00001A82 00000001     I   13944 13965
 $$$269F       2 00001A8C 00000001     H   13962 13944B 13964
 $$$27F        2 00000122 00000001     H    4748  4704B
 $$$270E       2 00001A90 00000001     H   13972 13966
 $$$270F       2 00001A96 00000001     H   13990 13968B
 $$$271B       4 00001A9A 00000001     I   14006 14025
 $$$271F       2 00001AA4 00000001     H   14022 14006B 14024
 $$$272E       2 00001AA8 00000001     H   14032 14026
 $$$272F       2 00001AC0 00000001     H   14096 14028B
 $$$273F       2 00001AC0 00000001     H   14087 14059B 14071B
 $$$275F       2 00001AFA 00000001     H   14139 14113B
 $$$279B       1 00001B70 00000001     X   14259 14266U
 $$$28F        2 0000015E 00000001     H    4875  4778B  4791B
 $$$281F       2 00001B98 00000001     H   14309 14297B
 $$$282F       2 00001BD2 00000001     H   14346 14321B
 $$$283B       4 00001BEE 00000001     I   14379 14398
 $$$283F       2 00001BF8 00000001     H   14395 14379B 14397
 $$$284E       2 00001BFC 00000001     H   14405 14399
 $$$284F       2 00001C14 00000001     H   14469 14401B
 $$$285F       2 00001C14 00000001     H   14460 14432B 14444B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  315
 $$$287F       2 00001C30 00000001     H   14494 14482B
 $$$288F       2 00001C6A 00000001     H   14534 14508B
 $$$291F       2 00001CF0 00000001     H   14682 14656B
 $$$292S       2 00001D0C 00000001     H   14705 14722B
 $$$295S       2 00001D1C 00000001     H   14736 14753B
 $$$298S       2 00001D68 00000001     H   14829 14867B
 $$$299F       2 00001D74 00000001     H   14852 14839B
 $$$30F        2 00000146 00000001     H    4826  4808B
 $$$302        4 000023D0 00000001     I   14908 14900X
 $$$303        4 000023D0 00000001     I   14907 14908  14908
 $$$304S       2 00001D9E 00000001     H   14929 14980B
 $$$305F       2 00001DD8 00000001     H   14965 14939B
 $$$308F       2 00001E00 00000001     H   15065 15047B
 $$$308T       2 00001DFC 00000001     H   15050 15035B
 $$$31F        2 0000015E 00000001     H    4868  4858B
 $$$311F       2 00001E94 00000001     H   15266 15240B
 $$$313F       2 00001F20 00000001     H   15463 15437B
 $$$315F       2 00001FA8 00000001     H   15659 15633B
 $$$317F       2 0000203C 00000001     H   15857 15831B
 $$$319F       2 00002096 00000001     H   16039 16028B
 $$$32F        2 00000190 00000001     H    4982  4891B
 $$$320F       2 000020AE 00000001     H   16067 16052B
 $$$321F       2 0000211E 00000001     H   16217 16076B
 $$$322F       2 00002102 00000001     H   16143 16110B
 $$$323F       2 0000211E 00000001     H   16208 16190B
 $$$323T       2 0000211A 00000001     H   16193 16178B
 $$$325F       2 00002190 00000001     H   16378 16229B
 $$$326F       2 00002190 00000001     H   16374 16298B
 $$$327S       2 0000214E 00000001     H   16314 16365B
 $$$328F       2 00002188 00000001     H   16350 16324B
 $$$33F        2 00000176 00000001     H    4926  4908B
 $$$331F       2 000021A4 00000001     H   16403 16393B
 $$$333F       2 0000222E 00000001     H   16621 16559B 16573B
 $$$333S       2 000021EE 00000001     H   16553 16620B
 $$$336B       4 00002230 00000001     I   16636 16648
 $$$336F       2 00002238 00000001     H   16645 16636B 16647
 $$$337E       2 0000223C 00000001     H   16655 16649
 $$$337F       2 00002240 00000001     H   16661 16651B
 $$$339B       4 00002430 00000001     I   16919 16960
 $$$339F       2 00002454 00000001     H   16957 16919B 16959
 $$$34F        2 0000024C 00000001     H    5299  5001B  5014B  5027B
 $$$340F       2 0000244C 00000001     H   16951 16941B
 $$$341E       2 00002458 00000001     H   16967 16961
 $$$341F       2 0000245E 00000001     H   16973 16963B
 $$$342F       2 0000248E 00000001     H   17064 17017B 17045B
 $$$342S       2 00002472 00000001     H   17009 17063B
 $$$345F       2 000024D0 00000001     H   17146 17099B
 $$$347F       2 0000256C 00000001     H   17413 17293B 17314B 17335B
 $$$351B       4 00002536 00000001     I   17357 17375
 $$$351F       2 00002540 00000001     H   17372 17357B 17374
 $$$352E       2 00002544 00000001     H   17382 17376
 $$$352F       2 0000255A 00000001     H   17394 17378B
 $$$354F       2 0000260A 00000001     H   17747 17580B 17601B 17622B 17730B
 $$$358F       2 000025F8 00000001     H   17716 17645B 17664B
 $$$358S       2 000025DC 00000001     H   17637 17715B
 $$$362F       2 00002680 00000001     H   17906 17774B
 $$$363B       4 0000262A 00000001     I   17795 17813
 $$$363F       2 00002634 00000001     H   17810 17795B 17812
 $$$364E       2 00002638 00000001     H   17820 17814
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  316
 $$$364F       2 0000264E 00000001     H   17832 17816B
 $$$367F       2 00002788 00000001     H   18394 18264B
 $$$367S       2 00002740 00000001     H   18256 18393B
 $$$369B       4 00002750 00000001     I   18295 18307
 $$$369F       2 00002758 00000001     H   18304 18295B 18306
 $$$37F        2 000001BC 00000001     H    5062  5044B
 $$$370E       2 0000275C 00000001     H   18314 18308
 $$$370F       2 00002784 00000001     H   18384 18310B
 $$$372B       4 000027CC 00000001     I   18542 18603
 $$$372F       2 000027F0 00000001     H   18600 18542B 18602
 $$$373E       2 000027F4 00000001     H   18610 18604
 $$$373F       2 000027FE 00000001     H   18618 18606B
 $$$374F       2 0000284E 00000001     H   18711 18664B 18692B
 $$$374S       2 00002832 00000001     H   18656 18710B
 $$$377F       2 00002866 00000001     H   18741 18732B
 $$$379F       2 000028E8 00000001     H   18973 18883B 18904B
 $$$38F        2 00000236 00000001     H    5241  5077B
 $$$382B       4 000028C2 00000001     I   18927 18939
 $$$382F       2 000028C8 00000001     H   18936 18927B 18938
 $$$383E       2 000028CC 00000001     H   18946 18940
 $$$383F       2 000028D2 00000001     H   18953 18942B
 $$$385F       2 00002970 00000001     H   19265 19119B 19140B 19248B
 $$$388F       2 0000295E 00000001     H   19234 19163B 19182B
 $$$388S       2 00002942 00000001     H   19155 19233B
 $$$39F        2 0000021C 00000001     H    5172  5096B
 $$$392F       2 000029BE 00000001     H   19347 19278B
 $$$393B       4 00002984 00000001     I   19300 19312
 $$$393F       2 0000298A 00000001     H   19309 19300B 19311
 $$$394E       2 0000298E 00000001     H   19319 19313
 $$$394F       2 00002994 00000001     H   19326 19315B
 $$$396F       2 00002A46 00000001     H   19546 19467B 19487B
 $$$396S       2 000029F2 00000001     H   19461 19545B
 $$$399B       4 00002A48 00000001     I   19559 19571
 $$$399F       2 00002A52 00000001     H   19568 19559B 19570
 $$$40S        2 000001DA 00000001     H    5112  5163B
 $$$400E       2 00002A56 00000001     H   19578 19572
 $$$400F       2 00002A5C 00000001     H   19584 19574B
 $$$402B       4 00002BAE 00000001     I   19917 20042
 $$$402F       2 00002BEA 00000001     H   20039 19917B 20041
 $$$403E       2 00002BEE 00000001     H   20049 20043
 $$$403F       2 00002C0A 00000001     H   20106 20045B
 $$$405F       2 00002CA0 00000001     H   20355 20329B
 $$$406F       2 00002D48 00000001     H   20592 20554B
 $$$407F       2 00002D62 00000001     H   20632 20604B
 $$$408S       2 00002D66 00000001     H   20654 20705B
 $$$409F       2 00002DA0 00000001     H   20690 20664B
 $$$41F        2 00000214 00000001     H    5148  5122B
 $$$414F       2 00002E04 00000001     H   20919 20899B
 $$$414S       2 00002DEC 00000001     H   20882 20915B
 $$$417F       2 00002E3E 00000001     H   20959 20933B
 $$$418F       2 00002EC4 00000001     H   21117 21089B 21106B
 $$$418S       2 00002EAC 00000001     H   21081 21116B
 $$$421F       2 00002EFA 00000001     H   21156 21130B
 $$$422F       2 00002F98 00000001     H   21435 21367B 21384B
 $$$422S       2 00002F80 00000001     H   21359 21434B
 $$$425F       2 00002FCE 00000001     H   21471 21445B
 $$$426F       2 00003046 00000001     H   21595 21569B
 $$$428F       2 0000323A 00000001     H   22523 22247B
 $$$429F       2 00003180 00000001     H   22179 21810B 21870B 21983B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  317
 $$$429S       2 000030A2 00000001     H   21793 22178B
 $$$431F       2 000030CC 00000001     H   21874 21862B
 $$$432S       2 0000310A 00000001     H   21994 22011B
 $$$435F       2 000031B2 00000001     H   22231 22199B 22221B
 $$$435S       2 0000318E 00000001     H   22193 22230B
 $$$437F       2 000031AA 00000001     H   22225 22211B
 $$$439F       2 0000323A 00000001     H   22499 22278B
 $$$439S       2 000031C4 00000001     H   22269 22498B
 $$$44F        2 00000236 00000001     H    5237  5187B
 $$$441F       2 00003202 00000001     H   22392 22302B 22316B
 $$$441S       2 000031D6 00000001     H   22294 22391B
 $$$444F       2 000031FC 00000001     H   22381 22349B
 $$$445F       2 00003232 00000001     H   22490 22410B 22424B
 $$$445S       2 00003206 00000001     H   22402 22489B
 $$$448F       2 0000322C 00000001     H   22479 22457B
 $$$449F       2 000033E0 00000001     H   23292 22668B 22716B 22971B
 $$$450F       2 0000327E 00000001     H   22672 22660B
 $$$451F       2 000032CC 00000001     H   22784 22738B
 $$$452S       2 000032E2 00000001     H   22833 22850B
 $$$455S       2 000032F2 00000001     H   22864 22882B
 $$$458F       2 00003332 00000001     H   22959 22927B 22949B
 $$$458S       2 0000330E 00000001     H   22921 22958B
 $$$46F        2 00000286 00000001     H    5426  5347B
 $$$460F       2 0000332A 00000001     H   22953 22939B
 $$$461F       2 0000335E 00000001     H   23023 22987B
 $$$462F       2 000033A6 00000001     H   23139 23107B 23129B
 $$$462S       2 00003382 00000001     H   23101 23138B
 $$$464F       2 0000339E 00000001     H   23133 23119B
 $$$465F       2 000033C2 00000001     H   23185 23155B
 $$$466F       2 000033DE 00000001     H   23260 23242B
 $$$466T       2 000033DA 00000001     H   23245 23230B
 $$$469F       2 00003450 00000001     H   23437 23411B
 $$$47F        2 00000270 00000001     H    5381  5364B
 $$$470F       2 0000346E 00000001     H   23508 23464B
 $$$471S       2 00003460 00000001     H   23481 23499B
 $$$474S       2 00003472 00000001     H   23517 23555B
 $$$475F       2 0000347E 00000001     H   23540 23527B
 $$$478F       2 00003496 00000001     H   23597 23570B
 $$$479F       2 000034B2 00000001     H   23663 23645B
 $$$479T       2 000034AE 00000001     H   23648 23633B
 $$$48F        2 000002B8 00000001     H    5533  5443B  5454B
 $$$482F       2 0000351E 00000001     H   23826 23800B
 $$$483F       2 00003556 00000001     H   23876 23850B
 $$$484        4 00003720 00000001     I   23909 23901X
 $$$485        4 00003720 00000001     I   23908 23909  23909
 $$$486S       2 00003588 00000001     H   23965 24003B
 $$$487F       2 00003594 00000001     H   23988 23975B
 $$$490S       2 000035A0 00000001     H   24017 24068B
 $$$491F       2 000035DA 00000001     H   24053 24027B
 $$$494F       2 00003622 00000001     H   24216 24089B 24158B
 $$$495F       2 0000360E 00000001     H   24167 24106B 24120B
 $$$498F       2 00003622 00000001     H   24212 24182B
 $$$50F        2 000002A2 00000001     H    5488  5471B
 $$$500F       2 00003764 00000001     H   24473 24448B
 $$$500S       2 00003750 00000001     H   24435 24470B
 $$$504F       2 000037BC 00000001     H   24580 24488B
 $$$505F       2 000037BA 00000001     H   24575 24549B
 $$$507F       2 00003832 00000001     H   24750 24724B
 $$$508S       2 0000384A 00000001     H   24808 24826B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  318
 $$$51F        2 000002CA 00000001     H    5567  5549B
 $$$512F       2 000038A4 00000001     H   25005 24980B
 $$$512S       2 00003890 00000001     H   24967 25002B
 $$$516F       2 000038FC 00000001     H   25112 25020B
 $$$517F       2 000038FA 00000001     H   25107 25081B
 $$$519F       2 00003972 00000001     H   25263 25237B
 $$$52F        2 000002F8 00000001     H    5657  5621B
 $$$52T        2 000002E8 00000001     H    5624  5610B
 $$$520S       2 0000398A 00000001     H   25321 25339B
 $$$524F       2 000039E4 00000001     H   25518 25493B
 $$$524S       2 000039D0 00000001     H   25480 25515B
 $$$528F       2 00003A3C 00000001     H   25625 25533B
 $$$529F       2 00003A3A 00000001     H   25620 25594B
 $$$531F       2 00003AB2 00000001     H   25776 25750B
 $$$532S       2 00003ACA 00000001     H   25834 25852B
 $$$536F       2 00003B24 00000001     H   26031 26006B
 $$$536S       2 00003B10 00000001     H   25993 26028B
 $$$540F       2 00003B7C 00000001     H   26138 26046B
 $$$541F       2 00003B7A 00000001     H   26133 26107B
 $$$543F       2 00003BF2 00000001     H   26289 26263B
 $$$544S       2 00003C0A 00000001     H   26347 26365B
 $$$548F       2 00003C64 00000001     H   26532 26507B
 $$$548S       2 00003C50 00000001     H   26494 26529B
 $$$55F        2 00000314 00000001     H    5679  5667B
 $$$552F       2 00003CBC 00000001     H   26639 26547B
 $$$553F       2 00003CBA 00000001     H   26634 26608B
 $$$555F       2 00003D38 00000001     H   26781 26755B
 $$$556S       2 00003D56 00000001     H   26849 26867B
 $$$56F        2 000004EC 00000001     H    6376  5824B  6016B
 $$$560B       4 00003DD4 00000001     I   27028 27048
 $$$560F       2 00003DE6 00000001     H   27045 27028B 27047
 $$$562E       2 00003DEA 00000001     H   27055 27049
 $$$562F       2 00003DFC 00000001     H   27070 27051B
 $$$564F       2 00003E76 00000001     H   27213 27187B
 $$$565B       4 00003E7C 00000001     I   27227 27239
 $$$565F       2 00003E86 00000001     H   27236 27227B 27238
 $$$566E       2 00003E8A 00000001     H   27246 27240
 $$$566F       2 00003E90 00000001     H   27252 27242B
 $$$567B       4 00003E96 00000001     I   27263 27275
 $$$567F       2 00003E9E 00000001     H   27272 27263B 27274
 $$$568E       2 00003EA2 00000001     H   27282 27276
 $$$568F       2 00003EA6 00000001     H   27288 27278B
 $$$57F        2 00000376 00000001     H    5790  5764B
 $$$570B       4 00003EEC 00000001     I   27413 27433
 $$$570F       2 00003EFE 00000001     H   27430 27413B 27432
 $$$572E       2 00003F02 00000001     H   27440 27434
 $$$572F       2 00003F14 00000001     H   27455 27436B
 $$$573F       2 00003F88 00000001     H   27656 27574B
 $$$575B       4 00003F6C 00000001     I   27603 27615
 $$$575F       2 00003F74 00000001     H   27612 27603B 27614
 $$$576E       2 00003F78 00000001     H   27622 27616
 $$$576F       2 00003F7C 00000001     H   27628 27618B
 $$$577F       2 00003FF8 00000001     H   27837 27755B
 $$$579B       4 00003FDC 00000001     I   27784 27796
 $$$579F       2 00003FE4 00000001     H   27793 27784B 27795
 $$$580E       2 00003FE8 00000001     H   27803 27797
 $$$580F       2 00003FEC 00000001     H   27809 27799B
 $$$581F       2 0000404C 00000001     H   27974 27936B
 $$$583F       2 00004110 00000001     H   28189 28112B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  319
 $$$585F       2 000040C8 00000001     H   28108 28082B
 $$$586F       2 0000410C 00000001     H   28156 28130B
 $$$588F       2 0000417A 00000001     H   28343 28317B
 $$$589F       2 0000419E 00000001     H   28414 28367B 28395B
 $$$589S       2 00004182 00000001     H   28359 28413B
 $$$59F        2 000003AA 00000001     H    5896  5843B
 $$$593F       2 00004210 00000001     H   28578 28552B
 $$$594F       2 00004234 00000001     H   28649 28602B 28630B
 $$$594S       2 00004218 00000001     H   28594 28648B
 $$$598B       4 00004286 00000001     I   28801 28836
 $$$598F       2 00004290 00000001     H   28833 28801B 28835
 $$$599E       2 00004294 00000001     H   28843 28837
 $$$599F       2 000042B0 00000001     H   28896 28839B
 $$$60         4 00000834 00000001     I    5880  5872X
 $$$600F       2 000042EA 00000001     H   28957 28942B
 $$$601F       2 00004300 00000001     H   28990 28968B
 $$$602F       2 000043AA 00000001     H   29313 29182B 29270B
 $$$603F       2 000043A6 00000001     H   29288 29142B
 $$$603S       2 00004342 00000001     H   29134 29287B
 $$$605F       2 0000435C 00000001     H   29186 29174B
 $$$606F       2 0000439E 00000001     H   29274 29203B
 $$$607F       2 00004382 00000001     H   29247 29220B
 $$$609F       2 0000441A 00000001     H   29515 29410B 29440B
 $$$609S       2 000043E0 00000001     H   29404 29514B
 $$$61         4 00000834 00000001     I    5879  5880   5880
 $$$613F       2 0000445A 00000001     H   29662 29630B
 $$$615F       2 000044A8 00000001     H   29831 29775B
 $$$616F       2 000044A8 00000001     H   29822 29803B
 $$$618B       4 000044E2 00000001     I   29950 29985
 $$$618F       2 000044EC 00000001     H   29982 29950B 29984
 $$$619E       2 000044F0 00000001     H   29992 29986
 $$$619F       2 0000450C 00000001     H   30045 29988B
 $$$62F        2 000003F2 00000001     H    5972  5911B
 $$$620F       2 000045D4 00000001     H   30395 30216B 30347B
 $$$621F       2 00004572 00000001     H   30220 30208B
 $$$622F       2 000045CA 00000001     H   30360 30259B
 $$$622S       2 0000457C 00000001     H   30251 30359B
 $$$624F       2 000045C2 00000001     H   30351 30278B
 $$$625B       4 0000459C 00000001     I   30301 30318
 $$$625F       2 000045A4 00000001     H   30315 30301B 30317
 $$$626E       2 000045A8 00000001     H   30325 30319
 $$$626F       2 000045B6 00000001     H   30333 30321B
 $$$628F       2 00004714 00000001     H   30982 30500B 30533B 30553B 30593B 30614B
 $$$63F        2 000003D0 00000001     H    5937  5925B
 $$$634B       4 00004672 00000001     I   30671 30687
 $$$634F       2 00004680 00000001     H   30681 30671B 30686
 $$$635E       2 00004684 00000001     H   30694 30688
 $$$635F       2 000046A4 00000001     H   30768 30690B
 $$$636F       2 000046A0 00000001     H   30749 30738B
 $$$636S       2 0000468E 00000001     H   30730 30748B
 $$$638F       2 00004712 00000001     H   30964 30787B
 $$$639F       2 000046EA 00000001     H   30908 30805B
 $$$64F        2 000003F2 00000001     H    5968  5956B
 $$$640F       2 000046EA 00000001     H   30904 30820B
 $$$641B       4 000046C4 00000001     I   30835 30852
 $$$641F       2 000046D2 00000001     H   30849 30835B 30851
 $$$642E       2 000046D6 00000001     H   30859 30853
 $$$642F       2 000046E0 00000001     H   30870 30855B
 $$$643F       2 00004712 00000001     H   30960 30938B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  320
 $$$643T       2 000046FA 00000001     H   30941 30926B
 $$$645F       2 0000475C 00000001     H   31171 31113B
 $$$647F       2 0000479E 00000001     H   31335 31277B
 $$$649F       2 00004828 00000001     H   31572 31440B
 $$$65F        2 00000410 00000001     H    6027  5999B
 $$$651F       2 00004824 00000001     H   31541 31482B
 $$$651S       2 000047EE 00000001     H   31476 31540B
 $$$653B       4 000047FC 00000001     I   31499 31518
 $$$653F       2 0000480E 00000001     H   31515 31499B 31517
 $$$654E       2 00004812 00000001     H   31525 31519
 $$$654F       2 00004820 00000001     H   31536 31521B
 $$$656S       2 0000485E 00000001     H   31674 31754B
 $$$657F       2 0000486C 00000001     H   31697 31687B
 $$$658F       2 00004878 00000001     H   31718 31708B
 $$$659F       2 00004884 00000001     H   31739 31729B
 $$$662F       2 000048B2 00000001     H   31799 31770B
 $$$664F       2 00004914 00000001     H   32008 31937B 31963B
 $$$668F       2 0000498C 00000001     H   32173 32148B
 $$$669F       2 0000499C 00000001     H   32231 32215B
 $$$67F        2 0000044C 00000001     H    6136  6041B
 $$$670F       2 000049DA 00000001     H   32282 32256B
 $$$672F       2 00004A28 00000001     H   32360 32349B
 $$$673F       2 00004A80 00000001     H   32425 32399B
 $$$675F       2 00004C3C 00000001     H   33099 32704B
 $$$676F       2 00004B20 00000001     H   32689 32610B
 $$$676S       2 00004AEC 00000001     H   32602 32688B
 $$$678B       4 00004B02 00000001     I   32649 32664
 $$$678F       2 00004B0E 00000001     H   32659 32638B 32649B 32661
 $$$679B       4 00004AFC 00000001     I   32638 32662
 $$$68F        2 0000044C 00000001     H    6132  6053B
 $$$680E       2 00004B12 00000001     H   32671 32663  32665
 $$$680F       2 00004B1C 00000001     H   32679 32667B
 $$$682F       2 00004B64 00000001     H   32832 32753B 32822B
 $$$682S       2 00004B2E 00000001     H   32747 32831B
 $$$684F       2 00004B5C 00000001     H   32826 32768B 32780B 32814B
 $$$686F       2 00004B58 00000001     H   32817 32797B
 $$$688B       4 00004B66 00000001     I   32845 32908
 $$$688F       2 00004BAC 00000001     H   32905 32845B 32907
 $$$689F       2 00004BA2 00000001     H   32888 32863B
 $$$69F        2 00000432 00000001     H    6088  6070B
 $$$690E       2 00004BB0 00000001     H   32915 32909
 $$$690F       2 00004C3C 00000001     H   33070 32911B
 $$$691F       2 00004BBE 00000001     H   32944 32935B
 $$$692B       4 00004BE8 00000001     I   32988 33012
 $$$692F       2 00004C0E 00000001     H   33009 32988B 33011
 $$$693E       2 00004C12 00000001     H   33019 33013
 $$$693F       2 00004C1A 00000001     H   33026 33015B
 $$$694F       2 00004C28 00000001     H   33052 33043B
 $$$696B       4 00004CE6 00000001     I   33244 33256
 $$$696F       2 00004CF0 00000001     H   33253 33244B 33255
 $$$697E       2 00004CF4 00000001     H   33263 33257
 $$$697F       2 00004D10 00000001     H   33316 33259B
 $$$698B       4 00004D6C 00000001     I   33407 33432
 $$$698F       2 00004D94 00000001     H   33429 33407B 33431
 $$$699E       2 00004D98 00000001     H   33439 33433
 $$$699F       2 00004D9E 00000001     H   33445 33435B
 $$$70F        2 00000496 00000001     H    6207  6148B
 $$$700F       2 00004DB8 00000001     H   33495 33486B
 $$$701F       2 00004DDC 00000001     H   33531 33509B
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  321
 $$$703F       2 00004E72 00000001     H   33784 33758B
 $$$705F       2 00004EA6 00000001     H   33877 33831B
 $$$705S       2 00004E94 00000001     H   33824 33876B
 $$$707F       2 00004EF0 00000001     H   33941 33924B
 $$$708F       2 00004F48 00000001     H   34008 33982B
 $$$71F        2 00000474 00000001     H    6174  6162B
 $$$710F       2 000050DA 00000001     H   34624 34178B 34211B
 $$$713F       2 00004FF4 00000001     H   34255 34229B
 $$$714F       2 00005036 00000001     H   34319 34293B
 $$$715F       2 0000504C 00000001     H   34363 34331B
 $$$716F       2 00005066 00000001     H   34427 34381B
 $$$716S       2 00005054 00000001     H   34374 34426B
 $$$718F       2 0000509E 00000001     H   34518 34448B
 $$$719F       2 00005098 00000001     H   34513 34467B
 $$$719S       2 00005086 00000001     H   34460 34512B
 $$$72F        2 00000496 00000001     H    6203  6191B
 $$$721F       2 000050C6 00000001     H   34586 34532B
 $$$722B       4 000050AA 00000001     I   34547 34564
 $$$722F       2 000050B8 00000001     H   34561 34547B 34563
 $$$723E       2 000050BC 00000001     H   34571 34565
 $$$723F       2 000050C6 00000001     H   34582 34567B
 $$$725F       2 00005122 00000001     H   34788 34759B
 $$$726F       2 00005142 00000001     H   34847 34806B
 $$$726S       2 0000512A 00000001     H   34800 34846B
 $$$728F       2 00005162 00000001     H   34906 34865B
 $$$728S       2 0000514A 00000001     H   34859 34905B
 $$$73F        2 000004DE 00000001     H    6323  6221B
 $$$730F       2 0000519E 00000001     H   34994 34922B
 $$$730S       2 00005166 00000001     H   34916 34993B
 $$$732F       2 00005186 00000001     H   34979 34950B
 $$$733F       2 000051B8 00000001     H   35045 35029B
 $$$734F       2 000051CC 00000001     H   35072 35056B
 $$$735F       2 000051E0 00000001     H   35099 35083B
 $$$736F       2 000051F4 00000001     H   35126 35110B
 $$$738F       2 0000523E 00000001     H   35319 35294B
 $$$738S       2 0000522A 00000001     H   35281 35316B
 $$$74B        4 000004A2 00000001     I    6236  6254
 $$$74F        2 000004B2 00000001     H    6251  6236B  6253
 $$$742F       2 00005260 00000001     H   35390 35334B
 $$$743F       2 000052D6 00000001     H   35627 35509B 35542B
 $$$746S       2 000052C4 00000001     H   35574 35594B
 $$$749F       2 0000538A 00000001     H   35955 35707B 35750B 35781B 35801B 35833B
 $$$75E        2 000004B6 00000001     H    6261  6255
 $$$75F        2 000004C2 00000001     H    6273  6257B
 $$$755S       2 00005350 00000001     H   35852 35869B
 $$$758F       2 00005388 00000001     H   35927 35900B
 $$$76F        2 000004D0 00000001     H    6304  6286B
 $$$760B       4 000053C4 00000001     I   36048 36145
 $$$760F       2 00005412 00000001     H   36142 36048B 36144
 $$$761F       2 00005406 00000001     H   36133 36121B
 $$$761S       2 000053F2 00000001     H   36114 36132B
 $$$763E       2 00005416 00000001     H   36152 36146
 $$$763F       2 00005438 00000001     H   36214 36148B
 $$$767F       2 000055E2 00000001     H   36773 36669B
 $$$767S       2 000055A6 00000001     H   36663 36772B
 $$$769B       4 000055B0 00000001     I   36702 36718
 $$$769F       2 000055B6 00000001     H   36715 36702B 36717
 $$$77F        2 000004EC 00000001     H    6357  6339B
 $$$770E       2 000055BA 00000001     H   36725 36719
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  322
 $$$770F       2 000055BE 00000001     H   36732 36721B
 $$$773F       2 0000569E 00000001     H   37009 37000B
 $$$774B       4 000056A2 00000001     I   37021 37036
 $$$774F       2 000056BA 00000001     H   37033 37021B 37035
 $$$776E       2 000056BE 00000001     H   37043 37037
 $$$776F       2 000056C4 00000001     H   37050 37039B
 $$$78F        2 000005D2 00000001     H    6668  6445B  6581B
 $$$780F       2 000057BE 00000001     H   37468 37402B
 $$$780S       2 00005786 00000001     H   37396 37467B
 $$$782F       2 000057B6 00000001     H   37457 37433B
 $$$784F       2 00005824 00000001     H   37671 37659B
 $$$785F       2 00005854 00000001     H   37723 37707B
 $$$786F       2 00005872 00000001     H   37767 37758B
 $$$787F       2 000058A8 00000001     H   37847 37821B
 $$$788F       2 000058A8 00000001     H   37843 37834B
 $$$789F       2 000058DC 00000001     H   37920 37894B
 $$$790F       2 000058DC 00000001     H   37916 37907B
 $$$791F       2 00005910 00000001     H   37993 37967B
 $$$792F       2 00005910 00000001     H   37989 37980B
 $$$795F       2 00005C2E 00000001     H   38915 38577B
 $$$795S       2 00005AE8 00000001     H   38571 38597B 38612B 38914B
 $$$80F        2 00000572 00000001     H    6546  6520B
 $$$800F       2 00005D92 00000001     H   39175 39101B
 $$$800S       2 00005D64 00000001     H   39095 39174B
 $$$802F       2 00005D8A 00000001     H   39159 39147B
 $$$804F       2 00005E44 00000001     H   39448 39422B
 $$$83F        2 000005C0 00000001     H    6640  6614B
 $$$84F        2 00000640 00000001     H    6883  6761B  6835B
 $$$88F        2 000006D4 00000001     H    7087  6987B  7021B
 $$$89F        2 000006A4 00000001     H    6971  6945B
 $$$93F        2 00000740 00000001     H    7281  7154B  7188B
 $$$96F        2 00000720 00000001     H    7231  7222B
 $$$98F        2 000007EE 00000001     H    7530  7365B
 $$$98S        2 0000076E 00000001     H    7357  7529B
 $NLL0954      2 000000A8 00000001     I    4474  4478B
 $NLL12113
               2 00003568 00000001     I   23917 23921B
 $NLL1858      2 0000039E 00000001     I    5888  5892B
 $NLL5636      2 0000165A 00000001     I   12623 12627B
 $NLL5673      2 00001686 00000001     I   12694 12698B
 $NLL6856      2 00001D8E 00000001     I   14916 14920B
 $NLM0954      1 0000082C 00000001     R    4447  4465
 $NLM12113
               1 0000371E 00000001     R   23890 23908
 $NLM1858      1 00000832 00000001     R    5861  5879
 $NLM5636      1 00002336 00000001     R   12596 12614
 $NLM5673      1 0000233C 00000001     R   12667 12685
 $NLM6856      1 000023CE 00000001     R   14889 14907
 $OLL16128
               2 00004706 00000001     I   30952 30956B
 $OLL16613
               2 000048A0 00000001     I   31784 31788B
 $OLL16943
               2 00004A34 00000001     I   32373 32377B
 $OLL17573
               2 00004DD0 00000001     I   33523 33527B
 $OLL17812
               2 00004EFC 00000001     I   33954 33958B
 $OLL18973
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  323
               2 00005368 00000001     I   35884 35888B
 $OLL19775
               2 000057A2 00000001     I   37447 37451B
 $OLL3442      2 00000B4C 00000001     I    8673  8677B
 $OLL4181      2 00000E64 00000001     I    9982  9986B
 $OLL5199      2 00001364 00000001     I   11766 11770B
 $OLL6754      2 00001CFC 00000001     I   14692 14696B
 $OLL8124      2 000024BC 00000001     I   17128 17132B
 #ASPSWM       1 00000000 FFFFFFA3     X    8088  8262M  9079
 #ASWAKE       1 00000000 FFFFFFA3     J    8095  8162U
 @ACREATE      8 00000000 FFFFFFE4     J    1695 19688U 19903  19903  20207U 38442U 38450M 38450
 @ACRPSW       8 00000000 FFFFFFE4     D    1688 20438  38451M 38452M 38453M
 @ADVASB       4 00000000 FFFFFFC8     A    2453  8926M
 @ASCASB       4 00000000 FFFFFFC4     A    2562 19779M
 @ASCWSLM      4 00000004 FFFFFFC4     A    2563 19780M
 @ASWAKE       4 00000000 FFFFFFA2     J    8114  8155U  8162U 11399U 23172U 23584U 24199U 35914U
 @ASWASDB      4 00000000 FFFFFFA2     A    8107  8168  11401M 23174M 23586M 24201M 35916M
 @AWTFLG       1 00000004 FFFFFFEB     R    1488  1492
 @CPCCLK       8 00000008 FFFFFFD4     D    2102 18954M 19327M
 @CPCID        4 00000000 FFFFFFD4     A    2101 18855  19080
 @CPCNCK      32 00000000 FFFFFFD4     J    2110 18827U 19051U
 @CPCPARM      4 00000010 FFFFFFD4     A    2103 18837U 19061U
 @CPSCLK       8 00000000 FFFFFFD5     D    2076 18643
 @CPSET       20 00000000 FFFFFFD5     J    2085 18492U
 @CPSPARM      4 0000000C FFFFFFD5     A    2078 18632
 @CPSXIT       4 00000008 FFFFFFD5     A    2077 18631
 @DEMASDB      4 00000000 FFFFFF9D     A   22562  4841M  5206M 22368M 22466M 22618  24139M
 @DEMOTE       4 00000000 FFFFFF9D     J   22569  4839U  5204U 22366U 22610U 24137U
 @DISPPIOC
               4 00000000 FFFFFFE9     J    1561 23756U
 @DISPSAS      4 00000000 FFFFFFE5     A    1665 10747
 @DISPSIOC
               4 00000000 FFFFFFE8     J    1580 23353U
 @DISPSWP      4 00000000 FFFFFFE5     J    1672 10739U
 @DPIOASB      4 00000000 FFFFFFE9     A    1554 23764
 @DSIOASB      4 00000000 FFFFFFE8     A    1573 23375
 @DSPSCHG      8 00000008 FFFFFFD9     D    1960 36779M
 @DSPSDSP      8 00000010 FFFFFFD9     D    1961 36780M
 @DSPSIOS      8 00000018 FFFFFFD9     D    1962 36781M
 @DSPSST       8 00000000 FFFFFFD9     D    1959 36782M
 @DSPSTAT     32 00000000 FFFFFFD9     J    1969 36618U 36625U
 @EPAR         0 00000000 FFFFFFEF     @    1203  4261M  5672M  5930M  5961M  6167M  6196M 12294M 12452M 12932M 14302M
                                                 14487M 37005M
 @EXRADD      21 00000000 FFFFFFBC     J    2813 28745U
 @EXRAFLG      1 00000014 FFFFFFBC     R    2795  2799   2804
 @EXRAFQ     128 00000014 FFFFFFBC         2799 28941
 @EXRAFS      64 00000014 FFFFFFBC         2804 28967
 @EXRDCD       1 00000000 FFFFFFBA     R    2854  2863   2873
 @EXRDEL       4 00000000 FFFFFFBB     J    2836 29089U
 @EXRDID       4 00000000 FFFFFFBB     A    2829 29202
 @EXRDONE      1 00000000 FFFFFFBA     J    2882 32092U
 @EXRPARM      4 00000010 FFFFFFBC     A    2792 28931
 @EXRPSW       8 00000008 FFFFFFBC     D    2791 28930
 @EXRQUAL      4 00000004 FFFFFFBC     A    2790 28953
 @EXRTYPE      4 00000000 FFFFFFBC     A    2789 28929
 @GCBDEL       4 00000000 FFFFFF9C     J   24649 17886U 17894M 17894  18116U 18124M 18124  18364U 18372M 18372  20479U
                                                 20487M 20487  21241U 21249M 21249  21268M 21268  21317M 21317  21502U
                                                 21510M 21510  24690U 25203U 25716U 26229U 26735U
 @GCBDLOC      4 00000000 FFFFFF9C     A   24642 17895M 18125M 18373M 20488M 20503M 21250M 21269M 21318M 21511M 24698
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  324
                                                 25211  25724  26237  26743
 @IPLKLEN      4 00000004 FFFFFFCA     A    2368 38144
 @IPLKLOC      4 00000000 FFFFFFCA     A    2367 38143
 @IPLMLEN      4 0000000C FFFFFFCA     A    2370 38146
 @IPLMLOC      4 00000008 FFFFFFCA     A    2369 38145
 @IPLPARM     20 00000000 FFFFFFCA     J    2378 38110U
 @IPLSLOC      4 00000010 FFFFFFCA     A    2371 38147
 @LFSPIN     128 00000010 FFFFFFD2         2161 38548M
 @LOCKCRE     17 00000000 FFFFFFD2     J    2170 38528U 38536M 38536  39333U 39341M 39341
 @LOCKFL       1 00000010 FFFFFFD2     R    2157  2161
 @LOCKID       4 00000000 FFFFFFD1     A    2182  4527M  4737M  5587M  8279M  9073M 16523M 16681M 16998M 17079M 17555M
                                                 17757M 18242M 18414M 19948M 20029M 20584M 20624M 21059M 21177M 21348M
                                                 21482M 23952M 24236M
 @LOCKNAM     16 00000000 FFFFFFD2     C    2154 38542M 39347M
 @LOCKS        4 00000000 FFFFFFD1     J    2189  4521U  4731U  5581U  8273U  9067U 16517U 16675U 16992U 17549U 18236U
                                                 18408U 19937U 20018U 20573U 21053U 21342U 23946U 24230U
 @MONSDAT      2 00000000 FFFFFFDA     H    1936 37291
 @MONSET       2 00000000 FFFFFFDA     J    1943 37247U
 @PAGASC1      8 00000000 FFFFFFC4     J    2570 19770U 19778M 19778
 @PAGE         9 00000000 FFFFFFC2     J    2612 36171U 36179M 36179  36355U 36363M 36363
 @PAGIASB      4 00000000 FFFFFFBF     A    2664 38197M
 @PAGIMEG      4 00000004 FFFFFFBF     A    2665 38196M
 @PAGINIT      8 00000000 FFFFFFBF     J    2672 38187U 38195M 38195
 @PAGKEY       1 00000008 FFFFFFC2     X    2604  2605
 @PAGLEN       4 00000004 FFFFFFC2     A    2603 36206M 36390M
 @PAGLOC       4 00000000 FFFFFFC2     A    2602 36189M 36373M
 @PAGSWADV
               4 00000000 FFFFFFC8     J    2460  8917U  8925M  8925
 @PAGSWAP      5 00000000 FFFFFFC9     J    2441 21903U 21911M 21911  22685U 22693M 22693
 @PAGWSMA     13 00000000 FFFFFFC7     J    2490 16124U 16132M 16132
 @PDF1         1 00000009 FFFFFFC6     R    2508  2509   2514
 @PERSDAT      4 00000000 FFFFFFDB     F    1913 37166
 @PERSET      12 00000000 FFFFFFDB     J    1920 37127U
 @RA           0 00000000 FFFFFFFC     @    1035  9469   9839  12036  12049  12114  12256M 12257  14707  19900  19903M
                                                 21011M 21087  21157M 21365  21472M 21996  26513  26650  26660M 27020
                                                 27033M 27034M 27066M 27232M 27268M 27405  27418M 27419M 27451M 27562
                                                 27579  27608M 27629M 27743  27760  27789M 27810M 27924  27941  28061
                                                 28081  28117  28129  28365  28419M 28600  28654M 29140  29208M 30257
                                                 30283M 32608  32655M 33422  33424M 33818  33878M 34368  34428M 34454
                                                 34514M 36108  36138  36158  36395M 38842  38893
 @RB           0 00000000 FFFFFFFB     @    1047 13485M 13486  24811  25324  25837  26350  26852  36107  36126M 36128
                                                 36137M
 @RESLC        4 00000004 FFFFFFE6     A    1642 11582
 @RESUME       8 00000000 FFFFFFE6     J    1649 11185U 11492U
 @RESUNIT      4 00000000 FFFFFFE6     A    1641 11193  11516
 @RJ           0 00000000 FFFFFFFA     @    1059 17015  17068  17069M 18662  18715  18716M 26754  26789  26799M 26851M
                                                 31504M 35506  35798  36733
 @RK           0 00000000 FFFFFFF9     @    1071 20356M 38775
 @RM           0 00000000 FFFFFFF6     @    1107 22494
 @RN           0 00000000 FFFFFFF5     @    1119 30207  30497
 @RS           0 00000000 FFFFFFFD     @    1023 10648  14738  17644  17661  17670  17727  17739M 18262  18316M 19162
                                                 19179  19188  19245  19257M 22835  30631  33002  33005M
 @RTCCLK       8 00000008 FFFFFFD7     D    2027 17344M 17356  17368M 17368  17386  17389  17390M 17782M 17794  17806M
                                                 17806  17824  17827  17828M
 @RTCID        4 00000000 FFFFFFD7     A    2026 17265  17520
 @RTCNCK      32 00000000 FFFFFFD7     J    2035 17237U 17491U
 @RTCPARM      4 00000010 FFFFFFD7     A    2028 17247U 17501U
 @RTSCLK       8 00000000 FFFFFFD8     D    1992 16940  16952  16969
 @RTSET       24 00000000 FFFFFFD8     J    2010 16813U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  325
 @RTSFINT    128 00000008 FFFFFFD8         1999 16918
 @RTSFLG       1 00000008 FFFFFFD8     R    1995  1999
 @RTSPARM      4 00000010 FFFFFFD8     A    2003 16905
 @RTSXIT       4 0000000C FFFFFFD8     A    2002 16904
 @RX           0 00000000 FFFFFFF8     @    1083 11538  30550  34175
 @RY           0 00000000 FFFFFFF7     @    1095  8179  11204  11266  23410  23799  35704  35747
 @R0           0 00000000 FFFFFFFE     @     715   991U 38054U
 @R1           0 00000000 FFFFFFFD     @     728   987U  9044U  9696U 10770U 11887U 17710U 19228U 23212U 23670U 30578U
                                                 32238U 38382U 38415U 39066U 39223U
 @R10          0 00000000 FFFFFFF4     @     845   951U  5699U  6374U  6666U  6881U  7085U  7279U  7542U  7705U  7870U
                                                  7936U  8057U  9148U  9527U  9713U 10148U 10569U 10680U 11041U 11126U
                                                 11430U 11929U 12148U 12376U 13028U 13422U 14188U 14583U 15088U 15283U
                                                 15480U 15676U 15874U 16438U 16702U 17176U 17433U 17929U 18154U 18430U
                                                 18766U 18993U 19370U 19601U 20142U 20756U 21668U 22521U 23290U 23693U
                                                 24262U 24609U 24853U 25141U 25366U 25654U 25879U 26167U 26392U 26673U
                                                 26889U 27088U 27312U 27473U 27654U 27835U 27972U 28187U 28441U 28676U
                                                 29026U 29311U 29532U 29679U 29848U 30108U 30393U 31002U 31169U 31333U
                                                 31570U 31821U 32032U 32491U 33097U 33608U 34069U 34622U 35151U 35424U
                                                 35625U 35953U 36234U 36420U 36541U 36803U 36913U 37069U 37189U 37315U
                                                 37485U 38017U 38230U 38946U 39254U 39465U
 @R11          0 00000000 FFFFFFF3     @     858   947U
 @R12          0 00000000 FFFFFFF2     @     871   943U  9143U  9522U 10143U 11036U 11425U 11924U 16433U 17171U 17428U
                                                 17924U 18149U 18761U 18988U 19365U 20137U 20751U 22516U 23285U 23688U
                                                 24257U 24848U 25361U 25874U 26387U 26884U 27083U 27307U 27468U 27649U
                                                 27830U 27967U 28182U 28436U 28671U 29021U 29306U 30103U 30388U 30997U
                                                 31164U 31328U 31565U 31816U 32486U 33603U 34064U 34617U 35146U 35419U
                                                 35620U 35948U 36415U 36798U 37184U 37310U 38012U 38225U
 @R13          0 00000000 FFFFFFF1     @     884   939U  4518U  4668U  4728U  4836U  4939U  5201U  5256U  5578U  5710U
                                                  6385U  7553U  8391U  8436U  8482U  8779U  8825U  8914U  8945U  9064U
                                                  9159U 11441U 11940U 15294U 15491U 15687U 15885U 16249U 16449U 16593U
                                                 16672U 16713U 16989U 17187U 17851U 17883U 17940U 18081U 18113U 18165U
                                                 18329U 18361U 18405U 18441U 18777U 19612U 19934U 19966U 20015U 20064U
                                                 20153U 20288U 20423U 20476U 20570U 20767U 21238U 21339U 21499U 21679U
                                                 21900U 21942U 22363U 22532U 22754U 23169U 23301U 23704U 24134U 24196U
                                                 24227U 24273U 24620U 25152U 25665U 26178U 26684U 29037U 29322U 29543U
                                                 30119U 31013U 33349U 33545U 33619U 34080U 34345U 34633U 35007U 35162U
                                                 35435U 35964U 36168U 36245U 36431U 38184U 38241U 38439U 38525U 38637U
                                                 38957U 39386U 39476U
 @R14          0 00000000 FFFFFFF0     @     897   935U
 @R15          0 00000000 FFFFFFEF     @     910   931U
 @R2           0 00000000 FFFFFFFC     @     741   983U  4364U  4620U  7521U 11016U 15078U 16214U 16692U 17156U 18139U
                                                 18390U 18751U 19591U 20638U 21923U 22705U 22911U 24599U 25131U 25644U
                                                 26157U 29659U 29828U 34843U 34902U 34990U 35409U 38487U 38510U 39171U
 @R3           0 00000000 FFFFFFFB     @     754   979U 15073U 17141U 20644U 21429U 23091U 29284U 29511U 30378U 30765U
                                                 32685U 33873U 34423U 34509U 39217U
 @R4           0 00000000 FFFFFFFA     @     767   975U 10042U 10098U 11892U 16418U 17685U 17914U 19203U 19355U 22388U
                                                 22486U 24843U 25356U 25869U 26382U 35615U 35938U 37464U 38911U
 @R5           0 00000000 FFFFFFF9     @     780   971U 12709U 13509U 20736U 31550U 32471U 33077U
 @R6           0 00000000 FFFFFFF8     @     793   967U  5694U  6364U  6651U  6871U  7075U  7269U  9133U  9512U  9708U
                                                  9898U 10120U 10133U 10350U 11021U 11914U 12367U 15273U 15470U 15666U
                                                 15864U 16423U 16697U 17161U 17410U 17919U 18144U 18425U 18970U 20117U
                                                 20379U 20741U 21287U 21645U 21658U 22511U 23275U 23683U 24247U 24399U
                                                 24604U 24785U 24838U 24931U 25136U 25298U 25351U 25444U 25649U 25811U
                                                 25864U 25957U 26162U 26324U 26377U 26471U 26668U 26826U 26879U 28426U
                                                 28661U 29011U 29296U 29522U 29669U 29838U 30974U 31154U 31318U 31555U
                                                 31806U 32022U 32476U 33087U 33585U 33850U 34054U 34400U 34486U 34607U
                                                 35136U 35245U 35414U 35610U 36793U 36903U 37174U 37300U 37480U 38002U
                                                 38941U 39249U 39455U
 @R7           0 00000000 FFFFFFF7     @     806   963U  5689U  6369U  6661U  6876U  7080U  7274U  7537U  7700U  7865U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  326
                                                  9138U  9517U 10138U 10564U 10675U 11031U 11121U 11254U 11420U 11919U
                                                 12911U 13213U 13327U 13804U 14093U 14466U 15083U 15278U 15475U 15671U
                                                 15869U 16428U 17166U 18756U 19360U 19596U 20122U 20746U 21404U 21663U
                                                 22175U 23280U 23398U 23678U 23787U 24252U 27078U 27302U 27463U 27644U
                                                 27825U 27962U 28177U 28431U 28666U 29016U 29301U 29527U 29674U 29843U
                                                 30098U 30383U 30992U 31159U 31323U 31560U 31811U 32027U 32481U 33092U
                                                 33598U 34059U 34612U 35141U 35735U 35943U 36229U 36410U 36536U 36769U
                                                 36908U 37064U 37179U 37305U 38007U 39460U
 @R8           0 00000000 FFFFFFF6     @     819   959U  6656U 20127U 21196U 38906U
 @R9           0 00000000 FFFFFFF5     @     832   955U  4489U  6507U  6744U  8703U  9644U 19719U 20132U 21653U 22506U
                                                 28828U 29006U 29977U 30093U 30718U 30979U 31149U 31313U 33082U 39166U
 @SDF1         1 00000009 FFFFFFC5     R    2540  2541
 @SGECB        4 00000008 FFFFFFEA     A    1519  4353M
 @SIGNAL      20 00000000 FFFFFFEA     J    1532  4328U  4336M  4336
 @STKDEL       4 00000000 FFFFFF98     J   36275 29234U 34348U 34773U 34965M 34965  36316U
 @STKDLOC      4 00000000 FFFFFF98     A   36268 29236M 34350M 34775M 34966M 36338
 @SUSPAS      64 00000008 FFFFFFE7         1610  9823
 @SUSPEND      9 00000000 FFFFFFE7     J    1624  9775U
 @SUSPFLG      1 00000008 FFFFFFE7     R    1601  1605   1610   1615
 @SUSPID       4 00000000 FFFFFFE7     A    1597  9869M  9991M 10090M
 @SUSPLC       4 00000004 FFFFFFE7     A    1598  9992M 10091M
 @SUSPLNG    128 00000008 FFFFFFE7         1605  9938  10073
 @SUSPPLC     32 00000008 FFFFFFE7         1615  9914
 @SWASB        4 00000000 FFFFFFC9     A    2399 21912M 22694M
 @SWFLG        1 00000004 FFFFFFC9     R    2403  2412   2422   2432  21922  22704
 @SYSPARS      4 00000000 FFFFFFDC     A    1890  7447M 18014
 @SYSRASB      4 00000004 FFFFFFDD     A    1865 16606M 35693
 @SYSRDEL      4 00000000 FFFFFFDE     J    1848 17854U 17862M 17862  18084U 18092M 18092  18332U 18340M 18340  35486U
 @SYSRDID      4 00000000 FFFFFFDE     A    1841 17863M 18093M 18341M 35495
 @SYSRDO      28 00000000 FFFFFFDD     J    1874 16596U 16604M 16604  35684U
 @SYSRID       4 00000000 FFFFFFDD     A    1864 16605M 35787
 @SYSRLOC      4 00000008 FFFFFFDD     A    1866 16607M 35842
 @SYSRNEW      4 00000000 FFFFFFDF     J    1826 16887U 16895M 16895  35214U
 @SYSRPRM      4 0000000C FFFFFFDD     A    1867 16608M 35843
 @SYSRTN      16 00000000 FFFFFFDC     J    1897  7445U 17992U
 @TCLTDB       4 00000000 FFFFFF99     A   34658 33733M 34270M 34731
 @TCLUP        4 00000000 FFFFFF99     J   34665 33731U 34268U 34706U
 @TCREATE     21 00000000 FFFFFFE3     J    1734 20426U 20434M 20434  33180U
 @TCRFLAG      1 00000014 FFFFFFE3     R    1716  1720   1725
 @TCRFPABS
              64 00000014 FFFFFFE3         1725 20451M 33485
 @TCRFSTK    128 00000014 FFFFFFE3         1720 20444M 33406
 @TCRPARM      4 00000008 FFFFFFE3     A    1712 20438M 33424  33441
 @TCRPRIO      4 00000010 FFFFFFE3     A    1713 20445M 33475
 @TCRPSW       8 00000000 FFFFFFE3     D    1711 20435M 20436M 20437M 33396
 @TEXIT        4 00000000 FFFFFFE0     J    1803 33670U
 @TREID        4 00000000 FFFFFFE2     A    1750 34164
 @TREMOVE      4 00000000 FFFFFFE2     J    1757 34132U
 @UPDPRIO      5 00000000 FFFFFFA1     J    9200  8439U  8447M  8447   8782U  8790M  8790   9262U  9269U 16252U 16260M
                                                 16260
 @UPPASDB      4 00000000 FFFFFFA1     A    9184  8458M  8801M  9275  16271M
 @UPPFL        1 00000004 FFFFFFA1     R    9187  9191
 @UPPTSE     128 00000004 FFFFFFA1         9191  9353  16277M
 @VMCASB       4 00000000 FFFFFFCB     A    2340 20264M
 @VMCRAS       4 00000000 FFFFFFCB     J    2347 20255U 20263M 20263
 @VMFLEN       4 00000004 FFFFFFCE     A    2264 29489M 39402M
 @VMFLOC       4 00000000 FFFFFFCE     A    2263 29499M 39407M
 @VMFPOOL      2 00000008 FFFFFFCE     H    2265 29500M 39408M
 @VMFREE      10 00000000 FFFFFFCE     J    2272 29464U 29472M 29472  39389U 39397M 39397
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  327
 @VMGET       11 00000000 FFFFFFCF     J    2251 18565U 18573M 18573  20291U 20299M 20299  24509U 24517M 24517  25041U
                                                 25049M 25049  25554U 25562M 25562  26067U 26075M 26075  26568U 26576M
                                                 26576  28861U 28869M 28869  30010U 30018M 30018  33281U 33289M 33289
                                                 35355U 35363M 35363  36069U 36077M 36077  38305U 38313M 38313  38640U
                                                 38648M 38648  38719M 38719  38816M 38816  38867M 38867
 @VMGFLG       1 0000000A FFFFFFCF     R    2233  2237   2242
 @VMGLEN       4 00000000 FFFFFFCF     A    2228 18590M 20316M 24534M 25066M 25579M 26092M 26593M 28886M 30035M 33306M
                                                 35380M 36090M 38330M 38665M 38731M 38828M 38879M
 @VMGPAGE    128 0000000A FFFFFFCF         2237 36097M
 @VMGPOOL      2 00000008 FFFFFFCF     H    2230 18591M 20317M 24535M 25067M 25580M 26093M 26594M 28887M 30036M 33307M
                                                 35381M 36091M 38331M 38666M 38732M 38829M 38880M
 @VMIKLEN      4 00000004 FFFFFFCC     A    2313 38144M
 @VMIKLOC      4 00000000 FFFFFFCC     A    2312 38143M
 @VMIMLEN      4 0000000C FFFFFFCC     A    2315 38146M
 @VMIMLOC      4 00000008 FFFFFFCC     A    2314 38145M
 @VMIPARM     20 00000000 FFFFFFCC     J    2323 38134U 38142M 38142
 @VMISLOC      4 00000010 FFFFFFCC     A    2316 38147M
 @WAR          0 00000000 FFFFFFF2     @    1167 10409  12192  12508  13138  13662  14358  20997  21225
 @WSASB        4 00000000 FFFFFFC7     A    2472 16133M
 @WSFLG        1 0000000C FFFFFFC7     R    2477  2481
 @WSINT        4 00000004 FFFFFFC7     A    2473 16134M
 @WSLIMIT      4 00000008 FFFFFFC7     A    2474 16135M
 @XITDEL       4 00000000 FFFFFFB8     J    2936 30171U 35010U 35018M 35018
 @XITDID       4 00000000 FFFFFFB8     A    2929 30196  35034M 35061M 35088M 35115M
 @XITDO       32 00000000 FFFFFFB7     J    2962 15182U 15190M 15190  15380U 15388M 15388  15577U 15585M 15585  15773U
                                                 15781M 15781  18040U 18048M 18048  19507U 19515M 19515  30453U
 @XITGPST    104 00000000 FFFFFFB6     J    2988 31065U 31142M 31229U 31306
 @XITMASK      5 00000000 FFFFFFB5     J    3045 31391U 31630U
 @XITMREQ      1 00000004 FFFFFFB5     R    3007  3016   3026   3036
 @XITMSK       4 00000000 FFFFFFB5     A    3004 31430  31487  31693  31714  31735
 @XITMSN       1 00000004 FFFFFFB5         3026 31707
 @XITMSO       0 00000004 FFFFFFB5         3016 31686
 @XITMSS       2 00000004 FFFFFFB5         3036 31728
 @XITNEW       1 00000000 FFFFFFB9     J    2913 29908U 33352U 33360M
 @XITNFL       1 00000000 FFFFFFB9     R    2900  2904
 @XITPARM     16 00000010 FFFFFFB7     X    2955 15213U 15411U 15608U 15804U 18057U 19524U 30638
 @XITQUAL      4 0000000C FFFFFFB7     A    2954 30637
 @XITRQID      4 00000000 FFFFFFB7     A    2951 15195M 15393M 15590M 15786M 18049M 19516M 30486
 @XITTSK       4 00000004 FFFFFFB7     A    2952 15206M 15404M 15601M 15797M 18050M 19517M 30539
 @XITTYPE      1 00000008 FFFFFFB7     X    2953 15207M 15405M 15602M 15798M 18051M 19518M 30577
 ACPUTIME      4 00005672 00000001     I   36945 19631  36940  36956U
 ACREATE       4 00002ABC 00000001     I   19661 19656  19672U 39498
 ACTASDB       4 00000502 00000001     I    6411  5562   6422U
 ACTASDB1      2 000004F6 00000001     H    6406  6405
 ACTTDB        4 00000656 00000001     I    6915  6352   6926U
 ACTTDB1       2 0000064A 00000001     H    6910  6909
 ASB          68 00000000 FFFFFFEC     J    1467  6474U  9684U 10757U 11241U 19754U 20525U 20852U 21072U 23385U 23774U
                                                 25472U 25574  25635M 25635  25636M 25734U 25749  25783M 25783  25784M
                                                 35722U 38474U
 ASBASDB       4 0000001C FFFFFFEC     A    1449 10763  11247  19817M 23391  23780  35728  38480
 ASBGCFLG      1 00000014 FFFFFFEC     R    1437  1441
 ASBLASP       8 00000008 FFFFFFEC     D    1427  6513   9689
 ASBNEXT       4 00000004 FFFFFFEC     A    1423 20593M 21112  21157  21164M 21164  25499  25836M
 ASCRE2        4 00002C22 00000001     I   20180 20191U 24287
 ASCRE21       2 00002C16 00000001     H   20175 20174
 ASDB        200 00000000 FFFFFFAA     J    3831  4635U  5804U  5870   5870   5887   5887   5891M  5891M  6460U  6776U
                                                  7002U  7169U  7345U  7684U  7769U  8216U  9285U  9793U  9979   9979
                                                  9981   9981   9985M  9985M 10238U 10633U 10781U 10796  11105U 11303U
                                                 11510U 11763  11763  11765  11765  11769M 11769M 12862U 13166U 13278U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  328
                                                 13757U 14044U 14417U 14642U 14689  14689  14691  14691  14695M 14695M
                                                 14898  14898  14915  14915  14919M 14919M 15152U 15350U 15547U 15743U
                                                 15976U 16831U 18510U 19076U 19435U 19812U 20225U 20824U 21407U 21424U
                                                 21884U 22330U 22438U 22628U 23447U 23836U 23899  23899  23916  23916
                                                 23920M 23920M 24427U 24529  24590M 24590  24591M 24708U 24723  24757M
                                                 24757  24758M 27005U 27065M 27164U 27248M 27284M 27390U 27450M 27589U
                                                 27624M 27770U 27805M 27951U 28166U 28286U 28521U 28763U 29107U 29377U
                                                 29599U 29743U 29926U 30189U 30471U 30949  30949  30951  30951  30955M
                                                 30955M 31083U 31247U 31409U 31648U 31781  31781  31783  31783  31787M
                                                 31787M 31892U 32110U 32370  32370  32372  32372  32376M 32376M 32560U
                                                 33198U 33520  33520  33522  33522  33526M 33526M 33688U 33951  33951
                                                 33953  33953  33957M 33957M 34150U 34724U 35765U 35881  35881  35883
                                                 35883  35887M 35887M 36023U 36334U 36519U 36869U 36977U 37145U 37265U
                                                 38498U
 ASDBACCT     64 00000024 FFFFFFAA         3741 16027  36528M
 ASDBASB       4 00000004 FFFFFFAA     A    3717  6464   8926   9869  16133  16876  19816M 20264  20515  20842  21912
                                                 22694
 ASDBATDB      4 0000003C FFFFFFAA     A    3774  5025   6006   6022M  6033   6089M  8344  28353  28588  33916  33929M
                                                 34453
 ASDBCCPT      8 000000A0 FFFFFFAA     D    3820  6481   6798M 19827M 19828  19829
 ASDBCCPU      4 00000018 FFFFFFAA     A    3725  6547M  6812M  6812
 ASDBCHN       4 00000008 FFFFFFAA     A    3718 19953M 20051M 21413  21472
 ASDBCPTQ      4 00000060 FFFFFFAA     A    3785 18650  18731  19149  19442  19497M 19541
 ASDBCTDB      4 00000038 FFFFFFAA     A    3773  4999   5978   6023M  6128M  6318M  6318   6553   7011   7178   7255M
                                                  7255   8331   9888  11739  15156  15354  15551  15747  15980  16877
                                                 18630  19137  19866M 20229  20359M 20828  21020M 28767  29111  29381
                                                 29603  29747  31087  31251  31413  31652  31896  32114  32564  33202
                                                 33692  33897M 33897  33937M 34228  36873  37149  37269
 ASDBDFLG      1 00000024 FFFFFFAA     R    3732  3736   3741   3746
 ASDBERBS      4 00000048 FFFFFFAA     A    3777 30074  30075M 30244
 ASDBFCPQ      4 00000074 FFFFFFAA     A    3793 18519  18612M 19340  19341M 19539  19540M
 ASDBFERB      4 00000068 FFFFFFAA     A    3790 29942  29970M 30328  30329M 32355  32356M
 ASDBFESB      4 0000006C FFFFFFAA     A    3791 28793  28821M 29255  29256M 34982  34983M
 ASDBFSTK      4 00000070 FFFFFFAA     A    3792 36046  36137  36138M 36157  36158M 36395  36396M
 ASDBFTDB      4 00000064 FFFFFFAA     A    3789 33223  33249M 33909  33910M 34592  34593M
 ASDBHPRI      2 0000001E FFFFFFAA     H    3727  9502   9504  11112M 19821M
 ASDBIFLG      1 00000028 FFFFFFAA     R    3755  3759   3764
 ASDBLOCK      4 00000030 FFFFFFAA     A    3771  5820   7486   7692   7693M  7782   7813M 10315  13179  13770  19838M
                                                 32298M 32298  33904M 33904
 ASDBLPRI      2 00000020 FFFFFFAA     H    3728  9496   9498  11113M
 ASDBNEXT      4 0000000C FFFFFFAA     A    3722 24454  24810M 27041M 27041  27063M 27063  27065M 27232  27248M 27248
                                                 27255  27426M 27426  27449M 27595  27805M
 ASDBNLTW      2 00000050 FFFFFFAA     H    3780  5076   6246   6247M 11670  11672M 30843  30845M 34555  34557M
 ASDBNSTW      2 0000004E FFFFFFAA     H    3779  6268   6269M 11698  11700M 30864  30866M 34576  34578M
 ASDBNTDB      2 0000004C FFFFFFAA     H    3778  5076  19867M 20896  20932  33335  33336M 33881  33883M 34431  34433M
 ASDBPAGN      4 00000090 FFFFFFAA     A    3800  8868  22134  22720M 22867  22975M 23484  28170
 ASDBPFLT     64 00000028 FFFFFFAA         3764 14655  14689  14691  14691  14695M 14898  14898  14915  14919M 23849
                                                 23899  23899  23916  23920M
 ASDBPREV      4 00000010 FFFFFFAA     A    3723 22334  22442  27064M 27219  27284M 27448M 27448  27450M 27624M 27776
 ASDBPZTS    128 00000024 FFFFFFAA         3736  5442   6805M  9380M
 ASDBQADD      4 00000014 FFFFFFAA     A    3724  8371   8724   9298  22736  22763  22985  23002  24087  27071M 27186
                                                 27295M 27295  27456M 27636M 27636  27817M 27817
 ASDBSCPU      8 000000A8 FFFFFFAA     D    3821 16014  16407M 19828M 37054
 ASDBSFLG      1 0000009C FFFFFFAA     R    3805  3809   3814
 ASDBSHCT      4 00000098 FFFFFFAA     A    3802  4789   5107   5149M  5185  10640  10649M 10827  10869M 14731  14739M
                                                 14924  14966M 16309  16351M 19837M 20649  20691M 22064M 22120M 22347
                                                 22455  22658  24012  24054M
 ASDBSLC       8 000000B0 FFFFFFAA     D    3822  9398M  9482M 16222  16382  19829M 20985M
 ASDBSOIP     64 0000009C FFFFFFAA         3814 22726M 23463  23475M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  329
 ASDBSPRI      2 00000022 FFFFFFAA     H    3729  4763   5346   6500   8605   8865   8870   9505M 10920  11114M 14804M
                                                 14804  19823M 22131  24094  27012  27171  27397  27955
 ASDBSTDB      4 00000044 FFFFFFAA     A    3776  5012   5909   7363   7383M  8318  35847  35855M
 ASDBSTK       4 00000034 FFFFFFAA     A    3772 20403M 20462  33717
 ASDBSUSP      4 0000002C FFFFFFAA     A    3767  4889   8303   9832   9840M 11310  11353M 14700  14708M 14824  14853M
                                                 21989  21997M 22828  22836M 23145  23512  23541M 23960  23989M 24180
                                                 35898
 ASDBSWTS    128 0000009C FFFFFFAA         3809  5095   5106M 16297  16308M 22063M 22119M
 ASDBTCPU      8 000000B8 FFFFFFAA     D    3823  7061   7235   9397   9481  16041  16043M 19484  36529  36892  37055
 ASDBTDBS      4 00000040 FFFFFFAA     A    3775 20362M 21019M 33329  33330M 33817  34367
 ASDBTDSP    128 00000028 FFFFFFAA         3759  5607   5842   5870   5870   5887   5891M  7837   9967   9979   9981
                                                  9981   9985M 10268  10460  11763  11765  11765  11769M 12888  13304
                                                 14070  14443  30949  30951  30951  30955M 31781  31783  31783  31787M
                                                 32370  32372  32372  32376M 33520  33522  33522  33526M 33951  33953
                                                 33953  33957M 35881  35883  35883  35887M
 ASDBTERM     32 00000024 FFFFFFAA         3746 16109  20965M 35778
 ASDBTIMR      8 00000058 FFFFFFAA     D    3784 16045  16384  18737M 19564M 19580M 19832M 20984M
 ASDBTPRI      2 0000001C FFFFFFAA     H    3726  9362   9389M  9432   9475M  9492  19822M
 ASDBWSIN      8 00000078 FFFFFFAA     D    3797 16085  16094  19830M 19831  38503M
 ASDBWSLC      8 00000080 FFFFFFAA     D    3798 16088  16090M
 ASDBWSLM      4 00000094 FFFFFFAA     A    3801 16135  19836M
 ASDBWSNC      8 00000088 FFFFFFAA     D    3799 16069  16096M 19831M
 ASDBWTST      8 000000C0 FFFFFFAA     D    3824  4863M  4927M  5063M  9423
 ASDISP        4 00000022 00000001     I    4225  4236U 11960  16730  24310  33124  36445
 ASDISP1       2 00000016 00000001     H    4220  4219
 ASDLP         2 00000086 00000001     H    4398  5648B
 ASEXIT        4 00002DC4 00000001     I   20792 20787  20803U
 ASLOCK        4 0000087E 00000001     I    7601  7596   7612U 11956  19622  33110  36437
 ASMGBLIN      1 00000000 0000000B     T   24281 24281
 ASMLCLIN      1 00000000 0000000D     T   24295 24295
 ASMLCLX       1 00000000 00000011     T   24305 24305
 ASMTASK       1 00000000 0000000E     T   24296 24296
 ASSYSTSK      4 0000115A 00000001     I   11073 11068  11084U
 ASULOCK       4 000008F8 00000001     I    7737  7732   7748U 11957  19624  33112  36443
 ASWAKE        4 00000A26 00000001     I    8128  8139U 11963  24319  36452
 ASWAKE1       2 00000A1A 00000001     H    8123  8122
 BR           10 0000000A FFFFFFFF A   #    1136  4226M  4236U  5736M  5746U  6412M  6422U  6701M  6711U  6916M  6926U
                                                  7121M  7131U  7314M  7324U  7602M  7612U  7738M  7748U  7906M  7916U
                                                  7969M  7979U  8129M  8139U  9236M  9246U  9561M  9571U  9749M  9759U
                                                 10183M 10193U 10602M 10612U 10713M 10723U 11074M 11084U 11159M 11169U
                                                 11466M 11476U 14611M 14621U 15121M 15131U 15319M 15329U 15516M 15526U
                                                 15712M 15722U 15932M 15942U 16475M 16485U 16787M 16797U 17211M 17221U
                                                 17465M 17475U 17966M 17976U 18191M 18201U 18466M 18476U 18801M 18811U
                                                 19025M 19035U 19404M 19414U 19662M 19672U 20181M 20191U 20793M 20803U
                                                 21723M 21733U 22584M 22594U 23327M 23337U 23730M 23740U 24355M 24365U
                                                 24664M 24674U 24887M 24897U 25177M 25187U 25400M 25410U 25690M 25700U
                                                 25913M 25923U 26203M 26213U 26427M 26437U 26709M 26719U 26964M 26974U
                                                 27123M 27133U 27349M 27359U 27511M 27521U 27691M 27701U 27872M 27882U
                                                 28009M 28019U 28242M 28252U 28477M 28487U 28719M 28729U 29063M 29073U
                                                 29346M 29356U 29568M 29578U 29712M 29722U 29882M 29892U 30145M 30155U
                                                 30427M 30437U 31039M 31049U 31203M 31213U 31365M 31375U 31604M 31614U
                                                 31861M 31871U 32066M 32076U 32529M 32539U 33154M 33164U 33644M 33654U
                                                 34106M 34116U 34680M 34690U 35188M 35198U 35460M 35470U 35658M 35668U
                                                 35992M 36002U 36290M 36300U 36488M 36498U 36592M 36602U 36838M 36848U
                                                 36946M 36956U 37101M 37111U 37221M 37231U 37349M 37359U 37542M 37552U
                                                 38084M 38094U 38268M 38278U 39022M 39032U 39288M 39298U
 CLEANUP1      2 000050E4 00000001     H   34674 34673
 CPCAN         4 00002906 00000001     I   19024 19019  19035U
 CPCHK         4 00002882 00000001     I   18800 18795  18811U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  330
 CPEXIT       16 00000000 FFFFFFD3     J    2135 18837U 19061U 19524U
 CPLOCK        4 0000097A 00000001     I    7905  7900   7916U
 CPSET         4 000027AA 00000001     I   18465 18460  18476U
 CPTIMER       4 000029D6 00000001     I   19403 16744  19414U
 CPTIMER1      2 000029CA 00000001     H   19398 19397
 CPTQ         32 00000000 FFFFFFA4     J    4198 18529U 18585  18628M 18628  18629M 18673U 18865U 18880  19090U 19116
                                                 19206U 19223U 19337M 19452U
 CPTQNEXT      4 00000004 FFFFFFA4     A    4187 18612  18698  18715M 19212  19257  19340M 19497  19539M
 CPTQPARM      4 00000018 FFFFFFA4     A    4191 18632M 18960  19333  19528
 CPTQTDB       4 00000010 FFFFFFA4     A    4189 18630M 18901  19137  19517
 CPTQTOD       8 00000008 FFFFFFA4     D    4188 18644M 18689  18689  18737  18920  18948  19293  19321  19484  19580
 CPTQXID       4 00000014 FFFFFFA4     A    4190 18631M 18959  19332  19516  19527
 CPULOCK       4 000009B0 00000001     I    7968  7963   7979U
 CPUTIMR       4 00002052 00000001     I   15931 15942U 16733
 CPUTIMR1      2 00002046 00000001     H   15926 15925
 CPWA         16 00000000 FFFFFF9F     J   15917 15958U
 CPWEINT       8 00000008 FFFFFF9F     D   15910 16089M 16134
 CPWINTC       8 00000000 FFFFFF9F     D   15909 16087M 16090
 CPXPARM       4 00000008 FFFFFFD3     A    2128 18960M 19333M 19528M
 CPXTID        4 00000000 FFFFFFD3     A    2126 18958M 19331M 19526M
 CPXXID        4 00000004 FFFFFFD3     A    2127 18959M 19332M 19527M
 CUR                      00000001 A   U   31947 31953  31980  31988
 CUR                      00000001 A   U   33207 33491  33508
 DCT         448 00000000 FFFFFFAC     J    3632  4504U  8257U  9337U  9667U  9807U 10123U 10916U 12205U 13497U 15000U
                                                 16004U 16503U 16845U 17516U 18010U 18222U 19730U 21290U 21767U 22642U
                                                 23371U 23932U 24410U 24796U 24942U 25309U 25455U 25822U 25968U 26335U
                                                 26482U 26837U 35256U 35565U 36651U 37386U 37600U 38325  38346U 38356M
                                                 38356  38357M 38357  38358M 39077U 39366U
 DCTACTIV      4 00000058 FFFFFFAC     A    3598  4684   5322   5399   5506   8498  19982  20080  22090  22396
 DCTASDBS      4 0000000C FFFFFFAC     A    3570 19953  19954M 20051  20052M 21353
 DCTFASB       4 00000028 FFFFFFAC     A    3579 25462  25501M 25829  25838M
 DCTFASDB      4 00000030 FFFFFFAC     A    3581 24417  24456M 24803  24812M
 DCTFRTCQ      4 00000040 FFFFFFAC     A    3585 25975  26014M 26342  26351M
 DCTFSTBQ      4 00000048 FFFFFFAC     A    3587 35260  35302M 35569  35580M
 DCTFSTK       4 00000050 FFFFFFAC     A    3589 26489  26515M 26844  26853M
 DCTFTDB       4 00000038 FFFFFFAC     A    3583 24949  24988M 25316  25325M
 DCTGASB       4 00000008 FFFFFFAC     A    3569  9674  38927M
 DCTIPCBS      4 00000170 FFFFFFAC     A    3618  8530  12235  17104  36655  37390  38694  38695M 39089
 DCTIPCBT      4 00000174 FFFFFFAC     A    3619 38698M 39181
 DCTLOCK       4 00000004 FFFFFFAC     A    3561  4527   4737   5587   8279   9073  16523  16681  16998  17079  17555
                                                 17757  18242  18414  19909  21348  21482  23952  24236  38553M
 DCTLWAIT      4 000000D0 FFFFFFAC     A    3601  8712  22802  23041
 DCTREADY      4 000000A8 FFFFFFAC     A    3600  8841   8961  21842  21958  22156
 DCTRTCQ       4 00000010 FFFFFFAC     A    3571 16532  16583M 16616  17003  17098  17631  18247
 DCTSHPF       4 00000104 FFFFFFAC     A    3608  4576   8974M  9004  10977  15032  16175  21807  21867M 22169M 23227
                                                 23630
 DCTSLCWT      8 00000148 FFFFFFAC     D    3614  9454  38385M
 DCTSLICE      8 00000120 FFFFFFAC     D    3613  9396   9480  19827  38384M
 DCTSLPF       4 00000100 FFFFFFAC     A    3607  4590   9018  10991  15046  16189  22218M 22946M 23126M 23241  23644
 DCTSPFCT      4 00000108 FFFFFFAC     A    3609  8867   8869M 22133  22135M 22204  22217  22932  22945  23112  23125
 DCTSTIME      8 00000020 FFFFFFAC     D    3574 36782  38388M
 DCTSWAIT      4 00000080 FFFFFFAC     A    3599  4955   5272   8359  22034  22288
 DCTSWOUT      4 000000F8 FFFFFFAC     A    3605 22183  22859  22868M 23067  23476  23485M
 DCTSWPRI      2 000000FC FFFFFFAC     H    3606  4777   8882  10932  22244  22253M 22277  22315  22423  22961M 23141M
                                                 24119  38389M
 DCTTRMSK      4 000001B4 FFFFFFAC     A    3620 12258  13502  37995M
 DCTVRLEN      4 000001BC FFFFFFAC     A    3625 38561M 38785  38787M 39402
 DCTVRST       4 000001B8 FFFFFFAC     A    3624 38560M 38781  38784M 39407
 DCTWSIN       8 00000018 FFFFFFAC     D    3573 19830  37719M 38386M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  331
 DCTWSLM       4 00000014 FFFFFFAC     A    3572 19780  19836  37763M 38387M
 DEFSLICE      8 00005C50 00000001     G   38964 38384
 DEFWAIT       8 00005C78 00000001     G   38972 38385
 DEFWSIN       8 00005CA0 00000001     G   38980 38386
 DEFWSLM       4 00005CA8 00000001     F   38984 38387
 DELASB        4 00003A60 00000001     I   25689 24308  25700U
 DELASB1       2 00003A54 00000001     H   25684 25683
 DELASDB       4 000037E0 00000001     I   24663 24309  24674U
 DELASDB1      2 000037D4 00000001     H   24658 24657
 DELGTDB       4 00003920 00000001     I   25176 24300  25187U
 DELGTDB1      2 00003914 00000001     H   25171 25170
 DELRTCQ       4 00003BA0 00000001     I   26202 19627  26213U
 DELRTCQ1      2 00003B94 00000001     H   26197 26196
 DEMOTE        4 00003250 00000001     I   22583  7563  22376  22474  22594U 24321
 DEMOTE1       2 00003244 00000001     H   22578 22577
 DISMASDB      4 000005E8 00000001     I    6700  4821   4921   5057   5376   5483   6711U
 DISMTDB       4 000006EA 00000001     I    7120  6083   6299   7131U
 DISMTDB1      2 000006DE 00000001     H    7115  7114
 DISPATCH      1 00000000 00000001     J    1220  1217   1218   1222   1328   1410   1468   1502   1533   1562   1581
                                                  1625   1650   1673   1696   1735   1758   1781   1804   1827   1849
                                                  1875   1898   1921   1944   1970   2011   2036   2061   2086   2111
                                                  2136   2171   2190   2210   2252   2273   2294   2324   2348   2379
                                                  2442   2461   2491   2524   2551   2571   2591   2613   2634   2653
                                                  2673   2702   2766   2814   2837   2883   2914   2937   2963   2989
                                                  3046   3159   3182   3208   3242   3267   3292   3317   3540   3633
                                                  3686   3832   3940   3973   4034   4126   4168   4199   4452   4471
                                                  5866   5885   6571   6796   7056
 DISPCPTA      4 0000553A 00000001     I   36487 36482  36498U
 DISPGRD      64 000000B8 FFFFFFAD         3492  4384   4403M  8633M  8896   8896   8897M  9032   9032   9033M  9089
                                                  9868M 10256  10448  10944M 11005  11005  11006M 12269M 12563M 12806M
                                                 12823  13239  14005  14378  14783M 15060  15060  15061M 16203  16203
                                                 16204M 16239M 21548M 22126M 23255  23255  23256M 23658  23658  23659M
 DISPINIT      4 0000598C 00000001     I   38083 38078  38094U
 DISPLTD      32 000000B8 FFFFFFAD         3497  4562   4602M  8896   8896   9032   9032  11005  11005  15060  15060
                                                 16203  16203  23255  23255  23658  23658
 DISPPIOC      4 000034C8 00000001     I   23729 23724  23740U
 DISPPTLB      4 00005762 00000001     I   37348 37343  37359U
 DISPRD        4 00000EC2 00000001     I   10182 10177  10193U 11947  33122
 DISPRDRT      2 0000101C 00000001     H   10560 10402
 DISPSHLD      4 00001032 00000001     I   10601 10596  10612U 24304
 DISPSIOC      4 000033F6 00000001     I   23326 23321  23337U
 DISPSREL      4 00001072 00000001     I   10712 10707  10723U
 DISPSTK     128 000000B8 FFFFFFAD         3487  5763   7631   8023  10361M 10548M 12190M 12353M 12503M 13010M 13133M
                                                 13404M 13602M 13864M 14170M 14353M 14565M 21221M 21626M 32290M 32456M
                                                 33792M 34039M
 DISPSYSR     16 000000B8 FFFFFFAD         3502  7462M  7476M  7643
 DISP00        1 00000000 00000001     R    1229  1227
 DMSINP        4 000032AA 00000001     I   22720 22707B
 DMSOK         4 00003340 00000001     I   22975 22708B
 DSPSTAT       4 00005570 00000001     I   36591 36586  36602U
 DSPSWA       32 00000000 FFFFFF97     J   36578 36625U
 DWFSA         8 00000000 FFFFFF97     D   36571 36631M 36632M 36633M 36634M 36783  36784  36785  36786M
 E                        00000001 A   U   31140 31142
 E                        00000001 A   U   31304 31306
 EPAR         15 0000000F FFFFFFFF A   #    1196  4226   4248M  4249   4262M  4263   4356M  4357B  4530M  4531B  4608M
                                                  4609B  4695M  4696B  4716M  4717B  4740M  4741B  4821M  4822B  4847M
                                                  4848B  4921M  4922B  4976M  4977B  5057M  5058B  5212M  5213B  5293M
                                                  5294B  5333M  5334B  5376M  5377B  5420M  5421B  5483M  5484B  5527M
                                                  5528B  5562M  5563B  5590M  5591B  5633M  5634B  5659M  5660   5673M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  332
                                                  5674   5736   5917M  5918   5931M  5932   5945M  5946B  5948M  5949
                                                  5962M  5963   6083M  6084B  6125M  6126B  6154M  6155   6168M  6169
                                                  6180M  6181B  6183M  6184   6197M  6198   6299M  6300B  6352M  6353B
                                                  6412   6701   6916   7121   7314   7468M  7469B  7602   7738   7849M
                                                  7850B  7906   7969   8129   8282M  8283B  8422M  8423B  8466M  8467B
                                                  8520M  8521B  8765M  8766B  8809M  8810B  8863M  8864B  8929M  8930B
                                                  8972M  8973B  9076M  9077B  9117M  9118B  9236   9561   9749  10017M
                                                 10018B 10105M 10106B 10183  10472M 10473B 10602  10713  11074  11159
                                                 11407M 11408B 11466  11588M 11589B 11736M 11737B 11906M 11907B 12275M
                                                 12276B 12281M 12282  12295M 12296  12439M 12440  12453M 12454  12633M
                                                 12634B 12740M 12741B 12773M 12774B 12835M 12836B 12900M 12901B 12919M
                                                 12920  12933M 12934  13225M 13226B 13251M 13252B 13316M 13317B 13707M
                                                 13708B 13856M 13857B 13922M 13923B 13957M 13958B 13985M 13986B 14017M
                                                 14018B 14082M 14083B 14289M 14290  14303M 14304  14364M 14365B 14390M
                                                 14391B 14455M 14456B 14474M 14475  14488M 14489  14611  14764M 14765B
                                                 14896M 14897  14898M 14900  14915M 14916  14919M 15121  15229M 15230B
                                                 15319  15426M 15427B 15516  15622M 15623B 15712  15820M 15821B 15932
                                                 16062M 16063B 16138M 16139B 16283M 16284B 16475  16526M 16527B 16614M
                                                 16615B 16684M 16685B 16787  16857M 16858B 16901M 16902B 17001M 17002B
                                                 17082M 17083B 17211  17257M 17258B 17419M 17420B 17465  17558M 17559B
                                                 17760M 17761B 17869M 17870B 17901M 17902B 17966  18067M 18068B 18099M
                                                 18100B 18131M 18132B 18191  18245M 18246B 18347M 18348B 18379M 18380B
                                                 18417M 18418B 18466  18594M 18595B 18641M 18642B 18801  18852M 18853B
                                                 18918M 18919B 18979M 18980B 19025  19291M 19292B 19404  19534M 19535B
                                                 19662  19742M 19743B 19783M 19784B 19790M 19791B 19800M 19801B 19847M
                                                 19848B 19895M 19896B 19902M 19951M 19952B 20003M 20004B 20032M 20033B
                                                 20101M 20102B 20181  20267M 20268B 20320M 20321B 20401M 20402B 20409M
                                                 20410B 20457M 20458B 20494M 20495B 20509M 20510B 20587M 20588B 20627M
                                                 20628B 20719M 20720B 20793  20908M 20909B 20975M 20976B 20982M 20983B
                                                 20994M 20995B 21006M 21007B 21062M 21063B 21180M 21181B 21203M 21204B
                                                 21210M 21211B 21256M 21257B 21275M 21276B 21302M 21303B 21324M 21325B
                                                 21351M 21352B 21485M 21486B 21517M 21518B 21554M 21555B 21723  21853M
                                                 21854B 21915M 21916B 21979M 21980B 22055M 22056B 22111M 22112B 22167M
                                                 22168B 22376M 22377B 22474M 22475B 22584  22697M 22698B 22779M 22780B
                                                 22823M 22824B 23018M 23019B 23062M 23063B 23180M 23181B 23327  23592M
                                                 23593B 23730  23897M 23898  23899M 23901  23916M 23917  23920M 23955M
                                                 23956B 24145M 24146B 24207M 24208B 24239M 24240B 24355  24538M 24539B
                                                 24664  24887  25070M 25071B 25177  25400  25583M 25584B 25690  25913
                                                 26096M 26097B 26203  26427  26597M 26598B 26709  26964  27123  27349
                                                 27511  27691  27872  28009  28242  28477  28719  28789M 28790B 28890M
                                                 28891B 28902M 28903B 28984M 28985B 29063  29242M 29243B 29253M 29254B
                                                 29262M 29263B 29346  29503M 29504B 29568  29712  29882  29938M 29939B
                                                 30039M 30040B 30081M 30082B 30145  30242M 30243B 30339M 30340B 30369M
                                                 30370B 30427  30899M 30900B 31039  31203  31365  31604  31794M 31795B
                                                 31861  31918M 31919B 32014M 32015B 32066  32136M 32137B 32383M 32384B
                                                 32529  33154  33219M 33220B 33310M 33311B 33366M 33367B 33374M 33375B
                                                 33382M 33383B 33390M 33391B 33417M 33418B 33425M 33566M 33567B 33573M
                                                 33574B 33644  33715M 33716B 33741M 33742B 33964M 33965B 34106  34159M
                                                 34160B 34278M 34279B 34358M 34359B 34599M 34600B 34680  34783M 34784B
                                                 34974M 34975B 35040M 35041B 35067M 35068B 35094M 35095B 35121M 35122B
                                                 35188  35384M 35385B 35460  35658  35922M 35923B 35992  36035M 36036B
                                                 36100M 36101B 36209M 36210B 36220M 36221B 36290  36344M 36345B 36393M
                                                 36394B 36402M 36403B 36488  36592  36838  36946  36987M 36999  37101
                                                 37221  37349  37542  38084  38150M 38151B 38155M 38156B 38159M 38160B
                                                 38169M 38170B 38200M 38201B 38204M 38205B 38217M 38218B 38268  38334M
                                                 38335B 38425M 38426B 38459M 38460B 38551M 38552B 38669M 38670B 38735M
                                                 38736B 38832M 38833B 38883M 38884B 38924M 38925B 39022  39288  39350M
                                                 39351B 39411M 39412B
 ERB         177 00000000 FFFFFFA6     J    4125 10029U 11829U 29964U 30030  30055U 30068M 30068  30069M 30230U 30327M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  333
                                                 30515U 30703  30721U 30760U 31128U 31292U 31460U 31947U 31973U 32186U
                                                 32354M 32624U 32719U 34820U 34879U
 ERBASDB       4 0000000C FFFFFFA6     A    4057 30070M 30530
 ERBCHN        4 00000008 FFFFFFA6     A    4056 30074M 30283  30290M 30290  30355
 ERBESB        4 00000014 FFFFFFA6     A    4059 32190  33056M
 ERBFDEL     128 00000019 FFFFFFA6         4100 30311M 32348
 ERBFL         1 00000019 FFFFFFA6     R    4096  4100
 ERBMTYPE      4 0000001C FFFFFFA6     A    4103 30632M 30633  30670  31488  31530  32629  32674  32726
 ERBNEXT       4 00000004 FFFFFFA6     A    4055 11881  29970  30328M 30676M 30702M 30702  30703  30736  30744  30750M
                                                 31504  31511  31531  31532  31953  31980M 31980  32320  32355M 32655
                                                 32675  32946M 34837  34896
 ERBPARM       4 0000002C FFFFFFA6     A    4113 30638M
 ERBQUAL       4 00000028 FFFFFFA6     A    4112 30637M 32811
 ERBRPARM      4 00000020 FFFFFFA6     A    4109 32959M 33004  33021
 ERBSFREE      0 00000018 FFFFFFA6         4071 30300  30611  31510M 31986M 32338M 32901M 34829M 34888M
 ERBSPEND      1 00000018 FFFFFFA6         4081 30625M
 ERBSTAT     113 00000040 FFFFFFA6     X    4118 10035  11833  31140U 31304U 31988M 31988  32321  32945M
 ERBSTFL       1 00000018 FFFFFFA6     R    4062  4071   4081   4091
 ERBTDB        4 00000010 FFFFFFA6     A    4058 30639M 31987M 31987  32332M 32332  32895M 32895  34836M 34836  34895M
                                                 34895
 ERBTYPE       1 00000024 FFFFFFA6     X    4110 30629M 32862
 ERROUTE1      2 00001E0A 00000001     H   15115 15114
 ESB          37 00000000 FFFFFFA7     J    4033 28815U 28881  28913U 28926M 28926  28927M 29156U 29209M 29424U 29484
                                                 29644U 29789U 32200U 32737U 34936U 34981M
 ESBFDIS      16 00000024 FFFFFFA7         4024 32227M 32779  32998M
 ESBFENCE     64 00000024 FFFFFFA7         4014 29173  29437  29653M 29802  29818M
 ESBFLGS       1 00000024 FFFFFFA7     R    4005  4009   4014   4019   4024
 ESBFQUAL     32 00000024 FFFFFFA7         4019 28952M 32796
 ESBFSTK     128 00000024 FFFFFFA7         4009 28978M 29219  32214  32987  34949
 ESBNEXT       4 00000004 FFFFFFA7     A    3993 28821  28994M 29208  29255M 29278  29446  32827  34980  34982M
 ESBPARM       4 00000020 FFFFFFA7     A    4002 28931M 32959
 ESBPSW        8 00000010 FFFFFFA7     D    3999 28930M 32958
 ESBQUAL       4 0000001C FFFFFFA7     A    4001 28953M 32811
 ESBSTACK      4 00000018 FFFFFFA7     A    4000 28986M 29236  33000  34966
 ESBTDB        4 00000008 FFFFFFA7     A    3994 28928M
 ESBTYPE       4 0000000C FFFFFFA7     A    3998 28929M 32758
 EXFLIH        2 00001596 00000001     H   12392 38991
 EXRADD        4 0000425E 00000001     I   28718 28713  28729U
 EXRDEL        4 00004322 00000001     I   29062 29057  29073U
 EXRDELA       4 000043C0 00000001     I   29345 29340  29356U
 EXRDONE       4 00004930 00000001     I   32065 32060  32076U
 EXRFDOWN      4 00004470 00000001     I   29711 29706  29722U
 EXRFENCE      4 00004430 00000001     I   29567 29562  29578U
 EXSCHED       4 00004AC0 00000001     I   32528  7568  32539U
 EXSCHED1      2 00004AB4 00000001     H   32523 32522
 FGSTK         4 00003CE6 00000001     I   26708 24299  26719U
 FGSTK1        2 00003CDA 00000001     H   26703 26702
 GETNASDB      2 000000F8 00000001     H    4660  4864B  4978B  5225B  5295B  5422B  5529B
 GGSTK         4 00003C30 00000001     I   26426 24288  26437U
 GGSTK1        2 00003C24 00000001     H   26421 26420
 HIBAL         1 00000000 FFFFFFFF     J     700   716    729    742    755    768    781    794    807    820    833
                                                   846    859    872    885    898    911   1012   1024   1036   1048
                                                  1060   1072   1084   1096   1108   1120   1132   1144   1156   1168
                                                  1180   1192   1204
 IDLE          4 00000D64 00000001     I    9560  4716   9571U
 IDLE1         2 00000D58 00000001     H    9555  9554
 INFLIH        2 000014AA 00000001     H   12167 38989
 INITDIS1      4 00005A16 00000001     I   38267 38278U 39489
 INITDIS2      4 00005D3C 00000001     I   39021 39032U 39492
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  334
 INITDIS3      4 00005DBE 00000001     I   39287 39282  39298U
 IOFLIH        2 00001B54 00000001     H   14242 38995
 IOSINIT       1 00000000 0000001A     T   39488 39488
 IOSINTER      1 00000000 00000006     T   16741 16741
 IPCB         17 00000000 FFFFFFAB     J    3685  4414U  4456   4456   4473   4473   4477M  4477M  6495U  6732U  8540U
                                                  8670   8670   8672   8672   8676M  8676M  9632U 12539U 12605  12605
                                                 12622  12622  12626M 12626M 12676  12676  12693  12693  12697M 12697M
                                                 17114U 17125  17125  17127  17127  17131M 17131M 36683U 37416U 37444
                                                 37444  37446  37446  37450M 37450M 38660  38681U 38691M 38691  38692M
                                                 39115U 39191U
 IPCBCPUA      2 0000000C FFFFFFAB     H    3658  8681  17133  37432  37452  38693M 39146  39152
 IPCBFL        1 00000010 FFFFFFAB     R    3662  3666   3671   3676
 IPCBNEXT      4 00000004 FFFFFFAB     A    3656  8583  36755  37458  38694M 39160
 IPCBPRIO      2 0000000E FFFFFFAB     H    3659  6500M  6737M  8571   8577   9637M
 IPCBPZ        4 00000008 FFFFFFAB     A    3657 36728  38737M 39119  39196
 IPFLGRD     128 00000010 FFFFFFAB         3666  4428   4456   4456   4473   4477M  8658   8670   8672   8672   8676M
                                                 12552
 IPFLPTLB     32 00000010 FFFFFFAB         3676 12648  12676  12676  12693  12697M 37444  37446  37446  37450M
 IPFLRCC      64 00000010 FFFFFFAB         3671 12577  12605  12605  12622  12626M 17125  17127  17127  17131M
 IPL                      00000001 A   U   38059 38359  38393  38777  38928  39043  39084  39085
 ISMASDB1      2 000005DC 00000001     H    6695  6694
 ITVAL         8 00005618 00000001     X   36814 36746  36749
 LKCRE         1 00000000 0000001E     T   39499 39499
 LKINIT        1 00000000 00000019     T   39487 39487
 LKOB          1 00000000 00000003     T    7559  7559  11949  16747  19620  24289
 LKREL         1 00000000 00000004     T    7562  7562  11954  16750  19621  24291
 LOCDISP       2 000002D6 00000001     H    5597  4387B
 LTDISP        4 00003086 00000001     I   21722  7560  21733U
 LTDISP1       2 0000307A 00000001     H   21717 21716
 LTDWA         0 00000000 FFFFFF9E     J   21708 21749U
 LTPFUPD       4 00003156 00000001     I   22131 22065B
 LTPINP        4 00003106 00000001     I   21989 21925B
 LTPOK         2 00003136 00000001     H   22076 21926B
 MAT         256 00000000 FFFFFFED     J    1409  4313U  4545U  8985U 10959U 15014U 16157U 19706U 20540U 21038U 21781U
                                                 22898U 23078U 23199U 23611U 24386U 24772U 24918U 25285U 25431U 25798U
                                                 25944U 26311U 26458U 26813U 35232U 37586U 38369U 38403U 39053U 39319U
 MATASBL       4 000000B0 FFFFFFED     A    1382 20546  21059  21177  39352M
 MATASBS       4 000000AC FFFFFFED     A    1381 20593  20594M 21067
 MATDCT        4 00000008 FFFFFFED     A    1362 19712  24392  24778  24924  25291  25437  25804  25950  26317  26464
                                                 26819  35238  37590  38375M 39059  39356
 MATPAGFN      4 000000DC FFFFFFED     A    1388  4550   8990  10963  15018  16161  21795  22184  22904  23084  23205
                                                 23616
 MATPTR        4 00000200 FFFFFFED A   A    1356 39309
 MATSNAME      8 000000D4 FFFFFFED     C    1387 37665  37666  38408M
 MATTECB       8 00000040 FFFFFFED     D    1376  4348
 MAXPRIO       1 00000003 FFFFFFAC A   U    3594  3595  11955  19827  24322
 MCFLIH        2 00001B24 00000001     H   14204 38994
 MITMK1        1 00000000 FFFFFFB4     R    3080  3084   3089   3094   3099   3104   3109   3114   3119
 MITMK2        1 00000001 FFFFFFB4     R    3125  3129   3134   3139
 MONROUTE      4 00001FBE 00000001     I   15711 13957  15722U
 MONSET        4 00005722 00000001     I   37220 37215  37231U
 M1GOWAIT      1 00000000 0000000F     T   24302 24302
 NEWASB        4 000039B0 00000001     I   25399 24279  25410U 39505
 NEWASB1       2 000039A4 00000001     H   25394 25393
 NEWASDB       4 00003730 00000001     I   24354 24282  24365U
 NEWASDB1      2 00003724 00000001     H   24349 24348
 NEWGTDB       4 00003870 00000001     I   24886 24285  24897U
 NEWGTDB1      2 00003864 00000001     H   24881 24880
 NEWRTCQ       4 00003AF0 00000001     I   25912 19617  25923U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  335
 NEWRTCQ1      2 00003AE4 00000001     H   25907 25906
 NITDIS11      2 00005A0A 00000001     H   38262 38261
 NITDIS21      2 00005D30 00000001     H   39016 39015
 NOTINP        4 00001D64 00000001     I   14824 14809B 14812B
 NUMPRIO       1 00000005 FFFFFFAC A   U    3596  3598   3599   3600   3601   3609   3613   3614   7572   8529  22186
                                                 22914  23094  27548  27729  27910  28047  38384  38385
 NXT                      00000001 A   U   28376 28392  28401
 NXT                      00000001 A   U   28611 28627  28636
 ONROUTE1      2 00001FB2 00000001     H   15706 15705
 PAGASC1       1 00000000 0000000A     T   24280 24280
 PAGAST1       1 00000000 00000010     T   24303 24303
 PAGAST2       1 00000000 00000012     T   24306 24306
 PAGFAULT      1 00000000 00000007     T   16742 16742
 PAGINIT       1 00000000 0000001B     T   39490 39490
 PAGISWAP      1 00000000 00000013     T   24314 24314
 PAGOSWAP      1 00000000 00000014     T   24317 24317
 PAGSFIX       1 00000000 00000016     T   36454 36454
 PAGSWADV      1 00000000 00000005     T   11952 11952
 PAGUSFIX      1 00000000 00000017     T   36455 36455
 PAGWSMAN      1 00000000 00000008     T   16745 16745
 PARMFINT      4 00000000 FFFFFFBD         2734 37681M 37733M
 PARMFSTR      0 00000000 FFFFFFBD         2724 37620M
 PARMFYN       8 00000000 FFFFFFBD         2744 37781M 37854M 37927M
 PARMIN        4 00000000 FFFFFFBD     J    2765 37517  37609U 37642  37649  37690  37697  37741  37748  37804  37811
                                                 37877  37884  37950  37957
 PARMKEYS      4 00000004 FFFFFFBD     A    2758 37621M 37682M 37683M 37734M 37782M 37783M 37855M 37856M 37928M 37929M
 PARMTYPE      1 00000000 FFFFFFBD     R    2715  2724   2734   2744   2754
 PERROUTE      4 00001E16 00000001     I   15120 13856  13922  15131U
 PERSET        4 000056E6 00000001     I   37100 37095  37111U
 PFBAD         4 00001D5A 00000001     I   14811 14770B
 PFEND         2 00001E00 00000001     H   15069 14788B
 PFINPRO       2 00001D44 00000001     H   14779 14769B
 PFLT          4 00001CA0 00000001     I   14610 14621U 16738
 PFLT1         2 00001C94 00000001     H   14605 14604
 PFOK          2 00001D62 00000001     H   14816 14771B
 PFRET         4 00001D34 00000001     I   14769 14767B
 PFWAIT        2 00001D4E 00000001     H   14799 14772B
 PIEND         2 00001A96 00000001     H   13995 13720B 13924B
 PIFLIH        2 000018B8 00000001     H   13438 38993
 PIROUTE       4 00001EAA 00000001     I   15318 13985  15329U
 PIROUTE1      2 00001E9E 00000001     H   15313 15312
 PQADD         4 00003DAA 00000001     I   26963  7564  11951  24290  26974U
 PQADD1        2 00003D9E 00000001     H   26958 26957
 PQASDB        4 00000000 FFFFFF9B     A   26941  4970M  5287M  5414M  5521M  8416M  8514M  8759M  8857M 19997M 20095M
                                                 21973M 22049M 22105M 22773M 22817M 23012M 23056M 26995  27154  27380
 PQDEL         4 00003E18 00000001     I   27122 11950  24318  27133U
 PQDEL1        2 00003E0C 00000001     H   27117 27116
 PQHFND        4 00003F62 00000001     I   27579 27565B
 PQHIGH        4 00003F30 00000001     I   27510  7561  24312  27521U
 PQHIGH1       2 00003F24 00000001     H   27505 27504
 PQHLP1        2 00003F52 00000001     H   27550 27571B
 PQHPFN        4 00004062 00000001     I   28008 11953  24316  28019U
 PQHPFN1       2 00004056 00000001     H   28003 28002
 PQLFND        4 00003FD2 00000001     I   27760 27746B
 PQLLP1        2 00003FC2 00000001     H   27731 27752B
 PQLOW         4 00003F9E 00000001     I   27690 27701U
 PQLOW1        2 00003F92 00000001     H   27685 27684
 PQPARM        8 00000000 FFFFFF9B     J   26949  4671U  4942U  5259U  8394U  8485U  8828U  8948U 19969U 20067U 21829U
                                                 21945U 22757U 26990U 27149U 27375U 27537U 27717U 27898U 28035U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  336
 PQPFFND       4 000040D0 00000001     I   28117 28064B
 PQPFLP1       2 00004088 00000001     H   28049 28109B
 PQPFND        4 00004044 00000001     I   27941 27927B
 PQPLP1        2 00004034 00000001     H   27912 27933B
 PQPRIO        4 0000400E 00000001     I   27871  7565  27882U
 PQPRIO1       2 00004002 00000001     H   27866 27865
 PQQUEUE       4 00000004 FFFFFF9B     A   26942  4689M  4960M  5277M  5327M  5404M  5511M  8405M  8503M  8748M  8846M
                                                  8966M 19987M 20085M 21847M 21963M 22039M 22095M 22161M 22763M 22807M
                                                 23002M 23046M 27014  27071  27173  27186  27399  27456  27546  27726
                                                 27908  28045
 PQREQ         4 00003EC2 00000001     I   27348  7566  24315  27359U
 PQREQ1        2 00003EB6 00000001     H   27343 27342
 PRV                      00000001 A   U   31973 31980  31986  31987  31987  31988
 PSA         432 00000000 FFFFFFAD     J    3539  3542U  4262   5673   5931   5962   6168   6197   7569   7571  12295
                                                 12453  12933  14303  14488  16751  16752  16756  36738U 36987  38752U
                                                 39133U 39210U 39510
 PSAASDB       4 000000A4 FFFFFFAD     A    3476  4625   4807   4907   5043   5363   5470   5548   5554M  5794   6435
                                                  6751   6819M  6819   6977   7144   7335   7674   7759   8234   9591
                                                  9783  10228  10623  11095  11500  12852  13144  13268  13735  14034
                                                 14407  14632  15142  15340  15537  15733  15966  16821  18500  19066
                                                 19425  20215  20814  21525M 21525  28276  28511  28753  29097  29367
                                                 29589  29733  29916  30179  30461  31073  31237  31399  31638  31882
                                                 32100  32550  33188  33678  34140  34714  36013  36324  36509  36859
                                                 36967  37135  37255
 PSACPLK       4 000000B4 FFFFFFAD     A    3480  7928   7929M  7987   7989M  9104  10215  10362M 10490  10555M 10555
                                                 12184M 12314  12360M 12360  12469  12497M 12952  13017M 13017  13099
                                                 13127M 13346  13411M 13411  13568  13596M 13871M 13871  14112  14177M
                                                 14177  14319  14347M 14507  14572M 14572  21222M 21568  21633M 21633
                                                 32254  32291M 32398  32463M 32463  33756  33793M 33981  34046M 34046
 PSACPUA       2 0000008A FFFFFFAD     H    3468 37432  38771M
 PSACPUID      8 00000090 FFFFFFAD     D    3469 12212M
 PSACTRS       4 00000158 FFFFFFAD     A    3526 12193  39134M
 PSADCT        4 000000AC FFFFFFAD     A    3478  4494   8247   9327   9657   9797  10906  12195  13487  14990  15994
                                                 16493  16835  17506  18000  18212  21277  21757  22632  23361  23922
                                                 35555  36641  37376  38791M
 PSADFLG1      1 000000B8 FFFFFFAD     R    3483  3487   3492   3497   3502
 PSADSTK       4 000000B0 FFFFFFAD     A    3479 10408  12191  12507  13137  13661  14357  21224  32283  33794  38782M
 PSADWK1       8 00000198 FFFFFFAD     D    3530 16546M 16564  37026M 37027M 37028
 PSAFPRS       8 00000048 FFFFFFAD     D    3455 10364M 10365M 10366M 10367M 10537  10538  10539  10540  12342  12343
                                                 12344  12345  12400M 12401M 12402M 12403M 12999  13000  13001  13002
                                                 13051M 13052M 13053M 13054M 13393  13394  13395  13396  13533M 13534M
                                                 13535M 13536M 14159  14160  14161  14162  14250M 14251M 14252M 14253M
                                                 14554  14555  14556  14557  21615  21616  21617  21618  32445  32446
                                                 32447  32448  34028  34029  34030  34031
 PSAGPRS       4 00000008 FFFFFFAD     F    3454 10363M 10541  12346  12399M 13003  13050M 13397  13532M 14163  14249M
                                                 14558  21619  32449  34032
 PSAIPCB       4 000000A0 FFFFFFAD     A    3472  4404   6485   6722   8622   9622  12235  12529  36701  38795M
 PSAKCUR       2 00000088 FFFFFFAD     H    3464  4248   4263M  5659   5674M  5917   5932M  5948   5963M  6154   6169M
                                                  6183   6198M 12281  12296M 12439  12454M 12919  12934M 14289  14304M
                                                 14474  14489M 36999  38770M
 PSAKDISP      8 00000078 FFFFFFAD     D    3462  4262   4264   5962   5964   6197   6199   7569  12251  12453  12455
                                                 16752  36747  38768M 39510
 PSAKIOSV      8 00000080 FFFFFFAD     D    3463 14303  14305  16756  36750  38769M
 PSAKUSER      8 00000070 FFFFFFAD     D    3461  5673   5675   5931   5933   6168   6170   6481M  6798   7571   9656M
                                                 12295  12297  12933  12935  14488  14490  16011M 16012  16408M 16751
                                                 36987  37020  37026  37045
 PSAPIIC       2 000000BE FFFFFFAD     H    3509 13822
 PSAPIILC      2 000000BC FFFFFFAD     H    3508 13530M 13538  15218  15416  15809
 PSAPRFXR      4 00000098 FFFFFFAD     A    3470 38794M 39211
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  337
 PSAPRFXV      4 0000009C FFFFFFAD     A    3471 38792M
 PSAPSW        8 00000000 FFFFFFAD     D    3453  3456   3456   9701M 10355M 10372M 10397  10398M 10404M 10415  10518
                                                 10556  12361  12398M 12418  12980  13018  13069M 13070  13374  13412
                                                 13531M 13537  13620  13843  13881  14140  14178  14248M 14268  14535
                                                 14573  21596  21634  32426  32464  34009  34047
 PSASGPRS      4 00000118 FFFFFFAD     A    3525 11991M 12131M
 PSASMASK      1 000000B9 FFFFFFAD     X    3505 12194M 16978M 17148  17538M 17763  18518M 18548  18614  18649M 18743
                                                 19098M 19267  19339M 19343  19923M 20035  20358M 20364  21010M 21024
                                                 30479M 30984  31448M 31543  32244M 33786M 34793M 34849  36657M 36778
                                                 36891M 36896  36982M 37057  37371M 37473
 PSASPSW       8 00000110 FFFFFFAD     D    3524 11990M 12022  12130M
 PSASTATE    104 00000000 FFFFFFAD     X    3456  6641M  6857   7065M  7227  32322M 32940  33048M
 PSATCHG       8 00000068 FFFFFFAD     D    3460 16033  16035M 36745
 PSATDB        4 000000A8 FFFFFFAD     A    3477  5619   5644   6069   6285   6338   6612   6643M  6825   6864M  6864
                                                  6943   7067M  7221   7262M  7262  10277  17332  17619  18901  20360M
                                                 21022M 21532M 21532  30937  32934  33042  33890M 33890
 PSATRB0       4 000000C0 FFFFFFAD     A    3513 12255  13482  13484M 38849M
 PSATRB1       4 000000C4 FFFFFFAD     A    3514 38900M
 PSATRGRS      4 000000CC FFFFFFAD     F    3516 13441M 13516  13532
 PSATRMLK      1 000000BA FFFFFFAD     X    3506  4284M
 PSATRWK       4 000000C8 FFFFFFAD     A    3515 12259M 12260  13511M 13512
 PZABORT     128 0000021A FFFFFFEE         1308  5137M  5779M  6535M  6629M  6960M  7503M  7659M  7799M  8039M  8195M
                                                  9315M  9607M 10332M 10506M 10812M 10857M 11220M 11282M 11340M 11554M
                                                 12016  12330M 12485M 12968M 13115M 13196M 13362M 13584M 13642M 13787M
                                                 13903M 14128M 14216M 14335M 14523M 14671M 14954M 15255M 15452M 15648M
                                                 15846M 16339M 20344M 20679M 20948M 21145M 21460M 21584M 23426M 23815M
                                                 23865M 24042M 24564M 24739M 25096M 25252M 25609M 25765M 26122M 26278M
                                                 26623M 26770M 27202M 28097M 28145M 28332M 28567M 32162M 32271M 32414M
                                                 32877M 33773M 33997M 34244M 34308M 39437M
 PZABR15       4 0000021C FFFFFFEE     A    1317  5138M  5780M  6536M  6630M  6961M  7504M  7660M  7800M  8040M  8196M
                                                  9316M  9608M 10333M 10507M 10813M 10858M 11221M 11283M 11341M 11555M
                                                 12131  12331M 12486M 12969M 13116M 13197M 13363M 13585M 13643M 13788M
                                                 13904M 14129M 14217M 14336M 14524M 14672M 14955M 15256M 15453M 15649M
                                                 15847M 16340M 20345M 20680M 20949M 21146M 21461M 21585M 23427M 23816M
                                                 23866M 24043M 24565M 24740M 25097M 25253M 25610M 25766M 26123M 26279M
                                                 26624M 26771M 27203M 28098M 28146M 28333M 28568M 32163M 32272M 32415M
                                                 32878M 33774M 33998M 34245M 34309M 39438M
 PZABSM        1 0000021B FFFFFFEE     X    1316  5131M  5773M  6529M  6623M  6954M  7497M  7653M  7793M  8033M  8189M
                                                  9309M  9601M 10326M 10500M 10806M 10851M 11214M 11276M 11334M 11548M
                                                 12130  12324M 12479M 12962M 13109M 13190M 13356M 13578M 13636M 13781M
                                                 13897M 14122M 14210M 14329M 14517M 14665M 14948M 15249M 15446M 15642M
                                                 15840M 16333M 20338M 20673M 20942M 21139M 21454M 21578M 23420M 23809M
                                                 23859M 24036M 24558M 24733M 25090M 25246M 25603M 25759M 26116M 26272M
                                                 26617M 26764M 27196M 28091M 28139M 28326M 28561M 32156M 32265M 32408M
                                                 32871M 33767M 33991M 34238M 34302M 39431M
 PZATERM      64 0000021A FFFFFFEE         1313  4278   4302M 12794
 PZCPUMSK      4 00000214 FFFFFFEE     A    1296 38776M
 PZCURASB      4 00000208 FFFFFFEE     A    1293  6512M  9655M  9655  17311  17598  18294  38928M
 PZCURPID      8 00000208 FFFFFFEE     D    1292 21539M 21539
 PZCURTSK      4 0000020C FFFFFFEE     A    1294  6644M  7068M 20361M 21021M
 PZERO       640 00000000 FFFFFFEE     J    1327  1338U  3542   3542U  4262   5673   5931   5962   6168   6197   7569
                                                  7571  12295  12453  12933  14303  14488  16751  16752  16756  36733
                                                 36987  38059U 38748U 38752  38752U 38767M 38793  39129U 39133  39133U
                                                 39153  39206U 39210  39210U 39240U 39510
 PZEXCPU       2 00000084 FFFFFFEE     H    1265 12419
 PZEXIC        2 00000086 FFFFFFEE     H    1266 12523  12728  12761
 PZEXOPSW      8 00000018 FFFFFFEE     D    1253 12398
 PZIOOPSW      8 00000038 FFFFFFEE     D    1257 14248
 PZIOSID       4 000000B8 FFFFFFEE     A    1277 14269
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  338
 PZLCPUA       4 00000210 FFFFFFEE     A    1295  5139   5781   6537   6547   6631   6962   7505   7661   7801   8041
                                                  8197   9317   9609  10334  10508  10814  10859  11222  11284  11342
                                                 11556  12332  12487  12970  13117  13198  13364  13586  13644  13789
                                                 13905  14130  14218  14337  14525  14673  14956  15257  15454  15650
                                                 15848  16341  20346  20681  20950  21147  21462  21586  23428  23817
                                                 23867  24044  24566  24741  25098  25254  25611  25767  26124  26280
                                                 26625  26772  27204  28099  28147  28334  28569  32164  32273  32416
                                                 32879  33775  33999  34246  34310  38772M 38773M 39084M 39085  39439
 PZMATP        4 00000200 FFFFFFEE     A    1290  4303   4535   8975  10949  15004  16147  19696  20530  21028  21771
                                                 22888  23068  23189  23601  24376  24762  24908  25275  25421  25788
                                                 25934  26301  26448  26803  35222  37576  38359  38393  38777M 38777
                                                 39043
 PZMONCD       4 0000009C FFFFFFEE     A    1275 15811
 PZMONCL       2 00000094 FFFFFFEE     H    1272 15810
 PZPAT       128 00005CB0 00000001     X   38996 38767  38767
 PZPERA        4 00000098 FFFFFFEE     A    1274 15220
 PZPERCD       2 00000096 FFFFFFEE     H    1273 15219
 PZPIIC        2 0000008E FFFFFFEE     H    1270 13457
 PZPIILC       2 0000008C FFFFFFEE     H    1269 13530
 PZPIOPSW      8 00000028 FFFFFFEE     D    1255 13517  13531
 PZPS          8 00005CB0 00000001     D   38988 38996  38996
 PZRSNPSW      8 00000000 FFFFFFEE     D    1250 12217M 12218M 39242
 PZRSOPSW      8 00000008 FFFFFFEE     D    1251 11990
 PZSVILC       2 00000088 FFFFFFEE     H    1267 13071  15613
 PZSVNPSW      8 00000060 FFFFFFEE     D    1260 13843
 PZSVOPSW      8 00000020 FFFFFFEE     D    1254 13069
 PZTERMFL      1 0000021A FFFFFFEE     R    1304  1308   1313
 PZTREXA       4 00000090 FFFFFFEE     A    1271 13539
 Q                        00000001 A   U   17026 17042  17051
 Q                        00000001 A   U   18673 18689  18698
 RA            2 00000002 FFFFFFFF A   #    1028  4303M  4313U  4535M  4545U  5107M  5114   5149M  7363M  7364M  7364
                                                  7383M  7416M  7416   7431U  7486M  7487M  7487   7515M  8529M  8571
                                                  8577M  8605   8865M  8866M  8867   8869   9393M  9394M  9396   9432M
                                                  9446   9452   9469M  9475   9479M  9480   9832M  9840M 10376M 10376
                                                 10378M 10396M 10397M 10398  10402M 10403M 10404  10640M 10647  10649M
                                                 10827M 10834  10869M 10920M 10932  10949M 10959U 11310M 11317  11353M
                                                 11582M 11604  11858  12022M 12255M 12257M 12258M 12259  13456M 13457M
                                                 13476  13614M 13614  13677  13691  13943  14700M 14708M 14824M 14831
                                                 14853M 14916M 14917M 14919  14924M 14931  14966M 14990M 15000U 16147M
                                                 16157U 16309M 16316  16351M 16532M 16542U 16558M 16558  16608  16616M
                                                 16635M 16635  16859M 16869U 17069  17098  17149  17264M 17384M 17386M
                                                 17388M 17389M 17390  17404M 17404  17421  17822M 17824M 17826M 17827M
                                                 17828  18014M 18024U 18059  18125  18262M 18263M 18263  18278U 18373
                                                 18519M 18529U 18541M 18541  18596M 18716  18731  18744  18854M 18964M
                                                 18964  18981  19442M 19452U 19466M 19466  19526  19540  19541M 19558M
                                                 19558  19897M 19898  19899  19900M 19901  19909M 19910M 19910  20530M
                                                 20540U 20649M 20656  20691M 21008M 21012  21067M 21112M 21223M 21269
                                                 21353M 21413M 21922M 21924B 21989M 21997M 22131M 22132M 22133  22135
                                                 22186M 22198M 22198  22204  22217  22226M 22232M 22244  22253  22283M
                                                 22284M 22288  22396  22704M 22706B 22835M 22836  22859M 22866  22868M
                                                 22888M 22898U 22914M 22926M 22926  22932  22945  22954M 22960M 22961
                                                 23094M 23106M 23106  23112  23125  23134M 23140M 23141  23483M 23484M
                                                 23485  23512M 23519  23541M 23917M 23918M 23920  23960M 23967  23989M
                                                 24012M 24019  24054M 24094M 24119  24417M 24427U 24445M 24445  24456M
                                                 24487M 24487  24576M 24592  24803M 24810  24812M 24949M 24959U 24977M
                                                 24977  24988M 25019M 25019  25108M 25124  25316M 25323  25325M 25462M
                                                 25472U 25490M 25490  25501M 25532M 25532  25621M 25637  25829M 25836
                                                 25838M 25975M 25985U 26003M 26003  26014M 26045M 26045  26134M 26150
                                                 26342M 26349  26351M 26489M 26504M 26504  26515M 26546M 26546  26635M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  339
                                                 26661  26844M 26851  26853M 27012M 27013M 27014M 27171M 27172M 27173M
                                                 27397M 27398M 27399M 27546M 27726M 27908M 28045M 28353M 28401M 28588M
                                                 28636M 29128M 29278M 29446M 29447  29505  29622M 29623M 29623  29644U
                                                 29767M 29768M 29768  29789U 30244M 30355M 31676M 31693M 31714M 31735M
                                                 31740  31763M 32593M 32675M 33004M 33005  33021M 33022  33420M 33421
                                                 33422M 33423  33475M 33491M 33496  33508  33817M 33857M 34329M 34330M
                                                 34330  34367M 34407M 34453M 34493M 34757M 34758M 34758  34794M 34805M
                                                 34805  34820U 34837M 34853M 34864M 34864  34879U 34896M 34910M 34921M
                                                 34921  34936U 34983  34984M 35260M 35270U 35291M 35291  35302M 35333M
                                                 35333  35386M 35402  35528M 35533  35569M 35576  35580M 35823M 35823
                                                 35824M 35847M 35854  35855M 36046M 36047M 36047  36105M 36106  36157M
                                                 36222  36338M 36396  37628M 37635M 37652  37667M 37700  37712  37716M
                                                 37716  37718M 37719  37751  37763  37790M 37797M 37814  37863M 37870M
                                                 37887  37936M 37943M 37960  38152M 38196  38464M 38474U 38480M 38498U
                                                 38587M 38587  38588M 38603M 38696M 38697M 38698  38774M 38775M 38776
                                                 38793M 38794  38834M 38849  38885M 38900  39089M 39100M 39100  39115U
                                                 39160M
 RAR          14 0000000E FFFFFFFF A   #    1184  4357M  4531M  4609M  4696M  4717M  4741M  4822M  4848M  4922M  4977M
                                                  5058M  5213M  5294M  5334M  5377M  5421M  5484M  5528M  5563M  5591M
                                                  5634M  5704B  5946M  6084M  6126M  6181M  6300M  6353M  6379B  6671B
                                                  6886B  7090B  7284B  7469M  7547B  7710B  7850M  7875B  7941B  8062B
                                                  8283M  8423M  8467M  8521M  8766M  8810M  8864M  8930M  8973M  9077M
                                                  9118M  9153B  9532B  9718B 10018M 10106M 10153B 10473M 10574B 10685B
                                                 11046B 11131B 11408M 11435B 11589M 11737M 11907M 11934B 12276M 12634M
                                                 12741M 12774M 12836M 12901M 13226M 13252M 13317M 13708M 13857M 13923M
                                                 13958M 13986M 14018M 14083M 14365M 14391M 14456M 14765M 15093B 15230M
                                                 15288B 15427M 15485B 15623M 15681B 15821M 15879B 16063M 16139M 16284M
                                                 16443B 16527M 16615M 16685M 16707B 16858M 16902M 17002M 17083M 17181B
                                                 17258M 17420M 17438B 17559M 17761M 17870M 17902M 17934B 18068M 18100M
                                                 18132M 18159B 18246M 18348M 18380M 18418M 18435B 18595M 18642M 18771B
                                                 18853M 18919M 18980M 18998B 19292M 19375B 19535M 19606B 19743M 19784M
                                                 19791M 19801M 19848M 19896M 19952M 20004M 20033M 20102M 20147B 20268M
                                                 20321M 20402M 20410M 20458M 20495M 20510M 20588M 20628M 20720M 20761B
                                                 20909M 20976M 20983M 20995M 21007M 21063M 21181M 21204M 21211M 21257M
                                                 21276M 21303M 21325M 21352M 21486M 21518M 21555M 21673B 21854M 21916M
                                                 21980M 22056M 22112M 22168M 22377M 22475M 22526B 22698M 22780M 22824M
                                                 23019M 23063M 23181M 23295B 23593M 23698B 23956M 24146M 24208M 24240M
                                                 24267B 24539M 24614B 24858B 25071M 25146B 25371B 25584M 25659B 25884B
                                                 26097M 26172B 26397B 26598M 26678B 26894B 27093B 27317B 27478B 27659B
                                                 27840B 27977B 28192B 28446B 28681B 28790M 28891M 28903M 28985M 29031B
                                                 29243M 29254M 29263M 29316B 29504M 29537B 29684B 29853B 29939M 30040M
                                                 30082M 30113B 30243M 30340M 30370M 30398B 30900M 31007B 31174B 31338B
                                                 31575B 31795M 31826B 31919M 32015M 32037B 32137M 32384M 32496B 33102B
                                                 33220M 33311M 33367M 33375M 33383M 33391M 33418M 33567M 33574M 33613B
                                                 33716M 33742M 33965M 34074B 34160M 34279M 34359M 34600M 34627B 34784M
                                                 34975M 35041M 35068M 35095M 35122M 35156B 35385M 35429B 35630B 35923M
                                                 35958B 36036M 36101M 36210M 36221M 36239B 36345M 36394M 36403M 36425B
                                                 36546B 36808B 36918B 37074B 37194B 37320B 37490B 38022B 38151M 38156M
                                                 38160M 38170M 38201M 38205M 38218M 38235B 38335M 38426M 38460M 38552M
                                                 38670M 38736M 38833M 38884M 38925M 38951B 39259B 39351M 39412M 39470B
 RB            3 00000003 FFFFFFFF A   #    1040  7435M  7515   9839M  9840  10385M 10385  10386M 10387M 10391M 10392M
                                                 10396  11317M 11318M 11353  11384M 11384  11413  13483M 13484  14707M
                                                 14708  15004M 15014U 17104M 17114U 17384M 17390  17822M 17828  20515M
                                                 20525U 20594  21087M 21088M 21088  21103  21129M 21129  21365M 21366M
                                                 21366  21381  21407U 21444M 21444  22184M 22185  22216M 22217M 22218
                                                 22334M 22382  22442M 22480  22904M 22913  22944M 22945M 22946  23068M
                                                 23078U 23084M 23093  23124M 23125M 23126  24417M 24455  24803M 24949M
                                                 24987  25316M 25462M 25500  25829M 25975M 26013  26342M 26489M 26514
                                                 26844M 27547M 27571  27909M 27933  28046M 28109  28365M 28366M 28366
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  340
                                                 28418  28600M 28601M 28601  28653  29140M 29141M 29141  29156U 29202
                                                 29256  29398M 29409M 29409  29424U 29505M 30230U 30257M 30258M 30258
                                                 30277  30703M 30721U 30744M 32608M 32609M 32609  32624U 32654  33818M
                                                 33830  33853U 33858M 34368M 34380  34403U 34408M 34454M 34466  34489U
                                                 34494M 34980M 34984  35260M 35301  35569M 35577  36106M 36127M 37664M
                                                 37712M 37717M 37719  38171M 38197  38558M 38559M 38560  38781M 38782
                                                 38783M 38784  38785M 38786M 38787  39153M 39154M 39155M 39196M 39206U
 RDPARM        4 00000000 FFFFFF96     X   37517 37609U
 RDPARMS       4 000057D8 00000001     I   37541 37552U 39495
 RDPARMS1      2 000057CC 00000001     H   37536 37535
 RDPSTR       20 00000018 FFFFFF96     C   37520 37628  37635  37790  37797  37833  37863  37870  37906  37936  37943
                                                 37979
 RDPWA        44 00000000 FFFFFF96     J   37527 37568U
 RESUMAS       4 0000119A 00000001     I   11158 11153  11169U
 RESUMTS       4 00001298 00000001     I   11465 11460  11476U
 RJ            4 00000004 FFFFFFFF A   #    1052  7448M  7468  10019M 10029U 10035M 10053U 11802M 11814M 11814  11829U
                                                 11881M 13482M 13484  15994M 16004U 16931M 16940M 16947M 16952M 16953
                                                 17003M 17051M 17520M 17530U 17661  17836  17895  18650M 18698M 19080M
                                                 19090U 19179  19331  19341  22288M 22301M 22301  22330U 22368  22382M
                                                 22396M 22409M 22409  22438U 22466  22480M 24454M 24456  24698M 24708U
                                                 24812  24986M 24988  25211M 25221U 25325  25499M 25501  25724M 25734U
                                                 25838  26012M 26014  26237M 26247U 26351  26513M 26515  26743M 26853
                                                 27020M 27021M 27021  27064  27065  27219M 27220M 27220  27248  27268
                                                 27284  27405M 27406M 27406  27449  27450  27595M 27596M 27596  27624
                                                 27629  27728M 27752  27776M 27777M 27777  27805  27810  27906M 27906
                                                 27924  28043M 28043  28061  28081  28129  31449M 31531M 31953M 31954M
                                                 31954  35300M 35302  35495M 35524U 35580  35787M 35816U 35855  36107M
                                                 36120  36126  36127  36128M 36711M 36711  36728M 36733M 37390M 37401M
                                                 37401  37416U 37458M 37642M 37649M 37652  37665M 37667M 37690M 37697M
                                                 37700  37741M 37748M 37751  37804M 37811M 37814  37877M 37884M 37887
                                                 37950M 37957M 37960  38671M 38681U 38695  38698  38795  38926M 38927
                                                 38928  38934  39085M 39146  39179
 RK            5 00000005 FFFFFFFF A   #    1064 12529M 12539U 13482M 13483  13487M 13497U 16931M 16953  17015M 17016M
                                                 17016  18662M 18663M 18663  20322M 20359  20360  20361  20362  20382U
                                                 24455M 24811M 24987M 25324M 25500M 25837M 26013M 26350M 26514M 26852M
                                                 27255M 27256M 27256  27284  27729M 31450M 31460U 31481M 31481  31511M
                                                 31532M 31927M 31928M 31928  32140M 32141M 32141  32186U 32301  32301
                                                 32309  32309  32356  32727M 32737U 32752M 32752  32827M 32844M 32844
                                                 33056  35301M 35577M 35579M 36108M 36120  37666M 38565M 38576M 38576
                                                 38583M 38588  38693  38696  38771  38772
 RM            8 00000008 FFFFFFFF A   #    1100  6464M  6474U  6512  19744M 19754U 19779  19816  20110  21028M 21038U
                                                 22262M 22262  22277  22283  22315  22423  22494M 30485M 30968M 30968
                                                 30985  33202M 38738M 38748U 38792
 RN            9 00000009 FFFFFFFF A   #    1112  4404M  4414U  6485M  6495U  6722M  6732U  8530M  8540U  8554M  8554
                                                  8578   8583M  8589M  8622   9591M  9592M  9592   9622M  9632U 17565M
                                                 17743M 17743  17773M 17773  17907  19104M 19261M 19261  19277M 19277
                                                 19348  19696M 19706U 19712M 19730U 20842M 20852U 21103  21318  21771M
                                                 21781U 28793M 28794M 28794  28815U 28892M 28913U 28995  28999  29942M
                                                 29943M 29943  29964U 30041M 30055U 30075  30086  30196M 30277  30329
                                                 30486M 30515U 30677  30750  31103M 31104M 31104  31128U 31267M 31268M
                                                 31268  31292U 32591M 32591  32648M 32648  32654M 32701M 32701  32719U
                                                 32947  39119M 39129U
 RS            1 00000001 FFFFFFFF A   #    1016  4550M  4576   4590   4763M  4777   4789M  4790M  4790   4889M  4890M
                                                  4890   4999M  5000M  5000   5012M  5013M  5013   5025M  5026M  5026
                                                  5114M  5115M  5149   5185M  5186M  5186   5619M  5620M  5620   5644M
                                                  5645M  5645   5909M  5910M  5910   6033M  6034M  6034   6046   6089
                                                  6127   6612M  6613M  6613   6943M  6944M  6944   7376M  7376   7383
                                                  7452   7453   7782M  7783M  7783   7812M  7813   7822M  7822   7987M
                                                  7988M  7989   8303M  8304M  8304   8318M  8319M  8319   8331M  8332M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  341
                                                  8332   8344M  8345M  8345   8359M  8371   8528M  8528   8578M  8589
                                                  8681M  8682M  8682   8712M  8724   8867M  8868M  8869   8870M  8882
                                                  8975M  8985U  9104M  9105M  9105   9362M  9363M  9384M  9384   9389
                                                  9393   9452M  9453M  9454   9492M  9496   9498M  9502   9504M  9505
                                                  9674M  9684U 10315M 10316M 10316  10647M 10648M 10649  10747M 10757U
                                                 10834M 10835M 10869  10900M 10900  10963M 10977  10991  11670M 11671M
                                                 11672  11698M 11699M 11700  11738M 11751  11833M 11843U 12469M 12470M
                                                 12470  13099M 13100M 13100  13179M 13180M 13180  13486M 13502M 13511
                                                 13568M 13569M 13569  13770M 13771M 13771  13872M 13873B 14319M 14320M
                                                 14320  14731M 14739M 14766M 14767B 14831M 14832M 14848M 14848  14853
                                                 14897M 14907M 14917  14931M 14932M 14966  15018M 15032  15046  16161M
                                                 16175  16189  16316M 16317M 16351  17133M 17134M 17134  17631M 17670M
                                                 17688U 17694M 18247M 18300M 19149M 19188M 19206U 19212M 20546M 20547M
                                                 20547  20603M 20603  20656M 20657M 20691  20877M 21795M 21807  21996M
                                                 21997  22133M 22134M 22135  22183M 22185M 22204M 22216  22347M 22348M
                                                 22348  22455M 22456M 22456  22658M 22659M 22659  22736M 22737M 22737
                                                 22828M 22836M 22866M 22867M 22868  22913M 22932M 22944  22985M 22986M
                                                 22986  23067M 23093M 23112M 23124  23145M 23154M 23154  23189M 23199U
                                                 23205M 23227  23241  23476M 23483  23485M 23519M 23520M 23536M 23536
                                                 23541  23569M 23569  23601M 23611U 23898M 23908M 23918  23967M 23968M
                                                 23984M 23984  23989  24019M 24020M 24054  24105M 24105  24180M 24181M
                                                 24181  27548M 27562  27571M 27579  27608  27629  27727M 27743  27752M
                                                 27760  27789  27810  27910M 27924  27933M 27941  28047M 28061  28081
                                                 28109M 28117  28129  30577M 30590  30629  30736M 30737M 30737  30779M
                                                 30780M 30843M 30844M 30845  30864M 30865M 30866  31430M 31431M 32190M
                                                 32200U 32592M 32628  32726M 32759  33000M 33001  33002M 33003  33063M
                                                 33064M 33065  33066  33334M 33335M 33336  33881M 33882M 33883  34431M
                                                 34432M 34433  34555M 34556M 34557  34576M 34577M 34578  35021M 35022M
                                                 35022  35034  35048M 35049M 35049  35061  35075M 35076M 35076  35088
                                                 35102M 35103M 35103  35115  35532M 35532  35533M 35898M 35899M 35899
                                                 37291M 37292  37452M 37453M 37453  37774M 37774  37839M 37912M 37985M
                                                 37995  38359M 38369U 38393M 38403U 39043M 39053U 39152M 39154  39155
                                                 39179M 39180M 39181M 39181  39191U
 RSFLIH        2 0000143A 00000001     H   11987 16726
 RTCAN         4 0000258A 00000001     I   17464 17459  17475U
 RTCHK         4 000024EC 00000001     I   17210 17205  17221U
 RTCLOCK       4 000021C2 00000001     I   16474 16485U 16732
 RTCLOCK1      2 000021B6 00000001     H   16469 16468
 RTCQ         41 00000000 FFFFFFA5     J    4167 16542U 16869U 17026U 17275U 17290  17530U 17577  17688U 17705U 18024U
                                                 18278U 25985U 26087  26148M 26148  26149M 26247U 26262  26296M 26296
                                                 26297M
 RTCQASB       4 00000010 FFFFFFA5     A    4147 16606  16876M 17311  17598  18294
 RTCQFLGS      1 00000028 FFFFFFA5     R    4154  4158
 RTCQNEXT      4 00000004 FFFFFFA5     A    4145 16583  17051  17068M 17694  17739  18300  18316  26012  26349M
 RTCQPARM      4 00000020 FFFFFFA5     A    4151 16905M 17400  17838  18061
 RTCQSYSR      4 00000018 FFFFFFA5     A    4149 16605  16903M 17863  18093  18341
 RTCQTDB       4 00000014 FFFFFFA5     A    4148 16877M 17332  17619  18050
 RTCQTOD       8 00000008 FFFFFFA5     D    4146 16564  16657  16930M 16931  16953M 16969M 17042  17042  17356  17384
                                                 17794  17822
 RTCQXID       4 0000001C FFFFFFA5     A    4150 16904M 17399  17837  18049  18060
 RTEXIT       16 00000000 FFFFFFD6     J    2060 17247U 17501U 18057U
 RTINTVL     128 00000028 FFFFFFA5         4158 16929M
 RTSET         4 000023E0 00000001     I   16786 16781  16797U
 RTSYSR        4 00002698 00000001     I   17965 16748  17976U
 RTSYSR1       2 0000268C 00000001     H   17960 17959
 RTTERM        4 00002718 00000001     I   18190 18201U 24307
 RTTERM1       2 0000270C 00000001     H   18185 18184
 RTXPARM       4 00000008 FFFFFFD6     A    2053 17400M 17838M 18061M
 RTXTID        4 00000000 FFFFFFD6     A    2051 17398M 17836M 18059M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  342
 RTXXID        4 00000004 FFFFFFD6     A    2052 17399M 17837M 18060M
 RVR           0 00000000 FFFFFFFF A   #    1004  4348M  4684M  4697   4857M  4857   4955M  5222M  5222   5272M  5322M
                                                  5346   5399M  5453M  5453   5506M  6140M  6141M  6245M  6246M  6247
                                                  6267M  6268M  6269   7691M  7692M  7693   7927M  7928M  7929   8498M
                                                  8841M  8961M  8974  11413M 13717M 13717  14738M 14739  14766  14787M
                                                 14787  14808M 14808  14811M 14818M 14818  15239M 15239  15436M 15436
                                                 15632M 15632  15830M 15830  16859  16903  17149M 17421M 17907M 18585M
                                                 18596  18744M 18981M 19348M 19744  19802  19849  19897  19982M 20080M
                                                 20110M 20311M 20322  20403  20996  21008  21842M 21855  21958M 22034M
                                                 22090M 22156M 22169  22665M 22713M 22720  22802M 22968M 22968  22975
                                                 23041M 23267M 23267  24155M 24155  24529M 24548M 24548  24576  24592M
                                                 25061M 25080M 25080  25108  25124M 25574M 25593M 25593  25621  25637M
                                                 26087M 26106M 26106  26134  26150M 26588M 26607M 26607  26635  26661M
                                                 27545M 27545  27562  27608  27624  27637M 27725M 27725  27727  27743
                                                 27789  27805  27818M 27907M 27955M 28044M 28170M 28881M 28892  28986
                                                 28999M 29179M 29267M 29267  29289M 29484M 29764M 29811M 29811  30030M
                                                 30041  30086M 30213M 30344M 30344  30371M 30630M 30631M 30632  30985M
                                                 31487M 31488M 31669M 31676  31740M 32628M 32629M 32758M 32759M 33301M
                                                 33312  33368  33376  33384  33392  33419  33420  33578M 35375M 35386
                                                 35402M 35494M 35603M 35603  35692M 35931M 35931  36085M 36105  36201M
                                                 36222M 36385M 36529M 38152  38171  38325M 38336  38464  38553  38660M
                                                 38671  38726M 38737  38738  38823M 38834  38874M 38885  38926  38934M
                                                 39352  39421M 39421
 RX            6 00000006 FFFFFFFF A   #    1076  4494M  4504U  5820M  5821M  5821   5978M  5979M  5979   5989U  6006M
                                                  6007M  6007   6023   6069   6127M  6128   6285   6338   6553M  6554M
                                                  6554   6557   6565   6596U  6643   6644   6825M  6826M  6826   6850U
                                                  7011M  7012M  7012   7036U  7042   7042   7050   7050   7067   7068
                                                  7178M  7179M  7179   7203U  7221   8247M  8257U  9298M  9299M  9299
                                                  9327M  9337U  9657M  9667U  9797M  9807U  9888M  9901U  9991  10090
                                                 10277M 10287U 10906M 10916U 11516M 11517M 11517  11575U 11739M 12195M
                                                 12205U 15156M 15166U 15354M 15364U 15551M 15561U 15747M 15757U 15980M
                                                 15990U 16493M 16503U 16835M 16845U 17265M 17275U 17398  17506M 17516U
                                                 18000M 18010U 18212M 18222U 18855M 18865U 18958  19849M 19859U 19866
                                                 20229M 20239U 20503  20828M 20838U 20858  20866  21012M 21019  21020
                                                 21021  21022  21250  21277M 21290U 21757M 21767U 22632M 22642U 23361M
                                                 23371U 23922M 23932U 24376M 24386U 24392M 24410U 24762M 24772U 24778M
                                                 24796U 24908M 24918U 24924M 24942U 25275M 25285U 25291M 25309U 25421M
                                                 25431U 25437M 25455U 25788M 25798U 25804M 25822U 25934M 25944U 25950M
                                                 25968U 26301M 26311U 26317M 26335U 26448M 26458U 26464M 26482U 26803M
                                                 26813U 26819M 26837U 28290M 28300U 28419  28525M 28535U 28654  28767M
                                                 28777U 28928  29111M 29121U 29381M 29391U 29603M 29613U 29747M 29757U
                                                 30539M 30568U 30639  30937  31087M 31097U 31251M 31261U 31413M 31423U
                                                 31652M 31662U 31896M 31906U 32114M 32124U 32564M 32574U 32934  33042
                                                 33223M 33224M 33224  33234U 33312M 33330  33692M 33702U 33733  33798
                                                 33798  33806  33806  33830  33910  33916M 33917M 33917  33937  34164M
                                                 34193U 34228  34270  34380  34466  34593  34731M 34741U 35222M 35232U
                                                 35238M 35256U 35555M 35565U 36641M 36651U 36873M 36883U 37149M 37159U
                                                 37269M 37279U 37376M 37386U 37590M 37600U 38336M 38346U 38375  38791
                                                 39059M 39077U 39356M 39366U
 RY            7 00000007 FFFFFFFF A   #    1088  4625M  4635U  4650M  4650   4697M  4807   4841   4907   5043   5206
                                                  5363   5470   5548   5554   5794M  5804U  6435M  6436M  6436   6460U
                                                  6557   6565   6751M  6752M  6752   6776U  6782   6782   6790   6790
                                                  6977M  6978M  6978   7002U  7144M  7145M  7145   7169U  7335M  7345U
                                                  7674M  7684U  7759M  7769U  8168M  8216U  8234   9275M  9285U  9783M
                                                  9793U 10215M 10216M 10216  10228M 10238U 10623M 10633U 10763M 10781U
                                                 11095M 11105U 11193M 11241U 11247M 11303U 11401  11500M 11510U 12852M
                                                 12862U 12876M 12876  13144M 13145M 13145  13166U 13268M 13278U 13292M
                                                 13292  13735M 13736M 13736  13757U 14034M 14044U 14058M 14058  14407M
                                                 14417U 14431M 14431  14632M 14642U 15142M 15152U 15340M 15350U 15537M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  343
                                                 15547U 15733M 15743U 15966M 15976U 16821M 16831U 18500M 18510U 19066M
                                                 19076U 19425M 19435U 19802M 19812U 19817  19877  19954  20052  20215M
                                                 20225U 20814M 20824U 20858  20866  21381  21511  21855M 21884U 22618M
                                                 22628U 23174  23375M 23385U 23391M 23447U 23586  23764M 23774U 23780M
                                                 23836U 24139  24201  26995M 27005U 27033  27034  27065  27066  27154M
                                                 27164U 27380M 27390U 27418  27419  27450  27451  27579M 27589U 27637
                                                 27760M 27770U 27818  27941M 27951U 28117M 28166U 28276M 28286U 28511M
                                                 28521U 28753M 28763U 29097M 29107U 29367M 29377U 29589M 29599U 29733M
                                                 29743U 29916M 29926U 30070  30179M 30189U 30461M 30471U 30530  31073M
                                                 31083U 31237M 31247U 31399M 31409U 31638M 31648U 31882M 31892U 32100M
                                                 32110U 32550M 32560U 33188M 33198U 33328  33578  33678M 33688U 34140M
                                                 34150U 34208  34714M 34724U 35693M 35722U 35728M 35765U 35824  35916
                                                 36013M 36023U 36324M 36334U 36509M 36519U 36655M 36668M 36668  36683U
                                                 36701  36755M 36859M 36869U 36967M 36977U 37135M 37145U 37255M 37265U
                                                 37576M 37586U 39309M 39319U
 R0            0 00000000 FFFFFFFF A   #     708  1338U  4225   4474M  4475M  4477   5735   5888M  5889M  5891   6411
                                                  6700   6915   7120   7313   7601   7737   7905   7968   8128   8673M
                                                  8674M  8676   9235   9560   9748   9982M  9983M  9985  10182  10363
                                                 10415M 10418  10426  10518M 10521  10529  10601  10712  11073  11158
                                                 11465  11766M 11767M 11769  12069M 12072  12103M 12106  12121M 12124
                                                 12418M 12422  12430  12623M 12624M 12626  12694M 12695M 12697  12980M
                                                 12983  12991  13070M 13074  13082  13374M 13377  13385  13441  13516M
                                                 14140M 14143  14151  14268M 14272  14280  14535M 14538  14546  14610
                                                 14692M 14693M 14695  15120  15318  15515  15711  15931  16474  16786
                                                 17128M 17129M 17131  17210  17464  17965  18190  18465  18800  19024
                                                 19403  19661  20180  20792  20905M 21596M 21599  21607  21722  22583
                                                 23326  23729  24354  24663  24886  25176  25399  25689  25912  26202
                                                 26426  26658M 26658  26659M 26708  26797M 26797  26798M 26963  27122
                                                 27348  27510  27690  27871  28008  28241  28476  28718  29062  29345
                                                 29567  29711  29881  30144  30426  30952M 30953M 30955  31038  31202
                                                 31364  31603  31784M 31785M 31787  31860  32065  32373M 32374M 32376
                                                 32426M 32429  32437  32528  33153  33523M 33524M 33526  33643  33954M
                                                 33955M 33957  34009M 34012  34020  34105  34679  35187  35459  35657
                                                 35884M 35885M 35887  35991  36289  36487  36591  36837  36945  37100
                                                 37220  37348  37447M 37448M 37450  37541  38083  38267  38765M 38765
                                                 38766M 38847M 38847  38848M 38898M 38898  38899M 39021  39240U 39287
 R1            1 00000001 FFFFFFFF A   #     721  4455M  4465M  4475   5702M  5869M  5879M  5889   6377M  6669M  6884M
                                                  7088M  7282M  7545M  7708M  7873M  7939M  8060M  8671M  8672M  8674
                                                  9151M  9530M  9716M  9980M  9981M  9983  10151M 10415M 10418  10426
                                                 10518M 10521  10529  10572M 10683M 11044M 11129M 11433M 11764M 11765M
                                                 11767  11932M 12418M 12604M 12614M 12624  12675M 12685M 12695  12980M
                                                 12983  12991  13070M 13374M 13377  13385  14140M 14143  14151  14268M
                                                 14535M 14538  14546  14690M 14691M 14693  15091M 15286M 15483M 15679M
                                                 15877M 16441M 16705M 17126M 17127M 17129  17179M 17436M 17932M 18157M
                                                 18433M 18769M 18996M 19373M 19604M 20145M 20759M 21596M 21599  21607
                                                 21671M 22524M 23293M 23696M 24265M 24612M 24856M 25144M 25369M 25657M
                                                 25882M 26170M 26395M 26676M 26892M 27091M 27315M 27476M 27657M 27838M
                                                 27975M 28190M 28444M 28679M 29029M 29314M 29535M 29682M 29851M 30111M
                                                 30396M 30950M 30951M 30953  31005M 31172M 31336M 31573M 31782M 31783M
                                                 31785  31824M 32035M 32371M 32372M 32374  32426M 32429  32437  32494M
                                                 33100M 33521M 33522M 33524  33611M 33952M 33953M 33955  34009M 34012
                                                 34020  34072M 34625M 35154M 35427M 35628M 35882M 35883M 35885  35956M
                                                 36237M 36423M 36544M 36806M 36916M 37072M 37192M 37318M 37445M 37446M
                                                 37448  37488M 38020M 38233M 38949M 39257M 39468M
 R14          14 0000000E FFFFFFFF A   #     890 12072  12106  12124  26650M 26657M 26659M 26789M 26796M 26798M 38760M
                                                 38764M 38766M 38842M 38846M 38848M 38893M 38897M 38899M
 R15          15 0000000F FFFFFFFF A   #     903  4225   4454M  4455   4456M  4458   4473M  4474   4477M  5138   5139M
                                                  5140M  5141M  5142M  5143M  5143   5702M  5735   5780   5781M  5782M
                                                  5783M  5784M  5785M  5785   5868M  5869   5870M  5872   5887M  5888
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  344
                                                  5891M  6377M  6411   6536   6537M  6538M  6539M  6540M  6541M  6541
                                                  6630   6631M  6632M  6633M  6634M  6635M  6635   6669M  6700   6884M
                                                  6915   6961   6962M  6963M  6964M  6965M  6966M  6966   7088M  7120
                                                  7282M  7313   7504   7505M  7506M  7507M  7508M  7509M  7509   7545M
                                                  7601   7660   7661M  7662M  7663M  7664M  7665M  7665   7708M  7737
                                                  7800   7801M  7802M  7803M  7804M  7805M  7805   7873M  7905   7939M
                                                  7968   8040   8041M  8042M  8043M  8044M  8045M  8045   8060M  8128
                                                  8196   8197M  8198M  8199M  8200M  8201M  8201   8670M  8673   8676M
                                                  8990M  9004   9018   9151M  9235   9316   9317M  9318M  9319M  9320M
                                                  9321M  9321   9530M  9560   9608   9609M  9610M  9611M  9612M  9613M
                                                  9613   9716M  9748   9979M  9982   9985M 10151M 10182  10333  10334M
                                                 10335M 10336M 10337M 10338M 10338  10363  10507  10508M 10509M 10510M
                                                 10511M 10512M 10512  10572M 10601  10683M 10712  10813  10814M 10815M
                                                 10816M 10817M 10818M 10818  10858  10859M 10860M 10861M 10862M 10863M
                                                 10863  11044M 11073  11129M 11158  11221  11222M 11223M 11224M 11225M
                                                 11226M 11226  11283  11284M 11285M 11286M 11287M 11288M 11288  11341
                                                 11342M 11343M 11344M 11345M 11346M 11346  11433M 11465  11555  11556M
                                                 11557M 11558M 11559M 11560M 11560  11763M 11766  11769M 11932M 12331
                                                 12332M 12333M 12334M 12335M 12336M 12336  12486  12487M 12488M 12489M
                                                 12490M 12491M 12491  12603M 12604  12605M 12607  12622M 12623  12626M
                                                 12674M 12675  12676M 12678  12693M 12694  12697M 12969  12970M 12971M
                                                 12972M 12973M 12974M 12974  13116  13117M 13118M 13119M 13120M 13121M
                                                 13121  13197  13198M 13199M 13200M 13201M 13202M 13202  13363  13364M
                                                 13365M 13366M 13367M 13368M 13368  13441  13516M 13585  13586M 13587M
                                                 13588M 13589M 13590M 13590  13643  13644M 13645M 13646M 13647M 13648M
                                                 13648  13788  13789M 13790M 13791M 13792M 13793M 13793  13904  13905M
                                                 13906M 13907M 13908M 13909M 13909  14129  14130M 14131M 14132M 14133M
                                                 14134M 14134  14217  14218M 14219M 14220M 14221M 14222M 14222  14336
                                                 14337M 14338M 14339M 14340M 14341M 14341  14524  14525M 14526M 14527M
                                                 14528M 14529M 14529  14610  14672  14673M 14674M 14675M 14676M 14677M
                                                 14677  14689M 14692  14695M 14955  14956M 14957M 14958M 14959M 14960M
                                                 14960  15091M 15120  15256  15257M 15258M 15259M 15260M 15261M 15261
                                                 15286M 15318  15453  15454M 15455M 15456M 15457M 15458M 15458  15483M
                                                 15515  15649  15650M 15651M 15652M 15653M 15654M 15654  15679M 15711
                                                 15847  15848M 15849M 15850M 15851M 15852M 15852  15877M 15931  16340
                                                 16341M 16342M 16343M 16344M 16345M 16345  16441M 16474  16705M 16786
                                                 17125M 17128  17131M 17179M 17210  17436M 17464  17932M 17965  18157M
                                                 18190  18433M 18465  18769M 18800  18996M 19024  19373M 19403  19604M
                                                 19661  20145M 20180  20345  20346M 20347M 20348M 20349M 20350M 20350
                                                 20680  20681M 20682M 20683M 20684M 20685M 20685  20759M 20792  20949
                                                 20950M 20951M 20952M 20953M 20954M 20954  21146  21147M 21148M 21149M
                                                 21150M 21151M 21151  21461  21462M 21463M 21464M 21465M 21466M 21466
                                                 21585  21586M 21587M 21588M 21589M 21590M 21590  21671M 21722  22524M
                                                 22583  23293M 23326  23427  23428M 23429M 23430M 23431M 23432M 23432
                                                 23616M 23630  23644  23696M 23729  23816  23817M 23818M 23819M 23820M
                                                 23821M 23821  23866  23867M 23868M 23869M 23870M 23871M 23871  24043
                                                 24044M 24045M 24046M 24047M 24048M 24048  24087M 24088M 24088  24265M
                                                 24354  24565  24566M 24567M 24568M 24569M 24570M 24570  24612M 24663
                                                 24740  24741M 24742M 24743M 24744M 24745M 24745  24856M 24886  25097
                                                 25098M 25099M 25100M 25101M 25102M 25102  25144M 25176  25253  25254M
                                                 25255M 25256M 25257M 25258M 25258  25369M 25399  25610  25611M 25612M
                                                 25613M 25614M 25615M 25615  25657M 25689  25766  25767M 25768M 25769M
                                                 25770M 25771M 25771  25882M 25912  26123  26124M 26125M 26126M 26127M
                                                 26128M 26128  26170M 26202  26279  26280M 26281M 26282M 26283M 26284M
                                                 26284  26395M 26426  26624  26625M 26626M 26627M 26628M 26629M 26629
                                                 26676M 26708  26771  26772M 26773M 26774M 26775M 26776M 26776  26892M
                                                 26963  27091M 27122  27203  27204M 27205M 27206M 27207M 27208M 27208
                                                 27315M 27348  27476M 27510  27657M 27690  27838M 27871  27975M 28008
                                                 28098  28099M 28100M 28101M 28102M 28103M 28103  28146  28147M 28148M
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  345
                                                 28149M 28150M 28151M 28151  28190M 28241  28333  28334M 28335M 28336M
                                                 28337M 28338M 28338  28444M 28476  28568  28569M 28570M 28571M 28572M
                                                 28573M 28573  28679M 28718  29029M 29062  29314M 29345  29535M 29567
                                                 29682M 29711  29851M 29881  30111M 30144  30396M 30426  30949M 30952
                                                 30955M 31005M 31038  31172M 31202  31336M 31364  31573M 31603  31781M
                                                 31784  31787M 31824M 31860  32035M 32065  32163  32164M 32165M 32166M
                                                 32167M 32168M 32168  32272  32273M 32274M 32275M 32276M 32277M 32277
                                                 32370M 32373  32376M 32415  32416M 32417M 32418M 32419M 32420M 32420
                                                 32494M 32528  32878  32879M 32880M 32881M 32882M 32883M 32883  33100M
                                                 33153  33520M 33523  33526M 33611M 33643  33774  33775M 33776M 33777M
                                                 33778M 33779M 33779  33951M 33954  33957M 33998  33999M 34000M 34001M
                                                 34002M 34003M 34003  34072M 34105  34245  34246M 34247M 34248M 34249M
                                                 34250M 34250  34309  34310M 34311M 34312M 34313M 34314M 34314  34625M
                                                 34679  35154M 35187  35427M 35459  35628M 35657  35881M 35884  35887M
                                                 35956M 35991  36237M 36289  36423M 36487  36544M 36591  36806M 36837
                                                 36916M 36945  37072M 37100  37192M 37220  37318M 37348  37444M 37447
                                                 37450M 37488M 37541  38020M 38083  38233M 38267  38949M 39021  39257M
                                                 39287  39438  39439M 39440M 39441M 39442M 39443M 39443  39468M
 R2            2 00000002 FFFFFFFF A   #     734 12419M 12422  12430  13071M 13074  13082  14269M
 R3            3 00000003 FFFFFFFF A   #     747 13537M 13542  13550
 R4            4 00000004 FFFFFFFF A   #     760 13537M 14269M 14272  14280
 R5            5 00000005 FFFFFFFF A   #     773 13538M
 R6            6 00000006 FFFFFFFF A   #     786 13539M
 R9            9 00000009 FFFFFFFF A   #     825 13539M 13542  13550
 S                        00000001 A   U   21072 21112
 SEXITMC       8 00000000 FFFFFFAE     J    3316 15804U
 SEXITPER      8 00000000 FFFFFFAF     J    3291 15213U
 SEXITPI       8 00000000 FFFFFFB0     J    3266 15411U 15416M
 SEXITSVC      4 00000000 FFFFFFB1     J    3241 15608U 15613M
 SIGNALAS      1 00000000 00000002     T    7558  7558
 SPR          13 0000000D FFFFFFFF A   #    1172  4225   4240   4241   4243M  4328U  4521U  4671U  4731U  4839U  4942U
                                                  5204U  5259U  5581U  5735   5750   5751   5753M  6107U  6411   6426
                                                  6427   6429M  6700   6715   6716   6718M  6915   6930   6931   6933M
                                                  7120   7135   7136   7138M  7313   7328   7329   7331M  7445U  7601
                                                  7616   7617   7619M  7737   7752   7753   7755M  7905   7920   7921
                                                  7923M  7968   7983   7984   7986M  8128   8143   8144   8164M  8273U
                                                  8394U  8439U  8485U  8782U  8828U  8917U  8948U  9067U  9235   9250
                                                  9251   9271M  9560   9575   9576   9578M  9748   9763   9764   9779M
                                                 10182  10197  10198  10200M 10409M 10601  10616  10617  10619M 10712
                                                 10727  10728  10743M 11073  11088  11089  11091M 11158  11173  11174
                                                 11189M 11399U 11465  11480  11481  11496M 11718U 12192M 12508M 13138M
                                                 13662M 14358M 14610  14625  14626  14628M 15120  15135  15136  15138M
                                                 15182U 15318  15333  15334  15336M 15380U 15515  15530  15531  15533M
                                                 15577U 15711  15726  15727  15729M 15773U 15931  15946  15947  15962M
                                                 16124U 16252U 16474  16489  16490  16492M 16517U 16596U 16675U 16786
                                                 16801  16802  16817M 16887U 16992U 17210  17225  17226  17241M 17464
                                                 17479  17480  17495M 17549U 17854U 17886U 17965  17980  17981  17996M
                                                 18040U 18084U 18116U 18190  18205  18206  18208M 18236U 18332U 18364U
                                                 18408U 18465  18480  18481  18496M 18565U 18800  18815  18816  18831M
                                                 19024  19039  19040  19055M 19403  19418  19419  19421M 19507U 19661
                                                 19676  19677  19692M 19770U 19901M 19937U 19969U 20018U 20067U 20180
                                                 20195  20196  20211M 20255U 20291U 20426U 20463M 20479U 20573U 20792
                                                 20807  20808  20810M 20997M 21053U 21225M 21241U 21342U 21502U 21722
                                                 21737  21738  21753M 21829U 21903U 21945U 22366U 22583  22598  22599
                                                 22614M 22685U 22757U 23172U 23326  23341  23342  23357M 23584U 23729
                                                 23744  23745  23760M 23946U 24137U 24199U 24230U 24354  24369  24370
                                                 24372M 24509U 24663  24678  24679  24694M 24886  24901  24902  24904M
                                                 25041U 25176  25191  25192  25207M 25399  25414  25415  25417M 25554U
                                                 25689  25704  25705  25720M 25912  25927  25928  25930M 26067U 26202
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  346
                                                 26217  26218  26233M 26426  26441  26442  26444M 26568U 26708  26723
                                                 26724  26739M 26963  26978  26979  26994M 27122  27137  27138  27153M
                                                 27348  27363  27364  27379M 27510  27525  27526  27541M 27690  27705
                                                 27706  27721M 27871  27886  27887  27902M 28008  28023  28024  28039M
                                                 28241  28256  28257  28272M 28476  28491  28492  28507M 28718  28733
                                                 28734  28749M 28861U 29062  29077  29078  29093M 29234U 29345  29360
                                                 29361  29363M 29464U 29567  29582  29583  29585M 29711  29726  29727
                                                 29729M 29881  29896  29897  29912M 30010U 30144  30159  30160  30175M
                                                 30426  30441  30442  30457M 30881U 31038  31053  31054  31069M 31202
                                                 31217  31218  31233M 31364  31379  31380  31395M 31603  31618  31619
                                                 31634M 31860  31875  31876  31878M 32065  32080  32081  32096M 32284M
                                                 32528  32543  32544  32546M 33003M 33153  33168  33169  33184M 33281U
                                                 33352U 33423M 33548U 33643  33658  33659  33674M 33718M 33731U 33795M
                                                 34105  34120  34121  34136M 34268U 34348U 34679  34694  34695  34710M
                                                 34773U 35010U 35187  35202  35203  35218M 35355U 35459  35474  35475
                                                 35490M 35657  35672  35673  35688M 35914U 35991  36006  36007  36009M
                                                 36069U 36171U 36289  36304  36305  36320M 36355U 36487  36502  36503
                                                 36505M 36591  36606  36607  36627M 36837  36852  36853  36855M 36945
                                                 36960  36961  36963M 37100  37115  37116  37131M 37220  37235  37236
                                                 37251M 37348  37363  37364  37366M 37541  37556  37557  37572M 38083
                                                 38098  38099  38114M 38134U 38187U 38267  38282  38283  38285M 38305U
                                                 38442U 38528U 38640U 39021  39036  39037  39039M 39287  39302  39303
                                                 39305M 39333U 39389U
 STDB         32 00000000 FFFFFFA8     J    3972  7431U 35270U 35375  35400M 35400  35401M 35524U 35551M 35816U
 STDBADDR      4 0000000C FFFFFFA8     A    3964  7448  35842M
 STDBASDB      4 00000008 FFFFFFA8     A    3963  7453M 35533M 35824M
 STDBNEXT      4 00000004 FFFFFFA8     A    3962  7435   7452M 35300  35576M 35854M
 STDBPARM      4 00000010 FFFFFFA8     A    3965  7447  35843M
 STKDEL        4 00005456 00000001     I   36289 33115  34358  34783  34974  36300U
 STKDEL1       2 0000544A 00000001     H   36284 36283
 STKNEW        4 000053A0 00000001     I   35991 24294  33114  36002U 36441
 STKNEW1       2 00005394 00000001     H   35986 35985
 STKSIZE       1 00000800 FFFFFFAC A   U    3565 26588  26657  26796  36107  36128
 SUSPEND       4 00000DF2 00000001     I    9748  9743   9759U
 SVCPER        2 00001780 00000001     I   13057 16739
 SVCROUTE      4 00001F36 00000001     I   15515 15526U 16734
 SVFLIH        2 0000176C 00000001     H   13044 38992
 SXIECODE      2 00000002 FFFFFFAF     H    3283 15219M
 SXIEILC       2 00000000 FFFFFFAF     H    3282 15218M
 SXIEPERA      4 00000004 FFFFFFAF     A    3284 15220M
 SXIMCLA       2 00000002 FFFFFFAE     H    3308 15810M
 SXIMCODE      4 00000004 FFFFFFAE     A    3309 15811M
 SXIMILC       2 00000000 FFFFFFAE     H    3307 15809M
 SXIPCODE      2 00000002 FFFFFFB0     H    3258 15417M
 SYSPRIO       1 00000004 FFFFFFAC A   U    3595  3596  11969
 SYSRDEL       4 00005284 00000001     I   35459 19626  35454  35470U
 SYSRDO        4 000052EC 00000001     I   35657 16749  35652  35668U
 SYSRNEW       4 0000520A 00000001     I   35187 19618  35182  35198U
 SYSTASK       1 00000000 0000001D     T   39497 39497
 SYSTDBS       4 00000756 00000001     I    7313  5945   7324U
 SYSTDBS1      2 0000074A 00000001     H    7308  7307
 TCLEANUP      4 000050F0 00000001     I   34679 33741  34278  34690U
 TCPUTIME      4 0000562C 00000001     I   36837 36832  36848U
 TCREATE       4 00004CBE 00000001     I   33153 24298  33148  33164U
 TDB         224 00000000 FFFFFFA9     J    3939  5989U  6046   6089   6596U  6850U  7036U  7203U  9901U 10287U 11575U
                                                 15166U 15364U 15561U 15757U 15990U 19859U 20239U 20311  20356  20356
                                                 20382U 20731U 20838U 21011  21011  21648U 24959U 25061  25122M 25122
                                                 25123M 25221U 25236  25270M 25270  25271M 28300U 28376U 28535U 28611U
                                                 28777U 29121U 29391U 29613U 29757U 30568U 31097U 31261U 31423U 31662U
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  347
                                                 31906U 32124U 32574U 33207U 33234U 33301  33326M 33326  33327M 33702U
                                                 33853U 33868U 33908M 34193U 34403U 34418U 34489U 34504U 34591M 34741U
                                                 36883U 37159U 37279U
 TDBASDB       4 00000004 FFFFFFA9     A    3857 19877M 33328M 34208
 TDBCHN        4 00000008 FFFFFFA9     A    3858 33329M 33857  33858  33878  34407  34408  34428
 TDBCLCN       4 000000AC FFFFFFA9     A    3905  9992  10091  11604  11858  33066M
 TDBCPUST      8 000000C8 FFFFFFA9     D    3930  7061M  7236  36893
 TDBDFLG       1 000000B0 FFFFFFA9     R    3908  3912   3917
 TDBEMASK      4 000000A8 FFFFFFA9     A    3904  6140  20972M 20972  30779  31669  31740M 32592  32965U 33454U
 TDBERBS       4 00000020 FFFFFFA9     A    3886 30676  30677M 30703  31449  31450  32593  34794
 TDBESBS       4 0000001C FFFFFFA9     A    3885 28994  28995M 29128  29398  29447M 29622  29767  32727  34910
 TDBESTAT    113 00000040 FFFFFFA9     X    3920  4118  10053U 11843U 31140U 31304U 32321M 32945  32957M 32957
 TDBFACT      64 00000018 FFFFFFA9         3879  6096M  6311M  7248M 11644  19873M 28316  28349M 28551  28584M 30819
                                                 34447
 TDBFGLOB    128 00000018 FFFFFFA9         3874 19883M 20392M 21018M 34292
 TDBFLG1       1 00000018 FFFFFFA9     R    3870  3874   3879
 TDBGPRS       4 00000048 FFFFFFA9     F    3901 19899M 19901M 19902M 32999M 33001M 33003M 33022M 33421M 33423M 33425M
                                                 33441M
 TDBISTAT    104 00000040 FFFFFFA9     X    3903  6641   6857M  7065   7227M 31142  31306M 32322  32940M 33048
 TDBISTK       4 00000028 FFFFFFA9     A    3888 10019  11802  31103  31267  31927  32140  32320M 32946  32947M 34853
 TDBLCN        4 0000002C FFFFFFA9     A    3889 33064  33065M
 TDBLONG      64 000000B0 FFFFFFA9         3917  6235   9950M 10085M 11662  11679M 11872  11872  30834  34546
 TDBMCERQ      4 00000038 FFFFFFA9     A    3895 15786  33384M 35075
 TDBMON        4 000000B4 FFFFFFA9     F    3924  6642   7066  37292M 37293
 TDBNEXT       4 0000000C FFFFFFA9     A    3862  6022   6089  24986  25323M 28401  28418M 28636  28653M 33249  33909M
                                                 33929  33936M 33936  34493  34494  34514  34592M
 TDBPEERQ      4 0000003C FFFFFFA9     A    3896 15195  33392M 35102
 TDBPERIN      4 000000B8 FFFFFFA9     F    3925 37166M 37167
 TDBPIERQ      4 00000034 FFFFFFA9     A    3894 15393  33376M 35048
 TDBPRIO       4 00000010 FFFFFFA9     A    3863  6046   6046  11738  11751  28392  28392  28627  28627  33491  33496M
                                                 33508
 TDBPSW        8 00000040 FFFFFFA9     D    3900  3903   3903   3920   3920  19884M 19885M 19902  32958M 32999  33396M
                                                 33425
 TDBSTACK      4 00000014 FFFFFFA9     A    3867 19898M 20488  20502M 20502  33419M 34329  34350  34757  34775
 TDBSUSP     128 000000B0 FFFFFFA9         3912  6220   9928M 10063M 10303  11619  11631M 11872  11872  11873M 30804
                                                 30923  34531
 TDBSVERQ      4 00000030 FFFFFFA9     A    3893 15590  33368M 35021
 TDBTCLK       8 000000D0 FFFFFFA9     D    3931 19886M 33471M
 TDBTCPU       8 000000D8 FFFFFFA9     D    3932  7237   7238M 36894
 TDBXRMAP      4 00000024 FFFFFFA9     A    3887  6141  30633M 30780  31431  31470M 31470  31530M 31763  32587M 32587
                                                 32674M
 TEXIT         4 00004E04 00000001     I   33643 24301  33638  33654U
 TKDISP        4 0000032A 00000001     I    5735  5633   5746U
 TKDISP1       2 0000031E 00000001     H    5730  5729
 TKDLP         4 000003F2 00000001     I    5978  6319B
 TQPARM        4 00000000 FFFFFF9A     J   28227  6107U 11718U 28268U 28503U 30881U 33548U
 TQPTDB        4 00000000 FFFFFF9A     A   28220  6119M 11730M 28290  28525  30893M 33560M
 TRCASN        1 00000002 FFFFFFAD A   U    3518  3520  38042
 TRCBRANCH
               1 80000000 FFFFFFAD A   U    3517  3520  38040
 TRCD1         4 00005EE8 00000001     A   39517 39516
 TRCEXPL       1 00000001 FFFFFFAD A   U    3519  3520  38041
 TREMOVE       4 00004F88 00000001     I   34105 34100  34116U
 TSKADD        4 00004126 00000001     I   28241 11965  28252U 33121  36442
 TSKADD1       2 0000411A 00000001     H   28236 28235
 TSKREQ        4 000041BC 00000001     I   28476  7567  28487U
 TSKREQ1       2 000041B0 00000001     H   28471 28470
 UPDPRIO       4 00000C42 00000001     I    9235  8466   8809   9246U 16746
 UPDPRIO1      2 00000C36 00000001     H    9230  9229
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  348
 UPPOTIM       8 00000008 FFFFFFA0     D    9213  9423M  9425M  9427
 UPPSFPR       8 00000010 FFFFFFA0     D    9214  9395M  9399   9421M  9483
 UPPSTCK       8 00000000 FFFFFFA0     D    9212  9422M  9424M  9426
 UPPWA        24 00000000 FFFFFFA0     J    9221  9269U
 VCROUTE1      2 00001F2A 00000001     H   15510 15509
 VMCRAS1       1 00000000 0000000C     T   24292 24292
 VMFREE        1 00000000 00000015     T   33116 33116  39506
 VMGET         1 00000000 00000009     T   19629 19629  24293  26902  33111  36438  39493
 VMINIT1       1 00000000 00000018     T   39486 39486
 VMINIT2       1 00000000 0000001C     T   39491 39491
 WAR          12 0000000C FFFFFFFF A   #    1160  4240   4241M  4242   4243   5702   5703   5750   5751M  5752   5753
                                                  6377   6378   6426   6427M  6428   6429   6669   6670   6715   6716M
                                                  6717   6718   6884   6885   6930   6931M  6932   6933   7088   7089
                                                  7135   7136M  7137   7138   7282   7283   7328   7329M  7330   7331
                                                  7545   7546   7616   7617M  7618   7619   7708   7709   7752   7753M
                                                  7754   7755   7873   7874   7920   7921M  7922   7923   7939   7940
                                                  7983   7984M  7985   7986   8060   8061   8143   8144M  8145   8155U
                                                  8164   9151   9152   9250   9251M  9252   9262U  9271   9530   9531
                                                  9575   9576M  9577   9578   9716   9717   9763   9764M  9765   9775U
                                                  9779  10151  10152  10197  10198M 10199  10200  10408M 10572  10573
                                                 10616  10617M 10618  10619  10683  10684  10727  10728M 10729  10739U
                                                 10743  11044  11045  11088  11089M 11090  11091  11129  11130  11173
                                                 11174M 11175  11185U 11189  11433  11434  11480  11481M 11482  11492U
                                                 11496  11932  11933  12191M 12507M 13137M 13661M 14357M 14625  14626M
                                                 14627  14628  15091  15092  15135  15136M 15137  15138  15286  15287
                                                 15333  15334M 15335  15336  15483  15484  15530  15531M 15532  15533
                                                 15679  15680  15726  15727M 15728  15729  15877  15878  15946  15947M
                                                 15948  15958U 15962  16441  16442  16489  16490M 16491  16492  16705
                                                 16706  16801  16802M 16803  16813U 16817  17179  17180  17225  17226M
                                                 17227  17237U 17241  17436  17437  17479  17480M 17481  17491U 17495
                                                 17932  17933  17980  17981M 17982  17992U 17996  18157  18158  18205
                                                 18206M 18207  18208  18433  18434  18480  18481M 18482  18492U 18496
                                                 18769  18770  18815  18816M 18817  18827U 18831  18996  18997  19039
                                                 19040M 19041  19051U 19055  19373  19374  19418  19419M 19420  19421
                                                 19604  19605  19676  19677M 19678  19688U 19692  19899M 20145  20146
                                                 20195  20196M 20197  20207U 20211  20462M 20463  20759  20760  20807
                                                 20808M 20809  20810  20996M 21223  21224M 21671  21672  21737  21738M
                                                 21739  21749U 21753  22524  22525  22598  22599M 22600  22610U 22614
                                                 23293  23294  23341  23342M 23343  23353U 23357  23696  23697  23744
                                                 23745M 23746  23756U 23760  24265  24266  24369  24370M 24371  24372
                                                 24612  24613  24678  24679M 24680  24690U 24694  24856  24857  24901
                                                 24902M 24903  24904  25144  25145  25191  25192M 25193  25203U 25207
                                                 25369  25370  25414  25415M 25416  25417  25657  25658  25704  25705M
                                                 25706  25716U 25720  25882  25883  25927  25928M 25929  25930  26170
                                                 26171  26217  26218M 26219  26229U 26233  26395  26396  26441  26442M
                                                 26443  26444  26676  26677  26723  26724M 26725  26735U 26739  26892
                                                 26893  26978  26979M 26980  26990U 26994  27091  27092  27137  27138M
                                                 27139  27149U 27153  27315  27316  27363  27364M 27365  27375U 27379
                                                 27476  27477  27525  27526M 27527  27537U 27541  27657  27658  27705
                                                 27706M 27707  27717U 27721  27838  27839  27886  27887M 27888  27898U
                                                 27902  27975  27976  28023  28024M 28025  28035U 28039  28190  28191
                                                 28256  28257M 28258  28268U 28272  28444  28445  28491  28492M 28493
                                                 28503U 28507  28679  28680  28733  28734M 28735  28745U 28749  29029
                                                 29030  29077  29078M 29079  29089U 29093  29314  29315  29360  29361M
                                                 29362  29363  29535  29536  29582  29583M 29584  29585  29682  29683
                                                 29726  29727M 29728  29729  29851  29852  29896  29897M 29898  29908U
                                                 29912  30111  30112  30159  30160M 30161  30171U 30175  30396  30397
                                                 30441  30442M 30443  30453U 30457  31005  31006  31053  31054M 31055
                                                 31065U 31069  31172  31173  31217  31218M 31219  31229U 31233  31336
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  349
                                                 31337  31379  31380M 31381  31391U 31395  31573  31574  31618  31619M
                                                 31620  31630U 31634  31824  31825  31875  31876M 31877  31878  32035
                                                 32036  32080  32081M 32082  32092U 32096  32254M 32255M 32255  32283M
                                                 32284  32494  32495  32543  32544M 32545  32546  33001M 33100  33101
                                                 33168  33169M 33170  33180U 33184  33421M 33611  33612  33658  33659M
                                                 33660  33670U 33674  33717M 33718  33756M 33757M 33757  33794M 33795
                                                 34072  34073  34120  34121M 34122  34132U 34136  34625  34626  34694
                                                 34695M 34696  34706U 34710  35154  35155  35202  35203M 35204  35214U
                                                 35218  35427  35428  35474  35475M 35476  35486U 35490  35628  35629
                                                 35672  35673M 35674  35684U 35688  35956  35957  36006  36007M 36008
                                                 36009  36237  36238  36304  36305M 36306  36316U 36320  36423  36424
                                                 36502  36503M 36504  36505  36544  36545  36606  36607M 36608  36618U
                                                 36627  36806  36807  36852  36853M 36854  36855  36916  36917  36960
                                                 36961M 36962  36963  37072  37073  37115  37116M 37117  37127U 37131
                                                 37192  37193  37235  37236M 37237  37247U 37251  37318  37319  37363
                                                 37364M 37365  37366  37488  37489  37556  37557M 37558  37568U 37572
                                                 38020  38021  38098  38099M 38100  38110U 38114  38233  38234  38282
                                                 38283M 38284  38285  38558  38949  38950  39036  39037M 39038  39039
                                                 39257  39258  39302  39303M 39304  39305  39468  39469
 X                        00000001 A   U   36738 36745  36747  36750
 XITDEL        4 00004544 00000001     I   30144 30139  30155U 36447
 XITDO         4 000045EA 00000001     I   30426 16743  19628  30421  30437U
 XITFPR        4 000047B4 00000001     I   31364 31359  31375U
 XITGST        4 00004730 00000001     I   31038 31033  31049U
 XITMASK       4 0000483E 00000001     I   31603 31598  31614U
 XITMLGO       2 00000000 FFFFFFB4         3114 30666  30666  30667  30667  30668  30668  30669  30669
 XITMMON       4 00000000 FFFFFFB4         3109 30663  30663  30664  30664  30665  30665  30669  30669
 XITMPER       8 00000000 FFFFFFB4         3104 30661  30661  30662  30662  30665  30665  30668  30668
 XITMPI      128 00000000 FFFFFFB4         3084 30660  30660  30661  30661  30663  30663  30666  30666  32972M 33466
                                                 33466  33467M
 XITMSKD       4 00000000 FFFFFFB4     J    3158 32965U 33454U
 XITMSVC      64 00000000 FFFFFFB4         3089 30660  30660  30662  30662  30664  30664  30667  30667  33466  33466
 XITNEW        4 000044BE 00000001     I   29881 29876  29892U 36440
 XITPST        4 00004772 00000001     I   31202 31197  31213U
 XITRMPLC      4 000048C8 00000001     I   31860 31855  31871U
 XITTCTC       1 00000003 00000001 A   U    3056 19518
 XITTMON       1 00000005 00000001 A   U    3058 15798
 XITTPER       1 00000004 00000001 A   U    3057 15207
 XITTPI        1 00000000 00000001 A   U    3053 15405  32862
 XITTRTC       1 00000002 00000001 A   U    3055 18051
 XITTSVC       1 00000001 00000001 A   U    3054 15602
 =A(ACPUTIME)
               4 00002AA0 00000001     A   19631 18641  18918  19291
 =A(ACREATE)
               4 00005EB8 00000001     A   39498 38459
 =A(ASDISP)
               4 000013F4 00000001     A   11960 10472
 =A(ASDISP)
               4 000022B4 00000001     A   16730 12275  12835  12900  13251  13316  14017  14082  14390  14455
 =A(ASDISP)
               4 000036BC 00000001     A   24310 21554
 =A(ASDISP)
               4 00004C80 00000001     A   33124 32383
 =A(ASDISP)
               4 000054D8 00000001     A   36445 33964
 =A(ASLOCK)
               4 000013E4 00000001     A   11956 10017  11588
 =A(ASLOCK)
               4 00002A7C 00000001     A   19622 17257  18852
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  350
 =A(ASLOCK)
               4 00004C48 00000001     A   33110 28789  29253  29938  30242  31918  32136
 =A(ASLOCK)
               4 000054B8 00000001     A   36437 33219  33715  34159  36035  36344
 =A(ASULOCK)
               4 000013E8 00000001     A   11957 10105  11906
 =A(ASULOCK)
               4 00002A84 00000001     A   19624 17419  18979
 =A(ASULOCK)
               4 00004C50 00000001     A   33112 28902  29262  30081  30339  30369  32014
 =A(ASULOCK)
               4 000054D0 00000001     A   36443 33573  34599  36220  36402
 =A(ASWAKE)
               4 00001400 00000001     A   11963 11407
 =A(ASWAKE)
               4 000036E0 00000001     A   24319 23180  23592  24207
 =A(ASWAKE)
               4 000054F4 00000001     A   36452 35922
 =A(C'FREE')
               4 000054E8 00000001     A   36449 35528
 =A(CPTIMER)
               4 000022EC 00000001     A   16744 16062
 =A(CPUTIMR)
               4 000022C0 00000001     A   16733 12740
 =A(DELASB)
               4 000036B4 00000001     A   24308 21324
 =A(DELASDB)
               4 000036B8 00000001     A   24309 21517
 =A(DELGTDB)
               4 00003694 00000001     A   24300 20509  21256
 =A(DELRTCQ)
               4 00002A90 00000001     A   19627 17901  18131  18379
 =A(DEMOTE)
               4 0000080C 00000001     A    7563  4847   5212
 =A(DEMOTE)
               4 000036E8 00000001     A   24321 24145
 =A(DISPRD)
               4 000013C0 00000001     A   11947  7849   9117
 =A(DISPRD)
               4 00004C78 00000001     A   33122 31794
 =A(DISPSHLD)
               4 000036A4 00000001     A   24304 20982
 =A(EXSCHED)
               4 00000820 00000001     A    7568  6180
 =A(FGSTK)
               4 00003690 00000001     A   24299 20494  21275
 =A(GGSTK)
               4 00003664 00000001     A   24288 19895  20994
 =A(INITDIS1)
               4 00005E94 00000001     A   39489 38169
 =A(INITDIS2)
               4 00005EA0 00000001     A   39492 38217
 =A(LTDISP)
               4 00000800 00000001     A    7560  4608
 =A(MAXPRIO)
               4 000013E0 00000001     A   11955  9446
 =A(NEWASB)
               4 00003640 00000001     A   24279 19742
 =A(NEWASB)
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  351
               4 00005ED4 00000001     A   39505 38924
 =A(NEWASDB)
               4 0000364C 00000001     A   24282 19800
 =A(NEWGTDB)
               4 00003658 00000001     A   24285 19847  21006
 =A(NEWRTCQ)
               4 00002A68 00000001     A   19617 16857
 =A(PFLT)      4 000022D4 00000001     A   16738 13707
 =A(PQADD)
               4 00000810 00000001     A    7564  4976   5293   5527
 =A(PQADD)
               4 000013D0 00000001     A   11951  8520   8863
 =A(PQADD)
               4 0000366C 00000001     A   24290 20003  20101  22055  22111  22823  23062
 =A(PQDEL)
               4 000013CC 00000001     A   11950  8422   8765
 =A(PQDEL)
               4 000036DC 00000001     A   24318 22779  23018
 =A(PQHIGH)
               4 00000804 00000001     A    7561  4695
 =A(PQHIGH)
               4 000036C4 00000001     A   24312 21853
 =A(PQHPFN)
               4 000013D8 00000001     A   11953  8972
 =A(PQHPFN)
               4 000036D4 00000001     A   24316 22167
 =A(PQPRIO)
               4 00000814 00000001     A    7565  5333
 =A(PQREQ)
               4 00000818 00000001     A    7566  5420
 =A(PQREQ)
               4 000036D0 00000001     A   24315 21979
 =A(RDPARMS)
               4 00005EAC 00000001     A   39495 38425
 =A(RTCLOCK)
               4 000022BC 00000001     A   16732 12633  12773
 =A(RTSYSR)
               4 000022FC 00000001     A   16748 16607
 =A(RTTERM)
               4 000036B0 00000001     A   24307 21302
 =A(STKDEL)
               4 00004C5C 00000001     A   33115 29242
 =A(STKNEW)
               4 0000367C 00000001     A   24294 20401
 =A(STKNEW)
               4 00004C58 00000001     A   33114 28984
 =A(STKNEW)
               4 000054C8 00000001     A   36441 33417
 =A(SVCPER)
               4 000022D8 00000001     A   16739 13872
 =A(SVCROUTE)
               4 000022C4 00000001     A   16734 13225
 =A(SYSRDEL)
               4 00002A8C 00000001     A   19626 17869  18099  18347
 =A(SYSRDO)
               4 00002300 00000001     A   16749 16614
 =A(SYSRNEW)
               4 00002A6C 00000001     A   19618 16901
 =A(TCREATE)
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  352
               4 0000368C 00000001     A   24298 20457
 =A(TEXIT)
               4 00003698 00000001     A   24301 20719
 =A(TRCASN)
               4 00005978 00000001     A   38042 37985
 =A(TRCBRANCH)
               4 00005970 00000001     A   38040 37839
 =A(TRCEXPL)
               4 00005974 00000001     A   38041 37912
 =A(TSKADD)
               4 00001408 00000001     A   11965 11736
 =A(TSKADD)
               4 00004C74 00000001     A   33121 30899
 =A(TSKADD)
               4 000054CC 00000001     A   36442 33566
 =A(TSKREQ)
               4 0000081C 00000001     A    7567  6125
 =A(UPDPRIO)
               4 000022F4 00000001     A   16746 16283
 =A(X'10')
               4 000022D0 00000001     A   16737 13691
 =A(X'11')
               4 000022CC 00000001     A   16736 13677
 =A(X'16')
               4 000022C8 00000001     A   16735 13476
 =A(X'40')
               4 000022DC 00000001     A   16740 13943
 =A(X'80000000'+ASCRE2)
               4 00003660 00000001     A   24287 19885
 =A(X'80000000'+RSFLIH)
               4 000022A4 00000001     A   16726 12218
 =A(XITDEL)
               4 000054E0 00000001     A   36447 35040  35067  35094  35121
 =A(XITDO)
               4 000022E8 00000001     A   16743 15229  15426  15622  15820
 =A(XITDO)
               4 00002A94 00000001     A   19628 18067  19534
 =A(XITNEW)
               4 000054C4 00000001     A   36440 33366  33374  33382  33390
 =A(0)         4 00002A88 00000001     A   19625 17727  19245
 =A(1)         4 000013EC 00000001     A   11958 10362
 =A(1)         4 00002298 00000001     A   16723 12184  12497  13127  13596  14347
 =A(1)         4 00002A70 00000001     A   19619 16947
 =A(1)         4 00003654 00000001     A   24284 19838  21222  22064  22120
 =A(1)         4 00004C7C 00000001     A   33123 32291
 =A(1)         4 000054D4 00000001     A   36444 33793
 =A(100)       4 00003688 00000001     A   24297 20445
 =A(16*4096)
               4 00005EC4 00000001     A   39501 38561
 =A(2)         4 00003650 00000001     A   24283 19837
 =A(31)        4 00004C6C 00000001     A   33119 30590
 =A(4096)      4 000054F8 00000001     A   36453 36085
 =AL2(1)       2 000036F2 00000001     R   24325 20896  20932
 =AL4(1)       4 000013F8 00000001     R   11961 10490
 =AL4(1)       4 000022B8 00000001     R   16731 12314  12952  13346  14112  14507
 =AL4(1)       4 000036C0 00000001     R   24311 21568
 =AL4(1)       4 00004C84 00000001     R   33125 32398
 =AL4(1)       4 000054DC 00000001     R   36446 33981
 =C' '         1 0000597E 00000001     C   38044 37664
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  353
 =C'asb '      4 00003D88 00000001     C   26908 25784
 =C'asdb'      4 00003D78 00000001     C   26904 24758
 =C'gstk'      4 00003D98 00000001     C   26912 26799
 =C'gtdb'      4 00003D80 00000001     C   26906 25271
 =C'rtcq'      4 00003D90 00000001     C   26910 26297
 =C'Abort Code ID = '
              16 00002270 00000001     C   16719 12096
 =C'ASB '      4 000013FC 00000001     C   11962 11204
 =C'ASB '      4 00003D84 00000001     C   26907 25636  25749
 =C'ASB '      4 000054EC 00000001     C   36450 35704
 =C'ASDB'      4 000013C4 00000001     C   11948  8179  10796  11266
 =C'ASDB'      4 000036E4 00000001     C   24320 23410  23799
 =C'ASDB'      4 00003D74 00000001     C   26903 24591  24723
 =C'ASDB'      4 000054F0 00000001     C   36451 35747
 =C'CPTQ'      4 00002A9C 00000001     C   19630 18629  18880  19116
 =C'ERB '      4 00004C64 00000001     C   33117 30069  30207  30497
 =C'ESB '      4 00004C54 00000001     C   33113 28927
 =C'GSTK'      4 00003D94 00000001     C   26911 26660  26754
 =C'IPCB'      4 00005ECC 00000001     C   39503 38692
 =C'Milten closed connection'
              24 00002258 00000001     C   16718 12062
 =C'MILGONE'
               7 0000231D 00000001     C   16759 12049
 =C'MILSTOP'
               7 00002316 00000001     C   16758 12036
 =C'RTCQ'      4 00002A80 00000001     C   19623 17290  17577
 =C'RTCQ'      4 00003D8C 00000001     C   26909 26149  26262
 =C'STDB'      4 000054E4 00000001     C   36448 35401  35506  35798
 =C'TDB '      4 00001404 00000001     C   11964 11538
 =C'TDB '      4 00003D7C 00000001     C   26905 25123  25236
 =C'TDB '      4 00004C68 00000001     C   33118 30550
 =C'TDB '      4 000054C0 00000001     C   36439 33327  34175
 =CL16'ASBCHAIN'
              16 00005E78 00000001     C   39485 39347
 =CL16'DISPATCH'
              16 00005E60 00000001     C   39483 38542
 =CL4'DCT'
               4 00005EA8 00000001     C   39494 38358
 =CL8'ASN'
               8 00005968 00000001     C   38039 37929
 =CL8'BRANCH'
               8 00005958 00000001     C   38037 37783
 =CL8'DISPATCH'
               8 00005938 00000001     C   38033 37682
 =CL8'EXPLICIT'
               8 00005960 00000001     C   38038 37856
 =CL8'SYSNAME'
               8 00005930 00000001     C   38032 37621
 =CL8'TORVYL'
               8 00005E50 00000001     C   39481 38408
 =CL8'TRACE'
               8 00005950 00000001     C   38036 37782  37855  37928
 =CL8'WSINT'
               8 00005940 00000001     C   38034 37683
 =CL8'WSLIMIT'
               8 00005948 00000001     C   38035 37734
 =F'-1'        4 00004248 00000001     F   28689 27907
 =FL8S12E3'50'
               8 00005E58 00000001     G   39482 38503
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  354
 =H'-1'        2 00001410 00000001     H   11968  9637
 =H'-1'        2 00005EDE 00000001     H   39508 38389
 =H'-8'        2 00004250 00000001     H   28691 27547  27909  28046
 =H'1'         2 0000140E 00000001     H   11967  9363  11318
 =V(ASMGBLIN)
               4 00003648 00000001     V   24281 19790
 =V(ASMLCLIN)
               4 00003680 00000001     V   24295 20409
 =V(ASMLCLX)
               4 000036A8 00000001     V   24305 21203
 =V(ASMTASK)
               4 00003684 00000001     V   24296 20436
 =V(IOSINIT)
               4 00005E90 00000001     V   39488 38159
 =V(IOSINTER)
               4 000022E0 00000001     V   16741 14364
 =V(LKCRE)
               4 00005EBC 00000001     V   39499 38551  39350
 =V(LKINIT)
               4 00005E8C 00000001     V   39487 38155
 =V(LKOB)      4 000007FC 00000001     V    7559  4530
 =V(LKOB)      4 000013C8 00000001     V   11949  8282
 =V(LKOB)      4 000022F8 00000001     V   16747 16526
 =V(LKOB)      4 00002A74 00000001     V   19620 17001  17558  18245
 =V(LKOB)      4 00003668 00000001     V   24289 19951  20587  21062  21351  23955
 =V(LKREL)
               4 00000808 00000001     V    7562  4740   5590
 =V(LKREL)
               4 000013DC 00000001     V   11954  9076
 =V(LKREL)
               4 00002304 00000001     V   16750 16684
 =V(LKREL)
               4 00002A78 00000001     V   19621 17082  17760  18417
 =V(LKREL)
               4 00003670 00000001     V   24291 20032  20627  21180  21485  24239
 =V(M1GOWAIT)
               4 0000369C 00000001     V   24302 20908
 =V(PAGASC1)
               4 00003644 00000001     V   24280 19783
 =V(PAGAST1)
               4 000036A0 00000001     V   24303 20975
 =V(PAGAST2)
               4 000036AC 00000001     V   24306 21210
 =V(PAGFAULT)
               4 000022E4 00000001     V   16742 14764
 =V(PAGINIT)
               4 00005E98 00000001     V   39490 38200
 =V(PAGISWAP)
               4 000036CC 00000001     V   24314 21915
 =V(PAGOSWAP)
               4 000036D8 00000001     V   24317 22697
 =V(PAGSFIX)
               4 000054FC 00000001     V   36454 36209
 =V(PAGSWADV)
               4 000013D4 00000001     V   11952  8929
 =V(PAGUSFIX)
               4 00005500 00000001     V   36455 36393
 =V(PAGWSMAN)
               4 000022F0 00000001     V   16745 16138
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  355
 =V(SIGNALAS)
               4 000007F8 00000001     V    7558  4356
 =V(SYSTASK)
               4 00005EB4 00000001     V   39497 38452
 =V(VMCRAS1)
               4 00003674 00000001     V   24292 20267
 =V(VMFREE)
               4 00004C60 00000001     V   33116 29503
 =V(VMFREE)
               4 00005ED8 00000001     V   39506 39411
 =V(VMGET)
               4 00002A98 00000001     V   19629 18594
 =V(VMGET)
               4 00003678 00000001     V   24293 20320
 =V(VMGET)
               4 00003D70 00000001     V   26902 24538  25070  25583  26096  26597
 =V(VMGET)
               4 00004C4C 00000001     V   33111 28890  30039
 =V(VMGET)
               4 000054BC 00000001     V   36438 33310  35384  36100
 =V(VMGET)
               4 00005EA4 00000001     V   39493 38334  38669  38735  38832  38883
 =V(VMINIT1)
               4 00005E88 00000001     V   39486 38150
 =V(VMINIT2)
               4 00005E9C 00000001     V   39491 38204
 =X'FFFFFFFFFFFFFFFF'
               8 00002280 00000001     X   16720 12242  16011  16641
 =X'FFFFFFFFFFFFFFFF'
               8 00005920 00000001     X   38030 37027
 =X'FF0F0000'
               4 000013F0 00000001     X   11959 10372
 =X'FF000000'
               4 000022B0 00000001     X   16729 12243
 =X'00B00000'
               4 0000229C 00000001     X   16724 12216
 =X'00FFFFFFFFFFFFFF'
               8 000013B0 00000001     X   11945  9656
 =X'00FFFFFFFFFFFFFF'
               8 00003638 00000001     X   24278 19832  19886  20984  20985
 =X'00FFFFFFFFFFFFFF'
               8 000054B0 00000001     X   36436 33471
 =X'00FFFFFFFFFFFFFF'
               8 00005E70 00000001     X   39484 38768  38769
 =X'00FFFFFFFFFFFFFFFF'
               9 00002AA6 00000001     X   19633 19564
 =X'0000000000000001'
               8 00002288 00000001     X   16721 16013
 =X'0000000000000001'
               8 00005928 00000001     X   38031 37029
 =X'00000011'
               4 00005EC8 00000001     X   39502 38603
 =X'04'        1 000036F6 00000001     X   24327 21215
 =X'040C0000'
               4 000022A0 00000001     X   16725 12217
 =X'070C0000'
               4 0000365C 00000001     X   24286 19884  20435
 =X'070C0000'
               4 00005EB0 00000001     X   39496 38451
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  356
 =X'070F0000C9C4D3C5'
               8 000013B8 00000001     X   11946  9701
 =X'10B06C40'
               4 000022AC 00000001     X   16728 12241
 =X'10B06400'
               4 000022A8 00000001     X   16727 12219
 =X'1004'      2 00002310 00000001     X   16755 12761
 =X'1005'      2 0000230E 00000001     X   16754 12728
 =X'1202'      2 0000230C 00000001     X   16753 12523
 =X'4E00000000000000'
               8 00002290 00000001     X   16722 16086
 =X'7FFFFFFF'
               4 000036C8 00000001     X   24313 21867
 =X'7FFFFFFF'
               4 0000424C 00000001     X   28690 28044
 =X'7FFFF000'
               4 00005EC0 00000001     X   39500 38559
 =X'80000000'
               4 00004C70 00000001     X   33120 30630
 =X'80000000'
               4 00005ED0 00000001     X   39504 38774
 =Y(MAXPRIO)
               2 000036EC 00000001     Y   24322 19821  19822  19823
 =Y(NUMPRIO)
               2 0000082A 00000001     Y    7572  6737
 =Y(PSAKDISP-PSA+L'PZERO)
               2 00000824 00000001     Y    7569  4249   5949   6184
 =Y(PSAKDISP-PSA+L'PZERO)
               2 0000230A 00000001     Y   16752 12440
 =Y(PSAKDISP-PSA+L'PZERO)
               2 00005EE2 00000001     Y   39510 38770
 =Y(PSAKIOSV-PSA+L'PZERO)
               2 00002312 00000001     Y   16756 14290
 =Y(PSAKUSER-PSA+L'PZERO)
               2 00000828 00000001     Y    7571  5660   5918   6155
 =Y(PSAKUSER-PSA+L'PZERO)
               2 00002308 00000001     Y   16751 12282  12920  14475
 =Y(SYSPRIO)
               2 00001412 00000001     Y   11969 11112  11113  11114
 =Y(1)         2 00000826 00000001     Y    7570  5115
 =Y(1)         2 0000140C 00000001     Y   11966  7988  10835
 =Y(1)         2 00002314 00000001     Y   16757 14832  14932  16317
 =Y(1)         2 000036EE 00000001     Y   24323 19867  20657  23520  23968  24020
 =Y(1000)      2 0000597C 00000001     Y   38043 37717
 =Y(31*256+0)
               2 00002AA4 00000001     Y   19632 18591
 =Y(31*256+0)
               2 000036F0 00000001     Y   24324 20317
 =Y(31*256+0)
               2 00004C88 00000001     Y   33126 28887  29500  30036
 =Y(31*256+0)
               2 00005504 00000001     Y   36456 33307  36091
 =Y(4)         2 000036F4 00000001     Y   24326 22226  22954  23134
 =Y(4096)      2 00005EE0 00000001     Y   39509 38726  38764  38783  38786  38823  38846  38874  38897
 =Y(46*256+0)
               2 00005EE4 00000001     Y   39511 39408
 =Y(63*256+0)
               2 00003D9C 00000001     Y   26913 24535  25067  25580  26093  26594
 =Y(63*256+0)
1DISPATCH (DISP00) (09:38) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  357
               2 00005506 00000001     Y   36457 35381
 =Y(63*256+0)
               2 00005EDC 00000001     Y   39507 38331  38666  38732  38829  38880

1DISPATCH (DISP00) (09:38) (22MAR04) Macro and Copy Code Source Summary                                                     Page  358
- Con Source                                        Volume    Members                        HLASM R4.0  2004/03/22 09.38
0     PRIMARY INPUT                                           CLOCK    CSECT    DISABLE  DROP     ENABLE   END      EX
                                                              LTORG    POP      PQADD    PQDEL    PQFUNC   PQHIGH
                                                              PQHPFN   PQLOW    PQPRIO   PQREQ    PRINT    PUSH
                                                              START    TQADD    TQREQ    UPDCLOCK USING
   L2 WYL.GG.ORV.MACLIB                             SYSB02    $LKPARM  ABORT    ACALL    ASB      ASDB     DISPPARM
                                                              GETPARM2 HEADER   IOSIPARM IPLPARM  LCALL    LKCRE    LKOB
                                                              LKREL    LOCKPARM MAT      MODULE   ORVWTO   PAGEPARM
                                                              PARMPARM PEND     PMOV     PROC     PSET     PZERO    REG
                                                              SEXIPARM SIGNL    SIGPARM  SPLEVEL  SYSCTL   TDB
                                                              TIMEPARM VCALL    VMFREE   VMGET    VMIPARM  VMPARM
                                                              XITPARM  XTRC     XTRCDATA
   L3 WYL.GG.SYS.MACLIB                             SYSB05    $BC      $BFLKUP  $BV      $CCLKUP  $CRS     $CSS     $L
                                                              $LA      $LBLAD   $LEXP    $LOR     $NIL     $OIL     $REL
                                                              $RGLKUP  $USLKUP  ADL      AUSING   BASE     BEGIN    CEIL
                                                              CLEAR    CSECT    DATA     DECR     DEFCC    DIAG     DROP
                                                              ELSE     END      EX       EXIT     FLAG     FLOOR    GEN
                                                              HIBAL    IDENT    IF       INCR     LABEL    LC       LCM
                                                              LOOP     LT       LTORG    L2       POP      PRINT    PUSH
                                                              RECORD   REGS     SDL      SET      START    STF
                                                              UNTIL    USING    WHILE    WITH     ZOT

1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  359
- Register  References (M=modified, B=branch, U=USING, D=DROP, N=index)                      HLASM R4.0  2004/03/22 09.38
0    0(0)      991U   992D  1338U  4225   4348M  4353   4474M  4475M  4477   4684M  4689   4697   4857M  4857   4955M
              4960   5222M  5222   5272M  5277   5322M  5327   5346   5399M  5404   5453M  5453   5506M  5511   5735
              5888M  5889M  5891   6140M  6141M  6245M  6246M  6247   6267M  6268M  6269   6411   6700   6915   7120
              7313   7601   7691M  7692M  7693   7737   7905   7927M  7928M  7929   7968   8128   8498M  8503   8673M
              8674M  8676   8841M  8846   8961M  8966   8974   9235   9560   9748   9982M  9983M  9985  10182  10363
             10415M 10418  10518M 10521  10541M 10601  10712  11073  11158  11413M 11465  11766M 11767M 11769  11991
             12069M 12103M 12121M 12346M 12399  12418M 12422  12623M 12624M 12626  12694M 12695M 12697  12980M 12983
             13003M 13050  13070M 13074  13374M 13377  13397M 13441  13516M 13717M 13717  14140M 14143  14163M 14249
             14268M 14272  14535M 14538  14558M 14610  14692M 14693M 14695  14738M 14739  14766  14787M 14787  14808M
             14808  14811M 14818M 14818  15120  15239M 15239  15318  15436M 15436  15515  15632M 15632  15711  15830M
             15830  15931  16474  16786  16859  16903  17128M 17129M 17131  17149M 17210  17421M 17464  17907M 17965
             18190  18465  18585M 18590  18596  18744M 18800  18981M 19024  19348M 19403  19661  19744  19802  19849
             19897  19982M 19987  20080M 20085  20110M 20180  20311M 20316  20322  20403  20792  20905M 20996  21008
             21596M 21599  21619M 21722  21842M 21847  21855  21958M 21963  22034M 22039  22090M 22095  22156M 22161
             22169  22583  22665M 22713M 22720  22802M 22807  22968M 22968  22975  23041M 23046  23267M 23267  23326
             23729  24155M 24155  24354  24529M 24534  24548M 24548  24576  24592M 24663  24886  25061M 25066  25080M
             25080  25108  25124M 25176  25399  25574M 25579  25593M 25593  25621  25637M 25689  25912  26087M 26092
             26106M 26106  26134  26150M 26202  26426  26588M 26593  26607M 26607  26635  26659M 26661M 26708  26798M
             26963  27122  27348  27510  27545M 27545  27562  27608  27624  27637M 27690  27725M 27725  27727  27743
             27789  27805  27818M 27871  27907M 27955M 28008  28044M 28170M 28241  28476  28718  28881M 28886  28892
             28986  28999M 29062  29179M 29267M 29267  29289M 29345  29484M 29489  29567  29711  29764M 29811M 29811
             29881  30030M 30035  30041  30086M 30144  30213M 30344M 30344  30371M 30426  30630M 30631M 30632  30952M
             30953M 30955  30985M 31038  31202  31364  31487M 31488M 31603  31669M 31676  31740M 31784M 31785M 31787
             31860  32065  32373M 32374M 32376  32426M 32429  32449M 32528  32628M 32629M 32758M 32759M 33153  33301M
             33306  33312  33368  33376  33384  33392  33419  33420  33523M 33524M 33526  33578M 33643  33954M 33955M
             33957  34009M 34012  34032M 34105  34679  35187  35375M 35380  35386  35402M 35459  35494M 35603M 35603
             35657  35692M 35884M 35885M 35887  35931M 35931  35991  36085M 36090  36105  36201M 36206  36222M 36289
             36385M 36390  36487  36529M 36591  36837  36945  37100  37220  37348  37447M 37448M 37450  37541  38054U
             38055D 38059U 38083  38152  38171  38267  38325M 38330  38336  38464  38553  38660M 38665  38671  38726M
             38731  38737  38738  38766M 38823M 38828  38834  38848M 38874M 38879  38885  38899M 38926  38934M 39021
             39240U 39287  39352  39421M 39421
     1(1)      987U  4225   4455M  4465M  4475   4550M  4576   4590   4763M  4777   4789M  4790M  4790   4889M  4890M
              4890   4999M  5000M  5000   5012M  5013M  5013   5025M  5026M  5026   5114M  5115M  5149   5185M  5186M
              5186   5619M  5620M  5620   5644M  5645M  5645   5702M  5735   5869M  5879M  5889   5909M  5910M  5910
              6033M  6034M  6034   6046   6089   6127   6377M  6411   6612M  6613M  6613   6669M  6700   6884M  6915
              6943M  6944M  6944   7088M  7120   7282M  7313   7376M  7376   7383   7452   7453   7545M  7601   7708M
              7737   7782M  7783M  7783   7812M  7813   7822M  7822   7873M  7905   7939M  7968   7987M  7988M  7989
              8060M  8128   8303M  8304M  8304   8318M  8319M  8319   8331M  8332M  8332   8344M  8345M  8345   8359M
              8371   8405   8528M  8528   8578M  8589   8671M  8672M  8674   8681M  8682M  8682   8712M  8724   8748
              8867M  8868M  8869   8870M  8882   8975M  8985U  9044U  9104M  9105M  9105   9151M  9235   9362M  9363M
              9384M  9384   9389   9393   9452M  9453M  9454N  9492M  9496   9498M  9502   9504M  9505   9530M  9560
              9674M  9684U  9696U  9716M  9748   9980M  9981M  9983  10151M 10182  10315M 10316M 10316  10363  10415M
             10418  10518M 10521  10541M 10572M 10601  10647M 10648M 10649  10683M 10712  10747M 10757U 10770U 10834M
             10835M 10869  10900M 10900  10963M 10977  10991  11044M 11073  11129M 11158  11433M 11465  11670M 11671M
             11672  11698M 11699M 11700  11738M 11751  11764M 11765M 11767  11833M 11843U 11887U 11932M 11991  12346M
             12399  12418M 12422  12469M 12470M 12470  12604M 12614M 12624  12675M 12685M 12695  12980M 12983  13003M
             13050  13070M 13074  13099M 13100M 13100  13179M 13180M 13180  13374M 13377  13397M 13441  13486M 13502M
             13511  13516M 13568M 13569M 13569  13770M 13771M 13771  13872M 13873B 14140M 14143  14163M 14249  14268M
             14272  14319M 14320M 14320  14535M 14538  14558M 14610  14690M 14691M 14693  14731M 14739M 14766M 14767N
             14831M 14832M 14848M 14848  14853  14897M 14907M 14917  14931M 14932M 14966  15018M 15032  15046  15091M
             15120  15286M 15318  15483M 15515  15679M 15711  15877M 15931  16161M 16175  16189  16316M 16317M 16351
             16441M 16474  16705M 16786  17126M 17127M 17129  17133M 17134M 17134  17179M 17210  17436M 17464  17631M
             17670M 17688U 17694M 17710U 17932M 17965  18157M 18190  18247M 18300M 18433M 18465  18769M 18800  18996M
             19024  19149M 19188M 19206U 19212M 19228U 19373M 19403  19604M 19661  20145M 20180  20546M 20547M 20547
             20584  20603M 20603  20624  20656M 20657M 20691  20759M 20792  20877M 20915M 21596M 21599  21619M 21671M
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  360
             21722  21795M 21807  21996M 21997  22133M 22134M 22135  22183M 22185M 22204M 22216  22347M 22348M 22348
             22455M 22456M 22456  22524M 22583  22658M 22659M 22659  22736M 22737M 22737  22828M 22836M 22866M 22867M
             22868  22913M 22932M 22944  22985M 22986M 22986  23067M 23093M 23112M 23124  23145M 23154M 23154  23189M
             23199U 23205M 23212U 23227  23241  23293M 23326  23476M 23483  23485M 23519M 23520M 23536M 23536  23541
             23569M 23569  23601M 23611U 23670U 23696M 23729  23898M 23908M 23918  23967M 23968M 23984M 23984  23989
             24019M 24020M 24054  24105M 24105  24180M 24181M 24181  24265M 24354  24612M 24663  24856M 24886  25144M
             25176  25369M 25399  25657M 25689  25882M 25912  26170M 26202  26395M 26426  26658M 26658  26659M 26676M
             26708  26797M 26797  26798M 26892M 26963  27091M 27122  27315M 27348  27476M 27510  27548M 27562N 27571M
             27579N 27608N 27629N 27657M 27690  27727M 27743N 27752M 27760N 27789N 27810N 27838M 27871  27910M 27924N
             27933M 27941N 27975M 28008  28047M 28061N 28081N 28109M 28117N 28129N 28190M 28241  28444M 28476  28679M
             28718  29029M 29062  29314M 29345  29535M 29567  29682M 29711  29851M 29881  30111M 30144  30396M 30426
             30574D 30576M 30576  30577M 30578U 30590  30629  30736M 30737M 30737  30779M 30780M 30843M 30844M 30845
             30864M 30865M 30866  30950M 30951M 30953  31005M 31038  31172M 31202  31336M 31364  31430M 31431M 31573M
             31603  31782M 31783M 31785  31824M 31860  32035M 32065  32190M 32200U 32238U 32371M 32372M 32374  32426M
             32429  32449M 32494M 32528  32592M 32628  32726M 32759  33000M 33001  33002M 33003  33063M 33064M 33065
             33066  33100M 33153  33334M 33335M 33336  33521M 33522M 33524  33611M 33643  33881M 33882M 33883  33952M
             33953M 33955  34009M 34012  34032M 34072M 34105  34431M 34432M 34433  34555M 34556M 34557  34576M 34577M
             34578  34625M 34679  35021M 35022M 35022  35034  35048M 35049M 35049  35061  35075M 35076M 35076  35088
             35102M 35103M 35103  35115  35154M 35187  35427M 35459  35532M 35532  35533M 35628M 35657  35882M 35883M
             35885  35898M 35899M 35899  35956M 35991  36237M 36289  36423M 36487  36544M 36591  36806M 36837  36916M
             36945  37072M 37100  37192M 37220  37290M 37290  37291M 37292  37318M 37348  37445M 37446M 37448  37452M
             37453M 37453  37488M 37541  37774M 37774  37839M 37912M 37985M 37995  38020M 38083  38233M 38267  38359M
             38369U 38382U 38393M 38403U 38415U 38765M 38765  38766M 38847M 38847  38848M 38898M 38898  38899M 38949M
             39021  39043M 39053U 39066U 39152M 39154  39155  39179M 39180M 39181M 39181N 39191U 39223U 39257M 39287
             39468M
     2(2)      983U  4225   4303M  4313U  4364U  4535M  4545U  4620U  5107M  5114   5149M  5702M  5735   6377M  6411
              6669M  6700   6884M  6915   7088M  7120   7282M  7313   7363M  7364M  7364   7383M  7416M  7416   7431U
              7486M  7487M  7487   7515M  7521U  7545M  7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128
              8529M  8571   8577M  8605   8865M  8866M  8867N  8869N  9151M  9235   9393M  9394M  9396N  9432M  9446
              9452   9469M  9475   9479M  9480N  9530M  9560   9716M  9748   9832M  9840M 10151M 10182  10363  10376M
             10376  10377M 10378M 10396M 10397M 10398  10402M 10403M 10404  10541M 10572M 10601  10640M 10647  10649M
             10683M 10712  10827M 10834  10869M 10920M 10932  10949M 10959U 11016U 11044M 11073  11129M 11158  11310M
             11317  11353M 11433M 11465  11582M 11604  11858  11932M 11991  12022M 12255M 12257M 12258M 12259  12346M
             12399  12419M 12422  13003M 13050  13071M 13074  13397M 13441  13456M 13457M 13476  13516M 13614M 13614
             13677  13691  13943  14163M 14249  14269M 14272  14558M 14610  14700M 14708M 14824M 14831  14853M 14916M
             14917M 14919  14924M 14931  14966M 14990M 15000U 15078U 15091M 15120  15286M 15318  15483M 15515  15679M
             15711  15877M 15931  16147M 16157U 16214U 16309M 16316  16351M 16441M 16474  16532M 16542U 16558M 16558
             16608  16616M 16635M 16635  16692U 16705M 16786  16859M 16869U 17069  17098  17149  17156U 17179M 17210
             17264M 17384M 17388M 17389M 17390  17404M 17404  17421  17436M 17464  17822M 17826M 17827M 17828  17932M
             17965  18014M 18024U 18059  18125  18139U 18157M 18190  18262M 18263M 18263  18278U 18373  18390U 18433M
             18465  18519M 18529U 18541M 18541  18596M 18716  18731  18744  18751U 18769M 18800  18854M 18964M 18964
             18981  18996M 19024  19373M 19403  19442M 19452U 19466M 19466  19526  19540  19541M 19558M 19558  19591U
             19604M 19661  19897M 19898  19899  19900M 19901  19909M 19910M 19910  19948  20029  20145M 20180  20530M
             20540U 20638U 20649M 20656  20691M 20759M 20792  21008M 21012  21067M 21112M 21223M 21269  21353M 21413M
             21619M 21671M 21722  21919D 21921M 21921  21922M 21923U 21924N 21989M 21997M 22131M 22132M 22133N 22135N
             22186M 22198M 22198  22204N 22217N 22226M 22232M 22244  22253  22283M 22284M 22288N 22396N 22524M 22583
             22701D 22703M 22703  22704M 22705U 22706N 22835M 22836  22859M 22866  22868M 22888M 22898U 22911U 22914M
             22926M 22926  22932N 22945N 22954M 22960M 22961  23094M 23106M 23106  23112N 23125N 23134M 23140M 23141
             23293M 23326  23483M 23484M 23485  23512M 23519  23541M 23696M 23729  23917M 23918M 23920  23960M 23967
             23989M 24012M 24019  24054M 24094M 24119  24265M 24354  24417M 24445M 24445  24456M 24487M 24487  24576M
             24592  24612M 24663  24803M 24810  24812M 24856M 24886  24949M 24977M 24977  24988M 25019M 25019  25108M
             25124  25144M 25176  25316M 25323  25325M 25369M 25399  25462M 25490M 25490  25501M 25532M 25532  25621M
             25637  25657M 25689  25829M 25836  25838M 25882M 25912  25975M 26003M 26003  26014M 26045M 26045  26134M
             26150  26170M 26202  26342M 26349  26351M 26395M 26426  26489M 26504M 26504  26515M 26546M 26546  26635M
             26661  26676M 26708  26844M 26851  26853M 26892M 26963  27012M 27013M 27014M 27091M 27122  27171M 27172M
             27173M 27315M 27348  27397M 27398M 27399M 27476M 27510  27546M 27657M 27690  27726M 27838M 27871  27908M
             27975M 28008  28045M 28190M 28241  28353M 28401M 28444M 28476  28588M 28636M 28679M 28718  29029M 29062
             29128M 29278M 29314M 29345  29446M 29447  29505  29535M 29567  29622M 29623M 29623  29644U 29659U 29682M
             29711  29767M 29768M 29768  29789U 29828U 29851M 29881  30111M 30144  30244M 30355M 30396M 30426  31005M
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  361
             31038  31172M 31202  31336M 31364  31573M 31603  31676M 31693M 31714M 31735M 31740  31763M 31824M 31860
             32035M 32065  32449M 32494M 32528  32593M 32675M 33004M 33005  33021M 33022  33100M 33153  33420M 33421
             33422M 33423  33475M 33491M 33496  33508  33611M 33643  33817M 33857M 34032M 34072M 34105  34329M 34330M
             34330  34367M 34407M 34453M 34493M 34625M 34679  34757M 34758M 34758  34794M 34805M 34805  34820U 34837M
             34843U 34853M 34864M 34864  34879U 34896M 34902U 34910M 34921M 34921  34936U 34983  34984M 34990U 35154M
             35187  35260M 35291M 35291  35302M 35333M 35333  35386M 35402  35427M 35459  35528M 35533  35569M 35576
             35580M 35628M 35657  35823M 35823  35824M 35847M 35854  35855M 35956M 35991  36046M 36047M 36047  36105M
             36106  36157M 36189  36222  36237M 36289  36338M 36373  36396  36423M 36487  36544M 36591  36806M 36837
             36916M 36945  37072M 37100  37192M 37220  37318M 37348  37488M 37541  37628M 37667M 37712  37716M 37716
             37718M 37719  37763  37790M 37863M 37936M 38020M 38083  38152M 38196  38233M 38267  38464M 38474U 38480M
             38487U 38498U 38510U 38587M 38587  38588M 38603M 38696M 38697M 38698N 38774M 38775M 38776  38793M 38794
             38834M 38849  38885M 38900  38949M 39021  39089M 39100M 39100  39115U 39160M 39171U 39257M 39287  39468M
     3(3)      979U  4225   5702M  5735   6377M  6411   6669M  6700   6884M  6915   7088M  7120   7282M  7313   7435M
              7515   7545M  7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128   9151M  9235   9530M  9560
              9716M  9748   9839M  9840  10151M 10182  10363  10385M 10385  10386M 10387M 10391M 10392M 10396  10541M
             10572M 10601  10683M 10712  11044M 11073  11129M 11158  11317M 11318M 11353  11384M 11384  11413  11433M
             11465  11932M 11991  12346M 12399  13003M 13050  13397M 13441  13483M 13484  13516M 13537M 13542  14163M
             14249  14269M 14272  14558M 14610  14707M 14708  15004M 15014U 15073U 15091M 15120  15286M 15318  15483M
             15515  15679M 15711  15877M 15931  16441M 16474  16705M 16786  17104M 17114U 17141U 17179M 17210  17384M
             17386M 17390  17436M 17464  17822M 17824M 17828  17932M 17965  18157M 18190  18433M 18465  18769M 18800
             18996M 19024  19373M 19403  19604M 19661  20145M 20180  20515M 20525U 20594  20644U 20759M 20792  21072U
             21087M 21088M 21088  21103  21129M 21129  21365M 21366M 21366  21381  21407U 21429U 21444M 21444  21619M
             21671M 21722  22184M 22185  22216M 22217M 22218  22334M 22382  22442M 22480  22524M 22583  22904M 22913
             22944M 22945M 22946  23068M 23078U 23084M 23091U 23093  23124M 23125M 23126  23293M 23326  23696M 23729
             24265M 24354  24417M 24455  24456M 24612M 24663  24803M 24812M 24856M 24886  24949M 24987  24988M 25144M
             25176  25316M 25325M 25369M 25399  25462M 25500  25501M 25657M 25689  25829M 25838M 25882M 25912  25975M
             26013  26014M 26170M 26202  26342M 26351M 26395M 26426  26489M 26514  26515M 26676M 26708  26844M 26853M
             26892M 26963  27091M 27122  27315M 27348  27476M 27510  27547M 27571  27657M 27690  27838M 27871  27909M
             27933  27975M 28008  28046M 28109  28190M 28241  28365M 28366M 28366  28376U 28418  28444M 28476  28600M
             28601M 28601  28611U 28653  28679M 28718  29029M 29062  29140M 29141M 29141  29156U 29202  29256  29284U
             29314M 29345  29398M 29409M 29409  29424U 29499  29505M 29511U 29535M 29567  29682M 29711  29851M 29881
             30111M 30144  30230U 30257M 30258M 30258  30277  30378U 30396M 30426  30703M 30721U 30744M 30765U 31005M
             31038  31172M 31202  31336M 31364  31573M 31603  31824M 31860  32035M 32065  32449M 32494M 32528  32608M
             32609M 32609  32624U 32654  32685U 33100M 33153  33611M 33643  33818M 33830  33853U 33858M 33873U 34032M
             34072M 34105  34368M 34380  34403U 34408M 34423U 34454M 34466  34489U 34494M 34509U 34625M 34679  34980M
             34984  35154M 35187  35260M 35301  35302M 35427M 35459  35569M 35577  35580M 35628M 35657  35956M 35991
             36106M 36127M 36237M 36289  36423M 36487  36544M 36591  36806M 36837  36916M 36945  37072M 37100  37192M
             37220  37318M 37348  37488M 37541  37635M 37664M 37667M 37712M 37717M 37718M 37719  37797M 37870M 37943M
             38020M 38083  38171M 38197  38233M 38267  38558M 38559M 38560  38781M 38782  38783M 38784  38785M 38786M
             38787  38949M 39021  39153M 39154M 39155M 39196M 39206U 39217U 39257M 39287  39468M
     4(4)      975U  4225   5702M  5735   6377M  6411   6669M  6700   6884M  6915   7088M  7120   7282M  7313   7448M
              7468   7545M  7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128   9151M  9235   9530M  9560
              9716M  9748  10019M 10029U 10035M 10042U 10053U 10098U 10151M 10182  10363  10541M 10572M 10601  10683M
             10712  11044M 11073  11129M 11158  11433M 11465  11802M 11814M 11814  11829U 11881M 11892U 11932M 11991
             12346M 12399  13003M 13050  13397M 13441  13482M 13484  13516M 13537M 13542  14163M 14249  14269M 14272
             14558M 14610  15091M 15120  15286M 15318  15483M 15515  15679M 15711  15877M 15931  15994M 16004U 16418U
             16441M 16474  16705M 16786  16931M 16947M 16952M 16953  17003M 17051M 17179M 17210  17436M 17464  17520M
             17530U 17661  17685U 17705U 17836  17895  17914U 17932M 17965  18157M 18190  18433M 18465  18650M 18698M
             18769M 18800  18996M 19024  19080M 19090U 19179  19203U 19223U 19331  19341  19355U 19373M 19403  19604M
             19661  20145M 20180  20759M 20792  21619M 21671M 21722  22288M 22301M 22301  22330U 22368  22382M 22388U
             22396M 22409M 22409  22438U 22466  22480M 22486U 22524M 22583  23293M 23326  23696M 23729  24265M 24354
             24454M 24456  24612M 24663  24698M 24708U 24812  24843U 24856M 24886  24986M 24988  25144M 25176  25211M
             25221U 25325  25356U 25369M 25399  25499M 25501  25657M 25689  25724M 25734U 25838  25869U 25882M 25912
             26012M 26014  26170M 26202  26237M 26247U 26351  26382U 26395M 26426  26513M 26515  26676M 26708  26743M
             26853  26892M 26963  27020M 27021M 27021  27064  27065  27091M 27122  27219M 27220M 27220  27248  27268
             27284  27315M 27348  27405M 27406M 27406  27449  27450  27476M 27510  27595M 27596M 27596  27624  27629
             27657M 27690  27728M 27752  27776M 27777M 27777  27805  27810  27838M 27871  27906M 27906  27924  27975M
             28008  28043M 28043  28061  28081  28129  28190M 28241  28444M 28476  28679M 28718  29029M 29062  29314M
             29345  29535M 29567  29682M 29711  29851M 29881  30111M 30144  30396M 30426  31005M 31038  31172M 31202
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  362
             31336M 31364  31449M 31531M 31573M 31603  31824M 31860  31953M 31954M 31954  31973U 32035M 32065  32449M
             32494M 32528  33100M 33153  33611M 33643  34032M 34072M 34105  34625M 34679  35154M 35187  35300M 35302
             35427M 35459  35495M 35524U 35580  35615U 35628M 35657  35787M 35816U 35855  35938U 35956M 35991  36107M
             36120  36126  36127  36128M 36237M 36289  36423M 36487  36544M 36591  36711M 36711  36728M 36733M 36738U
             36806M 36837  36916M 36945  37072M 37100  37192M 37220  37318M 37348  37390M 37401M 37401  37416U 37458M
             37464U 37488M 37541  37642M 37665M 37667M 37690M 37741M 37804M 37877M 37950M 38020M 38083  38233M 38267
             38671M 38681U 38695  38698  38795  38911U 38926M 38927  38928  38934  38949M 39021  39085M 39146  39179
             39257M 39287  39468M
     5(5)      971U  4225   5702M  5735   6377M  6411   6669M  6700   6884M  6915   7088M  7120   7282M  7313   7545M
              7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128   9151M  9235   9530M  9560   9716M  9748
             10151M 10182  10363  10541M 10572M 10601  10683M 10712  11044M 11073  11129M 11158  11433M 11465  11932M
             11991  12346M 12399  12529M 12539U 12709U 13003M 13050  13397M 13441  13482M 13483  13487M 13497U 13509U
             13516M 13538M 13542  14163M 14249  14558M 14610  15091M 15120  15286M 15318  15483M 15515  15679M 15711
             15877M 15931  16441M 16474  16705M 16786  16931M 16940M 16953  17015M 17016M 17016  17026U 17179M 17210
             17436M 17464  17932M 17965  18157M 18190  18433M 18465  18662M 18663M 18663  18673U 18769M 18800  18996M
             19024  19373M 19403  19604M 19661  20145M 20180  20322M 20359  20360  20361  20362  20382U 20736U 20759M
             20792  21619M 21671M 21722  22524M 22583  23293M 23326  23696M 23729  24265M 24354  24455M 24456  24612M
             24663  24811M 24812  24856M 24886  24987M 24988  25144M 25176  25324M 25325  25369M 25399  25500M 25501
             25657M 25689  25837M 25838  25882M 25912  26013M 26014  26170M 26202  26350M 26351  26395M 26426  26514M
             26515  26676M 26708  26852M 26853  26892M 26963  27091M 27122  27255M 27256M 27256  27284  27315M 27348
             27476M 27510  27657M 27690  27729M 27752  27838M 27871  27975M 28008  28190M 28241  28444M 28476  28679M
             28718  29029M 29062  29314M 29345  29535M 29567  29682M 29711  29851M 29881  30111M 30144  30396M 30426
             31005M 31038  31172M 31202  31336M 31364  31450M 31460U 31481M 31481  31511M 31532M 31550U 31573M 31603
             31824M 31860  31927M 31928M 31928  31947U 32035M 32065  32140M 32141M 32141  32186U 32301  32356  32449M
             32471U 32494M 32528  32727M 32737U 32752M 32752  32827M 32844M 32844  33056  33077U 33100M 33153  33611M
             33643  34032M 34072M 34105  34625M 34679  35154M 35187  35301M 35302  35427M 35459  35577M 35579M 35580
             35628M 35657  35956M 35991  36108M 36120  36237M 36289  36423M 36487  36544M 36591  36806M 36837  36916M
             36945  37072M 37100  37192M 37220  37318M 37348  37488M 37541  37649M 37666M 37667M 37697M 37748M 37811M
             37884M 37957M 38020M 38083  38233M 38267  38565M 38576M 38576  38583M 38588  38693  38696  38771  38772
             38949M 39021  39257M 39287  39468M
     6(6)      967U  4225   4494M  4504U  5694U  5702M  5735   5820M  5821M  5821   5978M  5979M  5979   5989U  6006M
              6007M  6007   6023   6069   6119   6127M  6128   6285   6338   6364U  6377M  6411   6553M  6554M  6554
              6557   6643   6644   6669M  6700   6825M  6826M  6826   6850U  6871U  6884M  6915   7011M  7012M  7012
              7036U  7042   7067   7068   7088M  7120   7178M  7179M  7179   7203U  7221   7269U  7282M  7313   7545M
              7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128   8247M  8257U  9133U  9151M  9235   9298M
              9299M  9299   9327M  9337U  9512U  9530M  9560   9657M  9667U  9708U  9716M  9748   9797M  9807U  9888M
              9898U  9901U  9991  10090  10120U 10123U 10133U 10151M 10182  10277M 10287U 10350U 10363  10541M 10572M
             10601  10683M 10712  10906M 10916U 11021U 11044M 11073  11129M 11158  11433M 11465  11516M 11517M 11517
             11575U 11730  11739M 11914U 11932M 11991  12195M 12205U 12346M 12367U 12399  13003M 13050  13397M 13441
             13516M 13539M 13542  14163M 14249  14558M 14610  15091M 15120  15156M 15166U 15206  15273U 15286M 15318
             15354M 15364U 15404  15470U 15483M 15515  15551M 15561U 15601  15666U 15679M 15711  15747M 15757U 15797
             15864U 15877M 15931  15980M 15990U 16423U 16441M 16474  16493M 16503U 16697U 16705M 16786  16835M 16845U
             17161U 17179M 17210  17265M 17275U 17398  17410U 17436M 17464  17506M 17516U 17919U 17932M 17965  18000M
             18010U 18144U 18157M 18190  18212M 18222U 18425U 18433M 18465  18769M 18800  18855M 18865U 18958  18970U
             18996M 19024  19373M 19403  19604M 19661  19849M 19859U 19866  20117U 20145M 20180  20229M 20239U 20379U
             20503  20731U 20741U 20759M 20792  20828M 20838U 20858  21012M 21019  21020  21021  21022  21250  21277M
             21619M 21645U 21648U 21658U 21671M 21722  21757M 21767U 22511U 22524M 22583  22632M 22642U 23275U 23293M
             23326  23361M 23371U 23683U 23696M 23729  23922M 23932U 24247U 24265M 24354  24376M 24386U 24392M 24399U
             24410U 24604U 24612M 24663  24762M 24772U 24778M 24785U 24796U 24838U 24856M 24886  24908M 24918U 24924M
             24931U 24942U 25136U 25144M 25176  25275M 25285U 25291M 25298U 25309U 25351U 25369M 25399  25421M 25431U
             25437M 25444U 25455U 25649U 25657M 25689  25788M 25798U 25804M 25811U 25822U 25864U 25882M 25912  25934M
             25944U 25950M 25957U 25968U 26162U 26170M 26202  26301M 26311U 26317M 26324U 26335U 26377U 26395M 26426
             26448M 26458U 26464M 26471U 26482U 26668U 26676M 26708  26803M 26813U 26819M 26826U 26837U 26879U 26892M
             26963  27091M 27122  27315M 27348  27476M 27510  27657M 27690  27838M 27871  27975M 28008  28190M 28241
             28290M 28300U 28419  28426U 28444M 28476  28525M 28535U 28654  28661U 28679M 28718  28767M 28777U 28928
             29011U 29029M 29062  29111M 29121U 29296U 29314M 29345  29381M 29391U 29522U 29535M 29567  29603M 29613U
             29669U 29682M 29711  29747M 29757U 29838U 29851M 29881  30111M 30144  30396M 30426  30539M 30568U 30639
             30893  30937  30974U 31005M 31038  31087M 31097U 31154U 31172M 31202  31251M 31261U 31318U 31336M 31364
             31413M 31423U 31555U 31573M 31603  31652M 31662U 31806U 31824M 31860  31896M 31906U 32022U 32035M 32065
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  363
             32114M 32124U 32449M 32476U 32494M 32528  32564M 32574U 32934  33042  33087U 33100M 33153  33223M 33224M
             33224  33234U 33312M 33330  33560  33585U 33611M 33643  33692M 33702U 33733  33798  33830  33910  33916M
             33917M 33917  33937  34032M 34054U 34072M 34105  34164M 34193U 34228  34270  34380  34400U 34418U 34466
             34486U 34504U 34593  34607U 34625M 34679  34731M 34741U 35136U 35154M 35187  35222M 35232U 35238M 35245U
             35256U 35414U 35427M 35459  35555M 35565U 35610U 35628M 35657  35956M 35991  36237M 36289  36423M 36487
             36544M 36591  36641M 36651U 36793U 36806M 36837  36873M 36883U 36903U 36916M 36945  37072M 37100  37149M
             37159U 37174U 37192M 37220  37269M 37279U 37300U 37318M 37348  37376M 37386U 37480U 37488M 37541  37590M
             37600U 38002U 38020M 38083  38233M 38267  38336M 38346U 38375  38791  38941U 38949M 39021  39059M 39077U
             39249U 39257M 39287  39356M 39366U 39455U 39468M
     7(7)      963U  4225   4625M  4635U  4650M  4650   4697M  4807   4841   4907   4970   5043   5206   5287   5363
              5414   5470   5521   5548   5554   5689U  5702M  5735   5794M  5804U  6369U  6377M  6411   6435M  6436M
              6436   6460U  6557   6661U  6669M  6700   6751M  6752M  6752   6776U  6782   6884M  6915   6977M  6978M
              6978   7002U  7080U  7088M  7120   7144M  7145M  7145   7169U  7274U  7282M  7313   7335M  7345U  7537U
              7545M  7601   7674M  7684U  7700U  7708M  7737   7759M  7769U  7865U  7873M  7905   7939M  7968   8060M
              8128   8168M  8216U  8234   8416   8458   8514   8759   8801   8857   9138U  9151M  9235   9275M  9285U
              9517U  9530M  9560   9716M  9748   9783M  9793U 10138U 10151M 10182  10215M 10216M 10216  10228M 10238U
             10363  10541M 10564U 10572M 10601  10623M 10633U 10675U 10683M 10712  10763M 10781U 11031U 11044M 11073
             11095M 11105U 11121U 11129M 11158  11193M 11241U 11247M 11254U 11303U 11401  11420U 11433M 11465  11500M
             11510U 11919U 11932M 11991  12346M 12399  12852M 12862U 12876M 12876  12911U 13003M 13050  13144M 13145M
             13145  13166U 13213U 13268M 13278U 13292M 13292  13327U 13397M 13441  13516M 13539M 13542  13735M 13736M
             13736  13757U 13804U 14034M 14044U 14058M 14058  14093U 14163M 14249  14407M 14417U 14431M 14431  14466U
             14558M 14610  14632M 14642U 15083U 15091M 15120  15142M 15152U 15278U 15286M 15318  15340M 15350U 15475U
             15483M 15515  15537M 15547U 15671U 15679M 15711  15733M 15743U 15869U 15877M 15931  15966M 15976U 16271
             16428U 16441M 16474  16705M 16786  16821M 16831U 17166U 17179M 17210  17436M 17464  17932M 17965  18157M
             18190  18433M 18465  18500M 18510U 18756U 18769M 18800  18996M 19024  19066M 19076U 19360U 19373M 19403
             19425M 19435U 19596U 19604M 19661  19802M 19812U 19817  19877  19954  19997  20052  20095  20122U 20145M
             20180  20215M 20225U 20746U 20759M 20792  20814M 20824U 20858  21381  21404U 21424U 21511  21619M 21663U
             21671M 21722  21855M 21884U 21973  22049  22105  22175U 22524M 22583  22618M 22628U 22773  22817  23012
             23056  23174  23280U 23293M 23326  23375M 23385U 23391M 23398U 23447U 23586  23678U 23696M 23729  23764M
             23774U 23780M 23787U 23836U 24139  24201  24252U 24265M 24354  24612M 24663  24856M 24886  25144M 25176
             25369M 25399  25657M 25689  25882M 25912  26170M 26202  26395M 26426  26676M 26708  26892M 26963  26995M
             27005U 27033  27034  27065  27066  27078U 27091M 27122  27154M 27164U 27302U 27315M 27348  27380M 27390U
             27418  27419  27450  27451  27463U 27476M 27510  27579M 27589U 27637  27644U 27657M 27690  27760M 27770U
             27818  27825U 27838M 27871  27941M 27951U 27962U 27975M 28008  28117M 28166U 28177U 28190M 28241  28276M
             28286U 28431U 28444M 28476  28511M 28521U 28666U 28679M 28718  28753M 28763U 29016U 29029M 29062  29097M
             29107U 29301U 29314M 29345  29367M 29377U 29527U 29535M 29567  29589M 29599U 29674U 29682M 29711  29733M
             29743U 29843U 29851M 29881  29916M 29926U 30070  30098U 30111M 30144  30179M 30189U 30383U 30396M 30426
             30461M 30471U 30530  30992U 31005M 31038  31073M 31083U 31159U 31172M 31202  31237M 31247U 31323U 31336M
             31364  31399M 31409U 31560U 31573M 31603  31638M 31648U 31811U 31824M 31860  31882M 31892U 32027U 32035M
             32065  32100M 32110U 32449M 32481U 32494M 32528  32550M 32560U 33092U 33100M 33153  33188M 33198U 33328
             33578  33598U 33611M 33643  33678M 33688U 34032M 34059U 34072M 34105  34140M 34150U 34208  34612U 34625M
             34679  34714M 34724U 35141U 35154M 35187  35427M 35459  35628M 35657  35693M 35722U 35728M 35735U 35765U
             35824  35916  35943U 35956M 35991  36013M 36023U 36229U 36237M 36289  36324M 36334U 36410U 36423M 36487
             36509M 36519U 36536U 36544M 36591  36655M 36668M 36668  36683U 36701  36755M 36769U 36806M 36837  36859M
             36869U 36908U 36916M 36945  36967M 36977U 37064U 37072M 37100  37135M 37145U 37179U 37192M 37220  37255M
             37265U 37305U 37318M 37348  37488M 37541  37576M 37586U 38007U 38020M 38083  38233M 38267  38949M 39021
             39257M 39287  39309M 39319U 39460U 39468M
     8(8)      959U  4225   5702M  5735   6377M  6411   6464M  6474U  6512   6656U  6669M  6700   6884M  6915   7088M
              7120   7282M  7313   7545M  7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128   9151M  9235
              9530M  9560   9716M  9748  10151M 10182  10363  10541M 10572M 10601  10683M 10712  11044M 11073  11129M
             11158  11433M 11465  11932M 11991  12346M 12399  13003M 13050  13397M 13441  13516M 13539M 13542  14163M
             14249  14558M 14610  15091M 15120  15286M 15318  15483M 15515  15679M 15711  15877M 15931  16441M 16474
             16705M 16786  17179M 17210  17436M 17464  17932M 17965  18157M 18190  18433M 18465  18769M 18800  18996M
             19024  19373M 19403  19604M 19661  19744M 19754U 19779  19816  20110  20127U 20145M 20180  20759M 20792
             21028M 21038U 21196U 21619M 21671M 21722  22262M 22262  22277  22283  22315  22423  22494M 22524M 22583
             23293M 23326  23696M 23729  24265M 24354  24612M 24663  24856M 24886  25144M 25176  25369M 25399  25657M
             25689  25882M 25912  26170M 26202  26395M 26426  26676M 26708  26892M 26963  27091M 27122  27315M 27348
             27476M 27510  27657M 27690  27838M 27871  27975M 28008  28190M 28241  28444M 28476  28679M 28718  29029M
             29062  29314M 29345  29535M 29567  29682M 29711  29851M 29881  30111M 30144  30396M 30426  30485M 30968M
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  364
             30968  30985  31005M 31038  31172M 31202  31336M 31364  31573M 31603  31824M 31860  32035M 32065  32449M
             32494M 32528  33100M 33153  33202M 33207U 33611M 33643  34032M 34072M 34105  34625M 34679  35154M 35187
             35427M 35459  35628M 35657  35956M 35991  36237M 36289  36423M 36487  36544M 36591  36806M 36837  36916M
             36945  37072M 37100  37192M 37220  37318M 37348  37488M 37541  38020M 38083  38233M 38267  38738M 38748U
             38760  38792  38906U 38949M 39021  39257M 39287  39468M
     9(9)      955U  4225   4404M  4414U  4489U  5702M  5735   6377M  6411   6485M  6495U  6507U  6669M  6700   6722M
              6732U  6744U  6884M  6915   7088M  7120   7282M  7313   7545M  7601   7708M  7737   7873M  7905   7939M
              7968   8060M  8128   8530M  8540U  8554M  8554   8578   8583M  8589M  8622   8703U  9151M  9235   9530M
              9560   9591M  9592M  9592   9622M  9632U  9644U  9716M  9748  10151M 10182  10363  10541M 10572M 10601
             10683M 10712  11044M 11073  11129M 11158  11433M 11465  11932M 11991  12346M 12399  13003M 13050  13397M
             13441  13516M 13539M 13542  14163M 14249  14558M 14610  15091M 15120  15286M 15318  15483M 15515  15679M
             15711  15877M 15931  16441M 16474  16705M 16786  17179M 17210  17436M 17464  17565M 17743M 17743  17773M
             17773  17907  17932M 17965  18157M 18190  18433M 18465  18769M 18800  18996M 19024  19104M 19261M 19261
             19277M 19277  19348  19373M 19403  19604M 19661  19696M 19706U 19712M 19719U 19730U 20132U 20145M 20180
             20759M 20792  20842M 20852U 21103  21318  21619M 21653U 21671M 21722  21771M 21781U 22506U 22524M 22583
             23293M 23326  23696M 23729  24265M 24354  24612M 24663  24856M 24886  25144M 25176  25369M 25399  25657M
             25689  25882M 25912  26170M 26202  26395M 26426  26676M 26708  26892M 26963  27091M 27122  27315M 27348
             27476M 27510  27657M 27690  27838M 27871  27975M 28008  28190M 28241  28444M 28476  28679M 28718  28793M
             28794M 28794  28815U 28828U 28892M 28913U 28995  28999  29006U 29029M 29062  29314M 29345  29535M 29567
             29682M 29711  29851M 29881  29942M 29943M 29943  29964U 29977U 30041M 30055U 30075  30086  30093U 30111M
             30144  30196M 30277  30329  30396M 30426  30486M 30515U 30677  30718U 30750  30760U 30979U 31005M 31038
             31103M 31104M 31104  31128U 31149U 31172M 31202  31267M 31268M 31268  31292U 31313U 31336M 31364  31573M
             31603  31824M 31860  32035M 32065  32449M 32494M 32528  32591M 32591  32648M 32648  32654M 32701M 32701
             32719U 32947  33082U 33100M 33153  33611M 33643  34032M 34072M 34105  34625M 34679  35154M 35187  35427M
             35459  35628M 35657  35956M 35991  36237M 36289  36423M 36487  36544M 36591  36806M 36837  36916M 36945
             37072M 37100  37192M 37220  37318M 37348  37488M 37541  38020M 38083  38233M 38267  38949M 39021  39119M
             39129U 39166U 39257M 39287  39468M
    10(A)      951U  4225   4226M  4236U  5699U  5702M  5735   5736M  5746U  6374U  6377M  6411   6412M  6422U  6666U
              6669M  6700   6701M  6711U  6881U  6884M  6915   6916M  6926U  7085U  7088M  7120   7121M  7131U  7279U
              7282M  7313   7314M  7324U  7542U  7545M  7601   7602M  7612U  7705U  7708M  7737   7738M  7748U  7870U
              7873M  7905   7906M  7916U  7936U  7939M  7968   7969M  7979U  8057U  8060M  8128   8129M  8139U  9148U
              9151M  9235   9236M  9246U  9527U  9530M  9560   9561M  9571U  9713U  9716M  9748   9749M  9759U 10148U
             10151M 10182  10183M 10193U 10363  10541M 10569U 10572M 10601  10602M 10612U 10680U 10683M 10712  10713M
             10723U 11041U 11044M 11073  11074M 11084U 11126U 11129M 11158  11159M 11169U 11430U 11433M 11465  11466M
             11476U 11929U 11932M 11991  11994M 12004U 12148U 12172M 12182U 12346M 12376U 12399  12406M 12416U 13003M
             13028U 13050  13057M 13067U 13397M 13422U 13441  13444M 13454U 13516M 14163M 14188U 14249  14256M 14266U
             14558M 14583U 14610  14611M 14621U 15088U 15091M 15120  15121M 15131U 15283U 15286M 15318  15319M 15329U
             15480U 15483M 15515  15516M 15526U 15676U 15679M 15711  15712M 15722U 15874U 15877M 15931  15932M 15942U
             16438U 16441M 16474  16475M 16485U 16702U 16705M 16786  16787M 16797U 17176U 17179M 17210  17211M 17221U
             17433U 17436M 17464  17465M 17475U 17929U 17932M 17965  17966M 17976U 18154U 18157M 18190  18191M 18201U
             18430U 18433M 18465  18466M 18476U 18766U 18769M 18800  18801M 18811U 18993U 18996M 19024  19025M 19035U
             19370U 19373M 19403  19404M 19414U 19601U 19604M 19661  19662M 19672U 20142U 20145M 20180  20181M 20191U
             20756U 20759M 20792  20793M 20803U 21619M 21668U 21671M 21722  21723M 21733U 22521U 22524M 22583  22584M
             22594U 23290U 23293M 23326  23327M 23337U 23693U 23696M 23729  23730M 23740U 24262U 24265M 24354  24355M
             24365U 24609U 24612M 24663  24664M 24674U 24853U 24856M 24886  24887M 24897U 25141U 25144M 25176  25177M
             25187U 25366U 25369M 25399  25400M 25410U 25654U 25657M 25689  25690M 25700U 25879U 25882M 25912  25913M
             25923U 26167U 26170M 26202  26203M 26213U 26392U 26395M 26426  26427M 26437U 26673U 26676M 26708  26709M
             26719U 26889U 26892M 26963  26964M 26974U 27088U 27091M 27122  27123M 27133U 27312U 27315M 27348  27349M
             27359U 27473U 27476M 27510  27511M 27521U 27654U 27657M 27690  27691M 27701U 27835U 27838M 27871  27872M
             27882U 27972U 27975M 28008  28009M 28019U 28187U 28190M 28241  28242M 28252U 28441U 28444M 28476  28477M
             28487U 28676U 28679M 28718  28719M 28729U 29026U 29029M 29062  29063M 29073U 29311U 29314M 29345  29346M
             29356U 29532U 29535M 29567  29568M 29578U 29679U 29682M 29711  29712M 29722U 29848U 29851M 29881  29882M
             29892U 30108U 30111M 30144  30145M 30155U 30393U 30396M 30426  30427M 30437U 31002U 31005M 31038  31039M
             31049U 31169U 31172M 31202  31203M 31213U 31333U 31336M 31364  31365M 31375U 31570U 31573M 31603  31604M
             31614U 31821U 31824M 31860  31861M 31871U 32032U 32035M 32065  32066M 32076U 32449M 32491U 32494M 32528
             32529M 32539U 33097U 33100M 33153  33154M 33164U 33608U 33611M 33643  33644M 33654U 34032M 34069U 34072M
             34105  34106M 34116U 34622U 34625M 34679  34680M 34690U 35151U 35154M 35187  35188M 35198U 35424U 35427M
             35459  35460M 35470U 35625U 35628M 35657  35658M 35668U 35953U 35956M 35991  35992M 36002U 36234U 36237M
             36289  36290M 36300U 36420U 36423M 36487  36488M 36498U 36541U 36544M 36591  36592M 36602U 36803U 36806M
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  365
             36837  36838M 36848U 36913U 36916M 36945  36946M 36956U 37069U 37072M 37100  37101M 37111U 37189U 37192M
             37220  37221M 37231U 37315U 37318M 37348  37349M 37359U 37485U 37488M 37541  37542M 37552U 38017U 38020M
             38083  38084M 38094U 38230U 38233M 38267  38268M 38278U 38946U 38949M 39021  39022M 39032U 39254U 39257M
             39287  39288M 39298U 39465U 39468M
    11(B)      947U  4225   5702M  5735   6377M  6411   6669M  6700   6884M  6915   7088M  7120   7282M  7313   7545M
              7601   7708M  7737   7873M  7905   7939M  7968   8060M  8128   9151M  9235   9530M  9560   9716M  9748
             10151M 10182  10363  10541M 10572M 10601  10683M 10712  11044M 11073  11129M 11158  11433M 11465  11932M
             11991  12346M 12399  13003M 13050  13397M 13441  13516M 14163M 14249  14558M 14610  15091M 15120  15286M
             15318  15483M 15515  15679M 15711  15877M 15931  16441M 16474  16705M 16786  17179M 17210  17436M 17464
             17932M 17965  18157M 18190  18433M 18465  18769M 18800  18996M 19024  19373M 19403  19604M 19661  20145M
             20180  20759M 20792  21619M 21671M 21722  22524M 22583  23293M 23326  23696M 23729  24265M 24354  24612M
             24663  24856M 24886  25144M 25176  25369M 25399  25657M 25689  25882M 25912  26170M 26202  26395M 26426
             26676M 26708  26892M 26963  27091M 27122  27315M 27348  27476M 27510  27657M 27690  27838M 27871  27975M
             28008  28190M 28241  28444M 28476  28679M 28718  29029M 29062  29314M 29345  29535M 29567  29682M 29711
             29851M 29881  30111M 30144  30396M 30426  31005M 31038  31172M 31202  31336M 31364  31573M 31603  31824M
             31860  32035M 32065  32449M 32494M 32528  33100M 33153  33611M 33643  34032M 34072M 34105  34625M 34679
             35154M 35187  35427M 35459  35628M 35657  35956M 35991  36237M 36289  36423M 36487  36544M 36591  36806M
             36837  36916M 36945  37072M 37100  37192M 37220  37318M 37348  37488M 37541  38020M 38083  38233M 38267
             38949M 39021  39257M 39287  39468M
    12(C)      943U  4225   4240   4241M  4242   4243   5702M  5702   5703   5735   5750   5751M  5752   5753   6377M
              6377   6378   6411   6426   6427M  6428   6429   6669M  6669   6670   6700   6715   6716M  6717   6718
              6884M  6884   6885   6915   6930   6931M  6932   6933   7088M  7088   7089   7120   7135   7136M  7137
              7138   7282M  7282   7283   7313   7328   7329M  7330   7331   7545M  7545   7546   7601   7616   7617M
              7618   7619   7708M  7708   7709   7737   7752   7753M  7754   7755   7873M  7873   7874   7905   7920
              7921M  7922   7923   7939M  7939   7940   7968   7983   7984M  7985   7986   8060M  8060   8061   8128
              8143   8144M  8145   8155U  8164   9143U  9151M  9151   9152   9235   9250   9251M  9252   9262U  9271
              9522U  9530M  9530   9531   9560   9575   9576M  9577   9578   9716M  9716   9717   9748   9763   9764M
              9765   9775U  9779  10143U 10151M 10151  10152  10182  10197  10198M 10199  10200  10363  10408M 10541M
             10572M 10572  10573  10601  10616  10617M 10618  10619  10683M 10683  10684  10712  10727  10728M 10729
             10739U 10743  11036U 11044M 11044  11045  11073  11088  11089M 11090  11091  11129M 11129  11130  11158
             11173  11174M 11175  11185U 11189  11425U 11433M 11433  11434  11465  11480  11481M 11482  11492U 11496
             11924U 11932M 11932  11933  11991  12191M 12346M 12399  12507M 13003M 13050  13137M 13397M 13441  13516M
             13661M 14163M 14249  14357M 14558M 14610  14625  14626M 14627  14628  15091M 15091  15092  15120  15135
             15136M 15137  15138  15286M 15286  15287  15318  15333  15334M 15335  15336  15483M 15483  15484  15515
             15530  15531M 15532  15533  15679M 15679  15680  15711  15726  15727M 15728  15729  15877M 15877  15878
             15931  15946  15947M 15948  15958U 15962  16433U 16441M 16441  16442  16474  16489  16490M 16491  16492
             16705M 16705  16706  16786  16801  16802M 16803  16813U 16817  17171U 17179M 17179  17180  17210  17225
             17226M 17227  17237U 17241  17428U 17436M 17436  17437  17464  17479  17480M 17481  17491U 17495  17924U
             17932M 17932  17933  17965  17980  17981M 17982  17992U 17996  18149U 18157M 18157  18158  18190  18205
             18206M 18207  18208  18433M 18433  18434  18465  18480  18481M 18482  18492U 18496  18761U 18769M 18769
             18770  18800  18815  18816M 18817  18827U 18831  18988U 18996M 18996  18997  19024  19039  19040M 19041
             19051U 19055  19365U 19373M 19373  19374  19403  19418  19419M 19420  19421  19604M 19604  19605  19661
             19676  19677M 19678  19688U 19692  20137U 20145M 20145  20146  20180  20195  20196M 20197  20207U 20211
             20462M 20463  20751U 20759M 20759  20760  20792  20807  20808M 20809  20810  20996M 21223  21224M 21619M
             21671M 21671  21672  21722  21737  21738M 21739  21749U 21753  22516U 22524M 22524  22525  22583  22598
             22599M 22600  22610U 22614  23285U 23293M 23293  23294  23326  23341  23342M 23343  23353U 23357  23688U
             23696M 23696  23697  23729  23744  23745M 23746  23756U 23760  24257U 24265M 24265  24266  24354  24369
             24370M 24371  24372  24612M 24612  24613  24663  24678  24679M 24680  24690U 24694  24848U 24856M 24856
             24857  24886  24901  24902M 24903  24904  25144M 25144  25145  25176  25191  25192M 25193  25203U 25207
             25361U 25369M 25369  25370  25399  25414  25415M 25416  25417  25657M 25657  25658  25689  25704  25705M
             25706  25716U 25720  25874U 25882M 25882  25883  25912  25927  25928M 25929  25930  26170M 26170  26171
             26202  26217  26218M 26219  26229U 26233  26387U 26395M 26395  26396  26426  26441  26442M 26443  26444
             26676M 26676  26677  26708  26723  26724M 26725  26735U 26739  26884U 26892M 26892  26893  26963  26978
             26979M 26980  26990U 26994  27083U 27091M 27091  27092  27122  27137  27138M 27139  27149U 27153  27307U
             27315M 27315  27316  27348  27363  27364M 27365  27375U 27379  27468U 27476M 27476  27477  27510  27525
             27526M 27527  27537U 27541  27649U 27657M 27657  27658  27690  27705  27706M 27707  27717U 27721  27830U
             27838M 27838  27839  27871  27886  27887M 27888  27898U 27902  27967U 27975M 27975  27976  28008  28023
             28024M 28025  28035U 28039  28182U 28190M 28190  28191  28241  28256  28257M 28258  28268U 28272  28436U
             28444M 28444  28445  28476  28491  28492M 28493  28503U 28507  28671U 28679M 28679  28680  28718  28733
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  366
             28734M 28735  28745U 28749  29021U 29029M 29029  29030  29062  29077  29078M 29079  29089U 29093  29306U
             29314M 29314  29315  29345  29360  29361M 29362  29363  29535M 29535  29536  29567  29582  29583M 29584
             29585  29682M 29682  29683  29711  29726  29727M 29728  29729  29851M 29851  29852  29881  29896  29897M
             29898  29908U 29912  30103U 30111M 30111  30112  30144  30159  30160M 30161  30171U 30175  30388U 30396M
             30396  30397  30426  30441  30442M 30443  30453U 30457  30997U 31005M 31005  31006  31038  31053  31054M
             31055  31065U 31069  31164U 31172M 31172  31173  31202  31217  31218M 31219  31229U 31233  31328U 31336M
             31336  31337  31364  31379  31380M 31381  31391U 31395  31565U 31573M 31573  31574  31603  31618  31619M
             31620  31630U 31634  31816U 31824M 31824  31825  31860  31875  31876M 31877  31878  32035M 32035  32036
             32065  32080  32081M 32082  32092U 32096  32254M 32255M 32255  32283M 32284  32449M 32486U 32494M 32494
             32495  32528  32543  32544M 32545  32546  33100M 33100  33101  33153  33168  33169M 33170  33180U 33184
             33603U 33611M 33611  33612  33643  33658  33659M 33660  33670U 33674  33717M 33718  33756M 33757M 33757
             33794M 33795  34032M 34064U 34072M 34072  34073  34105  34120  34121M 34122  34132U 34136  34617U 34625M
             34625  34626  34679  34694  34695M 34696  34706U 34710  35146U 35154M 35154  35155  35187  35202  35203M
             35204  35214U 35218  35419U 35427M 35427  35428  35459  35474  35475M 35476  35486U 35490  35620U 35628M
             35628  35629  35657  35672  35673M 35674  35684U 35688  35948U 35956M 35956  35957  35991  36006  36007M
             36008  36009  36237M 36237  36238  36289  36304  36305M 36306  36316U 36320  36415U 36423M 36423  36424
             36487  36502  36503M 36504  36505  36544M 36544  36545  36591  36606  36607M 36608  36618U 36627  36798U
             36806M 36806  36807  36837  36852  36853M 36854  36855  36916M 36916  36917  36945  36960  36961M 36962
             36963  37072M 37072  37073  37100  37115  37116M 37117  37127U 37131  37184U 37192M 37192  37193  37220
             37235  37236M 37237  37247U 37251  37310U 37318M 37318  37319  37348  37363  37364M 37365  37366  37488M
             37488  37489  37541  37556  37557M 37558  37568U 37572  38012U 38020M 38020  38021  38083  38098  38099M
             38100  38110U 38114  38225U 38233M 38233  38234  38267  38282  38283M 38284  38285  38558  38949M 38949
             38950  39021  39036  39037M 39038  39039  39257M 39257  39258  39287  39302  39303M 39304  39305  39468M
             39468  39469
    13(D)      939U  4225   4225   4240   4241   4243M  4328U  4518U  4521U  4668U  4671U  4728U  4731U  4836U  4839U
              4939U  4942U  5201U  5204U  5256U  5259U  5578U  5581U  5702M  5710U  5735   5735   5750   5751   5753M
              6107U  6377M  6385U  6411   6411   6426   6427   6429M  6669M  6700   6700   6715   6716   6718M  6884M
              6915   6915   6930   6931   6933M  7088M  7120   7120   7135   7136   7138M  7282M  7313   7313   7328
              7329   7331M  7445U  7545M  7553U  7601   7601   7616   7617   7619M  7708M  7737   7737   7752   7753
              7755M  7873M  7905   7905   7920   7921   7923M  7939M  7968   7968   7983   7984   7986M  8060M  8128
              8128   8143   8144   8164M  8273U  8391U  8394U  8436U  8439U  8482U  8485U  8779U  8782U  8825U  8828U
              8914U  8917U  8945U  8948U  9064U  9067U  9151M  9159U  9235   9235   9250   9251   9271M  9530M  9560
              9560   9575   9576   9578M  9716M  9748   9748   9763   9764   9779M 10151M 10182  10182  10197  10198
             10200M 10363  10409M 10541M 10572M 10601  10601  10616  10617  10619M 10683M 10712  10712  10727  10728
             10743M 11044M 11073  11073  11088  11089  11091M 11129M 11158  11158  11173  11174  11189M 11399U 11433M
             11441U 11465  11465  11480  11481  11496M 11718U 11932M 11940U 11991  12192M 12346M 12399  12508M 13003M
             13050  13138M 13397M 13441  13516M 13662M 14163M 14249  14358M 14558M 14610  14610  14625  14626  14628M
             15091M 15120  15120  15135  15136  15138M 15182U 15286M 15294U 15318  15318  15333  15334  15336M 15380U
             15483M 15491U 15515  15515  15530  15531  15533M 15577U 15679M 15687U 15711  15711  15726  15727  15729M
             15773U 15877M 15885U 15931  15931  15946  15947  15962M 16124U 16249U 16252U 16441M 16449U 16474  16474
             16489  16490  16492M 16517U 16593U 16596U 16672U 16675U 16705M 16713U 16786  16786  16801  16802  16817M
             16887U 16989U 16992U 17179M 17187U 17210  17210  17225  17226  17241M 17436M 17464  17464  17479  17480
             17495M 17549U 17851U 17854U 17883U 17886U 17932M 17940U 17965  17965  17980  17981  17996M 18040U 18081U
             18084U 18113U 18116U 18157M 18165U 18190  18190  18205  18206  18208M 18236U 18329U 18332U 18361U 18364U
             18405U 18408U 18433M 18441U 18465  18465  18480  18481  18496M 18565U 18769M 18777U 18800  18800  18815
             18816  18831M 18996M 19024  19024  19039  19040  19055M 19373M 19403  19403  19418  19419  19421M 19507U
             19604M 19612U 19661  19661  19676  19677  19692M 19770U 19934U 19937U 19966U 19969U 20015U 20018U 20064U
             20067U 20145M 20153U 20180  20180  20195  20196  20211M 20255U 20288U 20291U 20423U 20426U 20463M 20476U
             20479U 20570U 20573U 20759M 20767U 20792  20792  20807  20808  20810M 20997M 21053U 21225M 21238U 21241U
             21339U 21342U 21499U 21502U 21619M 21671M 21679U 21722  21722  21737  21738  21753M 21829U 21900U 21903U
             21942U 21945U 22363U 22366U 22524M 22532U 22583  22583  22598  22599  22614M 22685U 22754U 22757U 23169U
             23172U 23293M 23301U 23326  23326  23341  23342  23357M 23584U 23696M 23704U 23729  23729  23744  23745
             23760M 23946U 24134U 24137U 24196U 24199U 24227U 24230U 24265M 24273U 24354  24354  24369  24370  24372M
             24509U 24612M 24620U 24663  24663  24678  24679  24694M 24856M 24886  24886  24901  24902  24904M 25041U
             25144M 25152U 25176  25176  25191  25192  25207M 25369M 25399  25399  25414  25415  25417M 25554U 25657M
             25665U 25689  25689  25704  25705  25720M 25882M 25912  25912  25927  25928  25930M 26067U 26170M 26178U
             26202  26202  26217  26218  26233M 26395M 26426  26426  26441  26442  26444M 26568U 26676M 26684U 26708
             26708  26723  26724  26739M 26892M 26963  26963  26978  26979  26994M 27091M 27122  27122  27137  27138
             27153M 27315M 27348  27348  27363  27364  27379M 27476M 27510  27510  27525  27526  27541M 27657M 27690
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  367
             27690  27705  27706  27721M 27838M 27871  27871  27886  27887  27902M 27975M 28008  28008  28023  28024
             28039M 28190M 28241  28241  28256  28257  28272M 28444M 28476  28476  28491  28492  28507M 28679M 28718
             28718  28733  28734  28749M 28861U 29029M 29037U 29062  29062  29077  29078  29093M 29234U 29314M 29322U
             29345  29345  29360  29361  29363M 29464U 29535M 29543U 29567  29567  29582  29583  29585M 29682M 29711
             29711  29726  29727  29729M 29851M 29881  29881  29896  29897  29912M 30010U 30111M 30119U 30144  30144
             30159  30160  30175M 30396M 30426  30426  30441  30442  30457M 30881U 31005M 31013U 31038  31038  31053
             31054  31069M 31172M 31202  31202  31217  31218  31233M 31336M 31364  31364  31379  31380  31395M 31573M
             31603  31603  31618  31619  31634M 31824M 31860  31860  31875  31876  31878M 32035M 32065  32065  32080
             32081  32096M 32284M 32449M 32494M 32528  32528  32543  32544  32546M 33100M 33153  33153  33168  33169
             33184M 33281U 33349U 33352U 33545U 33548U 33611M 33619U 33643  33643  33658  33659  33674M 33718M 33731U
             33795M 34032M 34072M 34080U 34105  34105  34120  34121  34136M 34268U 34345U 34348U 34625M 34633U 34679
             34679  34694  34695  34710M 34773U 35007U 35010U 35154M 35162U 35187  35187  35202  35203  35218M 35355U
             35427M 35435U 35459  35459  35474  35475  35490M 35628M 35657  35657  35672  35673  35688M 35914U 35956M
             35964U 35991  35991  36006  36007  36009M 36069U 36168U 36171U 36237M 36245U 36289  36289  36304  36305
             36320M 36355U 36423M 36431U 36487  36487  36502  36503  36505M 36544M 36591  36591  36606  36607  36627M
             36806M 36837  36837  36852  36853  36855M 36916M 36945  36945  36960  36961  36963M 37072M 37100  37100
             37115  37116  37131M 37192M 37220  37220  37235  37236  37251M 37318M 37348  37348  37363  37364  37366M
             37488M 37541  37541  37556  37557  37572M 38020M 38083  38083  38098  38099  38114M 38134U 38184U 38187U
             38233M 38241U 38267  38267  38282  38283  38285M 38305U 38439U 38442U 38525U 38528U 38637U 38640U 38949M
             38957U 39021  39021  39036  39037  39039M 39257M 39287  39287  39302  39303  39305M 39333U 39386U 39389U
             39468M 39476U
    14(E)      935U  4225   4357M  4531M  4609M  4696M  4717M  4741M  4822M  4848M  4922M  4977M  5058M  5213M  5294M
              5334M  5377M  5421M  5484M  5528M  5563M  5591M  5634M  5702M  5704B  5735   5946M  6084M  6126M  6181M
              6300M  6353M  6377M  6379B  6411   6669M  6671B  6700   6884M  6886B  6915   7088M  7090B  7120   7282M
              7284B  7313   7469M  7545M  7547B  7601   7708M  7710B  7737   7850M  7873M  7875B  7905   7939M  7941B
              7968   8060M  8062B  8128   8283M  8423M  8467M  8521M  8766M  8810M  8864M  8930M  8973M  9077M  9118M
              9151M  9153B  9235   9530M  9532B  9560   9716M  9718B  9748  10018M 10106M 10151M 10153B 10182  10363
             10473M 10541M 10572M 10574B 10601  10683M 10685B 10712  11044M 11046B 11073  11129M 11131B 11158  11408M
             11433M 11435B 11465  11589M 11737M 11907M 11932M 11934B 11991  12062M 12096M 12114M 12276M 12346M 12399
             12634M 12741M 12774M 12836M 12901M 13003M 13050  13226M 13252M 13317M 13397M 13441  13516M 13708M 13857M
             13923M 13958M 13986M 14018M 14083M 14163M 14249  14365M 14391M 14456M 14558M 14610  14765M 15091M 15093B
             15120  15230M 15286M 15288B 15318  15427M 15483M 15485B 15515  15623M 15679M 15681B 15711  15821M 15877M
             15879B 15931  16063M 16139M 16284M 16441M 16443B 16474  16527M 16615M 16685M 16705M 16707B 16786  16858M
             16902M 17002M 17083M 17179M 17181B 17210  17258M 17420M 17436M 17438B 17464  17559M 17761M 17870M 17902M
             17932M 17934B 17965  18068M 18100M 18132M 18157M 18159B 18190  18246M 18348M 18380M 18418M 18433M 18435B
             18465  18595M 18642M 18769M 18771B 18800  18853M 18919M 18980M 18996M 18998B 19024  19292M 19373M 19375B
             19403  19535M 19604M 19606B 19661  19743M 19784M 19791M 19801M 19848M 19896M 19952M 20004M 20033M 20102M
             20145M 20147B 20180  20268M 20321M 20402M 20410M 20458M 20495M 20510M 20588M 20628M 20720M 20759M 20761B
             20792  20909M 20976M 20983M 20995M 21007M 21063M 21181M 21204M 21211M 21257M 21276M 21303M 21325M 21352M
             21486M 21518M 21555M 21619M 21671M 21673B 21722  21854M 21916M 21980M 22056M 22112M 22168M 22377M 22475M
             22524M 22526B 22583  22698M 22780M 22824M 23019M 23063M 23181M 23293M 23295B 23326  23593M 23696M 23698B
             23729  23956M 24146M 24208M 24240M 24265M 24267B 24354  24539M 24612M 24614B 24663  24856M 24858B 24886
             25071M 25144M 25146B 25176  25369M 25371B 25399  25584M 25657M 25659B 25689  25882M 25884B 25912  26097M
             26170M 26172B 26202  26395M 26397B 26426  26598M 26650M 26659M 26676M 26678B 26708  26789M 26798M 26892M
             26894B 26963  27091M 27093B 27122  27315M 27317B 27348  27476M 27478B 27510  27657M 27659B 27690  27838M
             27840B 27871  27975M 27977B 28008  28190M 28192B 28241  28444M 28446B 28476  28679M 28681B 28718  28790M
             28891M 28903M 28985M 29029M 29031B 29062  29243M 29254M 29263M 29314M 29316B 29345  29504M 29535M 29537B
             29567  29682M 29684B 29711  29851M 29853B 29881  29939M 30040M 30082M 30111M 30113B 30144  30243M 30340M
             30370M 30396M 30398B 30426  30900M 31005M 31007B 31038  31172M 31174B 31202  31336M 31338B 31364  31573M
             31575B 31603  31795M 31824M 31826B 31860  31919M 32015M 32035M 32037B 32065  32137M 32384M 32449M 32494M
             32496B 32528  33100M 33102B 33153  33220M 33311M 33367M 33375M 33383M 33391M 33418M 33567M 33574M 33611M
             33613B 33643  33716M 33742M 33965M 34032M 34072M 34074B 34105  34160M 34279M 34359M 34600M 34625M 34627B
             34679  34784M 34975M 35041M 35068M 35095M 35122M 35154M 35156B 35187  35385M 35427M 35429B 35459  35628M
             35630B 35657  35923M 35956M 35958B 35991  36036M 36101M 36210M 36221M 36237M 36239B 36289  36345M 36394M
             36403M 36423M 36425B 36487  36544M 36546B 36591  36806M 36808B 36837  36916M 36918B 36945  37072M 37074B
             37100  37192M 37194B 37220  37318M 37320B 37348  37488M 37490B 37541  38020M 38022B 38083  38151M 38156M
             38160M 38170M 38201M 38205M 38218M 38233M 38235B 38267  38335M 38426M 38460M 38552M 38670M 38736M 38760M
             38766M 38833M 38842M 38848M 38884M 38893M 38899M 38925M 38949M 38951B 39021  39257M 39259B 39287  39351M
             39412M 39468M 39470B
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  368
    15(F)      931U  4225   4226   4248M  4249   4262M  4263   4356M  4357B  4454M  4455   4456M  4458   4473M  4474
              4477M  4530M  4531B  4608M  4609B  4695M  4696B  4716M  4717B  4740M  4741B  4821M  4822B  4847M  4848B
              4921M  4922B  4976M  4977B  5057M  5058B  5138   5139M  5140M  5141M  5142M  5142   5143M  5143   5212M
              5213B  5293M  5294B  5333M  5334B  5376M  5377B  5420M  5421B  5483M  5484B  5527M  5528B  5562M  5563B
              5590M  5591B  5633M  5634B  5659M  5660   5673M  5674   5702M  5735   5736   5780   5781M  5782M  5783M
              5784M  5784   5785M  5785   5868M  5869   5870M  5872   5887M  5888   5891M  5917M  5918   5931M  5932
              5945M  5946B  5948M  5949   5962M  5963   6083M  6084B  6125M  6126B  6154M  6155   6168M  6169   6180M
              6181B  6183M  6184   6197M  6198   6299M  6300B  6352M  6353B  6377M  6411   6412   6536   6537M  6538M
              6539M  6540M  6540   6541M  6541   6630   6631M  6632M  6633M  6634M  6634   6635M  6635   6669M  6700
              6701   6884M  6915   6916   6961   6962M  6963M  6964M  6965M  6965   6966M  6966   7088M  7120   7121
              7282M  7313   7314   7468M  7469B  7504   7505M  7506M  7507M  7508M  7508   7509M  7509   7545M  7601
              7602   7660   7661M  7662M  7663M  7664M  7664   7665M  7665   7708M  7737   7738   7800   7801M  7802M
              7803M  7804M  7804   7805M  7805   7849M  7850B  7873M  7905   7906   7939M  7968   7969   8040   8041M
              8042M  8043M  8044M  8044   8045M  8045   8060M  8128   8129   8196   8197M  8198M  8199M  8200M  8200
              8201M  8201   8282M  8283B  8422M  8423B  8466M  8467B  8520M  8521B  8670M  8673   8676M  8765M  8766B
              8809M  8810B  8863M  8864B  8929M  8930B  8972M  8973B  8990M  9004   9018   9076M  9077B  9117M  9118B
              9151M  9235   9236   9316   9317M  9318M  9319M  9320M  9320   9321M  9321   9530M  9560   9561   9608
              9609M  9610M  9611M  9612M  9612   9613M  9613   9716M  9748   9749   9979M  9982   9985M 10017M 10018B
             10105M 10106B 10151M 10182  10183  10333  10334M 10335M 10336M 10337M 10337  10338M 10338  10363  10472M
             10473B 10507  10508M 10509M 10510M 10511M 10511  10512M 10512  10541M 10572M 10601  10602  10683M 10712
             10713  10813  10814M 10815M 10816M 10817M 10817  10818M 10818  10858  10859M 10860M 10861M 10862M 10862
             10863M 10863  11044M 11073  11074  11129M 11158  11159  11221  11222M 11223M 11224M 11225M 11225  11226M
             11226  11283  11284M 11285M 11286M 11287M 11287  11288M 11288  11341  11342M 11343M 11344M 11345M 11345
             11346M 11346  11407M 11408B 11433M 11465  11466  11555  11556M 11557M 11558M 11559M 11559  11560M 11560
             11588M 11589B 11736M 11737B 11763M 11766  11769M 11906M 11907B 11932M 11991  12068M 12102M 12120M 12275M
             12276B 12281M 12282  12295M 12296  12331  12332M 12333M 12334M 12335M 12335  12336M 12336  12346M 12399
             12439M 12440  12453M 12454  12486  12487M 12488M 12489M 12490M 12490  12491M 12491  12603M 12604  12605M
             12607  12622M 12623  12626M 12633M 12634B 12674M 12675  12676M 12678  12693M 12694  12697M 12740M 12741B
             12773M 12774B 12835M 12836B 12900M 12901B 12919M 12920  12933M 12934  12969  12970M 12971M 12972M 12973M
             12973  12974M 12974  13003M 13050  13116  13117M 13118M 13119M 13120M 13120  13121M 13121  13197  13198M
             13199M 13200M 13201M 13201  13202M 13202  13225M 13226B 13251M 13252B 13316M 13317B 13363  13364M 13365M
             13366M 13367M 13367  13368M 13368  13397M 13441  13516M 13585  13586M 13587M 13588M 13589M 13589  13590M
             13590  13643  13644M 13645M 13646M 13647M 13647  13648M 13648  13707M 13708B 13788  13789M 13790M 13791M
             13792M 13792  13793M 13793  13856M 13857B 13904  13905M 13906M 13907M 13908M 13908  13909M 13909  13922M
             13923B 13957M 13958B 13985M 13986B 14017M 14018B 14082M 14083B 14129  14130M 14131M 14132M 14133M 14133
             14134M 14134  14163M 14217  14218M 14219M 14220M 14221M 14221  14222M 14222  14249  14289M 14290  14303M
             14304  14336  14337M 14338M 14339M 14340M 14340  14341M 14341  14364M 14365B 14390M 14391B 14455M 14456B
             14474M 14475  14488M 14489  14524  14525M 14526M 14527M 14528M 14528  14529M 14529  14558M 14610  14611
             14672  14673M 14674M 14675M 14676M 14676  14677M 14677  14689M 14692  14695M 14764M 14765B 14896M 14897
             14898M 14900  14915M 14916  14919M 14955  14956M 14957M 14958M 14959M 14959  14960M 14960  15091M 15120
             15121  15229M 15230B 15256  15257M 15258M 15259M 15260M 15260  15261M 15261  15286M 15318  15319  15426M
             15427B 15453  15454M 15455M 15456M 15457M 15457  15458M 15458  15483M 15515  15516  15622M 15623B 15649
             15650M 15651M 15652M 15653M 15653  15654M 15654  15679M 15711  15712  15820M 15821B 15847  15848M 15849M
             15850M 15851M 15851  15852M 15852  15877M 15931  15932  16062M 16063B 16138M 16139B 16283M 16284B 16340
             16341M 16342M 16343M 16344M 16344  16345M 16345  16441M 16474  16475  16526M 16527B 16614M 16615B 16684M
             16685B 16705M 16786  16787  16857M 16858B 16901M 16902B 17001M 17002B 17082M 17083B 17125M 17128  17131M
             17179M 17210  17211  17257M 17258B 17419M 17420B 17436M 17464  17465  17558M 17559B 17760M 17761B 17869M
             17870B 17901M 17902B 17932M 17965  17966  18067M 18068B 18099M 18100B 18131M 18132B 18157M 18190  18191
             18245M 18246B 18347M 18348B 18379M 18380B 18417M 18418B 18433M 18465  18466  18594M 18595B 18641M 18642B
             18769M 18800  18801  18852M 18853B 18918M 18919B 18979M 18980B 18996M 19024  19025  19291M 19292B 19373M
             19403  19404  19534M 19535B 19604M 19661  19662  19742M 19743B 19783M 19784B 19790M 19791B 19800M 19801B
             19847M 19848B 19895M 19896B 19951M 19952B 20003M 20004B 20032M 20033B 20101M 20102B 20145M 20180  20181
             20267M 20268B 20320M 20321B 20345  20346M 20347M 20348M 20349M 20349  20350M 20350  20401M 20402B 20409M
             20410B 20457M 20458B 20494M 20495B 20509M 20510B 20587M 20588B 20627M 20628B 20680  20681M 20682M 20683M
             20684M 20684  20685M 20685  20719M 20720B 20759M 20792  20793  20908M 20909B 20949  20950M 20951M 20952M
             20953M 20953  20954M 20954  20975M 20976B 20982M 20983B 20994M 20995B 21006M 21007B 21062M 21063B 21146
             21147M 21148M 21149M 21150M 21150  21151M 21151  21180M 21181B 21203M 21204B 21210M 21211B 21256M 21257B
             21275M 21276B 21302M 21303B 21324M 21325B 21351M 21352B 21461  21462M 21463M 21464M 21465M 21465  21466M
             21466  21485M 21486B 21517M 21518B 21554M 21555B 21585  21586M 21587M 21588M 21589M 21589  21590M 21590
1         (DISP00) (09:38) (22MAR04) General Purpose Register Cross Reference                                               Page  369
             21619M 21671M 21722  21723  21853M 21854B 21915M 21916B 21979M 21980B 22055M 22056B 22111M 22112B 22167M
             22168B 22376M 22377B 22474M 22475B 22524M 22583  22584  22697M 22698B 22779M 22780B 22823M 22824B 23018M
             23019B 23062M 23063B 23180M 23181B 23293M 23326  23327  23427  23428M 23429M 23430M 23431M 23431  23432M
             23432  23592M 23593B 23616M 23630  23644  23696M 23729  23730  23816  23817M 23818M 23819M 23820M 23820
             23821M 23821  23866  23867M 23868M 23869M 23870M 23870  23871M 23871  23897M 23898  23899M 23901  23916M
             23917  23920M 23955M 23956B 24043  24044M 24045M 24046M 24047M 24047  24048M 24048  24087M 24088M 24088
             24145M 24146B 24207M 24208B 24239M 24240B 24265M 24354  24355  24538M 24539B 24565  24566M 24567M 24568M
             24569M 24569  24570M 24570  24612M 24663  24664  24740  24741M 24742M 24743M 24744M 24744  24745M 24745
             24856M 24886  24887  25070M 25071B 25097  25098M 25099M 25100M 25101M 25101  25102M 25102  25144M 25176
             25177  25253  25254M 25255M 25256M 25257M 25257  25258M 25258  25369M 25399  25400  25583M 25584B 25610
             25611M 25612M 25613M 25614M 25614  25615M 25615  25657M 25689  25690  25766  25767M 25768M 25769M 25770M
             25770  25771M 25771  25882M 25912  25913  26096M 26097B 26123  26124M 26125M 26126M 26127M 26127  26128M
             26128  26170M 26202  26203  26279  26280M 26281M 26282M 26283M 26283  26284M 26284  26395M 26426  26427
             26597M 26598B 26624  26625M 26626M 26627M 26628M 26628  26629M 26629  26657M 26659M 26676M 26708  26709
             26771  26772M 26773M 26774M 26775M 26775  26776M 26776  26796M 26798M 26892M 26963  26964  27091M 27122
             27123  27203  27204M 27205M 27206M 27207M 27207  27208M 27208  27315M 27348  27349  27476M 27510  27511
             27657M 27690  27691  27838M 27871  27872  27975M 28008  28009  28098  28099M 28100M 28101M 28102M 28102
             28103M 28103  28146  28147M 28148M 28149M 28150M 28150  28151M 28151  28190M 28241  28242  28333  28334M
             28335M 28336M 28337M 28337  28338M 28338  28444M 28476  28477  28568  28569M 28570M 28571M 28572M 28572
             28573M 28573  28679M 28718  28719  28789M 28790B 28890M 28891B 28902M 28903B 28984M 28985B 29029M 29062
             29063  29242M 29243B 29253M 29254B 29262M 29263B 29314M 29345  29346  29503M 29504B 29535M 29567  29568
             29682M 29711  29712  29851M 29881  29882  29938M 29939B 30039M 30040B 30081M 30082B 30111M 30144  30145
             30242M 30243B 30339M 30340B 30369M 30370B 30396M 30426  30427  30899M 30900B 30949M 30952  30955M 31005M
             31038  31039  31172M 31202  31203  31336M 31364  31365  31573M 31603  31604  31781M 31784  31787M 31794M
             31795B 31824M 31860  31861  31918M 31919B 32014M 32015B 32035M 32065  32066  32136M 32137B 32163  32164M
             32165M 32166M 32167M 32167  32168M 32168  32272  32273M 32274M 32275M 32276M 32276  32277M 32277  32370M
             32373  32376M 32383M 32384B 32415  32416M 32417M 32418M 32419M 32419  32420M 32420  32449M 32494M 32528
             32529  32878  32879M 32880M 32881M 32882M 32882  32883M 32883  33100M 33153  33154  33219M 33220B 33310M
             33311B 33366M 33367B 33374M 33375B 33382M 33383B 33390M 33391B 33417M 33418B 33520M 33523  33526M 33566M
             33567B 33573M 33574B 33611M 33643  33644  33715M 33716B 33741M 33742B 33774  33775M 33776M 33777M 33778M
             33778  33779M 33779  33951M 33954  33957M 33964M 33965B 33998  33999M 34000M 34001M 34002M 34002  34003M
             34003  34032M 34072M 34105  34106  34159M 34160B 34245  34246M 34247M 34248M 34249M 34249  34250M 34250
             34278M 34279B 34309  34310M 34311M 34312M 34313M 34313  34314M 34314  34358M 34359B 34599M 34600B 34625M
             34679  34680  34783M 34784B 34974M 34975B 35040M 35041B 35067M 35068B 35094M 35095B 35121M 35122B 35154M
             35187  35188  35384M 35385B 35427M 35459  35460  35628M 35657  35658  35881M 35884  35887M 35922M 35923B
             35956M 35991  35992  36035M 36036B 36100M 36101B 36209M 36210B 36220M 36221B 36237M 36289  36290  36344M
             36345B 36393M 36394B 36402M 36403B 36423M 36487  36488  36544M 36591  36592  36806M 36837  36838  36916M
             36945  36946  36987M 36999  37072M 37100  37101  37192M 37220  37221  37318M 37348  37349  37444M 37447
             37450M 37488M 37541  37542  38020M 38083  38084  38150M 38151B 38155M 38156B 38159M 38160B 38169M 38170B
             38200M 38201B 38204M 38205B 38217M 38218B 38233M 38267  38268  38334M 38335B 38425M 38426B 38459M 38460B
             38551M 38552B 38669M 38670B 38735M 38736B 38764M 38766M 38832M 38833B 38846M 38848M 38883M 38884B 38897M
             38899M 38924M 38925B 38949M 39021  39022  39257M 39287  39288  39350M 39351B 39411M 39412B 39438  39439M
             39440M 39441M 39442M 39442  39443M 39443  39468M

1DISPATCH (DISP00) (09:38) (22MAR04) Diagnostic Cross Reference and Assembler Summary                                       Page  370
-                                                                                            HLASM R4.0  2004/03/22 09.38
0     No Statements Flagged in this Assembly
 HIGH LEVEL ASSEMBLER, 5696-234, RELEASE 4.0, PTF UQ57391
0SYSTEM: OS/390 02.10.00            JOBNAME: PJG#DISP    STEPNAME: ASM        PROCSTEP: (NOPROC)
0Datasets Allocated for this Assembly
  Con DDname   Dataset Name                                 Volume  Member
   P1 SYSIN    SYS04082.T093827.RA000.PJG#DISP.INPUT.H01    SCR101
   L1 SYSLIB   SYS3.DUMMYMAC                                SYSB02
   L2          WYL.GG.ORV.MACLIB                            SYSB02
   L3          WYL.GG.SYS.MACLIB                            SYSB05
      SYSLIN   WYL.GG.PJG.OBJ                               SYSB05  DISPATCH
      SYSPRINT SYS04082.T093827.RA000.PJG#DISP.PRINT.H01    SCR101
      SYSTERM  GG$PJG.PJG#DISP.JOB05929.D0000103.?

    7812K allocated to Buffer Pool,         4777K would be required for this to be an In-Storage Assembly
    7119 Primary Input Records Read         5772 Library Records Read                  0 Work File Reads
       0 ASMAOPT Records Read              24236 Primary Print Records Written         0 Work File Writes
     610 Punch Records Written                 0 ADATA Records Written
0Assembly Start Time: 09.38.29 Stop Time: 09.38.42 Processor Time: 00.00.07.5981
 Return Code 000
