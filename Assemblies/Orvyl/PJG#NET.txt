1                        J E S 2  J O B  L O G  --  S Y S T E M  S Y S B  --  N O D E  R L G
0
 09.42.27 JOB05949 ---- MONDAY,    22 MAR 2004 ----
 09.42.27 JOB05949  ICH70001I GG$PJG   LAST ACCESS AT 09:42:00 ON MONDAY, MARCH 22, 2004
 09.42.27 JOB05949  $HASP373 PJG#NET  STARTED - INIT 3    - CLASS E - SYS SYSB
 09.42.27 JOB05949  ***  HCMD      STEP $$QUIET
 09.42.27 JOB05949  PURGE * Q=OUTPUT MULTIPLE
 09.42.27 JOB05949  JOB PJG#NET NOT IN OUTPUT QUEUE
 09.42.28 JOB05949  PJG#NET .$$QUIET .         RC=0008 TapeIO=0000 DiskIO=0000 CPU=  .01s Elapsed=47.02s
 09.42.28 JOB05949  PJG#NET .$CND    .         RC=Zero TapeIO=0000 DiskIO=0003 CPU=  .01s Elapsed=48.06s
 09.42.28 JOB05949  PJG#NET .$UNP    .         RC=Zero TapeIO=0000 DiskIO=0048 CPU=  .06s Elapsed=48.22s
 09.42.38 JOB05949  PJG#NET .ASM     .         RC=Zero TapeIO=0000 DiskIO=0588 CPU= 4.79s Elapsed=48.58s
 09.42.41 JOB05949  PJG#NET .$EDIT   .         RC=Zero TapeIO=0000 DiskIO=0284 CPU= 1.06s Elapsed=58.85s
 09.42.41 JOB05949  PJG#NET  Ended.  Name=Module: NETWORK                Total CPU= 5.93s Elapsed=47.02s
 09.42.41 JOB05949
 09.42.41 JOB05949  Execution charges   Priority=Standard   Block=Day
 09.42.41 JOB05949
 09.42.41 JOB05949  CPU Usage         109.68          $68.00   Standard Processing Unit Equivalent
 09.42.41 JOB05949                                   =======
 09.42.41 JOB05949                                    $68.00   Total Job execution charge
 09.42.41 JOB05949
 09.42.41 JOB05949  See back separator page for print charges
 09.42.41 JOB05949
 09.42.41 JOB05949  $HASP395 PJG#NET  ENDED  ASM=0
1        1 //PJG#NET  JOB PJG$GG,'Module: NETWORK',TIME=1,MSGCLASS=C               JOB05949
           /*JOBPARM HOLD=OUTPUT,LINES=50,CHARS=TN15,NOTIFY=YES
         2 //       EXEC PURGEOLD
         3 XXPURGEOLD PROC
           XX*
           XX* This proc is maintained by Jim Stosick
           XX*
         4 XX$$QUIET  EXEC PGM=HCMDX,PARM='PURGE * Q=OUTPUT MULTIPLE',
           XX         ACCT=(PURGEOLD,SYS3)
         5 //$CND   EXEC PGM=BILBO,REGION=512K,PARM='RECS=100'
         6 //STEPLIB  DD DSN=WYL.GG.ORV.LINKLIB,DISP=SHR
         7 //SYSPRINT DD SYSOUT=$
         8 //SYSUT1   DD DSN=WYL.GG.PJG.OBJ,DISP=OLD
         9 //SYSUT2   DD DSN=WYL.GG.PJG.OBJ,DISP=OLD
        10 //SYSIN    DD DUMMY
        11 //$UNP   EXEC PGM=WUNPRESS,PARM='NUM'
        12 //SYSPRINT DD SYSOUT=$
        13 //SYSUT1   DD DSN=WYL.GG.ORV.SOURCE(NETWORK),DISP=SHR
        14 //SYSUT2   DD DSN=&&INPUT,DISP=(,PASS),UNIT=SYSDA,
           //            SPACE=(TRK,(25,25),RLSE),DCB=CARD
        15 //ASM    EXEC PGM=ASMA90,REGION=8M,COND=(0,NE,$UNP),
           //            PARM=('SYSPARM(NETWORK),TERM,LANG(EN),OBJ',
           //          'LC(32500),XREF(SHORT),NODECK,NORLD,NODX,NOUS')
           //*STEPLIB  DD DSN=SYS1.SASMMOD1,DISP=SHR
        16 //SYSLIB   DD DSN=SYS3.DUMMYMAC,DISP=SHR,DCB=BLKSIZE=27920
        17 //         DD DSN=WYL.GG.ORV.MACLIB,DISP=SHR
        18 //         DD DSN=WYL.GG.SYS.MACLIB,DISP=SHR
        19 //SYSUT1   DD DSN=&&SYSUT1,UNIT=VIO,DISP=(,DELETE),
           //            SPACE=(4088,(500,250),,CONTIG,ROUND)
        20 //SYSTERM  DD SYSOUT=$
        21 //SYSPRINT DD DSN=&&PRINT,UNIT=SYSDA,DISP=(,PASS),
           //            SPACE=(6650,(250,250),RLSE),
           //            DCB=(BLKSIZE=6650,LRECL=133,RECFM=FB)
        22 //SYSLIN   DD DSN=WYL.GG.PJG.OBJ(NETWORK),DISP=OLD
        23 //SYSUDUMP DD SYSOUT=A
        24 //SYSIN    DD DSN=&&INPUT,DISP=(OLD,DELETE)
        25 //$EDIT  EXEC PGM=ASMEDIT,REGION=1M,
           //            COND=EVEN,PARM='STMT,DATA'
        26 //STEPLIB  DD DSN=WYL.GG.SYS.LINKLIB,DISP=SHR
        27 //ASMOUT   DD DSN=&&PRINT,DISP=(OLD,DELETE)
        28 //SYSPRINT DD SYSOUT=A
        29 //SYSUDUMP DD SYSOUT=A
1 STMT NO. MESSAGE
         2 IEFC001I PROCEDURE PURGEOLD WAS EXPANDED USING SYSTEM LIBRARY SYS3.BETAPROC
        14 IGD01010I STORCLAS= TEMP STORGROUP =
        14 IGD01010I STORGRP=VIO ASSIGNED.
        19 IGD01010I STORCLAS= TEMP STORGROUP =
        19 IGD01010I STORGRP=VIO ASSIGNED.
        21 IGD01010I STORCLAS= TEMP STORGROUP =
        21 IGD01010I STORGRP=VIO ASSIGNED.
 ICH70001I GG$PJG   LAST ACCESS AT 09:42:00 ON MONDAY, MARCH 22, 2004
 IEF142I PJG#NET $$QUIET - STEP WAS EXECUTED - COND CODE 0008
 *********************************************************************************
 *   PJG#NET /$$QUIET /                    Return Code      0008                 *
 *   Region used      260K (16K user + 244K system)                              *
 *   Extended region  9352K (4K user + 9348K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.01          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:45:25.94          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          0.18         $0.11  Standard Processing Unit Equivalent  *
 *                                   $0.11  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *                         *** No I/O for this step ***                          *
 *********************************************************************************
 IEF373I STEP/$$QUIET /START 2004082.0942
 IEF374I STEP/$$QUIET /STOP  2004082.0942 CPU    0MIN 00.01SEC SRB    0MIN 00.00SEC VIRT    16K SYS   244K EXT       4K SYS    9348K
 IEF236I ALLOC. FOR PJG#NET $CND
 IEF237I 0401 ALLOCATED TO STEPLIB
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I 04DC ALLOCATED TO SYSUT1
 IEF237I 04DC ALLOCATED TO SYSUT2
 IEF237I DMY  ALLOCATED TO SYSIN
 IEF142I PJG#NET $CND - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   WYL.GG.ORV.LINKLIB                           KEPT
 IEF285I   VOL SER NOS= SYSB01.
 IEF285I   GG$PJG.PJG#NET.JOB05949.D0000101.?           SYSOUT
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 *********************************************************************************
 *   PJG#NET /$CND    /                    Return Code      Zero                 *
 *   Region used      280K (16K user + 264K system)                              *
 *   Extended region  9392K (4K user + 9388K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.01          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:45:24.90          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          0.18         $0.11  Standard Processing Unit Equivalent  *
 *                                   $0.11  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            3  STEPLIB  Disk 0401                   0  SYSPRINT      ----      *
 *            0  SYSUT1   Disk 04DC                   0  SYSUT2   Disk 04DC      *
 *            0  SYSIN         ----                                              *
 *********************************************************************************
 IEF373I STEP/$CND    /START 2004082.0942
 IEF374I STEP/$CND    /STOP  2004082.0942 CPU    0MIN 00.01SEC SRB    0MIN 00.00SEC VIRT    16K SYS   264K EXT       4K SYS    9388K
 IEF236I ALLOC. FOR PJG#NET $UNP
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I 0402 ALLOCATED TO SYSUT1
 IGD101I SMS ALLOCATED TO DDNAME (SYSUT2  )
         DSN (SYS04082.T094226.RA000.PJG#NET.INPUT.H01    )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= SCR101
 IEF142I PJG#NET $UNP - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   GG$PJG.PJG#NET.JOB05949.D0000102.?           SYSOUT
 IEF285I   WYL.GG.ORV.SOURCE                            KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IGD106I SYS04082.T094226.RA000.PJG#NET.INPUT.H01     PASSED,    DDNAME=SYSUT2
 *********************************************************************************
 *   PJG#NET /$UNP    /                    Return Code      Zero                 *
 *   Region used      380K (108K user + 272K system)                             *
 *   Extended region  9468K (4K user + 9464K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:00.06          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.00          *
 *   VIO                  0        0       Elapsed time    920:45:24.74          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage          1.12         $0.69  Standard Processing Unit Equivalent  *
 *                                   $0.69  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            0  SYSPRINT      ----                   5  SYSUT1   Disk 0402      *
 *           43  SYSUT2   Disk 04E3                                              *
 *********************************************************************************
 IEF373I STEP/$UNP    /START 2004082.0942
 IEF374I STEP/$UNP    /STOP  2004082.0942 CPU    0MIN 00.06SEC SRB    0MIN 00.00SEC VIRT   108K SYS   272K EXT       4K SYS    9464K
 IEF236I ALLOC. FOR PJG#NET ASM
 IEF237I 0402 ALLOCATED TO SYSLIB
 IEF237I 0402 ALLOCATED TO
 IEF237I 04DC ALLOCATED TO
 IGD101I SMS ALLOCATED TO DDNAME (SYSUT1  )
         DSN (SYS04082.T094226.RA000.PJG#NET.SYSUT1.H01   )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= VIO
 IEF237I JES2 ALLOCATED TO SYSTERM
 IGD101I SMS ALLOCATED TO DDNAME (SYSPRINT)
         DSN (SYS04082.T094226.RA000.PJG#NET.PRINT.H01    )
         STORCLAS (TEMP) MGMTCLAS (        ) DATACLAS (        )
         VOL SER NOS= SCR100
 IEF237I 04DC ALLOCATED TO SYSLIN
 IEF237I JES2 ALLOCATED TO SYSUDUMP
 IGD103I SMS ALLOCATED TO DDNAME SYSIN
 IEF142I PJG#NET ASM - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   SYS3.DUMMYMAC                                KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IEF285I   WYL.GG.ORV.MACLIB                            KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IEF285I   WYL.GG.SYS.MACLIB                            KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IGD105I SYS04082.T094226.RA000.PJG#NET.SYSUT1.H01    DELETED,   DDNAME=SYSUT1
 IEF285I   GG$PJG.PJG#NET.JOB05949.D0000103.?           SYSOUT
 IGD106I SYS04082.T094226.RA000.PJG#NET.PRINT.H01     PASSED,    DDNAME=SYSPRINT
 IEF285I   WYL.GG.PJG.OBJ                               KEPT
 IEF285I   VOL SER NOS= SYSB05.
 IEF285I   GG$PJG.PJG#NET.JOB05949.D0000104.?           SYSOUT
 IGD105I SYS04082.T094226.RA000.PJG#NET.INPUT.H01     DELETED,   DDNAME=SYSIN
 *********************************************************************************
 *   PJG#NET /ASM     /                    Return Code      Zero                 *
 *   Region used      8476K (8192K user + 284K system)                           *
 *   Extended region  9952K (412K user + 9540K system)                           *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:04.74          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.05          *
 *   VIO                  0        0       Elapsed time    920:45:24.38          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage         88.87        $55.09  Standard Processing Unit Equivalent  *
 *                                  $55.09  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *          112  SYSLIB   Disk 0402                   0  SYSLIB   Disk 0402      *
 *          142  SYSLIB   Disk 04DC                   0  SYSUT1   VIO  ----      *
 *            0  SYSTERM       ----                 281  SYSPRINT Disk 038B      *
 *            9  SYSLIN   Disk 04DC                   0  SYSUDUMP      ----      *
 *           44  SYSIN    Disk 04E3                                              *
 *********************************************************************************
 IEF373I STEP/ASM     /START 2004082.0942
 IEF374I STEP/ASM     /STOP  2004082.0942 CPU    0MIN 04.74SEC SRB    0MIN 00.05SEC VIRT  8192K SYS   284K EXT     412K SYS    9540K
 IEF236I ALLOC. FOR PJG#NET $EDIT
 IEF237I 0402 ALLOCATED TO STEPLIB
 IGD103I SMS ALLOCATED TO DDNAME ASMOUT
 IEF237I JES2 ALLOCATED TO SYSPRINT
 IEF237I JES2 ALLOCATED TO SYSUDUMP
 IEF142I PJG#NET $EDIT - STEP WAS EXECUTED - COND CODE 0000
 IEF285I   WYL.GG.SYS.LINKLIB                           KEPT
 IEF285I   VOL SER NOS= SYSB02.
 IGD105I SYS04082.T094226.RA000.PJG#NET.PRINT.H01     DELETED,   DDNAME=ASMOUT
 IEF285I   GG$PJG.PJG#NET.JOB05949.D0000105.?           SYSOUT
 IEF285I   GG$PJG.PJG#NET.JOB05949.D0000106.?           SYSOUT
 *********************************************************************************
 *   PJG#NET /$EDIT   /                    Return Code      Zero                 *
 *   Region used      388K (116K user + 272K system)                             *
 *   Extended region  9472K (4K user + 9468K system)                             *
 *                                                                               *
 *   Paging              In      Out                                             *
 *   Private <-> Aux      0        0       CPU time (TCB)   00:00:01.03          *
 *   Private <-> Exp      0        0       CPU time (SRB)   00:00:00.03          *
 *   VIO                  0        0       Elapsed time    920:45:14.11          *
 *   Common               0      ---                                             *
 *                                                                               *
 *                                                                               *
 *   CPU Usage         19.31        $11.97  Standard Processing Unit Equivalent  *
 *                                  $11.97  Total Step execution charge          *
 *                                                                               *
 *    I/O count  DDname   Type Addr           I/O count  DDname   Type Addr      *
 *            2  STEPLIB  Disk 0402                 282  ASMOUT   Disk 038B      *
 *            0  SYSPRINT      ----                   0  SYSUDUMP      ----      *
 *********************************************************************************
 IEF373I STEP/$EDIT   /START 2004082.0942
 IEF374I STEP/$EDIT   /STOP  2004082.0942 CPU    0MIN 01.03SEC SRB    0MIN 00.03SEC VIRT   116K SYS   272K EXT       4K SYS    9468K
 *********************************************************************************
 *                                                                               *
 *                      S t a n f o r d   U n i v e r s i t y                    *
 *                                                                               *
 *                              *** Job Summary ***                              *
 *                                                                               *
 *   System Id      SYSB                   Input time     09:38:24  Mar 22, 2004 *
 *                                                                               *
 *   System Release SP6.1.0                Start time     09:42:27  Mar 22, 2004 *
 *                                                                               *
 *   Job name       PJG#NET                Stop  time     00:00:00  Mar 22, 2004 *
 *                                                                               *
 *   Account        PJG$GG                 Elapsed time  920:45:25.94            *
 *                                                                               *
 *   User Name      Module: NETWORK        CPU time       00:00:05.85            *
 *                                                                               *
 *   Job class      E                      SRB Time       00:00:00.08            *
 *                                                                               *
 *********************************************************************************
 IEF375I  JOB/PJG#NET /START 2004082.0942
 IEF376I  JOB/PJG#NET /STOP  2004082.0942 CPU    0MIN 05.85SEC SRB    0MIN 00.08SEC
1Data set successfully converted from EDIT to FB format
1Assembler Done NETWORK No Statements Flagged
1         High Level Assembler Option Summary                   (PTF UQ57391)                                               Page    1
-                                                                                            HLASM R4.0  2004/03/22 09.42
0  No Overriding ASMAOPT Parameters
   Overriding Parameters-  SYSPARM(NETWORK),TERM,LANG(EN),OBJ,LC(32500),XREF(SHORT),NODECK,NORLD,NODX,NOUS
   No Process Statements


   Options for this Assembly
0  NOADATA
     ALIGN
   NOASA
     BATCH
     CODEPAGE(047C)
   NOCOMPAT
   NODBCS
 3 NODECK
 3 NODXREF
     ESD
   NOEXIT
     FLAG(0,ALIGN,CONT,NOIMPLEN,NOPAGE0,PUSH,RECORD,NOSUBSTR,USING0)
   NOFOLD
   NOGOFF
   NOINFO
 3   LANGUAGE(EN)
   NOLIBMAC
 3   LINECOUNT(32500)
     LIST(121)
     MXREF(SOURCE)
 3   OBJECT
     OPTABLE(UNI,NOLIST)
   NOPCONTROL
   NOPESTOP
   NOPROFILE
   NORA2
   NORENT
 3 NORLD
     RXREF
     SIZE(MAX)
 3   SYSPARM(NETWORK)
 3   TERM(WIDE)
   NOTEST
     THREAD
   NOTRANSLATE
 3 NOUSING
 3   XREF(SHORT)

   No Overriding DD Names

1NETWORK  External Symbol Dictionary                                                                                        Page    2
-Symbol   Type   Id     Address  Length     LD ID  Flags Alias-of                            HLASM R4.0  2004/03/22 09.42
0NETWORK   SD 00000001 00000000 0000329A             06
 NETW00    LD          00000000           00000001
 NETINIT   LD          00000022           00000001
 TWORKT17  LD          000000A8           00000001
 ETOPEN17  LD          0000029A           00000001
 TCLOSE17  LD          000003E0           00000001
 ETREAD17  LD          0000046E           00000001
 NETFQE17  LD          000006B6           00000001
 TNOTFY17  LD          00000730           00000001
 ETWAKE17  LD          0000079E           00000001
 ETSYSR17  LD          00000870           00000001
 ELNPCB17  LD          000008C8           00000001
 VMGET     ER 00000002
 LKCRE     ER 00000003
 ACREATE   ER 00000004
 DISPSHLD  ER 00000005
 ASSYSTSK  ER 00000006
 VMFREE    ER 00000007
 IOSIDGET  ER 00000008
 IOSDOIO   ER 00000009
 LKOB      ER 0000000A
 LKREL     ER 0000000B
 PAGFIX    ER 0000000C
 PAGUFIX   ER 0000000D
 SYSRNEW   ER 0000000E
 SYSRDO    ER 0000000F
 SIGNAL    ER 00000010
 SYSRDEL   ER 00000011
 IOSIDFRE  ER 00000012
 TLOCAL17  LD          00000C7E           00000001
 OSTATE17  LD          00000F7E           00000001
 NETLOGOF  LD          000013AA           00000001
 ELNSQE17  LD          000013EE           00000001
 MOVEIN17  LD          00001518           00000001
 EXRADD    ER 00000013
 XITMASK   ER 00000014
 AWAIT     ER 00000015
 TEXIT     ER 00000016
 ASLOCK    ER 00000017
 ASULOCK   ER 00000018
 M1NET     LD          000017D8           00000001
 ATTACH17  LD          00001900           00000001
 READ17    LD          00001A1C           00000001
 WRITE17   LD          00001BBE           00000001
 ONTROL17  LD          00001D62           00000001
 HALT17    LD          00001ED2           00000001
 DETACH17  LD          00001F22           00000001
 TCREATE   ER 00000019
 OVEOUT17  LD          00001FFA           00000001
 ENDTCP17  LD          000020E0           00000001
 IODONE17  LD          0000231E           00000001
 DOTIME17  LD          000023BA           00000001
 ANTIME17  LD          0000244C           00000001
 TTIMEX17  LD          000024C6           00000001
 EWSOCK17  LD          0000251A           00000001
1NETWORK  External Symbol Dictionary                                                                                        Page    3
 ELSOCK17  LD          00002762           00000001
 ADDSEG17  LD          00002992           00000001
 VALBUF17  LD          00002A54           00000001
 TRCD17    LD          00002AE4           00000001
 ETNBUF17  LD          00002AEC           00000001
 EENBUF17  LD          00002BD6           00000001
 EKNBUF17  LD          00002D24           00000001
 ETLBUF17  LD          00002E12           00000001
 EELBUF17  LD          00002EBE           00000001
 TOASC17   LD          00002F38           00000001
 TOEBC17   LD          00002F8C           00000001
 XITDO     ER 0000001A
 RTSET     ER 0000001B
 RTCAN     ER 0000001C
 EXRDONE   ER 0000001D
 XITNEW    ER 0000001E
 XITDEL    ER 0000001F
 PAGTPROT  ER 00000020

1NETWORK  Orvyl Network Manager                                                                                             Page    4
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement                    (Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                      2       2.              COPY  HEADER
                                       3             =*********************************************************************
                                       4             =*                                                                   *
                                       5             =*                                                                   *
                                       6             =*                          M P - O R V Y L                          *
                                       7             =*                                                                   *
                                       8             =*       ORVYL - Release 5.0 - Class I - Stanford Proprietary        *
                                       9             =*                                                                   *
                                      10             =*                                                                   *
                                      11             =*********************************************************************
-
-                                     13             =         SPLEVEL SET=2
                                      16             =         HIBAL ASSOC=YES
-
                                     998             =*
                                     999             =* REGISTER CONVENTIONS (USE ONLY THE SYMBOLS)
                                    1000             =*
                                    1001             =*                     CLASS  USAGE
                                    1002             =*                     -----  -----------------------------
                                    1003             =RVR      REG   0        1    RETURN VALUE REGISTER
                                    1015             =RS       REG   1        *    SCRATCH
                                    1027             =RA       REG   2        *    SCRATCH
                                    1039             =RB       REG   3        *    SCRATCH
                                    1051             =RJ       REG   4        *    SCRATCH
                                    1063             =RK       REG   5        *    SCRATCH
                                    1075             =RX       REG   6        *    SCRATCH
                                    1087             =RY       REG   7        *    SCRATCH
                                    1099             =RM       REG   8        *    SCRATCH
                                    1111             =RN       REG   9        *    SCRATCH (In Guest)
                                    1123             =RTCBR    REG   9        -    POINTER TO THE RTCB (In Host)
                                    1135             =BR       REG   10       -    FIRST BASE REGISTER
                                    1147             =BRR      REG   11       -    SECOND BASE REGISTER
                                    1159             =WAR      REG   12       -    WORK AREA POINTER
                                    1171             =SPR      REG   13       -    STACK TOP POINTER
                                    1183             =RAR      REG   14       1    RETURN ADDRESS REGISTER
                                    1195             =EPAR     REG   15       1    ENTRY POINT ADDRESS
                                    1207             =*
                                    1208             =*      CLASS   MEANING
                                    1209             =*      -----   --------------------------------------------------
                                    1210             =*        *     Register may be freely used for scratch
                                    1211             =*        -     Register may not be used
                                    1212             =*        1     Available but may change on subroutine calls
                                    1213             =*
1NETWORK  Orvyl Network Manager                                                                                             Page    5
0D-Loc  Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+_____  ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 0329A  1215       3.     NETWORK  MODULE TRCNUM=17
                                    1225             +*
                                    1226    02-IDENT +         ENTRY NETW00
                                    1227             +
 000000 14D5C5E3E6F0F06B            1228    02-IDENT +NETW00   DC    AL1(20),C'NETW00,22MAR04,09:42'
                                    1229             +*
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page    6
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1232       5.              COPY  PZERO
 000000                00000 00280  1233             =PZERO    RECORD BEGIN
                                    1241  1          =*
                                    1242  1          =* Real Page 0.  Each CPU has its own copy of this area.
                                    1243  1          =*
-                                   1245  1          =****************************************************************
                                    1246  1          =*               Fields Fixed by the Architecture               *
                                    1247  1          =*               ********************************               *
                                    1248  1          =*                                                              *
 000000                             1249  1          =PZRSNPSW   DS    D             Restart new PSW                 *
 000008                             1250  1          =PZRSOPSW   DS    D             Restart old PSW                 *
 000010                             1251  1          =           DS    D                                             *
 000018                             1252  1          =PZEXOPSW   DS    D             External old PSW                *
 000020                             1253  1          =PZSVOPSW   DS    D             Supervisor old PSW              *
 000028                             1254  1          =PZPIOPSW   DS    D             Program old PSW                 *
 000030                             1255  1          =PZMCOPSW   DS    D             Machine check old PSW           *
 000038                             1256  1          =PZIOOPSW   DS    D             I/O old PSW                     *
 000040                             1257  1          =           DS    3D                                            *
 000058                             1258  1          =PZEXNPSW   DS    D             External new PSW                *
 000060                             1259  1          =PZSVNPSW   DS    D             Supervisor new PSW              *
 000068                             1260  1          =PZPINPSW   DS    D             Program new PSW                 *
 000070                             1261  1          =PZMCNPSW   DS    D             Machine check new PSW           *
 000078                             1262  1          =PZIONPSW   DS    D             I/O new PSW                     *
 000080                             1263  1          =           DS    F                                             *
 000084                             1264  1          =PZEXCPU    DS    H             CPU address for EXT int         *
 000086                             1265  1          =PZEXIC     DS    H             External interrupt code         *
 000088                             1266  1          =PZSVILC    DS    H             Supervisor call ILC             *
 00008A                             1267  1          =PZSVIC     DS    H             Supervisor interrupt code       *
 00008C                             1268  1          =PZPIILC    DS    H             Program ILC                     *
 00008E                             1269  1          =PZPIIC     DS    H             Program interrupt code          *
 000090                             1270  1          =PZTREXA    DS    A             Translation exception address   *
 000094                             1271  1          =PZMONCL    DS    H             Monitor Class number            *
 000096                             1272  1          =PZPERCD    DS    H             PER code                        *
 000098                             1273  1          =PZPERA     DS    A             PER Address                     *
 00009C                             1274  1          =PZMONCD    DS    A             Monitor Code                    *
 0000A0                             1275  1          =           DS    3D                                            *
 0000B8                             1276  1          =PZIOSID    DS    A             I/O subsystem ID word           *
 0000BC                             1277  1          =PZIOPRM    DS    A             I/O Parameter                   *
 0000C0                             1278  1          =PZIOSCS    DS    A             I/O subchannel ending status    *
 0000C4                             1279  1          =           DS    A                                             *
 0000C8                             1280  1          =           DS    39D                                           *
                                    1281  1          =*                                                              *
                                    1282  1          =*            ***************************************           *
                                    1283  1          =*            End of Fields fixed by the architecture           *
                                    1284  1          =****************************************************************
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page    7
0D-Loc  Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+_____  ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1286  1          =*
                                    1287  1          =* Fields of general interest
                                    1288  1          =*
 000200                             1289  1          =PZMATP     DS    A             Address of the MAT
 000204                             1290  1          =           DS    A             ** Reserved **
 000208                             1291  1          =PZCURPID   DS    0D            Unique ID of the current process
 000208                             1292  1          =PZCURASB   DS    A             Addr of ASB for current Address space
 00020C                             1293  1          =PZCURTSK   DS    A             ID of current task in the Address space
 000210                             1294  1          =PZLCPUA    DS    A             Logical CPU address
 000214                             1295  1          =PZCPUMSK   DS    A             CPU address mask bit
 000218                             1296  1          =PZPSWM     DS    X             PSW mask for disabling
 000219                             1297  1          =           DS    X             ** Reserved **
                                    1298  1          =*
                                    1299  1          =* Termination/Trace information
                                    1300  1          =*
 00021A 00                          1301  1          =PZTERMFL   FLAG  ,             Termination flags
 PZTERMFL.PZABORT  80 ONES          1305  1          =           FLAG  PZABORT         ABORT macro issued
 PZTERMFL.PZATERM  40 ONES          1310  1          =           FLAG  PZATERM         Start termination processing
 00021B                             1315  1          =PZABSM     DS    X             Save area for system mask in ABORT
 00021C                             1316  1          =PZABR15    DS    A             Save area for R15 in an ABORT
 000220                             1317  1          =PZTZOFF    DS    D             Time zone offset
 000228                             1318  1          =           DS    22A           ** Reserved **
                                    1319  1          =*         DS    24A           ** Reserved **
 000280                00280 00280  1320             =         END   ,
 USING  PZERO,R0                    1329       6.              USING (PZERO,R0)
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page    8
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1340       8.              COPY  MAT
                                    1341             =*****************************************************************
                                    1342             =*                                                               *
                                    1343             =*        *** M A S T E R   A D D R E S S   T A B L E ***        *
                                    1344             =*                                                               *
                                    1345             =*****************************************************************
-000000                00000 00100  1347             =MAT      RECORD BEGIN
                                    1355  1          =MATPTR     EQU   X'200',4,C'A' Address of the MAT in PZERO
 000000 D4C1E340                    1356  1          =           DC    CL4'MAT'      Control block ID
                                    1357  1          =*
                                    1358  1          =* Addresses of global control blocks
                                    1359  1          =*
 000004                             1360  1          =MATVMCB    DS    A             Virtual memory control block
 000008                             1361  1          =MATDCT     DS    A             Dispatcher control table
 00000C                             1362  1          =MATPAGCB   DS    A             Real memory control block
 000010                             1363  1          =MATM1CT    DS    A             CT for Mode 1 users
 000014                             1364  1          =MATLCT     DS    A             Lock manager control table
 000018                             1365  1          =MATQCT     DS    A             Queue manager control table
 00001C                             1366  1          =MATIOCB    DS    A             I/O Manager control block
 000020                             1367  1          =MATSBWB    DS    A             System buffer wait blocks
 000024                             1368  1          =MATGTCT    DS    A             Terminal global control table
 000028                             1369  1          =MATFILCB   DS    A             File master control table
 00002C                             1370  1          =MATJESCB   DS    A             JES master control table
 000030                             1371  1          =MATSYSCB   DS    A             System task control table
 000034                             1372  1          =MATACCT    DS    A             Accounting control table
 000038                             1373  1          =MATGRCT    DS    A             General Resource control table
 00003C                             1374  1          =MATGNCT    DS    A             Global Network Control table
 000040                             1375  1          =MATTECB    DS    D             Termination wait ECB
 000048                             1376  1          =           DS    25A           Reserved
                                    1377  1          =*
                                    1378  1          =* Control Block Chains
                                    1379  1          =*
 0000AC                             1380  1          =MATASBS    DS    A             Pointer to chain of ASBs
 0000B0                             1381  1          =MATASBL    DS    A             Id of suspend lock for ASB chain
 0000B4                             1382  1          =           DS    8A            **  RESERVED
                                    1383  1          =*
                                    1384  1          =* Control information
                                    1385  1          =*
 0000D4                             1386  1          =MATSNAME   DS    CL8           System Name
 0000DC                             1387  1          =MATPAGFN   DS    A             Current value of the Paging function
 0000E0                             1388  1          =MATSKEY    DS    X             SYSTEM storage key (in high 4 bits)
 0000E1                             1389  1          =MATUKEY    DS    X             USER storage key
                                    1390= 1          =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1391= 1          =           Ÿ  Information about the Kernel  Ÿ
                                    1392= 1          =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000E4                             1393  1          =MATKSTRT   DS    A             Starting address of the Kernel
 0000E8                             1394  1          =MATKMAP    DS    A             Address of the Kernel map
 0000EC                             1395  1          =MATKMAPL   DS    A             Length of the Kernel map
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page    9
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1396= 1          =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1397= 1          =           Ÿ  Failsoft information.  Ÿ
                                    1398= 1          =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000F0                             1399  1          =MATNCLPE   DS    F             Number of CLP errors
 0000F4                             1400  1          =MATNFAIL   DS    F             Number of failsofts
 0000F8                             1401  1          =           DS    2A            Reserved
 000100                00100 00100  1402             =         END
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   10
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1412      10.              COPY  ASB
 000000                00000 00044  1413             =ASB      RECORD BEGIN
 000000 C1E2C240                    1421  1          =ASBID      DC    CL4'ASB'
 000004                             1422  1          =ASBNEXT    DS    A                       Next ASB in system
                                    1423  1          =*
                                    1424  1          =*  Load Address Space Parameters area
                                    1425  1          =*
 000008                             1426  1          =ASBLASP    DS    0D                      Load Addr Space Parms
 000008                             1427  1          =ASBPKM     DS    H                       Program Key Mask
 00000A                             1428  1          =ASBSASN    DS    H                       Secondary ASN
 00000C                             1429  1          =ASBAX      DS    H                       Authorization index
 00000E                             1430  1          =ASBPASN    DS    H                       Primary ASN
                                    1431  1          =ASBLPARM   EQU   3                       LASP parameter
                                    1432  1          =
 000010                             1433  1          =ASBSASB    DS    A                       Address of secondary ASB
 000014 00                          1434  1          =ASBGCFLG   FLAG  ,
 ASBGCFLG.ASBFGBLC 80 ONES          1438  1          =           FLAG  ASBFGBLC                This is ASB for global/common
 000015                             1443  1          =           DS    3X                      - Available -
                                    1444  1          =*
                                    1445  1          =*  Related control blocks
                                    1446  1          =*
 000018                             1447  1          =ASBVSCT    DS    A                       VSCT for the Address space
 00001C                             1448  1          =ASBASDB    DS    A                       AS dispatching block
 000020                             1449  1          =ASBPAGB    DS    A                       AS paging block
 000024                             1450  1          =ASBIOB     DS    A                       AS I/O block
 000028                             1451  1          =ASBENQ     DS    A                       AS Enqueue table
 00002C                             1452  1          =ASBM1SCP   DS    A                       Mode 1 SCP
 000030                             1453  1          =ASBTCCB    DS    A                       Terminal Control block
 000034                             1454  1          =ASBAIB     DS    A                       Accouting information
 000038                             1455  1          =ASBASFB    DS    A                       File services control block
 00003C                             1456  1          =ASBMSTR    DS    A                       AS Master Control block
 000040                             1457  1          =ASBNET     DS    A                       Local Network Control Block
                                    1458  1          =*ASBLW    DS    A     ** Temp RESMAN ** Lock waiting for
                                    1459  1          =*ASBLH    DS    A     ** Temp RESMAN ** Lock held
 000044                00044 00044  1460             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   11
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1470      12.              COPY  ACCTPARM
                                    1471             =*****************************************************************
                                    1472             =*                                                               *
                                    1473             =*  ACCTPARM -- Parameters for the Accounting Routines.          *
                                    1474             =*                                                               *
                                    1475             =*****************************************************************
-                                   1477             =*
                                    1478             =* Start accounting for an address space
                                    1479             =*
0000000                00000 0001C  1481             =@ACLOGON RECORD BEGIN
 000000                             1489  1          =@ACLASB    DS    A             ASB of the Address Space
 000004                             1490  1          =@ACLUID    DS    CL8           User ID
 00000C                             1491  1          =@ACLUPR    DS    A             User Privileges
 000010                             1492  1          =@ACLLOT    DS    D             TOD Clock at Logon
 000018                             1493  1          =@ACLTID    DS    A             Terminal ID
 00001C                0001C 0001C  1494             =         END   ,
-                                   1504             =*
                                    1505             =* Get accounting info for an address space.
                                    1506             =*
0000000                00000 00018  1508             =@ACAINFO RECORD BEGIN
 000000                             1516  1          =@ACAASB    DS    A             ASB of the address space
 000004                             1517  1          =@ACAUID    DS    CL8           User ID
 00000C                             1518  1          =@ACAUPR    DS    A             User Privileges
                                    1519  1          =MILPRIV    EQU   @ACAUPR+3     Milten priv byte *** TEMP ***
 000010                             1520  1          =@ACALOT    DS    D             TOD Clock at Logon
 000018                00018 00018  1521             =         END   ,
-                                   1531             =*
                                    1532             =* Get resource usage info for an address space
                                    1533             =*
0000000                00000 00028  1535             =@ACINFO  RECORD BEGIN
 000000                             1543  1          =@ACIASB    DS    A             ASB of the Address space
 000004                             1544  1          =@ACIIOS    DS    A             Number of I/O's
 000008                             1545  1          =@ACICPU    DS    D             CPU time (TOD)
 000010                             1546  1          =@ACICON    DS    D             Connect time (TOD)
 000018                             1547  1          =@ACIPGNM   DS    CL8           Program name
 000020                             1548  1          =@ACITID    DS    A             Terminal Identifier
 000024                             1549  1          =@ACIORG    DS    A             Shared program address
 000028                00028 00028  1550             =         END   ,
                                    1559             =*
                                    1560             =* Set program information
                                    1561             =*
0000000                00000 0000C  1563             =@ACPINFO RECORD BEGIN
 000000                             1571  1          =@ACPASB    DS    A             ASB of the Address space
 000004                             1572  1          =@ACPPGNM   DS    CL8           Program name
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   12
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000000C                0000C 0000C  1573             =         END   ,
                                    1582             =*
                                    1583             =* Set shared program information
                                    1584             =*
0000000                00000 00008  1586             =@ACSPINF RECORD BEGIN
 000000                             1594  1          =@ACSPASB   DS    A             ASB of the Address space
 000004                             1595  1          =@ACSPORG   DS    A             Shared program address
 000008                00008 00008  1596             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   13
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1606      14.              COPY  DISPPARM
                                    1607             =*****************************************************************
                                    1608             =*                                                               *
                                    1609             =*  DISPPARM -- Parameters for the dispatcher global routines.   *
                                    1610             =*                                                               *
                                    1611             =*****************************************************************
-                                   1613             =*
                                    1614             =* Routines to indicate completion of a page or swap I/O
                                    1615             =*
 000000                00000 00004  1616             =@DISPPIOC RECORD BEGIN                 Page I/O completion parms
 000000                             1624  1          =@DPIOASB   DS    A                       ASB of completing I/O
 000004                00004 00004  1625             =         END   ,
0000000                00000 00004  1635             =@DISPSIOC RECORD BEGIN                 Swap I/O completion parms
 000000                             1643  1          =@DSIOASB   DS    A                       ASB of completing I/O
 000004                00004 00004  1644             =         END   ,
-                                   1654             =*
                                    1655             =* SUSPEND parameters
                                    1656             =*
0000000                00000 00009  1658             =@SUSPEND RECORD BEGIN
 000000                             1666  1          =@SUSPCTL   DS    0D            ID of the Control level suspended
 000000                             1667  1          =@SUSPID    DS    A             ID of the task/address space suspended
 000004                             1668  1          =@SUSPLC    DS    A             For tasks: Level of control suspended
 000008 00                          1669  1          =@SUSPFLG   FLAG  ,
 @SUSPFLG.@SUSPLNG 80 ONES          1673  1          =           FLAG  @SUSPLNG      This will be of long duration
 @SUSPFLG.@SUSPAS  40 ONES          1678  1          =           FLAG  @SUSPAS       Suspend the entire address space
 @SUSPFLG.@SUSPPLC 20 ONES          1683  1          =           FLAG  @SUSPPLC      Suspend previous level of control
 000009                00009 00009  1688             =         END   ,
-                                   1698             =*
                                    1699             =* RESUMAS/RESUMTS parameters
                                    1700             =*
0000000                00000 00008  1702             =@RESUME  RECORD BEGIN
 000000                             1710  1          =@RESCTL    DS    0D            ID of the unit of work to be resumed
 000000                             1711  1          =@RESUNIT   DS    A             Address of the ASB/task Id to resume
 000004                             1712  1          =@RESLC     DS    A             Level of control in a task
 000008                00008 00008  1713             =         END   ,
-                                   1723             =*
                                    1724             =* DISPSHLD/DISPSREL parmameters
                                    1725             =*
0000000                00000 00004  1727             =@DISPSWP RECORD BEGIN
 000000                             1735  1          =@DISPSAS   DS    A             Address of the ASB being manipulated
 000004                00004 00004  1736             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   14
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   1746             =*
                                    1747             =* ACREATE parameters
                                    1748             =*
0000000                00000 00008  1750             =@ACREATE RECORD BEGIN
 000000                             1758  1          =@ACRPSW    DS    D             Instruction address for task
 000008                00008 00008  1759             =         END   ,
-                                   1769             =*
                                    1770             =* TCREATE parameters
                                    1771             =*
0000000                00000 00015  1773             =@TCREATE RECORD BEGIN
 000000                             1781  1          =@TCRPSW    DS    D             Initial PSW for the task
 000008                             1782  1          =@TCRPARM   DS    2A            Parameter for the task
 000010                             1783  1          =@TCRPRIO   DS    A             Adjustment to priority from Current task
 000014 00                          1784  1          =@TCRFLAG   FLAG  ,             Task creation flags
 @TCRFLAG.@TCRFSTK 80 ONES          1788  1          =           FLAG  @TCRFSTK        Task entered with a stack
 @TCRFLAG.@TCRFPAB 40 ONES          1793  1          =           FLAG  @TCRFPABS       Prio is absolute
 000015                00015 00015  1798             =         END   ,
-                                   1808             =*
                                    1809             =* TREMOVE parameters
                                    1810             =*
0000000                00000 00004  1812             =@TREMOVE RECORD BEGIN
 000000                             1820  1          =@TREID     DS    A             ID of the task to be removed
 000004                00004 00004  1821             =         END   ,
-                                   1831             =*
                                    1832             =* TENTRY Parameters  (on entry to a created task)
                                    1833             =*
0000000                00000 00008  1835             =@TENTRY  RECORD BEGIN
 000000                             1843  1          =@TEPARM    DS    2A            Entry parm for the task
 000008                00008 00008  1844             =         END   ,
-                                   1854             =*
                                    1855             =* TEXIT parameters
                                    1856             =*
0000000                00000 00004  1858             =@TEXIT   RECORD BEGIN
 000000                             1866  1          =           DS    A             Not used
 000004                00004 00004  1867             =         END   ,
-                                   1877             =*
                                    1878             =* SYSRNEW -- Get a new SYSR ID
                                    1879             =*
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   15
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 00004  1881             =@SYSRNEW RECORD BEGIN
 000000                             1889  1          =           DS    A             Not used
 000004                00004 00004  1890             =         END   ,
-                                   1900             =*
                                    1901             =* SYSRDEL -- Delete a previous SYSR ID
                                    1902             =*
 000000                00000 00004  1903             =@SYSRDEL RECORD BEGIN
 000000                             1911  1          =@SYSRDID   DS    A             Id of the SYSR
 000004                00004 00004  1912             =         END   ,
-                                   1922             =*
                                    1923             =* SYSRDO -- Schedule a system routine to run in another address space
                                    1924             =*
0000000                00000 0001C  1926             =@SYSRDO  RECORD BEGIN
 000000                             1934  1          =@SYSRID    DS    A             Id from SYSRNEW
 000004                             1935  1          =@SYSRASB   DS    A             ASB of the Address space where it goes
 000008                             1936  1          =@SYSRLOC   DS    A             Location of the system routine
 00000C                             1937  1          =@SYSRPRM   DS    4A            Parameters for the routine
 00001C                0001C 0001C  1938             =         END   ,
-                                   1948             =*
                                    1949             =* SYSRTN -- Parameter passed to a system routine
                                    1950             =*
0000000                00000 00010  1952             =@SYSRTN  RECORD BEGIN
 000000                             1960  1          =@SYSPARS   DS    4A            Parameters
 000010                00010 00010  1961             =         END   ,
-                                   1971             =*
                                    1972             =* PERSET -- Set the Per registers
                                    1973             =*
0000000                00000 0000C  1975             =@PERSET  RECORD BEGIN
 000000                             1983  1          =@PERSDAT   DS    3F            3 Registers (corresponds to CRs 9-11)
 00000C                0000C 0000C  1984             =         END   ,
-                                   1994             =*
                                    1995             =* MONSET -- Set the MON masks
                                    1996             =*
0000000                00000 00002  1998             =@MONSET  RECORD BEGIN
 000000                             2006  1          =@MONSDAT   DS    H             Monitor Class Mask
 000002                00002 00002  2007             =         END   ,
-                                   2017             =*
                                    2018             =* DSPSTAT -- Return Dispatcher Statistics
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   16
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2019             =*
0000000                00000 00020  2021             =@DSPSTAT RECORD BEGIN
 000000                             2029  1          =@DSPSST    DS    D             TOD clock when system started
 000008                             2030  1          =@DSPSCHG   DS    D             Total CPU time charged (TOD)
 000010                             2031  1          =@DSPSDSP   DS    D             Dispatch CPU time (TOD)
 000018                             2032  1          =@DSPSIOS   DS    D             I/O Service time (TOD)
 000020                00020 00020  2033             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   17
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2043      16.              COPY  LOCKPARM
                                    2044             =*******************************************************************
                                    2045             =*                                                                 *
                                    2046             =*    LOCKPARM - Lock routine calling parms                        *
                                    2047             =*                                                                 *
                                    2048             =*******************************************************************
0000000                00000 00011  2050             =@LOCKCRE RECORD BEGIN
 000000                             2058  1          =@LOCKNAM   DS    CL16          Name of the lock
 000010 00                          2059  1          =@LOCKFL    FLAG  ,
 @LOCKFL.@LFSPIN   80 ONES          2063  1          =           FLAG  @LFSPIN       Spin type lock
 000011                00011 00011  2068             =         END   ,
                                    2077             =*
 000000                00000 00004  2078             =@LOCKS   RECORD BEGIN
 000000                             2086  1          =@LOCKID    DS    A             Lock id
 000004                00004 00004  2087             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   18
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2097      18.              COPY  IOSPARM
 000000                00000 0001E  2098             =@IOSDOIO RECORD BEGIN
 000000                             2106  1          =@IOSCHID   DS    A                       Subchannel ID
 000004                             2107  1          =@IOSID     DS    A                       I/O ID
 000008                             2108  1          =@IOSPID    DS    D                       Process ID
 000010                             2109  1          =@IOSCP     DS    A                       Channel program addr (VA)
 000014                             2110  1          =@IOSXID    DS    A                       Exit ID/Fast path rtn addr
 000018                             2111  1          =@IOSXPAR   DS    A                       Ending parameter
 00001C                             2112  1          =@IOSKEY    DS    X                       Key for I/O
 00001D 00                          2113  1          =@IOSF1     FLAG  ,
 @IOSF1.@IOSFSYNC  80 ONES          2117  1          =           FLAG  @IOSFSYNC               Do I/O synchronous
 @IOSF1.@IOSFAS    40 ONES          2122  1          =           FLAG  @IOSFAS                 | do AS waits for this I/O
 @IOSF1.@IOSFAST   20 ONES          2127  1          =           FLAG  @IOSFAST                Fast path I/O
 00001E                0001E 0001E  2132             =         END   ,
-000000                00000 00008  2142             =@IOTERM  RECORD BEGIN                  I/O termination routine parms
 000000                             2150  1          =@IOTPARM   DS    A                       Termination routine parameter
 000004                             2151  1          =@IOTEND    DS    A                       Ending status of operation
 000008                00008 00008  2152             =         END   ,
-000000                00000 00010  2162             =@IOSTIME RECORD BEGIN
 000000                             2170  1          =@IOSTID    DS    A                       I/O ID
 000008                             2171  1          =@IOSIOTIME   DS  D                       Time of this I/O
 000010                00010 00010  2172             =         END   ,
-000000                00000 00001  2182             =@IOSIDGET RECORD BEGIN
 000000 00                          2190  1          =@IOSIDF     FLAG   ,
 @IOSIDF.@IOSFWAIT 80 ONES          2194  1          =            FLAG   @IOSFWAIT             If need be, wait for id
 000001                00001 00001  2199             =          END    ,
-000000                00000 00004  2209             =@IOSIDFRE RECORD BEGIN
 000000                             2217  1          =@IOSFID     DS   A                       ID being freed
 000004                00004 00004  2218             =          END  ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   19
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2228             =         COPY  IORPARM
                                    2229             =*******************************************************************
                                    2230             =*                                                                 *
                                    2231             =*     @IORPARM - ORVYL I/O request parameters                     *
                                    2232             =*                                                                 *
                                    2233             =*******************************************************************
0000000                00000 00014  2235             =@IORB    RECORD BEGIN
 000000                             2243  1          =@IORRQID   DS    A                       Request ID
 000004                             2244  1          =@IOROFF    DS    A                       Offset (guest real to MVS)
 000008                             2245  1          =@IORPARM   DS    A                       Pointer to user parm list
 00000C                             2246  1          =@IORSCH    DS    A                       Subchannel (device ID)
 000010                             2247  1          =@IORKEY    DS    X                       Channel program protect key
 000011                             2248  1          =@IORCC     DS    X                       Condition code (returned)
 000012                             2249  1          =           DS    2X                      Reserved
 000014                00014 00014  2250             =         END   ,
-
                                    2260             =*******************************************************************
                                    2261             =*                                                                 *
                                    2262             =*     @IOUPARM - I/O Device id allocate request parameters        *
                                    2263             =*                                                                 *
                                    2264             =*******************************************************************
0000000                00000 00004  2266             =@IOUPARM RECORD BEGIN
 000000                             2274  1          =@IOUDEVT   DS    A
                                    2275  1          =*
                                    2276  1          =*  Device types
                                    2277  1          =*
                                    2278  1          =#IOUPAGE   EQU   4                       | paging
                                    2279  1          =#IOUSWAP   EQU   8                       | swap
                                    2280  1          =#IOUFILE   EQU   12                      | file
                                    2281  1          =#IOUSCOM   EQU   16                      | path
                                    2282  1          =#IOUJES    EQU   20                      | JES
                                    2283  1          =#IOUHSP    EQU   24                      | Standard hiperspace
                                    2284  1          =#IOUESO    EQU   28                      | Cached hiperspace
 000004                00004 00004  2285             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   20
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2295      20.              COPY  SIGPARM
                                    2296             =*
                                    2297             =*  AWAIT/AWAITAS parameters
                                    2298             =*    For task based calls, the ECB is a double word.
                                    2299             =*    For address space based calls, the ECB is a word.
                                    2300             =*
 000000                00000 00005  2301             =@AWAIT   RECORD BEGIN
 000000                             2309  1          =@AWTECB    DS    A                       Address of ECB
 000004 00                          2310  1          =@AWTFLG    FLAG  ,
 @AWTFLG.@AWTLONG  80 ONES          2314  1          =           FLAG  @AWTLONG                Long term wait
 000005                00005 00005  2319             =         END   ,
0                                   2329             =*
                                    2330             =*  SIGNAL/SIGNALAS parameters
                                    2331             =*    For task based calls, the ECB and post code is a double word.
                                    2332             =*    For address space based calls, the ECB and post code is a word.
                                    2333             =*
 000000                00000 00014  2334             =@SIGNAL  RECORD BEGIN
 000000                             2342  1          =@SGCODE    DS    D                       Post code
 000008                             2343  1          =@SGECB     DS    A                       Address of ECB
                                    2344  1          =*  -- Parms for task signal --
                                    2345  1          =*    Zero ASB means post in this AS
                                    2346  1          =*    @PSSRID is only used for cross AS posts
 00000C                             2347  1          =@SGASB     DS    A                       ASB to be posted
 000010                             2348  1          =@SGSRID    DS    A                       System routine ID for cross
                                    2349  1          =*                                          AS posting
 000014                00014 00014  2350             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   21
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2360      22.              COPY  TIMEPARM
                                    2361             =*****************************************************************
                                    2362             =*                                                               *
                                    2363             =*  TIMEPARM -- Parameters for the timer routines.               *
                                    2364             =*                                                               *
                                    2365             =*****************************************************************
-                                   2367             =*
                                    2368             =* Start a Real-time timer
                                    2369             =*
0000000                00000 00018  2371             =@RTSET   RECORD BEGIN
 000000                             2379  1          =@RTSCLK    DS    D             Time of day or interval in TOD format
 000008 00                          2380  1          =@RTSFLG    FLAG  ,             Request flags
 @RTSFLG.@RTSFINT  80 ONES          2384  1          =           FLAG  @RTSFINT       Interval timer
 00000C                             2389  1          =@RTSXIT    DS    A             ID of the Exit request
 000010                             2390  1          =@RTSPARM   DS    2A            Parms passed to the exit
 000018                00018 00018  2391             =         END   ,
-                                   2401             =*
                                    2402             =* Cancel (RTCAN) Or Check (RTCHK) a Real-time timer
                                    2403             =*
0000000                00000 00020  2405             =@RTCNCK  RECORD BEGIN        Cancel or Check
 000000                             2413  1          =@RTCID     DS    A             ID of the Timer
 000008                             2414  1          =@RTCCLK    DS    D             Interval until the clock expires
 000010                             2415  1          =@RTCPARM   DS    4A            Same as the parm area in exit
 000020                00020 00020  2416             =         END   ,
-                                   2426             =*
                                    2427             =* Layout of parms passed to the Real time timer exit
                                    2428             =*
0000000                00000 00010  2430             =RTEXIT   RECORD BEGIN
 000000                             2438  1          =RTXTID     DS    A             ID of the timer
 000004                             2439  1          =RTXXID     DS    A             ID of the timer Exit
 000008                             2440  1          =RTXPARM    DS    2A            Parms set when the timer was set
 000010                00010 00010  2441             =         END   ,
-                                   2451             =*
                                    2452             =* Start a CPU-time timer
                                    2453             =*
0000000                00000 00014  2455             =@CPSET   RECORD BEGIN
 000000                             2463  1          =@CPSCLK    DS    D             Time of day or interval in TOD format
 000008                             2464  1          =@CPSXIT    DS    A             ID of the Exit request
 00000C                             2465  1          =@CPSPARM   DS    2A            Parms passed to the exit
 000014                00014 00014  2466             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   22
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2476             =*
                                    2477             =* Cancel (CPCAN) Or Check (CPCHK) a CPU-time timer
                                    2478             =*
0000000                00000 00020  2480             =@CPCNCK  RECORD BEGIN        Cancel or Check
 000000                             2488  1          =@CPCID     DS    A             ID of the Timer
 000008                             2489  1          =@CPCCLK    DS    D             Interval until the clock expires
 000010                             2490  1          =@CPCPARM   DS    4A            Same as the parm area in exit
 000020                00020 00020  2491             =         END   ,
-                                   2501             =*
                                    2502             =* Layout of parms passed to the CPU-time timer exit
                                    2503             =*
0000000                00000 00010  2505             =CPEXIT   RECORD BEGIN
 000000                             2513  1          =CPXTID     DS    A             ID of the timer
 000004                             2514  1          =CPXXID     DS    A             ID of the timer Exit
 000008                             2515  1          =CPXPARM    DS    2A            Parms set when the timer was set
 000010                00010 00010  2516             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   23
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2526      24.              COPY  VMPARM
                                    2527             =*******************************************************************
                                    2528             =*                                                                 *
                                    2529             =*    Memory parms for inside the virtual machine.                 *
                                    2530             =*                                                                 *
                                    2531             =*******************************************************************
-000000                00000 0000B  2533             =@VMGET   RECORD BEGIN        Parm area for getting virtual memory
 000000                             2541  1          =@VMGLEN    DS    A             Amount of memory needed
 000004                             2542  1          =@VMGDAT    DS    A             More data. Address or maxlen.
 000008                             2543  1          =@VMGPOOL   DS    H             Pool/Subpool to get the memory from
 00000A 00                          2544  1          =@VMGFLG    FLAG  ,
 @VMGFLG.@VMGPAGE  80 ONES          2548  1          =           FLAG  @VMGPAGE      Page Aligned
 @VMGFLG.@VMGONEP  40 ONES          2553  1          =           FLAG  @VMGONEP      Don't cross page boundary
 00000B                0000B 0000B  2558             =         END   ,
-000000                00000 0000A  2568             =@VMFREE  RECORD BEGIN        Used for VMFREE and VMCHECK
 000000                             2576  1          =@VMFLOC    DS    A             Location of the storage to free
 000004                             2577  1          =@VMFLEN    DS    A             Amount to free
 000008                             2578  1          =@VMFPOOL   DS    H             Pool/Subpool where the storage lives
 00000A                0000A 0000A  2579             =         END   ,
-000000                00000 00009  2589             =@VMINFO  RECORD BEGIN        Returns User address limits/hash val
 000000                             2597  1          =@VMIUST    DS    A             Start of the user address space
 000004                             2598  1          =@VMIULEN   DS    A             Length of the user address space
 000008                             2599  1          =@VMITRSH   DS    X             Trash value
 000009                00009 00009  2600             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   24
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2610      26.              COPY  VMIPARM
                                    2611             =*
                                    2612             =*  @VMIPARM -- This data area is passed to the Virtual memory
                                    2613             =*              initialization module to inform it of the storage
                                    2614             =*              areas that have already been set up.
                                    2615             =*
-000000                00000 00014  2617             =@VMIPARM RECORD BEGIN
 000000                             2625  1          =@VMIKLOC   DS    A             Starting address of the Kernel
 000004                             2626  1          =@VMIKLEN   DS    A             Length of the Kernel
 000008                             2627  1          =@VMIMLOC   DS    A             Location of the Kernel map
 00000C                             2628  1          =@VMIMLEN   DS    A             Length of the Kernel map
 000010                             2629  1          =@VMISLOC   DS    A             Location of the V=R stack (16 pages)
 000014                00014 00014  2630             =         END   ,
-                                   2640             =*
                                    2641             =*   @VMCRAS -- This data area is passed to the Address space creation
                                    2642             =*              routine.
                                    2643             =*
-000000                00000 00004  2645             =@VMCRAS  RECORD BEGIN
 000000                             2653  1          =@VMCASB    DS    A             Address of the ASB for the new AS
 000004                00004 00004  2654             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   25
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2664      28.              COPY  PAGEPARM
                                    2665             =*
                                    2666             =*  Page fault return codes
                                    2667             =*
                                    2668             =@PFRINP  EQU   0                       Fault in progress
                                    2669             =@PFRADDR EQU   4                       Addressing exception
                                    2670             =@PFROK   EQU   8                       Fault resolved
                                    2671             =@PFRWAIT EQU   12                      Must wait for some resource
0000000                00000 00005  2673             =@PAGSWAP RECORD BEGIN
 000000                             2681  1          =@SWASB     DS    A                       Address of ASB being swapped
                                    2682  1          =* -- Return parameters --
 000004 00                          2683  1          =@SWFLG     FLAG  ,
 @SWFLG.@SWFINP    00 EQ            2687  1          =           FLAG  (@SWFINP,0,EQ)          Swap in progress
 @SWFLG.@SWFOK     04 EQ            2697  1          =           FLAG  (@SWFOK,4,EQ)           Swap done now
 @SWFLG.@SWFWAIT   08 EQ            2707  1          =           FLAG  (@SWFWAIT,8,EQ)         Must wait for some resource
 000005                00005 00005  2717             =         END   ,
0000000                00000 00004  2727             =@PAGSWADV RECORD BEGIN                 Give swap advice
 000000                             2735  1          =@ADVASB    DS    A                       ASB of advice
 000004                00004 00004  2736             =         END   ,
0000000                00000 0000D  2746             =@PAGWSMA RECORD BEGIN                  Working Set management
 000000                             2754  1          =@WSASB     DS    A                       ASB of AS to be managed
 000004                             2755  1          =@WSINT     DS    A                       Number of elapsed intervals
 000008                             2756  1          =@WSLIMIT   DS    A                       Maximum number of frames
 00000C 00                          2757  1          =@WSFLG     FLAG  ,
 @WSFLG.@WSFGLOB   80 ONES          2761  1          =           FLAG  @WSFGLOB                Manage Global AS
 00000D                0000D 0000D  2766             =         END   ,
0000000                00000 0000A  2776             =@PAGDEF  RECORD BEGIN                  Define a page
 000000                             2784  1          =@PDADDR    DS    A                       Page VA
 000004                             2785  1          =@PDLEN     DS    A                       Length of definition (bytes)
 000008                             2786  1          =@PDKEY     DS    X                       Storage key (+ key protect)
                                    2787  1          =* @PDHASH  DS    X                       Hash value for page
 000009 00                          2788  1          =@PDF1      FLAG  @PDFGLOB                In global memory
 @PDF1.@PDFGLOB    80 ONES
 @PDF1.@PDFPROT    40 ONES          2794  1          =           FLAG  @PDFPROT                Page table protection
 00000A                0000A 0000A  2799             =         END   ,
0000000                00000 0000A  2809             =@PAGSEGD RECORD BEGIN                  Define a segment
 000000                             2817  1          =@SDADDR    DS    A                       Segment address
 000004                             2818  1          =@SDLEN     DS    A                       Length of definition (bytes)
 000008                             2819  1          =@SDHASH    DS    X                       Hash value for segment
 000009 00                          2820  1          =@SDF1      FLAG  @SDFGLOB                In global memory
 @SDF1.@SDFGLOB    80 ONES
 00000A                0000A 0000A  2826             =         END   ,
0000000                00000 00008  2836             =@PAGASC1 RECORD BEGIN
 000000                             2844  1          =@ASCASB    DS    A                       ASB for AS being created
 000004                             2845  1          =@ASCWSLM   DS    A                       Maximum size of working set
 000008                00008 00008  2846             =         END   ,
0000000                00000 00005  2856             =@PAGASC2 RECORD BEGIN                  Address space creation
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   26
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                             2864  1          =@ASCVA     DS    A                       Virtual address of 1st PT
 000004                             2865  1          =@ASCKEY    DS    X                       Storage key (+ key protect)
 000005                00005 00005  2866             =         END   ,
0000000                00000 00009  2876             =@PAGE    RECORD BEGIN                  General paging routine parms
 000000                             2884  1          =@PAGLOC    DS    A                       Virtual address
 000004                             2885  1          =@PAGLEN    DS    A                       Length (in bytes)
 000008                             2886  1          =@PAGKEY    DS    X                       Key - where required
                                    2887  1          =@PAGHASH   EQU   @PAGKEY                 Hash - where required
 000009                00009 00009  2888             =         END   ,
0000000                00000 00008  2898             =@PAGRV   RECORD BEGIN                  Real to virtual translation
 000000                             2906  1          =@PAGRVAD   DS    A                       Real addr to be translated
                                    2907  1          =* -- Return parms --
 000004                             2908  1          =@PAGRVASB   DS   A                       Address space block
 000008                00008 00008  2909             =         END   ,
0000000                00000 00004  2919             =@PAGINTV RECORD BEGIN                  Paging management interval
 000000                             2927  1          =@PAGINT    DS    A                       Number of intervals in cycle
 000004                00004 00004  2928             =         END   ,
0000000                00000 00008  2938             =@PAGINIT RECORD BEGIN                  Global initialization
 000000                             2946  1          =@PAGIASB   DS    A                       Global ASB address
 000004                             2947  1          =@PAGIMEG   DS    A                       Maximum number of bytes in VA
 000008                00008 00008  2948             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   27
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   2958      30.              COPY  XITPARM
                                    2959             =*****************************************************************
                                    2960             =*                                                               *
                                    2961             =*  XITPARM --  Parameters for the routines dealing with exit    *
                                    2962             =*              routine definition and execution.                *
                                    2963             =*                                                               *
                                    2964             =*****************************************************************
-                                   2966             =*
                                    2967             =*  @EXRADD -- Define a new exit routine.
                                    2968             =*
0000000                00000 00015  2970             =@EXRADD  RECORD BEGIN
 000000                             2978  1          =@EXRTYPE   DS    A             Exit type bit map
 000004                             2979  1          =@EXRQUAL   DS    A             Exit Qualifier
 000008                             2980  1          =@EXRPSW    DS    D             Exit PSW
 000010                             2981  1          =@EXRPARM   DS    A             Parm for the exit
 000014 00                          2982  1          =@EXRAFLG   FLAG  ,
 @EXRAFLG.@EXRAFQ  80 ONES          2986  1          =           FLAG  @EXRAFQ       Exit should be qualified
 @EXRAFLG.@EXRAFS  40 ONES          2991  1          =           FLAG  @EXRAFS       System exit (entered with a stack)
 000015                00015 00015  2996             =         END   ,
-                                   3006             =*
                                    3007             =*  @EXRDEL -- Remove an exit routine definition.
                                    3008             =*
0000000                00000 00004  3010             =@EXRDEL  RECORD BEGIN
 000000                             3018  1          =@EXRDID    DS    A             Exit routine ID
 000004                00004 00004  3019             =         END   ,
-                                   3029             =*
                                    3030             =*  @EXRDONE -- Complete exit processing.
                                    3031             =*
0000000                00000 00001  3033             =@EXRDONE RECORD BEGIN
 000000 00                          3041  1          =@EXRDCD    FLAG  ,
 @EXRDCD.@EXRDFIN  00 EQ            3045  1          =           FLAG  (@EXRDFIN,0,EQ)         No further processing needed
 @EXRDCD.@EXRDNXT  01 EQ            3055  1          =           FLAG  (@EXRDNXT,1,EQ)         Percolate the exit request
 000001                00001 00001  3065             =         END   ,
-                                   3075             =*
                                    3076             =*  @XITNEW -- Define a new exit request.
                                    3077             =*
0000000                00000 00001  3079             =@XITNEW  RECORD BEGIN
 000000 00                          3087  1          =@XITNFL    FLAG  ,
 @XITNFL.@XITNFG   80 ONES          3091  1          =           FLAG  @XITNFG       Global exit request
 000001                00001 00001  3096             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   28
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3106             =*
                                    3107             =*  @XITDEL -- Delete an exit request
                                    3108             =*
0000000                00000 00004  3110             =@XITDEL  RECORD BEGIN
 000000                             3118  1          =@XITDID    DS    A             Exit request ID
 000004                00004 00004  3119             =         END   ,
-                                   3129             =*
                                    3130             =*  @XITDO -- Schedule an exit.
                                    3131             =*
 000000                00000 00020  3132             =@XITDO   RECORD BEGIN
 000000                             3140  1          =@XITRQID   DS    A             Request ID (from XITNEW)
 000004                             3141  1          =@XITTSK    DS    A             Task Id where this exit is to run
 000008                             3142  1          =@XITTYPE   DS    X             Exit type (Integer)
 00000C                             3143  1          =@XITQUAL   DS    A             Exit qualifier
 000010                             3144  1          =@XITPARM   DS    XL16          Exit parameter area
 000020                00020 00020  3145             =         END   ,
-                                   3155             =*
                                    3156             =*  @XITGPST -- Info about the status of the previous level of control
                                    3157             =*              used by XITGST and XITPST
                                    3158             =*
0000000                00000 00068  3160             =@XITGPST RECORD BEGIN
 000000                             3168  1          =@XITSPSW   DS    D             PSW
 000008                             3169  1          =@XITSGPR   DS    16F           GPRs
 000048                             3170  1          =@XITSFPR   DS    4D            FPRs
 000068                00068 00068  3171             =         END   ,
-                                   3181             =*
                                    3182             =*  @XITMASK -- Modify the current exit mask
                                    3183             =*
0000000                00000 00005  3185             =@XITMASK RECORD BEGIN
 000000                             3193  1          =@XITMSK    DS    A             Bit mask of the data
 000004 00                          3194  1          =@XITMREQ   FLAG  ,             Request type
 @XITMREQ.@XITMSO  00 EQ            3198  1          =           FLAG  (@XITMSO,0,EQ)  OR this data into the mask
 @XITMREQ.@XITMSN  01 EQ            3208  1          =           FLAG  (@XITMSN,1,EQ)  AND this data into the mask
 @XITMREQ.@XITMSS  02 EQ            3218  1          =           FLAG  (@XITMSS,2,EQ)  Store this data into the mask
 000005                00005 00005  3228             =         END   ,
-                                   3238             =*
                                    3239             =* Definition of the types of exits
                                    3240             =*
0                                   3242             =XITTPI   EQU    0          * Program interrupt
                                    3243             =XITTSVC  EQU    1          * Supervisor Call
                                    3244             =XITTRTC  EQU    2            Real time clock expiration
                                    3245             =XITTCTC  EQU    3            CPU time clock expiration
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   29
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3246             =XITTPER  EQU    4            Program Event
                                    3247             =XITTMON  EQU    5            Monitor Call
                                    3248             =XITTLGO  EQU    6            Logoff
                                    3249             =XITTR07  EQU    7            -- reserved --
                                    3250             =XITTATTN EQU    8            Attention
                                    3251             =XITTIOCN EQU    9            I/O Completed normally
                                    3252             =XITTIOCA EQU   10            I/O Completed abnormally
-                                   3254             =*
                                    3255             =* Definition of the exit mask
                                    3256             =*
0000000                00000 00004  3258             =XITMSKD  RECORD BEGIN
                                    3266  1          =
 000000 00                          3267  1          =MITMK1     FLAG  ,             First byte of the mask
 MITMK1.XITMPI     80 ONES          3271  1          =           FLAG  XITMPI          Program interrupt
 MITMK1.XITMSVC    40 ONES          3276  1          =           FLAG  XITMSVC         Supervisor Call
 MITMK1.XITMRTC    20 ONES          3281  1          =           FLAG  XITMRTC         Real time clock expiration
 MITMK1.XITMCTC    10 ONES          3286  1          =           FLAG  XITMCTC         CPU time clock expiration
 MITMK1.XITMPER    08 ONES          3291  1          =           FLAG  XITMPER         Program Event
 MITMK1.XITMMON    04 ONES          3296  1          =           FLAG  XITMMON         Monitor Call
 MITMK1.XITMLGO    02 ONES          3301  1          =           FLAG  XITMLGO         Logoff
 MITMK1.XITMR07    01 ONES          3306  1          =           FLAG  XITMR07         -- reserved --
                                    3311  1          =
 000001 00                          3312  1          =MITMK2     FLAG  ,             Second byte of the mask
 MITMK2.XITMATTN   80 ONES          3316  1          =           FLAG  XITMATTN        Attention
 MITMK2.XITMIOCN   40 ONES          3321  1          =           FLAG  XITMIOCN        I/O Completed normally
 MITMK2.XITMIOCA   20 ONES          3326  1          =           FLAG  XITMIOCA        I/O Completed abnormally
                                    3331  1          =
 000002 00                          3332  1          =MITMK3     FLAG  ,             Third byte of the mask
                                    3336  1          =
 000003 00                          3337  1          =MITMK4     FLAG  ,             Fourth byte of the mask
 000004                00004 00004  3341             =         END   ,
-                                   3351             =*
                                    3352             =* Definition of Exit routine entry data area
                                    3353             =*
0000000                00000 00004  3355             =@XITDATA RECORD BEGIN
 000000                             3363  1          =@XITDSA    DS    A             Pointer to XITSAREA (exit status area)
 000004                00004 00004  3364             =         END   ,
-                                   3374             =*
                                    3375             =* Definition of the Exit Status area
                                    3376             =*
0000000                00000 0001C  3378             =XITSAREA RECORD BEGIN
 000000                             3386  1          =XITSRPRM   DS    A             Parm value for the Routine
 000004                             3387  1          =XITSTYPE   DS    X             Type of the exit
 000008                             3388  1          =XITSQUAL   DS    A             Exit Qualifier
 00000C                             3389  1          =XITSXPRM   DS    XL16          Exit parameter area
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   30
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000001C                0001C 0001C  3390             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   31
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3400      32.              COPY  PARMPARM
                                    3401             =*********************************************************************
                                    3402             =*                                                                   *
                                    3403             =*          Parameters to obtain initialization parameters           *
                                    3404             =*                                                                   *
                                    3405             =*********************************************************************
0000000                00000 00010  3407             =@PARMDO  RECORD BEGIN
 000000                             3415  1          =@PARILOC   DS    A                       Input location
 000004                             3416  1          =@PARILEN   DS    A                       | length
 000008                             3417  1          =@PAROLOC   DS    A                       Output location
 00000C                             3418  1          =@PAROLEN   DS    A                       | length
 000010                00010 00010  3419             =         END   ,
0000000                00000 00004  3429             =PARMIN   RECORD BEGIN
 000000 00                          3437  1          =PARMTYPE   FLAG  ,
 PARMTYPE.PARMFSTR 00 EQ            3441  1          =           FLAG  (PARMFSTR,0,EQ)         Return a string
 PARMTYPE.PARMFINT 04 EQ            3451  1          =           FLAG  (PARMFINT,4,EQ)         Return an integer
 PARMTYPE.PARMFYN  08 EQ            3461  1          =           FLAG  (PARMFYN,8,EQ)          Return Yea or Nay
 PARMTYPE.PARMFFLT 0C EQ            3471  1          =           FLAG  (PARMFFLT,12,EQ)        Return a floating point
 000001                             3481  1          =           DS    3X                      - Available -
 000004                             3482  1          =PARMKEYS   DS    0A                      Start of 8 byte keys
 000004                00004 00004  3483             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   32
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3493      34.              COPY  UNETPARM
                                    3494             =*****************************************************************
                                    3495             =*                                                               *
                                    3496             =*  UNETPARM - User NET parameters                               *
                                    3497             =*                                                               *
                                    3498             =*****************************************************************
-                                   3500             =*
                                    3501             =*  M1NET  --  Mode 1 NET operation
                                    3502             =*
0000000                00000 00017  3504             =@M1NET   RECORD BEGIN
 000000                             3512  1          =@M1NR01    DS    A             Contents of R1 at SVC time
 000004                             3513  1          =@M1NR14    DS    A             Contents of R14 at SVC time
 000008                             3514  1          =@M1NR15    DS    A             Contents of R15 at SVC time
 00000C                             3515  1          =@M1NRQID   DS    A             Request ID
 000010                             3516  1          =@M1NDVID   DS    A             Device ID
                                    3517  1          =
 000014                             3518  1          =@M1NPKEY   DS    X             PSW key of requestor
                                    3519  1          =
 000015 00                          3520  1          =@M1NTYPE   FLAG  ,             I/O type
 @M1NTYPE.@M1NATCH 04 EQ            3524  1          =           FLAG  (@M1NATCH,4,EQ)   Attach
 @M1NTYPE.@M1NREAD 08 EQ            3534  1          =           FLAG  (@M1NREAD,8,EQ)   Read
 @M1NTYPE.@M1NWRIT 0C EQ            3544  1          =           FLAG  (@M1NWRIT,12,EQ)  Write
 @M1NTYPE.@M1NCNTL 10 EQ            3554  1          =           FLAG  (@M1NCNTL,16,EQ)  Control
 @M1NTYPE.@M1NHALT 14 EQ            3564  1          =           FLAG  (@M1NHALT,20,EQ)  Halt
 @M1NTYPE.@M1NDTCH 18 EQ            3574  1          =           FLAG  (@M1NDTCH,24,EQ)  Detach
                                    3584  1          =
 000016 00                          3585  1          =@M1NFL     FLAG  ,             I/O flags
 @M1NFL.@M1NWAIT   80 ONES          3589  1          =           FLAG  @M1NWAIT          Mode wait
 @M1NFL.@M1NM31    40 ONES          3594  1          =           FLAG  @M1NM31           User in 31 bit mode
 000017                00017 00017  3599             =         END   ,
-                                   3609             =*
                                    3610             =*   M1NIOCP -- This area maps the parm area of the NET
                                    3611             =*              I/O complete exit.
                                    3612             =*
-000000                00000 00010  3614             =@M1NIOCP RECORD BEGIN
 000000                             3622  1          =@M1NICRQ   DS    A             Request ID
                                    3623  1          =
 000004                             3624  1          =@M1NIR01   DS    A             Value of R1 to be returned to user
 000008                             3625  1          =@M1NIR14   DS    A             Value of R14 to be returned to user
 00000C                             3626  1          =@M1NIR15   DS    A             Value of R15 to be returned to user
                                    3627  1          =
                                    3628  1          =@M1NINRV   EQU   X'80'         Value should not be returned
 000010                00010 00010  3629             =         END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   33
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3639      36.              COPY  SCOMPARM
                                    3640             =*****************************************************************
                                    3641             =*                                                               *
                                    3642             =*  SCOMPARM -- I/O parameters for SCOM devices (paths)          *
                                    3643             =*                                                               *
                                    3644             =*****************************************************************
-                                   3646             =*
                                    3647             =* Prefix for every request
                                    3648             =*
0000000                00000 00004  3650             =#SCOMCMD RECORD BEGIN
 000000                             3658  1          =#SCCMD     DS    A             Request code
                                    3659  1          =*
                                    3660  1          =* SCOM I/O command codes
                                    3661  1          =*
                                    3662  1          =#SCCOPEN   EQU   4             Open the path
                                    3663  1          =#SCCCLOS   EQU   8             Close the path
                                    3664  1          =#SCCSEND   EQU   12            Send a buffer
                                    3665  1          =#SCCRECV   EQU   16            Receive a buffer
                                    3666  1          =#SCCPOST   EQU   32            Post partner
                                    3667  1          =#SCCINFO   EQU   36            Get info about the Path
                                    3668  1          =#SCCNOTE   EQU   40            Notify (Wait for post/Return flags)
                                    3669  1          =*
                                    3670  1          =* Ending status
                                    3671  1          =*
                                    3672  1          =#SCESOK    EQU   0             OK (OPEN,CLOS,POST,SEND,RECV,INFO)
                                    3673  1          =#SCESFQ    EQU   12            Full queue (SEND)
                                    3674  1          =#SCESNP    EQU   16            No partner (POST,SEND,RECV,INFO)
                                    3675  1          =#SCESBOM   EQU   20            Buffer over maximum (SEND)
                                    3676  1          =#SCESBS    EQU   24            Input buffer too small (RECV)
                                    3677  1          =#SCESIBP   EQU   28            Invalid buffer pointer (SEND,RECV)
                                    3678  1          =#SCESIAD   EQU   32            Invalid address (SEND,RECV)
 000004                00004 00004  3679             =         END   ,
-                                   3689             =*
                                    3690             =* SCOM Open request format
                                    3691             =*
0000000                00000 00020  3693             =#SCOPEN  RECORD BEGIN
 000000                             3701  1          =           DS    XL(L'#SCOMCMD)
 000004                             3702  1          =#SCOME     DS    CL8           My name
 00000C                             3703  1          =#SCOYOU    DS    CL8           Your name
 000014                             3704  1          =#SCOPASS   DS    CL4           Password
 000018                             3705  1          =#SCOBUFL   DS    A             Max size of outstanding receive buffs
 00001C                             3706  1          =#SCOINFO   DS    A             Pointer to Info Area
 000020                00020 00020  3707             =         END   ,
-                                   3717             =*
                                    3718             =* SCOM Close request format
                                    3719             =*
1NETWORK  (NETW00) (09:42) (22MAR04) Global Control Blocks                                                                  Page   34
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 00004  3721             =#SCCLOSE RECORD BEGIN
 000000                             3729  1          =           DS    XL(L'#SCOMCMD)
 000004                00004 00004  3730             =         END   ,
-                                   3740             =*
                                    3741             =* SCOM Post request format
                                    3742             =*
0000000                00000 00004  3744             =#SCPOST  RECORD BEGIN
 000000                             3752  1          =           DS    XL(L'#SCOMCMD)
 000004                00004 00004  3753             =         END   ,
-                                   3763             =*
                                    3764             =* SCOM Send/Receive request format
                                    3765             =*
0000000                00000 00018  3767             =#SCSR    RECORD BEGIN
 000000                             3775  1          =           DS    XL(L'#SCOMCMD)
 000004                             3776  1          =#SCSRLEN   DS    A             Total length of the buffer
 000008                             3777  1          =#SCSRCT    DS    A             Number of segments
 00000C 00                          3778  1          =#SCSRFLG   FLAG
 #SCSRFLG.#SCRMORE 80 ONES          3782  1          =           FLAG  #SCRMORE      Additional buffers waiting (Receive)
 #SCSRFLG.#SCRNONE 40 ONES          3787  1          =           FLAG  #SCRNONE      No buffers were waiting (Receive)
 000010                             3792  1          =#SCSRRLN   DS    A             Actual length returned (Receive)
 000018                             3793  1          =#SCSRSEG   DS    0D            Start of the segments
 000018                00018 00018  3794             =         END   ,
-                                   3804             =*
                                    3805             =* SCOM Info request format
                                    3806             =*
0000000                00000 00010  3808             =#SCINFO  RECORD BEGIN
 000000                             3816  1          =           DS    XL(L'#SCOMCMD)
 000004                             3817  1          =#SCIPART   DS    CL8           Partner's name (path name)
 00000C                             3818  1          =#SCIASCB   DS    A             Address of the partner's ASCB (MVS virt)
 000010                00010 00010  3819             =         END   ,
-                                   3829             =*
                                    3830             =* SCOM Notify request format
                                    3831             =*
0000000                00000 00004  3833             =#SCNOTE  RECORD BEGIN
 000000                             3841  1          =           DS    XL(L'#SCOMCMD)
 000004                00004 00004  3842             =         END   ,
                                    3851      37.     SCOMPLEN EQU   L'#SCSR+20*8            Room for 20 Segments
1NETWORK  (NETW00) (09:42) (22MAR04) Local Macros                                                                           Page   35
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3853      39.              MACRO
                                    3854      40.     &L       FIX   &LOC,&LEN
                                    3855      41.     &L       PSET  @PAGE
                                    3856      42.              PMOV  @PAGLOC,&LOC,OP=LA
                                    3857      43.              PMOV  @PAGLEN,&LEN,OP=LA
                                    3858      44.              VCALL PAGFIX
                                    3859      45.              MEND
-                                   3861      47.              MACRO
                                    3862      48.     &L       UNFIX &LOC,&LEN
                                    3863      49.     &L       PSET  @PAGE
                                    3864      50.              PMOV  @PAGLOC,&LOC,OP=LA
                                    3865      51.              PMOV  @PAGLEN,&LEN,OP=LA
                                    3866      52.              VCALL PAGUFIX
                                    3867      53.              MEND
-                                   3869      55.              MACRO
                                    3870      56.     &L       ADDSG &LOC,&LEN,&PARM
                                    3871      57.     &L       PSET  @ADDSEG,CLEAR=NO
                                    3872      58.              PMOV  @ADDSLOC,&LOC,OP=LA
                                    3873      59.              PMOV  @ADDSLEN,&LEN,OP=LA
                                    3874      60.              PMOV  @ADDSPA,&PARM,OP=LA
                                    3875      61.              ACALL ADDSEG
                                    3876      62.              MEND  ,
-                                   3878      64.              MACRO
                                    3879      65.     &L       FREENB &BUF
                                    3880      66.     &L       PSET  @FREEBUF
                                    3881      67.              PMOV  @FREBLOC,&BUF,OP=LA
                                    3882      68.              ACALL FREENBUF
                                    3883      69.              MEND  ,
-                                   3885      71.              MACRO
                                    3886      72.     &L       CHECKNB &BUF
                                    3887      73.     &L       PSET  @CHEKBUF
                                    3888      74.              PMOV  @CHKBLOC,&BUF,OP=LA
                                    3889      75.              ACALL CHEKNBUF
                                    3890      76.              MEND  ,
-                                   3892      78.              MACRO
                                    3893      79.     &L       VALBUF &LOC,&LEN,&TYPE
                                    3894      80.     &L       PSET  @VALBUF
                                    3895      81.              PMOV  @VALBLOC,&LOC,OP=L
                                    3896      82.              PMOV  @VALBLEN,&LEN,OP=LH
                                    3897      83.              PMOV  @VALBKEY,SKRKEY,OP=IC
                                    3898      84.              AIF   ('&TYPE' NE 'W').NOWRT
                                    3899      85.              SET   @VALBWRT
                                    3900      86.     .NOWRT   ANOP
                                    3901      87.              ACALL VALBUF
1NETWORK  (NETW00) (09:42) (22MAR04) Local Macros                                                                           Page   36
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3902      88.              MEND
1NETWORK  (NETW00) (09:42) (22MAR04) Local Macros                                                                           Page   37
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3904      90.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    3905      91.     Ÿ                                                                     Ÿ
                                    3906      92.     Ÿ                        Overview of Operation                        Ÿ
                                    3907      93.     Ÿ                                                                     Ÿ
                                    3908      94.     Ÿ This module contains the processing network access in ORVYL.  It    Ÿ
                                    3909      95.     Ÿ allows Orvyl programs to initiate and maintain TCP/IP connections.  Ÿ
                                    3910      96.     Ÿ These connections are made through Amelia, a process that runs underŸ
                                    3911      97.     Ÿ MVS and which opens SCOM (Suzan) paths to connect with clients.     Ÿ
                                    3912      98.     Ÿ                                                                     Ÿ
                                    3913      99.     Ÿ The processing takes place in two places:  the Network address spaceŸ
                                    3914     100.     Ÿ and the user address space.                                         Ÿ
                                    3915     101.     Ÿ                                                                     Ÿ
                                    3916     102.     Ÿ Network Address Space Processing                                    Ÿ
                                    3917     103.     Ÿ                                                                     Ÿ
                                    3918     104.     Ÿ In the network address space there is a single task.  That task     Ÿ
                                    3919     105.     Ÿ opens the path to Amelia and endeavors to keep it open.  While it isŸ
                                    3920     106.     Ÿ open, the task reads all the messages from Amelia.  These messages  Ÿ
                                    3921     107.     Ÿ are read directly into Network Buffer (NBUF) elements which live in Ÿ
                                    3922     108.     Ÿ global storage.                                                     Ÿ
                                    3923     109.     Ÿ                                                                     Ÿ
                                    3924     110.     Ÿ The task then looks into the buffer to determine which socket the   Ÿ
                                    3925     111.     Ÿ buffer should go to.  This determination is possible because Amelia Ÿ
                                    3926     112.     Ÿ puts 'our' id in every communication.  When the connection is set   Ÿ
                                    3927     113.     Ÿ up, the value we set for 'our' id is the address of a control block Ÿ
                                    3928     114.     Ÿ in global storage, the Network Socket Queue Element (NSQE).  These  Ÿ
                                    3929     115.     Ÿ represent the socket on a system wide basis.                        Ÿ
                                    3930     116.     Ÿ                                                                     Ÿ
                                    3931     117.     Ÿ Once the task knows the address of the NSQE, it just adds the bufferŸ
                                    3932     118.     Ÿ onto a list kept there.  If this is the first buffer in the list,   Ÿ
                                    3933     119.     Ÿ then the task sets a system task (SYSR) to wake up a processing taskŸ
                                    3934     120.     Ÿ in the address space which owns the socket.                         Ÿ
                                    3935     121.     Ÿ                                                                     Ÿ
                                    3936     122.     Ÿ The Network address space also monitors the state of the path to    Ÿ
                                    3937     123.     Ÿ Amelia.  When the path closes, all sockets are notified.  Once it isŸ
                                    3938     124.     Ÿ possible, the task opens up a new path.                             Ÿ
                                    3939     125.     Ÿ                                                                     Ÿ
                                    3940     126.     Ÿ The only other action that the network address space takes is in    Ÿ
                                    3941     127.     Ÿ case detecting that a task got a full queue response from SCOM, it  Ÿ
                                    3942     128.     Ÿ wakes up the tasks which have been delayed.                         Ÿ
                                    3943     129.     Ÿ                                                                     Ÿ
                                    3944     130.     Ÿ Caller Address Space Processing                                     Ÿ
                                    3945     131.     Ÿ                                                                     Ÿ
                                    3946     132.     Ÿ                                                                     Ÿ
                                    3947     133.     Ÿ Notes on Interlocking                                               Ÿ
                                    3948     134.     Ÿ                                                                     Ÿ
                                    3949     135.     Ÿ As in all multiprogramming and multiprocessing environments, the    Ÿ
                                    3950     136.     Ÿ locking of critical sections is of great importance.  Here we are   Ÿ
                                    3951     137.     Ÿ concerned that the access to the global areas is interlocked to     Ÿ
                                    3952     138.     Ÿ insure that a consistent view of the data is maintained and so that Ÿ
                                    3953     139.     Ÿ no unexpected failures occur.                                       Ÿ
                                    3954     140.     Ÿ                                                                     Ÿ
                                    3955     141.     Ÿ The first global area protected is that list of NSQE's.  These      Ÿ
                                    3956     142.     Ÿ control blocks form the major avenue of communication between the   Ÿ
                                    3957     143.     Ÿ network address space and the calling address spaces.  Before any   Ÿ
1NETWORK  (NETW00) (09:42) (22MAR04) Local Macros                                                                           Page   38
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3958     144.     Ÿ modification of the list itself or of any data in the list,         Ÿ
                                    3959     145.     Ÿ GNCTLOCK must be held.  The major exception to this is that the     Ÿ
                                    3960     146.     Ÿ NSQENBUF field is updated using CS and the lock may or may not be   Ÿ
                                    3961     147.     Ÿ held for this update.                                               Ÿ
                                    3962     148.     Ÿ                                                                     Ÿ
                                    3963     149.     Ÿ Amelia Notes                                                        Ÿ
                                    3964     150.     Ÿ                                                                     Ÿ
                                    3965     151.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   39
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   3967     153.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    3968     154.     Ÿ                                                                     Ÿ
                                    3969     155.     Ÿ    GNCT  --  Global Network Control Table.  This is the main        Ÿ
                                    3970     156.     Ÿ              network control block for the system.  It is pointed   Ÿ
                                    3971     157.     Ÿ              to by the MAT.                                         Ÿ
                                    3972     158.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 0002A  3974     160.     GNCT     RECORD BEGIN
 000000 C7D5C3E3                    3982  1  161.                DC    C'GNCT'       Control block ID
 000004                             3983  1  162.     GNCTASB    DS    A             Address of the NETWORK driver ASB
 000008                             3984  1  163.     GNCTLOCK   DS    A             Lock ID for GNCT related resources
 00000C                             3985  1  164.     GNCTNETC   DS    A             Address of the NETCB
 000010                             3986  1  165.     GNCTNSQE   DS    A             Chain of NSQE's
 000014                             3987  1  166.     GNCTNPCB   DS    A             Chain of NPCB's
                                    3988  1  167.     *
                                    3989  1  168.     * Network Buffer Information.  These fields are controlled by
                                    3990  1  169.     * CS and not by any lock.
                                    3991  1  170.     *
 000018                             3992  1  171.                DS    0D
 000018                             3993  1  172.     GNCTBFL    DS    A             Free list of the NBUFs
 00001C                             3994  1  173.                DS    A             Control word for the Free list
 000020                             3995  1  174.     GNCTBFC    DS    A             Count of the NBUFs on the free queue
 000024                             3996  1  175.     GNCTBTC    DS    A             Total Count of NBUFs obtained
 000028                             3997  1  176.     GNCTBSIZ   DS    H             Size of Network Buffers
 00002A                0002A 0002A  3998     177.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   40
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4008     179.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4009     180.     Ÿ                                                                     Ÿ
                                    4010     181.     Ÿ  NPCB  --    Network path control block.  This control block        Ÿ
                                    4011     182.     Ÿ              lives in global storage and represents a path          Ÿ
                                    4012     183.     Ÿ              to amelia.  There will normally only be one of these   Ÿ
                                    4013     184.     Ÿ              but if the path to amelia gets closed, a new one is    Ÿ
                                    4014     185.     Ÿ              generated and placed at the head of the list.  NSQE's  Ÿ
                                    4015     186.     Ÿ              point at the NPCB they were attached with.             Ÿ
                                    4016     187.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00011  4018     189.     NPCB     RECORD BEGIN
 000000 D5D7C3C2                    4026  1  190.                DC    C'NPCB'
 000004                             4027  1  191.     NPCBNEXT   DS    A             Address of the next NPCB in the chain
 000008                             4028  1  192.     NPCBPATH   DS    A             ID of the SCOM device
 00000C                             4029  1  193.     NPCBREF    DS    A             Number of NSQE's using this path
 000010 00                          4030  1  194.     NPCBFLGS   FLAG  ,
 NPCBFLGS.NPCBOPEN 80 ONES          4034  1  195.                FLAG  NPCBOPEN      Other side has opened the path
 NPCBFLGS.NPCBCLSD 40 ONES          4039  1  196.                FLAG  NPCBCLSD      Other side closed path
 000011                00011 00011  4044     197.              END   ,
-
                                    4054     199.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4055     200.     Ÿ                                                                     Ÿ
                                    4056     201.     Ÿ  NSQE  --    Network Socket Queue Entry.  This control block lives  Ÿ
                                    4057     202.     Ÿ              in global storage.  Received buffers are queued here   Ÿ
                                    4058     203.     Ÿ              for retrieval by the address space for which they are  Ÿ
                                    4059     204.     Ÿ              destined.  The address of this control block is the    Ÿ
                                    4060     205.     Ÿ              Amelia session identifier.                             Ÿ
                                    4061     206.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00019  4063     208.     NSQE     RECORD BEGIN
 000000 D5E2D8C5                    4071  1  209.                DC    C'NSQE'
 000004                             4072  1  210.     NSQENEXT   DS    A             Next NSQE in GNCT list
 000008                             4073  1  211.     NSQENPCB   DS    A             Address of NPCB for this socket
 00000C                             4074  1  212.     NSQENBUF   DS    A        (CS) Network Buffer queue pointer
 000010                             4075  1  213.     NSQEASB    DS    A             Address of the owning ASB
 000014                             4076  1  214.     NSQESOCK   DS    A             Address of the owning Socket
 000018 00                          4077  1  215.     NSQEFLGS   FLAG  ,
 NSQEFLGS.NSQEFULQ 80 ONES          4081  1  216.                FLAG  NSQEFULQ      FullQ received on SEND
 NSQEFLGS.NSQEFQE  40 ONES          4086  1  217.                FLAG  NSQEFQE       FullQ emptied
 000019                00019 00019  4091     218.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   41
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4101     220.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4102     221.     Ÿ                                                                     Ÿ
                                    4103     222.     Ÿ    NBUF  --  Network I/O Buffer.                                    Ÿ
                                    4104     223.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00010  4106     225.     NBUF     RECORD BEGIN
 000000 D5C2E4C6                    4114  1  226.                DC    C'NBUF'       Control block ID
 000004                             4115  1  227.     NBUFNEXT   DS    A             Next NBUF in the list
 000008                             4116  1  228.     NBUFMAXL   DS    H             Maximum length of the data
 00000A                             4117  1  229.     NBUFLEN    DS    H             Actual length of the data
 000010                             4118  1  230.     NBUFDATA   DS    0D            Start of the data
 000010                00010 00010  4119     231.              END   ,
-
                                    4129     233.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4130     234.     Ÿ                                                                     Ÿ
                                    4131     235.     Ÿ TCPHDR  --   Format of an Amelia Header                             Ÿ
                                    4132     236.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00014  4134     238.     TCPHDR   RECORD BEGIN
 000000                             4142  1  239.     TCPTYPE    DS    CL16          Type Header
 000010                             4143  1  240.     TCPSID     DS    A             Session ID
 000014                             4144  1  241.     TCPDATA    DS    0X            Start of the data
 000014                00014 00014  4145     242.              END
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   42
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4155     244.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4156     245.     Ÿ                                                                     Ÿ
                                    4157     246.     Ÿ   NETCB  --  Network Control Block.  This area contains information Ÿ
                                    4158     247.     Ÿ              about the state of the TCP/IP Network Connection       Ÿ
                                    4159     248.     Ÿ              through AMELIA over the SCOM path interface.           Ÿ
                                    4160     249.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00021  4162     251.     NETCB    RECORD BEGIN
 000000 D5C5E3C3                    4170  1  252.                DC    C'NETC'       Control block ID
 000004                             4171  1  253.     NETCONAM   DS    CL8           Our name to Amelia
 00000C                             4172  1  254.     NETCANAM   DS    CL8           Her name to us
 000014                             4173  1  255.     NETCPASS   DS    CL4           Password for the path
                                    4174  1  256.     *
                                    4175  1  257.     * Path I/O information
                                    4176  1  258.     *
 000018                             4177  1  259.     NETCIOPA   DS    A             I/O parameter area
 00001C                             4178  1  260.     NETCIOCB   DS    A             I/O Control block
                                    4179  1  261.     *
                                    4180  1  262.     * Path status
                                    4181  1  263.     *
 000020 00                          4182  1  264.     NETCFLG    FLAG  ,             Path status flags (same as PATHFL)
 NETCFLG.CLOSED    80 ONES          4186  1  265.                FLAG  CLOSED          The path closed
 NETCFLG.FULLQE    40 ONES          4191  1  266.                FLAG  FULLQE          His full queue emptied
 NETCFLG.NEWINFO   20 ONES          4196  1  267.                FLAG  NEWINFO         New information pending
 NETCFLG.DISCPOST  10 ONES          4201  1  268.                FLAG  DISCPOST        Discretionary post
 NETCFLG.OPENED    08 ONES          4206  1  269.                FLAG  OPENED          The partner opened his end
 000021                00021 00021  4211     270.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   43
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4221     272.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4222     273.     Ÿ                                                                     Ÿ
                                    4223     274.     Ÿ SOCK -- Socket Control block.  This control block lives in          Ÿ
                                    4224     275.     Ÿ         local storage to the address space whose task creates       Ÿ
                                    4225     276.     Ÿ         it.                                                         Ÿ
                                    4226     277.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00120  4228     279.     SOCK     RECORD BEGIN
 000000 E2D6C3D2                    4236  1  280.                DC    C'SOCK'       Control Block ID
 000004                             4237  1  281.     SKNEXT     DS    A             Next Socket in list
 000008                             4238  1  282.     SKIOPA     DS    A             Address of the SCOM I/O parm area
 00000C                             4239  1  283.     SKNSQE     DS    A             Address of NSQE entry for this socket
 000010                             4240  1  284.     SKNBUF     DS    A             Address of unprocessed NBUF's
                                    4241  1  285.     *
                                    4242  1  286.     * Local input buffer information.
                                    4243  1  287.     *
 000014                             4244  1  288.     SKICHAIN   DS    A             Receive buffer chain
 000018                             4245  1  289.     SKICNT     DS    A             Total input bytes buffered
 00001C                             4246  1  290.     SKIFREE    DS    A             LBUF free list
 000020                             4247  1  291.     SKISIZE    DS    H             Size of the receive buffers
 000022                             4248  1  292.     SKILOW     DS    H             Low water mark for hold
 000024                             4249  1  293.     SKIHIGH    DS    H             High water mark for hold
                                    4250  1  294.     *
                                    4251  1  295.     *  Local output buffer information. Used when data needs to be
                                    4252  1  296.     *  translated.
                                    4253  1  297.     *
 000028                             4254  1  298.     SKOBUF     DS    A             Address of the buffer
 00002C                             4255  1  299.     SKOSIZ     DS    A             Size of the buffer
                                    4256  1  300.     *
                                    4257  1  301.     * Information about the Amelia side of the session
                                    4258  1  302.     *
 000030                             4259  1  303.     SKASID     DS    A             Amelia Session ID
 000034                             4260  1  304.     SKPORTS    DS    CL64          Amelia Port information
                                    4261  1  305.     SKAINFO    EQU   SKASID,*-SKASID,C'X'
                                    4262  1  306.     *
                                    4263  1  307.     * Session Control info
                                    4264  1  308.     *
 000078                             4265  1  309.     SKECB      DS    D             Event control block for processing task
 000080 00                          4266  1  310.     SKWFLG     FLAG  ,             Local Task flags
 SKWFLG.IOCOMP     80 ONES          4270  1  311.                FLAG  IOCOMP           The notify request has completed
 SKWFLG.DOHALT     40 ONES          4275  1  312.                FLAG  DOHALT           A halt request has been issued
 SKWFLG.TIMEUP     20 ONES          4280  1  313.                FLAG  TIMEUP           The timer expired
 SKWFLG.TIMEST     10 ONES          4285  1  314.                FLAG  TIMEST           Timer needs to be started
 SKWFLG.TIMERUN    08 ONES          4290  1  315.                FLAG  TIMERUN          A timer is running
 SKWFLG.RERUN      04 ONES          4295  1  316.                FLAG  RERUN            Execute local processing again
 000081 00                          4300  1  317.     SKSFLG     FLAG  ,             Socket Flags
 SKSFLG.SKSTOP     80 ONES          4304  1  318.                FLAG  SKSTOP           Other side requested we stop sending
 SKSFLG.SKHOLD     40 ONES          4309  1  319.                FLAG  SKHOLD           We asked the other side stop sending
 SKSFLG.SKREOF     20 ONES          4314  1  320.                FLAG  SKREOF           We received an EOF from the other side
 SKSFLG.SKSEOF     10 ONES          4319  1  321.                FLAG  SKSEOF           We sent EOF to the other side
 SKSFLG.SKRABORT   08 ONES          4324  1  322.                FLAG  SKRABORT         The receive connection aborted
 000082 00                          4329  1  323.     SKNSTATE   FLAG  ,             Socket state
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   44
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0SKNSTATE.SKSINIT  00 EQ            4333  1  324.                FLAG  (SKSINIT,00,EQ)  Initial State
 SKNSTATE.SKSOSNT  01 EQ            4343  1  325.                FLAG  (SKSOSNT,01,EQ)  Open sent, waiting for info
 SKNSTATE.SKSWCON  02 EQ            4353  1  326.                FLAG  (SKSWCON,02,EQ)  Waiting for connect
 SKNSTATE.SKSDTRN  03 EQ            4363  1  327.                FLAG  (SKSDTRN,03,EQ)  Data transfer
 SKNSTATE.SKSABRT  04 EQ            4373  1  328.                FLAG  (SKSABRT,04,EQ)  User aborting
 SKNSTATE.SKSDONE  05 EQ            4383  1  329.                FLAG  (SKSDONE,05,EQ)  Finished with all operations
 SKNSTATE.SKSWCLS  06 EQ            4393  1  330.                FLAG  (SKSWCLS,06,EQ)  Waiting for Amelia to close
 SKNSTATE.SKSCLSD  07 EQ            4403  1  331.                FLAG  (SKSCLSD,07,EQ)  Completely closed
 000083 00                          4413  1  332.     SKISTATE   FLAG  ,             Mode 1 interface State
 SKISTATE.SKIATCH  80 ONES          4417  1  333.                FLAG  SKIATCH          Successfully Attached
 SKISTATE.SKIWRIT  40 ONES          4422  1  334.                FLAG  SKIWRIT          Write operations allowed
 SKISTATE.SKIREAD  20 ONES          4427  1  335.                FLAG  SKIREAD          Read operations allowed
 SKISTATE.SKIDTCH  10 ONES          4432  1  336.                FLAG  SKIDTCH          Detach completed
                                    4437  1  337.     *
                                    4438  1  338.     * Pre allocated Exit Routine ID's
                                    4439  1  339.     *
 000084                             4440  1  340.     SKATSK     DS    A             Task ID of the Attaching Task
 000088                             4441  1  341.     SKIOXID    DS    A             Exit request ID for I/O complete
 00008C                             4442  1  342.     SKATXID    DS    A             Exit request ID for Attention
 000090                             4443  1  343.     SKTOXID    DS    A             Exit request ID for timeout
                                    4444  1  344.     *
                                    4445  1  345.     * Information about the current request
                                    4446  1  346.     *
 000094                             4447  1  347.     SKCRID     DS    A             Current Request ID
 000098                             4448  1  348.     SKCR01     DS    A             Request Register 1
 00009C                             4449  1  349.     SKCR14     DS    A             Request Register 14
 0000A0                             4450  1  350.     SKCR15     DS    A             Request Register 15
 0000A4 00                          4451  1  351.     SKCTYPE    FLAG  ,                 Same as @M1NTYPE
 SKCTYPE.IDLE      00 EQ            4455  1  352.                FLAG  (IDLE,00,EQ)            No Active I/O on Work Task
 SKCTYPE.SKTATCH   04 EQ            4465  1  353.                FLAG  (SKTATCH,04,EQ)         Attach
 SKCTYPE.SKTREAD   08 EQ            4475  1  354.                FLAG  (SKTREAD,08,EQ)         Read
 SKCTYPE.SKTWRIT   0C EQ            4485  1  355.                FLAG  (SKTWRIT,12,EQ)         Write
 SKCTYPE.SKTCNTL   10 EQ            4495  1  356.                FLAG  (SKTCNTL,16,EQ)         Control
 SKCTYPE.SKTHALT   14 EQ            4505  1  357.                FLAG  (SKTHALT,20,EQ)         Halt
 SKCTYPE.SKTDTCH   18 EQ            4515  1  358.                FLAG  (SKTDTCH,24,EQ)         Detach
 0000A5 00                          4525  1  359.     SKRFLGS    FLAG  ,                 Other Flags
 SKRFLGS.SKMWAIT   80 ONES          4529  1  360.                FLAG  SKMWAIT                 Mode wait
 SKRFLGS.SKTRAN    40 ONES          4534  1  361.                FLAG  SKTRAN                  Translate to/from ASCII
                                    4539  1  362.
 0000A6                             4540  1  363.     SKRKEY     DS    X             Requestors PSW Key
 0000A8                             4541  1  364.     SKBUFLOC   DS    A             Location of Requestors Buffer
 0000AC                             4542  1  365.     SKBUFLEN   DS    A             Length of Requestors Buffer
 0000B0                             4543  1  366.     SKMINLEN   DS    A             Minimum length requested
                                    4544  1  367.
 0000B4                             4545  1  368.     SKRR01     DS    A             Return Register 1
 0000B8                             4546  1  369.     SKRR14     DS    A             Return Register 14
 0000BC                             4547  1  370.     SKRR15     DS    A             Return Register 15
                                    4548  1  371.
 0000C0                             4549  1  372.     SKTOVAL    DS    D             Timeout Value
 0000C8                             4550  1  373.     SKTOID     DS    A             Timer ID
 0000CC                             4551  1  374.     SKEMSGL    DS    A             Length of the last error msg
 0000D0                             4552  1  375.     SKEMSG     DS    CL80          Space for the last error msg
 000120                00120 00120  4553     376.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Network Control Blocks                                                                 Page   45
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4563     378.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4564     379.     Ÿ                                                                     Ÿ
                                    4565     380.     Ÿ LBUF -- Local receive buffer. The received data is stored in a      Ÿ
                                    4566     381.     Ÿ         local buffer pool. These are allocated on an as needed      Ÿ
                                    4567     382.     Ÿ         basis from pageable memory.                                 Ÿ
                                    4568     383.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 0000E  4570     385.     LBUF     RECORD BEGIN
 000000 D3C2E4C6                    4578  1  386.                DC    C'LBUF'
 000004                             4579  1  387.     LBCHAIN    DS    A             Address of the next buffer
 000008                             4580  1  388.     LBDLEN     DS    H             Size of the buffer
 00000A                             4581  1  389.     LBOFF      DS    H             Offset to the first unread byte
 00000C                             4582  1  390.     LBCNT      DS    H             Count of unread data in the buffer
 00000E                             4583  1  391.     LBDATA     DS    0X            Data portion
 00000E                0000E 0000E  4584     392.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Local Routine Parameters                                                               Page   46
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0
0000000                00000 0000A  4595     395.     @ADDSEG  RECORD BEGIN
 000000                             4603  1  396.     @ADDSPA    DS    A             Address of the parameter area
 000004                             4604  1  397.     @ADDSLOC   DS    A             Location of the data to add
 000008                             4605  1  398.     @ADDSLEN   DS    H             Length of the data to add
 00000A                0000A 0000A  4606     399.              END   ,
-000000                00000 00008  4616     401.     @VALBUF  RECORD BEGIN
 000000                             4624  1  402.     @VALBLOC   DS    A             Location of the buffer
 000004                             4625  1  403.     @VALBLEN   DS    H             Length of the buffer
 000006                             4626  1  404.     @VALBKEY   DS    X             Key under which to check buffers
 000007 00                          4627  1  405.     @VALBFL    FLAG  ,
 @VALBFL.@VALBWRT  80 ONES          4631  1  406.                FLAG  @VALBWRT      Need write access to the buffer
 000008                00008 00008  4636     407.              END   ,
-000000                00000 00019  4646     409.     @SENDTCP RECORD BEGIN
 000000                             4654  1  410.     @SNDSOCK   DS    A             Address of the socket
 000004                             4655  1  411.     @SNDHDR    DS    CL(L'TCPHDR)  Amelia TCP Header
 000018 00                          4656  1  412.     @SNDFLGS   FLAG
 @SNDFLGS.@SNDSBUF 80 ONES          4660  1  413.                FLAG  @SNDSBUF      Send the user buffer too
 000019                00019 00019  4665     414.              END   ,
-                                   4675     416.     *
                                    4676     417.     * Work area for processing initialization parameters.
                                    4677     418.     *
 000000                00000 00028  4678     419.     NIPARMS  RECORD BEGIN                  Network Init parms
 000000                             4686  1  420.     NITYPE     DS    XL(L'PARMIN)            Parameter Request Type
 000004                             4687  1  421.     NIKEY1     DS    CL8                     Keyword 1
 00000C                             4688  1  422.     NIKEY2     DS    CL8                     Keyword 2
 000014                             4689  1  423.     NIKEY3     DS    CL8                     Keyword 3
 00001C                             4690  1  424.     NIOUT      DS    CL12                    Output String area
 000028                00028 00028  4691     425.              END   ,
-                                   4701     427.     *
                                    4702     428.     * General Parameter area for passing useful info socket around
                                    4703     429.     *
 000000                00000 00009  4704     430.     @SOCKP   RECORD BEGIN
 000000                             4712  1  431.     @SOCK      DS    A                       Socket Pointer
 000004                             4713  1  432.     @NBUF      DS    A                       Network Buffer pointer
 000008 00                          4714  1  433.     @SOCKF     FLAG  ,
 @SOCKF.@SOCKM31   80 ONES          4718  1  434.                FLAG  @SOCKM31
 000009                00009 00009  4723     435.              END   ,
-                                   4733     437.     *
                                    4734     438.     * Parm area for NPCB Deletion
                                    4735     439.     *
 000000                00000 00004  4736     440.     @DELNPCB RECORD BEGIN
 000000                             4744  1  441.     @NPCB      DS    A             Address of the NPCB to free
1NETWORK  (NETW00) (09:42) (22MAR04) Local Routine Parameters                                                               Page   47
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000004                00004 00004  4745     442.              END   ,
-                                   4755     444.     *
                                    4756     445.     * Network SYSR parm area
                                    4757     446.     *
 000000                00000 00008  4758     447.     NSPARM   RECORD    BEGIN
 000000                             4766  1  448.     NSPSYSR    DS    A             ID of the current SYSR
 000004                             4767  1  449.     NSPNSQE    DS    A             NSQE of the associated socket
 000008                00008 00008  4768     450.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Initialization                                                                         Page   48
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   4778     452.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    4779     453.     Ÿ                                                                     Ÿ
                                    4780     454.     Ÿ NETINIT --   This is entered from global initialization as          Ÿ
                                    4781     455.     Ÿ              a subroutine of the initialization task.  It           Ÿ
                                    4782     456.     Ÿ              allocates the global control blocks and starts         Ÿ
                                    4783     457.     Ÿ              up the network processing address space.               Ÿ
                                    4784     458.     Ÿ                                                                     Ÿ
                                    4785     459.     Ÿ   Input --   none                                                   Ÿ
                                    4786     460.     Ÿ                                                                     Ÿ
                                    4787     461.     Ÿ  Output --   none                                                   Ÿ
                                    4788     462.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000016                             4790     464.     NETINIT  PROC  SCOPE=GLOBAL
 000016 D5C5E3C9D5C9E340            4796             +
 00001E 0000/0000                   4797             +
 000022 900F D004/18AF       00004  4799             +
 USING  NETINIT,R10
 000028 50D0 C000/18CD       00000  4814             +
 00002E 9680 C000      00000        4816             +
 000032 41D0 C048            00048  4817             +
 000036 5880 0200            00200  4818     465.              L     RM,MATPTR               Get the MAT pointer
 USING  MAT,R8                      4819     466.              WITH  (MAT,RM)
                                    4832     467.     *
                                    4833     468.     * First allocate our global control block
                                    4834     469.     *
 USING  @VMGET-72,R13               4835     470.              VMGET L'GNCT,LOC=GLOBHI,FIX=YES
 00003A D70A D048 D048 00000 00000  4859             +
 000040 4100 002A            0002A  4871             +
 000044 5000 D048            00000  4876             +
 000048 D201 D050 AC02 00008 00C24  4877             +
 00004E 58F0 AB5E/0DEF       00B80  4880             +
 000054 1870                        4882     471.              LR    RY,RVR                  Copy the address
 USING  GNCT,R7                     4883     472.              WITH  (GNCT,RY)
 000056                             4896     473.              CLEAR GNCT                    Zero it out
 000056 D729 7000 7000 00000 00000  4902             +
 00005C D203 7000 AB62 00000 00B84  4903     474.              MVC   GNCT(4),=C'GNCT'        Move in the control block ID
 DROP   @VMGET-72,R13               4904     475.              LKCRE GNCTLOCK                Get a lock
 USING  @LOCKCRE-72,R13
 000062 D710 D048 D048 00000 00000  4925             +
 000068 D20F D048 AAFE 00000 00B20  4931             +
 00006E 58F0 AB66/0DEF       00B88  4934             +
 000074 5000 7008            00008  4936     476.              ST    RVR,GNCTLOCK            Save the lock ID
 000078 5070 803C            0003C  4937     477.              ST    RY,MATGNCT              Save the GNCT address
                                    4938     478.     *
                                    4939     479.     * Start up the NETWORK server address space
                                    4940     480.     *
 DROP   @LOCKCRE-72,R13             4941     481.              PSET  @ACREATE
 USING  @ACREATE-72,R13
 00007C D707 D048 D048 00000 00000  4961             +
 000082 D203 D048 AB6A 00000 00B8C  4962     482.              MVC   @ACRPSW(4),=X'070C0000' Default location
 000088 D600 D049 80E0 00001 000E0  4963     483.              OC    @ACRPSW+1(1),MATSKEY    System Key
 00008E D203 D04C AB6E 00004 00B90  4964     484.              MVC   @ACRPSW+4(4),=A(X'80000000'+NETWORKT)
1NETWORK  (NETW00) (09:42) (22MAR04) Initialization                                                                         Page   49
0Current Usings:  (PZERO,R0) (GNCT,R7) (MAT,R8) (NETINIT,R10) (@ACREATE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000094 58F0 AB72/0DEF       00B94  4965     485.              VCALL ACREATE                 Create the address space
 00009A 5000 7004            00004  4969     486.              ST    RVR,GNCTASB             Save the ASB address
 00009E 981F C008            00008  4970     487.              PEND  ,
 DROP   GNCT,R7
 DROP   MAT,R8
 DROP   NETINIT,R10
 0000A2 9680 C000/0B0E 00000        4990             +
 DROP   @ACREATE-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   50
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5000     489.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    5001     490.     Ÿ                                                                     Ÿ
                                    5002     491.     Ÿ NETWORKT --  This is the main task for the NETWORK service          Ÿ
                                    5003     492.     Ÿ              address space.  It initializes the interface to        Ÿ
                                    5004     493.     Ÿ              Amelia, and then just routes data from the path        Ÿ
                                    5005     494.     Ÿ              to the right address spaces for the local              Ÿ
                                    5006     495.     Ÿ              processing routines to manage.                         Ÿ
                                    5007     496.     Ÿ                                                                     Ÿ
                                    5008     497.     Ÿ   Input --   none                                                   Ÿ
                                    5009     498.     Ÿ                                                                     Ÿ
                                    5010     499.     Ÿ  Output --   none                                                   Ÿ
                                    5011     500.     Ÿ                                                                     Ÿ
                                    5012     501.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0000A8                             5014     503.     NETWORKT PROC  SCOPE=LOCAL
 0000A8 D5C5E3E6D6D9D2E3            5021             +
 0000B0 0000/0000                   5022             +
 0000B4 900F D004/18AF       00004  5024             +
 USING  NETWORKT,R10
 0000BA 50D0 C000/18CD       00000  5039             +
 0000C0 9680 C000      00000        5041             +
 0000C4 41D0 C048            00048  5042             +
 0000C8 5880 0200            00200  5043     504.              L     RM,MATPTR               Get the MAT pointer
 0000CC 5880 803C            0003C  5044     505.              WITH  (MAT,RM),'L RM,MATGNCT' Address of the global CB
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     5068     506.              WITH  (GNCT,RM)
                                    5081     507.     *
                                    5082     508.     * Make sure that we get to run and that we are always in core
                                    5083     509.     *
 0000D0 58F0 AAE4/0DEF       00B98  5084     510.              VCALL DISPSHLD                Make us non-swapable
 0000D6 58F0 AAE8/0DEF       00B9C  5088     511.              VCALL ASSYSTSK                Lock our priority very high
                                    5092     512.     *
                                    5093     513.     * Allocate our Local Network Control block
                                    5094     514.     *
 USING  @VMGET-72,R13               5095     515.              VMGET L'NETCB,LOC=LOCSYS,FIX=YES
 0000DC D70A D048 D048 00000 00000  5119             +
 0000E2 4100 0021            00021  5131             +
 0000E6 5000 D048            00000  5136             +
 0000EA D201 D050 AB72 00008 00C26  5137             +
 0000F0 58F0 AACC/0DEF       00B80  5140             +
 0000F6 1890                        5142     516.              LR    RN,RVR
 USING  NETCB,R9                    5143     517.              WITH  (NETCB,RN)
 0000F8                             5156     518.              CLEAR NETCB                   Clear it out
 0000F8 D720 9000 9000 00000 00000  5162             +
 0000FE D203 9000 AAEC 00000 00BA0  5163     519.              MVC   NETCB(4),=C'NETC'       Control block id
 000104 5090 800C            0000C  5164     520.              ST    RN,GNCTNETC             Save its address
                                    5165     521.     *
                                    5166     522.     * Fill in default info
                                    5167     523.     *
 000108 5810 0200            00200  5168     524.              L     RS,PZMATP               Get the MAT address
 USING  MAT,R1                      5169     525.              WITH  (MAT,RS),BEGIN
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   51
0Current Usings:  (PZERO,R0) (MAT,R1) (GNCT,R8) (NETCB,R9) (NETWORKT,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000010C D207 9004 10D4 00004 000D4  5183  1  526.                MVC   NETCONAM,MATSNAME       Our name
 DROP   MAT,R1                      5184     527.              END   ,
 000112 D207 900C AA7C 0000C 00B30  5192     528.              MVC   NETCANAM,=CL8'AMELIA'
 000118 D203 9014 AAF0 00014 00BA4  5193     529.              MVC   NETCPASS,=CL4'PROD'
 00011E D201 8028 AB74 00028 00C28  5194     530.              MVC   GNCTBSIZ,=Y(2048)
                                    5195     531.     *
                                    5196     532.     * Check for specified parameters
                                    5197     533.     *
 000124                             5198     534.              VMGET L'NIPARMS,LOC=LOCSYS
 000124 D70A D048 D048 00000 00000  5215             +
 00012A 4100 0028            00028  5227             +
 00012E 5000 D048            00000  5232             +
 000132 D201 D050 AB76 00008 00C2A  5233             +
 000138 58F0 AACC/0DEF       00B80  5236             +
 00013E 1860                        5238     535.              LR    RX,RVR
 USING  NIPARMS,R6                  5239     536.              WITH  (NIPARMS,RX),BEGIN
 AUSING (PARMIN,NITYPE)             5253  1  537.                WITH  (PARMIN,NITYPE)
 000140                             5260  1  538.                CLEAR NIPARMS
 000140 D727 6000 6000 00000 00000  5266  1          +
                                    5267  1  539.     *
                                    5268  1  540.     *  See if they are telling us amelia's name
                                    5269  1  541.     *
                                    5270  1  542.   C            GETPARM2 NIOUT,L'NETCANAM,KEY=(NETWORK,AMELIA),
 000146 9200 6000      00000              1  543.                      TYPE=STRING,REGS=(RA,RJ)
 00014A D207 6004 AA84 00004 00B38  5277  1          +
 000150 D207 600C AA7C 0000C 00B30  5278  1          +
 000156 4120 601C            0001C  5285  1          +
 00015A 4130 0008            00008  5292  1          +
 00015E 4140 6000            00000  5299  1          +
 000162 4150 0014            00014  5306  1          +
 000166 83240016                    5309  1          +
 00016A 4770 A0D2            00186  5310  1  544.                IF    ZERO,BEGIN
 00016E D207 900C AA8C 0000C 00B40  5321  2  545.                  MVC   NETCANAM,=CL8' '
 000174 5930 AAF4            00BA8  5322  2  546.                  CEIL  RB,L'NETCANAM
 000178 47D0 A0CC            00180  5331  2          +
 00017C 5830 AAF4            00BA8  5336  2          +
 000180 0630/4430 ABAA       00C5E  5341  2  547.                  DEX   RB,'MVC NETCANAM(0),@RA' Move the data
 000C5D 00                                3          +
 000C5E D200 900C 2000 0000C 00000  5352  2          +
 000186                             5360  1  548.                END   ,
                                    5364  1  549.     *
                                    5365  1  550.     *  Are they telling us the password
                                    5366  1  551.     *
                                    5367  1  552.   C            GETPARM2 NIOUT,L'NETCPASS,KEY=(,PASSWORD),
 000186 9200 6000      00000              1  553.                      TYPE=STRING,REGS=(RA,RJ)
 00018A D207 600C AA94 0000C 00B48  5374  1          +
 000190 4120 601C            0001C  5381  1          +
 000194 4130 0004            00004  5388  1          +
 000198 4140 6000            00000  5395  1          +
 00019C 4150 0014            00014  5402  1          +
 0001A0 83240016                    5405  1          +
 0001A4 4770 A10C            001C0  5406  1  554.                IF    ZERO,BEGIN
 0001A8 D203 9014 AAF8 00014 00BAC  5417  2  555.                  MVC   NETCPASS,=CL4' '
 0001AE 5930 AAFC            00BB0  5418  2  556.                  CEIL  RB,4
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   52
0Current Usings:  (PZERO,R0) (NIPARMS,R6) (GNCT,R8) (NETCB,R9) (NETWORKT,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00001B2 47D0 A106            001BA  5427  2          +
 0001B6 5830 AAFC            00BB0  5432  2          +
 0001BA 0630/4430 ABB0       00C64  5437  2  557.                  DEX   RB,'MVC NETCPASS(0),@RA' Move the data
 000C64 D200 9014 2000 00014 00000  5448  2          +
 0001C0                             5456  1  558.                END   ,
                                    5460  1  559.     *
                                    5461  1  560.     *  Are they telling us the Buffer size
                                    5462  1  561.     *
 0001C0 9204 6000      00000        5463  1  562.                GETPARM2 KEY=(,SIZE),TYPE=INT,REGS=(RA,RJ)
 0001C4 D207 600C AA9C 0000C 00B50  5470  1          +
 0001CA 4140 6000            00000  5477  1          +
 0001CE 4150 0014            00014  5484  1          +
 0001D2 83240016                    5487  1          +
 0001D6 4770 A136            001EA  5488  1  563.                IF    ZERO,BEGIN
 0001DA 4920 8028            00028  5499  2  564.                  CEIL  RA,GNCTBSIZ
 0001DE 47D0 A132            001E6  5503  2          +
 0001E2 4820 8028            00028  5504  2          +
 0001E6 4020 8028            00028  5505  2  565.                  STH   RA,GNCTBSIZ
 0001EA                             5506  1  566.                END   ,
                                    5510  1  567.     *
                                    5511  1  568.     * Free parameter work area
                                    5512  1  569.     *
 DROP   @VMGET-72,R13               5513  1  570.                VMFREE L'NIPARMS,A=LA:NIPARMS,LOC=LOCSYS
 USING  @VMFREE-72,R13
 0001EA D709 D048 D048 00000 00000  5540  1          +
 0001F0 4100 0028            00028  5552  1          +
 0001F4 5000 D04C            00004  5557  1          +
 0001F8 5060 D048            00000  5568  1          +
 0001FC D201 D050 AB76 00008 00C2A  5569  1          +
 000202 58F0 AB00/0DEF       00BB4  5572  1          +
 DROP   NIPARMS,R6                  5574     571.              END   ,
                                    5582     572.     *
                                    5583     573.     * Allocate our I/O control blocks
                                    5584     574.     *
 000208 9200 D048      00000        5585     575.              PSET  @IOSIDGET
 DROP   @VMFREE-72,R13
 USING  @IOSIDGET-72,R13
 00020C 9680 D048      00000        5606     576.              SET   @IOSFWAIT               We can wait for it
 000210 58F0 AB04/0DEF       00BB8  5612     577.              VCALL IOSIDGET
 000216 5000 901C            0001C  5616     578.              ST    RVR,NETCIOCB            Save the I/O ID
                                    5617     579.
 DROP   @IOSIDGET-72,R13            5618     580.              VMGET SCOMPLEN,LOC=LOCSYS,FIX=YES,ONEPAGE=YES
 USING  @VMGET-72,R13
 00021A D70A D048 D048 00000 00000  5645             +
 000220 4100 00B8            000B8  5657             +
 000224 5000 D048            00000  5662             +
 000228 D201 D050 AB72 00008 00C26  5663             +
 00022E 9640 D052      0000A        5669             +
 000232 58F0 AACC/0DEF       00B80  5672             +
 000238 5000 9018            00018  5674     581.              ST    RVR,NETCIOPA            Save the parm area address
                                    5675     582.     *
                                    5676     583.     * Open the path
                                    5677     584.     *
 00023C 41F0 A1F2/0DEF       002A6  5678     585.              LCALL NETOPEN
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   53
0Current Usings:  (PZERO,R0) (GNCT,R8) (NETCB,R9) (NETWORKT,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5688     587.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    5689     588.     Ÿ                                                                     Ÿ
                                    5690     589.     Ÿ          N E T W O R K   M A I N   L O O P                          Ÿ
                                    5691     590.     Ÿ                                                                     Ÿ
                                    5692     591.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000242                             5693     592.              LOOP  BEGIN                   Loop forever
 000242 41F0 A688/0DEF       0073C  5699  1  593.                LCALL NETNOTFY                Find out what is happening
 000248 9120 9020      00020        5708  1  594.                IF    NEWINFO,'LCALL NETREAD' Read any new information
 00024C 47E0 A1A2            00256  5718  1          +
 000250 41F0 A3C6/0DEF       0047A  5731  1          +
 000256 9140 9020      00020        5737  1  595.                IF    FULLQE,'LCALL NETFQE'   Tell folks we're ok now
 00025A 47E0 A1B0            00264  5747  1          +
 00025E 41F0 A60E/0DEF       006C2  5760  1          +
 000264 9108 9020      00020        5766  1  596.                IF    OPENED,BEGIN            Mark the NPCB opened
 000268 47E0 A1C4            00278  5776  1          +
 00026C 94F7 9020      00020        5781  2  597.                  CLEAR OPENED                  Clear the flag
 000270 5820 8014            00014  5788  2  598.                  L     RA,GNCTNPCB             Get our NPCB address
 000274 9680 2010      00010        5789  2  599.                  WITH  (NPCB,RA),'SET NPCBOPEN'
 USING  NPCB,R2
 DROP   NPCB,R2
 000278                             5818  1  600.                END   ,
 000278 9180 9020      00020        5822  1  601.                IF    CLOSED,BEGIN
 00027C 47E0 A1D8            0028C  5832  1          +
 000280 41F0 A338/0DEF       003EC  5837  2  602.                  LCALL NETCLOSE                Handle the fact that he closed
 000286 41F0 A1F2/0DEF       002A6  5846  2  603.                  LCALL NETOPEN                 Open it up again
 00028C                             5855  1  604.                END   ,
 00028C 47F0 A18E            00242  5859     605.              END   ,
 000290 981F C008            00008  5864     606.              PEND  ,
 DROP   NETCB,R9
 DROP   GNCT,R8
 DROP   NETWORKT,R10
 000294 9680 C000/0B0E 00000        5884             +
 DROP   @VMGET-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   54
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   5894     608.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    5895     609.     Ÿ                                                                     Ÿ
                                    5896     610.     Ÿ NETOPEN  --  This routine opens up the path to Amelia               Ÿ
                                    5897     611.     Ÿ                                                                     Ÿ
                                    5898     612.     Ÿ   Input  --  none                                                   Ÿ
                                    5899     613.     Ÿ                                                                     Ÿ
                                    5900     614.     Ÿ  Output  --  none                                                   Ÿ
                                    5901     615.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00029A                             5903     617.     NETOPEN  PROC  SCOPE=LOCAL
 00029A D5C5E3D6D7C5D540            5910             +
 0002A2 0000/0000                   5911             +
 0002A6 900F D004/18AF       00004  5913             +
 USING  NETOPEN,R10
 0002AC 50D0 C000/18CD       00000  5928             +
 0002B2 9680 C000      00000        5930             +
 0002B6 41D0 C048            00048  5931             +
 0002BA 5880 0200            00200  5932     618.              L     RM,PZMATP               Get the MAT Address
 0002BE 5880 803C            0003C  5933     619.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT Address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     5957     620.              WITH  (GNCT,RM)
 0002C2 5890 800C            0000C  5970     621.              L     RN,GNCTNETC             Get the NETCB Address
 USING  NETCB,R9                    5971     622.              WITH  (NETCB,RN)
                                    5984     623.     *
                                    5985     624.     * Allocate an NPCB
                                    5986     625.     *
 USING  @VMGET-72,R13               5987     626.              VMGET L'NPCB,LOC=GLOBHI       Get the memory
 0002C6 D70A D048 D048 00000 00000  6011             +
 0002CC 4100 0011            00011  6023             +
 0002D0 5000 D048            00000  6028             +
 0002D4 D201 D050 A986 00008 00C2C  6029             +
 0002DA 58F0 A8DA/0DEF       00B80  6032             +
 0002E0 1200/4770 A070       00316  6034     627.              IF    (RVR,Z),'ABORT NONOMEM' This is very unlikely
 0002E6 AC04 021B      0021B        6052  1          +
 0002EA 9680 021A      0021A        6058  1          +
 0002EE 50F0 021C            0021C  6059  1          +
 0002F2 58F0 0210            00210  6060  1          +
 0002F6 89F0 0010            00010  6061  1          +
 0002FA 88F0 0010            00010  6062  1          +
 0002FE 41F0 F000            00000  6063  1          +
 000302 AEFF 0006            00006  6064  1          +
 000306 D5D6D5D6D4C5D440            6065             +
 000316 1870                        6070     628.              LR    RY,RVR                  Copy it
 USING  NPCB,R7                     6071     629.              WITH  (NPCB,RY)
 000318                             6084     630.              CLEAR NPCB
 000318 D710 7000 7000 00000 00000  6090             +
 00031E D203 7000 A916 00000 00BBC  6091     631.              MVC   NPCB(4),=C'NPCB'        Set the ID
                                    6092     632.     *
                                    6093     633.     * Allocate a path device
                                    6094     634.     *
 000324 4110 0010            00010  6095     635.              LA    RS,#IOUSCOM             SCOM device
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   55
0Current Usings:  (PZERO,R0) (NPCB,R7) (GNCT,R8) (NETCB,R9) (NETOPEN,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000328 83100007                    6096     636.              SYSCTL RS,TYPE=ALLOC          Do the device allocation
 00032C 5010 7008            00008  6099     637.              ST    RS,NPCBPATH             Save it as the path ID
                                    6100     638.     *
                                    6101     639.     * Open the path to Amelia
                                    6102     640.     *
 000330 5860 9018            00018  6103     641.              L     RX,NETCIOPA             Get an IO parm area
 USING  #SCOPEN,R6                  6104     642.              WITH  (#SCOPEN,RX)
 000334                             6117     643.              CLEAR #SCOPEN
 000334 D71F 6000 6000 00000 00000  6123             +
 AUSING (#SCOMCMD,#SCOPEN)          6124     644.              WITH  (#SCOMCMD,#SCOPEN),'MVC #SCCMD,=A(#SCCOPEN)'
 00033A D203 6000 A91A 00000 00BC0  6135             +
 000340 D207 6004 9004 00004 00004  6139     645.              MVC   #SCOME,NETCONAM         Move in our name
 000346 D207 600C 900C 0000C 0000C  6140     646.              MVC   #SCOYOU,NETCANAM        And Amelia's name
 00034C D203 6014 9014 00014 00014  6141     647.              MVC   #SCOPASS,NETCPASS       And the password
 000352 D203 6018 A91E 00018 00BC4  6142     648.              MVC   #SCOBUFL,=A(64*1024)    64k outstanding at one time
                                    6143     649.     *
                                    6144     650.     * Go ahead and do the I/O
                                    6145     651.     *
 DROP   @VMGET-72,R13               6146     652.              PSET  @IOSDOIO                Setup for the Call
 USING  @IOSDOIO-72,R13
 000358 D71D D048 D048 00000 00000  6166             +
 00035E D207 D050 0208 00008 00208  6167     653.              MVC   @IOSPID,PZCURPID
 000364 5060 D058            00010  6168     654.              PMOV  @IOSCP,LA:#SCOPEN       Channel program
 000368                             6179     655.              PMOV  @IOSCHID,NPCBPATH       Device ID of the path
 000368 D203 D048 7008 00000 00008  6183             +
 00036E                             6184     656.              PMOV  @IOSID,NETCIOCB         I/O control block
 00036E D203 D04C 901C 00004 0001C  6188             +
 000374 9680 D065      0001D        6189     657.              SET   @IOSFSYNC               Synchronous I/O
 000378 58F0 A922/0DEF       00BC8  6195     658.              VCALL IOSDOIO                 Do the OPEN
 00037E 1200/4780 A10E       003B4  6199     659.              IF    (RVR,NZ),'ABORT NETOPEN'
 000384 AC04 021B      0021B        6217  1          +
 000388 9680 021A      0021A        6223  1          +
 00038C 50F0 021C            0021C  6224  1          +
 000390 58F0 0210            00210  6225  1          +
 000394 89F0 0010            00010  6226  1          +
 000398 88F0 0010            00010  6227  1          +
 00039C 41F0 F000            00000  6228  1          +
 0003A0 AEFF 0006            00006  6229  1          +
 0003A4 D5C5E3D6D7C5D540            6230             +
                                    6235     660.     *
                                    6236     661.     * Queue the NPCB up on the GNCT
                                    6237     662.     *
 DROP   @IOSDOIO-72,R13             6238     663.              LKOB  GNCTLOCK                Get the lock
 USING  @LOCKS-72,R13
 0003B4 D203 D048 8008 00000 00008  6257             +
 0003BA 58F0 A926/0DEF       00BCC  6260             +
 0003C0 D203 7004 8014 00004 00014  6262     664.              MVC   NPCBNEXT,GNCTNPCB       Chain it up
 0003C6 5070 8014            00014  6263     665.              ST    RY,GNCTNPCB             Update the list
 0003CA                             6264     666.              LKREL GNCTLOCK                Free up the lock
 0003CA D203 D048 8008 00000 00008  6273             +
 0003D0 58F0 A92A/0DEF       00BD0  6276             +
 0003D6 981F C008            00008  6278     667.              PEND  ,
 DROP   #SCOPEN,R6
 DROP   NPCB,R7
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   56
0Current Usings:  (PZERO,R0) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   NETCB,R9
 DROP   GNCT,R8
 DROP   NETOPEN,R10
 0003DA 9680 C000/0B0E 00000        6308             +
 DROP   @LOCKS-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   57
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6318     669.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    6319     670.     Ÿ                                                                     Ÿ
                                    6320     671.     Ÿ NETCLOSE --  When Amelia closed the path, it leaves us hanging.     Ÿ
                                    6321     672.     Ÿ              So we mark the NPCB that the socket has closed         Ÿ
                                    6322     673.     Ÿ              and wake up everyone who is affected by it.            Ÿ
                                    6323     674.     Ÿ                                                                     Ÿ
                                    6324     675.     Ÿ    Input --  none                                                   Ÿ
                                    6325     676.     Ÿ                                                                     Ÿ
                                    6326     677.     Ÿ   Output --  none                                                   Ÿ
                                    6327     678.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0003E0                             6329     680.     NETCLOSE PROC  SCOPE=LOCAL
 0003E0 D5C5E3C3D3D6E2C5            6336             +
 0003E8 0000/0000                   6337             +
 0003EC 900F D004/18AF       00004  6339             +
 USING  NETCLOSE,R10
 0003F2 50D0 C000/18CD       00000  6354             +
 0003F8 9680 C000      00000        6356             +
 0003FC 41D0 C048            00048  6357             +
 000400 5880 0200            00200  6358     681.              L     RM,PZMATP               Get the MAT Address
 000404 5880 803C            0003C  6359     682.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT Address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     6383     683.              WITH  (GNCT,RM)
 000408 5890 800C            0000C  6396     684.              L     RN,GNCTNETC             Get the NETCB Address
 USING  NETCB,R9                    6397     685.              WITH  (NETCB,RN)
 00040C 83000012/8007               6410     686.              ORVSNAP 'NETGONE',MODE=LOG    Tell all our misfortune
 000412 4100 A842            00C2E  6415             +
 000416 9989 A880            00C6C  6416     687.              XTRC  RM,RN,PATHCLS           Trace it for posterity
 000C6A 0000/00000C6C                     1          +
 000C70 000006A4/0809               6425  1          +
 000C76 D7C1E3C8C3D3E240            6427             +
                                    6434     688.              ¿þþþþþþþþþþþþþþþþþÜ
                                    6435     689.              Ÿ  Mark the NPCB  Ÿ
                                    6436     690.              ¾þþþþþþþþþþþþþþþþþ»
 USING  @LOCKS-72,R13               6437     691.              LKOB  GNCTLOCK                     Lock up the GNCT
 00041A D203 D048 8008 00000 00008  6453             +
 000420 58F0 A7E0/0DEF       00BCC  6456             +
 000426 5870 8014            00014  6458     692.              L     RY,GNCTNPCB                  Get the address
 00042A 9640 7010      00010        6459     693.              WITH  (NPCB,RY),'SET NPCBCLSD'     Mark it closed
 USING  NPCB,R7
 DROP   NPCB,R7
                                    6488     694.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    6489     695.              Ÿ  Run through the NSQE's and wake everyone up  Ÿ
                                    6490     696.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 00042E 5810 8010            00010  6491     697.              L     RS,GNCTNSQE             Get first one
 000432 1211/4780 A05A       00446  6492     698.              WHILE (RS,NZ),BEGIN
 USING  NSQE,R1                     6508  1  699.                WITH  (NSQE,RS)
 000438 41F0 A3BE/0DEF       007AA  6521  1  700.                LCALL NETWAKE                 Wake 'em up
 00043E 5810 1004            00004  6530  1  701.                L     RS,NSQENEXT             Go to the next one
 000442 47F0 A046            00432  6531     702.              END   ,
 DROP   NSQE,R1
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   58
0Current Usings:  (PZERO,R0) (GNCT,R8) (NETCB,R9) (NETCLOSE,R10) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000446                             6541     703.              LKREL GNCTLOCK                Release the lock
 000446 D203 D048 8008 00000 00008  6550             +
 00044C 58F0 A7E4/0DEF       00BD0  6553             +
 DROP   @LOCKS-72,R13               6555     704.              PSET  @DELNPCB
 USING  @DELNPCB-72,R13
 000452 D703 D048 D048 00000 00000  6575             +
 000458                             6576     705.              PMOV  @NPCB,GNCTNPCB          Set up the address
 000458 D203 D048 8014 00000 00014  6580             +
 00045E 41F0 A4E8/0DEF       008D4  6581     706.              LCALL DELNPCB                 Try to delete it
 000464 981F C008            00008  6590     707.              PEND  ,
 DROP   NETCB,R9
 DROP   GNCT,R8
 DROP   NETCLOSE,R10
 000468 9680 C000/0B0E 00000        6610             +
 DROP   @DELNPCB-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   59
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   6620     709.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    6621     710.     Ÿ                                                                     Ÿ
                                    6622     711.     Ÿ  NETREAD --  This routine reads all it can from the path and        Ÿ
                                    6623     712.     Ÿ              queues the result off the NSQE's                       Ÿ
                                    6624     713.     Ÿ                                                                     Ÿ
                                    6625     714.     Ÿ    Input --  none                                                   Ÿ
                                    6626     715.     Ÿ                                                                     Ÿ
                                    6627     716.     Ÿ   Output --  none                                                   Ÿ
                                    6628     717.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00046E                             6630     719.     NETREAD  PROC  SCOPE=LOCAL
 00046E D5C5E3D9C5C1C440            6637             +
 000476 0000/0000                   6638             +
 00047A 900F D004/18AF       00004  6640             +
 USING  NETREAD,R10
 000480 50D0 C000/18CD       00000  6655             +
 000486 9680 C000      00000        6657             +
 00048A 41D0 C048            00048  6658             +
 00048E 5880 0200            00200  6659     720.              L     RM,PZMATP               Get the MAT Address
 000492 5880 803C            0003C  6660     721.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT Address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     6684     722.              WITH  (GNCT,RM)
 000496 5890 800C            0000C  6697     723.              L     RN,GNCTNETC             Get the NETCB Address
 USING  NETCB,R9                    6698     724.              WITH  (NETCB,RN)
 00049A 94DF 9020      00020        6711     725.              CLEAR NEWINFO                 Been here, done this
                                    6718     726.     *
                                    6719     727.     * Loop through, receiving buffers and handling each, until there
                                    6720     728.     * are no more to do.
                                    6721     729.     *
 00049E                             6722     730.     RCVLOOP  LOOP  BEGIN                   Loop until we're done
                                    6729  1  731.     *
                                    6730  1  732.     * Get an I/O buffer
                                    6731  1  733.     *
 00049E 58F0 A75A/0DEF       00BD4  6732  1  734.                ACALL GETNBUF                 Get an I/O buffer
 0004A4 1870                        6739  1  735.                LR    RY,RVR                  Pointer to the buffer
 USING  NBUF,R7                     6740  1  736.                WITH  (NBUF,RY)
 USING  @PAGE-72,R13                6753  1  737.                FIX   NBUFDATA,LH:NBUFMAXL    Fix the data area
 0004A6 D708 D048 D048 00000 00000  6771  1          +
 0004AC 4100 7010            00010  6783  1          +
 0004B0 5000 D048            00000  6788  1          +
 0004B4 D201 D04E 7008 00006 00008  6793  1          +
 0004BA 58F0 A75E/0DEF       00BD8  6796  1          +
                                    6798  1  738.     *
                                    6799  1  739.     * Set up the Read parameter area (already fixed)
                                    6800  1  740.     *
 0004C0 5860 9018            00018  6801  1  741.                L     RX,NETCIOPA             Get the parm area
 USING  #SCSR,R6                    6802  1  742.                WITH  (#SCSR,RX)
 0004C4                             6815  1  743.                CLEAR #SCSR                   Clear it out first
 0004C4 D717 6000 6000 00000 00000  6821  1          +
 AUSING (#SCOMCMD,#SCSR)            6822  1  744.                WITH  (#SCOMCMD,#SCSR),'MVC #SCCMD,=A(#SCCRECV)'
 0004CA D203 6000 A762 00000 00BDC  6833  1          +
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   60
0Current Usings:  (PZERO,R0) (#SCSR,R6) (NBUF,R7) (GNCT,R8) (NETCB,R9) (NETREAD,R10) (@ADDSEG-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00004D0 4100 7010            00010  6837  1  745.                ADDSG NBUFDATA,LH:NBUFMAXL,#SCSR  Add the data description
 DROP   @PAGE-72,R13
 USING  @ADDSEG-72,R13
 0004D4 5000 D04C            00004  6868  1          +
 0004D8 D201 D050 7008 00008 00008  6873  1          +
 0004DE 5060 D048            00000  6884  1          +
 0004E2 58F0 A766/0DEF       00BE0  6890  1          +
                                    6892  1  746.     *
                                    6893  1  747.     * The parm area is filled in, do the I/O
                                    6894  1  748.     *
 DROP   @ADDSEG-72,R13              6895  1  749.                PSET  @IOSDOIO
 USING  @IOSDOIO-72,R13
 0004E8 D71D D048 D048 00000 00000  6915  1          +
 0004EE D207 D050 0208 00008 00208  6916  1  750.                MVC   @IOSPID,PZCURPID
 0004F4 5810 8014            00014  6917  1  751.                L     RS,GNCTNPCB
 USING  NPCB,R1                     6918  1  752.                WITH  (NPCB,RS),'MVC @IOSCHID,NPCBPATH' Device ID
 0004F8 D203 D048 1008 00000 00008  6933  1          +
 DROP   NPCB,R1
 0004FE D203 D04C 901C 00004 0001C  6942  1  753.                MVC   @IOSID,NETCIOCB                   Request ID
 000504 5060 D058            00010  6943  1  754.                ST    RX,@IOSCP                         Channel program
 000508 9680 D065      0001D        6944  1  755.                SET   @IOSFSYNC                         Synchronous style
 00050C 5810 0200            00200  6950  1  756.                L     RS,PZMATP
 USING  MAT,R1                      6951  1  757.                WITH  (MAT,RS),'MVC @IOSKEY,MATSKEY'    Read in system key
 000510 D200 D064 10E0 0001C 000E0  6966  1          +
 DROP   MAT,R1
 000516 58F0 A74E/0DEF       00BC8  6975  1  758.                VCALL IOSDOIO                           Do the I/O
                                    6979  1  759.     *
                                    6980  1  760.     * Check the ending status
                                    6981  1  761.     *
 00051C 1820                        6982  1  762.                LR    RA,RVR                  Copy the ending status
 DROP   @IOSDOIO-72,R13             6983  1  763.                UNFIX NBUFDATA,LH:NBUFMAXL    Unfix the data area
 USING  @PAGE-72,R13
 00051E D708 D048 D048 00000 00000  7004  1          +
 000524 4100 7010            00010  7016  1          +
 000528 5000 D048            00000  7021  1          +
 00052C D201 D04E 7008 00006 00008  7026  1          +
 000532 58F0 A76A/0DEF       00BE4  7029  1          +
 000538 5920 A76E            00BE8  7031  1  764.                IF    (RA,EQ,#SCESOK),BEGIN   Everything is cool
 00053C 4770 A196            00610  7043  1          +
 000540 5810 6010            00010  7048  2  765.                  L     RS,#SCSRRLN             Get the length retrieved
 000544 1211/4770 A0E4       0055E  7049  2  766.                  IF    (RS,Z),BEGIN            Zero length, means no buffer
 DROP   @PAGE-72,R13                7063  3  767.                    FREENB NBUF                   Free the buffer
 USING  @FREEBUF-72,R13
 00054A D703 D048 D048 00000 00000  7084  3          +
 000550 5070 D048            00000  7095  3          +
 000554 58F0 A772/0DEF       00BEC  7101  3          +
 00055A 47F0 A232            006AC  7103  3  768.                    EXIT  NETREAD                 All done
 00055E                             7106  2  769.                  END   ,
 00055E 4010 700A            0000A  7110  2  770.                  STH   RS,NBUFLEN              Save length in the NBUF
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   61
0Current Usings:  (PZERO,R0) (#SCSR,R6) (NBUF,R7) (GNCT,R8) (NETCB,R9) (NETREAD,R10) (@FREEBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7111  2  771.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7112  2  772.                  Ÿ  We have to check for an Error message from amelia...  Ÿ
                                    7113  2  773.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 AUSING (TCPHDR,NBUFDATA)           7114  2  774.                  WITH  (TCPHDR,NBUFDATA),BEGIN
 000562                             7124  3  775.                    IF    (TCPTYPE,EQ,=CL16'ERROR_PREV_REQ:'),BEGIN
 000562 D50F A6DE 7010 00B58 00000  7135  3          +
 000568 4770 A11A            00594  7136  3          +
 00056C 83000012/8018               7141  4  776.                      ORVSNAP   'Error reported by Amelia',MODE=LOG
 000572 4100 A6EE            00B68  7146  4          +
 000576 83000012                    7147  4  777.                      ORVSNAP   NBUFDATA,80,MODE=LOG
 00057A 105000007010                7151  4          +
 000580                             7152  4  778.                      FREENB NBUF
 000580 D703 D048 D048 00000 00000  7163  4          +
 000586 5070 D048            00000  7174  4          +
 00058A 58F0 A772/0DEF       00BEC  7180  4          +
 000590 47F0 A024            0049E  7182  4  779.                      NEXT  RCVLOOP                           Trash it
 000594                             7185  3  780.                    END   ,
                                    7189  2  781.                  END   ,
                                    7192  2  782.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7193  2  783.                  Ÿ  We have the buffer now.  We have to queue it to the    Ÿ
                                    7194  2  784.                  Ÿ  NSQE.  During this time, we hold the GNCTLOCK to make  Ÿ
                                    7195  2  785.                  Ÿ  sure the NSQE doesn't go away.                         Ÿ
                                    7196  2  786.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @FREEBUF-72,R13             7197  2  787.                  LKOB  GNCTLOCK
 USING  @LOCKS-72,R13
 000594 D203 D048 8008 00000 00008  7216  2          +
 00059A 58F0 A752/0DEF       00BCC  7219  2          +
 0005A0 5810 7020            00010  7221  2  788.                  WITH  (TCPHDR,NBUFDATA),'L RS,TCPSID'  Get the NSQE addr
 AUSING (TCPHDR,NBUFDATA)
 USING  NSQE,R1                     7236  2  789.                  WITH  (NSQE,RS)
                                    7249  2  790.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7250  2  791.                  Ÿ  RS should have a valid NSQE address.  Check it  Ÿ
                                    7251  2  792.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005A4 1211/4780 A13A       005B4  7252  2  793.                  IF    ((RS,Z),OR,(NSQE,NE,'NSQE')),BEGIN
 0005AA D503 A776 1000 00BF0 00000  7276  2          +
 0005B0 4780 A16E            005E8  7277  2          +
 0005B4 83000012/8013               7282  3  794.                    ORVSNAP   'Bad Amelia ID value',MODE=LOG
 0005BA 4100 A7BB            00C35  7287  3          +
 0005BE 83000012                    7288  3  795.                    ORVSNAP   TCPHDR,L'TCPHDR,MODE=LOG
 0005C2 101400007010                7292  3          +
 DROP   @LOCKS-72,R13               7293  3  796.                    FREENB NBUF
 USING  @FREEBUF-72,R13
 0005C8 D703 D048 D048 00000 00000  7314  3          +
 0005CE 5070 D048            00000  7325  3          +
 0005D2 58F0 A772/0DEF       00BEC  7331  3          +
 DROP   @FREEBUF-72,R13             7333  3  797.                    LKREL GNCTLOCK
 USING  @LOCKS-72,R13
 0005D8 D203 D048 8008 00000 00008  7352  3          +
 0005DE 58F0 A756/0DEF       00BD0  7355  3          +
 0005E4 47F0 A024            0049E  7357  3  798.                    NEXT  RCVLOOP
 0005E8                             7360  2  799.                  END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   62
0Current Usings:  (PZERO,R0) (NSQE,R1) (#SCSR,R6) (NBUF,R7) (GNCT,R8) (NETCB,R9) (NETREAD,R10) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7364  2  800.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7365  2  801.                  Ÿ  Add this buffer to the NSQE queue  Ÿ
                                    7366  2  802.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005E8 5820 100C            0000C  7367  2  803.                  L     RA,NSQENBUF                       Current List Head
 0005EC                             7368  2  804.                  LOOP  BEGIN
 0005EC 5020 7004            00004  7374  3  805.                    ST    RA,NBUFNEXT                       Point this at it
 0005F0 BA27 100C            0000C  7375  3  806.                    CS    RA,RY,NSQENBUF                    Try to add it
 0005F4 4770 A172            005EC  7376  2  807.                  UNTIL EQUAL,END
                                    7395  2  808.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7396  2  809.                  Ÿ  If there were no buffers there before, then we wake up  Ÿ
                                    7397  2  810.                  Ÿ  the address space                                       Ÿ
                                    7398  2  811.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005F8 1222/4770 A18A       00604  7399  2  812.                  IF    (RA,Z),'LCALL NETWAKE'            Wake it up
 0005FE 41F0 A330/0DEF       007AA  7421  2          +
 000604                             7427  2  813.                  LKREL GNCTLOCK                          Release the lock
 000604 D203 D048 8008 00000 00008  7436  2          +
 00060A 58F0 A756/0DEF       00BD0  7439  2          +
 DROP   NSQE,R1                     7441  1  814.                END   ,
                                    7450  1  815.     *
                                    7451  1  816.     * There was some problem with the SCOM read request
                                    7452  1  817.     *
 000610 A19A           00610 0053E  7453  1  818.                ELSE  BEGIN
 000610 47F0 A22E            006A8  7458  1          +
 000614 5920 A77A            00BF4  7464  2  819.                  IF    (RA,EQ,#SCESIBP),'ABORT NETPIBP'  Invalid buffer pointer
 000618 4770 A1D2            0064C  7476  2          +
 00061C AC04 021B      0021B        7485  3          +
 000620 9680 021A      0021A        7491  3          +
 000624 50F0 021C            0021C  7492  3          +
 000628 58F0 0210            00210  7493  3          +
 00062C 89F0 0010            00010  7494  3          +
 000630 88F0 0010            00010  7495  3          +
 000634 41F0 F000            00000  7496  3          +
 000638 AEFF 0006            00006  7497  3          +
 00063C D5C5E3D7C9C2D740            7498  2          +
 00064C 5920 A77E            00BF8  7503  2  820.                  IF    (RA,EQ,#SCESIAD),'ABORT NETPIAD'  Invalid Address
 000650 4770 A20A            00684  7515  2          +
 000654 AC04 021B      0021B        7524  3          +
 000658 9680 021A      0021A        7530  3          +
 00065C 50F0 021C            0021C  7531  3          +
 000660 58F0 0210            00210  7532  3          +
 000664 89F0 0010            00010  7533  3          +
 000668 88F0 0010            00010  7534  3          +
 00066C 41F0 F000            00000  7535  3          +
 000670 AEFF 0006            00006  7536  3          +
 000674 D5C5E3D7C9C1C440            7537  2          +
                                    7542  2  821.     *
                                    7543  2  822.     * Anything else, we just log and ignore
                                    7544  2  823.     *
 000684 83000012/8015               7545  2  824.                  ORVSNAP 'Network error in SCOM',MODE=LOG
 00068A 4100 A7CE            00C48  7550  2          +
 00068E 83000012                    7551  2  825.                  ORVSNAP (RA),MODE=LOG
 000692 40010000/2000               7556  2          +
 DROP   @LOCKS-72,R13               7558  2  826.                  FREENB NBUF                   Free the buffer, we got nothing
 USING  @FREEBUF-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   63
0Current Usings:  (PZERO,R0) (#SCSR,R6) (NBUF,R7) (GNCT,R8) (NETCB,R9) (NETREAD,R10) (@FREEBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000698 D703 D048 D048 00000 00000  7579  2          +
 00069E 5070 D048            00000  7590  2          +
 0006A2 58F0 A772/0DEF       00BEC  7596  2          +
 0006A8                             7598  1  827.                END   ,
 0006A8 47F0 A024            0049E  7602     828.              END   ,
 DROP   #SCSR,R6
 DROP   NBUF,R7
 0006AC 981F C008            00008  7617     829.              PEND  ,
 DROP   NETCB,R9
 DROP   GNCT,R8
 DROP   NETREAD,R10
 0006B0 9680 C000/0B0E 00000        7637             +
 DROP   @FREEBUF-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   64
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7647     831.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7648     832.     Ÿ                                                                     Ÿ
                                    7649     833.     Ÿ   NETFQE --  This routine handles the full queue emptied            Ÿ
                                    7650     834.     Ÿ              response from SCOM.  It runs the NSQE chain            Ÿ
                                    7651     835.     Ÿ              and wakes up all address spaces that have              Ÿ
                                    7652     836.     Ÿ              been suspended waiting on a full queue.                Ÿ
                                    7653     837.     Ÿ                                                                     Ÿ
                                    7654     838.     Ÿ    Input --  none                                                   Ÿ
                                    7655     839.     Ÿ                                                                     Ÿ
                                    7656     840.     Ÿ   Output --  none                                                   Ÿ
                                    7657     841.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0006B6                             7659     843.     NETFQE   PROC  SCOPE=LOCAL
 0006B6 D5C5E3C6D8C54040            7666             +
 0006BE 0000/0000                   7667             +
 0006C2 900F D004/18AF       00004  7669             +
 USING  NETFQE,R10
 0006C8 50D0 C000/18CD       00000  7684             +
 0006CE 9680 C000      00000        7686             +
 0006D2 41D0 C048            00048  7687             +
 0006D6 5880 0200            00200  7688     844.              L     RM,PZMATP               Get the MAT Address
 0006DA 5880 803C            0003C  7689     845.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT Address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     7713     846.              WITH  (GNCT,RM)
 0006DE 5890 800C            0000C  7726     847.              L     RN,GNCTNETC             Get the NETCB Address
 USING  NETCB,R9                    7727     848.              WITH  (NETCB,RN)
 USING  @LOCKS-72,R13               7740     849.              LKOB  GNCTLOCK                Obtain the required lock
 0006E2 D203 D048 8008 00000 00008  7756             +
 0006E8 58F0 A50A/0DEF       00BCC  7759             +
 0006EE 94BF 9020      00020        7761     850.              CLEAR FULLQE                  Clear the flag
                                    7768     851.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7769     852.              Ÿ  Loop through the NSQE entries  Ÿ
                                    7770     853.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0006F2 5810 8010            00010  7771     854.              L     RS,GNCTNSQE             First Entry in the list
 0006F6 1211/4780 A058       0071A  7772     855.              WHILE (RS,NZ),BEGIN
 USING  NSQE,R1                     7788  1  856.                WITH  (NSQE,RS)
 0006FC 9180 1018      00018        7801  1  857.                IF    NSQEFULQ,BEGIN          This one is waiting
 000700 47E0 A050            00712  7811  1          +
 000704 947F 1018      00018        7816  2  858.                  CLEAR NSQEFULQ                Clear the flag
 000708 9640 1018      00018        7823  2  859.                  SET   NSQEFQE                 Tell them why
 00070C 58F0 A53A/0DEF       00BFC  7829  2  860.                  ACALL NETWAKE                 Go wake em up
 000712                             7836  1  861.                END   ,
 000712 5810 1004            00004  7840  1  862.                L     RS,NSQENEXT             Go to the next one
 000716 47F0 A034            006F6  7841     863.              END   ,
 DROP   NSQE,R1
 00071A                             7851     864.              LKREL GNCTLOCK                Release the lock now
 00071A D203 D048 8008 00000 00008  7860             +
 000720 58F0 A50E/0DEF       00BD0  7863             +
 000726 981F C008            00008  7865     865.              PEND  ,
 DROP   NETCB,R9
 DROP   GNCT,R8
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   65
0Current Usings:  (PZERO,R0) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   NETFQE,R10
 00072A 9680 C000/0B0E 00000        7885             +
 DROP   @LOCKS-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   66
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   7895     867.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    7896     868.     Ÿ                                                                     Ÿ
                                    7897     869.     Ÿ NETNOTFY --  This routine does a notify to get the correct          Ÿ
                                    7898     870.     Ÿ              SCOM flags, and if no condition is pending,            Ÿ
                                    7899     871.     Ÿ              to wait.  It updates the flags in the NETCB.           Ÿ
                                    7900     872.     Ÿ                                                                     Ÿ
                                    7901     873.     Ÿ    Input --  none                                                   Ÿ
                                    7902     874.     Ÿ                                                                     Ÿ
                                    7903     875.     Ÿ   Output --  none                                                   Ÿ
                                    7904     876.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000730                             7906     878.     NETNOTFY PROC  SCOPE=LOCAL
 000730 D5C5E3D5D6E3C6E8            7913             +
 000738 0000/0000                   7914             +
 00073C 900F D004/18AF       00004  7916             +
 USING  NETNOTFY,R10
 000742 50D0 C000/18CD       00000  7931             +
 000748 9680 C000      00000        7933             +
 00074C 41D0 C048            00048  7934             +
 000750 5880 0200            00200  7935     879.              L     RM,PZMATP               Get the MAT Address
 000754 5880 803C            0003C  7936     880.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT Address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     7960     881.              WITH  (GNCT,RM)
 000758 5890 800C            0000C  7973     882.              L     RN,GNCTNETC             Get the NETCB Address
 USING  NETCB,R9                    7974     883.              WITH  (NETCB,RN)
                                    7987     884.     *
                                    7988     885.     * Get the notify parameter area  (already fixed)
                                    7989     886.     *
 00075C 5860 9018            00018  7990     887.              L     RX,NETCIOPA             Get the parameter area
 USING  #SCNOTE,R6                  7991     888.              WITH  (#SCNOTE,RX)
 AUSING (#SCOMCMD,#SCNOTE)          8004     889.              WITH  (#SCOMCMD,#SCNOTE),'MVC #SCCMD,=A(#SCCNOTE)'
 000760 D203 6000 A4C4 00000 00C00  8015             +
                                    8019     890.     *
                                    8020     891.     * The parm area is filled in, do the I/O
                                    8021     892.     *
 USING  @IOSDOIO-72,R13             8022     893.              PSET  @IOSDOIO
 000766 D71D D048 D048 00000 00000  8039             +
 00076C D207 D050 0208 00008 00208  8040     894.              MVC   @IOSPID,PZCURPID                  Process ID
 000772 5810 8014            00014  8041     895.              L     RS,GNCTNPCB
 USING  NPCB,R1                     8042     896.              WITH  (NPCB,RS),'MVC @IOSCHID,NPCBPATH' Device ID
 000776 D203 D048 1008 00000 00008  8057             +
 DROP   NPCB,R1
 00077C D203 D04C 901C 00004 0001C  8066     897.              MVC   @IOSID,NETCIOCB                   Request ID
 000782 5060 D058            00010  8067     898.              ST    RX,@IOSCP                         Channel program
 000786 9680 D065      0001D        8068     899.              SET   @IOSFSYNC                         Synchronous style
 00078A 58F0 A48C/0DEF       00BC8  8074     900.              VCALL IOSDOIO                           Do the I/O
 000790 4200 9020            00020  8078     901.              STC   RVR,NETCFLG             Ending status is the flags
 000794 981F C008            00008  8079     902.              PEND  ,
 DROP   #SCNOTE,R6
 DROP   NETCB,R9
 DROP   GNCT,R8
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   67
0Current Usings:  (PZERO,R0) (@IOSDOIO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   NETNOTFY,R10
 000798 9680 C000/0B0E 00000        8104             +
 DROP   @IOSDOIO-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   68
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8114     904.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    8115     905.     Ÿ                                                                     Ÿ
                                    8116     906.     Ÿ  NETWAKE --  This routine wakes up the task associated              Ÿ
                                    8117     907.     Ÿ              with a given NSQE.  It schedules a system              Ÿ
                                    8118     908.     Ÿ              task to run in the other address space.                Ÿ
                                    8119     909.     Ÿ                                                                     Ÿ
                                    8120     910.     Ÿ    Input --  RS contains the address of the NSQE                    Ÿ
                                    8121     911.     Ÿ                                                                     Ÿ
                                    8122     912.     Ÿ   Output --  none                                                   Ÿ
                                    8123     913.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00079E                             8125     915.     NETWAKE  PROC  SCOPE=LOCAL
 00079E D5C5E3E6C1D2C540            8132             +
 0007A6 0000/0000                   8133             +
 0007AA 900F D004/18AF       00004  8135             +
 USING  NETWAKE,R10
 0007B0 50D0 C000/18CD       00000  8150             +
 0007B6 9680 C000      00000        8152             +
 0007BA 41D0 C048            00048  8153             +
 0007BE 5880 0200            00200  8154     916.              L     RM,PZMATP               Get the MAT Address
 0007C2 5880 803C            0003C  8155     917.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT Address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                     8179     918.              WITH  (GNCT,RM)
 0007C6 5890 800C            0000C  8192     919.              L     RN,GNCTNETC             Get the NETCB Address
 USING  NETCB,R9                    8193     920.              WITH  (NETCB,RN)
 USING  NSQE,R1                     8206     921.              WITH  (NSQE,RS)
                                    8219     922.     *
                                    8220     923.     * Get a new SYSR ID
                                    8221     924.     *
 USING  @SYSRNEW-72,R13             8222     925.              PSET  @SYSRNEW
 0007CA D703 D048 D048 00000 00000  8239             +
 0007D0 58F0 A45A/0DEF       00C04  8240     926.              VCALL SYSRNEW                 Get the ID
 0007D6 1200/4770 A062       0080C  8244     927.              IF    (RVR,Z),'ABORT NONSYSR'
 0007DC AC04 021B      0021B        8262  1          +
 0007E0 9680 021A      0021A        8268  1          +
 0007E4 50F0 021C            0021C  8269  1          +
 0007E8 58F0 0210            00210  8270  1          +
 0007EC 89F0 0010            00010  8271  1          +
 0007F0 88F0 0010            00010  8272  1          +
 0007F4 41F0 F000            00000  8273  1          +
 0007F8 AEFF 0006            00006  8274  1          +
 0007FC D5D6D5E2E8E2D940            8275             +
 DROP   @SYSRNEW-72,R13             8280     928.              PSET  @SYSRDO
 USING  @SYSRDO-72,R13
 00080C D71B D048 D048 00000 00000  8300             +
 AUSING (NSPARM,@SYSRPRM)           8301     929.              WITH  (NSPARM,@SYSRPRM)       Map the parm area
 000812 5000 D048            00000  8308     930.              ST    RVR,@SYSRID             Store the ID
 000816 D203 D04C 1010 00004 00010  8309     931.              MVC   @SYSRASB,NSQEASB        Pointer to ASB
 00081C D203 D050 A45E 00008 00C08  8310     932.              MVC   @SYSRLOC,=A(NETSYSR)    Location of the routine
 000822 5000 D054            00000  8311     933.              ST    RVR,NSPSYSR             Pass the SYSR ID
 000826 5010 D058            00004  8312     934.              ST    RS,NSPNSQE              And the NSQE address
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   69
0Current Usings:  (PZERO,R0) (NSQE,R1) (GNCT,R8) (NETCB,R9) (NETWAKE,R10) (@SYSRDO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000082A 58F0 A462/0DEF       00C0C  8313     935.              VCALL SYSRDO                  Go wake 'em up
 000830 1200/4780 A0BC       00866  8317     936.              IF    (RVR,NZ),'ABORT NETBADSR'
 000836 AC04 021B      0021B        8335  1          +
 00083A 9680 021A      0021A        8341  1          +
 00083E 50F0 021C            0021C  8342  1          +
 000842 58F0 0210            00210  8343  1          +
 000846 89F0 0010            00010  8344  1          +
 00084A 88F0 0010            00010  8345  1          +
 00084E 41F0 F000            00000  8346  1          +
 000852 AEFF 0006            00006  8347  1          +
 000856 D5C5E3C2C1C4E2D9            8348             +
 000866 981F C008            00008  8353     937.              PEND  ,
 DROP   NSQE,R1
 DROP   NETCB,R9
 DROP   GNCT,R8
 DROP   NETWAKE,R10
 00086A 9680 C000/0B0E 00000        8378             +
 DROP   @SYSRDO-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   70
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8388     939.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    8389     940.     Ÿ                                                                     Ÿ
                                    8390     941.     Ÿ  NETSYSR --  This routine is run as a SYSR under the address        Ÿ
                                    8391     942.     Ÿ              space which is to be awakened.  It just finds          Ÿ
                                    8392     943.     Ÿ              socket ECB and posts it.  It then frees the SYSR ID    Ÿ
                                    8393     944.     Ÿ                                                                     Ÿ
                                    8394     945.     Ÿ   Input  --  @SYSRTN                                                Ÿ
                                    8395     946.     Ÿ                                                                     Ÿ
                                    8396     947.     Ÿ  Output  --  none                                                   Ÿ
                                    8397     948.     Ÿ                                                                     Ÿ
                                    8398     949.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000870                             8400     951.     NETSYSR  PROC  @SYSRTN,SCOPE=LOCAL
 000870 D5C5E3E2E8E2D940            8407             +
 000878 0010/0000                   8408             +
 00087C 900F D004/18AF       00004  8410             +
 USING  NETSYSR,R10
 000882 50D0 C000/18CD       00000  8425             +
 000888 9680 C000      00000        8427             +
 USING  @SYSRTN-72,R12
 00088C 41D0 C058            00058  8441             +
 AUSING (NSPARM,@SYSPARS)           8442     952.              WITH  (NSPARM,@SYSPARS)       Map our parameter area
                                    8449     953.     *
                                    8450     954.     * Find the Socket
                                    8451     955.     *
 000890 5860 C04C            00004  8452     956.              L     RX,NSPNSQE                  NSQE address
 000894 5860 6014            00014  8453     957.              WITH  (NSQE,RX),'L RX,NSQESOCK'   Socket Address
 USING  NSQE,R6
 DROP   NSQE,R6
 USING  SOCK,R6                     8477     958.              WITH  (SOCK,RX)
                                    8490     959.     *
                                    8491     960.     * Post the ECB
                                    8492     961.     *
 USING  @SIGNAL-72,R13              8493     962.              SIGNL SKECB
 000898 D713 D048 D048 00000 00000  8511             +
 00089E 4100 6078            00078  8523             +
 0008A2 5000 D050            00008  8528             +
 0008A6 58F0 A394/0DEF       00C10  8531             +
                                    8533     963.     *
                                    8534     964.     * Free the current SYSR
                                    8535     965.     *
 DROP   @SIGNAL-72,R13              8536     966.              PSET  @SYSRDEL
 USING  @SYSRDEL-72,R13
 0008AC D703 D048 D048 00000 00000  8556             +
 0008B2 D203 D048 C048 00000 00000  8557     967.              MVC   @SYSRDID,NSPSYSR        Move in the ID
 0008B8 58F0 A398/0DEF       00C14  8558     968.              VCALL SYSRDEL                 Delete that SYSR
 0008BE 981F C008            00008  8562     969.              PEND  ,
 DROP   SOCK,R6
 DROP   @SYSRTN-72,R12
 DROP   NETSYSR,R10
 0008C2 9680 C000/0B0E 00000        8582             +
 DROP   @SYSRDEL-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   71
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8592     971.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    8593     972.     Ÿ                                                                     Ÿ
                                    8594     973.     Ÿ  DELNPCB --  This routine is called to free an NPCB.  It first      Ÿ
                                    8595     974.     Ÿ              checks to see whether there are any dependencies on    Ÿ
                                    8596     975.     Ÿ              the given NPCB.  It then closes the associated path,   Ÿ
                                    8597     976.     Ÿ              removes the NPCB from the GNCT queue, and frees the    Ÿ
                                    8598     977.     Ÿ              associated storage.                                    Ÿ
                                    8599     978.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0008C8                             8601     980.     DELNPCB  PROC  @DELNPCB,SCOPE=LOCAL
 0008C8 C4C5D3D5D7C3C240            8608             +
 0008D0 0008/0000                   8609             +
 0008D4 900F D004/18AF       00004  8611             +
 USING  DELNPCB,R10
 0008DA 50D0 C000/18CD       00000  8626             +
 0008E0 9680 C000      00000        8628             +
 USING  @DELNPCB-72,R12
 0008E4 41D0 C050            00050  8642             +
 0008E8 5830 C048            00000  8643     981.              L     RB,@NPCB
 USING  NPCB,R3                     8644     982.              WITH  (NPCB,RB)
 0008EC 5860 0200            00200  8657     983.              L     RX,PZMATP
 0008F0 5860 603C            0003C  8658     984.              WITH  (MAT,RX),'L RX,MATGNCT' Get the GNCT Address
 USING  MAT,R6
 DROP   MAT,R6
 USING  GNCT,R6                     8682     985.              WITH  (GNCT,RX)
 0008F4                             8695     986.              IF    (NPCB,NE,'NPCB'),'ABORT BADNPCB'
 0008F4 D503 A2E8 3000 00BBC 00000  8706             +
 0008FA 4780 A05A            0092E  8707             +
 0008FE AC04 021B      0021B        8716  1          +
 000902 9680 021A      0021A        8722  1          +
 000906 50F0 021C            0021C  8723  1          +
 00090A 58F0 0210            00210  8724  1          +
 00090E 89F0 0010            00010  8725  1          +
 000912 88F0 0010            00010  8726  1          +
 000916 41F0 F000            00000  8727  1          +
 00091A AEFF 0006            00006  8728  1          +
 00091E C2C1C4D5D7C3C240            8729             +
                                    8734     987.     *
 USING  @LOCKS-72,R13               8735     988.              LKOB  GNCTLOCK                Lock it up
 00092E D203 D048 6008 00000 00008  8751             +
 000934 58F0 A2F8/0DEF       00BCC  8754             +
 00093A                             8756     989.              IF    ((NPCBREF,NZ),OR,~NPCBCLSD),BEGIN           In Use
 00093A D603 300C 300C 0000C 0000C  8768             +
 000940 4770 A078            0094C  8771             +
 000944 9140 3010      00010        8780             +
 000948 4710 A088            0095C  8781             +
 00094C                             8786  1  990.                LKREL GNCTLOCK                Release the lock
 00094C D203 D048 6008 00000 00008  8795  1          +
 000952 58F0 A2FC/0DEF       00BD0  8798  1          +
 000958 47F0 A23C            00B10  8800  1  991.                EXIT  DELNPCB                 And blow this joint
 00095C                             8803     992.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   72
0Current Usings:  (PZERO,R0) (NPCB,R3) (GNCT,R6) (DELNPCB,R10) (@DELNPCB-72,R12) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   8807     993.              ¿þþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    8808     994.              Ÿ  Find it in the queue  Ÿ
                                    8809     995.              ¾þþþþþþþþþþþþþþþþþþþþþþþþ»
 00095C 4110 6014            00014  8810     996.              LA    RS,GNCTNPCB             Head of the queue
 000960 5930 1000            00000  8811     997.              WHILE (RB,NE,@RS),BEGIN       Find pointer to ours
 000964 4780 A0D6            009AA  8825             +
 000968 5810 1000/1211       00000  8830  1  998.                LT    RS,@RS                  Point at next NPCB
 00096E 4770 A0CE            009A2  8834  1  999.                IF    Z,'ABORT REMNPCB'       Coundn't find it
 000972 AC04 021B      0021B        8849  2          +
 000976 9680 021A      0021A        8855  2          +
 00097A 50F0 021C            0021C  8856  2          +
 00097E 58F0 0210            00210  8857  2          +
 000982 89F0 0010            00010  8858  2          +
 000986 88F0 0010            00010  8859  2          +
 00098A 41F0 F000            00000  8860  2          +
 00098E AEFF 0006            00006  8861  2          +
 000992 D9C5D4D5D7C3C240            8862  1          +
 0009A2 4110 1004            00004  8867  1 1000.                LA    RS,NPCBNEXT-NPCB(,RS)   Point at next  pointer
 0009A6 47F0 A08C            00960  8868    1001.              END   ,
 0009AA D203 1000 3004 00000 00004  8873    1002.              MVC   0(4,RS),NPCBNEXT        Remove ours from the list
 0009B0                             8874    1003.              LKREL GNCTLOCK                Release the lock
 0009B0 D203 D048 6008 00000 00008  8883             +
 0009B6 58F0 A2FC/0DEF       00BD0  8886             +
                                    8888    1004.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    8889    1005.              Ÿ  Allocate an I/O Parameter Area  Ÿ
                                    8890    1006.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @LOCKS-72,R13               8891    1007.              VMGET SCOMPLEN,LOC=LOCSYS,ONEPAGE=YES  Get the IO parm area
 USING  @VMGET-72,R13
 0009BC D70A D048 D048 00000 00000  8918             +
 0009C2 4100 00B8            000B8  8930             +
 0009C6 5000 D048            00000  8935             +
 0009CA D201 D050 A356 00008 00C2A  8936             +
 0009D0 9640 D052      0000A        8942             +
 0009D4 58F0 A2AC/0DEF       00B80  8945             +
 0009DA 1200/4770 A13C       00A10  8947    1008.              IF    (RVR,Z),'ABORT NOMEM'
 0009E0 AC04 021B      0021B        8965  1          +
 0009E4 9680 021A      0021A        8971  1          +
 0009E8 50F0 021C            0021C  8972  1          +
 0009EC 58F0 0210            00210  8973  1          +
 0009F0 89F0 0010            00010  8974  1          +
 0009F4 88F0 0010            00010  8975  1          +
 0009F8 41F0 F000            00000  8976  1          +
 0009FC AEFF 0006            00006  8977  1          +
 000A00 D5D6D4C5D4404040            8978             +
 000A10 1870                        8983    1009.              LR    RY,RVR
 000A12                             8984    1010.              CLEAR (@RY,SCOMPLEN)          Clear it all out
 000A12 D7B7 7000 7000 00000 00000  8990             +
 USING  #SCCLOSE,R7                 8991    1011.              WITH  (#SCCLOSE,RY)           Address it
 000A18                             9004    1012.              CLEAR #SCCLOSE
 000A18 D703 7000 7000 00000 00000  9010             +
 DROP   #SCCLOSE,R7                 9011    1013.              WITH  (#SCOMCMD,RY),'MVC #SCCMD,=A(#SCCCLOS)'
 USING  #SCOMCMD,R7
 000A1E D203 7000 A344 00000 00C18  9029             +
 DROP   #SCOMCMD,R7
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   73
0Current Usings:  (PZERO,R0) (NPCB,R3) (GNCT,R6) (#SCCLOSE,R7) (DELNPCB,R10) (@DELNPCB-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  #SCCLOSE,R7
                                    9045    1014.              ¿þþþþþþþþþþþþþþþþþÜ
                                    9046    1015.              Ÿ  Get an IOS ID  Ÿ
                                    9047    1016.              ¾þþþþþþþþþþþþþþþþþ»
 000A24 9200 D048      00000        9048    1017.              PSET  @IOSIDGET
 DROP   @VMGET-72,R13
 USING  @IOSIDGET-72,R13
 000A28 9680 D048      00000        9069    1018.              SET   @IOSFWAIT               We can wait
 000A2C 58F0 A2E4/0DEF       00BB8  9075    1019.              VCALL IOSIDGET                Go get us an ID
 000A32 1850                        9079    1020.              LR    RK,RVR                  Copy the ID
 DROP   @IOSIDGET-72,R13            9080    1021.              FIX   #SCCLOSE,L'#SCCLOSE     Fix the parm area
 USING  @PAGE-72,R13
 000A34 D708 D048 D048 00000 00000  9101             +
 000A3A 5070 D048            00000  9112             +
 000A3E 4100 0004            00004  9124             +
 000A42 5000 D04C            00004  9129             +
 000A46 58F0 A304/0DEF       00BD8  9132             +
                                    9134    1022.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9135    1023.              Ÿ  Send the parm area out on the path  Ÿ
                                    9136    1024.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @PAGE-72,R13                9137    1025.              PSET  @IOSDOIO
 USING  @IOSDOIO-72,R13
 000A4C D71D D048 D048 00000 00000  9157             +
 000A52 D207 D050 0208 00008 00208  9158    1026.              MVC   @IOSPID,PZCURPID
 000A58 D203 D048 3008 00000 00008  9159    1027.              MVC   @IOSCHID,NPCBPATH       Path ID
 000A5E 5050 D04C            00004  9160    1028.              ST    RK,@IOSID               I/O ID
 000A62 5070 D058            00010  9161    1029.              PMOV  @IOSCP,LA:#SCCLOSE      Parm area address
 000A66 9680 D065      0001D        9172    1030.              SET   @IOSFSYNC               Syncronous
 000A6A 58F0 A2F4/0DEF       00BC8  9178    1031.              VCALL IOSDOIO                 Do the I/O
                                    9182    1032.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9183    1033.              Ÿ  Free up the stuff we got  Ÿ
                                    9184    1034.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @IOSDOIO-72,R13             9185    1035.              UNFIX #SCCLOSE,L'#SCCLOSE     Unfix the parm area
 USING  @PAGE-72,R13
 000A70 D708 D048 D048 00000 00000  9206             +
 000A76 5070 D048            00000  9217             +
 000A7A 4100 0004            00004  9229             +
 000A7E 5000 D04C            00004  9234             +
 000A82 58F0 A310/0DEF       00BE4  9237             +
 DROP   @PAGE-72,R13                9239    1036.              PSET  @IOSIDFRE
 USING  @IOSIDFRE-72,R13
 000A88 D703 D048 D048 00000 00000  9259             +
 000A8E 5050 D048            00000  9260    1037.              ST    RK,@IOSFID
 000A92 58F0 A348/0DEF       00C1C  9261    1038.              VCALL IOSIDFRE                Free the IOS ID
                                    9265    1039.
 DROP   @IOSIDFRE-72,R13            9266    1040.              VMFREE SCOMPLEN,A=(RY),LOC=LOCSYS
 USING  @VMFREE-72,R13
 000A98 D709 D048 D048 00000 00000  9293             +
 000A9E 4100 00B8            000B8  9305             +
 000AA2 5000 D04C            00004  9310             +
 000AA6 5070 D048            00000  9320             +
 000AAA D201 D050 A356 00008 00C2A  9321             +
 000AB0 58F0 A2E0/0DEF       00BB4  9324             +
 000AB6 1200/4780 A218       00AEC  9326    1041.              IF    (RVR,NZ),'ABORT FREEIOPA'
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   74
0Current Usings:  (PZERO,R0) (NPCB,R3) (GNCT,R6) (#SCCLOSE,R7) (DELNPCB,R10) (@DELNPCB-72,R12) (@VMFREE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000ABC AC04 021B      0021B        9344  1          +
 000AC0 9680 021A      0021A        9350  1          +
 000AC4 50F0 021C            0021C  9351  1          +
 000AC8 58F0 0210            00210  9352  1          +
 000ACC 89F0 0010            00010  9353  1          +
 000AD0 88F0 0010            00010  9354  1          +
 000AD4 41F0 F000            00000  9355  1          +
 000AD8 AEFF 0006            00006  9356  1          +
 000ADC C6D9C5C5C9D6D7C1            9357             +
                                    9362    1042.              ¿þþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9363    1043.              Ÿ  Free the NPCB itself  Ÿ
                                    9364    1044.              ¾þþþþþþþþþþþþþþþþþþþþþþþþ»
 000AEC D203 3000 A34C 00000 00C20  9365    1045.              MVC   NPCB(4),=C'npcb'        Dump the ID too
 000AF2                             9366    1046.              VMFREE L'NPCB,A=(RB),LOC=GLOBHI
 000AF2 D709 D048 D048 00000 00000  9383             +
 000AF8 4100 0011            00011  9395             +
 000AFC 5000 D04C            00004  9400             +
 000B00 5030 D048            00000  9410             +
 000B04 D201 D050 A358 00008 00C2C  9411             +
 000B0A 58F0 A2E0/0DEF       00BB4  9414             +
 000B10 981F C008            00008  9416    1047.              PEND  ,
 DROP   #SCCLOSE,R7
 DROP   GNCT,R6
 DROP   NPCB,R3
 DROP   @DELNPCB-72,R12
 DROP   DELNPCB,R10
 000B14 9680 C000/0B0E 00000        9446             +
 DROP   @VMFREE-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   75
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000B20                             9456    1049.              LTORG ,
 000B20 C7D5C3E3D3D6C3D2            9458                             =CL16'GNCTLOCK'
 000B30 C1D4C5D3C9C14040            9459                             =CL8'AMELIA'
 000B38 D5C5E3E6D6D9D240            9460                             =CL8'NETWORK'
 000B40 4040404040404040            9461                             =CL8' '
 000B48 D7C1E2E2E6D6D9C4            9462                             =CL8'PASSWORD'
 000B50 E2C9E9C540404040            9463                             =CL8'SIZE'
 000B58 C5D9D9D6D96DD7D9            9464                             =CL16'ERROR_PREV_REQ:'
 000B68 C599999699409985            9465                             =C'Error reported by Amelia'
 000B80 00000000                    9466                             =V(VMGET)
 000B84 C7D5C3E3                    9467                             =C'GNCT'
 000B88 00000000                    9468                             =V(LKCRE)
 000B8C 070C0000                    9469                             =X'070C0000'
 000B90 800000B4                    9470                             =A(X'80000000'+NETWORKT)
 000B94 00000000                    9471                             =V(ACREATE)
 000B98 00000000                    9472                             =V(DISPSHLD)
 000B9C 00000000                    9473                             =V(ASSYSTSK)
 000BA0 D5C5E3C3                    9474                             =C'NETC'
 000BA4 D7D9D6C4                    9475                             =CL4'PROD'
 000BA8 00000008                    9476                             =A(L'NETCANAM)
 000BAC 40404040                    9477                             =CL4' '
 000BB0 00000004                    9478                             =A(4)
 000BB4 00000000                    9479                             =V(VMFREE)
 000BB8 00000000                    9480                             =V(IOSIDGET)
 000BBC D5D7C3C2                    9481                             =C'NPCB'
 000BC0 00000004                    9482                             =A(#SCCOPEN)
 000BC4 00010000                    9483                             =A(64*1024)
 000BC8 00000000                    9484                             =V(IOSDOIO)
 000BCC 00000000                    9485                             =V(LKOB)
 000BD0 00000000                    9486                             =V(LKREL)
 000BD4 00002AF8                    9487                             =A(GETNBUF)
 000BD8 00000000                    9488                             =V(PAGFIX)
 000BDC 00000010                    9489                             =A(#SCCRECV)
 000BE0 0000299E                    9490                             =A(ADDSEG)
 000BE4 00000000                    9491                             =V(PAGUFIX)
 000BE8 00000000                    9492                             =A(#SCESOK)
 000BEC 00002BE2                    9493                             =A(FREENBUF)
 000BF0 D5E2D8C5                    9494                             =C'NSQE'
 000BF4 0000001C                    9495                             =A(#SCESIBP)
 000BF8 00000020                    9496                             =A(#SCESIAD)
 000BFC 000007AA                    9497                             =A(NETWAKE)
 000C00 00000028                    9498                             =A(#SCCNOTE)
 000C04 00000000                    9499                             =V(SYSRNEW)
 000C08 0000087C                    9500                             =A(NETSYSR)
 000C0C 00000000                    9501                             =V(SYSRDO)
 000C10 00000000                    9502                             =V(SIGNAL)
 000C14 00000000                    9503                             =V(SYSRDEL)
 000C18 00000008                    9504                             =A(#SCCCLOS)
 000C1C 00000000                    9505                             =V(IOSIDFRE)
 000C20 95978382                    9506                             =C'npcb'
 000C24 3F00                        9507                             =Y(63*256+0)
 000C26 1F00                        9508                             =Y(31*256+0)
 000C28 0800                        9509                             =Y(2048)
 000C2A 1B00                        9510                             =Y(27*256+0)
1NETWORK  (NETW00) (09:42) (22MAR04) Network Address Space Processing                                                       Page   76
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000C2C 3B00                        9511                             =Y(59*256+0)
 000C2E D5C5E3C7D6D5C5              9512                             =C'NETGONE'
 000C35 C2818440C1948593            9513                             =C'Bad Amelia ID value'
 000C48 D585A3A696999240            9514                             =C'Network error in SCOM'
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   77
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9520    1052.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9521    1053.     Ÿ                                                                     Ÿ
                                    9522    1054.     Ÿ  NETLOCAL -- This routine is the local network processing           Ÿ
                                    9523    1055.     Ÿ              task for each socket.  It handles the                  Ÿ
                                    9524    1056.     Ÿ              asynchronous nature of the network I/O.  It            Ÿ
                                    9525    1057.     Ÿ              waits for things to happen and does what               Ÿ
                                    9526    1058.     Ÿ              needs to be done.                                      Ÿ
                                    9527    1059.     Ÿ                                                                     Ÿ
                                    9528    1060.     Ÿ     Input -- @TENTRY                                                Ÿ
                                    9529    1061.     Ÿ                                                                     Ÿ
                                    9530    1062.     Ÿ    Output -- none                                                   Ÿ
                                    9531    1063.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000C7E                             9533    1065.     NETLOCAL PROC  @TENTRY,SCOPE=LOCAL
 000C7E D5C5E3D3D6C3C1D3            9540             +
 000C86 0008/0000                   9541             +
 000C8A 900F D004/18AF       00004  9543             +
 USING  NETLOCAL,R10
 000C90 50D0 C000/18CD       00000  9558             +
 000C96 9680 C000      00000        9560             +
 USING  @TENTRY-72,R12
 000C9A 41D0 C050            00050  9574             +
 000C9E 5860 C048            00000  9575    1066.              L     RX,@TEPARM              The parm is our SOCK address
 USING  SOCK,R6                     9576    1067.              WITH  (SOCK,RX)
                                    9589    1068.     *
                                    9590    1069.     * Do the exit for the timer.
                                    9591    1070.     *
 USING  @EXRADD-72,R13              9592    1071.              PSET  @EXRADD
 000CA2 D714 D048 D048 00000 00000  9609             +
 000CA8 D203 D050 A9DE 00008 01668  9610    1072.              MVC   @EXRPSW(4),=X'070C0000'
 000CAE D203 D054 A9E2 0000C 0166C  9611    1073.              MVC   @EXRPSW+4(4),=A(X'80000000'+PTTIMEX)
 000CB4 5060 D058            00010  9612    1074.              ST    RX,@EXRPARM             The SOCK is the parm
 AUSING (XITMSKD,@EXRTYPE)          9613    1075.              WITH  (XITMSKD,@EXRTYPE),BEGIN
 000CB8 9620 D048      00000        9623  1 1076.                SET   XITMRTC                 Real time timer
                                    9629    1077.              END   ,
 000CBC 9640 D05C      00014        9632    1078.              SET   @EXRAFS
 000CC0 58F0 A9E6/0DEF       01670  9638    1079.              VCALL EXRADD                  Go do the actual adding
                                    9642    1080.     *
                                    9643    1081.     * Enable the exits
                                    9644    1082.     *
 DROP   @EXRADD-72,R13              9645    1083.              PSET  @XITMSK
 USING  @XITMSK-72,R13
 000CC6 D703 D048 D048 00000 00000  9665             +
 AUSING (XITMSKD,@XITMSK)           9666    1084.              WITH  (XITMSKD,@XITMSK),BEGIN
 000CCC 9620 D048      00000        9676  1 1085.                SET   XITMRTC                 Real time clocks
                                    9682    1086.              END   ,
 000CD0 58F0 A9EA/0DEF       01674  9685    1087.              VCALL XITMASK                 Set the mask
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   78
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@XITMSK-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9690    1089.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9691    1090.     Ÿ                                                                     Ÿ
                                    9692    1091.     Ÿ        M A I N   S O C K E T   P R O C E S S I N G  L O O P         Ÿ
                                    9693    1092.     Ÿ                                                                     Ÿ
                                    9694    1093.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000CD6 9604 6080      00080        9696    1095.              SET   RERUN                   Force processing
 000CDA                             9702    1096.     MLOOP    LABEL ,
 000CDA 9104 6080      00080        9704    1097.              IF    ~RERUN,BEGIN
 000CDE 4710 A070            00CFA  9714             +
 DROP   @XITMSK-72,R13              9719  1 1098.                AWAIT SKECB,LEN=LONG          Wait a while for the event
 USING  @AWAIT-72,R13
 000CE2 D704 D048 D048 00000 00000  9740  1          +
 000CE8 4100 6078            00078  9752  1          +
 000CEC 5000 D048            00000  9757  1          +
 000CF0 9680 D04C      00004        9763  1          +
 000CF4 58F0 A9EE/0DEF       01678  9766  1          +
 000CFA                             9768    1099.              END   ,
 000CFA 94FB 6080      00080        9772    1100.              CLEAR RERUN
 000CFE                             9779    1101.              CLEAR SKECB                   Clear it out
 000CFE D707 6078 6078 00078 00078  9785             +
 DROP   @AWAIT-72,R13               9786    1102.              PSET  @SOCKP
 USING  @SOCKP-72,R13
 000D04 D708 D048 D048 00000 00000  9806             +
 000D0A 5060 D048            00000  9807    1103.              ST    RX,@SOCK
 000D0E 41F0 A300/0DEF       00F8A  9808    1104.              LCALL DOSTATE                 Process states again
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   79
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9818    1106.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9819    1107.              Ÿ  Let's take care of the case when some I/O is active.  Ÿ
                                    9820    1108.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000D14 9500 60A4      000A4        9821    1109.     IOACT    IF    ~IDLE,BEGIN             Some I/O is active
 000D18 4780 A2C8            00F52  9832             +
                                    9837  1 1110.     *
                                    9838  1 1111.     * If a halt request was received we terminate the I/O right now.
                                    9839  1 1112.     *
 000D1C 9140 6080      00080        9840  1 1113.                IF    DOHALT,BEGIN
 000D20 47E0 A0B4            00D3E  9850  1          +
 000D24 94BF 6080      00080        9855  2 1114.                  CLEAR DOHALT                  Clear the flag
 000D28                             9862  2 1115.                  CLEAR SKRR15
 000D28 D703 60BC 60BC 000BC 000BC  9868  2          +
 000D2E                             9869  2 1116.                  CLEAR SKRR01
 000D2E D703 60B4 60B4 000B4 000B4  9875  2          +
 000D34                             9876  2 1117.                  CLEAR SKRR14                  All registers cleared.
 000D34 D703 60B8 60B8 000B8 000B8  9882  2          +
 000D3A 47F0 A292            00F1C  9883  2 1118.                  B     ACTIOPST                Post it complete
 000D3E                             9884  1 1119.                END   ,
                                    9888  1 1120.     *
                                    9889  1 1121.     * If a timer needs to be started, we do that too.
                                    9890  1 1122.     *
 000D3E 9110 6080      00080        9891  1 1123.                IF    TIMEST,BEGIN
 000D42 47E0 A0D0            00D5A  9901  1          +
 000D46 94EF 6080      00080        9906  2 1124.                  CLEAR TIMEST                  Clear the flag
 000D4A                             9913  2 1125.                  PSET  @SOCKP
 000D4A D708 D048 D048 00000 00000  9923  2          +
 000D50 5060 D048            00000  9924  2 1126.                  ST    RX,@SOCK
 000D54 58F0 A9F2/0DEF       0167C  9925  2 1127.                  ACALL DOTIME                  And start the timer
 000D5A                             9932  1 1128.                END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   80
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                   9937  1 1130.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9938  1 1131.     Ÿ                                                                     Ÿ
                                    9939  1 1132.     Ÿ              Attach Processing                                      Ÿ
                                    9940  1 1133.     Ÿ                                                                     Ÿ
                                    9941  1 1134.     Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000D5A 9504 60A4      000A4        9942  1 1135.                IF    SKTATCH,BEGIN           An attach is in progress
 000D5E 4770 A116            00DA0  9952  1          +
 000D62 9120 6080      00080        9957  2 1136.                  IF    TIMEUP,BEGIN            No time left
 000D66 47E0 A0EE            00D78  9967  2          +
 000D6A 94DF 6080      00080        9972  3 1137.                    CLEAR TIMEUP
 000D6E D203 60BC A9F6 000BC 01680  9979  3 1138.                    MVC   SKRR15,=A(16)           Not yet opened return code
 000D74 47F0 A292            00F1C  9980  3 1139.                    B     ACTIOPST                Post the user
 000D78                             9981  2 1140.                  END   ,
                                    9985  2 1141.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    9986  2 1142.                  Ÿ  If the connection completed, for however brief a time  Ÿ
                                    9987  2 1143.                  Ÿ  we mark it as attached.                                Ÿ
                                    9988  2 1144.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000D78 9180 6083      00083        9989  2 1145.                  IF    SKIATCH,BEGIN           We're all connected now
 000D7C 47E0 A100            00D8A  9999  2          +
 000D80                            10004  3 1146.                    CLEAR SKRR15                  Good return
 000D80 D703 60BC 60BC 000BC 000BC 10010  3          +
 000D86 47F0 A292            00F1C 10011  3 1147.                    B     ACTIOPST                Post the I/O complete
 000D8A                            10012  2 1148.                  END   ,
                                   10016  2 1149.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10017  2 1150.                  Ÿ  If the socket is closed, then there there is never  Ÿ
                                   10018  2 1151.                  Ÿ  going to be an open connection and so we can just   Ÿ
                                   10019  2 1152.                  Ÿ  tell him to give up now.                            Ÿ
                                   10020  2 1153.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000D8A 9507 6082      00082       10021  2 1154.                  IF    SKSCLSD,BEGIN           Not going to attach
 000D8E 4770 A112            00D9C 10031  2          +
 000D92 D203 60BC A9FA 000BC 01684 10036  3 1155.                    MVC   SKRR15,=A(-4)           Move in the return code
 000D98 47F0 A292            00F1C 10037  3 1156.                    B     ACTIOPST                and post it complete
 000D9C                            10038  2 1157.                  END   ,
 000D9C 47F0 A2C8            00F52 10042  2 1158.                  EXIT  IOACT                   Otherwise, keep waiting
 000DA0                            10045  1 1159.                END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   81
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10050  1 1161.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10051  1 1162.     Ÿ                                                                     Ÿ
                                   10052  1 1163.     Ÿ              Read Processing                                        Ÿ
                                   10053  1 1164.     Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000DA0 9508 60A4      000A4       10054  1 1165.                IF    SKTREAD,BEGIN           A read is in progress
 000DA4 4770 A18C            00E16 10064  1          +
                                   10069  2 1166.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10070  2 1167.                  Ÿ  If we have received either an abort or an EOF, we    Ÿ
                                   10071  2 1168.                  Ÿ  complete this read with either an error or whatever  Ÿ
                                   10072  2 1169.                  Ÿ  data is currently in the buffer cause there isn't    Ÿ
                                   10073  2 1170.                  Ÿ  going to be any more.                                Ÿ
                                   10074  2 1171.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000DA8 9128 6081      00081       10075  2 1172.                  IF    (SKRABORT+SKREOF),BEGIN
 000DAC 4780 A14E            00DD8 10088  2          +
 000DB0                            10093  3 1173.                    IF    (SKICNT,Z),BEGIN
 000DB0 D603 6018 6018 00018 00018 10103  3          +
 000DB6 4770 A148            00DD2 10104  3          +
 000DBA D203 60BC A9FA 000BC 01684 10109  4 1174.                      MVC   SKRR15,=A(-4)           Assume abort
 000DC0 9120 6081      00081       10110  4 1175.                      IF    SKREOF,'MVC SKRR15,=A(-8)'   Oops, make it EOF
 000DC4 47E0 A144            00DCE 10120  4          +
 000DC8 D203 60BC A9FE 000BC 01688 10126  4          +
 000DCE 47F0 A292            00F1C 10131  4 1176.                      B     ACTIOPST                Post it complete
 000DD2                            10132  3 1177.                    END   ,
 000DD2                            10136  3 1178.                    CLEAR SKMINLEN                Send whatever is there
 000DD2 D703 60B0 60B0 000B0 000B0 10142  3          +
 000DD8                            10143  2 1179.                  END   ,
                                   10147  2 1180.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10148  2 1181.                  Ÿ  See if there is enough data available.  Ÿ
                                   10149  2 1182.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000DD8                            10150  2 1183.                  IF    (SKMINLEN,LE,SKICNT),BEGIN
 000DD8 D503 60B0 6018 000B0 00018 10162  2          +
 000DDE 4730 A172            00DFC 10163  2          +
 000DE2                            10168  3 1184.                    PSET  @SOCKP
 000DE2 D708 D048 D048 00000 00000 10178  3          +
 000DE8 5060 D048            00000 10179  3 1185.                    PMOV  @SOCK,LA:SOCK
 000DEC 58F0 AA02/0DEF       0168C 10190  3 1186.                    ACALL MOVEOUT                 Move the data to the user
 000DF2                            10197  3 1187.                    CLEAR SKRR15                  Good return code
 000DF2 D703 60BC 60BC 000BC 000BC 10203  3          +
 000DF8 47F0 A292            00F1C 10204  3 1188.                    B     ACTIOPST                Post the I/O complete
 000DFC                            10205  2 1189.                  END   ,
                                   10209  2 1190.     *
                                   10210  2 1191.     *  Check for timeout
                                   10211  2 1192.     *
 000DFC 9120 6080      00080       10212  2 1193.                  IF    TIMEUP,BEGIN            The read timed out
 000E00 47E0 A188            00E12 10222  2          +
 000E04 94DF 6080      00080       10227  3 1194.                    CLEAR TIMEUP
 000E08 D203 60BC AA06 000BC 01690 10234  3 1195.                    MVC   SKRR15,=F'4'            No data yet
 000E0E 47F0 A292            00F1C 10235  3 1196.                    B     ACTIOPST                Post it complete
 000E12                            10236  2 1197.                  END   ,
 000E12 47F0 A2C8            00F52 10240  2 1198.                  EXIT  IOACT                   Have to wait a little longer
 000E16                            10243  1 1199.                END
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   82
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10248  1 1201.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10249  1 1202.     Ÿ                                                                     Ÿ
                                   10250  1 1203.     Ÿ              Write Processing                                       Ÿ
                                   10251  1 1204.     Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000E16 950C 60A4      000A4       10252  1 1205.                IF    SKTWRIT,BEGIN           A Write is in progress
 000E1A 4770 A1F8            00E82 10262  1          +
                                   10267  2 1206.
 000E1E 9140 6083      00083       10268  2 1207.                  IF    ~SKIWRIT,BEGIN          We can't send any more
 000E22 4710 A1A6            00E30 10278  2          +
 000E26 D203 60BC A9FA 000BC 01684 10283  3 1208.                    MVC   SKRR15,=A(-4)           So tell him that
 000E2C 47F0 A292            00F1C 10284  3 1209.                    B     ACTIOPST                Go post the return
 000E30                            10285  2 1210.                  END   ,
                                   10289  2 1211.
 000E30 9180 6081      00081       10290  2 1212.                  IF    ~SKSTOP,BEGIN           He is allowing us to proceed
 000E34 4710 A1DE            00E68 10300  2          +
 DROP   @SOCKP-72,R13              10305  3 1213.                    PSET  @SENDTCP
 USING  @SENDTCP-72,R13
 000E38 D718 D048 D048 00000 00000 10325  3          +
 AUSING (TCPHDR,@SNDHDR)           10326  3 1214.                    USING (TCPHDR,@SNDHDR)
 000E3E D213 D04C A966 00000 015F0 10332  3 1215.                    MVC   TCPHDR,=CL16'TCP_WRITE:'
 000E44                            10333  3 1216.                    PMOV  TCPSID,SKASID           Session ID
 000E44 D203 D05C 6030 00010 00030 10337  3          +
 000E4A 9680 D060      00018       10338  3 1217.                    SET   @SNDSBUF                Send his buffer too
 000E4E 5060 D048            00000 10344  3 1218.                    PMOV  @SNDSOCK,LA:SOCK        Socket Address
 000E52 58F0 AA0A/0DEF       01694 10355  3 1219.                    ACALL SENDTCP                 Attempt to send it
 000E58 1200/4770 A1DE       00E68 10362  3 1220.                    IF    (RVR,Z),BEGIN           It worked
 000E5E                            10376  4 1221.                      CLEAR SKRR15                  Good Return Code
 000E5E D703 60BC 60BC 000BC 000BC 10382  4          +
 000E64 47F0 A292            00F1C 10383  4 1222.                      B     ACTIOPST                Go post the return
 000E68                            10384  3 1223.                    END   ,
 000E68                            10388  2 1224.                  END   ,
                                   10392  2 1225.     *
                                   10393  2 1226.     *  Check for timeout
                                   10394  2 1227.     *
 000E68 9120 6080      00080       10395  2 1228.                  IF    TIMEUP,BEGIN            The write timed out
 000E6C 47E0 A1F4            00E7E 10405  2          +
 000E70 94DF 6080      00080       10410  3 1229.                    CLEAR TIMEUP
 000E74 D203 60BC AA0E 000BC 01698 10417  3 1230.                    MVC   SKRR15,=A(4)            Not yet able to sent
 000E7A 47F0 A292            00F1C 10418  3 1231.                    B     ACTIOPST                Post it complete
 000E7E                            10419  2 1232.                  END   ,
 000E7E 47F0 A2C8            00F52 10423  2 1233.                  EXIT  IOACT                   Have to wait a bit longer
 000E82                            10426  1 1234.                END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   83
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10431  1 1236.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10432  1 1237.     Ÿ                                                                     Ÿ
                                   10433  1 1238.     Ÿ              Control Processing                                     Ÿ
                                   10434  1 1239.     Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000E82 9510 60A4      000A4       10435  1 1240.                IF    SKTCNTL,BEGIN
 000E86 4770 A230            00EBA 10445  1          +
 000E8A                            10450  2 1241.                  PSET  @SENDTCP
 000E8A D718 D048 D048 00000 00000 10460  2          +
 AUSING (TCPHDR,@SNDHDR)           10461  2 1242.                  USING (TCPHDR,@SNDHDR)
 000E90 D213 D04C A976 00000 01600 10467  2 1243.                  MVC   TCPHDR,=CL16'TCP_EOF:'
 000E96                            10468  2 1244.                  PMOV  TCPSID,SKASID           Session ID
 000E96 D203 D05C 6030 00010 00030 10472  2          +
 000E9C 5060 D048            00000 10473  2 1245.                  PMOV  @SNDSOCK,LA:SOCK        Socket Address
 000EA0 58F0 AA0A/0DEF       01694 10484  2 1246.                  ACALL SENDTCP                 Attempt to send it
 000EA6 1200/4770 A230       00EBA 10491  2 1247.                  IF    (RVR,Z),BEGIN           It worked
 000EAC 9610 6081      00081       10505  3 1248.                    SET   SKSEOF                  Mark it sent
 000EB0                            10511  3 1249.                    CLEAR SKRR15                  Good Return Code
 000EB0 D703 60BC 60BC 000BC 000BC 10517  3          +
 000EB6 47F0 A292            00F1C 10518  3 1250.                    B     ACTIOPST                Post it complete
 000EBA                            10519  2 1251.                  END   ,
 000EBA                            10523  1 1252.                END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   84
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10528  1 1254.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10529  1 1255.     Ÿ                                                                     Ÿ
                                   10530  1 1256.     Ÿ              Detach Processing                                      Ÿ
                                   10531  1 1257.     Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000EBA 9518 60A4      000A4       10532  1 1258.                IF    SKTDTCH,BEGIN           A detach is in progress
 000EBE 4770 A28E            00F18 10542  1          +
 000EC2 9503 6082      00082       10547  2 1259.                  IF    SKSDTRN,BEGIN           We are in data transfer mode
 000EC6 4770 A258            00EE2 10557  2          +
 000ECA 9110 6081      00081       10562  3 1260.                    IF    SKSEOF,'SET SKSDONE'    Move out of that state
 000ECE 47E0 A24C            00ED6 10572  3          +
 000ED2 9205 6082      00082       10583  3          +
 000ED6 A250           00ED6 00ED0 10588  3 1261.                    ELSE  'SET SKSABRT'           Abort the connection
 000ED6 47F0 A254            00EDE 10593  3          +
 000EDA 9204 6082      00082       10605  3          +
 000EDE 9604 6080      00080       10610  3 1262.                    SET   RERUN                   Process W/O Waiting
 000EE2                            10616  2 1263.                  END
 000EE2 A25C           00EE2 00EC8 10620  2 1264.                  ELSEIF SKSWCON,BEGIN          Waiting for the connection
 000EE2 47F0 A26C            00EF6 10626  2          +
 000EE6 9502 6082      00082       10638  2          +
 000EEA 4770 A26C            00EF6 10639  2          +
 000EEE 9204 6082      00082       10644  3 1265.                    SET SKSABRT
 000EF2 9604 6080      00080       10650  3 1266.                    SET   RERUN
 000EF6                            10656  2 1267.                  END   ,
 000EF6 A270           00EF6 00EEC 10660  2 1268.                  ELSEIF (SKSCLSD,OR,SKSINIT),BEGIN    All closed up
 000EF6 47F0 A28E            00F18 10666  2          +
 000EFA 9507 6082      00082       10680  2          +
 000EFE 4780 A280            00F0A 10683  2          +
 000F02 9500 6082      00082       10692  2          +
 000F06 4770 A28E            00F18 10693  2          +
 000F0A 9610 6083      00083       10698  3 1269.                    SET   SKIDTCH                 Gone for good
 000F0E                            10704  3 1270.                    CLEAR SKRR15                  Good Return Code
 000F0E D703 60BC 60BC 000BC 000BC 10710  3          +
 000F14 47F0 A292            00F1C 10711  3 1271.                    B     ACTIOPST                Go post the return
 000F18                            10712  2 1272.                  END   ,
 000F18                            10716  1 1273.                END   ,
 000F18 47F0 A2C8            00F52 10720  1 1274.                EXIT  IOACT                   Any others do nothing
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   85
0Current Usings:  (PZERO,R0) (SOCK,R6) (NETLOCAL,R10) (@TENTRY-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000F1C                            10724  1 1276.     ACTIOPST   LABEL ,                       Post an active I/O complete
 DROP   @SENDTCP-72,R13            10726  1 1277.                PSET  @SOCKP
 USING  @SOCKP-72,R13
 000F1C D708 D048 D048 00000 00000 10746  1          +
 000F22 5060 D048            00000 10747  1 1278.                ST    RX,@SOCK
 000F26 9200 60A4      000A4       10748  1 1279.                SET   IDLE                    We are Idle now
 000F2A 9108 6080      00080       10754  1 1280.                IF    TIMERUN,BEGIN           If a timer is running...
 000F2E 47E0 A2B8            00F42 10764  1          +
 000F32                            10769  2 1281.                  PSET  @SOCKP
 000F32 D708 D048 D048 00000 00000 10779  2          +
 000F38 5060 D048            00000 10780  2 1282.                  ST    RX,@SOCK
 000F3C 58F0 AA12/0DEF       0169C 10781  2 1283.                  ACALL CANTIME                 Cancel it.
 000F42                            10788  1 1284.                END   ,
 000F42                            10792  1 1285.                PSET  @SOCKP                  Common control block
 000F42 D708 D048 D048 00000 00000 10802  1          +
 000F48 5060 D048            00000 10803  1 1286.                ST    RX,@SOCK                Tell it which one
 000F4C 58F0 AA16/0DEF       016A0 10804  1 1287.                ACALL IODONE                  Post the I/O complete
 000F52                            10811    1288.              END   ,
                                   10815    1289.     *
                                   10816    1290.     * Handle the the cleanup processing if we are detached
                                   10817    1291.     *
 000F52 9110 6083      00083       10818    1292.              IF    SKIDTCH,BEGIN           Everything is finished
 000F56 47E0 A2E6            00F70 10828             +
 000F5A                            10833  1 1293.                PSET  @SOCKP
 000F5A D708 D048 D048 00000 00000 10843  1          +
 000F60 5060 D048            00000 10844  1 1294.                ST    RX,@SOCK
 000F64 58F0 AA1A/0DEF       016A4 10845  1 1295.                ACALL DELSOCK                 Free the SOCK
 000F6A 58F0 AA1E/0DEF       016A8 10852  1 1296.                VCALL TEXIT                   Then make the task go away
 000F70                            10856    1297.              END   ,
 000F70 47F0 A050            00CDA 10860    1298.              B     MLOOP                   Continue
 000F74 981F C008            00008 10861    1299.              PEND  ,                       Return to the caller
 DROP   SOCK,R6
 DROP   @TENTRY-72,R12
 DROP   NETLOCAL,R10
 000F78 9680 C000/0B0E 00000       10881             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   86
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10891    1301.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10892    1302.     Ÿ                                                                     Ÿ
                                   10893    1303.     Ÿ  DOSTATE --  This routine processes the socket through the state    Ÿ
                                   10894    1304.     Ÿ              table.  The routine branches on the state stored in    Ÿ
                                   10895    1305.     Ÿ              the socket to the proper section of code for that      Ÿ
                                   10896    1306.     Ÿ              state.                                                 Ÿ
                                   10897    1307.     Ÿ                                                                     Ÿ
                                   10898    1308.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   10899    1309.     Ÿ                                                                     Ÿ
                                   10900    1310.     Ÿ   Output --  none                                                   Ÿ
                                   10901    1311.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00001 10903    1313.     DOSDATA  RECORD BEGIN                  DOSTATE work area
 000000 00                         10911  1 1314.     DOSFLAG    FLAG  ,
 DOSFLAG.DSFDONE   80 ONES         10915  1 1315.                FLAG  DSFDONE                 No more work to do
 000001                00001 00001 10920    1316.              END   ,
-000F7E                            10930    1318.     DOSTATE  PROC  @SOCKP,DOSDATA,SCOPE=LOCAL
 000F7E C4D6E2E3C1E3C540           10937             +
 000F86 0010/0008                  10938             +
 000F8A 900F D004/18AF       00004 10940             +
 USING  DOSTATE,R10
 000F90 50D0 C000/18CD       00000 10955             +
 000F96 9680 C000      00000       10957             +
 USING  @SOCKP-72,R12
 AUSING (DOSDATA,@SOCKP+16)
 000F9A 41D0 C060            00060 10976             +
 000F9E 5860 C048            00000 10977    1319.              L     RX,@SOCK                Socket pointer
 USING  SOCK,R6                    10978    1320.              WITH  (SOCK,RX)
 000FA2                            10991    1321.     DOSHEAD  LABEL ,
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   87
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  10994    1323.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   10995    1324.     Ÿ                                                                     Ÿ
                                   10996    1325.     Ÿ  Capture any and all received buffers.  These are queued to         Ÿ
                                   10997    1326.     Ÿ  the socket in the proper order for subsequent processing.          Ÿ
                                   10998    1327.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000FA2 5830 600C/1233       0000C 10999    1328.              LT    RB,SKNSQE               Get the NSQE pointer
 000FA8 4780 A082            0100C 11003    1329.              IF    NZ,BEGIN
 USING  NSQE,R3                    11014  1 1330.                WITH  (NSQE,RB)
                                   11027  1 1331.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11028  1 1332.                Ÿ  Check for path closure  Ÿ
                                   11029  1 1333.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000FAC 5810 3008            00008 11030  1 1334.                L     RS,NSQENPCB
 USING  NPCB,R1                    11031  1 1335.                WITH  (NPCB,RS),BEGIN
 000FB0 9140 1010      00010       11045  2 1336.                  IF    NPCBCLSD,'SET SKSCLSD'  Whole socket is closed
 000FB4 47E0 A032            00FBC 11055  2          +
 000FB8 9207 6082      00082       11066  2          +
 000FBC 9180 1010      00010       11071  2 1337.                  IF    ~NPCBOPEN,'SET SKSCLSD' Or hasn't opened yet
 000FC0 4710 A03E            00FC8 11081  2          +
 000FC4 9207 6082      00082       11092  2          +
 DROP   NPCB,R1                    11097  1 1338.                END   ,
                                   11105  1 1339.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11106  1 1340.                Ÿ  First remove all the queued buffers from the NSQE  Ÿ
                                   11107  1 1341.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000FC8 5840 300C/1244       0000C 11108  1 1342.                IF    ('LT RJ,NSQENBUF',Z),EXIT   Nothing to do
 000FCE 4780 A082            0100C 11121  1          +
 000FD2 1B55                       11127  1 1343.                CLEAR RK
 000FD4                            11131  1 1344.                LOOP  BEGIN
 000FD4 BA45 300C            0000C 11137  2 1345.                  CS    RJ,RK,NSQENBUF          Try to replace with zero
 000FD8 4770 A04A            00FD4 11138  1 1346.                UNTIL Z,END
                                   11157  1 1347.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11158  1 1348.                Ÿ  The list is in reverse order from when they arrived.  We   Ÿ
                                   11159  1 1349.                Ÿ  must turn the list around so that the earliest message is  Ÿ
                                   11160  1 1350.                Ÿ  first in the queue.                                        Ÿ
                                   11161  1 1351.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000FDC                            11162  1 1352.                LOOP  BEGIN
 USING  NBUF,R4                    11168  2 1353.                  WITH  (NBUF,RJ)
 000FDC 5810 4004            00004 11181  2 1354.                  L     RS,NBUFNEXT
 000FE0 5050 4004            00004 11182  2 1355.                  ST    RK,NBUFNEXT
 000FE4 1211/4780 A068       00FF2 11183  2 1356.                  IF    (RS,Z),EXIT
 000FEA 1854                       11200  2 1357.                  LR    RK,RJ                   Point at the previous
 000FEC 1841                       11201  2 1358.                  LR    RJ,RS                   Move to the next
 000FEE 47F0 A052            00FDC 11202  1 1359.                END   ,
 DROP   NBUF,R4
                                   11212  1 1360.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11213  1 1361.                Ÿ  Add this list of messages to the end of the local queue.  Ÿ
                                   11214  1 1362.                Ÿ  Since there are normally no messages stored, this should  Ÿ
                                   11215  1 1363.                Ÿ  be easy.                                                  Ÿ
                                   11216  1 1364.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000FF2 4150 6010            00010 11217  1 1365.                LA    RK,SKNBUF               Pointer to the address
 000FF6 5810 5000/1211       00000 11218  1 1366.                WHILE ('LT RS,@RK',NZ),BEGIN  Find the end
 000FFC 4780 A07E            01008 11231  1          +
 001000 4150 1004            00004 11236  2 1367.                  LA    RK,NBUFNEXT-NBUF(,RS)   Got the next one
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   88
0Current Usings:  (PZERO,R0) (NSQE,R3) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001004 47F0 A06C            00FF6 11237  1 1368.                END   ,
 001008 5040 5000            00000 11242  1 1369.                ST    RJ,@RK                  Add ours to the list
 DROP   NSQE,R3                    11243    1370.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   89
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11253    1372.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11254    1373.     Ÿ                                                                     Ÿ
                                   11255    1374.     Ÿ  Determine the state and branch to it for processing.               Ÿ
                                   11256    1375.     Ÿ                                                                     Ÿ
                                   11257    1376.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00100C 9680 C058      00000       11259    1378.              SET   DSFDONE                 Assume we need only go once
 001010 5870 6010            00010 11265    1379.              L     RY,SKNBUF               First received buffer
                                   11266    1380.
 001014 1F11/4310 6082       00082 11267    1381.              LC    RS,SKNSTATE             Get the network state byte
 00101A 8910 0002            00002 11274    1382.              SLL   RS,2                    Multiply by 4
 00101E 5811 A09A            01024 11275    1383.              L     RS,STAB(RS)             Get the state code address
 001022 07F1                       11276    1384.              BR    RS                      Go to it
 001024                            11277    1385.     STAB     DS    0A
 001024 00001044                   11278    1386.              DC    A(DOSINIT)              SKSINIT
 001028 00001072                   11279    1387.              DC    A(DOSOSNT)              SKSOSNT
 00102C 000010C2                   11280    1388.              DC    A(DOSWCON)              SKSWCON
 001030 00001162                   11281    1389.              DC    A(DOSDTRN)              SKSDTRN
 001034 000012CC                   11282    1390.              DC    A(DOSABRT)              SKSABRT
 001038 000012FA                   11283    1391.              DC    A(DOSDONE)              SKSDONE
 00103C 00001328                   11284    1392.              DC    A(DOSWCLS)              SKSWCLS
 001040 00001372                   11285    1393.              DC    A(DOSCLSD)              SKSCLSD
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   90
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11287    1395.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11288    1396.     Ÿ                                                                     Ÿ
                                   11289    1397.     Ÿ Initial state.  Here we just try to send off our connection         Ÿ
                                   11290    1398.     Ÿ message.  We might not be able to since we may get a full queue     Ÿ
                                   11291    1399.     Ÿ or closed status back. We do not process any messages.              Ÿ
                                   11292    1400.     Ÿ                                                                     Ÿ
                                   11293    1401.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001044                            11295    1403.     DOSINIT  LABEL ,
 USING  @SENDTCP-72,R13            11297    1404.              PSET  @SENDTCP                Set the parameter area
 001044 D718 D048 D048 00000 00000 11314             +
 AUSING (TCPHDR,@SNDHDR)           11315    1405.              WITH  (TCPHDR,@SNDHDR)
 00104A                            11322    1406.              PMOV  TCPTYPE,=CL16'TCP_OPEN:'
 00104A D20F D04C A686 00000 01610 11326             +
 001050                            11327    1407.              PMOV  TCPSID,SKNSQE           Our Session ID
 001050 D203 D05C 600C 00010 0000C 11331             +
 001056 5060 D048            00000 11332    1408.              PMOV  @SNDSOCK,LA:SOCK        Socket Address
 00105A 9680 D060      00018       11343    1409.              SET   @SNDSBUF                Send the users buffer too
 00105E 58F0 A70A/0DEF       01694 11349    1410.              ACALL SENDTCP                 Go ahead and send it
 001064 1200/4770 A0E4       0106E 11356    1411.              IF    (RVR,Z),BEGIN           We sent it...
 00106A 9201 6082      00082       11370  1 1412.                SET   SKSOSNT                 Move to the next state
 00106E                            11376    1413.              END   ,
 00106E 47F0 A402            0138C 11380    1414.              B     DOSTAIL                 Finish up the state
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   91
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11382    1416.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11383    1417.     Ÿ                                                                     Ÿ
                                   11384    1418.     Ÿ Open Sent State.  In this state, the TCP Open has been sent. We     Ÿ
                                   11385    1419.     Ÿ are waiting for the first message from Amelia, which should be      Ÿ
                                   11386    1420.     Ÿ an OPEN-INFO message to give us the data we need to manage the      Ÿ
                                   11387    1421.     Ÿ connection.  No other messages are processed here.                  Ÿ
                                   11388    1422.     Ÿ                                                                     Ÿ
                                   11389    1423.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0001072                            11391    1425.     DOSOSNT  LABEL ,
 001072 1277/4780 A134       010BE 11393    1426.              IF    (RY,NZ),BEGIN           There is some buffer
 USING  NBUF,R7                    11407  1 1427.                WITH  (NBUF,RY)
 001078 D203 6010 7004 00010 00004 11420  1 1428.                MVC   SKNBUF,NBUFNEXT         So remove it
 AUSING (TCPHDR,NBUFDATA)          11421  1 1429.                WITH  (TCPHDR,NBUFDATA)       Map the header
 00107E                            11428  1 1430.                IF    (TCPTYPE,EQ,'TCP_OPEN_INFO:'),BEGIN
 00107E D50D A75E 7010 016E8 00000 11439  1          +
 001084 4770 A108            01092 11440  1          +
 001088 D203 6030 7024 00030 00014 11445  2 1431.                  MVC   SKASID,TCPDATA          Move the Amelia ID in
 00108E 9202 6082      00082       11446  2 1432.                  SET   SKSWCON                 Move to the next state
 001092                            11452  1 1433.                END   ,
 001092 A10C           01092 01086 11456  1 1434.                ELSE  BEGIN
 001092 47F0 A120            010AA 11461  1          +
 001096 83000012/8021              11467  2 1435.                  ORVSNAP 'Unexpected message following open'
 00109C 4100 A78C            01716 11472  2          +
 AUSING (TCPHDR,NBUFDATA)          11473  2 1436.                  WITH  (TCPHDR,NBUFDATA)       Map the header
 0010A0 83000012                   11480  2 1437.                  ORVSNAP TCPTYPE,L'TCPTYPE
 0010A4 101000007010               11484  2          +
 0010AA                            11485  1 1438.                END   ,
 DROP   @SENDTCP-72,R13            11489  1 1439.                FREENB NBUF                   Now we can free the buffer
 USING  @FREEBUF-72,R13
 0010AA D703 D048 D048 00000 00000 11510  1          +
 0010B0 5070 D048            00000 11521  1          +
 0010B4 58F0 A722/0DEF       016AC 11527  1          +
 0010BA 947F C058      00000       11529  1 1440.                CLEAR DSFDONE                 There may be more to do
 DROP   NBUF,R7                    11536    1441.              END   ,
 0010BE 47F0 A402            0138C 11545    1442.              B     DOSTAIL                 Finish the state
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   92
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@FREEBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11547    1444.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11548    1445.     Ÿ                                                                     Ÿ
                                   11549    1446.     Ÿ Waiting for Connect State.  In this state we are waiting to         Ÿ
                                   11550    1447.     Ÿ receive either a CONNECT message or an ABORT message.               Ÿ
                                   11551    1448.     Ÿ                                                                     Ÿ
                                   11552    1449.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
00010C2                            11554    1451.     DOSWCON  LABEL ,
 0010C2 1277/4780 A1D4       0115E 11556    1452.              IF    (RY,NZ),BEGIN           There is some buffer
 USING  NBUF,R7                    11570  1 1453.                WITH  (NBUF,RY)
 0010C8 D203 6010 7004 00010 00004 11583  1 1454.                MVC   SKNBUF,NBUFNEXT         So remove it
 AUSING (TCPHDR,NBUFDATA)          11584  1 1455.                WITH  (TCPHDR,NBUFDATA)       Map the header
 0010CE                            11591  1 1456.                IF    (TCPTYPE,EQ,'TCP_CONNECT:'),BEGIN
 0010CE D50B A726 7010 016B0 00000 11602  1          +
 0010D4 4770 A178            01102 11603  1          +
 0010D8 4810 700A            0000A 11608  2 1457.                  LH    RS,NBUFLEN              Get the total length
 0010DC 5B10 A732            016BC 11609  2 1458.                  S     RS,=A(L'TCPHDR)         Don't count the header
 0010E0 5910 A736            016C0 11610  2 1459.                  CEIL  RS,L'SKAINFO            Not more than the max
 0010E4 47D0 A162            010EC 11619  2          +
 0010E8 5810 A736            016C0 11624  2          +
 0010EC 0610/4410 A830       017BA 11629  2 1460.                  DEX   RS,'MVC  SKAINFO(0),TCPDATA'   Move the info in
 0017B9 00                                3          +
 0017BA D200 6030 7024 00030 00014 11640  2          +
 0010F2 9203 6082      00082       11648  2 1461.                  SET   SKSDTRN                 Move to the next state
 0010F6 9680 6083      00083       11654  2 1462.                  SET   SKIATCH                 Interface is now attached
 0010FA 9640 6083      00083       11660  2 1463.                  SET   SKIWRIT                 Writing is allowed
 0010FE 9620 6083      00083       11666  2 1464.                  SET   SKIREAD                 Reading is allowed
 001102                            11672  1 1465.                END   ,
 001102 A17C           01102 010D6 11676  1 1466.                ELSEIF (TCPTYPE,EQ,'TCP_ABORT:'),BEGIN
 001102 47F0 A1A8            01132 11682  1          +
 001106 D509 A76C 7010 016F6 00000 11696  1          +
 00110C 4770 A1A8            01132 11697  1          +
 001110 4810 700A            0000A 11702  2 1467.                  LH    RS,NBUFLEN              Get the total length
 001114 5B10 A732            016BC 11703  2 1468.                  S     RS,=A(L'TCPHDR)         Don't count the header
 001118 5910 A73A            016C4 11704  2 1469.                  CEIL  RS,L'SKEMSG             Not more than the max
 00111C 47D0 A19A            01124 11713  2          +
 001120 5810 A73A            016C4 11718  2          +
 001124 5010 60CC            000CC 11723  2 1470.                  ST    RS,SKEMSGL              Save mesage length
 001128 0610/4410 A836       017C0 11724  2 1471.                  DEX   RS,'MVC  SKEMSG(0),TCPDATA'   Move the info in
 0017C0 D200 60D0 7024 000D0 00014 11735  2          +
 00112E 9207 6082      00082       11743  2 1472.                  SET   SKSCLSD                 Nothing more to do here
 001132                            11749  1 1473.                END   ,
 001132 A1AC           01132 0110E 11753  1 1474.                ELSE  BEGIN
 001132 47F0 A1C0            0114A 11758  1          +
 001136 83000012/8021              11764  2 1475.                  ORVSNAP 'Unexpected message during connect'
 00113C 4100 A7AD            01737 11769  2          +
 001140 83000012                   11770  2 1476.                  ORVSNAP TCPTYPE,L'TCPTYPE
 001144 101000007010               11774  2          +
 00114A                            11775  1 1477.                END   ,
 00114A                            11779  1 1478.                FREENB NBUF                   Now we can free the buffer
 00114A D703 D048 D048 00000 00000 11790  1          +
 001150 5070 D048            00000 11801  1          +
 001154 58F0 A722/0DEF       016AC 11807  1          +
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   93
0Current Usings:  (PZERO,R0) (SOCK,R6) (NBUF,R7) (DOSTATE,R10) (@SOCKP-72,R12) (@FREEBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000115A 947F C058      00000       11809  1 1479.                CLEAR DSFDONE                 There may be more to do
 DROP   NBUF,R7                    11816    1480.              END   ,
 00115E 47F0 A402            0138C 11825    1481.              B     DOSTAIL                 Finish the state
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   94
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@FREEBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11827    1483.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11828    1484.     Ÿ                                                                     Ÿ
                                   11829    1485.     Ÿ Data transfer state.  We are sending and receiving data             Ÿ
                                   11830    1486.     Ÿ                                                                     Ÿ
                                   11831    1487.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0001162                            11833    1489.     DOSDTRN  LABEL ,
 001162 1277/4780 A2B4       0123E 11835    1490.              IF    (RY,NZ),BEGIN           There is a buffer
 USING  NBUF,R7                    11849  1 1491.                WITH  (NBUF,RY)
 001168 D203 6010 7004 00010 00004 11862  1 1492.                MVC   SKNBUF,NBUFNEXT         Remove it
 AUSING (TCPHDR,NBUFDATA)          11863  1 1493.                WITH  (TCPHDR,NBUFDATA)
 00116E                            11870  1 1494.                IF    (TCPTYPE,EQ,'TCP_DATA:'),BEGIN
 00116E D508 A7CE 7010 01758 00000 11881  1          +
 001174 4770 A202            0118C 11882  1          +
                                   11887  2 1495.     *
                                   11888  2 1496.     *  Move in the new data
                                   11889  2 1497.     *
 DROP   @FREEBUF-72,R13            11890  2 1498.                  PSET  @SOCKP
 USING  @SOCKP-72,R13
 001178 D708 D048 D048 00000 00000 11910  2          +
 00117E 5060 D048            00000 11911  2 1499.                  PMOV  @SOCK,LA:SOCK
 001182 5070 D04C            00004 11922  2 1500.                  PMOV  @NBUF,LA:NBUF
 001186 58F0 A73E/0DEF       016C8 11933  2 1501.                  ACALL MOVEIN                  Move the data
 00118C                            11940  1 1502.                END   ,
 00118C A206           0118C 01176 11944  1 1503.                ELSEIF (TCPTYPE,EQ,'TCP_STOP:'),'SET SKSTOP'
 00118C 47F0 A214            0119E 11950  1          +
 001190 D508 A7D7 7010 01761 00000 11964  1          +
 001196 4770 A214            0119E 11965  1          +
 00119A 9680 6081      00081       11976  1          +
 00119E A218           0119E 01198 11981  1 1504.                ELSEIF (TCPTYPE,EQ,'TCP_START:'),'CLEAR SKSTOP'
 00119E 47F0 A226            011B0 11987  1          +
 0011A2 D509 A776 7010 01700 00000 12001  1          +
 0011A8 4770 A226            011B0 12002  1          +
 0011AC 947F 6081      00081       12014  1          +
 0011B0 A22A           011B0 011AA 12019  1 1505.                ELSEIF (TCPTYPE,EQ,'TCP_EOF:'),'SET SKREOF'
 0011B0 47F0 A238            011C2 12025  1          +
 0011B4 D507 A696 7010 01620 00000 12039  1          +
 0011BA 4770 A238            011C2 12040  1          +
 0011BE 9620 6081      00081       12051  1          +
 0011C2 A23C           011C2 011BC 12056  1 1506.                ELSEIF (TCPTYPE,EQ,'TCP_ABORT'),BEGIN
 0011C2 47F0 A288            01212 12062  1          +
 0011C6 D508 A7E0 7010 0176A 00000 12076  1          +
 0011CC 4770 A288            01212 12077  1          +
 0011D0 4810 700A            0000A 12082  2 1507.                  LH    RS,NBUFLEN              Get the total length
 0011D4 5B10 A732            016BC 12083  2 1508.                  S     RS,=A(L'TCPHDR)         Don't count the header
 0011D8 5910 A73A            016C4 12084  2 1509.                  CEIL  RS,L'SKEMSG             Not more than the max
 0011DC 47D0 A25A            011E4 12093  2          +
 0011E0 5810 A73A            016C4 12098  2          +
 0011E4 5010 60CC            000CC 12103  2 1510.                  ST    RS,SKEMSGL              Save mesage length
 0011E8 0610/4410 A83C       017C6 12104  2 1511.                  DEX   RS,'MVC  SKEMSG(0),TCPDATA'   Move the info in
 0017C6 D200 60D0 7024 000D0 00014 12115  2          +
 0011EE 9608 6081      00081       12123  2 1512.                  SET   SKRABORT                Remember we received this
 0011F2 94BF 6083      00083       12129  2 1513.                  CLEAR SKIWRIT                 Don't allow any more writes
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   95
0Current Usings:  (PZERO,R0) (SOCK,R6) (NBUF,R7) (DOSTATE,R10) (@SOCKP-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00011F6 9205 6082      00082       12136  2 1514.                  SET   SKSDONE                 This means we're done
 0011FA 947F C058      00000       12142  2 1515.                  CLEAR DSFDONE                 Continue processing
 DROP   @SOCKP-72,R13              12149  2 1516.                  FREENB NBUF                   Free the buffer
 USING  @FREEBUF-72,R13
 0011FE D703 D048 D048 00000 00000 12170  2          +
 001204 5070 D048            00000 12181  2          +
 001208 58F0 A722/0DEF       016AC 12187  2          +
 00120E 47F0 A402            0138C 12189  2 1517.                  B     DOSTAIL                 Skip the rest
 001212                            12190  1 1518.                END   ,
 001212 A28C           01212 011CE 12194  1 1519.                ELSE  BEGIN
 001212 47F0 A2A0            0122A 12199  1          +
 001216 83000012/8027              12205  2 1520.                  ORVSNAP 'Unexpected message during data transfer'
 00121C 4100 A7E9            01773 12210  2          +
 001220 83000012                   12211  2 1521.                  ORVSNAP TCPTYPE,L'TCPTYPE
 001224 101000007010               12215  2          +
 00122A                            12216  1 1522.                END   ,
 00122A                            12220  1 1523.                FREENB NBUF                   Free the buffer
 00122A D703 D048 D048 00000 00000 12231  1          +
 001230 5070 D048            00000 12242  1          +
 001234 58F0 A722/0DEF       016AC 12248  1          +
 00123A 947F C058      00000       12250  1 1524.                CLEAR DSFDONE                 May be more to do
 DROP   NBUF,R7                    12257    1525.              END   ,
                                   12266    1526.              ¿þþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12267    1527.              Ÿ  Handle flow control  Ÿ
                                   12268    1528.              ¾þþþþþþþþþþþþþþþþþþþþþþþ»
 00123E 9140 6081      00081       12269    1529.              IF    SKHOLD,BEGIN            We have asked him to stop
 001242 47E0 A2EE            01278 12279             +
 001246 5810 6018            00018 12284  1 1530.                L     RS,SKICNT               Get the current count
 00124A 4910 6022            00022 12285  1 1531.                IF    (RS,LT,SKILOW),BEGIN    Ok to let him go again
 00124E 47B0 A2EE            01278 12297  1          +
 DROP   @FREEBUF-72,R13            12302  2 1532.                  PSET  @SENDTCP
 USING  @SENDTCP-72,R13
 001252 D718 D048 D048 00000 00000 12322  2          +
 AUSING (TCPHDR,@SNDHDR)           12323  2 1533.                  WITH  (TCPHDR,@SNDHDR)        Redirect the TCP header loc
 001258 D213 D04C A69E 00000 01628 12330  2 1534.                  MVC   TCPHDR,=CL16'TCP_START:'
 00125E                            12331  2 1535.                  PMOV  TCPSID,SKASID           Session ID
 00125E D203 D05C 6030 00010 00030 12335  2          +
 001264 5060 D048            00000 12336  2 1536.                  PMOV  @SNDSOCK,LA:SOCK        Socket Address
 001268 58F0 A70A/0DEF       01694 12347  2 1537.                  ACALL SENDTCP                 Send it off
 00126E 1200/4770 A2EE       01278 12354  2 1538.                  IF    (RVR,Z),'CLEAR SKHOLD'  Clear it if send went ok
 001274 94BF 6081      00081       12375  2          +
 001278                            12380  1 1539.                END   ,
 001278 A2F2           01278 01244 12384    1540.              END   ELSE,BEGIN              We have not asked him to stop
 001278 47F0 A324            012AE 12393             +
 00127C 5810 6018            00018 12399  1 1541.                L     RS,SKICNT               Get the current count
 001280 4910 6024            00024 12400  1 1542.                IF    (RS,GT,SKIHIGH),BEGIN   Must try to stop him
 001284 47D0 A324            012AE 12412  1          +
 001288                            12417  2 1543.                  PSET  @SENDTCP
 001288 D718 D048 D048 00000 00000 12427  2          +
 AUSING (TCPHDR,@SNDHDR)           12428  2 1544.                  WITH  (TCPHDR,@SNDHDR)        Redirect the TCP header loc
 00128E D213 D04C A6AE 00000 01638 12435  2 1545.                  MVC   TCPHDR,=CL16'TCP_STOP:'
 001294                            12436  2 1546.                  PMOV  TCPSID,SKASID           Session ID
 001294 D203 D05C 6030 00010 00030 12440  2          +
 00129A 5060 D048            00000 12441  2 1547.                  PMOV  @SNDSOCK,LA:SOCK        Socket Address
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   96
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000129E 58F0 A70A/0DEF       01694 12452  2 1548.                  ACALL SENDTCP                 Send it off
 0012A4 1200/4770 A324       012AE 12459  2 1549.                  IF    (RVR,Z),'SET SKHOLD'    Mark held if send went ok
 0012AA 9640 6081      00081       12479  2          +
 0012AE                            12484  1 1550.                END   ,
 0012AE                            12488    1551.              END   ,
                                   12492    1552.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12493    1553.              Ÿ  See if all transfers complete.  This is so if both sides     Ÿ
                                   12494    1554.              Ÿ  have signaled EOF and there is no more data to be processed  Ÿ
                                   12495    1555.              Ÿ  in the NBUF chain.  Data may remain in the user buffer.      Ÿ
                                   12496    1556.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0012AE 9130 6081      00081       12497    1557.              IF    (SKREOF*SKSEOF,AND,(SKNBUF,Z)),BEGIN
 0012B2 47E0 A33E            012C8 12512             +
 0012B6 D603 6010 6010 00010 00010 12524             +
 0012BC 4770 A33E            012C8 12525             +
 0012C0 9205 6082      00082       12530  1 1558.                SET   SKSDONE                 Set the new state
 0012C4 947F C058      00000       12536  1 1559.                CLEAR DSFDONE                 Continue processing
 0012C8                            12543    1560.              END   ,
 0012C8 47F0 A402            0138C 12547    1561.              B     DOSTAIL                 Finish the state
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   97
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12549    1563.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12550    1564.     Ÿ                                                                     Ÿ
                                   12551    1565.     Ÿ Abort state.  Here we are trying to send an abort in order to       Ÿ
                                   12552    1566.     Ÿ put ourselved in the done state.                                    Ÿ
                                   12553    1567.     Ÿ                                                                     Ÿ
                                   12554    1568.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0012CC                            12556    1570.     DOSABRT  LABEL ,
 0012CC                            12558    1571.              PSET  @SENDTCP                Set the parameter area
 0012CC D718 D048 D048 00000 00000 12568             +
 AUSING (TCPHDR,@SNDHDR)           12569    1572.              WITH  (TCPHDR,@SNDHDR)
 0012D2                            12576    1573.              PMOV  TCPTYPE,=CL16'TCP_ABORT:'
 0012D2 D20F D04C A6BE 00000 01648 12580             +
 0012D8                            12581    1574.              PMOV  TCPSID,SKASID           Session ID
 0012D8 D203 D05C 6030 00010 00030 12585             +
 0012DE 5060 D048            00000 12586    1575.              PMOV  @SNDSOCK,LA:SOCK        Socket Address
 0012E2 58F0 A70A/0DEF       01694 12597    1576.              ACALL SENDTCP                 Go ahead and send it
 0012E8 1200/4770 A36C       012F6 12604    1577.              IF    (RVR,Z),BEGIN           We sent it...
 0012EE 9205 6082      00082       12618  1 1578.                SET   SKSDONE                 Move to the next state
 0012F2 947F C058      00000       12624  1 1579.                CLEAR DSFDONE                 Keep on processing
 0012F6                            12631    1580.              END   ,
 0012F6 47F0 A402            0138C 12635    1581.              B     DOSTAIL                 Finish up the state
-                                  12637    1583.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12638    1584.     Ÿ                                                                     Ÿ
                                   12639    1585.     Ÿ Done state.  Here we just have to send amelia the close in order    Ÿ
                                   12640    1586.     Ÿ to solicit her close response.                                      Ÿ
                                   12641    1587.     Ÿ                                                                     Ÿ
                                   12642    1588.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0012FA                            12644    1590.     DOSDONE  LABEL ,
 0012FA                            12646    1591.              PSET  @SENDTCP                Set the parameter area
 0012FA D718 D048 D048 00000 00000 12656             +
 AUSING (TCPHDR,@SNDHDR)           12657    1592.              WITH  (TCPHDR,@SNDHDR)
 001300                            12664    1593.              PMOV  TCPTYPE,=CL16'TCP_CLOSE:'
 001300 D20F D04C A6CE 00000 01658 12668             +
 001306                            12669    1594.              PMOV  TCPSID,SKASID           Session ID
 001306 D203 D05C 6030 00010 00030 12673             +
 00130C 5060 D048            00000 12674    1595.              PMOV  @SNDSOCK,LA:SOCK        Socket Address
 001310 58F0 A70A/0DEF       01694 12685    1596.              ACALL SENDTCP                 Go ahead and send it
 001316 1200/4770 A39A       01324 12692    1597.              IF    (RVR,Z),BEGIN           We sent it...
 00131C 9206 6082      00082       12706  1 1598.                SET   SKSWCLS                 Move to the next state
 001320 947F C058      00000       12712  1 1599.                CLEAR DSFDONE                 Keep on processing
 001324                            12719    1600.              END   ,
 001324 47F0 A402            0138C 12723    1601.              B     DOSTAIL                 Finish up the state
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   98
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@SENDTCP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12725    1603.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12726    1604.     Ÿ                                                                     Ÿ
                                   12727    1605.     Ÿ Waiting for Close State.  In this state we are waiting to           Ÿ
                                   12728    1606.     Ÿ receive a CLOSE message from Amelia.                                Ÿ
                                   12729    1607.     Ÿ                                                                     Ÿ
                                   12730    1608.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0001328                            12732    1610.     DOSWCLS  LABEL ,
 001328 1277/4780 A3E4       0136E 12734    1611.              IF    (RY,NZ),BEGIN           There is some buffer
 USING  NBUF,R7                    12748  1 1612.                WITH  (NBUF,RY)
 00132E D203 6010 7004 00010 00004 12761  1 1613.                MVC   SKNBUF,NBUFNEXT         So remove it
 AUSING (TCPHDR,NBUFDATA)          12762  1 1614.                WITH  (TCPHDR,NBUFDATA)       Map the header
 001334                            12769  1 1615.                IF    (TCPTYPE,EQ,'TCP_CLOSE:'),BEGIN
 001334 D509 A780 7010 0170A 00000 12780  1          +
 00133A 4770 A3B8            01342 12781  1          +
 00133E 9207 6082      00082       12786  2 1616.                  SET   SKSCLSD                 Move to the next state
 001342                            12792  1 1617.                END   ,
 001342 A3BC           01342 0133C 12796  1 1618.                ELSE  BEGIN
 001342 47F0 A3D0            0135A 12801  1          +
 001346 83000012/801F              12807  2 1619.                  ORVSNAP 'Unexpected message during close'
 00134C 4100 A810            0179A 12812  2          +
 001350 83000012                   12813  2 1620.                  ORVSNAP TCPTYPE,L'TCPTYPE
 001354 101000007010               12817  2          +
 00135A                            12818  1 1621.                END   ,
 DROP   @SENDTCP-72,R13            12822  1 1622.                FREENB NBUF                   Now we can free the buffer
 USING  @FREEBUF-72,R13
 00135A D703 D048 D048 00000 00000 12843  1          +
 001360 5070 D048            00000 12854  1          +
 001364 58F0 A722/0DEF       016AC 12860  1          +
 00136A 947F C058      00000       12862  1 1623.                CLEAR DSFDONE                 Continue processing
 DROP   NBUF,R7                    12869    1624.              END   ,
 00136E 47F0 A402            0138C 12878    1625.              B     DOSTAIL                 Finish the state
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page   99
0Current Usings:  (PZERO,R0) (SOCK,R6) (DOSTATE,R10) (@SOCKP-72,R12) (@FREEBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12880    1627.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12881    1628.     Ÿ                                                                     Ÿ
                                   12882    1629.     Ÿ Closed State.  Here we just clean up the NSQE, if it has not        Ÿ
                                   12883    1630.     Ÿ yet been done.                                                      Ÿ
                                   12884    1631.     Ÿ                                                                     Ÿ
                                   12885    1632.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001372                            12887    1634.     DOSCLSD  LABEL ,
 001372                            12889    1635.              IF    (SKNSQE,NZ),BEGIN
 001372 D603 600C 600C 0000C 0000C 12899             +
 001378 4780 A402            0138C 12900             +
 DROP   @FREEBUF-72,R13            12905  1 1636.                PSET  @SOCKP
 USING  @SOCKP-72,R13
 00137C D708 D048 D048 00000 00000 12925  1          +
 001382 5060 D048            00000 12926  1 1637.                PMOV  @SOCK,LA:SOCK
 001386 41F0 A470/0DEF       013FA 12937  1 1638.                LCALL DELNSQE                 Disconnect us from global
 00138C                            12946    1639.              END   ,
-00138C 9180 C058      00000       12951    1641.     DOSTAIL  IF    ~DSFDONE,DOSHEAD        Keep on trucking
 001390 47E0 A018            00FA2 12964             +
 001394 981F C008            00008 12970    1642.              PEND
 DROP   SOCK,R6
 DROP   @SOCKP-72,R12
 DROP   DOSTATE,R10
 001398 9680 C000/0B0E 00000       12990             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  100
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13000    1644.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13001    1645.     Ÿ                                                                     Ÿ
                                   13002    1646.     Ÿ NETLOGOF --  This routine is called from the address space master   Ÿ
                                   13003    1647.     Ÿ              when the address space is going away.  It just         Ÿ
                                   13004    1648.     Ÿ              frees the NSQE's for all open sockets.                 Ÿ
                                   13005    1649.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00139E                            13007    1651.     NETLOGOF PROC  SCOPE=GLOBAL
 00139E D5C5E3D3D6C7D6C6           13013             +
 0013A6 0000/0000                  13014             +
 0013AA 900F D004/18AF       00004 13016             +
 USING  NETLOGOF,R10
 0013B0 50D0 C000/18CD       00000 13031             +
 0013B6 9680 C000      00000       13033             +
 0013BA 41D0 C048            00048 13034             +
                                   13035    1652.     *         ORVSNAP 'NETLOGOF Called',MODE=LOG
 0013BE 5820 0208            00208 13036    1653.              L     RA,PZCURASB
 0013C2 5820 2040            00040 13037    1654.              WITH  (ASB,RA),'L RA,ASBNET'
 USING  ASB,R2
 DROP   ASB,R2
 0013C6 1222/4780 A03A       013E4 13061    1655.              WHILE (RA,NZ),BEGIN
                                   13077  1 1656.     *         ORVSNAP (RA),MODE=LOG
 USING  SOCK,R2                    13078  1 1657.                WITH  (SOCK,RA)
 USING  @SOCKP-72,R13              13091  1 1658.                PSET  @SOCKP
 0013CC D708 D048 D048 00000 00000 13108  1          +
 0013D2 5020 D048            00000 13109  1 1659.                ST    RA,@SOCK
 0013D6 41F0 A050/0DEF       013FA 13110  1 1660.                LCALL DELNSQE                 Delete the NSQE
 0013DC 5820 2004            00004 13119  1 1661.                L     RA,SKNEXT               Point at the next one
 0013E0 47F0 A01C            013C6 13120    1662.              END   ,
 DROP   SOCK,R2
 0013E4 981F C008            00008 13130    1663.              PEND  ,
 DROP   NETLOGOF,R10
 0013E8 9680 C000/0B0E 00000       13140             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  101
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13150    1665.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13151    1666.     Ÿ                                                                     Ÿ
                                   13152    1667.     Ÿ  DELNSQE --  This routine frees the socket's NSQE.  It first        Ÿ
                                   13153    1668.     Ÿ              removes it from the global chain.  It also updates     Ÿ
                                   13154    1669.     Ÿ              the NPCB the socket is using.  If it is closed,        Ÿ
                                   13155    1670.     Ÿ              we may also delete it.                                 Ÿ
                                   13156    1671.     Ÿ                                                                     Ÿ
                                   13157    1672.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   13158    1673.     Ÿ                                                                     Ÿ
                                   13159    1674.     Ÿ   Output --  none                                                   Ÿ
                                   13160    1675.     Ÿ                                                                     Ÿ
                                   13161    1676.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0013EE                            13163    1678.     DELNSQE  PROC  @SOCKP,SCOPE=LOCAL
 0013EE C4C5D3D5E2D8C540           13170             +
 0013F6 0010/0000                  13171             +
 0013FA 900F D004/18AF       00004 13173             +
 USING  DELNSQE,R10
 001400 50D0 C000/18CD       00000 13188             +
 001406 9680 C000      00000       13190             +
 USING  @SOCKP-72,R12
 00140A 41D0 C058            00058 13204             +
 00140E 5860 C048            00000 13205    1679.              L     RX,@SOCK
 USING  SOCK,R6                    13206    1680.              WITH  (SOCK,RX)
 001412 5870 600C/1277       0000C 13219    1681.              LT    RY,SKNSQE
 001418 4780 A114            0150E 13223    1682.              IF    Z,EXIT
 USING  NSQE,R7                    13237    1683.              WITH  (NSQE,RY)
 00141C 5820 0200            00200 13250    1684.              L     RA,PZMATP
 001420 5820 203C            0003C 13251    1685.              WITH  (MAT,RA),'L RA,MATGNCT'
 USING  MAT,R2
 DROP   MAT,R2
 USING  GNCT,R2                    13275    1686.              WITH  (GNCT,RA)
 001424 5830 7008            00008 13288    1687.              L     RB,NSQENPCB
 USING  NPCB,R3                    13289    1688.              WITH  (NPCB,RB)
                                   13302    1689.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13303    1690.              Ÿ  Remove our NSQE from the global queue  Ÿ
                                   13304    1691.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 USING  @LOCKS-72,R13              13305    1692.              LKOB  GNCTLOCK                Lock up the world
 001428 D203 D048 2008 00000 00008 13321             +
 00142E 58F0 A2D2/0DEF       016CC 13324             +
 001434 4110 2010            00010 13326    1693.              LA    RS,GNCTNSQE             Head of the queue
 001438 5970 1000            00000 13327    1694.              WHILE (RY,NE,@RS),BEGIN       Find pointer to ours
 00143C 4780 A088            01482 13341             +
 001440 5810 1000/1211       00000 13346  1 1695.                LT    RS,@RS                  Point at next NSQE
 001446 4770 A080            0147A 13350  1 1696.                IF    Z,'ABORT REMNSQE'       Couldn't find it
 00144A AC04 021B      0021B       13365  2          +
 00144E 9680 021A      0021A       13371  2          +
 001452 50F0 021C            0021C 13372  2          +
 001456 58F0 0210            00210 13373  2          +
 00145A 89F0 0010            00010 13374  2          +
 00145E 88F0 0010            00010 13375  2          +
 001462 41F0 F000            00000 13376  2          +
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  102
0Current Usings:  (PZERO,R0) (GNCT,R2) (NPCB,R3) (SOCK,R6) (NSQE,R7) (DELNSQE,R10) (@SOCKP-72,R12) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001466 AEFF 0006            00006 13377  2          +
 00146A D9C5D4D5E2D8C540           13378  1          +
 00147A 4110 1004            00004 13383  1 1697.                LA    RS,NSQENEXT-NSQE(,RS)   Point at next  pointer
 00147E 47F0 A03E            01438 13384    1698.              END   ,
 001482 D203 1000 7004 00000 00004 13389    1699.              MVC   0(4,RS),NSQENEXT        Remove ours from the list
 001488                            13390    1700.              LKREL GNCTLOCK                Release the lock
 001488 D203 D048 2008 00000 00008 13399             +
 00148E 58F0 A2D6/0DEF       016D0 13402             +
                                   13404    1701.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13405    1702.              Ÿ  Clean up any remaining queued buffers (probably none)  Ÿ
                                   13406    1703.              Ÿ  and then free the NSQE itself                          Ÿ
                                   13407    1704.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001494 5810 700C/1211       0000C 13408    1705.              WHILE ('LT RS,NSQENBUF',NZ),BEGIN
 00149A 4780 A0BE            014B8 13421             +
 USING  NBUF,R1                    13426  1 1706.                WITH  (NBUF,RS),'MVC NSQENBUF,NBUFNEXT' Remove it
 00149E D203 700C 1004 0000C 00004 13441  1          +
 DROP   NBUF,R1
 DROP   @LOCKS-72,R13              13450  1 1707.                FREENB (RS)
 USING  @FREEBUF-72,R13
 0014A4 D703 D048 D048 00000 00000 13471  1          +
 0014AA 5010 D048            00000 13481  1          +
 0014AE 58F0 A2B2/0DEF       016AC 13487  1          +
 0014B4 47F0 A09A            01494 13489    1708.              END   ,
 DROP   @FREEBUF-72,R13            13494    1709.              VMFREE L'NSQE,A=(RY),LOC=GLOBHI,FIX=YES
 USING  @VMFREE-72,R13
 0014B8 D709 D048 D048 00000 00000 13521             +
 0014BE 4100 0019            00019 13533             +
 0014C2 5000 D04C            00004 13538             +
 0014C6 5070 D048            00000 13548             +
 0014CA D201 D050 A31A 00008 01714 13549             +
 0014D0 58F0 A2DA/0DEF       016D4 13552             +
 0014D6                            13554    1710.              CLEAR SKNSQE
 0014D6 D703 600C 600C 0000C 0000C 13560             +
 DROP   NSQE,R7                    13561    1711.              DROP  RY
                                   13568    1712.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13569    1713.              Ÿ  Reduce the use count on our path.  Ÿ
                                   13570    1714.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @VMFREE-72,R13             13571    1715.              LKOB  GNCTLOCK                Lock up the queue
 USING  @LOCKS-72,R13
 0014DC D203 D048 2008 00000 00008 13590             +
 0014E2 58F0 A2D2/0DEF       016CC 13593             +
 0014E8 5810 300C/0610       0000C 13595    1716.              DECR  RS,NPCBREF              Reduce the count
 0014EE 5010 300C            0000C 13599             +
 0014F2                            13600    1717.              LKREL GNCTLOCK
 0014F2 D203 D048 2008 00000 00008 13609             +
 0014F8 58F0 A2D6/0DEF       016D0 13612             +
 DROP   @LOCKS-72,R13              13614    1718.              PSET  @DELNPCB
 USING  @DELNPCB-72,R13
 0014FE D703 D048 D048 00000 00000 13634             +
 001504 5030 D048            00000 13635    1719.              PMOV  @NPCB,LA:NPCB
 001508 58F0 A2DE/0DEF       016D8 13646    1720.              ACALL DELNPCB                 Attempt to remove it
 00150E 981F C008            00008 13653    1721.              PEND
 DROP   NPCB,R3
 DROP   GNCT,R2
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  103
0Current Usings:  (PZERO,R0) (@DELNPCB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   SOCK,R6
 DROP   @SOCKP-72,R12
 DROP   DELNSQE,R10
 001512 9680 C000/0B0E 00000       13685             +
 DROP   @DELNPCB-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  104
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13695    1723.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13696    1724.     Ÿ                                                                     Ÿ
                                   13697    1725.     Ÿ   MOVEIN --  This routine moves the data from an NBUF into the      Ÿ
                                   13698    1726.     Ÿ              socket's input buffers.  If there is not enough        Ÿ
                                   13699    1727.     Ÿ              room in the current buffer we chain another one.       Ÿ
                                   13700    1728.     Ÿ                                                                     Ÿ
                                   13701    1729.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   13702    1730.     Ÿ                                                                     Ÿ
                                   13703    1731.     Ÿ   Output --  RVR = 0 : Moved                                        Ÿ
                                   13704    1732.     Ÿ                                                                     Ÿ
                                   13705    1733.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001518                            13707    1735.     MOVEIN   PROC  @SOCKP,SCOPE=LOCAL
 001518 D4D6E5C5C9D54040           13714             +
 001520 0010/0000                  13715             +
 001524 900F D004/18AF       00004 13717             +
 USING  MOVEIN,R10
 00152A 50D0 C000/18CD       00000 13732             +
 001530 9680 C000      00000       13734             +
 USING  @SOCKP-72,R12
 001534 41D0 C058            00058 13748             +
 001538 5820 C048            00000 13749    1736.              L     RA,@SOCK
 USING  SOCK,R2                    13750    1737.              WITH  (SOCK,RA)
 00153C 5830 C04C            00004 13763    1738.              L     RB,@NBUF                Get the buffer address
 USING  NBUF,R3                    13764    1739.              WITH  (NBUF,RB)
                                   13777    1740.
 001540 4160 3024            00024 13778    1741.              LA    RX,NBUFDATA+L'TCPHDR    Address of the data
 001544 4870 300A            0000A 13779    1742.              LH    RY,NBUFLEN              Length of the buffer
 001548 5B70 A198            016BC 13780    1743.              S     RY,=A(L'TCPHDR)         Length of the data
                                   13781    1744.     *
                                   13782    1745.     *  Lock the Sock
                                   13783    1746.     *
 00154C 58F0 A1B8/0DEF       016DC 13784    1747.              VCALL ASLOCK                  Hold everything
                                   13788    1748.     *
                                   13789    1749.     *  Update the total count
                                   13790    1750.     *
 001552 5810 2018            00018 13791    1751.              L     RS,SKICNT               Get the current count
 001556 1A17                       13792    1752.              AR    RS,RY                   Add length of this buffer
 001558 5010 2018            00018 13793    1753.              ST    RS,SKICNT               Current byte count
                                   13794    1754.     *
                                   13795    1755.     *  If chain is empty, get a new buffer
                                   13796    1756.     *
 00155C 5830 2014            00014 13797    1757.              L     RB,SKICHAIN             Current buffer
 DROP   NBUF,R3                    13798    1758.              WITH  (LBUF,RB)
 USING  LBUF,R3
 001560 1233/4770 A058       0157C 13814    1759.              IF    (RB,Z),BEGIN
 USING  @GETLB-72,R13              13828  1 1760.                PSET  @GETLB
 001566 D703 D048 D048 00000 00000 13845  1          +
 00156C 5020 D048            00000 13846  1 1761.                ST    RA,@GTLBSOC             SOCK address
 001570 58F0 A1BC/0DEF       016E0 13847  1 1762.                ACALL GETLBUF                 Get one
 001576 1830                       13854  1 1763.                LR    RB,RVR
 001578 5030 2014            00014 13855  1 1764.                ST    RB,SKICHAIN
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  105
0Current Usings:  (PZERO,R0) (SOCK,R2) (LBUF,R3) (MOVEIN,R10) (@SOCKP-72,R12) (@GETLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000157C                            13856    1765.              END   ,
                                   13860    1766.     *
                                   13861    1767.     *  Find active (last) input buffer on the chain
                                   13862    1768.     *
 00157C A05C           0157C 01564 13863    1769.              ELSE  BEGIN
 00157C 47F0 A06E            01592 13868             +
 001580                            13874  1 1770.                WHILE (LBCHAIN,NZ),'L  RB,LBCHAIN'
 001580 D603 3004 3004 00004 00004 13886  1          +
 001586 4780 A06E            01592 13887  1          +
 00158A 5830 3004            00004 13893  1          +
 00158E 47F0 A05C            01580 13897  1          +
 001592                            13899    1771.              END   ,
                                   13903    1772.     *
                                   13904    1773.     *  Now move all the data from the NBUF to the LBUF
                                   13905    1774.     *
 001592                            13906    1775.              LOOP  BEGIN
                                   13912  1 1776.     *
                                   13913  1 1777.     *  First determine starting point in LBUF
                                   13914  1 1778.     *
 001592 4840 300A            0000A 13915  1 1779.                LH    RJ,LBOFF                Current position
 001596 4A40 300C            0000C 13916  1 1780.                AH    RJ,LBCNT                Skip Unread data
                                   13917  1 1781.     *
                                   13918  1 1782.     *  There is room in this LBUF
                                   13919  1 1783.     *
 00159A 4940 3008            00008 13920  1 1784.                IF    (RJ,LT,LBDLEN),BEGIN
 00159E 47B0 A09C            015C0 13932  1          +
                                   13937  2 1785.     *
                                   13938  2 1786.     *  Determine how much will fit
                                   13939  2 1787.     *
 0015A2 4850 3008            00008 13940  2 1788.                  LH    RK,LBDLEN               Maximum data length
 0015A6 1B54                       13941  2 1789.                  SR    RK,RJ                   Count to the end
 0015A8 1957/47D0 A08C       015B0 13942  2 1790.                  CEIL  RK,RY                   Not more than we have
 0015AE 1857                       13947  2          +
                                   13948  2 1791.     *
                                   13949  2 1792.     *  Update data count
                                   13950  2 1793.     *
 0015B0 4810 300C            0000C 13951  2 1794.                  LH    RS,LBCNT                Current used
 0015B4 1A15                       13952  2 1795.                  AR    RS,RK                   New portion
 0015B6 4010 300C            0000C 13953  2 1796.                  STH   RS,LBCNT                New amount used
                                   13954  2 1797.     *
                                   13955  2 1798.     *  Move the data from NBUF to LBUF
                                   13956  2 1799.     *
 0015BA 4144 300E            0000E 13957  2 1800.                  LA    RJ,LBDATA(RJ)           Data address in LBUF
 0015BE 0E46                       13958  2 1801.                  MVCL  RJ,RX                   Move data
 0015C0                            13959  1 1802.                END   ,
                                   13963  1 1803.     *
                                   13964  1 1804.     *  If the NBUF is empty we're all done, otherwise get
                                   13965  1 1805.     *    another LBUF and keep going
                                   13966  1 1806.     *
 0015C0 1277/4780 A0BC       015E0 13967  1 1807.                IF    (RY,Z),EXIT             All done
 0015C6                            13984  1 1808.                PSET  @GETLB
 0015C6 D703 D048 D048 00000 00000 13994  1          +
 0015CC 5020 D048            00000 13995  1 1809.                ST    RA,@GTLBSOC             SOCK address
 0015D0 58F0 A1BC/0DEF       016E0 13996  1 1810.                ACALL GETLBUF                 Get one
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  106
0Current Usings:  (PZERO,R0) (SOCK,R2) (LBUF,R3) (MOVEIN,R10) (@SOCKP-72,R12) (@GETLB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00015D6 5000 3004            00004 14003  1 1811.                ST    RVR,LBCHAIN             Add new buffer to end
 0015DA 1830                       14004  1 1812.                LR    RB,RVR
 0015DC 47F0 A06E            01592 14005    1813.              END   ,
 DROP   LBUF,R3                    14010    1814.              DROP  RB
                                   14017    1815.     *
                                   14018    1816.     *  Unlock and we're done
                                   14019    1817.     *
 0015E0 58F0 A1C0/0DEF       016E4 14020    1818.              VCALL ASULOCK                 Then unlock everything
 0015E6 981F C008            00008 14024    1819.              PEND  ,
 USING  NBUF,R3
 DROP   NBUF,R3
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   MOVEIN,R10
 0015EA 9680 C000/0B0E 00000       14058             +
 DROP   @GETLB-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Calling Address Space Processing                                                       Page  107
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00015F0                            14068    1821.              LTORG ,
 0015F0 E3C3D76DE6D9C9E3           14070                             =CL16'TCP_WRITE:'
 001600 E3C3D76DC5D6C67A           14071                             =CL16'TCP_EOF:'
 001610 E3C3D76DD6D7C5D5           14072                             =CL16'TCP_OPEN:'
 001620 E3C3D76DC5D6C67A           14073                             =C'TCP_EOF:'
 001628 E3C3D76DE2E3C1D9           14074                             =CL16'TCP_START:'
 001638 E3C3D76DE2E3D6D7           14075                             =CL16'TCP_STOP:'
 001648 E3C3D76DC1C2D6D9           14076                             =CL16'TCP_ABORT:'
 001658 E3C3D76DC3D3D6E2           14077                             =CL16'TCP_CLOSE:'
 001668 070C0000                   14078                             =X'070C0000'
 00166C 800024D2                   14079                             =A(X'80000000'+PTTIMEX)
 001670 00000000                   14080                             =V(EXRADD)
 001674 00000000                   14081                             =V(XITMASK)
 001678 00000000                   14082                             =V(AWAIT)
 00167C 000023C6                   14083                             =A(DOTIME)
 001680 00000010                   14084                             =A(16)
 001684 FFFFFFFC                   14085                             =A(-4)
 001688 FFFFFFF8                   14086                             =A(-8)
 00168C 00002006                   14087                             =A(MOVEOUT)
 001690 00000004                   14088                             =F'4'
 001694 000020EC                   14089                             =A(SENDTCP)
 001698 00000004                   14090                             =A(4)
 00169C 00002458                   14091                             =A(CANTIME)
 0016A0 0000232A                   14092                             =A(IODONE)
 0016A4 0000276E                   14093                             =A(DELSOCK)
 0016A8 00000000                   14094                             =V(TEXIT)
 0016AC 00002BE2                   14095                             =A(FREENBUF)
 0016B0 E3C3D76DC3D6D5D5           14096                             =C'TCP_CONNECT:'
 0016BC 00000014                   14097                             =A(L'TCPHDR)
 0016C0 00000044                   14098                             =A(L'SKAINFO)
 0016C4 00000050                   14099                             =A(L'SKEMSG)
 0016C8 00001524                   14100                             =A(MOVEIN)
 0016CC 00000000                   14101                             =V(LKOB)
 0016D0 00000000                   14102                             =V(LKREL)
 0016D4 00000000                   14103                             =V(VMFREE)
 0016D8 000008D4                   14104                             =A(DELNPCB)
 0016DC 00000000                   14105                             =V(ASLOCK)
 0016E0 00002E1E                   14106                             =A(GETLBUF)
 0016E4 00000000                   14107                             =V(ASULOCK)
 0016E8 E3C3D76DD6D7C5D5           14108                             =C'TCP_OPEN_INFO:'
 0016F6 E3C3D76DC1C2D6D9           14109                             =C'TCP_ABORT:'
 001700 E3C3D76DE2E3C1D9           14110                             =C'TCP_START:'
 00170A E3C3D76DC3D3D6E2           14111                             =C'TCP_CLOSE:'
 001714 3F00                       14112                             =Y(63*256+0)
 001716 E49585A7978583A3           14113                             =C'Unexpected message following open'
 001737 E49585A7978583A3           14114                             =C'Unexpected message during connect'
 001758 E3C3D76DC4C1E3C1           14115                             =C'TCP_DATA:'
 001761 E3C3D76DE2E3D6D7           14116                             =C'TCP_STOP:'
 00176A E3C3D76DC1C2D6D9           14117                             =C'TCP_ABORT'
 001773 E49585A7978583A3           14118                             =C'Unexpected message during data transfer'
 00179A E49585A7978583A3           14119                             =C'Unexpected message during close'
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  108
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14125    1824.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14126    1825.     Ÿ                                                                     Ÿ
                                   14127    1826.     Ÿ    M1NET --  This is the main entry point for the MODE 1            Ÿ
                                   14128    1827.     Ÿ              network interface.  It is called directly from         Ÿ
                                   14129    1828.     Ÿ              the SVC handler.                                       Ÿ
                                   14130    1829.     Ÿ                                                                     Ÿ
                                   14131    1830.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0017CC                            14133    1832.     M1NET    PROC  @M1NET,SCOPE=GLOBAL
 0017CC D4F1D5C5E3404040           14139             +
 0017D4 0018/0000                  14140             +
 0017D8 900F D004/18AF       00004 14142             +
 USING  M1NET,R10
 0017DE 50D0 C000/18CD       00000 14157             +
 0017E4 9680 C000      00000       14159             +
 USING  @M1NET-72,R12
 0017E8 41D0 C060            00060 14173             +
                                   14174    1833.     *
                                   14175    1834.     * Find the socket he wants, if it is an attach, get a new one
                                   14176    1835.     *
 0017EC 9504 C05D      00015       14177    1836.              IF    @M1NATCH,BEGIN
 0017F0 4770 A028            01800 14187             +
 0017F4 41F0 AD4E/0DEF       02526 14192  1 1837.                LCALL NEWSOCK                 Go get the new socket
 0017FA 1820                       14201  1 1838.                LR    RA,RVR                  use the address
 0017FC 5020 C058            00010 14202  1 1839.                ST    RA,@M1NDVID             Save the device ID
 001800 A02C           01800 017F2 14203    1840.              END   ELSE,'L RA,@M1NDVID'    Use the one he passed
 001800 47F0 A030            01808 14212             +
 001804 5820 C058            00010 14219             +
 USING  SOCK,R2                    14224    1841.              WITH  (SOCK,RA)               Setup Addressiblity
 001808                            14237    1842.              IF    (SOCK,NE,'SOCK'),'ABORT BADSOCK'
 001808 D503 A7B8 2000 01F90 00000 14248             +
 00180E 4780 A06A            01842 14249             +
 001812 AC04 021B      0021B       14258  1          +
 001816 9680 021A      0021A       14264  1          +
 00181A 50F0 021C            0021C 14265  1          +
 00181E 58F0 0210            00210 14266  1          +
 001822 89F0 0010            00010 14267  1          +
 001826 88F0 0010            00010 14268  1          +
 00182A 41F0 F000            00000 14269  1          +
 00182E AEFF 0006            00006 14270  1          +
 001832 C2C1C4E2D6C3D240           14271             +
                                   14276    1843.     *
                                   14277    1844.     * Fill in the socket
                                   14278    1845.     *
 001842 D203 2094 C054 00094 0000C 14279    1846.              MVC   SKCRID,@M1NRQID         Request ID
 001848 D203 2098 C048 00098 00000 14280    1847.              MVC   SKCR01,@M1NR01
 00184E D203 209C C04C 0009C 00004 14281    1848.              MVC   SKCR14,@M1NR14
 001854 D203 20A0 C050 000A0 00008 14282    1849.              MVC   SKCR15,@M1NR15
 00185A D200 20A6 C05C 000A6 00014 14283    1850.              MVC   SKRKEY,@M1NPKEY
 001860 9200 20A5      000A5       14284    1851.              CLEAR SKRFLGS                 Clear request flags
 001864 9180 C05E      00016       14291    1852.              IF    @M1NWAIT,'SET SKMWAIT'  Mode Wait
 001868 47E0 A098            01870 14301             +
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  109
0Current Usings:  (PZERO,R0) (SOCK,R2) (M1NET,R10) (@M1NET-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000186C 9680 20A5      000A5       14312             +
 001870 A09C           01870 0186A 14317    1853.              ELSE  'CLEAR SKMWAIT'
 001870 47F0 A0A0            01878 14322             +
 001874 947F 20A5      000A5       14335             +
                                   14340    1854.     *
                                   14341    1855.     * Figure out what needs to be done
                                   14342    1856.     *
 USING  @SOCKP-72,R13              14343    1857.              PSET  @SOCKP
 001878 D708 D048 D048 00000 00000 14360             +
 00187E 9140 C05E      00016       14361    1858.              IF    @M1NM31,'SET @SOCKM31'
 001882 47E0 A0B2            0188A 14371             +
 001886 9680 D050      00008       14382             +
 00188A 5020 D048            00000 14387    1859.              ST    RA,@SOCK
 00188E 1F11/4310 C05D       00015 14388    1860.              LC    RS,@M1NTYPE             Get the request type
 001894 1211/4780 A0CA       018A2 14395    1861.              IF    ((RS,Z),OR,(RS,GE,TTLEN)),'ABORT BADM1NTYPE'
 00189A 5910 A7BC            01F94 14419             +
 00189E 4750 A0FA            018D2 14420             +
 0018A2 AC04 021B      0021B       14429  1          +
 0018A6 9680 021A      0021A       14435  1          +
 0018AA 50F0 021C            0021C 14436  1          +
 0018AE 58F0 0210            00210 14437  1          +
 0018B2 89F0 0010            00010 14438  1          +
 0018B6 88F0 0010            00010 14439  1          +
 0018BA 41F0 F000            00000 14440  1          +
 0018BE AEFF 0006            00006 14441  1          +
 0018C2 C2C1C4D4F1D5E3E8           14442             +
 0018D2 58F1 A10C/0DEF       018E4 14447    1862.              ACALL NTTAB(RS)
                                   14454    1863.     *
                                   14455    1864.     * The return from these is our return, so we are done
                                   14456    1865.     *
 0018D8 981F C008            00008 14457    1866.              PEND  ,                       Return to the caller
 DROP   SOCK,R2
 DROP   @M1NET-72,R12
 DROP   M1NET,R10
 0018DC 9680 C000/0B0E 00000       14477             +
 DROP   @SOCKP-72,R13
                                   14486    1867.
 0018E2 0000
 0018E4 00000000                   14487    1868.     NTTAB    DC    A(0)                    Invalid
 0018E8 0000190C                   14488    1869.              DC    A(ATTACH)               Attach
 0018EC 00001A28                   14489    1870.              DC    A(READ)                 Read
 0018F0 00001BCA                   14490    1871.              DC    A(WRITE)                Write
 0018F4 00001D6E                   14491    1872.              DC    A(CONTROL)              Control
 0018F8 00001EDE                   14492    1873.              DC    A(HALT)                 Halt
 0018FC 00001F2E                   14493    1874.              DC    A(DETACH)               Detach
                                   14494    1875.     TTLEN    EQU   *-NTTAB                 length of the table
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  110
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14496    1877.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14497    1878.     Ÿ                                                                     Ÿ
                                   14498    1879.     Ÿ   ATTACH --  This handles the attach request.  It sends the         Ÿ
                                   14499    1880.     Ÿ              stuff off to amelia using the global path.             Ÿ
                                   14500    1881.     Ÿ                                                                     Ÿ
                                   14501    1882.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   14502    1883.     Ÿ                                                                     Ÿ
                                   14503    1884.     Ÿ   Output --  RVR contains panic code or zero.                       Ÿ
                                   14504    1885.     Ÿ                                                                     Ÿ
                                   14505    1886.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001900                            14507    1888.     ATTACH   PROC  @SOCKP,SCOPE=LOCAL
 001900 C1E3E3C1C3C84040           14514             +
 001908 0010/0000                  14515             +
 00190C 900F D004/18AF       00004 14517             +
 USING  ATTACH,R10
 001912 50D0 C000/18CD       00000 14532             +
 001918 9680 C000      00000       14534             +
 USING  @SOCKP-72,R12
 00191C 41D0 C058            00058 14548             +
 001920 5820 C048            00000 14549    1889.              L     RA,@SOCK
 USING  SOCK,R2                    14550    1890.              WITH  (SOCK,RA)
 001924 D203 20B4 A68C 000B4 01F98 14563    1891.              MVC   SKRR01,=X'80000000'     Default is no return
 00192A D203 20B8 A68C 000B8 01F98 14564    1892.              MVC   SKRR14,=X'80000000'     Default is no return
 001930 D203 20BC A68C 000BC 01F98 14565    1893.              MVC   SKRR15,=X'80000000'     Default is no return
                                   14566    1894.     *
                                   14567    1895.     * Validate the parms.  First the attach parameters
                                   14568    1896.     *
 001936 9180 C050      00008       14569    1897.              IF    ~@SOCKM31,BEGIN
 00193A 4710 A036            01942 14579             +
 00193E 9200 2098      00098       14584  1 1898.                MVI   SKCR01,0                Only 24 bit addresses allowed
 001942                            14585    1899.              END   ,
 001942 5860 2098            00098 14589    1900.              L     RX,SKCR01               Get the buffer location
 001946 5060 20A8            000A8 14590    1901.              ST    RX,SKBUFLOC             Save the location
 00194A 4870 20A2            000A2 14591    1902.              LH    RY,SKCR15+2             And the buffer length
 00194E 1277/47D0 A0F2       019FE 14592    1903.              IF    ((RY,NP),OR,(RY,GT,255)),ATTSPEC
 001954 5970 A690            01F9C 14616             +
 001958 4720 A0F2            019FE 14619             +
 00195C 5070 20AC            000AC 14625    1904.              ST    RY,SKBUFLEN             Save the length of the buffer
 USING  @VALBUF-72,R13             14626    1905.              VALBUF (RX),(RY)              Make sure we can read it
 001960 D707 D048 D048 00000 00000 14644             +
 001966 5060 D048            00000 14654             +
 00196A 4070 D04C/1F00       00004 14664             +
 001970 4300 20A6            000A6 14676             +
 001974 4200 D04E            00006 14682             +
 001978 58F0 A694/0DEF       01FA0 14688             +
 00197E 1200/4770 A0F2       019FE 14690    1906.              IF    (RVR,NZ),ATTSPEC        Nope...spec 'im
                                   14707    1907.     *
                                   14708    1908.     * Validate the timeout
                                   14709    1909.     *
 001984 4870 20A0            000A0 14710    1910.              LH    RY,SKCR15               Get the timeout value
 001988 1277/4740 A0F2       019FE 14711    1911.              IF    ((RY,NEG),OR,(RY,GT,6000)),ATTSPEC
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  111
0Current Usings:  (PZERO,R0) (SOCK,R2) (ATTACH,R10) (@SOCKP-72,R12) (@VALBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000198E 5970 A698            01FA4 14735             +
 001992 4720 A0F2            019FE 14738             +
 001996 1B66                       14744    1912.              CLEAR RX
 001998 5C60 A69C            01FA8 14748    1913.              M     RX,=FE6'1'              Convert to uS
 00199C 8D60 000C            0000C 14749    1914.              SLDL  RX,12                   Convert to TOD format
 0019A0 9067 20C0            000C0 14750    1915.              STM   RX,RY,SKTOVAL           Save the timeout value
                                   14751    1916.     *
                                   14752    1917.     * Now we start up the task which will handle asynchronous events for
                                   14753    1918.     * this path.
                                   14754    1919.     *
 0019A4 9180 20A5      000A5       14755    1920.              IF    SKMWAIT,BEGIN
 0019A8 47E0 A0A8            019B4 14765             +
 0019AC 9204 20A4      000A4       14770  1 1921.                SET   SKTATCH                 Tell the task what to do
 0019B0 9610 2080      00080       14776  1 1922.                SET   TIMEST                  Start a timer if needed
 0019B4                            14782    1923.              END   ,
 DROP   @VALBUF-72,R13             14786    1924.              PSET  @TCREATE
 USING  @TCREATE-72,R13
 0019B4 D714 D048 D048 00000 00000 14806             +
 0019BA D203 D048 A6A0 00000 01FAC 14807    1925.              MVC   @TCRPSW(4),=X'070C0000'
 0019C0 D203 D04C A6A4 00004 01FB0 14808    1926.              MVC   @TCRPSW+4(4),=A(X'80000000'+NETLOCAL)
 0019C6 D203 D058 A6A8 00010 01FB4 14809    1927.              MVC   @TCRPRIO,=A(10)         Higher priority
 0019CC 5020 D050            00008 14810    1928.              PMOV  @TCRPARM,LA:SOCK        Parm is the SOCK
 0019D0 9680 D05C      00014       14821    1929.              SET   @TCRFSTK                It will need a stack
 0019D4 58F0 A6AC/0DEF       01FB8 14827    1930.              VCALL TCREATE                 Create the task
                                   14831    1931.     *
                                   14832    1932.     * If this was a mode wait request, the response will be from the
                                   14833    1933.     * other task.  If not, we will just respond that the socket is not
                                   14834    1934.     * yet open, and post the I/O complete.
                                   14835    1935.     *
 0019DA 9180 20A5      000A5       14836    1936.              IF    ~SKMWAIT,BEGIN          Not mode wait
 0019DE 4710 A0EC            019F8 14846             +
 0019E2 D203 20BC A6B0 000BC 01FBC 14851  1 1937.                MVC   SKRR15,=A(16)           Signal socket not open yet
 DROP   @TCREATE-72,R13            14852  1 1938.                PSET  @SOCKP
 USING  @SOCKP-72,R13
 0019E8 D708 D048 D048 00000 00000 14872  1          +
 0019EE 5020 D048            00000 14873  1 1939.                PMOV  @SOCK,LA:SOCK
 0019F2 58F0 A6B4/0DEF       01FC0 14884  1 1940.                ACALL IODONE                  And post the I/O complete
 0019F8                            14891    1941.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  112
0Current Usings:  (PZERO,R0) (SOCK,R2) (ATTACH,R10) (@SOCKP-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14896    1943.     *
                                   14897    1944.     * We are done for now.  Setup the return code and return.
                                   14898    1945.     *
 0019F8 1B00                       14899    1946.              CLEAR RVR                     Good return
 0019FA 47F0 A106            01A12 14903    1947.              B     ATTDONE                 The attach is done
                                   14904    1948.     *
                                   14905    1949.     * If there was some problem, we have to free the SOCK that was
                                   14906    1950.     * created before we were entered.
                                   14907    1951.     *
 0019FE                            14908    1952.     ATTSPEC  PSET  @SOCKP
 0019FE D708 D048 D048 00000 00000 14919             +
 001A04 5020 D048            00000 14920    1953.              ST    RA,@SOCK                Move in the parameter
 001A08 58F0 A6B8/0DEF       01FC4 14921    1954.              ACALL DELSOCK                 Free it up
 001A0E 4100 0006            00006 14928    1955.              LA    RVR,6                   Specification error
                                   14929    1956.     *
                                   14930    1957.     * All done, return to the caller
                                   14931    1958.     *
 001A12 981F C008            00008 14932    1959.     ATTDONE  PEND  ,
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   ATTACH,R10
 001A16 9680 C000/0B0E 00000       14953             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  113
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14963    1961.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14964    1962.     Ÿ                                                                     Ÿ
                                   14965    1963.     Ÿ     READ --  This routine handles the read I/O requests.            Ÿ
                                   14966    1964.     Ÿ                                                                     Ÿ
                                   14967    1965.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   14968    1966.     Ÿ                                                                     Ÿ
                                   14969    1967.     Ÿ   Output --  RVR contains panic code or zero.                       Ÿ
                                   14970    1968.     Ÿ                                                                     Ÿ
                                   14971    1969.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001A1C                            14973    1971.     READ     PROC  @SOCKP,SCOPE=LOCAL
 001A1C D9C5C1C440404040           14980             +
 001A24 0010/0000                  14981             +
 001A28 900F D004/18AF       00004 14983             +
 USING  READ,R10
 001A2E 50D0 C000/18CD       00000 14998             +
 001A34 9680 C000      00000       15000             +
 USING  @SOCKP-72,R12
 001A38 41D0 C058            00058 15014             +
 001A3C 5820 C048            00000 15015    1972.              L     RA,@SOCK
 USING  SOCK,R2                    15016    1973.              WITH  (SOCK,RA)
                                   15029    1974.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15030    1975.              Ÿ  Check to see if we can even do the read  Ÿ
                                   15031    1976.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001A40 9180 2083      00083       15032    1977.              IF    ~SKIATCH,BEGIN          Not attached yet
 001A44 4710 A02A            01A52 15042             +
 001A48 D203 20BC A594 000BC 01FBC 15047  1 1978.                MVC   SKRR15,=A(16)           Set return code
 001A4E 47F0 A172            01B9A 15048  1 1979.                B     READPOST                Post the I/O complete
 001A52                            15049    1980.              END   ,
                                   15053    1981.
 001A52 9120 2083      00083       15054    1982.              IF    ~SKIREAD,BEGIN          Not allowed to read
 001A56 4710 A03C            01A64 15064             +
 001A5A D203 20BC A5A0 000BC 01FC8 15069  1 1983.                MVC   SKRR15,=A(-4)           No more data, ever
 001A60 47F0 A172            01B9A 15070  1 1984.                B     READPOST                Post the I/O complete
 001A64                            15071    1985.              END   ,
                                   15075    1986.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15076    1987.              Ÿ  Handle the termination conditions, where we have read  Ÿ
                                   15077    1988.              Ÿ  all the data, and there is either an EOF or abort      Ÿ
                                   15078    1989.              Ÿ  outstanding.                                           Ÿ
                                   15079    1990.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001A64                            15080    1991.              IF    (SKICNT,Z),BEGIN
 001A64 D603 2018 2018 00018 00018 15090             +
 001A6A 4770 A072            01A9A 15091             +
 001A6E 9108 2081      00081       15096  1 1992.                IF    SKRABORT,BEGIN          They have aborted the stream
 001A72 47E0 A05C            01A84 15106  1          +
 001A76 D203 20BC A5A0 000BC 01FC8 15111  2 1993.                  MVC   SKRR15,=A(-4)           Just tell him its over
 001A7C 94DF 2083      00083       15112  2 1994.                  CLEAR SKIREAD                 No more either
 001A80 47F0 A172            01B9A 15119  2 1995.                  B     READPOST                The I/O is done now
 001A84                            15120  1 1996.                END   ,
 001A84 9120 2081      00081       15124  1 1997.                IF    SKREOF,BEGIN            There is no more coming
 001A88 47E0 A072            01A9A 15134  1          +
 001A8C D203 20BC A5A4 000BC 01FCC 15139  2 1998.                  MVC   SKRR15,=A(-8)           Tell about the EOF
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  114
0Current Usings:  (PZERO,R0) (SOCK,R2) (READ,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001A92 94DF 2083      00083       15140  2 1999.                  CLEAR SKIREAD                 No more data here either
 001A96 47F0 A172            01B9A 15147  2 2000.                  B     READPOST                The I/O is done here too
 001A9A                            15148  1 2001.                END   ,
 001A9A                            15152    2002.              END   ,
                                   15156    2003.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15157    2004.              Ÿ  Setup Return Registers  Ÿ
                                   15158    2005.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001A9A D203 20B4 A570 000B4 01F98 15159    2006.              MVC   SKRR01,=X'80000000'     Default is no return
 001AA0 D203 20B8 A570 000B8 01F98 15160    2007.              MVC   SKRR14,=X'80000000'     Default is no return
 001AA6 D203 20BC A570 000BC 01F98 15161    2008.              MVC   SKRR15,=X'80000000'     Default is no return
                                   15162    2009.              ¿þþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15163    2010.              Ÿ  Check for mode=ascii  Ÿ
                                   15164    2011.              ¾þþþþþþþþþþþþþþþþþþþþþþþþ»
 001AAC 5860 2098/1266       00098 15165    2012.              IF    ('LT  RX,SKCR01',NEG),BEGIN
 001AB2 47B0 A098            01AC0 15176             +
 001AB6 1366                       15181  1 2013.                LCR   RX,RX
 001AB8 5060 2098            00098 15182  1 2014.                ST    RX,SKCR01               Set the buffer location
 001ABC 9640 20A5      000A5       15183  1 2015.                SET   SKTRAN                  Mark translation active
 001AC0                            15189    2016.              END   ,
                                   15193    2017.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15194    2018.              Ÿ  Validate the buffer location  Ÿ
                                   15195    2019.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001AC0 5860 2098            00098 15196    2020.              L     RX,SKCR01               Get the location
 001AC4 9180 C050      00008       15197    2021.              IF    ~@SOCKM31,BEGIN
 001AC8 4710 A0A8            01AD0 15207             +
 001ACC 5460 A5A8            01FD0 15212  1 2022.                N     RX,=X'00FFFFFF'         Only 24 bit addresses
 001AD0                            15213    2023.              END   ,
 001AD0 5060 20A8            000A8 15217    2024.              ST    RX,SKBUFLOC             Save the location
 001AD4 4870 20A2            000A2 15218    2025.              LH    RY,SKCR15+2             Get the length of his buffer
 001AD8 1277/47D0 A188       01BB0 15219    2026.              IF    ((RY,NP),OR,(RY,GT,8192)),READSPEC
 001ADE 5970 A5AC            01FD4 15243             +
 001AE2 4720 A188            01BB0 15246             +
 001AE6 5070 20AC            000AC 15252    2027.              ST    RY,SKBUFLEN             Save the length of the buffer
 USING  @VALBUF-72,R13             15253    2028.              VALBUF (RX),(RY),W            Make sure we can write it
 001AEA D707 D048 D048 00000 00000 15271             +
 001AF0 5060 D048            00000 15281             +
 001AF4 4070 D04C/1F00       00004 15291             +
 001AFA 4300 20A6            000A6 15303             +
 001AFE 4200 D04E            00006 15309             +
 001B02 9680 D04F      00007       15315             +
 001B06 58F0 A578/0DEF       01FA0 15321             +
 001B0C 1200/4770 A18C       01BB4 15323    2029.              IF    (RVR,NZ),READDONE       Can't... signal the exception
                                   15340    2030.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15341    2031.              Ÿ  Validate the timeout.  Ÿ
                                   15342    2032.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 001B12 4870 20A0            000A0 15343    2033.              LH    RY,SKCR15               Get the timeout value
 001B16 1277/4740 A188       01BB0 15344    2034.              IF    ((RY,NEG),OR,(RY,GT,6000)),READSPEC
 001B1C 5970 A57C            01FA4 15368             +
 001B20 4720 A188            01BB0 15371             +
 001B24 1B66                       15377    2035.              CLEAR RX
 001B26 5C60 A580            01FA8 15381    2036.              M     RX,=FE6'1'              Convert to uS
 001B2A 8D60 000C            0000C 15382    2037.              SLDL  RX,12                   Convert to TOD format
 001B2E 9067 20C0            000C0 15383    2038.              STM   RX,RY,SKTOVAL           Save the timeout value
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  115
0Current Usings:  (PZERO,R0) (SOCK,R2) (READ,R10) (@SOCKP-72,R12) (@VALBUF-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15384    2039.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15385    2040.              Ÿ  Validate the minimum read count  Ÿ
                                   15386    2041.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001B32 5870 209C            0009C 15387    2042.              L     RY,SKCR14               Get the minimum length
 001B36 9180 20A5      000A5       15388    2043.              IF    SKMWAIT,BEGIN
 001B3A 47E0 A124            01B4C 15398             +
 001B3E 1277/47D0 A188       01BB0 15403  1 2044.                IF    ((RY,NPOS),OR,(RY,GT,SKBUFLEN)),READSPEC
 001B44 5970 20AC            000AC 15427  1          +
 001B48 4720 A188            01BB0 15430  1          +
 001B4C                            15436    2045.              END   ,
 001B4C A128           01B4C 01B3C 15440    2046.              ELSE  'CLEAR RY'              Only valid in mode wait
 001B4C 47F0 A12A/1B77       01B52 15445             +
 001B52 5070 20B0            000B0 15460    2047.              ST    RY,SKMINLEN             Save the value
                                   15461    2048.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15462    2049.              Ÿ  If there is enough data to satisfy the read, we handle it  Ÿ
                                   15463    2050.              Ÿ  here and now.                                              Ÿ
                                   15464    2051.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001B56 5970 2018            00018 15465    2052.              IF    (RY,LE,SKICNT),BEGIN    We have enough
 001B5A 4730 A150            01B78 15477             +
 DROP   @VALBUF-72,R13             15482  1 2053.                PSET  @SOCKP
 USING  @SOCKP-72,R13
 001B5E D708 D048 D048 00000 00000 15502  1          +
 001B64 5020 D048            00000 15503  1 2054.                ST    RA,@SOCK
 001B68 58F0 A5B0/0DEF       01FD8 15504  1 2055.                ACALL MOVEOUT                 Move the data to the user space
 001B6E                            15511  1 2056.                CLEAR SKRR15                  Clear the return code
 001B6E D703 20BC 20BC 000BC 000BC 15517  1          +
 001B74 47F0 A172            01B9A 15518  1 2057.                B     READPOST                Then post the return code
 001B78                            15519    2058.              END   ,
                                   15523    2059.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15524    2060.              Ÿ  If there is not enough data, then we let the other task  Ÿ
                                   15525    2061.              Ÿ  handle it.                                               Ÿ
                                   15526    2062.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001B78 9208 20A4      000A4       15527    2063.              SET   SKTREAD                 Tell the task what to do
 001B7C 9610 2080      00080       15533    2064.              SET   TIMEST                  Start the timer if needed
 DROP   @SOCKP-72,R13              15539    2065.              SIGNL SKECB                   Start up the task
 USING  @SIGNAL-72,R13
 001B80 D713 D048 D048 00000 00000 15560             +
 001B86 4100 2078            00078 15572             +
 001B8A 5000 D050            00008 15577             +
 001B8E 58F0 A5B4/0DEF       01FDC 15580             +
 001B94 1B00                       15582    2066.              CLEAR RVR                     Clear the return code
 001B96 47F0 A18C            01BB4 15586    2067.              B     READDONE                And we're done here
                                   15587    2068.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15588    2069.              Ÿ  Now we go move the data and finish up.  Ÿ
                                   15589    2070.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @SIGNAL-72,R13             15590    2071.     READPOST PSET  @SOCKP
 USING  @SOCKP-72,R13
 001B9A D708 D048 D048 00000 00000 15611             +
 001BA0 5020 D048            00000 15612    2072.              PMOV  @SOCK,LA:SOCK
 001BA4 58F0 A598/0DEF       01FC0 15623    2073.              ACALL IODONE                  Complete the I/O
 001BAA 1B00                       15630    2074.              CLEAR RVR                     Good return for the SVC
 001BAC 47F0 A18C            01BB4 15634    2075.              B     READDONE
0                                  15636    2077.
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  116
0Current Usings:  (PZERO,R0) (SOCK,R2) (READ,R10) (@SOCKP-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001BB0 4100 0006            00006 15637    2078.     READSPEC LA    RVR,6                   Specification Panic Code
 001BB4 981F C008            00008 15638    2079.     READDONE PEND                          Return to the caller
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   READ,R10
 001BB8 9680 C000/0B0E 00000       15659             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  117
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15669    2081.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15670    2082.     Ÿ                                                                     Ÿ
                                   15671    2083.     Ÿ    WRITE --  This routine handles the write I/O requests.           Ÿ
                                   15672    2084.     Ÿ                                                                     Ÿ
                                   15673    2085.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   15674    2086.     Ÿ                                                                     Ÿ
                                   15675    2087.     Ÿ   Output --  RVR contains panic code or zero.                       Ÿ
                                   15676    2088.     Ÿ                                                                     Ÿ
                                   15677    2089.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001BBE                            15679    2091.     WRITE    PROC  @SOCKP,SCOPE=LOCAL
 001BBE E6D9C9E3C5404040           15686             +
 001BC6 0010/0000                  15687             +
 001BCA 900F D004/18AF       00004 15689             +
 USING  WRITE,R10
 001BD0 50D0 C000/18CD       00000 15704             +
 001BD6 9680 C000      00000       15706             +
 USING  @SOCKP-72,R12
 001BDA 41D0 C058            00058 15720             +
 001BDE 5820 C048            00000 15721    2092.              L     RA,@SOCK
 USING  SOCK,R2                    15722    2093.              WITH  (SOCK,RA)
                                   15735    2094.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15736    2095.              Ÿ  Check to see if the connection is open  Ÿ
                                   15737    2096.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001BE2 9180 2083      00083       15738    2097.              IF    ~SKIATCH,BEGIN          Not in the attached state
 001BE6 4710 A02A            01BF4 15748             +
 001BEA D203 20BC A3F2 000BC 01FBC 15753  1 2098.                MVC   SKRR15,=A(16)           Set return code
 001BF0 47F0 A174            01D3E 15754  1 2099.                B     WRITPOST                Post the I/O complete
 001BF4                            15755    2100.              END   ,
                                   15759    2101.
 001BF4 9140 2083      00083       15760    2102.              IF    ~SKIWRIT,BEGIN          Not able to write any more
 001BF8 4710 A03C            01C06 15770             +
 001BFC D203 20BC A3FE 000BC 01FC8 15775  1 2103.                MVC   SKRR15,=A(-4)           Not ever
 001C02 47F0 A174            01D3E 15776  1 2104.                B     WRITPOST                Go post the I/O complete
 001C06                            15777    2105.              END   ,
                                   15781    2106.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15782    2107.              Ÿ  Setup return parameters  Ÿ
                                   15783    2108.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001C06 D203 20B4 A3CE 000B4 01F98 15784    2109.              MVC   SKRR01,=X'80000000'     Default is no return
 001C0C D203 20B8 A3CE 000B8 01F98 15785    2110.              MVC   SKRR14,=X'80000000'     Default is no return
 001C12 D203 20BC A3CE 000BC 01F98 15786    2111.              MVC   SKRR15,=X'80000000'     Default is no return
                                   15787    2112.              ¿þþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15788    2113.              Ÿ  Check for mode=ascii  Ÿ
                                   15789    2114.              ¾þþþþþþþþþþþþþþþþþþþþþþþþ»
 001C18 5860 2098/1266       00098 15790    2115.              IF    ('LT  RX,SKCR01',NEG),BEGIN
 001C1E 47B0 A062            01C2C 15801             +
 001C22 1366                       15806  1 2116.                LCR   RX,RX
 001C24 5060 2098            00098 15807  1 2117.                ST    RX,SKCR01               Get the buffer location
 001C28 9640 20A5      000A5       15808  1 2118.                SET   SKTRAN                  Mark translation active
 001C2C                            15814    2119.              END   ,
                                   15818    2120.     *
                                   15819    2121.     * Validate the parms.
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  118
0Current Usings:  (PZERO,R0) (SOCK,R2) (WRITE,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15820    2122.     *
 001C2C 9180 C050      00008       15821    2123.              IF    ~@SOCKM31,BEGIN
 001C30 4710 A06E            01C38 15831             +
 001C34 9200 2098      00098       15836  1 2124.                MVI   SKCR01,0                Enforce 24 bit mode
 001C38                            15837    2125.              END   ,
 001C38 5860 2098            00098 15841    2126.              L     RX,SKCR01               Get the location
 001C3C 5060 20A8            000A8 15842    2127.              ST    RX,SKBUFLOC             Save the location
 001C40 4870 20A2            000A2 15843    2128.              LH    RY,SKCR15+2             Get the length of his buffer
 001C44 1277/47D0 A18A       01D54 15844    2129.              IF    ((RY,NP),OR,(RY,GT,8192)),WRITSPEC
 001C4A 5970 A40A            01FD4 15868             +
 001C4E 4720 A18A            01D54 15871             +
 001C52 5070 20AC            000AC 15877    2130.              ST    RY,SKBUFLEN             Save the length of the buffer
 USING  @VALBUF-72,R13             15878    2131.              VALBUF (RX),(RY)              Make sure we can read it
 001C56 D707 D048 D048 00000 00000 15896             +
 001C5C 5060 D048            00000 15906             +
 001C60 4070 D04C/1F00       00004 15916             +
 001C66 4300 20A6            000A6 15928             +
 001C6A 4200 D04E            00006 15934             +
 001C6E 58F0 A3D6/0DEF       01FA0 15940             +
 001C74 1200/4770 A18E       01D58 15942    2132.              IF    (RVR,NZ),WRITDONE       Can't... signal the exception
                                   15959    2133.     *
                                   15960    2134.     *  If translation (to ASCII) need to be performed we move the data
                                   15961    2135.     *  to the local output buffer, do the translation, and update the
                                   15962    2136.     *  pointer in the SOCK
                                   15963    2137.     *
 001C7A 9140 20A5      000A5       15964    2138.              IF    SKTRAN,BEGIN
 001C7E 47E0 A0DC            01CA6 15974             +
 001C82 58E0 2028            00028 15979  1 2139.                L     R14,SKOBUF              Output buffer
 001C86 50E0 20A8            000A8 15980  1 2140.                ST    R14,SKBUFLOC             Note the new location
 001C8A 18F7                       15981  1 2141.                LR    R15,RY                  Data length
 001C8C 0EE6                       15982  1 2142.                MVCL  R14,RX                  Move the data
                                   15983  1 2143.
 DROP   @VALBUF-72,R13             15984  1 2144.                PSET  @TOASC
 USING  @TOASC-72,R13
 001C8E D707 D048 D048 00000 00000 16004  1          +
 001C94                            16005  1 2145.                PMOV  @TOASLOC,SKBUFLOC
 001C94 D203 D048 20A8 00000 000A8 16009  1          +
 001C9A                            16010  1 2146.                PMOV  @TOASLEN,SKBUFLEN
 001C9A D203 D04C 20AC 00004 000AC 16014  1          +
 001CA0 58F0 A416/0DEF       01FE0 16015  1 2147.                ACALL TOASC                   Go translate
 001CA6                            16022    2148.              END   ,
                                   16026    2149.     *
                                   16027    2150.     * Validate the timeout.
                                   16028    2151.     *
 001CA6 4870 20A0            000A0 16029    2152.              LH    RY,SKCR15               Get the timeout value
 001CAA 1277/4740 A18A       01D54 16030    2153.              IF    ((RY,NEG),OR,(RY,GT,6000)),WRITSPEC
 001CB0 5970 A3DA            01FA4 16054             +
 001CB4 4720 A18A            01D54 16057             +
 001CB8 1B66                       16063    2154.              CLEAR RX
 001CBA 5C60 A3DE            01FA8 16067    2155.              M     RX,=FE6'1'              Convert to uS
 001CBE 8D60 000C            0000C 16068    2156.              SLDL  RX,12                   Convert to TOD format
 001CC2 9067 20C0            000C0 16069    2157.              STM   RX,RY,SKTOVAL           Save the timeout value
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  119
0Current Usings:  (PZERO,R0) (SOCK,R2) (WRITE,R10) (@SOCKP-72,R12) (@TOASC-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16070    2158.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16071    2159.              Ÿ  Attempt to write out the data  Ÿ
                                   16072    2160.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001CC6 9180 2081      00081       16073    2161.              IF    ~SKSTOP,BEGIN           He is allowing us to proceed
 001CCA 4710 A144            01D0E 16083             +
 DROP   @TOASC-72,R13              16088  1 2162.                PSET  @SENDTCP
 USING  @SENDTCP-72,R13
 001CCE D718 D048 D048 00000 00000 16108  1          +
 AUSING (TCPHDR,@SNDHDR)           16109  1 2163.                USING (TCPHDR,@SNDHDR)
 001CD4 D213 D04C A3A6 00000 01F70 16115  1 2164.                MVC   TCPHDR,=CL16'TCP_WRITE:'
 001CDA                            16116  1 2165.                PMOV  TCPSID,SKASID           Session ID
 001CDA D203 D05C 2030 00010 00030 16120  1          +
 001CE0 9680 D060      00018       16121  1 2166.                SET   @SNDSBUF                Send his buffer too
 001CE4 5020 D048            00000 16127  1 2167.                PMOV  @SNDSOCK,LA:SOCK        Socket Address
 001CE8 58F0 A41A/0DEF       01FE4 16138  1 2168.                ACALL SENDTCP                 Attempt to send it
 001CEE 1200/4770 A134       01CFE 16145  1 2169.                IF    (RVR,Z),BEGIN           It worked
 001CF4                            16159  2 2170.                  CLEAR SKRR15                  Good Return Code
 001CF4 D703 20BC 20BC 000BC 000BC 16165  2          +
 001CFA 47F0 A174            01D3E 16166  2 2171.                  B     WRITPOST                Post it complete
 001CFE                            16167  1 2172.                END   ,
                                   16171  1 2173.
 001CFE 1200/47B0 A144       01D0E 16172  1 2174.                IF    (RVR,NEG),BEGIN         The connection is closed
 001D04 D203 20BC A3FE 000BC 01FC8 16186  2 2175.                  MVC   SKRR15,=A(-4)           Signal Return code
 001D0A 47F0 A174            01D3E 16187  2 2176.                  B     WRITPOST                I/O complete
 001D0E                            16188  1 2177.                END   ,
 001D0E                            16192    2178.              END   ,
                                   16196    2179.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16197    2180.              Ÿ  We must have gotten a full queue or flow control  Ÿ
                                   16198    2181.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001D0E 9180 20A5      000A5       16199    2182.     WRITWT   IF    SKMWAIT,BEGIN           He wants to wait for it
 001D12 47E0 A16E            01D38 16210             +
 001D16 920C 20A4      000A4       16215  1 2183.                SET   SKTWRIT                 Mark it for the other task
 001D1A 9610 2080      00080       16221  1 2184.                SET   TIMEST                  And start a timer if needed
 DROP   @SENDTCP-72,R13            16227  1 2185.                SIGNL SKECB                   Signal the other task
 USING  @SIGNAL-72,R13
 001D1E D713 D048 D048 00000 00000 16248  1          +
 001D24 4100 2078            00078 16260  1          +
 001D28 5000 D050            00008 16265  1          +
 001D2C 58F0 A412/0DEF       01FDC 16268  1          +
 001D32 1B00                       16270  1 2186.                CLEAR RVR                     Good return from the SVC
 001D34 47F0 A18E            01D58 16274  1 2187.                B     WRITDONE
 001D38                            16275    2188.              END   ,
                                   16279    2189.
 001D38 D203 20BC A41E 000BC 01FE8 16280    2190.              MVC   SKRR15,=A(4)            Otherwise we just tell him
                                   16281    2191.     *
                                   16282    2192.     * All done here
                                   16283    2193.     *
 DROP   @SIGNAL-72,R13             16284    2194.     WRITPOST PSET  @SOCKP
 USING  @SOCKP-72,R13
 001D3E D708 D048 D048 00000 00000 16305             +
 001D44 5020 D048            00000 16306    2195.              PMOV  @SOCK,LA:SOCK
 001D48 58F0 A3F6/0DEF       01FC0 16317    2196.              ACALL IODONE                  Post it complete
 001D4E 1B00                       16324    2197.              CLEAR RVR                     Good return for the SVC
 001D50 47F0 A18E            01D58 16328    2198.              B     WRITDONE                All done
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  120
0Current Usings:  (PZERO,R0) (SOCK,R2) (WRITE,R10) (@SOCKP-72,R12) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16329    2199.     þþþþ
 001D54 4100 0006            00006 16330    2200.     WRITSPEC LA    RVR,6
 001D58 981F C008            00008 16331    2201.     WRITDONE PEND  ,                       Return to the caller
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   WRITE,R10
 001D5C 9680 C000/0B0E 00000       16352             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  121
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16362    2203.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16363    2204.     Ÿ                                                                     Ÿ
                                   16364    2205.     Ÿ  CONTROL --  This routine handles the Control I/O requests.         Ÿ
                                   16365    2206.     Ÿ                                                                     Ÿ
                                   16366    2207.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   16367    2208.     Ÿ                                                                     Ÿ
                                   16368    2209.     Ÿ   Output --  RVR contains panic code or zero.                       Ÿ
                                   16369    2210.     Ÿ                                                                     Ÿ
                                   16370    2211.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001D62                            16372    2213.     CONTROL  PROC  @SOCKP,SCOPE=LOCAL
 001D62 C3D6D5E3D9D6D340           16379             +
 001D6A 0010/0000                  16380             +
 001D6E 900F D004/18AF       00004 16382             +
 USING  CONTROL,R10
 001D74 50D0 C000/18CD       00000 16397             +
 001D7A 9680 C000      00000       16399             +
 USING  @SOCKP-72,R12
 001D7E 41D0 C058            00058 16413             +
 001D82 5820 C048            00000 16414    2214.              L     RA,@SOCKP
 USING  SOCK,R2                    16415    2215.              WITH  (SOCK,RA)
                                   16428    2216.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16429    2217.              Ÿ  Check to see if the connection is open  Ÿ
                                   16430    2218.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001D86 9180 2083      00083       16431    2219.              IF    ~SKIATCH,BEGIN          Not in the attached state
 001D8A 4710 A02A            01D98 16441             +
 001D8E D203 20BC A24E 000BC 01FBC 16446  1 2220.                MVC   SKRR15,=A(16)           Set return code
 001D94 47F0 A140            01EAE 16447  1 2221.                B     CNTLPOST                Post the I/O complete
 001D98                            16448    2222.              END   ,
                                   16452    2223.     *
                                   16453    2224.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16454    2225.              Ÿ  Setup return parameters  Ÿ
                                   16455    2226.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001D98 D203 20B4 A22A 000B4 01F98 16456    2227.              MVC   SKRR01,=X'80000000'     Default is no return
 001D9E D203 20B8 A22A 000B8 01F98 16457    2228.              MVC   SKRR14,=X'80000000'     Default is no return
 001DA4 D203 20BC A22A 000BC 01F98 16458    2229.              MVC   SKRR15,=X'80000000'     Default is no return
                                   16459    2230.
 001DAA 5860 2098            00098 16460    2231.              L     RX,SKCR01               Get the number
                                   16461    2232.     *
                                   16462    2233.     * Control 0 -- Set EOF.
                                   16463    2234.     *
                                   16464    2235.     *
 001DAE 5960 A27E            01FEC 16465    2236.              IF    (RX,EQ,0),BEGIN         Control 0 -- Set EOF
 001DB2 4770 A0CA            01E38 16477             +
                                   16482  1 2237.          ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16483  1 2238.          Ÿ  First see if it is already done  Ÿ
                                   16484  1 2239.          ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001DB6 9110 2081      00081       16485  1 2240.                IF    SKSEOF,BEGIN            Already sent one
 001DBA 47E0 A05A            01DC8 16495  1          +
 001DBE                            16500  2 2241.                  CLEAR SKRR15                  Everything is cool
 001DBE D703 20BC 20BC 000BC 000BC 16506  2          +
 001DC4 47F0 A140            01EAE 16507  2 2242.                  B     CNTLPOST                Post the I/O Complete
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  122
0Current Usings:  (PZERO,R0) (SOCK,R2) (CONTROL,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001DC8                            16508  1 2243.                END   ,
                                   16512  1 2244.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16513  1 2245.                Ÿ  Attempt to write out the data  Ÿ
                                   16514  1 2246.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 USING  @SENDTCP-72,R13            16515  1 2247.                PSET  @SENDTCP
 001DC8 D718 D048 D048 00000 00000 16532  1          +
 AUSING (TCPHDR,@SNDHDR)           16533  1 2248.                USING (TCPHDR,@SNDHDR)
 001DCE D213 D04C A212 00000 01F80 16539  1 2249.                MVC   TCPHDR,=CL16'TCP_EOF:'
 001DD4                            16540  1 2250.                PMOV  TCPSID,SKASID           Session ID
 001DD4 D203 D05C 2030 00010 00030 16544  1          +
 001DDA 5020 D048            00000 16545  1 2251.                PMOV  @SNDSOCK,LA:SOCK        Socket Address
 001DDE 58F0 A276/0DEF       01FE4 16556  1 2252.                ACALL SENDTCP                 Attempt to send it
 001DE4 1200/4770 A08A       01DF8 16563  1 2253.                IF    (RVR,Z),BEGIN           It worked
 001DEA 9610 2081      00081       16577  2 2254.                  SET   SKSEOF                  Mark it sent
 001DEE                            16583  2 2255.                  CLEAR SKRR15                  Good Return Code
 001DEE D703 20BC 20BC 000BC 000BC 16589  2          +
 001DF4 47F0 A140            01EAE 16590  2 2256.                  B     CNTLPOST                Post it complete
 001DF8                            16591  1 2257.                END   ,
                                   16595  1 2258.
 001DF8 1200/47B0 A09A       01E08 16596  1 2259.                IF    (RVR,NEG),BEGIN         The connection is closed
 001DFE D203 20BC A25A 000BC 01FC8 16610  2 2260.                  MVC   SKRR15,=A(-4)           Signal Return code
 001E04 47F0 A140            01EAE 16611  2 2261.                  B     CNTLPOST                I/O complete
 001E08                            16612  1 2262.                END   ,
                                   16616  1 2263.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16617  1 2264.                Ÿ  We must have gotten a full queue  Ÿ
                                   16618  1 2265.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001E08 9180 20A5      000A5       16619  1 2266.     CNTLWT     IF    SKMWAIT,BEGIN           He wants to wait for it
 001E0C 47E0 A0C0            01E2E 16630  1          +
 001E10 9210 20A4      000A4       16635  2 2267.                  SET   SKTCNTL                 Mark it for the other task
 DROP   @SENDTCP-72,R13            16641  2 2268.                  SIGNL SKECB                   Signal the other task
 USING  @SIGNAL-72,R13
 001E14 D713 D048 D048 00000 00000 16662  2          +
 001E1A 4100 2078            00078 16674  2          +
 001E1E 5000 D050            00008 16679  2          +
 001E22 58F0 A26E/0DEF       01FDC 16682  2          +
 001E28 1B00                       16684  2 2269.                  CLEAR RVR                     Good return from the SVC
 001E2A 47F0 A15A            01EC8 16688  2 2270.                  B     CNTLDONE
 001E2E                            16689  1 2271.                END   ,
                                   16693  1 2272.
 001E2E D203 20BC A27A 000BC 01FE8 16694  1 2273.                MVC   SKRR15,=A(4)            Otherwise we just tell him
 001E34 47F0 A140            01EAE 16695  1 2274.                B     CNTLPOST                and post the I/O complete
 001E38                            16696    2275.              END   ,
                                   16700    2276.     *
                                   16701    2277.     * Control 1 -- Read error message
                                   16702    2278.     *
                                   16703    2279.     *
 001E38 5960 A282            01FF0 16704    2280.              IF    (RX,EQ,1),BEGIN         Control 1 -- Read error message
 001E3C 4770 A13C            01EAA 16716             +
                                   16721  1 2281.          ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16722  1 2282.          Ÿ  If one is there, check the buffer and move it in  Ÿ
                                   16723  1 2283.          ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001E40                            16724  1 2284.                IF    (SKEMSGL,NZ),BEGIN      A message awaits
 001E40 D603 20CC 20CC 000CC 000CC 16734  1          +
 001E46 4780 A132            01EA0 16735  1          +
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  123
0Current Usings:  (PZERO,R0) (SOCK,R2) (CONTROL,R10) (@SOCKP-72,R12) (@SIGNAL-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16740  2 2285.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16741  2 2286.                  Ÿ  Validate the buffer location  Ÿ
                                   16742  2 2287.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001E4A 5860 20A0            000A0 16743  2 2288.                  L     RX,SKCR15               Get the location
 001E4E 5460 A262            01FD0 16744  2 2289.                  N     RX,=X'00FFFFFF'         Only 24 bit addresses
 001E52 4870 209E            0009E 16745  2 2290.                  LH    RY,SKCR14+2             Get the length of his buffer
 001E56 1277/47D0 A156       01EC4 16746  2 2291.                  IF    (RY,NP),CNTLSPEC        No good
 DROP   @SIGNAL-72,R13             16763  2 2292.                  VALBUF (RX),(RY),W            Make sure we can write it
 USING  @VALBUF-72,R13
 001E5C D707 D048 D048 00000 00000 16784  2          +
 001E62 5060 D048            00000 16794  2          +
 001E66 4070 D04C/1F00       00004 16804  2          +
 001E6C 4300 20A6            000A6 16816  2          +
 001E70 4200 D04E            00006 16822  2          +
 001E74 9680 D04F      00007       16828  2          +
 001E78 58F0 A232/0DEF       01FA0 16834  2          +
 001E7E 1200/4770 A15A       01EC8 16836  2 2293.                  IF    (RVR,NZ),CNTLDONE       Can't... signal the exception
                                   16853  2 2294.                  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16854  2 2295.                  Ÿ  The buffer's ok, move in the message  Ÿ
                                   16855  2 2296.                  ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001E84 5970 20CC            000CC 16856  2 2297.                  CEIL  RY,SKEMSGL              Don't move too much
 001E88 47D0 A122            01E90 16860  2          +
 001E8C 5870 20CC            000CC 16861  2          +
 001E90 0670/4470 A286       01FF4 16862  2 2298.                  DEX   RY,'MVC  @RX(0),SKEMSG'    Move it on in
 001FF4 D200 6000 20D0 00000 000D0 16873  2          +
 001E96                            16881  2 2299.                  CLEAR SKRR15                  Good Return Code
 001E96 D703 20BC 20BC 000BC 000BC 16887  2          +
 001E9C 47F0 A140            01EAE 16888  2 2300.                  B     CNTLPOST                Post it complete
 001EA0                            16889  1 2301.                END   ,
                                   16893  1 2302.
 001EA0 D203 20BC A27A 000BC 01FE8 16894  1 2303.                MVC   SKRR15,=A(4)            Otherwise we just tell him
 001EA6 47F0 A140            01EAE 16895  1 2304.                B     CNTLPOST                and post the I/O complete
 001EAA                            16896    2305.              END   ,
                                   16900    2306.     *
                                   16901    2307.        ¿þþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16902    2308.        Ÿ  Invalid control number  Ÿ
                                   16903    2309.        ¾þþþþþþþþþþþþþþþþþþþþþþþþþþ»
 001EAA 47F0 A156            01EC4 16904    2310.              B     CNTLSPEC                Go Spec Him
                                   16905    2311.     *
                                   16906    2312.     * All done here
                                   16907    2313.     *
 DROP   @VALBUF-72,R13             16908    2314.     CNTLPOST PSET  @SOCKP
 USING  @SOCKP-72,R13
 001EAE D708 D048 D048 00000 00000 16929             +
 001EB4 5020 D048            00000 16930    2315.              PMOV  @SOCK,LA:SOCK
 001EB8 58F0 A252/0DEF       01FC0 16941    2316.              ACALL IODONE                  Post it complete
 001EBE 1B00                       16948    2317.              CLEAR RVR                     Good return for the SVC
 001EC0 47F0 A15A            01EC8 16952    2318.              B     CNTLDONE                All done
-                                  16954    2320.
 001EC4 4100 0006            00006 16955    2321.     CNTLSPEC LA    RVR,6
 001EC8 981F C008            00008 16956    2322.     CNTLDONE PEND  ,                       Return to the caller
 DROP   SOCK,R2
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  124
0Current Usings:  (PZERO,R0) (@SOCKP-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   @SOCKP-72,R12
 DROP   CONTROL,R10
 001ECC 9680 C000/0B0E 00000       16977             +
 DROP   @SOCKP-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  125
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16987    2324.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   16988    2325.     Ÿ                                                                     Ÿ
                                   16989    2326.     Ÿ     HALT --  This routine handles the Halt I/O requests.            Ÿ
                                   16990    2327.     Ÿ                                                                     Ÿ
                                   16991    2328.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   16992    2329.     Ÿ                                                                     Ÿ
                                   16993    2330.     Ÿ   Output --  RVR contains panic code or zero.                       Ÿ
                                   16994    2331.     Ÿ                                                                     Ÿ
                                   16995    2332.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001ED2                            16997    2334.     HALT     PROC  @SOCKP,SCOPE=LOCAL
 001ED2 C8C1D3E340404040           17004             +
 001EDA 0010/0000                  17005             +
 001EDE 900F D004/18AF       00004 17007             +
 USING  HALT,R10
 001EE4 50D0 C000/18CD       00000 17022             +
 001EEA 9680 C000      00000       17024             +
 USING  @SOCKP-72,R12
 001EEE 41D0 C058            00058 17038             +
 001EF2 5820 C048            00000 17039    2335.              L     RA,@SOCKP
 USING  SOCK,R2                    17040    2336.              WITH  (SOCK,RA)
                                   17053    2337.     þþþþ
 001EF6 9500 20A4      000A4       17054    2338.              IF    ~IDLE,BEGIN             Don't bother if task idle
 001EFA 4780 A038            01F16 17064             +
 001EFE 9640 2080      00080       17069  1 2339.                SET   DOHALT                  Turn on the flag
 USING  @SIGNAL-72,R13             17075  1 2340.                SIGNL SKECB                   Wake it up
 001F02 D713 D048 D048 00000 00000 17093  1          +
 001F08 4100 2078            00078 17105  1          +
 001F0C 5000 D050            00008 17110  1          +
 001F10 58F0 A0FE/0DEF       01FDC 17113  1          +
 001F16                            17115    2341.              END   ,
 001F16 1B00                       17119    2342.              CLEAR RVR                     Good return
 001F18 981F C008            00008 17123    2343.              PEND  ,                       Return to the caller
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   HALT,R10
 001F1C 9680 C000/0B0E 00000       17143             +
 DROP   @SIGNAL-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  126
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17153    2345.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   17154    2346.     Ÿ                                                                     Ÿ
                                   17155    2347.     Ÿ   DETACH --  This routine handles the Detach I/O requests.          Ÿ
                                   17156    2348.     Ÿ                                                                     Ÿ
                                   17157    2349.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   17158    2350.     Ÿ                                                                     Ÿ
                                   17159    2351.     Ÿ   Output --  RVR contains panic code or zero.                       Ÿ
                                   17160    2352.     Ÿ                                                                     Ÿ
                                   17161    2353.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001F22                            17163    2355.     DETACH   PROC  @SOCKP,SCOPE=LOCAL
 001F22 C4C5E3C1C3C84040           17170             +
 001F2A 0010/0000                  17171             +
 001F2E 900F D004/18AF       00004 17173             +
 USING  DETACH,R10
 001F34 50D0 C000/18CD       00000 17188             +
 001F3A 9680 C000      00000       17190             +
 USING  @SOCKP-72,R12
 001F3E 41D0 C058            00058 17204             +
 001F42 5820 C048            00000 17205    2356.              L     RA,@SOCKP
 USING  SOCK,R2                    17206    2357.              WITH  (SOCK,RA)
                                   17219    2358.     *
                                   17220    2359.     * Make the processing task clean up
                                   17221    2360.     *
 001F46 9218 20A4      000A4       17222    2361.              SET   SKTDTCH                 Set the detach request code
 USING  @SIGNAL-72,R13             17228    2362.              SIGNL SKECB                   Wake up the task
 001F4A D713 D048 D048 00000 00000 17246             +
 001F50 4100 2078            00078 17258             +
 001F54 5000 D050            00008 17263             +
 001F58 58F0 A0AE/0DEF       01FDC 17266             +
 001F5E 1B00                       17268    2363.              CLEAR RVR                     Good return code
 001F60 981F C008            00008 17272    2364.              PEND  ,                       Return to the caller
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   DETACH,R10
 001F64 9680 C000/0B0E 00000       17292             +
 DROP   @SIGNAL-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  127
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001F70                            17302    2366.              LTORG ,
 001F70 E3C3D76DE6D9C9E3           17304                             =CL16'TCP_WRITE:'
 001F80 E3C3D76DC5D6C67A           17305                             =CL16'TCP_EOF:'
 001F90 E2D6C3D2                   17306                             =C'SOCK'
 001F94 0000001C                   17307                             =A(TTLEN)
 001F98 80000000                   17308                             =X'80000000'
 001F9C 000000FF                   17309                             =A(255)
 001FA0 00002A60                   17310                             =A(VALBUF)
 001FA4 00001770                   17311                             =A(6000)
 001FA8 000F4240                   17312                             =FE6'1'
 001FAC 070C0000                   17313                             =X'070C0000'
 001FB0 80000C8A                   17314                             =A(X'80000000'+NETLOCAL)
 001FB4 0000000A                   17315                             =A(10)
 001FB8 00000000                   17316                             =V(TCREATE)
 001FBC 00000010                   17317                             =A(16)
 001FC0 0000232A                   17318                             =A(IODONE)
 001FC4 0000276E                   17319                             =A(DELSOCK)
 001FC8 FFFFFFFC                   17320                             =A(-4)
 001FCC FFFFFFF8                   17321                             =A(-8)
 001FD0 00FFFFFF                   17322                             =X'00FFFFFF'
 001FD4 00002000                   17323                             =A(8192)
 001FD8 00002006                   17324                             =A(MOVEOUT)
 001FDC 00000000                   17325                             =V(SIGNAL)
 001FE0 00002F44                   17326                             =A(TOASC)
 001FE4 000020EC                   17327                             =A(SENDTCP)
 001FE8 00000004                   17328                             =A(4)
 001FEC 00000000                   17329                             =A(0)
 001FF0 00000001       01FFA 0329A 17330                             =A(1)
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  128
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17335    2368.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   17336    2369.     Ÿ                                                                     Ÿ
                                   17337    2370.     Ÿ  MOVEOUT --  This routine moves data from one or more socket        Ÿ
                                   17338    2371.     Ÿ              input buffers to the user area, freeing emptied        Ÿ
                                   17339    2372.     Ÿ              buffers and updating buffer counts in remaining        Ÿ
                                   17340    2373.     Ÿ              buffers. It also puts the total number of bytes        Ÿ
                                   17341    2374.     Ÿ              moved into return register 1.                          Ÿ
                                   17342    2375.     Ÿ                                                                     Ÿ
                                   17343    2376.     Ÿ    Input --  @SOCKP                                                 Ÿ
                                   17344    2377.     Ÿ                                                                     Ÿ
                                   17345    2378.     Ÿ   Output --  none                                                   Ÿ
                                   17346    2379.     Ÿ                                                                     Ÿ
                                   17347    2380.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-001FFA                            17349    2382.     MOVEOUT  PROC  @SOCKP,SCOPE=LOCAL
 001FFA D4D6E5C5D6E4E340           17356             +
 002002 0010/0000                  17357             +
 002006 900F D004/18AF       00004 17359             +
 USING  MOVEOUT,R10
 00200C 50D0 C000/18CD       00000 17374             +
 002012 9680 C000      00000       17376             +
 USING  @SOCKP-72,R12
 002016 41D0 C058            00058 17390             +
 00201A 5820 C048            00000 17391    2383.              L     RA,@SOCK
 USING  SOCK,R2                    17392    2384.              WITH  (SOCK,RA)
 00201E                            17405    2385.              CLEAR SKRR01                  Nothing moved yet
 00201E D703 20B4 20B4 000B4 000B4 17411             +
                                   17412    2386.     *
                                   17413    2387.     *  Lock the Sock
                                   17414    2388.     *
 002024 58F0 AFDA/0DEF       02FE0 17415    2389.              VCALL ASLOCK                  Hold everything
                                   17419    2390.
 00202A 5860 20A8            000A8 17420    2391.              L     RX,SKBUFLOC             User's buffer
 00202E 5850 20AC            000AC 17421    2392.              L     RK,SKBUFLEN              and length
 USING  LBUF,R3                    17422    2393.              WITH  (LBUF,RB)
                                   17435    2394.     *
                                   17436    2395.     *  Loop through input buffers
                                   17437    2396.     *
 002032 5830 2014/1233       00014 17438    2397.              WHILE ('LT RB,SKICHAIN',NZ),BEGIN
 002038 4780 A0AA            020B0 17451             +
 00203C 4840 300A            0000A 17456  1 2398.                LH    RJ,LBOFF                First unread byte
 002040 4144 300E            0000E 17457  1 2399.                LA    RJ,LBDATA(RJ)           Starting point in buffer
 002044 4870 300C            0000C 17458  1 2400.                LH    RY,LBCNT                 And the unread count
                                   17459  1 2401.     *
                                   17460  1 2402.     *  The entire LBUF will be used
                                   17461  1 2403.     *
 002048 1957/4750 A078       0207E 17462  1 2404.                IF    (RK,GE,RY),BEGIN
                                   17477  2 2405.     *
                                   17478  2 2406.     *  Update the amount moved
                                   17479  2 2407.     *
 00204E 5810 20B4            000B4 17480  2 2408.                  L     RS,SKRR01               Update the total length moved
 002052 1A17                       17481  2 2409.                  AR    RS,RY                   Amount being moved
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  129
0Current Usings:  (PZERO,R0) (SOCK,R2) (LBUF,R3) (MOVEOUT,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002054 5010 20B4            000B4 17482  2 2410.                  ST    RS,SKRR01
                                   17483  2 2411.     *
                                   17484  2 2412.     *  Update the total count
                                   17485  2 2413.     *
 002058 5810 2018            00018 17486  2 2414.                  L     RS,SKICNT               Get the current count
 00205C 1B17                       17487  2 2415.                  SR    RS,RY                   Minus length of this buffer
 00205E 5010 2018            00018 17488  2 2416.                  ST    RS,SKICNT               Current byte count
                                   17489  2 2417.     *
                                   17490  2 2418.     *  Move the data
                                   17491  2 2419.     *
 002062 0E64                       17492  2 2420.                  MVCL  RX,RJ                   Move it in
                                   17493  2 2421.     *
                                   17494  2 2422.     *  Now unchain and free the buffer
                                   17495  2 2423.     *
 002064 D203 2014 3004 00014 00004 17496  2 2424.                  MVC   SKICHAIN,LBCHAIN
 USING  @FREELB-72,R13             17497  2 2425.                  PSET  @FREELB
 00206A D707 D048 D048 00000 00000 17514  2          +
 002070 5020 D048            00000 17515  2 2426.                  ST    RA,@FRLBSOC             SOCK address
 002074 5030 D04C            00004 17516  2 2427.                  ST    RB,@FRLBLOC             Buffer address
 002078 58F0 AFDE/0DEF       02FE4 17517  2 2428.                  ACALL FREELBUF                Free the LBUF
 00207E                            17524  1 2429.                END   ,
                                   17528  1 2430.     *
                                   17529  1 2431.     *  Update the LBUF counts
                                   17530  1 2432.     *
 00207E A07C           0207E 0204C 17531  1 2433.                ELSE  BEGIN
 00207E 47F0 A0A4            020AA 17536  1          +
 002082 1B75                       17542  2 2434.                  SR    RY,RK                   Bytes remaining in LBUF
 002084 4070 300C            0000C 17543  2 2435.                  STH   RY,LBCNT                 Update
                                   17544  2 2436.
 002088 4810 300A            0000A 17545  2 2437.                  LH    RS,LBOFF                Offset of remaining data
 00208C 1A15                       17546  2 2438.                  AR    RS,RK                   Amount being taken
 00208E 4010 300A            0000A 17547  2 2439.                  STH   RS,LBOFF                Update the offset
                                   17548  2 2440.     *
                                   17549  2 2441.     *  Update the amount moved
                                   17550  2 2442.     *
 002092 5810 20B4            000B4 17551  2 2443.                  L     RS,SKRR01               Update the total length moved
 002096 1A15                       17552  2 2444.                  AR    RS,RK                   Amount being moved
 002098 5010 20B4            000B4 17553  2 2445.                  ST    RS,SKRR01
                                   17554  2 2446.     *
                                   17555  2 2447.     *  Update the total count
                                   17556  2 2448.     *
 00209C 5810 2018            00018 17557  2 2449.                  L     RS,SKICNT               Get the current count
 0020A0 1B15                       17558  2 2450.                  SR    RS,RK                   Minus amount being moved
 0020A2 5010 2018            00018 17559  2 2451.                  ST    RS,SKICNT               Current byte count
                                   17560  2 2452.     *
                                   17561  2 2453.     *  And move the data
                                   17562  2 2454.     *
 0020A6 1875                       17563  2 2455.                  LR    RY,RK
 0020A8 0E64                       17564  2 2456.                  MVCL  RX,RJ                   Do the copy
 0020AA                            17565  1 2457.                END   ,
 0020AA 1255/4770 A02C       02032 17569    2458.              UNTIL (RK,Z),END
                                   17591    2459.     *
                                   17592    2460.     *  If translation (from ASCII) needs to be performed we do that now
                                   17593    2461.     *
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  130
0Current Usings:  (PZERO,R0) (SOCK,R2) (LBUF,R3) (MOVEOUT,R10) (@SOCKP-72,R12) (@FREELB-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00020B0 9140 20A5      000A5       17594    2462.              IF    SKTRAN,BEGIN
 0020B4 47E0 A0CA            020D0 17604             +
 DROP   @FREELB-72,R13             17609  1 2463.                PSET  @TOEBC
 USING  @TOEBC-72,R13
 0020B8 D707 D048 D048 00000 00000 17629  1          +
 0020BE                            17630  1 2464.                PMOV  @TOEBLOC,SKBUFLOC       Buffer pointer
 0020BE D203 D048 20A8 00000 000A8 17634  1          +
 0020C4                            17635  1 2465.                PMOV  @TOEBLEN,SKRR01         Data length
 0020C4 D203 D04C 20B4 00004 000B4 17639  1          +
 0020CA 58F0 AFE2/0DEF       02FE8 17640  1 2466.                ACALL TOEBC                   Go translate
 0020D0                            17647    2467.              END   ,
                                   17651    2468.     *
                                   17652    2469.     *  Unlock and we're done
                                   17653    2470.     *
 0020D0 58F0 AFE6/0DEF       02FEC 17654    2471.              VCALL ASULOCK
 0020D6 981F C008            00008 17658    2472.              PEND  ,
 DROP   LBUF,R3
 DROP   SOCK,R2
 DROP   @SOCKP-72,R12
 DROP   MOVEOUT,R10
 0020DA 9680 C000/0B0E 00000       17683             +
 DROP   @TOEBC-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  131
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17693    2474.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   17694    2475.     Ÿ                                                                     Ÿ
                                   17695    2476.     Ÿ  SENDTCP --  This routine attempts to send a message out on         Ÿ
                                   17696    2477.     Ÿ              the amelia path to the TCP/IP network.  The parm       Ÿ
                                   17697    2478.     Ÿ              area contains the TCP header.  It also contains        Ÿ
                                   17698    2479.     Ÿ              a flag to indicate whether the users buffer should     Ÿ
                                   17699    2480.     Ÿ              also be sent.                                          Ÿ
                                   17700    2481.     Ÿ                                                                     Ÿ
                                   17701    2482.     Ÿ              To insure that we can recover from a full queue        Ÿ
                                   17702    2483.     Ÿ              response, if a full queue is received from the         Ÿ
                                   17703    2484.     Ÿ              first attempt to send the message, we enqueue on       Ÿ
                                   17704    2485.     Ÿ              the global lock and try again.  If it still is full    Ÿ
                                   17705    2486.     Ÿ              then we mark our NSQE and free the lock.  This makes   Ÿ
                                   17706    2487.     Ÿ              sure that we will be on the list to be posted when     Ÿ
                                   17707    2488.     Ÿ              the central task gets notified that the full queue     Ÿ
                                   17708    2489.     Ÿ              condition is relieved.                                 Ÿ
                                   17709    2490.     Ÿ                                                                     Ÿ
                                   17710    2491.     Ÿ    Input --  @SENDTCP                                               Ÿ
                                   17711    2492.     Ÿ                                                                     Ÿ
                                   17712    2493.     Ÿ   Output --  RVR=0: OK; RVR < 0 : Path Closed; RVR > 0 : Full Queue Ÿ
                                   17713    2494.     Ÿ                                                                     Ÿ
                                   17714    2495.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-0020E0                            17716    2497.     SENDTCP  PROC  @SENDTCP,SCOPE=LOCAL
 0020E0 E2C5D5C4E3C3D740           17723             +
 0020E8 0020/0000                  17724             +
 0020EC 900F D004/18AF       00004 17726             +
 USING  SENDTCP,R10
 0020F2 50D0 C000/18CD       00000 17741             +
 0020F8 9680 C000      00000       17743             +
 USING  @SENDTCP-72,R12
 0020FC 41D0 C068            00068 17757             +
                                   17758    2498.     *         ORVSNAP 'SENDTCP',MODE=LOG
                                   17759    2499.     *         ORVSNAP @SNDHDR,L'@SNDHDR,MODE=LOG
 002100 5820 C048            00000 17760    2500.              L     RA,@SNDSOCK
 USING  SOCK,R2                    17761    2501.              WITH  (SOCK,RA)
                                   17774    2502.
 002104                            17775    2503.              IF    (SKNSQE,Z),BEGIN        The NSQE is already gone
 002104 D603 200C 200C 0000C 0000C 17785             +
 00210A 4770 A02A            02116 17786             +
 00210E 5800 AF04            02FF0 17791  1 2504.                L     RVR,=A(-1)
 002112 47F0 A228            02314 17792  1 2505.                EXIT  SENDTCP
 002116                            17795    2506.              END   ,
                                   17799    2507.              ¿þþþþþþþþþþþþþþþþþÜ
                                   17800    2508.              Ÿ  Get an IOS ID  Ÿ
                                   17801    2509.              ¾þþþþþþþþþþþþþþþþþ»
 002116 9200 D048      00000       17802    2510.              PSET  @IOSIDGET
 USING  @IOSIDGET-72,R13
 00211A 9680 D048      00000       17820    2511.              SET   @IOSFWAIT               We can wait
 00211E 58F0 AF08/0DEF       02FF4 17826    2512.              VCALL IOSIDGET                Go get us an ID
 002124 1850                       17830    2513.              LR    RK,RVR                  Copy the ID
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  132
0Current Usings:  (PZERO,R0) (SOCK,R2) (SENDTCP,R10) (@SENDTCP-72,R12) (@IOSIDGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17831    2514.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   17832    2515.              Ÿ  Format the I/O Parameter area  Ÿ
                                   17833    2516.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 002126 5870 2008            00008 17834    2517.              L     RY,SKIOPA               Get the I/O parm area
 USING  #SCSR,R7                   17835    2518.              WITH  (#SCSR,RY)              Address it
 00212A                            17848    2519.              CLEAR #SCSR
 00212A D717 7000 7000 00000 00000 17854             +
 DROP   #SCSR,R7                   17855    2520.              WITH  (#SCOMCMD,RY),'MVC #SCCMD,=A(#SCCSEND)'
 USING  #SCOMCMD,R7
 002130 D203 7000 AF0C 00000 02FF8 17873             +
 DROP   #SCOMCMD,R7
 USING  #SCSR,R7
 DROP   @IOSIDGET-72,R13           17889    2521.              FIX   @SNDHDR,L'@SNDHDR                 Fix Header
 USING  @PAGE-72,R13
 002136 D708 D048 D048 00000 00000 17910             +
 00213C 4100 C04C            00004 17922             +
 002140 5000 D048            00000 17927             +
 002144 4100 0014            00014 17939             +
 002148 5000 D04C            00004 17944             +
 00214C 58F0 AF10/0DEF       02FFC 17947             +
 002152 4100 C04C            00004 17949    2522.              ADDSG @SNDHDR,L'@SNDHDR,#SCSR           Add to list
 DROP   @PAGE-72,R13
 USING  @ADDSEG-72,R13
 002156 5000 D04C            00004 17980             +
 00215A 4100 0014            00014 17992             +
 00215E 4000 D050            00008 17997             +
 002162 5070 D048            00000 18008             +
 002166 58F0 AF14/0DEF       03000 18014             +
 00216C 9180 C060      00018       18016    2523.              IF    @SNDSBUF,BEGIN                    We have a buffer too
 002170 47E0 A0B6            021A2 18026             +
 DROP   @ADDSEG-72,R13             18031  1 2524.                FIX   L:SKBUFLOC,L:SKBUFLEN             Fix user area
 USING  @PAGE-72,R13
 002174 D708 D048 D048 00000 00000 18052  1          +
 00217A D203 D048 20A8 00000 000A8 18057  1          +
 002180 D203 D04C 20AC 00004 000AC 18062  1          +
 002186 58F0 AF10/0DEF       02FFC 18065  1          +
 DROP   @PAGE-72,R13               18067  1 2525.                ADDSG L:SKBUFLOC,L:SKBUFLEN,#SCSR       Add to list
 USING  @ADDSEG-72,R13
 00218C D203 D04C 20A8 00004 000A8 18086  1          +
 002192 D201 D050 20AE 00008 000AE 18091  1          +
 002198 5070 D048            00000 18102  1          +
 00219C 58F0 AF14/0DEF       03000 18108  1          +
 0021A2                            18110    2526.              END   ,
 DROP   @ADDSEG-72,R13             18114    2527.              FIX   #SCSR,SCOMPLEN          Fix the parm area
 USING  @PAGE-72,R13
 0021A2 D708 D048 D048 00000 00000 18135             +
 0021A8 5070 D048            00000 18146             +
 0021AC 4100 00B8            000B8 18158             +
 0021B0 5000 D04C            00004 18163             +
 0021B4 58F0 AF10/0DEF       02FFC 18166             +
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  133
0Current Usings:  (PZERO,R0) (SOCK,R2) (#SCSR,R7) (SENDTCP,R10) (@SENDTCP-72,R12) (@PAGE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18168    2528.              ¿þþþþþþþþþþþþþþþÜ
                                   18169    2529.              Ÿ  Send it out  Ÿ
                                   18170    2530.              ¾þþþþþþþþþþþþþþþ»
 DROP   @PAGE-72,R13               18171    2531.              PSET  @IOSDOIO
 USING  @IOSDOIO-72,R13
 0021BA D71D D048 D048 00000 00000 18191             +
 0021C0 D207 D050 0208 00008 00208 18192    2532.              MVC   @IOSPID,PZCURPID
 0021C6 5810 200C            0000C 18193    2533.              L     RS,SKNSQE                         Get the NSQE addr
 0021CA 5810 1008            00008 18194    2534.              WITH  (NSQE,RS),'L RS,NSQENPCB'         Get the NPCB addr
 USING  NSQE,R1
 DROP   NSQE,R1
 USING  NPCB,R1                    18218    2535.              WITH  (NPCB,RS),'MVC @IOSCHID,NPCBPATH' Path ID
 0021CE D203 D048 1008 00000 00008 18233             +
 DROP   NPCB,R1
 0021D4 5050 D04C            00004 18242    2536.              ST    RK,@IOSID                         I/O ID
 0021D8 5070 D058            00010 18243    2537.              PMOV  @IOSCP,LA:#SCSR                   Parm area address
 0021DC 9680 D065      0001D       18254    2538.              SET   @IOSFSYNC                         Syncronous
 0021E0 58F0 AF18/0DEF       03004 18260    2539.              VCALL IOSDOIO                           Do the I/O
 0021E6 1830                       18264    2540.              LR    RB,RVR                            Copy ending status
 0021E8 5930 AF1C            03008 18265    2541.              IF    (RB,EQ,#SCESFQ),BEGIN             We got a full queue
 0021EC 4770 A166            02252 18277             +
                                   18282  1 2542.                ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18283  1 2543.                Ÿ  Lets try to send it out again  Ÿ
                                   18284  1 2544.                ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0021F0 5860 0200            00200 18285  1 2545.                L     RX,PZMATP                         Mat address
 0021F4 5860 603C            0003C 18286  1 2546.                WITH  (MAT,RX),'L RX,MATGNCT'           GNCT address
 USING  MAT,R6
 DROP   MAT,R6
 USING  GNCT,R6                    18310  1 2547.                WITH  (GNCT,RX)
 DROP   @IOSDOIO-72,R13            18323  1 2548.                LKOB  GNCTLOCK                          Get the global lock
 USING  @LOCKS-72,R13
 0021F8 D203 D048 6008 00000 00008 18342  1          +
 0021FE 58F0 AF20/0DEF       0300C 18345  1          +
 DROP   @LOCKS-72,R13              18347  1 2549.                PSET  @IOSDOIO
 USING  @IOSDOIO-72,R13
 002204 D71D D048 D048 00000 00000 18367  1          +
 00220A D207 D050 0208 00008 00208 18368  1 2550.                MVC   @IOSPID,PZCURPID
 002210 5810 200C            0000C 18369  1 2551.                L     RS,SKNSQE                         Get the NSQE addr
 002214 5810 1008            00008 18370  1 2552.                WITH  (NSQE,RS),'L RS,NSQENPCB'         Get the NPCB addr
 USING  NSQE,R1
 DROP   NSQE,R1
 USING  NPCB,R1                    18394  1 2553.                WITH  (NPCB,RS),'MVC @IOSCHID,NPCBPATH' Path ID
 002218 D203 D048 1008 00000 00008 18409  1          +
 DROP   NPCB,R1
 00221E 5050 D04C            00004 18418  1 2554.                ST    RK,@IOSID                         I/O ID
 002222 5070 D058            00010 18419  1 2555.                PMOV  @IOSCP,LA:#SCSR                   Parm area address
 002226 9680 D065      0001D       18430  1 2556.                SET   @IOSFSYNC                         Syncronous
 00222A 58F0 AF18/0DEF       03004 18436  1 2557.                VCALL IOSDOIO                           Do the I/O
 002230 1830                       18440  1 2558.                LR    RB,RVR                            Copy ending status
 002232 5930 AF1C            03008 18441  1 2559.                IF    (RB,EQ,#SCESFQ),BEGIN             Again Full
 002236 4770 A15A            02246 18453  1          +
 00223A 5810 200C            0000C 18458  2 2560.                  L     RS,SKNSQE
 USING  NSQE,R1                    18459  2 2561.                  WITH  (NSQE,RS),BEGIN
 00223E 9680 1018      00018       18473  3 2562.                    SET   NSQEFULQ                          Set our flags
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  134
0Current Usings:  (PZERO,R0) (NSQE,R1) (SOCK,R2) (GNCT,R6) (#SCSR,R7) (SENDTCP,R10) (@SENDTCP-72,R12) (@IOSDOIO-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002242 94BF 1018      00018       18479  3 2563.                    CLEAR NSQEFQE
 DROP   NSQE,R1                    18486  2 2564.                  END   ,
 002246                            18494  1 2565.                END   ,
 DROP   @IOSDOIO-72,R13            18498  1 2566.                LKREL GNCTLOCK                          Free the lock
 USING  @LOCKS-72,R13
 002246 D203 D048 6008 00000 00008 18517  1          +
 00224C 58F0 AF24/0DEF       03010 18520  1          +
 DROP   GNCT,R6                    18522    2567.              END   ,
                                   18531    2568.              ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18532    2569.              Ÿ  Free up the stuff we got  Ÿ
                                   18533    2570.              ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 DROP   @LOCKS-72,R13              18534    2571.              UNFIX #SCSR,SCOMPLEN          Unfix the parm area...
 USING  @PAGE-72,R13
 002252 D708 D048 D048 00000 00000 18555             +
 002258 5070 D048            00000 18566             +
 00225C 4100 00B8            000B8 18578             +
 002260 5000 D04C            00004 18583             +
 002264 58F0 AF28/0DEF       03014 18586             +
 00226A                            18588    2572.              UNFIX @SNDHDR,L'@SNDHDR       The Header...
 00226A D708 D048 D048 00000 00000 18599             +
 002270 4100 C04C            00004 18611             +
 002274 5000 D048            00000 18616             +
 002278 4100 0014            00014 18628             +
 00227C 5000 D04C            00004 18633             +
 002280 58F0 AF28/0DEF       03014 18636             +
 002286 9180 C060      00018       18638    2573.              IF    @SNDSBUF,BEGIN          We have a buffer too
 00228A 47E0 A1BA            022A6 18648             +
 00228E                            18653  1 2574.                UNFIX L:SKBUFLOC,L:SKBUFLEN   Unfix user area
 00228E D708 D048 D048 00000 00000 18664  1          +
 002294 D203 D048 20A8 00000 000A8 18669  1          +
 00229A D203 D04C 20AC 00004 000AC 18674  1          +
 0022A0 58F0 AF28/0DEF       03014 18677  1          +
 0022A6                            18679    2575.              END   ,
 DROP   @PAGE-72,R13               18683    2576.              PSET  @IOSIDFRE
 USING  @IOSIDFRE-72,R13
 0022A6 D703 D048 D048 00000 00000 18703             +
 0022AC 5050 D048            00000 18704    2577.              ST    RK,@IOSFID
 0022B0 58F0 AF2C/0DEF       03018 18705    2578.              VCALL IOSIDFRE                Free the IOS ID
                                   18709    2579.     *
                                   18710    2580.     * Check the ending status
                                   18711    2581.     *
 0022B6 5930 AF30            0301C 18712    2582.              IF    (RB,EQ,#SCESOK),BEGIN   Normal response
 0022BA 4770 A1D8            022C4 18724             +
 0022BE 1B00                       18729  1 2583.                CLEAR RVR                     Good return code
 0022C0 47F0 A228            02314 18733  1 2584.                EXIT  SENDTCP                 Return to the caller
 0022C4                            18736    2585.              END   ,
                                   18740    2586.
 0022C4 5930 AF34            03020 18741    2587.              IF    (RB,EQ,#SCESNP),BEGIN   No partner
 0022C8 4770 A1E8            022D4 18753             +
 0022CC 5800 AF38            03024 18758  1 2588.                L     RVR,=A(-4)              Get the return code
 0022D0 47F0 A228            02314 18759  1 2589.                EXIT  SENDTCP
 0022D4                            18762    2590.              END   ,
                                   18766    2591.
 0022D4 5930 AF1C            03008 18767    2592.              IF    (RB,EQ,#SCESFQ),BEGIN   Buffer too big
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  135
0Current Usings:  (PZERO,R0) (SOCK,R2) (#SCSR,R7) (SENDTCP,R10) (@SENDTCP-72,R12) (@IOSIDFRE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00022D8 4770 A1F8            022E4 18779             +
 0022DC 4100 0004            00004 18784  1 2593.                LA    RVR,4                   Full queue code
 0022E0 47F0 A228            02314 18785  1 2594.                EXIT  SENDTCP
 0022E4                            18788    2595.              END   ,
                                   18792    2596.
 0022E4 AC04 021B      0021B       18793    2597.              ABORT SENDTCP                 Any other...
 0022E8 9680 021A      0021A       18802             +
 0022EC 50F0 021C            0021C 18803             +
 0022F0 58F0 0210            00210 18804             +
 0022F4 89F0 0010            00010 18805             +
 0022F8 88F0 0010            00010 18806             +
 0022FC 41F0 F000            00000 18807             +
 002300 AEFF 0006            00006 18808             +
 002304 E2C5D5C4E3C3D740           18809             +
 002314 981F C008            00008 18810    2598.              PEND  ,
 DROP   #SCSR,R7
 DROP   SOCK,R2
 DROP   @SENDTCP-72,R12
 DROP   SENDTCP,R10
 002318 9680 C000/0B0E 00000       18835             +
 DROP   @IOSIDFRE-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  136
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18845    2600.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18846    2601.     Ÿ                                                                     Ÿ
                                   18847    2602.     Ÿ   IODONE --  Signal the I/O requestor that the I/O is               Ÿ
                                   18848    2603.     Ÿ              complete.  It uses information from the SOCK.          Ÿ
                                   18849    2604.     Ÿ                                                                     Ÿ
                                   18850    2605.     Ÿ   Input  --  @SOCKP                                                 Ÿ
                                   18851    2606.     Ÿ                                                                     Ÿ
                                   18852    2607.     Ÿ  Output  --  none                                                   Ÿ
                                   18853    2608.     Ÿ                                                                     Ÿ
                                   18854    2609.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00231E                            18856    2611.     IODONE   PROC  @SOCKP,SCOPE=LOCAL
 00231E C9D6C4D6D5C54040           18863             +
 002326 0010/0000                  18864             +
 00232A 900F D004/18AF       00004 18866             +
 USING  IODONE,R10
 002330 50D0 C000/18CD       00000 18881             +
 002336 9680 C000      00000       18883             +
 USING  @SOCKP-72,R12
 00233A 41D0 C058            00058 18897             +
 00233E 5860 C048            00000 18898    2612.              L     RX,@SOCK                Get the SOCK address
 USING  SOCK,R6                    18899    2613.              WITH  (SOCK,RX)
 002342 5810 60BC            000BC 18912    2614.              L     RS,SKRR15
                                   18913    2615.     *
                                   18914    2616.     * Schedule the I/O complete exit
                                   18915    2617.     *
 USING  @XITDO-72,R13              18916    2618.              PSET  @XITDO
 002346 D71F D048 D048 00000 00000 18933             +
 00234C D203 D048 6088 00000 00088 18934    2619.              MVC   @XITRQID,SKIOXID        Move in the request ID
 002352 D203 D04C 6084 00004 00084 18935    2620.              MVC   @XITTSK,SKATSK          Task ID
 002358 9209 D050      00008       18936    2621.              MVI   @XITTYPE,XITTIOCN       I/O complete
 AUSING (@M1NIOCP,@XITPARM)        18937    2622.              WITH  (@M1NIOCP,@XITPARM)     Map the parm area
 00235C D203 D058 6094 00000 00094 18944    2623.              MVC   @M1NICRQ,SKCRID         Current request ID
 002362 D203 D05C 60B4 00004 000B4 18945    2624.              MVC   @M1NIR01,SKRR01         Register 1
 002368 D203 D060 60B8 00008 000B8 18946    2625.              MVC   @M1NIR14,SKRR14         Register 14
 00236E D203 D064 60BC 0000C 000BC 18947    2626.              MVC   @M1NIR15,SKRR15         Register 15
 002374 58F0 ACFE/0DEF       03028 18948    2627.              VCALL XITDO                   Schedule the exit
 00237A 1200/4780 A086       023B0 18952    2628.              IF    (RVR,NZ),'ABORT BADIOCPX'  Can't schedule the exit
 002380 AC04 021B      0021B       18970  1          +
 002384 9680 021A      0021A       18976  1          +
 002388 50F0 021C            0021C 18977  1          +
 00238C 58F0 0210            00210 18978  1          +
 002390 89F0 0010            00010 18979  1          +
 002394 88F0 0010            00010 18980  1          +
 002398 41F0 F000            00000 18981  1          +
 00239C AEFF 0006            00006 18982  1          +
 0023A0 C2C1C4C9D6C3D7E7           18983             +
 0023B0 981F C008            00008 18988    2629.              PEND  ,
 DROP   SOCK,R6
 DROP   @SOCKP-72,R12
 DROP   IODONE,R10
 0023B4 9680 C000/0B0E 00000       19008             +
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  137
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   @XITDO-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  138
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19018    2631.     *****************************************************************
                                   19019    2632.     *                                                               *
                                   19020    2633.     *   DOTIME --  This routine sets a real time timer.             *
                                   19021    2634.     *                                                               *
                                   19022    2635.     *   Input  --  @SOCKP                                           *
                                   19023    2636.     *                                                               *
                                   19024    2637.     *  Output  --  none                                             *
                                   19025    2638.     *                                                               *
                                   19026    2639.     *****************************************************************
-0023BA                            19028    2641.     DOTIME   PROC  @SOCKP,SCOPE=LOCAL
 0023BA C4D6E3C9D4C54040           19035             +
 0023C2 0010/0000                  19036             +
 0023C6 900F D004/18AF       00004 19038             +
 USING  DOTIME,R10
 0023CC 50D0 C000/18CD       00000 19053             +
 0023D2 9680 C000      00000       19055             +
 USING  @SOCKP-72,R12
 0023D6 41D0 C058            00058 19069             +
 0023DA 5860 C048            00000 19070    2642.              L     RX,@SOCK                Get the SOCK address
 USING  SOCK,R6                    19071    2643.              WITH  (SOCK,RX)
 0023DE                            19084    2644.              IF    (SKTOVAL,Z),EXIT        Don't wait for no time
 0023DE D607 60C0 60C0 000C0 000C0 19094             +
 0023E4 4780 A07C            02442 19097             +
                                   19103    2645.     *
                                   19104    2646.     * Start the time
                                   19105    2647.     *
 USING  @RTSET-72,R13              19106    2648.              PSET  @RTSET
 0023E8 D717 D048 D048 00000 00000 19123             +
 0023EE D207 D048 60C0 00000 000C0 19124    2649.              MVC   @RTSCLK,SKTOVAL         Move in the time
 0023F4 9680 D050      00008       19125    2650.              SET   @RTSFINT                And it is an interval
 0023F8 D203 D054 6090 0000C 00090 19131    2651.              MVC   @RTSXIT,SKTOXID         Move in the request ID
 0023FE 58F0 AC66/0DEF       0302C 19132    2652.              VCALL RTSET                   Schedule the exit
 002404 1200/4770 A074       0243A 19136    2653.              IF    (RVR,Z),'ABORT SETRT'   Bad timer ID returned
 00240A AC04 021B      0021B       19154  1          +
 00240E 9680 021A      0021A       19160  1          +
 002412 50F0 021C            0021C 19161  1          +
 002416 58F0 0210            00210 19162  1          +
 00241A 89F0 0010            00010 19163  1          +
 00241E 88F0 0010            00010 19164  1          +
 002422 41F0 F000            00000 19165  1          +
 002426 AEFF 0006            00006 19166  1          +
 00242A E2C5E3D9E3404040           19167             +
 00243A 5000 60C8            000C8 19172    2654.              ST    RVR,SKTOID              Save the ID
 00243E 9608 6080      00080       19173    2655.              SET   TIMERUN                 Indicate that a timer is running
 002442 981F C008            00008 19179    2656.              PEND  ,
 DROP   SOCK,R6
 DROP   @SOCKP-72,R12
 DROP   DOTIME,R10
 002446 9680 C000/0B0E 00000       19199             +
 DROP   @RTSET-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  139
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19209    2658.     *****************************************************************
                                   19210    2659.     *                                                               *
                                   19211    2660.     *  CANTIME --  Cancel an outstanding timer.                     *
                                   19212    2661.     *                                                               *
                                   19213    2662.     *   Input  --  @SOCKP                                           *
                                   19214    2663.     *                                                               *
                                   19215    2664.     *  Output  --  none                                             *
                                   19216    2665.     *                                                               *
                                   19217    2666.     *****************************************************************
-00244C                            19219    2668.     CANTIME  PROC  @SOCKP,SCOPE=LOCAL
 00244C C3C1D5E3C9D4C540           19226             +
 002454 0010/0000                  19227             +
 002458 900F D004/18AF       00004 19229             +
 USING  CANTIME,R10
 00245E 50D0 C000/18CD       00000 19244             +
 002464 9680 C000      00000       19246             +
 USING  @SOCKP-72,R12
 002468 41D0 C058            00058 19260             +
 00246C 5860 C048            00000 19261    2669.              L     RX,@SOCK                Get the SOCK address
 USING  SOCK,R6                    19262    2670.              WITH  (SOCK,RX)
                                   19275    2671.     *
                                   19276    2672.     * Schedule the I/O complete exit
                                   19277    2673.     *
 USING  @RTCNCK-72,R13             19278    2674.              PSET  @RTCNCK
 002470 D71F D048 D048 00000 00000 19295             +
 002476 D203 D048 60C8 00000 000C8 19296    2675.              MVC   @RTCID,SKTOID           Move in the timer ID
 00247C 58F0 ABD8/0DEF       03030 19297    2676.              VCALL RTCAN                   Schedule the exit
 002482 1200/4780 A060       024B8 19301    2677.              IF    (RVR,NZ),'ABORT RTCAN'  Bad cancel request
 002488 AC04 021B      0021B       19319  1          +
 00248C 9680 021A      0021A       19325  1          +
 002490 50F0 021C            0021C 19326  1          +
 002494 58F0 0210            00210 19327  1          +
 002498 89F0 0010            00010 19328  1          +
 00249C 88F0 0010            00010 19329  1          +
 0024A0 41F0 F000            00000 19330  1          +
 0024A4 AEFF 0006            00006 19331  1          +
 0024A8 D9E3C3C1D5404040           19332             +
 0024B8 94F7 6080      00080       19337    2678.              CLEAR TIMERUN
 0024BC 981F C008            00008 19344    2679.              PEND  ,
 DROP   SOCK,R6
 DROP   @SOCKP-72,R12
 DROP   CANTIME,R10
 0024C0 9680 C000/0B0E 00000       19364             +
 DROP   @RTCNCK-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  140
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19374    2681.     *****************************************************************
                                   19375    2682.     *                                                               *
                                   19376    2683.     *  PTTIMEX --  This is the timer complete exit. It just wakes   *
                                   19377    2684.     *              up the processing task.                          *
                                   19378    2685.     *                                                               *
                                   19379    2686.     *   Input  --  @XITDATA                                         *
                                   19380    2687.     *                                                               *
                                   19381    2688.     *  Output  --  none                                             *
                                   19382    2689.     *                                                               *
                                   19383    2690.     *****************************************************************
-0024C6                            19385    2692.     PTTIMEX  PROC  @XITDATA,SCOPE=LOCAL
 0024C6 D7E3E3C9D4C5E740           19392             +
 0024CE 0008/0000                  19393             +
 0024D2 900F D004/18AF       00004 19395             +
 USING  PTTIMEX,R10
 0024D8 50D0 C000/18CD       00000 19410             +
 0024DE 9680 C000      00000       19412             +
 USING  @XITDATA-72,R12
 0024E2 41D0 C050            00050 19426             +
                                   19427    2693.     *
                                   19428    2694.     * Get the SOCK address and the new flags
                                   19429    2695.     *
 0024E6 5810 C048            00000 19430    2696.              L     RS,@XITDSA              Get the Exit Status Area loc
 0024EA 5860 1000            00000 19431    2697.              WITH  (XITSAREA,RS),'L RX,XITSRPRM'  Get the SOCK address
 USING  XITSAREA,R1
 DROP   XITSAREA,R1
 USING  SOCK,R6                    19455    2698.              WITH  (SOCK,RX)
                                   19468    2699.     *
                                   19469    2700.     * We now have to wake up the processing task
                                   19470    2701.     *
 0024EE 9620 6080      00080       19471    2702.              SET   TIMEUP                  Tell it why
 0024F2 94F7 6080      00080       19477    2703.              CLEAR TIMERUN                 Timer not running now
 USING  @SIGNAL-72,R13             19484    2704.              SIGNL SKECB                   Go to it
 0024F6 D713 D048 D048 00000 00000 19502             +
 0024FC 4100 6078            00078 19514             +
 002500 5000 D050            00008 19519             +
 002504 58F0 AB62/0DEF       03034 19522             +
 00250A 58F0 AB66/0DEF       03038 19524    2705.              VCALL EXRDONE                 Then return from the exit
 002510 981F C008            00008 19528    2706.              PEND  ,
 DROP   SOCK,R6
 DROP   @XITDATA-72,R12
 DROP   PTTIMEX,R10
 002514 9680 C000/0B0E 00000       19548             +
 DROP   @SIGNAL-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  141
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19558    2708.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   19559    2709.     Ÿ                                                                     Ÿ
                                   19560    2710.     Ÿ                                                                     Ÿ
                                   19561    2711.     Ÿ  NEWSOCK --  This routine allocates a new SOCK data structure       Ÿ
                                   19562    2712.     Ÿ              and fills in some of the data areas.                   Ÿ
                                   19563    2713.     Ÿ                                                                     Ÿ
                                   19564    2714.     Ÿ   Input  --  none                                                   Ÿ
                                   19565    2715.     Ÿ                                                                     Ÿ
                                   19566    2716.     Ÿ  Output  --  RVR contains the SOCK address.                         Ÿ
                                   19567    2717.     Ÿ                                                                     Ÿ
                                   19568    2718.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00251A                            19570    2720.     NEWSOCK  PROC  SCOPE=LOCAL
 00251A D5C5E6E2D6C3D240           19577             +
 002522 0000/0000                  19578             +
 002526 900F D004/18AF       00004 19580             +
 USING  NEWSOCK,R10
 00252C 50D0 C000/18CD       00000 19595             +
 002532 9680 C000      00000       19597             +
 002536 41D0 C048            00048 19598             +
                                   19599    2721.     *
                                   19600    2722.     * Allocate the SOCK itself
                                   19601    2723.     *
 USING  @VMGET-72,R13              19602    2724.              VMGET L'SOCK,LOC=LOCSYS,FIX=YES       Get the memory
 00253A D70A D048 D048 00000 00000 19626             +
 002540 4100 0120            00120 19638             +
 002544 5000 D048            00000 19643             +
 002548 D201 D050 AB56 00008 0307C 19644             +
 00254E 58F0 AB16/0DEF       0303C 19647             +
 002554 1200/4770 A064       0258A 19649    2725.              IF    (RVR,Z),'ABORT NOMEM'           No memory here
 00255A AC04 021B      0021B       19667  1          +
 00255E 9680 021A      0021A       19673  1          +
 002562 50F0 021C            0021C 19674  1          +
 002566 58F0 0210            00210 19675  1          +
 00256A 89F0 0010            00010 19676  1          +
 00256E 88F0 0010            00010 19677  1          +
 002572 41F0 F000            00000 19678  1          +
 002576 AEFF 0006            00006 19679  1          +
 00257A D5D6D4C5D4404040           19680             +
 00258A 1860                       19685    2726.              LR    RX,RVR                          Copy the address
 USING  SOCK,R6                    19686    2727.              WITH  (SOCK,RX)
                                   19699    2728.     *
                                   19700    2729.     * Initialize some of it
                                   19701    2730.     *
 00258C                            19702    2731.              CLEAR SOCK                    Zero it out
 00258C D7FF 6000 6000 00000 00000 19708             +
 002592 D71F 6100 6100 00100 00100 19709             +
 002598 D203 6000 AB1A 00000 03040 19710    2732.              MVC   SOCK(4),=C'SOCK'        Move in the ID
 00259E D203 6084 020C 00084 0020C 19711    2733.              MVC   SKATSK,PZCURTSK         Task ID of the attacher
 0025A4 5820 0208            00208 19712    2734.              L     RA,PZCURASB             Get current ASB pointer
 USING  ASB,R2                     19713    2735.              WITH  (ASB,RA),BEGIN
 0025A8 58F0 AABA/0DEF       02FE0 19727  1 2736.                VCALL ASLOCK                  Make sure we're not interrupted
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  142
0Current Usings:  (PZERO,R0) (ASB,R2) (SOCK,R6) (NEWSOCK,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00025AE D203 6004 2040 00004 00040 19731  1 2737.                MVC   SKNEXT,ASBNET           Copy the address
 0025B4 5060 2040            00040 19732  1 2738.                ST    RX,ASBNET               Add to chain of Sockets
 0025B8 58F0 AAC6/0DEF       02FEC 19733  1 2739.                VCALL ASULOCK                 Unlock it
 DROP   ASB,R2                     19737    2740.              END   ,
                                   19745    2741.     *
                                   19746    2742.     * Get the Corresponding NSQE
                                   19747    2743.     *
 0025BE                            19748    2744.              VMGET L'NSQE,LOC=GLOBHI,FIX=YES
 0025BE D70A D048 D048 00000 00000 19765             +
 0025C4 4100 0019            00019 19777             +
 0025C8 5000 D048            00000 19782             +
 0025CC D201 D050 AB58 00008 0307E 19783             +
 0025D2 58F0 AB16/0DEF       0303C 19786             +
 0025D8 1200/4770 A0E8       0260E 19788    2745.              IF    (RVR,Z),'ABORT NOMEM'
 0025DE AC04 021B      0021B       19806  1          +
 0025E2 9680 021A      0021A       19812  1          +
 0025E6 50F0 021C            0021C 19813  1          +
 0025EA 58F0 0210            00210 19814  1          +
 0025EE 89F0 0010            00010 19815  1          +
 0025F2 88F0 0010            00010 19816  1          +
 0025F6 41F0 F000            00000 19817  1          +
 0025FA AEFF 0006            00006 19818  1          +
 0025FE D5D6D4C5D4404040           19819             +
 00260E 1870                       19824    2746.              LR    RY,RVR                  Copy the address
 002610 5070 600C            0000C 19825    2747.              ST    RY,SKNSQE               Save the address
                                   19826    2748.     *
                                   19827    2749.     * Initialize it
                                   19828    2750.     *
 USING  NSQE,R7                    19829    2751.              WITH  (NSQE,RY),BEGIN
 002614                            19843  1 2752.                CLEAR NSQE                    Zero it out first
 002614 D718 7000 7000 00000 00000 19849  1          +
 00261A D203 7000 AB1E 00000 03044 19850  1 2753.                MVC   NSQE(4),=C'NSQE'
 002620 D203 7010 0208 00010 00208 19851  1 2754.                MVC   NSQEASB,PZCURASB        Mark it as ours
 002626 5060 7014            00014 19852  1 2755.                ST    RX,NSQESOCK             Associate the socket
                                   19853  1 2756.     *
                                   19854  1 2757.     * Add the NSQE to the global areas
                                   19855  1 2758.     *
 00262A 5820 0200            00200 19856  1 2759.                L     RA,PZMATP               Get the MAT pointer
 00262E 5820 203C            0003C 19857  1 2760.                WITH  (MAT,RA),'L RA,MATGNCT' Get the control table pointer
 USING  MAT,R2
 DROP   MAT,R2
 USING  GNCT,R2                    19881  1 2761.                WITH  (GNCT,RA),BEGIN
 DROP   @VMGET-72,R13              19895  2 2762.                  LKOB  GNCTLOCK                Get the lock
 USING  @LOCKS-72,R13
 002632 D203 D048 2008 00000 00008 19914  2          +
 002638 58F0 AAE6/0DEF       0300C 19917  2          +
 00263E D203 7008 2014 00008 00014 19919  2 2763.                  MVC   NSQENPCB,GNCTNPCB       Use first on the list
 002644 D203 7004 2010 00004 00010 19920  2 2764.                  MVC   NSQENEXT,GNCTNSQE       Point this at the list
 00264A 5070 2010            00010 19921  2 2765.                  ST    RY,GNCTNSQE             And add it to the head
 00264E                            19922  2 2766.                  LKREL GNCTLOCK                release the lock
 00264E D203 D048 2008 00000 00008 19931  2          +
 002654 58F0 AAEA/0DEF       03010 19934  2          +
 DROP   GNCT,R2                    19936  1 2767.                END   ,
 DROP   NSQE,R7                    19944    2768.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  143
0Current Usings:  (PZERO,R0) (SOCK,R6) (NEWSOCK,R10) (@LOCKS-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19952    2769.     *
                                   19953    2770.     * Initialize input buffer parameters
                                   19954    2771.     *
 00265A D201 6020 AB5A 00020 03080 19955    2772.              MVC   SKISIZE,=AL2(2048)
 002660 D201 6022 AB5A 00022 03080 19956    2773.              MVC   SKILOW,=AL2(2048)
 002666 D201 6024 AB5C 00024 03082 19957    2774.              MVC   SKIHIGH,=AL2(4096)
                                   19958    2775.     *
                                   19959    2776.     * Allocate the output buffer
                                   19960    2777.     *
 DROP   @LOCKS-72,R13              19961    2778.              VMGET L:=A(8192),LOC=LOCSYS,PAGE=YES
 USING  @VMGET-72,R13
 00266C D70A D048 D048 00000 00000 19988             +
 002672 5800 AB22            03048 19996             +
 002676 5000 D048            00000 20001             +
 00267A D201 D050 AB5E 00008 03084 20002             +
 002680 9680 D052      0000A       20008             +
 002684 58F0 AB16/0DEF       0303C 20011             +
 00268A 1200/4770 A19A       026C0 20013    2779.              IF    (RVR,Z),'ABORT NETOBUF'
 002690 AC04 021B      0021B       20031  1          +
 002694 9680 021A      0021A       20037  1          +
 002698 50F0 021C            0021C 20038  1          +
 00269C 58F0 0210            00210 20039  1          +
 0026A0 89F0 0010            00010 20040  1          +
 0026A4 88F0 0010            00010 20041  1          +
 0026A8 41F0 F000            00000 20042  1          +
 0026AC AEFF 0006            00006 20043  1          +
 0026B0 D5C5E3D6C2E4C640           20044             +
 0026C0 5000 6028            00028 20049    2780.              ST    RVR,SKOBUF              Save the pointer
 0026C4 D203 602C AB22 0002C 03048 20050    2781.              MVC   SKOSIZ,=A(8192)         Save the buffer size
                                   20051    2782.     *
                                   20052    2783.     * Allocate some other control blocks
                                   20053    2784.     *
 0026CA                            20054    2785.              VMGET SCOMPLEN,LOC=LOCSYS,ONEPAGE=YES  Get the IO parm area
 0026CA D70A D048 D048 00000 00000 20071             +
 0026D0 4100 00B8            000B8 20083             +
 0026D4 5000 D048            00000 20088             +
 0026D8 D201 D050 AB5E 00008 03084 20089             +
 0026DE 9640 D052      0000A       20095             +
 0026E2 58F0 AB16/0DEF       0303C 20098             +
 0026E8 1200/4770 A1F8       0271E 20100    2786.              IF    (RVR,Z),'ABORT NOMEM'
 0026EE AC04 021B      0021B       20118  1          +
 0026F2 9680 021A      0021A       20124  1          +
 0026F6 50F0 021C            0021C 20125  1          +
 0026FA 58F0 0210            00210 20126  1          +
 0026FE 89F0 0010            00010 20127  1          +
 002702 88F0 0010            00010 20128  1          +
 002706 41F0 F000            00000 20129  1          +
 00270A AEFF 0006            00006 20130  1          +
 00270E D5D6D4C5D4404040           20131             +
 00271E 1820                       20136    2787.              LR    RA,RVR
 002720                            20137    2788.              CLEAR (@RA,SCOMPLEN)          Clear it all out
 002720 D7B7 2000 2000 00000 00000 20143             +
 002726 5020 6008            00008 20144    2789.              ST    RA,SKIOPA               Save the address
                                   20145    2790.
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  144
0Current Usings:  (PZERO,R0) (SOCK,R6) (NEWSOCK,R10) (@XITNEW-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000272A 9200 D048      00000       20146    2791.              PSET  @XITNEW
 DROP   @VMGET-72,R13
 USING  @XITNEW-72,R13
 00272E 58F0 AB26/0DEF       0304C 20167    2792.              VCALL XITNEW
 002734 5000 6088            00088 20171    2793.              ST    RVR,SKIOXID             Save the I/O XIT ID
 002738 9200 D048      00000       20172    2794.              PSET  @XITNEW
 00273C 58F0 AB26/0DEF       0304C 20183    2795.              VCALL XITNEW
 002742 5000 608C            0008C 20187    2796.              ST    RVR,SKATXID             And the Attention XIT ID
 002746 9200 D048      00000       20188    2797.              PSET  @XITNEW
 00274A 58F0 AB26/0DEF       0304C 20199    2798.              VCALL XITNEW
 002750 5000 6090            00090 20203    2799.              ST    RVR,SKTOXID             And the Timer XIT ID
 002754 4100 6000            00000 20204    2800.              LA    RVR,SOCK                Return the SOCK pointer
 002758 981F C008            00008 20205    2801.              PEND  ,
 DROP   SOCK,R6
 DROP   NEWSOCK,R10
 00275C 9680 C000/0B0E 00000       20220             +
 DROP   @XITNEW-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  145
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  20230    2803.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   20231    2804.     Ÿ                                                                     Ÿ
                                   20232    2805.     Ÿ                                                                     Ÿ
                                   20233    2806.     Ÿ  DELSOCK --  This routine frees a SOCK and any subsidiary           Ÿ
                                   20234    2807.     Ÿ              control blocks associated with it.                     Ÿ
                                   20235    2808.     Ÿ                                                                     Ÿ
                                   20236    2809.     Ÿ   Input  --  @SOCKP                                                 Ÿ
                                   20237    2810.     Ÿ                                                                     Ÿ
                                   20238    2811.     Ÿ  Output  --  none                                                   Ÿ
                                   20239    2812.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-002762                            20241    2814.     DELSOCK  PROC  @SOCKP,SCOPE=LOCAL
 002762 C4C5D3E2D6C3D240           20248             +
 00276A 0010/0000                  20249             +
 00276E 900F D004/18AF       00004 20251             +
 USING  DELSOCK,R10
 002774 50D0 C000/18CD       00000 20266             +
 00277A 9680 C000      00000       20268             +
 USING  @SOCKP-72,R12
 00277E 41D0 C058            00058 20282             +
 002782 5860 C048            00000 20283    2815.              L     RX,@SOCK                Get the SOCK address
 USING  SOCK,R6                    20284    2816.              WITH  (SOCK,RX)
 002786                            20297    2817.              IF    (SOCK,NE,=C'SOCK'),'ABORT BDELSOCK'
 002786 D503 A8D2 6000 03040 00000 20308             +
 00278C 4780 A052            027C0 20309             +
 002790 AC04 021B      0021B       20318  1          +
 002794 9680 021A      0021A       20324  1          +
 002798 50F0 021C            0021C 20325  1          +
 00279C 58F0 0210            00210 20326  1          +
 0027A0 89F0 0010            00010 20327  1          +
 0027A4 88F0 0010            00010 20328  1          +
 0027A8 41F0 F000            00000 20329  1          +
 0027AC AEFF 0006            00006 20330  1          +
 0027B0 C2C4C5D3E2D6C3D2           20331             +
                                   20336    2818.     *
                                   20337    2819.     * Remove it from the address space list of sockets
                                   20338    2820.     *
 0027C0 5820 0208            00208 20339    2821.              L     RA,PZCURASB             Current ASB pointer
 0027C4 4120 2040            00040 20340    2822.              WITH  (ASB,RA),'LA RA,ASBNET' Address of list head
 USING  ASB,R2
 DROP   ASB,R2
 0027C8 5960 2000            00000 20364    2823.              WHILE (RX,NE,@RA),BEGIN       Loop finding it
 0027CC 4780 A0A4            02812 20378             +
 0027D0 5820 2000/1222       00000 20383  1 2824.                LT    RA,@RA                  Get address of the next one
 0027D6 4770 A09C            0280A 20387  1 2825.                IF    Z,'ABORT REMSOCK'       It's not on the list
 0027DA AC04 021B      0021B       20402  2          +
 0027DE 9680 021A      0021A       20408  2          +
 0027E2 50F0 021C            0021C 20409  2          +
 0027E6 58F0 0210            00210 20410  2          +
 0027EA 89F0 0010            00010 20411  2          +
 0027EE 88F0 0010            00010 20412  2          +
 0027F2 41F0 F000            00000 20413  2          +
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  146
0Current Usings:  (PZERO,R0) (SOCK,R6) (DELSOCK,R10) (@SOCKP-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00027F6 AEFF 0006            00006 20414  2          +
 0027FA D9C5D4E2D6C3D240           20415  1          +
 00280A 4120 2004            00004 20420  1 2826.                LA    RA,SKNEXT-SOCK(,RA)     Get address of next pointer
 00280E 47F0 A05A            027C8 20421    2827.              END   ,
 002812 D203 2000 6004 00000 00004 20426    2828.              MVC   0(4,RA),SKNEXT          Remove it from the list
 002818 D203 6000 A8E2 00000 03050 20427    2829.              MVC   SOCK(4),=C'sock'        Mark it as deleted
                                   20428    2830.     *
                                   20429    2831.     * Delete the associated control blocks
                                   20430    2832.     *
 USING  @VMFREE-72,R13             20431    2833.              VMFREE SCOMPLEN,A=SKIOPA,LOC=LOCSYS     Free the IO parm
 00281E D709 D048 D048 00000 00000 20455             +
 002824 4100 00B8            000B8 20467             +
 002828 5000 D04C            00004 20472             +
 00282C D203 D048 6008 00000 00008 20477             +
 002832 D201 D050 A916 00008 03084 20478             +
 002838 58F0 A8E6/0DEF       03054 20481             +
 00283E 1200/4780 A106       02874 20483    2834.              IF    (RVR,NZ),'ABORT DELIOPA'
 002844 AC04 021B      0021B       20501  1          +
 002848 9680 021A      0021A       20507  1          +
 00284C 50F0 021C            0021C 20508  1          +
 002850 58F0 0210            00210 20509  1          +
 002854 89F0 0010            00010 20510  1          +
 002858 88F0 0010            00010 20511  1          +
 00285C 41F0 F000            00000 20512  1          +
 002860 AEFF 0006            00006 20513  1          +
 002864 C4C5D3C9D6D7C140           20514             +
                                   20519    2835.     *
 DROP   @VMFREE-72,R13             20520    2836.              PSET  @XITDEL
 USING  @XITDEL-72,R13
 002874 D703 D048 D048 00000 00000 20540             +
 00287A D203 D048 6088 00000 00088 20541    2837.              MVC   @XITDID,SKIOXID         I/O Complete XIT Id
 002880 58F0 A8EA/0DEF       03058 20542    2838.              VCALL XITDEL
 002886                            20546    2839.              PSET  @XITDEL
 002886 D703 D048 D048 00000 00000 20556             +
 00288C D203 D048 608C 00000 0008C 20557    2840.              MVC   @XITDID,SKATXID         Attention XIT Id
 002892 58F0 A8EA/0DEF       03058 20558    2841.              VCALL XITDEL
 002898                            20562    2842.              PSET  @XITDEL
 002898 D703 D048 D048 00000 00000 20572             +
 00289E D203 D048 6090 00000 00090 20573    2843.              MVC   @XITDID,SKTOXID         Timer XIT Id
 0028A4 58F0 A8EA/0DEF       03058 20574    2844.              VCALL XITDEL
                                   20578    2845.     *
                                   20579    2846.     * Free the output buffer
                                   20580    2847.     *
 DROP   @XITDEL-72,R13             20581    2848.              VMFREE L:SKOSIZ,A=L:SKOBUF,LOC=LOCSYS
 USING  @VMFREE-72,R13
 0028AA D709 D048 D048 00000 00000 20608             +
 0028B0 D203 D04C 602C 00004 0002C 20613             +
 0028B6 D203 D048 6028 00000 00028 20618             +
 0028BC D201 D050 A916 00008 03084 20619             +
 0028C2 58F0 A8E6/0DEF       03054 20622             +
                                   20624    2849.     *
                                   20625    2850.     * Free the available input buffers
                                   20626    2851.     *
 0028C8 5820 601C            0001C 20627    2852.              L     RA,SKIFREE              Free list
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  147
0Current Usings:  (PZERO,R0) (SOCK,R6) (DELSOCK,R10) (@SOCKP-72,R12) (@VMFREE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00028CC 1222/4780 A18A       028F8 20628    2853.              WHILE (RA,NZ),BEGIN
 USING  LBUF,R2                    20644  1 2854.                WITH  (LBUF,RA)
 0028D2 1812                       20657  1 2855.                LR    RS,RA
 0028D4 5820 2004            00004 20658  1 2856.                L     RA,LBCHAIN              Next buffer on the chain
 0028D8                            20659  1 2857.                VMFREE LH:SKISIZE,A=(RS),LOC=LOCSYS
 0028D8 D709 D048 D048 00000 00000 20676  1          +
 0028DE D201 D04E 6020 00006 00020 20681  1          +
 0028E4 5010 D048            00000 20691  1          +
 0028E8 D201 D050 A916 00008 03084 20692  1          +
 0028EE 58F0 A8E6/0DEF       03054 20695  1          +
 0028F4 47F0 A15E            028CC 20697    2858.              END   ,
 DROP   LBUF,R2
                                   20707    2859.     *
                                   20708    2860.     * Free the in-use input buffers
                                   20709    2861.     *
 0028F8 5820 6014            00014 20710    2862.              L     RA,SKICHAIN             In-use list
 0028FC 1222/4780 A1BA       02928 20711    2863.              WHILE (RA,NZ),BEGIN
 USING  LBUF,R2                    20727  1 2864.                WITH  (LBUF,RA)
 002902 1812                       20740  1 2865.                LR    RS,RA
 002904 5820 2004            00004 20741  1 2866.                L     RA,LBCHAIN              Next buffer on the chain
 002908                            20742  1 2867.                VMFREE LH:SKISIZE,A=(RS),LOC=LOCSYS
 002908 D709 D048 D048 00000 00000 20759  1          +
 00290E D201 D04E 6020 00006 00020 20764  1          +
 002914 5010 D048            00000 20774  1          +
 002918 D201 D050 A916 00008 03084 20775  1          +
 00291E 58F0 A8E6/0DEF       03054 20778  1          +
 002924 47F0 A18E            028FC 20780    2868.              END   ,
 DROP   LBUF,R2
                                   20790    2869.     *
                                   20791    2870.     * Free the SOCK itself
                                   20792    2871.     *
 002928                            20793    2872.              CLEAR SOCK                    Blitz it
 002928 D7FF 6000 6000 00000 00000 20799             +
 00292E D71F 6100 6100 00100 00100 20800             +
 002934                            20801    2873.              VMFREE L'SOCK,A=LA:SOCK,LOC=LOCSYS,FIX=YES        Free it
 002934 D709 D048 D048 00000 00000 20818             +
 00293A 4100 0120            00120 20830             +
 00293E 5000 D04C            00004 20835             +
 002942 5060 D048            00000 20846             +
 002946 D201 D050 A90E 00008 0307C 20847             +
 00294C 58F0 A8E6/0DEF       03054 20850             +
 002952 1200/4780 A21A       02988 20852    2874.              IF    (RVR,NZ),'ABORT FREESOCK'                   No good
 002958 AC04 021B      0021B       20870  1          +
 00295C 9680 021A      0021A       20876  1          +
 002960 50F0 021C            0021C 20877  1          +
 002964 58F0 0210            00210 20878  1          +
 002968 89F0 0010            00010 20879  1          +
 00296C 88F0 0010            00010 20880  1          +
 002970 41F0 F000            00000 20881  1          +
 002974 AEFF 0006            00006 20882  1          +
 002978 C6D9C5C5E2D6C3D2           20883             +
 002988 981F C008            00008 20888    2875.              PEND  ,
 DROP   SOCK,R6
 DROP   @SOCKP-72,R12
1NETWORK  (NETW00) (09:42) (22MAR04) Mode 1 Network Interface                                                               Page  148
0Current Usings:  (PZERO,R0) (@VMFREE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   DELSOCK,R10
 00298C 9680 C000/0B0E 00000       20908             +
 DROP   @VMFREE-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) SCOM segment management                                                                Page  149
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  20918    2877.     *****************************************************************
                                   20919    2878.     *                                                               *
                                   20920    2879.     *   ADDSEG --  This routine adds information about an area of   *
                                   20921    2880.     *              virtual memory to the list in a path send/recv   *
                                   20922    2881.     *              request parameter area.  It updates the count    *
                                   20923    2882.     *              and length values in the parm area.              *
                                   20924    2883.     *                                                               *
                                   20925    2884.     *   Input  --  @ADDSEG                                          *
                                   20926    2885.     *                                                               *
                                   20927    2886.     *  Output  --  none                                             *
                                   20928    2887.     *                                                               *
                                   20929    2888.     *****************************************************************
-002992                            20931    2890.     ADDSEG   PROC  @ADDSEG,SCOPE=LOCAL
 002992 C1C4C4E2C5C74040           20938             +
 00299A 0010/0000                  20939             +
 00299E 900F D004/18AF       00004 20941             +
 USING  ADDSEG,R10
 0029A4 50D0 C000/18CD       00000 20956             +
 0029AA 9680 C000      00000       20958             +
 USING  @ADDSEG-72,R12
 0029AE 41D0 C058            00058 20972             +
 0029B2 5860 C048            00000 20973    2891.              L     RX,@ADDSPA    Get the parameter area
 USING  #SCSR,R6                   20974    2892.              WITH  (#SCSR,RX)
                                   20987    2893.     *
                                   20988    2894.     * Get our starting point for this data
                                   20989    2895.     *
 0029B6 5840 6008            00008 20990    2896.              L     RJ,#SCSRCT              Get current count
 0029BA 8940 0003            00003 20991    2897.              SLL   RJ,3                    Size of each segment
 0029BE 4144 6018            00018 20992    2898.              LA    RJ,#SCSRSEG(RJ)         Location of new segment ptrs
 0029C2 5820 C04C            00004 20993    2899.              L     RA,@ADDSLOC             Starting location
 0029C6 4830 C050            00008 20994    2900.              LH    RB,@ADDSLEN             And total length
                                   20995    2901.     *
                                   20996    2902.     * Loop through the data area, adding a segment to the parm area for
                                   20997    2903.     * each page or fraction thereof.
                                   20998    2904.     *
 0029CA 1233/4780 A092       02A30 20999    2905.              WHILE (RB,NZ),BEGIN           Through the info
                                   21015  1 2906.     *
                                   21016  1 2907.     * Fill in the location for the current part of the data area
                                   21017  1 2908.     *
 0029D0 B110 2000            00000 21018  1 2909.                LRA   RS,@RA                  Real address of current bit
 0029D4 4780 A06A            02A08 21019  1 2910.                IF    NZ,'ABORT BADFIX'       What?
 0029D8 AC04 021B      0021B       21034  2          +
 0029DC 9680 021A      0021A       21040  2          +
 0029E0 50F0 021C            0021C 21041  2          +
 0029E4 58F0 0210            00210 21042  2          +
 0029E8 89F0 0010            00010 21043  2          +
 0029EC 88F0 0010            00010 21044  2          +
 0029F0 41F0 F000            00000 21045  2          +
 0029F4 AEFF 0006            00006 21046  2          +
 0029F8 C2C1C4C6C9E74040           21047  1          +
 002A08 5010 4000            00000 21052  1 2911.                ST    RS,@RJ                  Save the real address
                                   21053  1 2912.     *
1NETWORK  (NETW00) (09:42) (22MAR04) SCOM segment management                                                                Page  150
0Current Usings:  (PZERO,R0) (#SCSR,R6) (ADDSEG,R10) (@ADDSEG-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21054  1 2913.     * Figure out how long to the next page boundary
                                   21055  1 2914.     *
 002A0C 1812                       21056  1 2915.                LR    RS,RA                   Copy the current address
 002A0E 4A10 A6E8            03086 21057  1 2916.                AH    RS,=Y(4096)             Get to the next page
 002A12 5410 A6BE            0305C 21058  1 2917.                N     RS,=X'7FFFF000'         Address of the next page
 002A16 1B12                       21059  1 2918.                SR    RS,RA                   Length to the page boundary
 002A18 1913/47D0 A082       02A20 21060  1 2919.                CEIL  RS,RB                   Max is the buffer length
 002A1E 1813                       21065  1          +
 002A20 5010 4004            00004 21066  1 2920.                ST    RS,@RJ+4                Save the segment length
                                   21067  1 2921.     *
                                   21068  1 2922.     * Adjust the pointers for the next pass through
                                   21069  1 2923.     *
 002A24 1A21                       21070  1 2924.                AR    RA,RS                   Get to the next segment
 002A26 1B31                       21071  1 2925.                SR    RB,RS                   Length is less this segment
 002A28 4140 4008            00008 21072  1 2926.                LA    RJ,@RJ+8                Location for next entry
 002A2C 47F0 A02C            029CA 21073    2927.              END   ,
                                   21078    2928.     *
                                   21079    2929.     * Update the count of segments
                                   21080    2930.     *
 002A30 4110 6018            00018 21081    2931.              LA    RS,#SCSRSEG             Starting location
 002A34 1B41                       21082    2932.              SR    RJ,RS                   Length in bytes
 002A36 8840 0003            00003 21083    2933.              SRL   RJ,3                    Length in entries
 002A3A 5040 6008            00008 21084    2934.              ST    RJ,#SCSRCT              Save the count
                                   21085    2935.     *
                                   21086    2936.     * Update the overall length
                                   21087    2937.     *
 002A3E 5810 6004            00004 21088    2938.              L     RS,#SCSRLEN             Get the previous length
 002A42 4A10 C050            00008 21089    2939.              AH    RS,@ADDSLEN             Add what we just put in
 002A46 5010 6004            00004 21090    2940.              ST    RS,#SCSRLEN             Update the length
 002A4A 981F C008            00008 21091    2941.              PEND  ,
 DROP   #SCSR,R6
 DROP   @ADDSEG-72,R12
 DROP   ADDSEG,R10
 002A4E 9680 C000/0B0E 00000       21111             +
1NETWORK  (NETW00) (09:42) (22MAR04) SCOM segment management                                                                Page  151
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21118    2943.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   21119    2944.     Ÿ                                                                     Ÿ
                                   21120    2945.     Ÿ  VALBUF  --  Validate a buffer location.                            Ÿ
                                   21121    2946.     Ÿ                                                                     Ÿ
                                   21122    2947.     Ÿ   Input  --  @VALBUF                                                Ÿ
                                   21123    2948.     Ÿ                                                                     Ÿ
                                   21124    2949.     Ÿ  Output  --  RVR: 0=OK; 4=Protection; 5=Addressing                  Ÿ
                                   21125    2950.     Ÿ                                                                     Ÿ
                                   21126    2951.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-002A54                            21128    2953.     VALBUF   PROC  @VALBUF,SCOPE=LOCAL
 002A54 E5C1D3C2E4C64040           21135             +
 002A5C 0008/0000                  21136             +
 002A60 900F D004/18AF       00004 21138             +
 USING  VALBUF,R10
 002A66 50D0 C000/18CD       00000 21153             +
 002A6C 9680 C000      00000       21155             +
 USING  @VALBUF-72,R12
 002A70 41D0 C050            00050 21169             +
 002A74 5840 C048            00000 21170    2954.              L     RJ,@VALBLOC             Get the buffer location
 002A78 4850 C04C            00004 21171    2955.              LH    RK,@VALBLEN             And it's length
 002A7C 1F33/4330 C04E       00006 21172    2956.              LC    RB,@VALBKEY             Get the key of the issuer
                                   21179    2957.     *
                                   21180    2958.     * Check out the buffer
                                   21181    2959.     *
 USING  @PAGE-72,R13               21182    2960.              PSET  @PAGE
 002A82 D708 D048 D048 00000 00000 21199             +
 002A88 D203 D048 C048 00000 00000 21200    2961.              MVC   @PAGLOC,@VALBLOC        Location of the buffer
 002A8E 4810 C04C            00004 21201    2962.              LH    RS,@VALBLEN             Get the length
 002A92 5010 D04C            00004 21202    2963.              ST    RS,@PAGLEN              Tell him about it
 002A96 D200 D050 C04E 00008 00006 21203    2964.              MVC   @PAGKEY,@VALBKEY        Inform him of the key too
 002A9C 58F0 A600/0DEF       03060 21204    2965.              VCALL PAGTPROT                Test the protection
 002AA2 1200/4780 A07A       02ADA 21208    2966.              IF    (RVR,Z),EXIT            All is well
 002AA8 5900 A604            03064 21225    2967.              IF    (RVR,EQ,3),BEGIN        Addressing exception
 002AAC 4770 A058            02AB8 21237             +
 002AB0 4100 0005            00005 21242  1 2968.                LA    RVR,5
 002AB4 47F0 A07A            02ADA 21243  1 2969.                EXIT  VALBUF
 002AB8                            21246    2970.              END   ,
 002AB8 5900 A608            03068 21250    2971.              IF    (RVR,EQ,2),BEGIN        No access
 002ABC 4770 A068            02AC8 21262             +
 002AC0 4100 0004            00004 21267  1 2972.                LA    RVR,4
 002AC4 47F0 A07A            02ADA 21268  1 2973.                EXIT  VALBUF
 002AC8                            21271    2974.              END   ,
 002AC8 9180 C04F      00007       21275    2975.              IF    @VALBWRT,'LA RVR,4'     Only read, he wants write
 002ACC 47E0 A074            02AD4 21285             +
 002AD0 4100 0004            00004 21291             +
 002AD4 A078           02AD4 02ACE 21296    2976.              ELSE  'CLEAR RVR'             He just wants to look
 002AD4 47F0 A07A/1B00       02ADA 21301             +
 002ADA 981F C008            00008 21316    2977.              PEND  ,
 DROP   @VALBUF-72,R12
 DROP   VALBUF,R10
 002ADE 9680 C000/0B0E 00000       21331             +
1NETWORK  (NETW00) (09:42) (22MAR04) SCOM segment management                                                                Page  152
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   @PAGE-72,R13
 002AE4 00000001                   21340    2978.              XTRCDATA ,                    Generate the trace info
 002AE8 00000C6C                   21343             +
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  153
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21345    2980.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   21346    2981.     Ÿ                                                                     Ÿ
                                   21347    2982.     Ÿ   GETNBUF -- This routine obtains a global I/O buffer.  If          Ÿ
                                   21348    2983.     Ÿ              there is already one on the free queue, it is          Ÿ
                                   21349    2984.     Ÿ              used, otherwize and new one is allocate.               Ÿ
                                   21350    2985.     Ÿ                                                                     Ÿ
                                   21351    2986.     Ÿ    Input --  none                                                   Ÿ
                                   21352    2987.     Ÿ                                                                     Ÿ
                                   21353    2988.     Ÿ   Output --  RVR points at the allocated buffer                     Ÿ
                                   21354    2989.     Ÿ                                                                     Ÿ
                                   21355    2990.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-002AEC                            21357    2992.     GETNBUF  PROC  SCOPE=LOCAL
 002AEC C7C5E3D5C2E4C640           21364             +
 002AF4 0000/0000                  21365             +
 002AF8 900F D004/18AF       00004 21367             +
 USING  GETNBUF,R10
 002AFE 50D0 C000/18CD       00000 21382             +
 002B04 9680 C000      00000       21384             +
 002B08 41D0 C048            00048 21385             +
 002B0C 5880 0200            00200 21386    2993.              L     RM,MATPTR               Get the MAT location
 002B10 5880 803C            0003C 21387    2994.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                    21411    2995.              WITH  (GNCT,RM)               Address it
                                   21424    2996.     *
                                   21425    2997.     * Get a free one if it exists
                                   21426    2998.     *
 002B14 9845 8018            00018 21427    2999.              LM    RJ,RK,GNCTBFL           Get Free pointer
 USING  NBUF,R4                    21428    3000.              WITH  (NBUF,RJ)
 002B18                            21441    3001.              LOOP  BEGIN
 002B18 1244/4780 A036       02B2E 21447  1 3002.                IF    (RJ,Z),EXIT             No free ones
 002B1E 5820 4004            00004 21464  1 3003.                L     RA,NBUFNEXT             Address of the next
 002B22 4130 5001            00001 21465  1 3004.                LA    RB,@RK+1                Increment the control count
 002B26 BB42 8018            00018 21466  1 3005.                CDS   RJ,RA,GNCTBFL           Try to remove it
 002B2A 4770 A020            02B18 21467    3006.              UNTIL Z,END                   Keep on trying
                                   21486    3007.     *
                                   21487    3008.     * If we got it, we decrease the free count
                                   21488    3009.     *
 002B2E 1244/4780 A04C       02B44 21489    3010.              IF    (RJ,NZ),BEGIN
 002B34 5820 8020            00020 21503  1 3011.                L     RA,GNCTBFC              Get the Free count
 002B38                            21504  1 3012.                LOOP  BEGIN
 002B38 1832                       21510  2 3013.                  LR    RB,RA                   Copy the count
 002B3A 0630                       21511  2 3014.                  DECR  RB                      Decrement it
 002B3C BA23 8020            00020 21513  2 3015.                  CS    RA,RB,GNCTBFC           Update the count
 002B40 4770 A040            02B38 21514  1 3016.                UNTIL Z,END                   Keep trying
 002B44 A050           02B44 02B32 21533    3017.              END   ELSE,BEGIN
 002B44 47F0 A0B0            02BA8 21542             +
                                   21548  1 3018.     *
                                   21549  1 3019.     * If we didn't get one, we allocate a new one
                                   21550  1 3020.     *
 USING  @VMGET-72,R13              21551  1 3021.                VMGET LH:GNCTBSIZ,LOC=GLOBHI
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  154
0Current Usings:  (PZERO,R0) (NBUF,R4) (GNCT,R8) (GETNBUF,R10) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002B48 D70A D048 D048 00000 00000 21575  1          +
 002B4E D201 D04A 8028 00002 00028 21580  1          +
 002B54 D201 D050 A590 00008 03088 21581  1          +
 002B5A 58F0 A544/0DEF       0303C 21584  1          +
 002B60 1200/4770 A09E       02B96 21586  1 3022.                IF    (RVR,Z),'ABORT NOGLOB'
 002B66 AC04 021B      0021B       21604  2          +
 002B6A 9680 021A      0021A       21610  2          +
 002B6E 50F0 021C            0021C 21611  2          +
 002B72 58F0 0210            00210 21612  2          +
 002B76 89F0 0010            00010 21613  2          +
 002B7A 88F0 0010            00010 21614  2          +
 002B7E 41F0 F000            00000 21615  2          +
 002B82 AEFF 0006            00006 21616  2          +
 002B86 D5D6C7D3D6C24040           21617  1          +
 002B96 1840                       21622  1 3023.                LR    RJ,RVR                  Move it to the right spot
                                   21623  1 3024.     *
                                   21624  1 3025.     * And we count it
                                   21625  1 3026.     *
 002B98 5820 8024            00024 21626  1 3027.                L     RA,GNCTBTC              Get the Total count
 002B9C                            21627  1 3028.                LOOP  BEGIN
 002B9C 4130 2001            00001 21633  2 3029.                  LA    RB,@RA+1                Increment the count
 002BA0 BA23 8024            00024 21634  2 3030.                  CS    RA,RB,GNCTBTC           Update the count
 002BA4 4770 A0A4            02B9C 21635  1 3031.                UNTIL Z,END                   Keep trying
 002BA8                            21654    3032.              END   ,
                                   21658    3033.     *
                                   21659    3034.     * Format the buffer the way we want
                                   21660    3035.     *
 002BA8                            21661    3036.              CLEAR NBUF                    Clear the header
 002BA8 D70F 4000 4000 00000 00000 21667             +
 002BAE D203 4000 A574 00000 0306C 21668    3037.              MVC   NBUF(4),=C'NBUF'        Move in the ID
 002BB4 4810 8028            00028 21669    3038.              LH    RS,GNCTBSIZ             Get the total buffer size
 002BB8 4B10 A592            0308A 21670    3039.              SH    RS,=Y(L'NBUF+4)         Less the header size
 002BBC 4010 4008            00008 21671    3040.              STH   RS,NBUFMAXL             Save maximum data length
 002BC0 4111 4010            00010 21672    3041.              LA    RS,NBUFDATA(RS)         End of data area
 002BC4 D203 1000 A578 00000 03070 21673    3042.              MVC   @RS(4),=CL4'FUBN'       Buffer end marker
 002BCA 1804                       21674    3043.              LR    RVR,RJ                  Return the location
 002BCC 981F C008            00008 21675    3044.              PEND  ,
 DROP   NBUF,R4
 DROP   GNCT,R8
 DROP   GETNBUF,R10
 002BD0 9680 C000/0B0E 00000       21695             +
 DROP   @VMGET-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  155
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21705    3046.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   21706    3047.     Ÿ                                                                     Ÿ
                                   21707    3048.     Ÿ  FREENBUF -- This routine releases a global I/O buffer.  If         Ÿ
                                   21708    3049.     Ÿ              there are already enough on the free queue, then       Ÿ
                                   21709    3050.     Ÿ              this one is de-allocated, otherwise it is put on       Ÿ
                                   21710    3051.     Ÿ              the free queue.                                        Ÿ
                                   21711    3052.     Ÿ                                                                     Ÿ
                                   21712    3053.     Ÿ    Input --  @FREENB                                                Ÿ
                                   21713    3054.     Ÿ                                                                     Ÿ
                                   21714    3055.     Ÿ   Output --  none                                                   Ÿ
                                   21715    3056.     Ÿ                                                                     Ÿ
                                   21716    3057.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00004 21718    3059.     @FREEBUF RECORD BEGIN
 000000                            21726  1 3060.     @FREBLOC   DS    A             Location of the buffer to free
 000004                00004 00004 21727    3061.              END   ,
-002BD6                            21737    3063.     FREENBUF PROC  @FREEBUF,SCOPE=LOCAL
 002BD6 C6D9C5C5D5C2E4C6           21744             +
 002BDE 0008/0000                  21745             +
 002BE2 900F D004/18AF       00004 21747             +
 USING  FREENBUF,R10
 002BE8 50D0 C000/18CD       00000 21762             +
 002BEE 9680 C000      00000       21764             +
 USING  @FREEBUF-72,R12
 002BF2 41D0 C050            00050 21778             +
 002BF6 5880 0200            00200 21779    3064.              L     RM,MATPTR               Get the MAT location
 002BFA 5880 803C            0003C 21780    3065.              WITH  (MAT,RM),'L RM,MATGNCT' Get the GNCT address
 USING  MAT,R8
 DROP   MAT,R8
 USING  GNCT,R8                    21804    3066.              WITH  (GNCT,RM)               Address it
 002BFE 5820 C048            00000 21817    3067.              L     RA,@FREBLOC             Get the buffer location
 USING  NBUF,R2                    21818    3068.              WITH  (NBUF,RA)
 002C02                            21831    3069.              IF    (NBUF,NE,'NBUF'),'ABORT BADNBUF'
 002C02 D503 A48A 2000 0306C 00000 21842             +
 002C08 4780 A05A            02C3C 21843             +
 002C0C AC04 021B      0021B       21852  1          +
 002C10 9680 021A      0021A       21858  1          +
 002C14 50F0 021C            0021C 21859  1          +
 002C18 58F0 0210            00210 21860  1          +
 002C1C 89F0 0010            00010 21861  1          +
 002C20 88F0 0010            00010 21862  1          +
 002C24 41F0 F000            00000 21863  1          +
 002C28 AEFF 0006            00006 21864  1          +
 002C2C C2C1C4D5C2E4C640           21865             +
 002C3C 4810 2008            00008 21870    3070.              LH    RS,NBUFMAXL             Maximum data length
 002C40 4111 2010            00010 21871    3071.              LA    RS,NBUFDATA(RS)         End of data area
 002C44                            21872    3072.              IF    ('CLC @RS(4),=CL4"FUBN"',NE),'ABORT BADNBU2'
 002C44 D503 1000 A48E 00000 03070 21879             +
 002C4A 4780 A09C            02C7E 21880             +
 002C4E AC04 021B      0021B       21889  1          +
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  156
0Current Usings:  (PZERO,R0) (NBUF,R2) (GNCT,R8) (FREENBUF,R10) (@FREEBUF-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002C52 9680 021A      0021A       21895  1          +
 002C56 50F0 021C            0021C 21896  1          +
 002C5A 58F0 0210            00210 21897  1          +
 002C5E 89F0 0010            00010 21898  1          +
 002C62 88F0 0010            00010 21899  1          +
 002C66 41F0 F000            00000 21900  1          +
 002C6A AEFF 0006            00006 21901  1          +
 002C6E C2C1C4D5C2E4F240           21902             +
 002C7E 9286 2003      00003       21907    3073.              MVI   NBUF+3,C'f'
                                   21908    3074.     *
                                   21909    3075.     * Check on the free status
                                   21910    3076.     *
 002C82 5810 8024            00024 21911    3077.              L     RS,GNCTBTC              Get the total count
 002C86 8810 0001            00001 21912    3078.              SRL   RS,1                    Divide by 2
 002C8A 5910 8020            00020 21913    3079.              IF    (RS,GE,GNCTBFC),BEGIN   Less than half are free
 002C8E 4750 A0D2            02CB4 21925             +
 002C92 9845 8018            00018 21930  1 3080.                LM    RJ,RK,GNCTBFL           Get Free pointer
 002C96                            21931  1 3081.                LOOP  BEGIN
 002C96 5040 2004            00004 21937  2 3082.                  ST    RJ,NBUFNEXT             Address of the next
 002C9A 1835                       21938  2 3083.                  LR    RB,RK                   Copy the control count
 002C9C BB42 8018            00018 21939  2 3084.                  CDS   RJ,RA,GNCTBFL           Try to add it
 002CA0 4770 A0B4            02C96 21940  1 3085.                UNTIL Z,END                   Keep on trying
                                   21959  1 3086.     *
                                   21960  1 3087.     * If we added it to the free queue, we update the count
                                   21961  1 3088.     *
 002CA4 5810 8020            00020 21962  1 3089.                L     RS,GNCTBFC              Get the Free count
 002CA8                            21963  1 3090.                LOOP  BEGIN
 002CA8 4130 1001            00001 21969  2 3091.                  LA    RB,@RS+1                Increment the count
 002CAC BA13 8020            00020 21970  2 3092.                  CS    RS,RB,GNCTBFC           Update the count
 002CB0 4770 A0C6            02CA8 21971  1 3093.                UNTIL Z,END                   Keep trying
 002CB4 A0D6           02CB4 02C90 21990    3094.              END   ELSE,BEGIN
 002CB4 47F0 A138            02D1A 21999             +
                                   22005  1 3095.     *
                                   22006  1 3096.     * If too many were free, we de-allocate this one
                                   22007  1 3097.     *
 USING  @VMFREE-72,R13             22008  1 3098.                VMFREE LH:GNCTBSIZ,A=(RA),LOC=GLOBHI
 002CB8 D709 D048 D048 00000 00000 22032  1          +
 002CBE D201 D04E 8028 00006 00028 22037  1          +
 002CC4 5020 D048            00000 22047  1          +
 002CC8 D201 D050 A4A6 00008 03088 22048  1          +
 002CCE 58F0 A472/0DEF       03054 22051  1          +
 002CD4 1200/4780 A128       02D0A 22053  1 3099.                IF    (RVR,NZ),'ABORT BADFNBUF'
 002CDA AC04 021B      0021B       22071  2          +
 002CDE 9680 021A      0021A       22077  2          +
 002CE2 50F0 021C            0021C 22078  2          +
 002CE6 58F0 0210            00210 22079  2          +
 002CEA 89F0 0010            00010 22080  2          +
 002CEE 88F0 0010            00010 22081  2          +
 002CF2 41F0 F000            00000 22082  2          +
 002CF6 AEFF 0006            00006 22083  2          +
 002CFA C2C1C4C6D5C2E4C6           22084  1          +
                                   22089  1 3100.     *
                                   22090  1 3101.     * And have to update the count of buffers out there
                                   22091  1 3102.     *
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  157
0Current Usings:  (PZERO,R0) (NBUF,R2) (GNCT,R8) (FREENBUF,R10) (@FREEBUF-72,R12) (@VMFREE-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002D0A 5810 8024            00024 22092  1 3103.                L     RS,GNCTBTC              Get the Total count
 002D0E                            22093  1 3104.                LOOP  BEGIN
 002D0E 1831                       22099  2 3105.                  LR    RB,RS                   Copyt the count
 002D10 0630                       22100  2 3106.                  DECR  RB                      Decrement the count
 002D12 BA13 8024            00024 22102  2 3107.                  CS    RS,RB,GNCTBTC           Update the count
 002D16 4770 A12C            02D0E 22103  1 3108.                UNTIL Z,END                   Keep trying
 002D1A                            22122    3109.              END   ,
 002D1A 981F C008            00008 22126    3110.              PEND  ,
 DROP   NBUF,R2
 DROP   GNCT,R8
 DROP   @FREEBUF-72,R12
 DROP   FREENBUF,R10
 002D1E 9680 C000/0B0E 00000       22151             +
 DROP   @VMFREE-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  158
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22161    3112.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22162    3113.     Ÿ                                                                     Ÿ
                                   22163    3114.     Ÿ  CHEKNBUF -- This routine validates a global I/O buffer.            Ÿ
                                   22164    3115.     Ÿ                                                                     Ÿ
                                   22165    3116.     Ÿ    Input --  @CHEKNB                                                Ÿ
                                   22166    3117.     Ÿ                                                                     Ÿ
                                   22167    3118.     Ÿ   Output --  none                                                   Ÿ
                                   22168    3119.     Ÿ                                                                     Ÿ
                                   22169    3120.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00004 22171    3122.     @CHEKBUF RECORD BEGIN
 000000                            22179  1 3123.     @CHKBLOC   DS    A             Location of the buffer to free
 000004                00004 00004 22180    3124.              END   ,
-002D24                            22190    3126.     CHEKNBUF PROC  @CHEKBUF,SCOPE=LOCAL
 002D24 C3C8C5D2D5C2E4C6           22197             +
 002D2C 0008/0000                  22198             +
 002D30 900F D004/18AF       00004 22200             +
 USING  CHEKNBUF,R10
 002D36 50D0 C000/18CD       00000 22215             +
 002D3C 9680 C000      00000       22217             +
 USING  @CHEKBUF-72,R12
 002D40 41D0 C050            00050 22231             +
 002D44 5820 C048            00000 22232    3127.              L     RA,@CHKBLOC             Get the buffer location
 USING  NBUF,R2                    22233    3128.              WITH  (NBUF,RA)
 002D48                            22246    3129.              IF    (NBUF,NE,'NBUF'),'ABORT BADNBST'
 002D48 D503 A33C 2000 0306C 00000 22257             +
 002D4E 4780 A052            02D82 22258             +
 002D52 AC04 021B      0021B       22267  1          +
 002D56 9680 021A      0021A       22273  1          +
 002D5A 50F0 021C            0021C 22274  1          +
 002D5E 58F0 0210            00210 22275  1          +
 002D62 89F0 0010            00010 22276  1          +
 002D66 88F0 0010            00010 22277  1          +
 002D6A 41F0 F000            00000 22278  1          +
 002D6E AEFF 0006            00006 22279  1          +
 002D72 C2C1C4D5C2E2E340           22280             +
 002D82 4810 2008            00008 22285    3130.              LH    RS,NBUFMAXL             Maximum data length
 002D86 4111 2010            00010 22286    3131.              LA    RS,NBUFDATA(RS)         End of data area
 002D8A                            22287    3132.              IF    ('CLC @RS(4),=CL4"FUBN"',NE),'ABORT BADNBND'
 002D8A D503 1000 A340 00000 03070 22294             +
 002D90 4780 A094            02DC4 22295             +
 002D94 AC04 021B      0021B       22304  1          +
 002D98 9680 021A      0021A       22310  1          +
 002D9C 50F0 021C            0021C 22311  1          +
 002DA0 58F0 0210            00210 22312  1          +
 002DA4 89F0 0010            00010 22313  1          +
 002DA8 88F0 0010            00010 22314  1          +
 002DAC 41F0 F000            00000 22315  1          +
 002DB0 AEFF 0006            00006 22316  1          +
 002DB4 C2C1C4D5C2D5C440           22317             +
1NETWORK  (NETW00) (09:42) (22MAR04) Network Global Buffer Management                                                       Page  159
0Current Usings:  (PZERO,R0) (NBUF,R2) (CHEKNBUF,R10) (@CHEKBUF-72,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002DC4 5820 2004            00004 22322    3133.              L     RA,NBUFNEXT             Next buffer
 002DC8 1222/4780 A0D8       02E08 22323    3134.              IF    (RA,NZ),BEGIN
 002DCE                            22337  1 3135.                IF    (NBUF,NE,'NBUF'),'ABORT BADNBNX'
 002DCE D503 A33C 2000 0306C 00000 22348  1          +
 002DD4 4780 A0D8            02E08 22349  1          +
 002DD8 AC04 021B      0021B       22358  2          +
 002DDC 9680 021A      0021A       22364  2          +
 002DE0 50F0 021C            0021C 22365  2          +
 002DE4 58F0 0210            00210 22366  2          +
 002DE8 89F0 0010            00010 22367  2          +
 002DEC 88F0 0010            00010 22368  2          +
 002DF0 41F0 F000            00000 22369  2          +
 002DF4 AEFF 0006            00006 22370  2          +
 002DF8 C2C1C4D5C2D5E740           22371  1          +
 002E08                            22376    3136.              END   ,
 002E08 981F C008            00008 22380    3137.              PEND
 DROP   NBUF,R2
 DROP   @CHEKBUF-72,R12
 DROP   CHEKNBUF,R10
 002E0C 9680 C000/0B0E 00000       22400             +
1NETWORK  (NETW00) (09:42) (22MAR04) Network Local Buffer Management                                                        Page  160
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22407    3139.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22408    3140.     Ÿ                                                                     Ÿ
                                   22409    3141.     Ÿ   GETLBUF -- This routine obtains a local I/O buffer.  If           Ÿ
                                   22410    3142.     Ÿ              there is already one on the free queue, it is          Ÿ
                                   22411    3143.     Ÿ              used, otherwise a new one is allocated.                Ÿ
                                   22412    3144.     Ÿ                                                                     Ÿ
                                   22413    3145.     Ÿ    Input --  @GETLB                                                 Ÿ
                                   22414    3146.     Ÿ              ASLOCK held                                            Ÿ
                                   22415    3147.     Ÿ                                                                     Ÿ
                                   22416    3148.     Ÿ   Output --  RVR points at the allocated buffer                     Ÿ
                                   22417    3149.     Ÿ                                                                     Ÿ
                                   22418    3150.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00004 22420    3152.     @GETLB   RECORD BEGIN
 000000                            22428  1 3153.     @GTLBSOC   DS    A                       SOCK address
 000004                00004 00004 22429    3154.              END   ,
-002E12                            22439    3156.     GETLBUF  PROC  @GETLB,SCOPE=LOCAL
 002E12 C7C5E3D3C2E4C640           22446             +
 002E1A 0008/0000                  22447             +
 002E1E 900F D004/18AF       00004 22449             +
 USING  GETLBUF,R10
 002E24 50D0 C000/18CD       00000 22464             +
 002E2A 9680 C000      00000       22466             +
 USING  @GETLB-72,R12
 002E2E 41D0 C050            00050 22480             +
 002E32 5860 C048            00000 22481    3157.              L     RX,@GTLBSOC
 USING  SOCK,R6                    22482    3158.              WITH  (SOCK,RX)
                                   22495    3159.     *
                                   22496    3160.     * Get a free one if it exists
                                   22497    3161.     *
 002E36 5840 601C            0001C 22498    3162.              L     RJ,SKIFREE              Get Free pointer
 USING  LBUF,R4                    22499    3163.              WITH  (LBUF,RJ)
 002E3A 1244/4780 A028       02E46 22512    3164.              IF    (RJ,NZ),BEGIN
 002E40 D203 601C 4004 0001C 00004 22526  1 3165.                MVC   SKIFREE,LBCHAIN         Address of the next
 002E46                            22527    3166.              END   ,
                                   22531    3167.     *
                                   22532    3168.     * If we didn't get one, we allocate a new one
                                   22533    3169.     *
 002E46 A02C           02E46 02E3E 22534    3170.              ELSE  BEGIN
 002E46 47F0 A07C            02E9A 22539             +
 USING  @VMGET-72,R13              22545  1 3171.                VMGET LH:SKISIZE,LOC=LOCSYS
 002E4A D70A D048 D048 00000 00000 22569  1          +
 002E50 D201 D04A 6020 00002 00020 22574  1          +
 002E56 D201 D050 A266 00008 03084 22575  1          +
 002E5C 58F0 A21E/0DEF       0303C 22578  1          +
 002E62 1200/4770 A07A       02E98 22580  1 3172.                IF    (RVR,Z),'ABORT NOLOCAL'
 002E68 AC04 021B      0021B       22598  2          +
 002E6C 9680 021A      0021A       22604  2          +
 002E70 50F0 021C            0021C 22605  2          +
 002E74 58F0 0210            00210 22606  2          +
1NETWORK  (NETW00) (09:42) (22MAR04) Network Local Buffer Management                                                        Page  161
0Current Usings:  (PZERO,R0) (LBUF,R4) (SOCK,R6) (GETLBUF,R10) (@GETLB-72,R12) (@VMGET-72,R13)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002E78 89F0 0010            00010 22607  2          +
 002E7C 88F0 0010            00010 22608  2          +
 002E80 41F0 F000            00000 22609  2          +
 002E84 AEFF 0006            00006 22610  2          +
 002E88 D5D6D3D6C3C1D340           22611  1          +
 002E98 1840                       22616  1 3173.                LR    RJ,RVR                  Move it to the right spot
 002E9A                            22617    3174.              END   ,
                                   22621    3175.     *
                                   22622    3176.     * Format the buffer the way we want
                                   22623    3177.     *
 002E9A                            22624    3178.              CLEAR LBUF                    Clear the header
 002E9A D70D 4000 4000 00000 00000 22630             +
 002EA0 D203 4000 A256 00000 03074 22631    3179.              MVC   LBUF(4),=C'LBUF'        Move in the ID
 002EA6 4810 6020            00020 22632    3180.              LH    RS,SKISIZE              Get the total buffer size
 002EAA 4B10 A26E            0308C 22633    3181.              SH    RS,=Y(L'LBUF)           Less the header size
 002EAE 4010 4008            00008 22634    3182.              STH   RS,LBDLEN               Save maximum data length
 002EB2 1804                       22635    3183.              LR    RVR,RJ                  Return the location
 002EB4 981F C008            00008 22636    3184.              PEND  ,
 DROP   LBUF,R4
 DROP   SOCK,R6
 DROP   @GETLB-72,R12
 DROP   GETLBUF,R10
 002EB8 9680 C000/0B0E 00000       22661             +
 DROP   @VMGET-72,R13
1NETWORK  (NETW00) (09:42) (22MAR04) Network Local Buffer Management                                                        Page  162
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22671    3186.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22672    3187.     Ÿ                                                                     Ÿ
                                   22673    3188.     Ÿ  FREELBUF -- This routine releases a local input buffer and         Ÿ
                                   22674    3189.     Ÿ              places it on the free queue.                           Ÿ
                                   22675    3190.     Ÿ                                                                     Ÿ
                                   22676    3191.     Ÿ    Input --  @FREEBUF                                               Ÿ
                                   22677    3192.     Ÿ              ASLOCK held                                            Ÿ
                                   22678    3193.     Ÿ                                                                     Ÿ
                                   22679    3194.     Ÿ   Output --  none                                                   Ÿ
                                   22680    3195.     Ÿ                                                                     Ÿ
                                   22681    3196.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00008 22683    3198.     @FREELB  RECORD BEGIN
 000000                            22691  1 3199.     @FRLBSOC   DS    A             Location of the SOCK
 000004                            22692  1 3200.     @FRLBLOC   DS    A             Location of the buffer to free
 000008                00008 00008 22693    3201.              END   ,
-002EBE                            22703    3203.     FREELBUF PROC  @FREELB,SCOPE=LOCAL
 002EBE C6D9C5C5D3C2E4C6           22710             +
 002EC6 0008/0000                  22711             +
 002ECA 900F D004/18AF       00004 22713             +
 USING  FREELBUF,R10
 002ED0 50D0 C000/18CD       00000 22728             +
 002ED6 9680 C000      00000       22730             +
 USING  @FREELB-72,R12
 002EDA 41D0 C050            00050 22744             +
 002EDE 5860 C048            00000 22745    3204.              L     RX,@FRLBSOC
 USING  SOCK,R6                    22746    3205.              WITH  (SOCK,RX)
 002EE2 5820 C04C            00004 22759    3206.              L     RA,@FRLBLOC             Get the buffer location
 USING  LBUF,R2                    22760    3207.              WITH  (LBUF,RA)
 002EE6                            22773    3208.              IF    (LBUF,NE,'LBUF'),'ABORT BADLBUF'
 002EE6 D503 A1AA 2000 03074 00000 22784             +
 002EEC 4780 A056            02F20 22785             +
 002EF0 AC04 021B      0021B       22794  1          +
 002EF4 9680 021A      0021A       22800  1          +
 002EF8 50F0 021C            0021C 22801  1          +
 002EFC 58F0 0210            00210 22802  1          +
 002F00 89F0 0010            00010 22803  1          +
 002F04 88F0 0010            00010 22804  1          +
 002F08 41F0 F000            00000 22805  1          +
 002F0C AEFF 0006            00006 22806  1          +
 002F10 C2C1C4D3C2E4C640           22807             +
 002F20 9286 2003      00003       22812    3209.              MVI   LBUF+3,C'f'
                                   22813    3210.     *
                                   22814    3211.     *  Add buffer to the free queue.
                                   22815    3212.     *
 002F24 D203 2004 601C 00004 0001C 22816    3213.              MVC   LBCHAIN,SKIFREE
 002F2A 5020 601C            0001C 22817    3214.              ST    RA,SKIFREE
 002F2E 981F C008            00008 22818    3215.              PEND  ,
 DROP   LBUF,R2
 DROP   SOCK,R6
1NETWORK  (NETW00) (09:42) (22MAR04) Network Local Buffer Management                                                        Page  163
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0DROP   @FREELB-72,R12
 DROP   FREELBUF,R10
 002F32 9680 C000/0B0E 00000       22843             +
1NETWORK  (NETW00) (09:42) (22MAR04) Translation Services                                                                   Page  164
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22850    3217.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22851    3218.     Ÿ                                                                     Ÿ
                                   22852    3219.     Ÿ  The following translate tables were lifted directly from           Ÿ
                                   22853    3220.     Ÿ  WYLBUR. So right or wrong, at least we're consistent.              Ÿ
                                   22854    3221.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-00308E                0308E 0329A 22856    3223.              DATA  BEGIN
                                   22861  1 3224.           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22862  1 3225.           Ÿ  ASCTBL -- Translate table for EBCDIC to ASCII conversion.  Ÿ
                                   22863  1 3226.           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0                                  22865  1 3228.     *                 0 1 2 3 4 5 6 7 8 9 A B C D E F
                                   22866  1 3229.     *
 00308E 000102038009817F           22867  1 3230.     ASCTBL     DC    X'000102038009817F8283840B0C0D0E0F'   0
 00309E 1011121385860887           22868  1 3231.                DC    X'1011121385860887181988891C1D1E1F'   1
 0030AE 8A8B8C8D8E0A171B           22869  1 3232.                DC    X'8A8B8C8D8E0A171B8F90919293050607'   2
 0030BE 9495169697989904           22870  1 3233.                DC    X'94951696979899049A9B9C9D14159E1A'   3
 0030CE 20A9A1A2A3A4A5A6           22871  1 3234.                DC    X'20A9A1A2A3A4A5A6AAA85E2E3C282B7C'   4
 0030DE 26D1D2D3D4D5D6D7           22872  1 3235.                DC    X'26D1D2D3D4D5D6D7D8D921242A293B7E'   5
 0030EE 2D2FB1B2B3B4B5B6           22873  1 3236.                DC    X'2D2FB1B2B3B4B5B6B8EE9F2C255F3E3F'   6
 0030FE EACEE8CFE2E7F0E6           22874  1 3237.                DC    X'EACEE8CFE2E7F0E6E9603A2340273D22'   7
 00310E D061626364656667           22875  1 3238.                DC    X'D0616263646566676869E0ACBCCCCACB'   8
 00311E DE6A6B6C6D6E6F70           22876  1 3239.                DC    X'DE6A6B6C6D6E6F707172DFADBDCDABA0'   9
 00312E E5E3737475767778           22877  1 3240.                DC    X'E5E3737475767778797AAFBEBF5BA7B7'   A
 00313E C0C1C2C3C4C5C6C7           22878  1 3241.                DC    X'C0C1C2C3C4C5C6C7C8C9BABBDC5DEDFE'   B
 00314E 7B41424344454647           22879  1 3242.                DC    X'7B414243444546474849DADBDDF9B0F1'   C
 00315E 7D4A4B4C4D4E4F50           22880  1 3243.                DC    X'7D4A4B4C4D4E4F505152F8B9FAFBF2F3'   D
 00316E 5CE1535455565758           22881  1 3244.                DC    X'5CE1535455565758595AF4F5E4AEF7EF'   E
 00317E 3031323334353637           22882  1 3245.                DC    X'30313233343536373839EBECFCFDF6FF'   F
1NETWORK  (NETW00) (09:42) (22MAR04) Translation Services                                                                   Page  165
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22884  1 3247.           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22885  1 3248.           Ÿ  EBCTBL -- Translate table for ASCII to EBCDIC conversion.  Ÿ
                                   22886  1 3249.           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0                                  22888  1 3251.     *                 0 1 2 3 4 5 6 7 8 9 A B C D E F
                                   22889  1 3252.     *
 00318E 00010203372D2E2F           22890  1 3253.     EBCTBL     DC    X'00010203372D2E2F1605250B0C0D0E0F'   0
 00319E 101112133C3D3226           22891  1 3254.                DC    X'101112133C3D322618193F271C1D1E1F'   1
 0031AE 405A7F7B5B6C507D           22892  1 3255.                DC    X'405A7F7B5B6C507D4D5D5C4E6B604B61'   2
 0031BE F0F1F2F3F4F5F6F7           22893  1 3256.                DC    X'F0F1F2F3F4F5F6F7F8F97A5E4C7E6E6F'   3
 0031CE 7CC1C2C3C4C5C6C7           22894  1 3257.                DC    X'7CC1C2C3C4C5C6C7C8C9D1D2D3D4D5D6'   4
 0031DE D7D8D9E2E3E4E5E6           22895  1 3258.                DC    X'D7D8D9E2E3E4E5E6E7E8E9ADE0BD4A6D'   5
 0031EE 7981828384858687           22896  1 3259.                DC    X'79818283848586878889919293949596'   6
 0031FE 979899A2A3A4A5A6           22897  1 3260.                DC    X'979899A2A3A4A5A6A7A8A9C04FD05F07'   7
 00320E 040608090A141517           22898  1 3261.                DC    X'040608090A1415171A1B202122232428'   8
 00321E 292A2B2C30313334           22899  1 3262.                DC    X'292A2B2C30313334353638393A3B3E6A'   9
 00322E 9F424344454647AE           22900  1 3263.                DC    X'9F424344454647AE4941489E8B9BEDAA'   A
 00323E CE626364656667AF           22901  1 3264.                DC    X'CE626364656667AF68DBBABB8C9CABAC'   B
 00324E B0B1B2B3B4B5B6B7           22902  1 3265.                DC    X'B0B1B2B3B4B5B6B7B8B98E8F8D9D7173'   C
 00325E 8051525354555657           22903  1 3266.                DC    X'80515253545556575859CACBBCCC909A'   D
 00326E 8AE174A1ECA07775           22904  1 3267.                DC    X'8AE174A1ECA07775727870FAFBBE69EF'   E
 00327E 76CFDEDFEAEBFEEE           22905  1 3268.                DC    X'76CFDEDFEAEBFEEEDACDDCDDFCFDBFFF'   F
 002F38                01FFA 0329A 22906    3269.              END   ,
1NETWORK  (NETW00) (09:42) (22MAR04) Translation Services                                                                   Page  166
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22913    3271.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22914    3272.     Ÿ                                                                     Ÿ
                                   22915    3273.     Ÿ  TOASC   --  Translate data from EBCDIC to ASCII.                   Ÿ
                                   22916    3274.     Ÿ                                                                     Ÿ
                                   22917    3275.     Ÿ    Input --  @TOASC                                                 Ÿ
                                   22918    3276.     Ÿ                                                                     Ÿ
                                   22919    3277.     Ÿ   Output --  The translation is done in place                       Ÿ
                                   22920    3278.     Ÿ                                                                     Ÿ
                                   22921    3279.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00008 22923    3281.     @TOASC   RECORD BEGIN
 000000                            22931  1 3282.     @TOASLOC   DS    A             Location of the buffer to translate
 000004                            22932  1 3283.     @TOASLEN   DS    A             Length of the buffer
 000008                00008 00008 22933    3284.              END   ,
-002F38                            22943    3286.     TOASC    PROC  @TOASC,SCOPE=LOCAL
 002F38 E3D6C1E2C3404040           22950             +
 002F40 0008/0000                  22951             +
 002F44 900F D004/18AF       00004 22953             +
 USING  TOASC,R10
 002F4A 50D0 C000/18CD       00000 22968             +
 002F50 9680 C000      00000       22970             +
 USING  @TOASC-72,R12
 002F54 41D0 C050            00050 22984             +
 002F58 5820 C048            00000 22985    3287.              L     RA,@TOASLOC
 002F5C 5810 C04C            00004 22986    3288.              L     RS,@TOASLEN
 002F60 5910 A134            03078 22987    3289.              WHILE (RS,GT,256),BEGIN
 002F64 47D0 A036            02F7A 23001             +
 002F68 DCFF 2000 A14A 00000 0308E 23006  1 3290.                TR    @RA(256),ASCTBL
 002F6E 5B10 A134            03078 23007  1 3291.                S     RS,=A(256)
 002F72 5E20 A134            03078 23008  1 3292.                AL    RA,=A(256)
 002F76 47F0 A01C            02F60 23009    3293.              END   ,
 002F7A 0610/4410 A34A       0328E 23014    3294.              DEX   RS,'TR @RA(0),ASCTBL'
 00328E DC00 2000 A14A 00000 0308E 23025             +
 002F80 1B00                       23033    3295.              CLEAR RVR
 002F82 981F C008            00008 23037    3296.              PEND
 DROP   @TOASC-72,R12
 DROP   TOASC,R10
 002F86 9680 C000/0B0E 00000       23052             +
1NETWORK  (NETW00) (09:42) (22MAR04) Translation Services                                                                   Page  167
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  23059    3298.     ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   23060    3299.     Ÿ                                                                     Ÿ
                                   23061    3300.     Ÿ  TOEBC   --  Translate data to EBCDIC from ASCII.                   Ÿ
                                   23062    3301.     Ÿ                                                                     Ÿ
                                   23063    3302.     Ÿ    Input --  @TOEBC                                                 Ÿ
                                   23064    3303.     Ÿ                                                                     Ÿ
                                   23065    3304.     Ÿ   Output --  The translation is done in place                       Ÿ
                                   23066    3305.     Ÿ                                                                     Ÿ
                                   23067    3306.     Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00008 23069    3308.     @TOEBC   RECORD BEGIN
 000000                            23077  1 3309.     @TOEBLOC   DS    A             Location of the buffer to translate
 000004                            23078  1 3310.     @TOEBLEN   DS    A             Length of the buffer
 000008                00008 00008 23079    3311.              END   ,
-002F8C                            23089    3313.     TOEBC    PROC  @TOEBC,SCOPE=LOCAL
 002F8C E3D6C5C2C3404040           23096             +
 002F94 0008/0000                  23097             +
 002F98 900F D004/18AF       00004 23099             +
 USING  TOEBC,R10
 002F9E 50D0 C000/18CD       00000 23114             +
 002FA4 9680 C000      00000       23116             +
 USING  @TOEBC-72,R12
 002FA8 41D0 C050            00050 23130             +
 002FAC 5820 C048            00000 23131    3314.              L     RA,@TOEBLOC
 002FB0 5810 C04C            00004 23132    3315.              L     RS,@TOEBLEN
 002FB4 5910 A0E0            03078 23133    3316.              WHILE (RS,GT,256),BEGIN
 002FB8 47D0 A036            02FCE 23147             +
 002FBC DCFF 2000 A1F6 00000 0318E 23152  1 3317.                TR    @RA(256),EBCTBL
 002FC2 5B10 A0E0            03078 23153  1 3318.                S     RS,=A(256)
 002FC6 5E20 A0E0            03078 23154  1 3319.                AL    RA,=A(256)
 002FCA 47F0 A01C            02FB4 23155    3320.              END   ,
 002FCE 0610/4410 A2FC       03294 23160    3321.              DEX   RS,'TR @RA(0),EBCTBL'
 003294 DC00 2000 A1F6 00000 0318E 23171             +
 002FD4 1B00                       23179    3322.              CLEAR RVR
 002FD6 981F C008            00008 23183    3323.              PEND
 DROP   @TOEBC-72,R12
 DROP   TOEBC,R10
 002FDA 9680 C000/0B0E 00000       23198             +
1NETWORK  (NETW00) (09:42) (22MAR04) Translation Services                                                                   Page  168
0Current Usings:  (PZERO,R0)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2004/03/22 09.42
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0002FE0                            23205    3325.              END   .
 002FE0 00000000                   23208                             =V(ASLOCK)
 002FE4 00002ECA                   23209                             =A(FREELBUF)
 002FE8 00002F98                   23210                             =A(TOEBC)
 002FEC 00000000                   23211                             =V(ASULOCK)
 002FF0 FFFFFFFF                   23212                             =A(-1)
 002FF4 00000000                   23213                             =V(IOSIDGET)
 002FF8 0000000C                   23214                             =A(#SCCSEND)
 002FFC 00000000                   23215                             =V(PAGFIX)
 003000 0000299E                   23216                             =A(ADDSEG)
 003004 00000000                   23217                             =V(IOSDOIO)
 003008 0000000C                   23218                             =A(#SCESFQ)
 00300C 00000000                   23219                             =V(LKOB)
 003010 00000000                   23220                             =V(LKREL)
 003014 00000000                   23221                             =V(PAGUFIX)
 003018 00000000                   23222                             =V(IOSIDFRE)
 00301C 00000000                   23223                             =A(#SCESOK)
 003020 00000010                   23224                             =A(#SCESNP)
 003024 FFFFFFFC                   23225                             =A(-4)
 003028 00000000                   23226                             =V(XITDO)
 00302C 00000000                   23227                             =V(RTSET)
 003030 00000000                   23228                             =V(RTCAN)
 003034 00000000                   23229                             =V(SIGNAL)
 003038 00000000                   23230                             =V(EXRDONE)
 00303C 00000000                   23231                             =V(VMGET)
 003040 E2D6C3D2                   23232                             =C'SOCK'
 003044 D5E2D8C5                   23233                             =C'NSQE'
 003048 00002000                   23234                             =A(8192)
 00304C 00000000                   23235                             =V(XITNEW)
 003050 A2968392                   23236                             =C'sock'
 003054 00000000                   23237                             =V(VMFREE)
 003058 00000000                   23238                             =V(XITDEL)
 00305C 7FFFF000                   23239                             =X'7FFFF000'
 003060 00000000                   23240                             =V(PAGTPROT)
 003064 00000003                   23241                             =A(3)
 003068 00000002                   23242                             =A(2)
 00306C D5C2E4C6                   23243                             =C'NBUF'
 003070 C6E4C2D5                   23244                             =CL4'FUBN'
 003074 D3C2E4C6                   23245                             =C'LBUF'
 003078 00000100                   23246                             =A(256)
 00307C 1F00                       23247                             =Y(31*256+0)
 00307E 3F00                       23248                             =Y(63*256+0)
 003080 0800                       23249                             =AL2(2048)
 003082 1000                       23250                             =AL2(4096)
 003084 1B00                       23251                             =Y(27*256+0)
 003086 1000                       23252                             =Y(4096)
 003088 3B00                       23253                             =Y(59*256+0)
 00308A 0014                       23254                             =Y(L'NBUF+4)
 00308C 000E           0329A 0329A 23255                             =Y(L'LBUF)

1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  169
-Symbol   Length   Value     Id    R Type   Defn References                                  HLASM R4.0  2004/03/22 09.42
0$$$@R0        1 00000000 FFFFFFFE     J     714  1010
 $$$@R1        1 00000000 FFFFFFFD     J     727  1022
 $$$@R10       1 00000000 FFFFFFF4     J     844  1142
 $$$@R11       1 00000000 FFFFFFF3     J     857  1154
 $$$@R12       1 00000000 FFFFFFF2     J     870  1166
 $$$@R13       1 00000000 FFFFFFF1     J     883  1178
 $$$@R14       1 00000000 FFFFFFF0     J     896  1190
 $$$@R15       1 00000000 FFFFFFEF     J     909  1202
 $$$@R2        1 00000000 FFFFFFFC     J     740  1034
 $$$@R3        1 00000000 FFFFFFFB     J     753  1046
 $$$@R4        1 00000000 FFFFFFFA     J     766  1058
 $$$@R5        1 00000000 FFFFFFF9     J     779  1070
 $$$@R6        1 00000000 FFFFFFF8     J     792  1082
 $$$@R7        1 00000000 FFFFFFF7     J     805  1094
 $$$@R8        1 00000000 FFFFFFF6     J     818  1106
 $$$@R9        1 00000000 FFFFFFF5     J     831  1118   1130
 $$$C1NETWORK
               1 00000C7E 00000001     J    9515  9517  10927  11646  11741  12121
 $$$C2NETWORK
               1 000017CC 00000001     J   14120 14122  16879
 $$$C3NETWORK
               1 00001FFA 00000001     J   17331 17333  21734  22187  22436  22700  22910  22940  23031  23086  23177
 $$$C4NETWORK
               1 0000329A 00000001     J   23256 23258
 $$$D0NETWORK
               1 00000C5D 00000001     J    1220  5347   5443   6420
 $$$D1NETWORK
               1 000017B9 00000001     J    9516 11635  11730  12110
 $$$D2NETWORK
               1 00001FF4 00000001     J   14121 16868
 $$$D3NETWORK
               1 0000308E 00000001     J   17332 22857  23020  23166
 $$$R#SCCLOSE
               1 00000000 FFFFFFA3     J    3723  3736   3736
 $$$R#SCINFO
               1 00000000 FFFFFFA0     J    3810  3825   3825
 $$$R#SCNOTE
               1 00000000 FFFFFF9F     J    3835  3848   3848
 $$$R#SCOMCMD
               1 00000000 FFFFFFA5     J    3652  3685   3685
 $$$R#SCOPEN
               1 00000000 FFFFFFA4     J    3695  3713   3713
 $$$R#SCPOST
               1 00000000 FFFFFFA2     J    3746  3759   3759
 $$$R#SCSR
               1 00000000 FFFFFFA1     J    3769  3800   3800
 $$$R@ACAINFO
               1 00000000 FFFFFFEA     J    1510  1527   1527
 $$$R@ACINFO
               1 00000000 FFFFFFE9     J    1537  1556   1556
 $$$R@ACLOGON
               1 00000000 FFFFFFEB     J    1483  1500   1500
 $$$R@ACPINFO
               1 00000000 FFFFFFE8     J    1565  1579   1579
 $$$R@ACREATE
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  170
               1 00000000 FFFFFFE1     J    1752  1765   1765
 $$$R@ACSPINF
               1 00000000 FFFFFFE7     J    1588  1602   1602
 $$$R@ADDSEG
               1 00000000 FFFFFF96     J    4597  4612   4612
 $$$R@AWAIT
               1 00000000 FFFFFFCC     J    2303  2325   2325
 $$$R@CHEKBUF
               1 00000000 FFFFFF8D     J   22173 22186  22186
 $$$R@CPCNCK
               1 00000000 FFFFFFC6     J    2482  2497   2497
 $$$R@CPSET
               1 00000000 FFFFFFC7     J    2457  2472   2472
 $$$R@DELNPCB
               1 00000000 FFFFFF91     J    4738  4751   4751
 $$$R@DISPPIOC
               1 00000000 FFFFFFE6     J    1618  1631   1631
 $$$R@DISPSIOC
               1 00000000 FFFFFFE5     J    1637  1650   1650
 $$$R@DISPSWP
               1 00000000 FFFFFFE2     J    1729  1742   1742
 $$$R@DSPSTAT
               1 00000000 FFFFFFD6     J    2023  2039   2039
 $$$R@EXRADD
               1 00000000 FFFFFFB4     J    2972  3002   3002
 $$$R@EXRDEL
               1 00000000 FFFFFFB3     J    3012  3025   3025
 $$$R@EXRDONE
               1 00000000 FFFFFFB2     J    3035  3071   3071
 $$$R@FREEBUF
               1 00000000 FFFFFF8E     J   21720 21733  21733
 $$$R@FREELB
               1 00000000 FFFFFF8B     J   22685 22699  22699
 $$$R@GETLB
               1 00000000 FFFFFF8C     J   22422 22435  22435
 $$$R@IORB
               1 00000000 FFFFFFCE     J    2237  2256   2256
 $$$R@IOSDOIO
               1 00000000 FFFFFFD3     J    2100  2138   2138
 $$$R@IOSIDFRE
               1 00000000 FFFFFFCF     J    2211  2224   2224
 $$$R@IOSIDGET
               1 00000000 FFFFFFD0     J    2184  2205   2205
 $$$R@IOSTIME
               1 00000000 FFFFFFD1     J    2164  2178   2178
 $$$R@IOTERM
               1 00000000 FFFFFFD2     J    2144  2158   2158
 $$$R@IOUPARM
               1 00000000 FFFFFFCD     J    2268  2291   2291
 $$$R@LOCKCRE
               1 00000000 FFFFFFD5     J    2052  2074   2074
 $$$R@LOCKS
               1 00000000 FFFFFFD4     J    2080  2093   2093
 $$$R@MONSET
               1 00000000 FFFFFFD7     J    2000  2013   2013
 $$$R@M1NET
               1 00000000 FFFFFFA7     J    3506  3605   3605
 $$$R@M1NIOCP
               1 00000000 FFFFFFA6     J    3616  3635   3635
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  171
 $$$R@PAGASC1
               1 00000000 FFFFFFBA     J    2838  2852   2852
 $$$R@PAGASC2
               1 00000000 FFFFFFB9     J    2858  2872   2872
 $$$R@PAGDEF
               1 00000000 FFFFFFBC     J    2778  2805   2805
 $$$R@PAGE
               1 00000000 FFFFFFB8     J    2878  2894   2894
 $$$R@PAGINIT
               1 00000000 FFFFFFB5     J    2940  2954   2954
 $$$R@PAGINTV
               1 00000000 FFFFFFB6     J    2921  2934   2934
 $$$R@PAGRV
               1 00000000 FFFFFFB7     J    2900  2915   2915
 $$$R@PAGSEGD
               1 00000000 FFFFFFBB     J    2811  2832   2832
 $$$R@PAGSWADV
               1 00000000 FFFFFFBE     J    2729  2742   2742
 $$$R@PAGSWAP
               1 00000000 FFFFFFBF     J    2675  2723   2723
 $$$R@PAGWSMA
               1 00000000 FFFFFFBD     J    2748  2772   2772
 $$$R@PARMDO
               1 00000000 FFFFFFA9     J    3409  3425   3425
 $$$R@PERSET
               1 00000000 FFFFFFD8     J    1977  1990   1990
 $$$R@RESUME
               1 00000000 FFFFFFE3     J    1704  1719   1719
 $$$R@RTCNCK
               1 00000000 FFFFFFC9     J    2407  2422   2422
 $$$R@RTSET
               1 00000000 FFFFFFCA     J    2373  2397   2397
 $$$R@SENDTCP
               1 00000000 FFFFFF94     J    4648  4671   4671
 $$$R@SIGNAL
               1 00000000 FFFFFFCB     J    2336  2356   2356
 $$$R@SOCKP
               1 00000000 FFFFFF92     J    4706  4729   4729
 $$$R@SUSPEND
               1 00000000 FFFFFFE4     J    1660  1694   1694
 $$$R@SYSRDEL
               1 00000000 FFFFFFDB     J    1905  1918   1918
 $$$R@SYSRDO
               1 00000000 FFFFFFDA     J    1928  1944   1944
 $$$R@SYSRNEW
               1 00000000 FFFFFFDC     J    1883  1896   1896
 $$$R@SYSRTN
               1 00000000 FFFFFFD9     J    1954  1967   1967
 $$$R@TCREATE
               1 00000000 FFFFFFE0     J    1775  1804   1804
 $$$R@TENTRY
               1 00000000 FFFFFFDE     J    1837  1850   1850
 $$$R@TEXIT
               1 00000000 FFFFFFDD     J    1860  1873   1873
 $$$R@TOASC
               1 00000000 FFFFFF8A     J   22925 22939  22939
 $$$R@TOEBC
               1 00000000 FFFFFF89     J   23071 23085  23085
 $$$R@TREMOVE
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  172
               1 00000000 FFFFFFDF     J    1814  1827   1827
 $$$R@VALBUF
               1 00000000 FFFFFF95     J    4618  4642   4642
 $$$R@VMCRAS
               1 00000000 FFFFFFC0     J    2647  2660   2660
 $$$R@VMFREE
               1 00000000 FFFFFFC3     J    2570  2585   2585
 $$$R@VMGET
               1 00000000 FFFFFFC4     J    2535  2564   2564
 $$$R@VMINFO
               1 00000000 FFFFFFC2     J    2591  2606   2606
 $$$R@VMIPARM
               1 00000000 FFFFFFC1     J    2619  2636   2636
 $$$R@XITDATA
               1 00000000 FFFFFFAB     J    3357  3370   3370
 $$$R@XITDEL
               1 00000000 FFFFFFB0     J    3112  3125   3125
 $$$R@XITDO
               1 00000000 FFFFFFAF     J    3134  3151   3151
 $$$R@XITGPST
               1 00000000 FFFFFFAE     J    3162  3177   3177
 $$$R@XITMASK
               1 00000000 FFFFFFAD     J    3187  3234   3234
 $$$R@XITNEW
               1 00000000 FFFFFFB1     J    3081  3102   3102
 $$$RASB       1 00000000 FFFFFFEC     J    1415  1466   1466
 $$$RCPEXIT
               1 00000000 FFFFFFC5     J    2507  2522   2522
 $$$RDOSDATA
               1 00000000 FFFFFF8F     J   10905 10926  10926
 $$$RGNCT      1 00000000 FFFFFF9E     J    3976  4004   4004
 $$$RLBUF      1 00000000 FFFFFF97     J    4572  4590   4590
 $$$RMAT       1 00000000 FFFFFFED     J    1349  1408   1408
 $$$RNBUF      1 00000000 FFFFFF9B     J    4108  4125   4125
 $$$RNETCB
               1 00000000 FFFFFF99     J    4164  4217   4217
 $$$RNIPARMS
               1 00000000 FFFFFF93     J    4680  4697   4697
 $$$RNPCB      1 00000000 FFFFFF9D     J    4020  4050   4050
 $$$RNSPARM
               1 00000000 FFFFFF90     J    4760  4774   4774
 $$$RNSQE      1 00000000 FFFFFF9C     J    4065  4097   4097
 $$$RPARMIN
               1 00000000 FFFFFFA8     J    3431  3489   3489
 $$$RPZERO
               1 00000000 FFFFFFEE     J    1235  1326   1326
 $$$RRTEXIT
               1 00000000 FFFFFFC8     J    2432  2447   2447
 $$$RSOCK      1 00000000 FFFFFF98     J    4230  4559   4559
 $$$RTCPHDR
               1 00000000 FFFFFF9A     J    4136  4151   4151
 $$$RXITMSKD
               1 00000000 FFFFFFAC     J    3260  3347   3347
 $$$RXITSAREA
               1 00000000 FFFFFFAA     J    3380  3396   3396
 $$$TR$0       4 00000C6C 00000001     A    6424  6418   6424  21343
 $$$100F       2 00000DD2 00000001     H   10135 10104B
 $$$101F       2 00000DCE 00000001     H   10130 10120B
 $$$102F       2 00000DFC 00000001     H   10208 10163B
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  173
 $$$103F       2 00000E12 00000001     H   10239 10222B
 $$$104F       2 00000E82 00000001     H   10429 10262B
 $$$105F       2 00000E30 00000001     H   10288 10278B
 $$$106F       2 00000E68 00000001     H   10391 10300B
 $$$107F       2 00000E68 00000001     H   10387 10371B
 $$$108F       2 00000E7E 00000001     H   10422 10405B
 $$$109F       2 00000EBA 00000001     H   10526 10445B
 $$$110F       2 00000EBA 00000001     H   10522 10500B
 $$$111F       2 00000F18 00000001     H   10719 10542B
 $$$112B       4 00000EC6 00000001     I   10557 10623
 $$$112F       2 00000EE2 00000001     H   10619 10557B 10622
 $$$113B       4 00000ECE 00000001     I   10572 10590
 $$$113F       2 00000ED6 00000001     H   10587 10572B 10589
 $$$114E       2 00000EDA 00000001     H   10597 10591
 $$$114F       2 00000EDE 00000001     H   10609 10593B
 $$$115B       4 00000EEA 00000001     I   10639 10663
 $$$115E       2 00000EE6 00000001     H   10630 10624
 $$$115F       2 00000EF6 00000001     H   10659 10626B 10639B 10662
 $$$117E       2 00000EFA 00000001     H   10670 10664
 $$$117F       2 00000F18 00000001     H   10715 10666B 10693B
 $$$117T       2 00000F0A 00000001     H   10696 10683B
 $$$120F       2 00000F42 00000001     H   10791 10764B
 $$$121F       2 00000F70 00000001     H   10859 10828B
 $$$123F       2 0000100C 00000001     H   11251 11009B 11121B
 $$$124F       2 00000FBC 00000001     H   11070 11055B
 $$$125F       2 00000FC8 00000001     H   11096 11081B
 $$$127S       2 00000FD4 00000001     H   11135 11151B
 $$$130F       2 00000FF2 00000001     H   11211 11194B
 $$$130S       2 00000FDC 00000001     H   11166 11210B
 $$$132F       2 00001008 00000001     H   11241 11231B
 $$$132S       2 00000FF6 00000001     H   11223 11240B
 $$$134F       2 0000106E 00000001     H   11379 11365B
 $$$135F       2 000010BE 00000001     H   11544 11402B
 $$$136B       4 00001084 00000001     I   11440 11458
 $$$136F       2 00001092 00000001     H   11455 11440B 11457
 $$$137E       2 00001096 00000001     H   11465 11459
 $$$137F       2 000010AA 00000001     H   11488 11461B
 $$$138F       2 0000115E 00000001     H   11824 11565B
 $$$139B       4 000010D4 00000001     I   11603 11679
 $$$139F       2 00001102 00000001     H   11675 11603B 11678
 $$$140F       2 000010EC 00000001     H   11628 11619B
 $$$141        6 000017BA 00000001     I   11641 11633X
 $$$142        6 000017BA 00000001     I   11640 11641  11641
 $$$143B       4 0000110C 00000001     I   11697 11755
 $$$143E       2 00001106 00000001     H   11686 11680
 $$$143F       2 00001132 00000001     H   11752 11682B 11697B 11754
 $$$145F       2 00001124 00000001     H   11722 11713B
 $$$146        6 000017C0 00000001     I   11736 11728X
 $$$147        6 000017C0 00000001     I   11735 11736  11736
 $$$148E       2 00001136 00000001     H   11762 11756
 $$$148F       2 0000114A 00000001     H   11778 11758B
 $$$149F       2 0000123E 00000001     H   12265 11844B
 $$$150B       4 00001174 00000001     I   11882 11947
 $$$150F       2 0000118C 00000001     H   11943 11882B 11946
 $$$151B       4 00001196 00000001     I   11965 11984
 $$$151E       2 00001190 00000001     H   11954 11948
 $$$151F       2 0000119E 00000001     H   11980 11950B 11965B 11983
 $$$153B       4 000011A8 00000001     I   12002 12022
 $$$153E       2 000011A2 00000001     H   11991 11985
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  174
 $$$153F       2 000011B0 00000001     H   12018 11987B 12002B 12021
 $$$155B       4 000011BA 00000001     I   12040 12059
 $$$155E       2 000011B4 00000001     H   12029 12023
 $$$155F       2 000011C2 00000001     H   12055 12025B 12040B 12058
 $$$157B       4 000011CC 00000001     I   12077 12196
 $$$157E       2 000011C6 00000001     H   12066 12060
 $$$157F       2 00001212 00000001     H   12193 12062B 12077B 12195
 $$$159F       2 000011E4 00000001     H   12102 12093B
 $$$160        6 000017C6 00000001     I   12116 12108X
 $$$161        6 000017C6 00000001     I   12115 12116  12116
 $$$162E       2 00001216 00000001     H   12203 12197
 $$$162F       2 0000122A 00000001     H   12219 12199B
 $$$163B       4 00001242 00000001     I   12279 12390
 $$$163F       2 00001278 00000001     H   12387 12279B 12389
 $$$164F       2 00001278 00000001     H   12383 12297B
 $$$165F       2 00001278 00000001     H   12379 12363B
 $$$166E       2 0000127C 00000001     H   12397 12391
 $$$166F       2 000012AE 00000001     H   12491 12393B
 $$$167F       2 000012AE 00000001     H   12487 12412B
 $$$168F       2 000012AE 00000001     H   12483 12468B
 $$$169F       2 000012C8 00000001     H   12546 12512B 12525B
 $$$171F       2 000012F6 00000001     H   12634 12613B
 $$$172F       2 00001324 00000001     H   12722 12701B
 $$$173F       2 0000136E 00000001     H   12877 12743B
 $$$174B       4 0000133A 00000001     I   12781 12798
 $$$174F       2 00001342 00000001     H   12795 12781B 12797
 $$$175E       2 00001346 00000001     H   12805 12799
 $$$175F       2 0000135A 00000001     H   12821 12801B
 $$$176F       2 0000138C 00000001     H   12949 12900B
 $$$179F       2 000013E4 00000001     H   13129 13072B
 $$$179S       2 000013C6 00000001     H   13066 13128B
 $$$181F       2 0000150E 00000001     H   13683 13231B
 $$$183F       2 00001482 00000001     H   13388 13341B
 $$$183S       2 00001438 00000001     H   13332 13387B
 $$$185F       2 0000147A 00000001     H   13382 13356B
 $$$186F       2 000014B8 00000001     H   13493 13421B
 $$$186S       2 00001494 00000001     H   13413 13492B
 $$$189B       4 00001562 00000001     I   13823 13865
 $$$189F       2 0000157C 00000001     H   13859 13823B 13864
 $$$190E       2 00001580 00000001     H   13872 13866
 $$$190F       2 00001592 00000001     H   13902 13868B
 $$$191F       2 00001592 00000001     H   13898 13887B
 $$$191S       2 00001580 00000001     H   13879 13897B
 $$$193F       2 000015E0 00000001     H   14009 13978B
 $$$193S       2 00001592 00000001     H   13910 14008B
 $$$194F       2 000015C0 00000001     H   13962 13932B
 $$$197B       4 000017F0 00000001     I   14187 14209
 $$$197F       2 00001800 00000001     H   14206 14187B 14208
 $$$198E       2 00001804 00000001     H   14216 14210
 $$$198F       2 00001808 00000001     H   14223 14212B
 $$$199F       2 00001842 00000001     H   14275 14249B
 $$$200B       4 00001868 00000001     I   14301 14319
 $$$200F       2 00001870 00000001     H   14316 14301B 14318
 $$$201E       2 00001874 00000001     H   14326 14320
 $$$201F       2 00001878 00000001     H   14339 14322B
 $$$202F       2 0000188A 00000001     H   14386 14371B
 $$$203F       2 000018D2 00000001     H   14446 14420B
 $$$203T       2 000018A2 00000001     H   14423 14408B
 $$$206F       2 00001942 00000001     H   14588 14579B
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  175
 $$$212F       2 000019B4 00000001     H   14785 14765B
 $$$213F       2 000019F8 00000001     H   14894 14846B
 $$$215F       2 00001A52 00000001     H   15052 15042B
 $$$216F       2 00001A64 00000001     H   15074 15064B
 $$$217F       2 00001A9A 00000001     H   15155 15091B
 $$$218F       2 00001A84 00000001     H   15123 15106B
 $$$219F       2 00001A9A 00000001     H   15151 15134B
 $$$220F       2 00001AC0 00000001     H   15192 15176B
 $$$221F       2 00001AD0 00000001     H   15216 15207B
 $$$227B       4 00001B3A 00000001     I   15398 15442
 $$$227F       2 00001B4C 00000001     H   15439 15398B 15441
 $$$230E       2 00001B50 00000001     H   15449 15443
 $$$230F       2 00001B52 00000001     H   15459 15445B
 $$$231F       2 00001B78 00000001     H   15522 15477B
 $$$233F       2 00001BF4 00000001     H   15758 15748B
 $$$234F       2 00001C06 00000001     H   15780 15770B
 $$$235F       2 00001C2C 00000001     H   15817 15801B
 $$$236F       2 00001C38 00000001     H   15840 15831B
 $$$240F       2 00001CA6 00000001     H   16025 15974B
 $$$243F       2 00001D0E 00000001     H   16195 16083B
 $$$244F       2 00001CFE 00000001     H   16170 16154B
 $$$245F       2 00001D0E 00000001     H   16191 16181B
 $$$246F       2 00001D38 00000001     H   16278 16210B
 $$$248F       2 00001D98 00000001     H   16451 16441B
 $$$249F       2 00001E38 00000001     H   16699 16477B
 $$$250F       2 00001DC8 00000001     H   16511 16495B
 $$$251F       2 00001DF8 00000001     H   16594 16572B
 $$$252F       2 00001E08 00000001     H   16615 16605B
 $$$253F       2 00001E2E 00000001     H   16692 16630B
 $$$254F       2 00001EAA 00000001     H   16899 16716B
 $$$255F       2 00001EA0 00000001     H   16892 16735B
 $$$258        6 00001FF4 00000001     I   16874 16866X
 $$$259        6 00001FF4 00000001     I   16873 16874  16874
 $$$261F       2 00001F16 00000001     H   17118 17064B
 $$$264F       2 000020B0 00000001     H   17588 17451B
 $$$264S       2 00002032 00000001     H   17443 17585B
 $$$266B       4 0000204A 00000001     I   17472 17533
 $$$266F       2 0000207E 00000001     H   17527 17472B 17532
 $$$267E       2 00002082 00000001     H   17540 17534
 $$$267F       2 000020AA 00000001     H   17568 17536B
 $$$270F       2 000020D0 00000001     H   17650 17604B
 $$$271F       2 00002314 00000001     H   18833 17794B 18735B 18761B 18787B
 $$$272F       2 00002116 00000001     H   17798 17786B
 $$$273F       2 000021A2 00000001     H   18113 18026B
 $$$274F       2 00002252 00000001     H   18530 18277B
 $$$275F       2 00002246 00000001     H   18497 18453B
 $$$276F       2 000022A6 00000001     H   18682 18648B
 $$$277F       2 000022C4 00000001     H   18739 18724B
 $$$278F       2 000022D4 00000001     H   18765 18753B
 $$$279F       2 000022E4 00000001     H   18791 18779B
 $$$281F       2 000023B0 00000001     H   18987 18961B
 $$$282F       2 00002442 00000001     H   19197 19097B
 $$$284F       2 0000243A 00000001     H   19171 19145B
 $$$286F       2 000024B8 00000001     H   19336 19310B
 $$$289F       2 0000258A 00000001     H   19684 19658B
 $$$290F       2 0000260E 00000001     H   19823 19797B
 $$$291F       2 000026C0 00000001     H   20048 20022B
 $$$292F       2 0000271E 00000001     H   20135 20109B
 $$$295F       2 000027C0 00000001     H   20335 20309B
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  176
 $$$296F       2 00002812 00000001     H   20425 20378B
 $$$296S       2 000027C8 00000001     H   20369 20424B
 $$$298F       2 0000280A 00000001     H   20419 20393B
 $$$299F       2 00002874 00000001     H   20518 20492B
 $$$300F       2 000028F8 00000001     H   20706 20639B
 $$$300S       2 000028CC 00000001     H   20633 20705B
 $$$302F       2 00002928 00000001     H   20789 20722B
 $$$302S       2 000028FC 00000001     H   20716 20788B
 $$$304F       2 00002988 00000001     H   20887 20861B
 $$$306F       2 00002A30 00000001     H   21077 21010B
 $$$306S       2 000029CA 00000001     H   21004 21076B
 $$$308F       2 00002A08 00000001     H   21051 21025B
 $$$309F       2 00002ADA 00000001     H   21329 21219B 21245B 21270B
 $$$311F       2 00002AB8 00000001     H   21249 21237B
 $$$312F       2 00002AC8 00000001     H   21274 21262B
 $$$313B       4 00002ACC 00000001     I   21285 21298
 $$$313F       2 00002AD4 00000001     H   21295 21285B 21297
 $$$314E       2 00002AD8 00000001     H   21305 21299
 $$$314F       2 00002ADA 00000001     H   21315 21301B
 $$$316F       2 00002B2E 00000001     H   21483 21458B
 $$$316S       2 00002B18 00000001     H   21445 21480B
 $$$320B       4 00002B30 00000001     I   21498 21539
 $$$320F       2 00002B44 00000001     H   21536 21498B 21538
 $$$321S       2 00002B38 00000001     H   21508 21527B
 $$$324E       2 00002B48 00000001     H   21546 21540
 $$$324F       2 00002BA8 00000001     H   21657 21542B
 $$$325F       2 00002B96 00000001     H   21621 21595B
 $$$326S       2 00002B9C 00000001     H   21631 21648B
 $$$330F       2 00002C3C 00000001     H   21869 21843B
 $$$331F       2 00002C7E 00000001     H   21906 21880B
 $$$332B       4 00002C8E 00000001     I   21925 21996
 $$$332F       2 00002CB4 00000001     H   21993 21925B 21995
 $$$333S       2 00002C96 00000001     H   21935 21953B
 $$$336S       2 00002CA8 00000001     H   21967 21984B
 $$$339E       2 00002CB8 00000001     H   22003 21997
 $$$339F       2 00002D1A 00000001     H   22125 21999B
 $$$340F       2 00002D0A 00000001     H   22088 22062B
 $$$341S       2 00002D0E 00000001     H   22097 22116B
 $$$345F       2 00002D82 00000001     H   22284 22258B
 $$$346F       2 00002DC4 00000001     H   22321 22295B
 $$$347F       2 00002E08 00000001     H   22379 22332B
 $$$348F       2 00002E08 00000001     H   22375 22349B
 $$$35F        2 00000186 00000001     H    5363  5316B
 $$$350B       4 00002E3C 00000001     I   22521 22536
 $$$350F       2 00002E46 00000001     H   22530 22521B 22535
 $$$351E       2 00002E4A 00000001     H   22543 22537
 $$$351F       2 00002E9A 00000001     H   22620 22539B
 $$$352F       2 00002E98 00000001     H   22615 22589B
 $$$354F       2 00002F20 00000001     H   22811 22785B
 $$$356F       2 00002F7A 00000001     H   23013 23001B
 $$$356S       2 00002F60 00000001     H   22992 23012B
 $$$358        6 0000328E 00000001     I   23026 23018X
 $$$359        6 0000328E 00000001     I   23025 23026  23026
 $$$36F        2 00000180 00000001     H    5340  5331B
 $$$361F       2 00002FCE 00000001     H   23159 23147B
 $$$361S       2 00002FB4 00000001     H   23138 23158B
 $$$363        6 00003294 00000001     I   23172 23164X
 $$$364        6 00003294 00000001     I   23171 23172  23172
 $$$37         6 00000C5E 00000001     I    5353  5345X
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  177
 $$$38         6 00000C5E 00000001     I    5352  5353   5353
 $$$39F        2 000001C0 00000001     H    5459  5412B
 $$$40F        2 000001BA 00000001     H    5436  5427B
 $$$41         6 00000C64 00000001     I    5449  5441X
 $$$42         6 00000C64 00000001     I    5448  5449   5449
 $$$43F        2 000001EA 00000001     H    5509  5494B
 $$$44S        2 00000242 00000001     H    5697  5862B
 $$$45F        2 00000256 00000001     H    5736  5718B
 $$$46F        2 00000264 00000001     H    5765  5747B
 $$$47F        2 00000278 00000001     H    5821  5776B
 $$$48F        2 0000028C 00000001     H    5858  5832B
 $$$50F        2 00000316 00000001     H    6069  6043B
 $$$51F        2 000003B4 00000001     H    6234  6208B
 $$$54F        2 00000446 00000001     H    6540  6503B
 $$$54S        2 00000432 00000001     H    6497  6539B
 $$$56F        2 000006AC 00000001     H    7635  7105B
 $$$57S        2 0000049E 00000001     H    6727  7184B  7359B  7615B
 $$$58B        4 0000053C 00000001     I    7043  7455
 $$$58F        2 00000610 00000001     H    7449  7043B  7454
 $$$59F        2 0000055E 00000001     H    7109  7058B
 $$$60F        2 00000594 00000001     H    7188  7136B
 $$$61F        2 000005E8 00000001     H    7363  7277B
 $$$61T        2 000005B4 00000001     H    7280  7265B
 $$$63S        2 000005EC 00000001     H    7372  7389B
 $$$66F        2 00000604 00000001     H    7426  7408B
 $$$67E        2 00000614 00000001     H    7462  7456
 $$$67F        2 000006A8 00000001     H    7601  7458B
 $$$68F        2 0000064C 00000001     H    7502  7476B
 $$$69F        2 00000684 00000001     H    7541  7515B
 $$$71F        2 0000071A 00000001     H    7850  7783B
 $$$71S        2 000006F6 00000001     H    7777  7849B
 $$$73F        2 00000712 00000001     H    7839  7811B
 $$$76F        2 0000080C 00000001     H    8279  8253B
 $$$77F        2 00000866 00000001     H    8352  8326B
 $$$79F        2 00000B10 00000001     H    9444  8802B
 $$$80F        2 0000092E 00000001     H    8733  8707B
 $$$81F        2 0000095C 00000001     H    8806  8781B
 $$$81T        2 0000094C 00000001     H    8784  8771B
 $$$83F        2 000009AA 00000001     H    8872  8825B
 $$$83S        2 00000960 00000001     H    8816  8871B
 $$$85F        2 000009A2 00000001     H    8866  8840B
 $$$86F        2 00000A10 00000001     H    8982  8956B
 $$$88F        2 00000AEC 00000001     H    9361  9335B
 $$$90F        2 00000CFA 00000001     H    9771  9714B
 $$$91F        2 00000F52 00000001     H   10814  9832B 10044B 10242B 10425B 10722B
 $$$92F        2 00000D3E 00000001     H    9887  9850B
 $$$93F        2 00000D5A 00000001     H    9935  9901B
 $$$94F        2 00000DA0 00000001     H   10048  9952B
 $$$95F        2 00000D78 00000001     H    9984  9967B
 $$$96F        2 00000D8A 00000001     H   10015  9999B
 $$$97F        2 00000D9C 00000001     H   10041 10031B
 $$$98F        2 00000E16 00000001     H   10246 10064B
 $$$99F        2 00000DD8 00000001     H   10146 10088B
 #IOUSCOM      1 00000010 FFFFFFCD A   U    2281  6095
 #SCCCLOS      1 00000008 FFFFFFA5 A   U    3663  9504
 #SCCLOSE      4 00000000 FFFFFFA3     J    3736  9000U  9010M  9010   9043U  9124   9229
 #SCCMD        4 00000000 FFFFFFA5     A    3658  6135M  6833M  8015M  9029M 17873M
 #SCCNOTE      1 00000028 FFFFFFA5 A   U    3668  9498
 #SCCOPEN      1 00000004 FFFFFFA5 A   U    3662  9482
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  178
 #SCCRECV      1 00000010 FFFFFFA5 A   U    3665  9489
 #SCCSEND      1 0000000C FFFFFFA5 A   U    3664 23214
 #SCESFQ       1 0000000C FFFFFFA5 A   U    3673 23218
 #SCESIAD      1 00000020 FFFFFFA5 A   U    3678  9496
 #SCESIBP      1 0000001C FFFFFFA5 A   U    3677  9495
 #SCESNP       1 00000010 FFFFFFA5 A   U    3674 23224
 #SCESOK       1 00000000 FFFFFFA5 A   U    3672  9492  23223
 #SCNOTE       4 00000000 FFFFFF9F     J    3848  8000U  8009U
 #SCOBUFL      4 00000018 FFFFFFA4     A    3705  6142M
 #SCOMCMD      4 00000000 FFFFFFA5     J    3685  3701   3729   3752   3775   3816   3841   6129U  6827U  8009U  9023U
                                                 17867U
 #SCOME        8 00000004 FFFFFFA4     C    3702  6139M
 #SCOPASS      4 00000014 FFFFFFA4     C    3704  6141M
 #SCOPEN      32 00000000 FFFFFFA4     J    3713  6113U  6123M  6123   6129U
 #SCOYOU       8 0000000C FFFFFFA4     C    3703  6140M
 #SCSR        24 00000000 FFFFFFA1     J    3800  3851   6811U  6821M  6821   6827U 17844U 17854M 17854  17887U 20983U
 #SCSRCT       4 00000008 FFFFFFA1     A    3777 20990  21084M
 #SCSRFLG      1 0000000C FFFFFFA1     R    3780  3784   3789
 #SCSRLEN      4 00000004 FFFFFFA1     A    3776 21088  21090M
 #SCSRRLN      4 00000010 FFFFFFA1     A    3792  7048
 #SCSRSEG      8 00000018 FFFFFFA1     D    3793 20992  21081
 @ACAUPR       4 0000000C FFFFFFEA     A    1518  1519
 @ACREATE      8 00000000 FFFFFFE1     J    1765  4953U  4961M  4961
 @ACRPSW       8 00000000 FFFFFFE1     D    1758  4962M  4963M  4964M
 @ADDSEG      10 00000000 FFFFFF96     J    4612  6850U 17962U 18080U 20968U
 @ADDSLEN      2 00000008 FFFFFF96     H    4605  6873M 17997M 18091M 20994  21089
 @ADDSLOC      4 00000004 FFFFFF96     A    4604  6868M 17980M 18086M 20993
 @ADDSPA       4 00000000 FFFFFF96     A    4603  6884M 18008M 18102M 20973
 @AWAIT        5 00000000 FFFFFFCC     J    2325  9732U  9740M  9740
 @AWTECB       4 00000000 FFFFFFCC     A    2309  9757M
 @AWTFLG       1 00000004 FFFFFFCC     R    2312  2316
 @AWTLONG    128 00000004 FFFFFFCC         2316  9763M
 @CHEKBUF      4 00000000 FFFFFF8D     J   22186 22227U
 @CHKBLOC      4 00000000 FFFFFF8D     A   22179 22232
 @DELNPCB      4 00000000 FFFFFF91     J    4751  6567U  6575M  6575   8638U 13626U 13634M 13634
 @EXRADD      21 00000000 FFFFFFB4     J    3002  9601U  9609M  9609
 @EXRAFLG      1 00000014 FFFFFFB4     R    2984  2988   2993
 @EXRAFS      64 00000014 FFFFFFB4         2993  9637M
 @EXRDCD       1 00000000 FFFFFFB2     R    3043  3052   3062
 @EXRPARM      4 00000010 FFFFFFB4     A    2981  9612M
 @EXRPSW       8 00000008 FFFFFFB4     D    2980  9610M  9611M
 @EXRTYPE      4 00000000 FFFFFFB4     A    2978  9618U
 @FREBLOC      4 00000000 FFFFFF8E     A   21726  7095M  7174M  7325M  7590M 11521M 11801M 12181M 12242M 12854M 13481M
                                                 21817
 @FREEBUF      4 00000000 FFFFFF8E     J   21733  7076U  7084M  7084   7163M  7163   7306U  7314M  7314   7571U  7579M
                                                  7579  11502U 11510M 11510  11790M 11790  12162U 12170M 12170  12231M
                                                 12231  12835U 12843M 12843  13463U 13471M 13471  21774U
 @FREELB       8 00000000 FFFFFF8B     J   22699 17506U 17514M 17514  22740U
 @FRLBLOC      4 00000004 FFFFFF8B     A   22692 17516M 22759
 @FRLBSOC      4 00000000 FFFFFF8B     A   22691 17515M 22745
 @GETLB        4 00000000 FFFFFF8C     J   22435 13837U 13845M 13845  13994M 13994  22476U
 @GTLBSOC      4 00000000 FFFFFF8C     A   22428 13846M 13995M 22481
 @IOSCHID      4 00000000 FFFFFFD3     A    2106  6183M  6933M  8057M  9159M 18233M 18409M
 @IOSCP        4 00000010 FFFFFFD3     A    2109  6178M  6943M  8067M  9171M 18253M 18429M
 @IOSDOIO     30 00000000 FFFFFFD3     J    2138  6158U  6166M  6166   6907U  6915M  6915   8031U  8039M  8039   9149U
                                                  9157M  9157  18183U 18191M 18191  18359U 18367M 18367
 @IOSFID       4 00000000 FFFFFFCF     A    2217  9260M 18704M
 @IOSFSYNC
             128 0000001D FFFFFFD3         2119  6194M  6949M  8073M  9177M 18259M 18435M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  179
 @IOSFWAIT
             128 00000000 FFFFFFD0         2196  5611M  9074M 17825M
 @IOSF1        1 0000001D FFFFFFD3     R    2115  2119   2124   2129
 @IOSID        4 00000004 FFFFFFD3     A    2107  6188M  6942M  8066M  9160M 18242M 18418M
 @IOSIDF       1 00000000 FFFFFFD0     R    2192  2196
 @IOSIDFRE
               4 00000000 FFFFFFCF     J    2224  9251U  9259M  9259  18695U 18703M 18703
 @IOSIDGET
               1 00000000 FFFFFFD0     J    2205  5597U  5605M  9060U  9068M 17811U 17819M
 @IOSKEY       1 0000001C FFFFFFD3     X    2112  6966M
 @IOSPID       8 00000008 FFFFFFD3     D    2108  6167M  6916M  8040M  9158M 18192M 18368M
 @LOCKCRE     17 00000000 FFFFFFD5     J    2074  4917U  4925M  4925
 @LOCKFL       1 00000010 FFFFFFD5     R    2061  2065
 @LOCKID       4 00000000 FFFFFFD4     A    2086  6257M  6273M  6453M  6550M  7216M  7352M  7436M  7756M  7860M  8751M
                                                  8795M  8883M 13321M 13399M 13590M 13609M 18342M 18517M 19914M 19931M
 @LOCKNAM     16 00000000 FFFFFFD5     C    2058  4931M
 @LOCKS        4 00000000 FFFFFFD4     J    2093  6251U  6447U  7210U  7346U  7750U  8745U 13315U 13584U 18336U 18511U
                                                 19908U
 @M1NATCH      4 00000015 FFFFFFA7         3531 14186
 @M1NDVID      4 00000010 FFFFFFA7     A    3516 14202M 14219
 @M1NET       23 00000000 FFFFFFA7     J    3605 14169U
 @M1NFL        1 00000016 FFFFFFA7     R    3587  3591   3596
 @M1NICRQ      4 00000000 FFFFFFA6     A    3622 18944M
 @M1NIOCP     16 00000000 FFFFFFA6     J    3635 18942U
 @M1NIR01      4 00000004 FFFFFFA6     A    3624 18945M
 @M1NIR14      4 00000008 FFFFFFA6     A    3625 18946M
 @M1NIR15      4 0000000C FFFFFFA6     A    3626 18947M
 @M1NM31      64 00000016 FFFFFFA7         3596 14370
 @M1NPKEY      1 00000014 FFFFFFA7     X    3518 14283
 @M1NRQID      4 0000000C FFFFFFA7     A    3515 14279
 @M1NR01       4 00000000 FFFFFFA7     A    3512 14280
 @M1NR14       4 00000004 FFFFFFA7     A    3513 14281
 @M1NR15       4 00000008 FFFFFFA7     A    3514 14282
 @M1NTYPE      1 00000015 FFFFFFA7     R    3522  3531   3541   3551   3561   3571   3581  14393
 @M1NWAIT    128 00000016 FFFFFFA7         3591 14300
 @NBUF         4 00000004 FFFFFF92     A    4713 11932M 13763
 @NPCB         4 00000000 FFFFFF91     A    4744  6580M  8643  13645M
 @PAGE         9 00000000 FFFFFFB8     J    2894  6763U  6771M  6771   6996U  7004M  7004   9093U  9101M  9101   9198U
                                                  9206M  9206  17902U 17910M 17910  18044U 18052M 18052  18127U 18135M
                                                 18135  18547U 18555M 18555  18599M 18599  18664M 18664  21191U 21199M
                                                 21199
 @PAGKEY       1 00000008 FFFFFFB8     X    2886  2887  21203M
 @PAGLEN       4 00000004 FFFFFFB8     A    2885  6793M  7026M  9129M  9234M 17944M 18062M 18163M 18583M 18633M 18674M
                                                 21202M
 @PAGLOC       4 00000000 FFFFFFB8     A    2884  6788M  7021M  9112M  9217M 17927M 18057M 18146M 18566M 18616M 18669M
                                                 21200M
 @PDF1         1 00000009 FFFFFFBC     R    2790  2791   2796
 @RA           0 00000000 FFFFFFFC     @    1035  5352   5448  20143M 20143  20377  20385  21018  21633  23006M 23025M
                                                 23152M 23171M
 @RJ           0 00000000 FFFFFFFA     @    1059 21052M 21066M 21072
 @RK           0 00000000 FFFFFFF9     @    1071 11229  11242M 21465
 @RS           0 00000000 FFFFFFFD     @    1023  8824   8832  13340  13348  21673M 21879  21969  22294
 @RTCID        4 00000000 FFFFFFC9     A    2413 19296M
 @RTCNCK      32 00000000 FFFFFFC9     J    2422 19287U 19295M 19295
 @RTSCLK       8 00000000 FFFFFFCA     D    2379 19124M
 @RTSET       24 00000000 FFFFFFCA     J    2397 19115U 19123M 19123
 @RTSFINT    128 00000008 FFFFFFCA         2386 19130M
 @RTSFLG       1 00000008 FFFFFFCA     R    2382  2386
 @RTSXIT       4 0000000C FFFFFFCA     A    2389 19131M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  180
 @RX           0 00000000 FFFFFFF8     @    1083 16873M
 @RY           0 00000000 FFFFFFF7     @    1095  8990M  8990
 @R0           0 00000000 FFFFFFFE     @     715   991U
 @R1           0 00000000 FFFFFFFD     @     728   987U  5190U  6536U  6940U  6973U  7446U  7846U  8064U  8359U 11103U
                                                 11273U 13448U 14394U 18216U 18240U 18392U 18416U 18492U 19453U
 @R10          0 00000000 FFFFFFF4     @     845   951U  4986U  5880U  6304U  6606U  7633U  7881U  8100U  8374U  8578U
                                                  9442U 10877U 12986U 13136U 13681U 14054U 14473U 14949U 15655U 16348U
                                                 16973U 17139U 17288U 17679U 18831U 19004U 19195U 19360U 19544U 20216U
                                                 20904U 21107U 21327U 21691U 22147U 22396U 22657U 22839U 23048U 23194U
 @R11          0 00000000 FFFFFFF3     @     858   947U
 @R12          0 00000000 FFFFFFF2     @     871   943U  8573U  9437U 10872U 12981U 13676U 14049U 14468U 14944U 15650U
                                                 16343U 16968U 17134U 17283U 17674U 18826U 18999U 19190U 19355U 19539U
                                                 20899U 21102U 21322U 22142U 22391U 22652U 22834U 23043U 23189U
 @R13          0 00000000 FFFFFFF1     @     884   939U  4914U  4950U  4997U  5529U  5594U  5634U  5891U  6155U  6248U
                                                  6315U  6564U  6617U  6847U  6904U  6993U  7073U  7207U  7303U  7343U
                                                  7568U  7644U  7892U  8111U  8289U  8385U  8545U  8589U  8907U  9057U
                                                  9090U  9146U  9195U  9248U  9282U  9453U  9654U  9729U  9795U 10314U
                                                 10735U 10888U 11499U 11899U 12159U 12311U 12832U 12914U 12997U 13147U
                                                 13460U 13510U 13581U 13623U 13692U 14065U 14484U 14795U 14861U 14960U
                                                 15491U 15549U 15600U 15666U 15993U 16097U 16237U 16294U 16359U 16651U
                                                 16773U 16918U 16984U 17150U 17299U 17618U 17690U 17899U 17959U 18041U
                                                 18077U 18124U 18180U 18333U 18356U 18508U 18544U 18692U 18842U 19015U
                                                 19206U 19371U 19555U 19905U 19977U 20155U 20227U 20529U 20597U 20915U
                                                 21338U 21702U 22158U 22668U
 @R14          0 00000000 FFFFFFF0     @     897   935U
 @R15          0 00000000 FFFFFFEF     @     910   931U
 @R2           0 00000000 FFFFFFFC     @     741   983U  5816U 13059U 13125U 13273U 13664U 14044U 14463U 14939U 15645U
                                                 16338U 16963U 17129U 17278U 17669U 18821U 19743U 19879U 19942U 20362U
                                                 20702U 20785U 22132U 22386U 22824U
 @R3           0 00000000 FFFFFFFB     @     754   979U  9432U 11248U 13659U 13807U 14015U 14039U 17664U 21178U
 @R4           0 00000000 FFFFFFFA     @     767   975U 11207U 21681U 22642U
 @R5           0 00000000 FFFFFFF9     @     780   971U
 @R6           0 00000000 FFFFFFF8     @     793   967U  5580U  6284U  7607U  8085U  8475U  8568U  8680U  9427U 10867U
                                                 12976U 13671U 18308U 18527U 18994U 19185U 19350U 19534U 20211U 20894U
                                                 21097U 22647U 22829U
 @R7           0 00000000 FFFFFFF7     @     806   963U  4976U  6289U  6486U  7612U  9020U  9040U  9422U 11541U 11821U
                                                 12262U 12874U 13566U 17864U 17884U 18816U 19950U
 @R8           0 00000000 FFFFFFF6     @     819   959U  4981U  5066U  5875U  5955U  6299U  6381U  6601U  6682U  7628U
                                                  7711U  7876U  7958U  8095U  8177U  8369U 21409U 21686U 21802U 22137U
 @R9           0 00000000 FFFFFFF5     @     832   955U  5870U  6294U  6596U  7623U  7871U  8090U  8364U
 @SDF1         1 00000009 FFFFFFBB     R    2822  2823
 @SENDTCP     25 00000000 FFFFFF94     J    4671 10317U 10325M 10325  10460M 10460  11306U 11314M 11314  12314U 12322M
                                                 12322  12427M 12427  12568M 12568  12656M 12656  16100U 16108M 16108
                                                 16524U 16532M 16532  17753U
 @SGECB        4 00000008 FFFFFFCB     A    2343  8528M 15577M 16265M 16679M 17110M 17263M 19519M
 @SIGNAL      20 00000000 FFFFFFCB     J    2356  8503U  8511M  8511  15552U 15560M 15560  16240U 16248M 16248  16654U
                                                 16662M 16662  17085U 17093M 17093  17238U 17246M 17246  19494U 19502M
                                                 19502
 @SNDFLGS      1 00000018 FFFFFF94     R    4658  4662
 @SNDHDR      20 00000004 FFFFFF94     C    4655 10330U 10465U 11320U 12328U 12433U 12574U 12662U 16113U 16537U 17922
                                                 17939  17975  17992  18611  18628
 @SNDSBUF    128 00000018 FFFFFF94         4662 10343M 11348M 16126M 18025  18647
 @SNDSOCK      4 00000000 FFFFFF94     A    4654 10354M 10483M 11342M 12346M 12451M 12596M 12684M 16137M 16555M 17760
 @SOCK         4 00000000 FFFFFF92     A    4712  9807M  9924M 10189M 10747M 10780M 10803M 10844M 10977  11921M 12936M
                                                 13109M 13205  13749  14387M 14549  14883M 14920M 15015  15503M 15622M
                                                 15721  16316M 16940M 17391  18898  19070  19261  20283
 @SOCKF        1 00000008 FFFFFF92     R    4716  4720
 @SOCKM31    128 00000008 FFFFFF92         4720 14382M 14578  15206  15830
 @SOCKP        9 00000000 FFFFFF92     J    4729  9798U  9806M  9806   9923M  9923  10178M 10178  10738U 10746M 10746
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  181
                                                 10779M 10779  10802M 10802  10843M 10843  10967U 10974U 11902U 11910M
                                                 11910  12917U 12925M 12925  13100U 13108M 13108  13200U 13744U 14352U
                                                 14360M 14360  14544U 14864U 14872M 14872  14919M 14919  15010U 15494U
                                                 15502M 15502  15603U 15611M 15611  15716U 16297U 16305M 16305  16409U
                                                 16414  16921U 16929M 16929  17034U 17039  17200U 17205  17386U 18893U
                                                 19065U 19256U 20278U
 @SUSPFLG      1 00000008 FFFFFFE4     R    1671  1675   1680   1685
 @SWFLG        1 00000004 FFFFFFBF     R    2685  2694   2704   2714
 @SYSPARS      4 00000000 FFFFFFD9     A    1960  8447U
 @SYSRASB      4 00000004 FFFFFFDA     A    1935  8309M
 @SYSRDEL      4 00000000 FFFFFFDB     J    1918  8548U  8556M  8556
 @SYSRDID      4 00000000 FFFFFFDB     A    1911  8557M
 @SYSRDO      28 00000000 FFFFFFDA     J    1944  8292U  8300M  8300
 @SYSRID       4 00000000 FFFFFFDA     A    1934  8308M
 @SYSRLOC      4 00000008 FFFFFFDA     A    1936  8310M
 @SYSRNEW      4 00000000 FFFFFFDC     J    1896  8231U  8239M  8239
 @SYSRPRM      4 0000000C FFFFFFDA     A    1937  8306U
 @SYSRTN      16 00000000 FFFFFFD9     J    1967  8437U
 @TCREATE     21 00000000 FFFFFFE0     J    1804 14798U 14806M 14806
 @TCRFLAG      1 00000014 FFFFFFE0     R    1786  1790   1795
 @TCRFSTK    128 00000014 FFFFFFE0         1790 14826M
 @TCRPARM      4 00000008 FFFFFFE0     A    1782 14820M
 @TCRPRIO      4 00000010 FFFFFFE0     A    1783 14809M
 @TCRPSW       8 00000000 FFFFFFE0     D    1781 14807M 14808M
 @TENTRY       8 00000000 FFFFFFDE     J    1850  9570U
 @TEPARM       4 00000000 FFFFFFDE     A    1843  9575
 @TOASC        8 00000000 FFFFFF8A     J   22939 15996U 16004M 16004  22980U
 @TOASLEN      4 00000004 FFFFFF8A     A   22932 16014M 22986
 @TOASLOC      4 00000000 FFFFFF8A     A   22931 16009M 22985
 @TOEBC        8 00000000 FFFFFF89     J   23085 17621U 17629M 17629  23126U
 @TOEBLEN      4 00000004 FFFFFF89     A   23078 17639M 23132
 @TOEBLOC      4 00000000 FFFFFF89     A   23077 17634M 23131
 @VALBFL       1 00000007 FFFFFF95     R    4629  4633
 @VALBKEY      1 00000006 FFFFFF95     X    4626 14682M 15309M 15934M 16822M 21177  21203
 @VALBLEN      2 00000004 FFFFFF95     H    4625 14664M 15291M 15916M 16804M 21171  21201
 @VALBLOC      4 00000000 FFFFFF95     A    4624 14654M 15281M 15906M 16794M 21170  21200
 @VALBUF       8 00000000 FFFFFF95     J    4642 14636U 14644M 14644  15263U 15271M 15271  15888U 15896M 15896  16776U
                                                 16784M 16784  21165U
 @VALBWRT    128 00000007 FFFFFF95         4633 15315M 16828M 21284
 @VMFLEN       4 00000004 FFFFFFC3     A    2577  5557M  9310M  9400M 13538M 20472M 20613M 20681M 20764M 20835M 22037M
 @VMFLOC       4 00000000 FFFFFFC3     A    2576  5568M  9320M  9410M 13548M 20477M 20618M 20691M 20774M 20846M 22047M
 @VMFPOOL      2 00000008 FFFFFFC3     H    2578  5569M  9321M  9411M 13549M 20478M 20619M 20692M 20775M 20847M 22048M
 @VMFREE      10 00000000 FFFFFFC3     J    2585  5532U  5540M  5540   9285U  9293M  9293   9383M  9383  13513U 13521M
                                                 13521  20447U 20455M 20455  20600U 20608M 20608  20676M 20676  20759M
                                                 20759  20818M 20818  22024U 22032M 22032
 @VMGET       11 00000000 FFFFFFC4     J    2564  4851U  4859M  4859   5111U  5119M  5119   5215M  5215   5637U  5645M
                                                  5645   6003U  6011M  6011   8910U  8918M  8918  19618U 19626M 19626
                                                 19765M 19765  19980U 19988M 19988  20071M 20071  21567U 21575M 21575
                                                 22561U 22569M 22569
 @VMGFLG       1 0000000A FFFFFFC4     R    2546  2550   2555
 @VMGLEN       4 00000000 FFFFFFC4     A    2541  4876M  5136M  5232M  5662M  6028M  8935M 19643M 19782M 20001M 20088M
                                                 21580M 22574M
 @VMGONEP     64 0000000A FFFFFFC4         2555  5669M  8942M 20095M
 @VMGPAGE    128 0000000A FFFFFFC4         2550 20008M
 @VMGPOOL      2 00000008 FFFFFFC4     H    2543  4877M  5137M  5233M  5663M  6029M  8936M 19644M 19783M 20002M 20089M
                                                 21581M 22575M
 @WSFLG        1 0000000C FFFFFFBD     R    2759  2763
 @XITDATA      4 00000000 FFFFFFAB     J    3370 19422U
 @XITDEL       4 00000000 FFFFFFB0     J    3125 20532U 20540M 20540  20556M 20556  20572M 20572
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  182
 @XITDID       4 00000000 FFFFFFB0     A    3118 20541M 20557M 20573M
 @XITDO       32 00000000 FFFFFFAF     J    3151 18925U 18933M 18933
 @XITDSA       4 00000000 FFFFFFAB     A    3363 19430
 @XITMREQ      1 00000004 FFFFFFAD     R    3196  3205   3215   3225
 @XITMSK       4 00000000 FFFFFFAD     A    3193  9657U  9665M  9665   9671U
 @XITNEW       1 00000000 FFFFFFB1     J    3102 20158U 20166M 20182M 20198M
 @XITNFL       1 00000000 FFFFFFB1     R    3089  3093
 @XITPARM     16 00000010 FFFFFFAF     X    3144 18942U
 @XITRQID      4 00000000 FFFFFFAF     A    3140 18934M
 @XITTSK       4 00000004 FFFFFFAF     A    3141 18935M
 @XITTYPE      1 00000008 FFFFFFAF     X    3142 18936M
 ACREATE       1 00000000 00000004     T    9471  9471
 ACTIOPST      2 00000F1C 00000001     H   10725  9883B  9980B 10011B 10037B 10131B 10204B 10235B 10284B 10383B 10418B
                                                 10518B 10711B
 ADDSEG        4 0000299E 00000001     I   20941  9490  20952U 23216
 ADDSEG17      2 00002992 00000001     H   20936 20935
 ANTIME17      2 0000244C 00000001     H   19224 19223
 ASB          68 00000000 FFFFFFEC     J    1466 13046U 19722U 20349U
 ASBGCFLG      1 00000014 FFFFFFEC     R    1436  1440
 ASBNET        4 00000040 FFFFFFEC     A    1457 13052  19731  19732M 20355
 ASCTBL       16 0000308E 00000001     X   22867 23006  23025
 ASLOCK        1 00000000 00000017     T   14105 14105  23208
 ASSYSTSK      1 00000000 00000006     T    9473  9473
 ASULOCK       1 00000000 00000018     T   14107 14107  23211
 ATTACH        4 0000190C 00000001     I   14517 14488  14528U
 ATTACH17      2 00001900 00000001     H   14512 14511
 ATTDONE       2 00001A12 00000001     H   14935 14903B
 ATTSPEC       2 000019FE 00000001     H   14910 14605B 14619B 14701B 14724B 14738B
 AWAIT         1 00000000 00000015     T   14082 14082
 BR           10 0000000A FFFFFFFF A   #    1136  4800M  4810U  5025M  5035U  5914M  5924U  6340M  6350U  6641M  6651U
                                                  7670M  7680U  7917M  7927U  8136M  8146U  8411M  8421U  8612M  8622U
                                                  9544M  9554U 10941M 10951U 13017M 13027U 13174M 13184U 13718M 13728U
                                                 14143M 14153U 14518M 14528U 14984M 14994U 15690M 15700U 16383M 16393U
                                                 17008M 17018U 17174M 17184U 17360M 17370U 17727M 17737U 18867M 18877U
                                                 19039M 19049U 19230M 19240U 19396M 19406U 19581M 19591U 20252M 20262U
                                                 20942M 20952U 21139M 21149U 21368M 21378U 21748M 21758U 22201M 22211U
                                                 22450M 22460U 22714M 22724U 22954M 22964U 23100M 23110U
 CANTIME       4 00002458 00000001     I   19229 14091  19240U
 CHEKNBUF      4 00002D30 00000001     I   22200 22211U
 CLOSED      128 00000020 FFFFFF99         4188  5831
 CNTLDONE      2 00001EC8 00000001     H   16959 16688B 16847B 16952B
 CNTLPOST      2 00001EAE 00000001     H   16910 16447B 16507B 16590B 16611B 16695B 16888B 16895B
 CNTLSPEC      4 00001EC4 00000001     I   16955 16757B 16904B
 CONTROL       4 00001D6E 00000001     I   16382 14491  16393U
 DELNPCB       4 000008D4 00000001     I    8611  6588   8622U 14104
 DELNSQE       4 000013FA 00000001     I   13173 12944  13117  13184U
 DELSOCK       4 0000276E 00000001     I   20251 14093  17319  20262U
 DETACH        4 00001F2E 00000001     I   17173 14493  17184U
 DETACH17      2 00001F22 00000001     H   17168 17167
 DISPSHLD      1 00000000 00000005     T    9472  9472
 DOHALT       64 00000080 FFFFFF98         4277  9849   9861M 17074M
 DOSABRT       2 000012CC 00000001     H   12557 11282
 DOSCLSD       2 00001372 00000001     H   12888 11285
 DOSDATA       1 00000000 FFFFFF8F     J   10926 10974U
 DOSDONE       2 000012FA 00000001     H   12645 11283
 DOSDTRN       2 00001162 00000001     H   11834 11281
 DOSFLAG       1 00000000 FFFFFF8F     R   10913 10917
 DOSHEAD       2 00000FA2 00000001     H   10992 12964B
 DOSINIT       2 00001044 00000001     H   11296 11278
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  183
 DOSOSNT       2 00001072 00000001     H   11392 11279
 DOSTAIL       2 0000138C 00000001     H   12953 11380B 11545B 11825B 12189B 12547B 12635B 12723B 12878B
 DOSTATE       4 00000F8A 00000001     I   10940  9815  10951U
 DOSWCLS       2 00001328 00000001     H   12733 11284
 DOSWCON       2 000010C2 00000001     H   11555 11280
 DOTIME        4 000023C6 00000001     I   19038 14083  19049U
 DOTIME17      2 000023BA 00000001     H   19033 19032
 DSFDONE     128 00000000 FFFFFF8F        10917 11264M 11535M 11815M 12148M 12256M 12542M 12630M 12718M 12868M 12961
 EBCTBL       16 0000318E 00000001     X   22890 23152  23171
 EELBUF17      2 00002EBE 00000001     H   22708 22707
 EENBUF17      2 00002BD6 00000001     H   21742 21741
 EKNBUF17      2 00002D24 00000001     H   22195 22194
 ELNPCB17      2 000008C8 00000001     H    8606  8605
 ELNSQE17      2 000013EE 00000001     H   13168 13167
 ELSOCK17      2 00002762 00000001     H   20246 20245
 ENDTCP17      2 000020E0 00000001     H   17721 17720
 EPAR         15 0000000F FFFFFFFF A   #    1196  4800   4880M  4881B  4934M  4935B  4967M  4968B  5025   5086M  5087B
                                                  5090M  5091B  5140M  5141B  5236M  5237B  5572M  5573B  5614M  5615B
                                                  5672M  5673B  5685M  5686B  5706M  5707B  5731M  5732B  5760M  5761B
                                                  5844M  5845B  5853M  5854B  5914   6032M  6033B  6197M  6198B  6260M
                                                  6261B  6276M  6277B  6340   6456M  6457B  6528M  6529B  6553M  6554B
                                                  6588M  6589B  6641   6737M  6738B  6796M  6797B  6890M  6891B  6977M
                                                  6978B  7029M  7030B  7101M  7102B  7180M  7181B  7219M  7220B  7331M
                                                  7332B  7355M  7356B  7421M  7422B  7439M  7440B  7596M  7597B  7670
                                                  7759M  7760B  7834M  7835B  7863M  7864B  7917   8076M  8077B  8136
                                                  8242M  8243B  8315M  8316B  8411   8531M  8532B  8560M  8561B  8612
                                                  8754M  8755B  8798M  8799B  8886M  8887B  8945M  8946B  9077M  9078B
                                                  9132M  9133B  9180M  9181B  9237M  9238B  9263M  9264B  9324M  9325B
                                                  9414M  9415B  9544   9640M  9641B  9687M  9688B  9766M  9767B  9815M
                                                  9816B  9930M  9931B 10195M 10196B 10360M 10361B 10489M 10490B 10786M
                                                 10787B 10809M 10810B 10850M 10851B 10854M 10855B 10941  11354M 11355B
                                                 11527M 11528B 11807M 11808B 11938M 11939B 12187M 12188B 12248M 12249B
                                                 12352M 12353B 12457M 12458B 12602M 12603B 12690M 12691B 12860M 12861B
                                                 12944M 12945B 13017  13117M 13118B 13174  13324M 13325B 13402M 13403B
                                                 13487M 13488B 13552M 13553B 13593M 13594B 13612M 13613B 13651M 13652B
                                                 13718  13786M 13787B 13852M 13853B 14001M 14002B 14022M 14023B 14143
                                                 14199M 14200B 14452M 14453B 14518  14688M 14689B 14829M 14830B 14889M
                                                 14890B 14926M 14927B 14984  15321M 15322B 15509M 15510B 15580M 15581B
                                                 15628M 15629B 15690  15940M 15941B 16020M 16021B 16143M 16144B 16268M
                                                 16269B 16322M 16323B 16383  16561M 16562B 16682M 16683B 16834M 16835B
                                                 16946M 16947B 17008  17113M 17114B 17174  17266M 17267B 17360  17417M
                                                 17418B 17522M 17523B 17645M 17646B 17656M 17657B 17727  17828M 17829B
                                                 17947M 17948B 18014M 18015B 18065M 18066B 18108M 18109B 18166M 18167B
                                                 18262M 18263B 18345M 18346B 18438M 18439B 18520M 18521B 18586M 18587B
                                                 18636M 18637B 18677M 18678B 18707M 18708B 18867  18950M 18951B 19039
                                                 19134M 19135B 19230  19299M 19300B 19396  19522M 19523B 19526M 19527B
                                                 19581  19647M 19648B 19729M 19730B 19735M 19736B 19786M 19787B 19917M
                                                 19918B 19934M 19935B 20011M 20012B 20098M 20099B 20169M 20170B 20185M
                                                 20186B 20201M 20202B 20252  20481M 20482B 20544M 20545B 20560M 20561B
                                                 20576M 20577B 20622M 20623B 20695M 20696B 20778M 20779B 20850M 20851B
                                                 20942  21139  21206M 21207B 21368  21584M 21585B 21748  22051M 22052B
                                                 22201  22450  22578M 22579B 22714  22954  23100
 ETLBUF17      2 00002E12 00000001     H   22444 22443
 ETNBUF17      2 00002AEC 00000001     H   21362 21361
 ETOPEN17      2 0000029A 00000001     H    5908  5907
 ETREAD17      2 0000046E 00000001     H    6635  6634
 ETSYSR17      2 00000870 00000001     H    8405  8404
 ETWAKE17      2 0000079E 00000001     H    8130  8129
 EWSOCK17      2 0000251A 00000001     H   19575 19574
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  184
 EXRADD        1 00000000 00000013     T   14080 14080
 EXRDONE       1 00000000 0000001D     T   23230 23230
 FREELBUF      4 00002ECA 00000001     I   22713 22724U 23209
 FREENBUF      4 00002BE2 00000001     I   21747  9493  14095  21758U
 FULLQE       64 00000020 FFFFFF99         4193  5746   7767M
 GETLBUF       4 00002E1E 00000001     I   22449 14106  22460U
 GETNBUF       4 00002AF8 00000001     I   21367  9487  21378U
 GNCT         42 00000000 FFFFFF9E     J    4004  4871   4892U  4902M  4902   4903M  5077U  5966U  6392U  6693U  7722U
                                                  7969U  8188U  8691U 13284U 18319U 19890U 21420U 21813U
 GNCTASB       4 00000004 FFFFFF9E     A    3983  4969M
 GNCTBFC       4 00000020 FFFFFF9E     A    3995 21503  21513M 21924  21962  21970M
 GNCTBFL       4 00000018 FFFFFF9E     A    3993 21427  21466M 21930  21939M
 GNCTBSIZ      2 00000028 FFFFFF9E     H    3997  5194M  5502   5504   5505M 21580  21669  22037
 GNCTBTC       4 00000024 FFFFFF9E     A    3996 21626  21634M 21911  22092  22102M
 GNCTLOCK      4 00000008 FFFFFF9E     A    3984  4936M  6257   6273   6453   6550   7216   7352   7436   7756   7860
                                                  8751   8795   8883  13321  13399  13590  13609  18342  18517  19914
                                                 19931
 GNCTNETC      4 0000000C FFFFFF9E     A    3985  5164M  5970   6396   6697   7726   7973   8192
 GNCTNPCB      4 00000014 FFFFFF9E     A    3987  5788   6262   6263M  6458   6580   6917   8041   8810  19919
 GNCTNSQE      4 00000010 FFFFFF9E     A    3986  6491   7771  13326  19920  19921M
 HALT          4 00001EDE 00000001     I   17007 14492  17018U
 HALT17        2 00001ED2 00000001     H   17002 17001
 HIBAL         1 00000000 FFFFFFFF     J     700   716    729    742    755    768    781    794    807    820    833
                                                   846    859    872    885    898    911   1012   1024   1036   1048
                                                  1060   1072   1084   1096   1108   1120   1132   1144   1156   1168
                                                  1180   1192   1204
 IDLE          0 000000A4 FFFFFF98         4462  9831  10753M 17063
 IODONE        4 0000232A 00000001     I   18866 14092  17318  18877U
 IODONE17      2 0000231E 00000001     H   18861 18860
 IOSDOIO       1 00000000 00000009     T    9484  9484  23217
 IOSIDFRE      1 00000000 00000012     T    9505  9505  23222
 IOSIDGET      1 00000000 00000008     T    9480  9480  23213
 LBCHAIN       4 00000004 FFFFFF97     A    4579 13886M 13886  13893  14003M 17496  20658  20741  22526  22816M
 LBCNT         2 0000000C FFFFFF97     H    4582 13916  13951  13953M 17458  17543M
 LBDATA        1 0000000E FFFFFF97     X    4583 13957  17457
 LBDLEN        2 00000008 FFFFFF97     H    4580 13931  13940  22634M
 LBOFF         2 0000000A FFFFFF97     H    4581 13915  17456  17545  17547M
 LBUF         14 00000000 FFFFFF97     J    4590 13810U 17431U 20653U 20736U 22508U 22630M 22630  22631M 22769U 22784
                                                 22812M 23255
 LKCRE         1 00000000 00000003     T    9468  9468
 LKOB          1 00000000 0000000A     T    9485  9485  14101  23219
 LKREL         1 00000000 0000000B     T    9486  9486  14102  23220
 MAT         256 00000000 FFFFFFED     J    1408  4828U  5053U  5178U  5942U  6368U  6669U  6960U  7698U  7945U  8164U
                                                  8667U 13260U 18295U 19866U 21396U 21789U
 MATGNCT       4 0000003C FFFFFFED     A    1374  4937M  5059   5948   6374   6675   7704   7951   8170   8673  13266
                                                 18301  19872  21402  21795
 MATPTR        4 00000200 FFFFFFED A   A    1355  4818   5043  21386  21779
 MATSKEY       1 000000E0 FFFFFFED     X    1388  4963   6966
 MATSNAME      8 000000D4 FFFFFFED     C    1386  5183
 MITMK1        1 00000000 FFFFFFAC     R    3269  3273   3278   3283   3288   3293   3298   3303   3308
 MITMK2        1 00000001 FFFFFFAC     R    3314  3318   3323   3328
 MLOOP         2 00000CDA 00000001     H    9703 10860B
 MOVEIN        4 00001524 00000001     I   13717 13728U 14100
 MOVEIN17      2 00001518 00000001     H   13712 13711
 MOVEOUT       4 00002006 00000001     I   17359 14087  17324  17370U
 M1NET         4 000017D8 00000001     I   14142 14137  14153U
 NBUF         16 00000000 FFFFFF9B     J    4125  6749U 11177U 11236  11416U 11579U 11858U 12757U 13435U 13773U 14034U
                                                 21437U 21667M 21667  21668M 21827U 21842  21907M 22242U 22257  22348
                                                 23254
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  185
 NBUFDATA      8 00000010 FFFFFF9B     D    4118  6783   6863   7016   7119U  7151   7226U 11426U 11478U 11589U 11868U
                                                 12767U 13778  21672  21871  22286
 NBUFLEN       2 0000000A FFFFFF9B     H    4117  7110M 11608  11702  12082  13779
 NBUFMAXL      2 00000008 FFFFFF9B     H    4116  6793   6873   7026  21671M 21870  22285
 NBUFNEXT      4 00000004 FFFFFF9B     A    4115  7374M 11181  11182M 11236  11420  11583  11862  12761  13441  21464
                                                 21937M 22322
 NETCANAM      8 0000000C FFFFFF99     C    4172  5192M  5292   5321M  5352M  6140   9476
 NETCB        33 00000000 FFFFFF99     J    4217  5131   5152U  5162M  5162   5163M  5980U  6406U  6707U  7736U  7983U
                                                  8202U
 NETCFLG       1 00000020 FFFFFF99     R    4184  4188   4193   4198   4203   4208   8078M
 NETCIOCB      4 0000001C FFFFFF99     A    4178  5616M  6188   6942   8066
 NETCIOPA      4 00000018 FFFFFF99     A    4177  5674M  6103   6801   7990
 NETCLOSE      4 000003EC 00000001     I    6339  5844   6350U
 NETCONAM      8 00000004 FFFFFF99     C    4171  5183M  6139
 NETCPASS      4 00000014 FFFFFF99     C    4173  5193M  5388   5417M  5448M  6141
 NETFQE        4 000006C2 00000001     I    7669  5760   7680U
 NETFQE17      2 000006B6 00000001     H    7664  7663
 NETINIT       4 00000022 00000001     I    4799  4794   4810U
 NETLOCAL      4 00000C8A 00000001     I    9543  9554U 17314
 NETLOGOF      4 000013AA 00000001     I   13016 13011  13027U
 NETNOTFY      4 0000073C 00000001     I    7916  5706   7927U
 NETOPEN       4 000002A6 00000001     I    5913  5685   5853   5924U
 NETREAD       4 0000047A 00000001     I    6640  5731   6651U
 NETSYSR       4 0000087C 00000001     I    8410  8421U  9500
 NETWAKE       4 000007AA 00000001     I    8135  6528   7421   8146U  9497
 NETWORK       1 00000000 00000001     J    1219  1216   1217   1221   1327   1409   1467   1501   1528   1557   1580
                                                  1603   1632   1651   1695   1720   1743   1766   1805   1828   1851
                                                  1874   1897   1919   1945   1968   1991   2014   2040   2075   2094
                                                  2139   2159   2179   2206   2225   2257   2292   2326   2357   2398
                                                  2423   2448   2473   2498   2523   2565   2586   2607   2637   2661
                                                  2724   2743   2773   2806   2833   2853   2873   2895   2916   2935
                                                  2955   3003   3026   3072   3103   3126   3152   3178   3235   3348
                                                  3371   3397   3426   3490   3606   3636   3686   3714   3737   3760
                                                  3801   3826   3849   4005   4051   4098   4126   4152   4218   4560
                                                  4591   4613   4643   4672   4698   4730   4752   4775   5358   5454
                                                  6432
 NETWORKT      4 000000B4 00000001     I    5024  5035U  9470
 NETW00        1 00000000 00000001     R    1228  1226
 NEWINFO      32 00000020 FFFFFF99         4198  5717   6717M
 NEWSOCK       4 00002526 00000001     I   19580 14199  19591U
 NIOUT        12 0000001C FFFFFF93     C    4690  5285   5381
 NIPARMS      40 00000000 FFFFFF93     J    4697  5227   5248U  5266M  5266   5552
 NITYPE        4 00000000 FFFFFF93     X    4686  5258U
 NPCB         17 00000000 FFFFFF9D     J    4050  5798U  6023   6080U  6090M  6090   6091M  6468U  6927U  8051U  8653U
                                                  8706   8867   9365M  9395  11040U 13298U 18227U 18403U
 NPCBCLSD     64 00000010 FFFFFF9D         4041  6479M  8780  11054
 NPCBFLGS      1 00000010 FFFFFF9D     R    4032  4036   4041
 NPCBNEXT      4 00000004 FFFFFF9D     A    4027  6262M  8867   8873
 NPCBOPEN    128 00000010 FFFFFF9D         4036  5809M 11080
 NPCBPATH      4 00000008 FFFFFF9D     A    4028  6099M  6183   6933   8057   9159  18233  18409
 NPCBREF       4 0000000C FFFFFF9D     A    4029  8768M  8768  13597  13599M
 NSPARM        8 00000000 FFFFFF90     J    4774  8306U  8447U
 NSPNSQE       4 00000004 FFFFFF90     A    4767  8312M  8452
 NSPSYSR       4 00000000 FFFFFF90     A    4766  8311M  8557
 NSQE         25 00000000 FFFFFF9C     J    4097  6517U  7245U  7276   7797U  8215U  8462U 11023U 13246U 13383  13533
                                                 18203U 18379U 18468U 19777  19838U 19849M 19849  19850M
 NSQEASB       4 00000010 FFFFFF9C     A    4075  8309  19851M
 NSQEFLGS      1 00000018 FFFFFF9C     R    4079  4083   4088
 NSQEFQE      64 00000018 FFFFFF9C         4088  7828M 18485M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  186
 NSQEFULQ    128 00000018 FFFFFF9C         4083  7810   7822M 18478M
 NSQENBUF      4 0000000C FFFFFF9C     A    4074  7367   7375M 11117  11137M 13419  13441M
 NSQENEXT      4 00000004 FFFFFF9C     A    4072  6530   7840  13383  13389  19920M
 NSQENPCB      4 00000008 FFFFFF9C     A    4073 11030  13288  18209  18385  19919M
 NSQESOCK      4 00000014 FFFFFF9C     A    4076  8468  19852M
 NTTAB         4 000018E4 00000001     A   14487 14452  14494
 ONTROL17      2 00001D62 00000001     H   16377 16376
 OPENED        8 00000020 FFFFFF99         4208  5775   5787M
 OSTATE17      2 00000F7E 00000001     H   10935 10934
 OVEOUT17      2 00001FFA 00000001     H   17354 17353
 PAGFIX        1 00000000 0000000C     T    9488  9488  23215
 PAGTPROT      1 00000000 00000020     T   23240 23240
 PAGUFIX       1 00000000 0000000D     T    9491  9491  23221
 PARMFINT      4 00000000 FFFFFFA8         3458  5469M
 PARMFSTR      0 00000000 FFFFFFA8         3448  5276M  5373M
 PARMIN        4 00000000 FFFFFFA8     J    3489  4686   5258U  5299   5306   5395   5402   5477   5484
 PARMKEYS      4 00000004 FFFFFFA8     A    3482  5277M  5278M  5374M  5470M
 PARMTYPE      1 00000000 FFFFFFA8     R    3439  3448   3458   3468   3478
 PTTIMEX       4 000024D2 00000001     I   19395 14079  19406U
 PZABORT     128 0000021A FFFFFFEE         1307  6058M  6223M  7491M  7530M  8268M  8341M  8722M  8855M  8971M  9350M
                                                 13371M 14264M 14435M 18802M 18976M 19160M 19325M 19673M 19812M 20037M
                                                 20124M 20324M 20408M 20507M 20876M 21040M 21610M 21858M 21895M 22077M
                                                 22273M 22310M 22364M 22604M 22800M
 PZABR15       4 0000021C FFFFFFEE     A    1316  6059M  6224M  7492M  7531M  8269M  8342M  8723M  8856M  8972M  9351M
                                                 13372M 14265M 14436M 18803M 18977M 19161M 19326M 19674M 19813M 20038M
                                                 20125M 20325M 20409M 20508M 20877M 21041M 21611M 21859M 21896M 22078M
                                                 22274M 22311M 22365M 22605M 22801M
 PZABSM        1 0000021B FFFFFFEE     X    1315  6052M  6217M  7485M  7524M  8262M  8335M  8716M  8849M  8965M  9344M
                                                 13365M 14258M 14429M 18796M 18970M 19154M 19319M 19667M 19806M 20031M
                                                 20118M 20318M 20402M 20501M 20870M 21034M 21604M 21852M 21889M 22071M
                                                 22267M 22304M 22358M 22598M 22794M
 PZCURASB      4 00000208 FFFFFFEE     A    1292 13036  19712  19851  20339
 PZCURPID      8 00000208 FFFFFFEE     D    1291  6167   6916   8040   9158  18192  18368
 PZCURTSK      4 0000020C FFFFFFEE     A    1293 19711
 PZERO       640 00000000 FFFFFFEE     J    1326  1337U 14677U 15304U 15929U 16817U
 PZLCPUA       4 00000210 FFFFFFEE     A    1294  6060   6225   7493   7532   8270   8343   8724   8857   8973   9352
                                                 13373  14266  14437  18804  18978  19162  19327  19675  19814  20039
                                                 20126  20326  20410  20509  20878  21042  21612  21860  21897  22079
                                                 22275  22312  22366  22606  22802
 PZMATP        4 00000200 FFFFFFEE     A    1289  5168   5932   6358   6659   6950   7688   7935   8154   8657  13250
                                                 18285  19856
 PZTERMFL      1 0000021A FFFFFFEE     R    1303  1307   1312
 RA            2 00000002 FFFFFFFF A   #    1028  5285M  5292M  5309   5381M  5388M  5405   5487   5502   5504M  5505
                                                  5788M  5798U  6982M  7042   7367M  7374   7375M  7407M  7407   7475
                                                  7514  13036M 13046U 13052M 13071M 13071  13087U 13109  13119M 13250M
                                                 13260U 13266M 13284U 13749M 13759U 13846  13995  14201M 14202  14219M
                                                 14233U 14387  14549M 14559U 14920  15015M 15025U 15503  15721M 15731U
                                                 16414M 16424U 17039M 17049U 17205M 17215U 17391M 17401U 17515  17760M
                                                 17770U 19712M 19722U 19856M 19866U 19872M 19890U 20136M 20144  20339M
                                                 20349U 20355M 20385M 20386M 20386  20420M 20420  20426  20627M 20638M
                                                 20638  20653U 20657  20658M 20710M 20721M 20721  20736U 20740  20741M
                                                 20993M 21056  21059  21070M 21464M 21466  21503M 21510  21513M 21626M
                                                 21634M 21817M 21827U 21939  22232M 22242U 22322M 22331M 22331  22759M
                                                 22769U 22817  22985M 23008M 23131M 23154M
 RAR          14 0000000E FFFFFFFF A   #    1184  4881M  4935M  4968M  4991B  5087M  5091M  5141M  5237M  5573M  5615M
                                                  5673M  5686M  5707M  5732M  5761M  5845M  5854M  5885B  6033M  6198M
                                                  6261M  6277M  6309B  6457M  6529M  6554M  6589M  6611B  6738M  6797M
                                                  6891M  6978M  7030M  7102M  7181M  7220M  7332M  7356M  7422M  7440M
                                                  7597M  7638B  7760M  7835M  7864M  7886B  8077M  8105B  8243M  8316M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  187
                                                  8379B  8532M  8561M  8583B  8755M  8799M  8887M  8946M  9078M  9133M
                                                  9181M  9238M  9264M  9325M  9415M  9447B  9641M  9688M  9767M  9816M
                                                  9931M 10196M 10361M 10490M 10787M 10810M 10851M 10855M 10882B 11355M
                                                 11528M 11808M 11939M 12188M 12249M 12353M 12458M 12603M 12691M 12861M
                                                 12945M 12991B 13118M 13141B 13325M 13403M 13488M 13553M 13594M 13613M
                                                 13652M 13686B 13787M 13853M 14002M 14023M 14059B 14200M 14453M 14478B
                                                 14689M 14830M 14890M 14927M 14954B 15322M 15510M 15581M 15629M 15660B
                                                 15941M 16021M 16144M 16269M 16323M 16353B 16562M 16683M 16835M 16947M
                                                 16978B 17114M 17144B 17267M 17293B 17418M 17523M 17646M 17657M 17684B
                                                 17829M 17948M 18015M 18066M 18109M 18167M 18263M 18346M 18439M 18521M
                                                 18587M 18637M 18678M 18708M 18836B 18951M 19009B 19135M 19200B 19300M
                                                 19365B 19523M 19527M 19549B 19648M 19730M 19736M 19787M 19918M 19935M
                                                 20012M 20099M 20170M 20186M 20202M 20221B 20482M 20545M 20561M 20577M
                                                 20623M 20696M 20779M 20851M 20909B 21112B 21207M 21332B 21585M 21696B
                                                 22052M 22152B 22401B 22579M 22662B 22844B 23053B 23199B
 RB            3 00000003 FFFFFFFF A   #    1040  5324   5336M  5343M  5345   5420   5432M  5439M  5441   8643M  8653U
                                                  8824  11001M 11002M 11002  11023U 13288M 13298U 13763M 13773U 13797M
                                                 13810U 13822M 13822  13854M 13855  13893M 14004M 17431U 17449M 17450M
                                                 17450  17516  18264M 18276  18440M 18452  18723  18752  18778  20994M
                                                 21009M 21009  21063  21065  21071M 21177M 21465M 21510M 21512M 21513
                                                 21633M 21634  21938M 21969M 21970  22099M 22101M 22102
 READ          4 00001A28 00000001     I   14983 14489  14994U
 READDONE      2 00001BB4 00000001     H   15641 15334B 15586B 15634B
 READPOST      2 00001B9A 00000001     H   15592 15048B 15070B 15119B 15147B 15518B
 READSPEC      4 00001BB0 00000001     I   15637 15232B 15246B 15357B 15371B 15416B 15430B
 READ17        2 00001A1C 00000001     H   14978 14977
 RERUN         4 00000080 FFFFFF98         4297  9701M  9713   9778M 10615M 10655M
 RJ            4 00000004 FFFFFFFF A   #    1052  5299M  5306M  5309   5395M  5402M  5405   5477M  5484M  5487  11117M
                                                 11118M 11118  11137M 11177U 11200  11201M 11242  13915M 13916M 13931
                                                 13941  13957M 13957  13958M 17456M 17457M 17457  17492M 17564M 20990M
                                                 20991M 20992M 20992  21072M 21082M 21083M 21084  21170M 21427M 21437U
                                                 21455M 21455  21466M 21497M 21497  21622M 21674  21930M 21937  21939M
                                                 22498M 22508U 22520M 22520  22616M 22635
 RK            5 00000005 FFFFFFFF A   #    1064  9079M  9160   9260  11130M 11130  11137  11182  11200M 11217M 11236M
                                                 13940M 13941M 13945  13947M 13952  17421M 17471  17542  17546  17552
                                                 17558  17563  17582M 17582  17830M 18242  18418  18704  21171M 21427M
                                                 21930M 21938
 RM            8 00000008 FFFFFFFF A   #    1100  4818M  4828U  5043M  5053U  5059M  5077U  5932M  5942U  5948M  5966U
                                                  6358M  6368U  6374M  6392U  6418   6426   6659M  6669U  6675M  6693U
                                                  7688M  7698U  7704M  7722U  7935M  7945U  7951M  7969U  8154M  8164U
                                                  8170M  8188U 21386M 21396U 21402M 21420U 21779M 21789U 21795M 21813U
 RN            9 00000009 FFFFFFFF A   #    1112  5142M  5152U  5164   5970M  5980U  6396M  6406U  6418   6426   6697M
                                                  6707U  7726M  7736U  7973M  7983U  8192M  8202U
 RS            1 00000001 FFFFFFFF A   #    1016  5168M  5178U  6095M  6098   6099   6491M  6502M  6502   6517U  6530M
                                                  6917M  6927U  6950M  6960U  7048M  7057M  7057   7110   7232M  7245U
                                                  7262M  7262   7771M  7782M  7782   7797U  7840M  8041M  8051U  8215U
                                                  8312   8810M  8832M  8833M  8833   8867M  8867   8873  11030M 11040U
                                                 11181M 11191M 11191  11201  11229M 11230M 11230  11236  11272M 11274M
                                                 11275M 11275  11276B 11608M 11609M 11612  11624M 11631M 11633  11702M
                                                 11703M 11706  11718M 11723  11726M 11728  12082M 12083M 12086  12098M
                                                 12103  12106M 12108  12284M 12296  12399M 12411  13326M 13348M 13349M
                                                 13349  13383M 13383  13389  13419M 13420M 13420  13435U 13597M 13598M
                                                 13599  13791M 13792M 13793  13951M 13952M 13953  14393M 14405M 14405
                                                 14419  14452  17480M 17481M 17482  17486M 17487M 17488  17545M 17546M
                                                 17547  17551M 17552M 17553  17557M 17558M 17559  18193M 18203U 18209M
                                                 18227U 18369M 18379U 18385M 18403U 18458M 18468U 18912M 19430M 19440U
                                                 20657M 20740M 21018M 21052  21056M 21057M 21058M 21059M 21063  21065M
                                                 21066  21070  21071  21081M 21082  21088M 21089M 21090  21201M 21202
                                                 21669M 21670M 21671  21672M 21672  21870M 21871M 21871  21911M 21912M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  188
                                                 21924  21962M 21970M 22092M 22099  22102M 22285M 22286M 22286  22632M
                                                 22633M 22634  22986M 23000  23007M 23016M 23018  23132M 23146  23153M
                                                 23162M 23164
 RTCAN         1 00000000 0000001C     T   23228 23228
 RTSET         1 00000000 0000001B     T   23227 23227
 RVR           0 00000000 FFFFFFFF A   #    1004  4871M  4882   4936   4969   5131M  5142   5227M  5238   5552M  5616
                                                  5657M  5674   6023M  6042M  6042   6070   6207M  6207   6739   6783M
                                                  6863M  6982   7016M  8078   8252M  8252   8308   8311   8325M  8325
                                                  8523M  8930M  8955M  8955   8983   9079   9124M  9229M  9305M  9334M
                                                  9334   9395M  9752M 10370M 10370  10499M 10499  11364M 11364  12362M
                                                 12362  12467M 12467  12612M 12612  12700M 12700  13533M 13854  14003
                                                 14004  14201  14676M 14698M 14698  14902M 14902  14928M 15303M 15331M
                                                 15331  15572M 15585M 15585  15633M 15633  15637M 15928M 15950M 15950
                                                 16153M 16153  16180M 16180  16260M 16273M 16273  16327M 16327  16330M
                                                 16571M 16571  16604M 16604  16674M 16687M 16687  16816M 16844M 16844
                                                 16951M 16951  16955M 17105M 17122M 17122  17258M 17271M 17271  17791M
                                                 17830  17922M 17939M 17975M 17992M 18158M 18264  18440  18578M 18611M
                                                 18628M 18732M 18732  18758M 18784M 18960M 18960  19144M 19144  19172
                                                 19309M 19309  19514M 19638M 19657M 19657  19685  19777M 19796M 19796
                                                 19824  19996M 20021M 20021  20049  20083M 20108M 20108  20136  20171
                                                 20187  20203  20204M 20467M 20491M 20491  20830M 20860M 20860  21216M
                                                 21216  21236  21242M 21261  21267M 21291M 21311M 21311  21594M 21594
                                                 21622  21674M 22061M 22061  22588M 22588  22616  22635M 23036M 23036
                                                 23182M 23182
 RX            6 00000006 FFFFFFFF A   #    1076  5238M  5248U  6103M  6113U  6801M  6811U  6943   7990M  8000U  8067
                                                  8452M  8462U  8468M  8486U  8657M  8667U  8673M  8691U  9575M  9585U
                                                  9612   9807   9924  10747  10780  10803  10844  10977M 10987U 13205M
                                                 13215U 13778M 13958M 14589M 14590  14747M 14747  14748M 14749M 14750
                                                 15174M 15175M 15175  15181M 15181  15182  15196M 15212M 15217  15380M
                                                 15380  15381M 15382M 15383  15799M 15800M 15800  15806M 15806  15807
                                                 15841M 15842  15982M 16066M 16066  16067M 16068M 16069  16460M 16476
                                                 16715  16743M 16744M 17420M 17492M 17564M 18285M 18295U 18301M 18319U
                                                 18898M 18908U 19070M 19080U 19261M 19271U 19446M 19464U 19685M 19695U
                                                 19732  19852  20283M 20293U 20377  20973M 20983U 22481M 22491U 22745M
                                                 22755U
 RY            7 00000007 FFFFFFFF A   #    1088  4882M  4892U  4937   6070M  6080U  6263   6458M  6468U  6739M  6749U
                                                  7375   8983M  9000U  9023U 11265M 11401M 11401  11416U 11564M 11564
                                                 11579U 11843M 11843  11858U 12742M 12742  12757U 13221M 13222M 13222
                                                 13246U 13340  13779M 13780M 13792  13945  13947  13975M 13975  14591M
                                                 14602M 14602  14616  14625  14710M 14721M 14721  14735  14750  15218M
                                                 15229M 15229  15243  15252  15343M 15354M 15354  15368  15383  15387M
                                                 15413M 15413  15427  15455M 15455  15460  15476  15843M 15854M 15854
                                                 15868  15877  15981  16029M 16040M 16040  16054  16069  16745M 16754M
                                                 16754  16859  16861M 16864M 16866  17458M 17471  17481  17487  17542M
                                                 17543  17563M 17834M 17844U 17867U 19824M 19825  19838U 19921
 R0            0 00000000 FFFFFFFF A   #     708  1337U  4799   5024   5913   6339   6640   7669   7916   8135   8410
                                                  8611   9543  10940  13016  13173  13717  14142  14517  14983  15689
                                                 16382  17007  17173  17359  17726  18866  19038  19229  19395  19580
                                                 20251  20941  21138  21367  21747  22200  22449  22713  22953  23099
 R1            1 00000001 FFFFFFFF A   #     721  4989M  5883M  6307M  6609M  7636M  7884M  8103M  8377M  8581M  9445M
                                                 10880M 12989M 13139M 13684M 14057M 14476M 14952M 15658M 16351M 16976M
                                                 17142M 17291M 17682M 18834M 19007M 19198M 19363M 19547M 20219M 20907M
                                                 21110M 21330M 21694M 22150M 22399M 22660M 22842M 23051M 23197M
 R14          14 0000000E FFFFFFFF A   #     890 15979M 15980  15982M
 R15          15 0000000F FFFFFFFF A   #     903  4799   4989M  5024   5883M  5913   6059   6060M  6061M  6062M  6063M
                                                  6064M  6064   6224   6225M  6226M  6227M  6228M  6229M  6229   6307M
                                                  6339   6609M  6640   7492   7493M  7494M  7495M  7496M  7497M  7497
                                                  7531   7532M  7533M  7534M  7535M  7536M  7536   7636M  7669   7884M
                                                  7916   8103M  8135   8269   8270M  8271M  8272M  8273M  8274M  8274
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  189
                                                  8342   8343M  8344M  8345M  8346M  8347M  8347   8377M  8410   8581M
                                                  8611   8723   8724M  8725M  8726M  8727M  8728M  8728   8856   8857M
                                                  8858M  8859M  8860M  8861M  8861   8972   8973M  8974M  8975M  8976M
                                                  8977M  8977   9351   9352M  9353M  9354M  9355M  9356M  9356   9445M
                                                  9543  10880M 10940  12989M 13016  13139M 13173  13372  13373M 13374M
                                                 13375M 13376M 13377M 13377  13684M 13717  14057M 14142  14265  14266M
                                                 14267M 14268M 14269M 14270M 14270  14436  14437M 14438M 14439M 14440M
                                                 14441M 14441  14476M 14517  14952M 14983  15658M 15689  15981M 16351M
                                                 16382  16976M 17007  17142M 17173  17291M 17359  17682M 17726  18803
                                                 18804M 18805M 18806M 18807M 18808M 18808  18834M 18866  18977  18978M
                                                 18979M 18980M 18981M 18982M 18982  19007M 19038  19161  19162M 19163M
                                                 19164M 19165M 19166M 19166  19198M 19229  19326  19327M 19328M 19329M
                                                 19330M 19331M 19331  19363M 19395  19547M 19580  19674  19675M 19676M
                                                 19677M 19678M 19679M 19679  19813  19814M 19815M 19816M 19817M 19818M
                                                 19818  20038  20039M 20040M 20041M 20042M 20043M 20043  20125  20126M
                                                 20127M 20128M 20129M 20130M 20130  20219M 20251  20325  20326M 20327M
                                                 20328M 20329M 20330M 20330  20409  20410M 20411M 20412M 20413M 20414M
                                                 20414  20508  20509M 20510M 20511M 20512M 20513M 20513  20877  20878M
                                                 20879M 20880M 20881M 20882M 20882  20907M 20941  21041  21042M 21043M
                                                 21044M 21045M 21046M 21046  21110M 21138  21330M 21367  21611  21612M
                                                 21613M 21614M 21615M 21616M 21616  21694M 21747  21859  21860M 21861M
                                                 21862M 21863M 21864M 21864  21896  21897M 21898M 21899M 21900M 21901M
                                                 21901  22078  22079M 22080M 22081M 22082M 22083M 22083  22150M 22200
                                                 22274  22275M 22276M 22277M 22278M 22279M 22279  22311  22312M 22313M
                                                 22314M 22315M 22316M 22316  22365  22366M 22367M 22368M 22369M 22370M
                                                 22370  22399M 22449  22605  22606M 22607M 22608M 22609M 22610M 22610
                                                 22660M 22713  22801  22802M 22803M 22804M 22805M 22806M 22806  22842M
                                                 22953  23051M 23099  23197M
 SCOMPLEN      1 000000B8 00000001 A   U    3851  5657   8930   8989   9305  18158  18578  20083  20142  20467
 SENDTCP       4 000020EC 00000001     I   17726 14089  17327  17737U
 SIGNAL        1 00000000 00000010     T    9502  9502  17325  23229
 SKAINFO      68 00000030 FFFFFF98     X    4261 11640M 14098
 SKASID        4 00000030 FFFFFF98     A    4259  4261   4261  10337  10472  11445M 12335  12440  12585  12673  16120
                                                 16544
 SKATSK        4 00000084 FFFFFF98     A    4440 18935  19711M
 SKATXID       4 0000008C FFFFFF98     A    4442 20187M 20557
 SKBUFLEN      4 000000AC FFFFFF98     A    4542 14625M 15252M 15427  15877M 16014  17421  18062  18091  18674
 SKBUFLOC      4 000000A8 FFFFFF98     A    4541 14590M 15217M 15842M 15980M 16009  17420  17634  18057  18086  18669
 SKCRID        4 00000094 FFFFFF98     A    4447 14279M 18944
 SKCR01        4 00000098 FFFFFF98     A    4448 14280M 14584M 14589  15174  15182M 15196  15799  15807M 15836M 15841
                                                 16460
 SKCR14        4 0000009C FFFFFF98     A    4449 14281M 15387  16745
 SKCR15        4 000000A0 FFFFFF98     A    4450 14282M 14591  14710  15218  15343  15843  16029  16743
 SKCTYPE       1 000000A4 FFFFFF98     R    4453  4462   4472   4482   4492   4502   4512   4522
 SKECB         8 00000078 FFFFFF98     D    4265  8523   9752   9785M  9785  15572  16260  16674  17105  17258  19514
 SKEMSG       80 000000D0 FFFFFF98     C    4552 11735M 12115M 14099  16873
 SKEMSGL       4 000000CC FFFFFF98     A    4551 11723M 12103M 16734M 16734  16859  16861
 SKHOLD       64 00000081 FFFFFF98         4311 12278  12375M 12479M
 SKIATCH     128 00000083 FFFFFF98         4419  9998  11659M 15041  15747  16440
 SKICHAIN      4 00000014 FFFFFF98     A    4244 13797  13855M 17449  17496M 20710
 SKICNT        4 00000018 FFFFFF98     A    4245 10103M 10103  10162  12284  12399  13791  13793M 15090M 15090  15476
                                                 17486  17488M 17557  17559M
 SKIDTCH      16 00000083 FFFFFF98         4434 10703M 10827
 SKIFREE       4 0000001C FFFFFF98     A    4246 20627  22498  22526M 22816  22817M
 SKIHIGH       2 00000024 FFFFFF98     H    4249 12411  19957M
 SKILOW        2 00000022 FFFFFF98     H    4248 12296  19956M
 SKIOPA        4 00000008 FFFFFF98     A    4238 17834  20144M 20477
 SKIOXID       4 00000088 FFFFFF98     A    4441 18934  20171M 20541
 SKIREAD      32 00000083 FFFFFF98         4429 11671M 15063  15118M 15146M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  190
 SKISIZE       2 00000020 FFFFFF98     H    4247 19955M 20681  20764  22574  22632
 SKISTATE      1 00000083 FFFFFF98     R    4415  4419   4424   4429   4434
 SKIWRIT      64 00000083 FFFFFF98         4424 10277  11665M 12135M 15769
 SKMINLEN      4 000000B0 FFFFFF98     A    4543 10142M 10142  10162  15460M
 SKMWAIT     128 000000A5 FFFFFF98         4531 14312M 14335M 14764  14845  15397  16209  16629
 SKNBUF        4 00000010 FFFFFF98     A    4240 11217  11265  11420M 11583M 11862M 12524M 12524  12761M
 SKNEXT        4 00000004 FFFFFF98     A    4237 13119  19731M 20420  20426
 SKNSQE        4 0000000C FFFFFF98     A    4239 11001  11331  12899M 12899  13221  13560M 13560  17785M 17785  18193
                                                 18369  18458  19825M
 SKNSTATE      1 00000082 FFFFFF98     R    4331  4340   4350   4360   4370   4380   4390   4400   4410  11272
 SKOBUF        4 00000028 FFFFFF98     A    4254 15979  20049M 20618
 SKOSIZ        4 0000002C FFFFFF98     A    4255 20050M 20613
 SKRABORT      8 00000081 FFFFFF98         4326 10086  10086  10087  12128M 15105
 SKREOF       32 00000081 FFFFFF98         4316 10086  10086  10119  12051M 12510  12510  12511  15133
 SKRFLGS       1 000000A5 FFFFFF98     R    4527  4531   4536  14290M
 SKRKEY        1 000000A6 FFFFFF98     X    4540 14283M 14676  15303  15928  16816
 SKRR01        4 000000B4 FFFFFF98     A    4545  9875M  9875  14563M 15159M 15784M 16456M 17411M 17411  17480  17482M
                                                 17551  17553M 17639  18945
 SKRR14        4 000000B8 FFFFFF98     A    4546  9882M  9882  14564M 15160M 15785M 16457M 18946
 SKRR15        4 000000BC FFFFFF98     A    4547  9868M  9868   9979M 10010M 10010  10036M 10109M 10126M 10203M 10203
                                                 10234M 10283M 10382M 10382  10417M 10517M 10517  10710M 10710  14565M
                                                 14851M 15047M 15069M 15111M 15139M 15161M 15517M 15517  15753M 15775M
                                                 15786M 16165M 16165  16186M 16280M 16446M 16458M 16506M 16506  16589M
                                                 16589  16610M 16694M 16887M 16887  16894M 18912  18947
 SKSABRT       4 00000082 FFFFFF98         4380 10605M 10649M
 SKSCLSD       7 00000082 FFFFFF98         4410 10030  10680  11066M 11092M 11748M 12791M
 SKSDONE       5 00000082 FFFFFF98         4390 10583M 12141M 12535M 12623M
 SKSDTRN       3 00000082 FFFFFF98         4370 10556  11653M
 SKSEOF       16 00000081 FFFFFF98         4321 10510M 10571  12510  12510  16494  16582M
 SKSFLG        1 00000081 FFFFFF98     R    4302  4306   4311   4316   4321   4326
 SKSINIT       0 00000082 FFFFFF98         4340 10692
 SKSOSNT       1 00000082 FFFFFF98         4350 11375M
 SKSTOP      128 00000081 FFFFFF98         4306 10299  11976M 12014M 16082
 SKSWCLS       6 00000082 FFFFFF98         4400 12711M
 SKSWCON       2 00000082 FFFFFF98         4360 10638  11451M
 SKTATCH       4 000000A4 FFFFFF98         4472  9951  14775M
 SKTCNTL      16 000000A4 FFFFFF98         4502 10444  16640M
 SKTDTCH      24 000000A4 FFFFFF98         4522 10541  17227M
 SKTOID        4 000000C8 FFFFFF98     A    4550 19172M 19296
 SKTOVAL       8 000000C0 FFFFFF98     D    4549 14750M 15383M 16069M 19094M 19094  19124
 SKTOXID       4 00000090 FFFFFF98     A    4443 19131  20203M 20573
 SKTRAN       64 000000A5 FFFFFF98         4536 15188M 15813M 15973  17603
 SKTREAD       8 000000A4 FFFFFF98         4482 10063  15532M
 SKTWRIT      12 000000A4 FFFFFF98         4492 10261  16220M
 SKWFLG        1 00000080 FFFFFF98     R    4268  4272   4277   4282   4287   4292   4297
 SOCK        288 00000000 FFFFFF98     J    4559  8486U  9585U 10987U 13087U 13215U 13759U 14233U 14248  14559U 15025U
                                                 15731U 16424U 17049U 17215U 17401U 17770U 18908U 19080U 19271U 19464U
                                                 19638  19695U 19708M 19708  19709M 19709  19710M 20204  20293U 20308
                                                 20420  20427M 20799M 20799  20800M 20800  20830  22491U 22755U
 SPR          13 0000000D FFFFFFFF A   #    1172  4799   4814   4815   4817M  4851U  4917U  4953U  5024   5039   5040
                                                  5042M  5111U  5532U  5597U  5637U  5913   5928   5929   5931M  6003U
                                                  6158U  6251U  6339   6354   6355   6357M  6447U  6567U  6640   6655
                                                  6656   6658M  6763U  6850U  6907U  6996U  7076U  7210U  7306U  7346U
                                                  7571U  7669   7684   7685   7687M  7750U  7916   7931   7932   7934M
                                                  8031U  8135   8150   8151   8153M  8231U  8292U  8410   8425   8426
                                                  8441M  8503U  8548U  8611   8626   8627   8642M  8745U  8910U  9060U
                                                  9093U  9149U  9198U  9251U  9285U  9543   9558   9559   9574M  9601U
                                                  9657U  9732U  9798U 10317U 10738U 10940  10955  10956  10976M 11306U
                                                 11502U 11902U 12162U 12314U 12835U 12917U 13016  13031  13032  13034M
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  191
                                                 13100U 13173  13188  13189  13204M 13315U 13463U 13513U 13584U 13626U
                                                 13717  13732  13733  13748M 13837U 14142  14157  14158  14173M 14352U
                                                 14517  14532  14533  14548M 14636U 14798U 14864U 14983  14998  14999
                                                 15014M 15263U 15494U 15552U 15603U 15689  15704  15705  15720M 15888U
                                                 15996U 16100U 16240U 16297U 16382  16397  16398  16413M 16524U 16654U
                                                 16776U 16921U 17007  17022  17023  17038M 17085U 17173  17188  17189
                                                 17204M 17238U 17359  17374  17375  17390M 17506U 17621U 17726  17741
                                                 17742  17757M 17811U 17902U 17962U 18044U 18080U 18127U 18183U 18336U
                                                 18359U 18511U 18547U 18695U 18866  18881  18882  18897M 18925U 19038
                                                 19053  19054  19069M 19115U 19229  19244  19245  19260M 19287U 19395
                                                 19410  19411  19426M 19494U 19580  19595  19596  19598M 19618U 19908U
                                                 19980U 20158U 20251  20266  20267  20282M 20447U 20532U 20600U 20941
                                                 20956  20957  20972M 21138  21153  21154  21169M 21191U 21367  21382
                                                 21383  21385M 21567U 21747  21762  21763  21778M 22024U 22200  22215
                                                 22216  22231M 22449  22464  22465  22480M 22561U 22713  22728  22729
                                                 22744M 22953  22968  22969  22984M 23099  23114  23115  23130M
 STAB          4 00001024 00000001     A   11277 11275
 SYSRDEL       1 00000000 00000011     T    9503  9503
 SYSRDO        1 00000000 0000000F     T    9501  9501
 SYSRNEW       1 00000000 0000000E     T    9499  9499
 TCLOSE17      2 000003E0 00000001     H    6334  6333
 TCPDATA       1 00000014 FFFFFF9A     X    4144 11445  11640  11735  12115
 TCPHDR       20 00000000 FFFFFF9A     J    4151  4655   7119U  7226U  7292   7292  10330U 10332M 10465U 10467M 11320U
                                                 11426U 11478U 11589U 11868U 12328U 12330M 12433U 12435M 12574U 12662U
                                                 12767U 13778  14097  16113U 16115M 16537U 16539M
 TCPSID        4 00000010 FFFFFF9A     A    4143  7232  10337M 10472M 11331M 12335M 12440M 12585M 12673M 16120M 16544M
 TCPTYPE      16 00000000 FFFFFF9A     C    4142  7135  11326M 11439  11484  11484  11602  11696  11774  11774  11881
                                                 11964  12001  12039  12076  12215  12215  12580M 12668M 12780  12817
                                                 12817
 TCREATE       1 00000000 00000019     T   17316 17316
 TEXIT         1 00000000 00000016     T   14094 14094
 TIMERUN       8 00000080 FFFFFF98         4292 10763  19178M 19343M 19483M
 TIMEST       16 00000080 FFFFFF98         4287  9900   9912M 14781M 15538M 16226M
 TIMEUP       32 00000080 FFFFFF98         4282  9966   9978M 10221  10233M 10404  10416M 19476M
 TLOCAL17      2 00000C7E 00000001     H    9538  9537
 TNOTFY17      2 00000730 00000001     H    7911  7910
 TOASC         4 00002F44 00000001     I   22953 17326  22964U
 TOASC17       2 00002F38 00000001     H   22948 22947
 TOEBC         4 00002F98 00000001     I   23099 23110U 23210
 TOEBC17       2 00002F8C 00000001     H   23094 23093
 TRCD17        4 00002AE4 00000001     A   21342 21341
 TTIMEX17      2 000024C6 00000001     H   19390 19389
 TTLEN         1 0000001C 00000001 A   U   14494 17307
 TWORKT17      2 000000A8 00000001     H    5019  5018
 VALBUF        4 00002A60 00000001     I   21138 17310  21149U
 VALBUF17      2 00002A54 00000001     H   21133 21132
 VMFREE        1 00000000 00000007     T    9479  9479  14103  23237
 VMGET         1 00000000 00000002     T    9466  9466  23231
 WAR          12 0000000C FFFFFFFF A   #    1160  4814   4815M  4816   4817   4989   4990   5039   5040M  5041   5042
                                                  5883   5884   5928   5929M  5930   5931   6307   6308   6354   6355M
                                                  6356   6357   6609   6610   6655   6656M  6657   6658   7636   7637
                                                  7684   7685M  7686   7687   7884   7885   7931   7932M  7933   7934
                                                  8103   8104   8150   8151M  8152   8153   8377   8378   8425   8426M
                                                  8427   8437U  8441   8581   8582   8626   8627M  8628   8638U  8642
                                                  9445   9446   9558   9559M  9560   9570U  9574  10880  10881  10955
                                                 10956M 10957  10967U 10976  12989  12990  13031  13032M 13033  13034
                                                 13139  13140  13188  13189M 13190  13200U 13204  13684  13685  13732
                                                 13733M 13734  13744U 13748  14057  14058  14157  14158M 14159  14169U
                                                 14173  14476  14477  14532  14533M 14534  14544U 14548  14952  14953
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  192
                                                 14998  14999M 15000  15010U 15014  15658  15659  15704  15705M 15706
                                                 15716U 15720  16351  16352  16397  16398M 16399  16409U 16413  16976
                                                 16977  17022  17023M 17024  17034U 17038  17142  17143  17188  17189M
                                                 17190  17200U 17204  17291  17292  17374  17375M 17376  17386U 17390
                                                 17682  17683  17741  17742M 17743  17753U 17757  18834  18835  18881
                                                 18882M 18883  18893U 18897  19007  19008  19053  19054M 19055  19065U
                                                 19069  19198  19199  19244  19245M 19246  19256U 19260  19363  19364
                                                 19410  19411M 19412  19422U 19426  19547  19548  19595  19596M 19597
                                                 19598  20219  20220  20266  20267M 20268  20278U 20282  20907  20908
                                                 20956  20957M 20958  20968U 20972  21110  21111  21153  21154M 21155
                                                 21165U 21169  21330  21331  21382  21383M 21384  21385  21694  21695
                                                 21762  21763M 21764  21774U 21778  22150  22151  22215  22216M 22217
                                                 22227U 22231  22399  22400  22464  22465M 22466  22476U 22480  22660
                                                 22661  22728  22729M 22730  22740U 22744  22842  22843  22968  22969M
                                                 22970  22980U 22984  23051  23052  23114  23115M 23116  23126U 23130
                                                 23197  23198
 WRITDONE      2 00001D58 00000001     H   16334 15953B 16274B 16328B
 WRITE         4 00001BCA 00000001     I   15689 14490  15700U
 WRITE17       2 00001BBE 00000001     H   15684 15683
 WRITPOST      2 00001D3E 00000001     H   16286 15754B 15776B 16166B 16187B
 WRITSPEC      4 00001D54 00000001     I   16330 15857B 15871B 16043B 16057B
 XITDEL        1 00000000 0000001F     T   23238 23238
 XITDO         1 00000000 0000001A     T   23226 23226
 XITMASK       1 00000000 00000014     T   14081 14081
 XITMRTC      32 00000000 FFFFFFAC         3283  9628M  9681M
 XITMSKD       4 00000000 FFFFFFAC     J    3347  9618U  9671U
 XITNEW        1 00000000 0000001E     T   23235 23235
 XITSAREA     28 00000000 FFFFFFAA     J    3396 19440U
 XITSRPRM      4 00000000 FFFFFFAA     A    3386 19446
 XITTIOCN      1 00000009 00000001 A   U    3251 18936
 =A(-1)        4 00002FF0 00000001     A   23212 17791
 =A(-4)        4 00001684 00000001     A   14085 10036  10109  10283
 =A(-4)        4 00001FC8 00000001     A   17320 15069  15111  15775  16186  16610
 =A(-4)        4 00003024 00000001     A   23225 18758
 =A(-8)        4 00001688 00000001     A   14086 10126
 =A(-8)        4 00001FCC 00000001     A   17321 15139
 =A(#SCCCLOS)
               4 00000C18 00000001     A    9504  9029
 =A(#SCCNOTE)
               4 00000C00 00000001     A    9498  8015
 =A(#SCCOPEN)
               4 00000BC0 00000001     A    9482  6135
 =A(#SCCRECV)
               4 00000BDC 00000001     A    9489  6833
 =A(#SCCSEND)
               4 00002FF8 00000001     A   23214 17873
 =A(#SCESFQ)
               4 00003008 00000001     A   23218 18276  18452  18778
 =A(#SCESIAD)
               4 00000BF8 00000001     A    9496  7514
 =A(#SCESIBP)
               4 00000BF4 00000001     A    9495  7475
 =A(#SCESNP)
               4 00003020 00000001     A   23224 18752
 =A(#SCESOK)
               4 00000BE8 00000001     A    9492  7042
 =A(#SCESOK)
               4 0000301C 00000001     A   23223 18723
 =A(ADDSEG)
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  193
               4 00000BE0 00000001     A    9490  6890
 =A(ADDSEG)
               4 00003000 00000001     A   23216 18014  18108
 =A(CANTIME)
               4 0000169C 00000001     A   14091 10786
 =A(DELNPCB)
               4 000016D8 00000001     A   14104 13651
 =A(DELSOCK)
               4 000016A4 00000001     A   14093 10850
 =A(DELSOCK)
               4 00001FC4 00000001     A   17319 14926
 =A(DOTIME)
               4 0000167C 00000001     A   14083  9930
 =A(FREELBUF)
               4 00002FE4 00000001     A   23209 17522
 =A(FREENBUF)
               4 00000BEC 00000001     A    9493  7101   7180   7331   7596
 =A(FREENBUF)
               4 000016AC 00000001     A   14095 11527  11807  12187  12248  12860  13487
 =A(GETLBUF)
               4 000016E0 00000001     A   14106 13852  14001
 =A(GETNBUF)
               4 00000BD4 00000001     A    9487  6737
 =A(IODONE)
               4 000016A0 00000001     A   14092 10809
 =A(IODONE)
               4 00001FC0 00000001     A   17318 14889  15628  16322  16946
 =A(L'NETCANAM)
               4 00000BA8 00000001     A    9476  5324   5336
 =A(L'SKAINFO)
               4 000016C0 00000001     A   14098 11612  11624
 =A(L'SKEMSG)
               4 000016C4 00000001     A   14099 11706  11718  12086  12098
 =A(L'TCPHDR)
               4 000016BC 00000001     A   14097 11609  11703  12083  13780
 =A(MOVEIN)
               4 000016C8 00000001     A   14100 11938
 =A(MOVEOUT)
               4 0000168C 00000001     A   14087 10195
 =A(MOVEOUT)
               4 00001FD8 00000001     A   17324 15509
 =A(NETSYSR)
               4 00000C08 00000001     A    9500  8310
 =A(NETWAKE)
               4 00000BFC 00000001     A    9497  7834
 =A(SENDTCP)
               4 00001694 00000001     A   14089 10360  10489  11354  12352  12457  12602  12690
 =A(SENDTCP)
               4 00001FE4 00000001     A   17327 16143  16561
 =A(TOASC)
               4 00001FE0 00000001     A   17326 16020
 =A(TOEBC)
               4 00002FE8 00000001     A   23210 17645
 =A(TTLEN)
               4 00001F94 00000001     A   17307 14419
 =A(VALBUF)
               4 00001FA0 00000001     A   17310 14688  15321  15940  16834
 =A(X'80000000'+NETLOCAL)
               4 00001FB0 00000001     A   17314 14808
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  194
 =A(X'80000000'+NETWORKT)
               4 00000B90 00000001     A    9470  4964
 =A(X'80000000'+PTTIMEX)
               4 0000166C 00000001     A   14079  9611
 =A(0)         4 00001FEC 00000001     A   17329 16476
 =A(1)         4 00001FF0 00000001     A   17330 16715
 =A(10)        4 00001FB4 00000001     A   17315 14809
 =A(16)        4 00001680 00000001     A   14084  9979
 =A(16)        4 00001FBC 00000001     A   17317 14851  15047  15753  16446
 =A(2)         4 00003068 00000001     A   23242 21261
 =A(255)       4 00001F9C 00000001     A   17309 14616
 =A(256)       4 00003078 00000001     A   23246 23000  23007  23008  23146  23153  23154
 =A(3)         4 00003064 00000001     A   23241 21236
 =A(4)         4 00000BB0 00000001     A    9478  5420   5432
 =A(4)         4 00001698 00000001     A   14090 10417
 =A(4)         4 00001FE8 00000001     A   17328 16280  16694  16894
 =A(6000)      4 00001FA4 00000001     A   17311 14735  15368  16054
 =A(64*1024)
               4 00000BC4 00000001     A    9483  6142
 =A(8192)      4 00001FD4 00000001     A   17323 15243  15868
 =A(8192)      4 00003048 00000001     A   23234 19996  20050
 =AL2(2048)
               2 00003080 00000001     R   23249 19955  19956
 =AL2(4096)
               2 00003082 00000001     R   23250 19957
 =C'npcb'      4 00000C20 00000001     C    9506  9365
 =C'sock'      4 00003050 00000001     C   23236 20427
 =C'Bad Amelia ID value'
              19 00000C35 00000001     C    9513  7287
 =C'Error reported by Amelia'
              24 00000B68 00000001     C    9465  7146
 =C'GNCT'      4 00000B84 00000001     C    9467  4903
 =C'LBUF'      4 00003074 00000001     C   23245 22631  22784
 =C'Network error in SCOM'
              21 00000C48 00000001     C    9514  7550
 =C'NBUF'      4 0000306C 00000001     C   23243 21668  21842  22257  22348
 =C'NETC'      4 00000BA0 00000001     C    9474  5163
 =C'NETGONE'
               7 00000C2E 00000001     C    9512  6415
 =C'NPCB'      4 00000BBC 00000001     C    9481  6091   8706
 =C'NSQE'      4 00000BF0 00000001     C    9494  7276
 =C'NSQE'      4 00003044 00000001     C   23233 19850
 =C'SOCK'      4 00001F90 00000001     C   17306 14248
 =C'SOCK'      4 00003040 00000001     C   23232 19710  20308
 =C'TCP_ABORT:'
              10 000016F6 00000001     C   14109 11696
 =C'TCP_ABORT'
               9 0000176A 00000001     C   14117 12076
 =C'TCP_CLOSE:'
              10 0000170A 00000001     C   14111 12780
 =C'TCP_CONNECT:'
              12 000016B0 00000001     C   14096 11602
 =C'TCP_DATA:'
               9 00001758 00000001     C   14115 11881
 =C'TCP_EOF:'
               8 00001620 00000001     C   14073 12039
 =C'TCP_OPEN_INFO:'
              14 000016E8 00000001     C   14108 11439
 =C'TCP_START:'
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  195
              10 00001700 00000001     C   14110 12001
 =C'TCP_STOP:'
               9 00001761 00000001     C   14116 11964
 =C'Unexpected message during close'
              31 0000179A 00000001     C   14119 12812
 =C'Unexpected message during connect'
              33 00001737 00000001     C   14114 11769
 =C'Unexpected message during data transfer'
              39 00001773 00000001     C   14118 12210
 =C'Unexpected message following open'
              33 00001716 00000001     C   14113 11472
 =CL16'ERROR_PREV_REQ:'
              16 00000B58 00000001     C    9464  7135
 =CL16'GNCTLOCK'
              16 00000B20 00000001     C    9458  4931
 =CL16'TCP_ABORT:'
              16 00001648 00000001     C   14076 12580
 =CL16'TCP_CLOSE:'
              16 00001658 00000001     C   14077 12668
 =CL16'TCP_EOF:'
              16 00001600 00000001     C   14071 10467
 =CL16'TCP_EOF:'
              16 00001F80 00000001     C   17305 16539
 =CL16'TCP_OPEN:'
              16 00001610 00000001     C   14072 11326
 =CL16'TCP_START:'
              16 00001628 00000001     C   14074 12330
 =CL16'TCP_STOP:'
              16 00001638 00000001     C   14075 12435
 =CL16'TCP_WRITE:'
              16 000015F0 00000001     C   14070 10332
 =CL16'TCP_WRITE:'
              16 00001F70 00000001     C   17304 16115
 =CL4' '       4 00000BAC 00000001     C    9477  5417
 =CL4'FUBN'
               4 00003070 00000001     C   23244 21673  21879  22294
 =CL4'PROD'
               4 00000BA4 00000001     C    9475  5193
 =CL8' '       8 00000B40 00000001     C    9461  5321
 =CL8'AMELIA'
               8 00000B30 00000001     C    9459  5192   5278
 =CL8'NETWORK'
               8 00000B38 00000001     C    9460  5277
 =CL8'PASSWORD'
               8 00000B48 00000001     C    9462  5374
 =CL8'SIZE'
               8 00000B50 00000001     C    9463  5470
 =F'4'         4 00001690 00000001     F   14088 10234
 =FE6'1'       4 00001FA8 00000001     F   17312 14748  15381  16067
 =V(ACREATE)
               4 00000B94 00000001     V    9471  4967
 =V(ASLOCK)
               4 000016DC 00000001     V   14105 13786
 =V(ASLOCK)
               4 00002FE0 00000001     V   23208 17417  19729
 =V(ASSYSTSK)
               4 00000B9C 00000001     V    9473  5090
 =V(ASULOCK)
               4 000016E4 00000001     V   14107 14022
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  196
 =V(ASULOCK)
               4 00002FEC 00000001     V   23211 17656  19735
 =V(AWAIT)
               4 00001678 00000001     V   14082  9766
 =V(DISPSHLD)
               4 00000B98 00000001     V    9472  5086
 =V(EXRADD)
               4 00001670 00000001     V   14080  9640
 =V(EXRDONE)
               4 00003038 00000001     V   23230 19526
 =V(IOSDOIO)
               4 00000BC8 00000001     V    9484  6197   6977   8076   9180
 =V(IOSDOIO)
               4 00003004 00000001     V   23217 18262  18438
 =V(IOSIDFRE)
               4 00000C1C 00000001     V    9505  9263
 =V(IOSIDFRE)
               4 00003018 00000001     V   23222 18707
 =V(IOSIDGET)
               4 00000BB8 00000001     V    9480  5614   9077
 =V(IOSIDGET)
               4 00002FF4 00000001     V   23213 17828
 =V(LKCRE)
               4 00000B88 00000001     V    9468  4934
 =V(LKOB)      4 00000BCC 00000001     V    9485  6260   6456   7219   7759   8754
 =V(LKOB)      4 000016CC 00000001     V   14101 13324  13593
 =V(LKOB)      4 0000300C 00000001     V   23219 18345  19917
 =V(LKREL)
               4 00000BD0 00000001     V    9486  6276   6553   7355   7439   7863   8798   8886
 =V(LKREL)
               4 000016D0 00000001     V   14102 13402  13612
 =V(LKREL)
               4 00003010 00000001     V   23220 18520  19934
 =V(PAGFIX)
               4 00000BD8 00000001     V    9488  6796   9132
 =V(PAGFIX)
               4 00002FFC 00000001     V   23215 17947  18065  18166
 =V(PAGTPROT)
               4 00003060 00000001     V   23240 21206
 =V(PAGUFIX)
               4 00000BE4 00000001     V    9491  7029   9237
 =V(PAGUFIX)
               4 00003014 00000001     V   23221 18586  18636  18677
 =V(RTCAN)
               4 00003030 00000001     V   23228 19299
 =V(RTSET)
               4 0000302C 00000001     V   23227 19134
 =V(SIGNAL)
               4 00000C10 00000001     V    9502  8531
 =V(SIGNAL)
               4 00001FDC 00000001     V   17325 15580  16268  16682  17113  17266
 =V(SIGNAL)
               4 00003034 00000001     V   23229 19522
 =V(SYSRDEL)
               4 00000C14 00000001     V    9503  8560
 =V(SYSRDO)
               4 00000C0C 00000001     V    9501  8315
 =V(SYSRNEW)
               4 00000C04 00000001     V    9499  8242
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  197
 =V(TCREATE)
               4 00001FB8 00000001     V   17316 14829
 =V(TEXIT)
               4 000016A8 00000001     V   14094 10854
 =V(VMFREE)
               4 00000BB4 00000001     V    9479  5572   9324   9414
 =V(VMFREE)
               4 000016D4 00000001     V   14103 13552
 =V(VMFREE)
               4 00003054 00000001     V   23237 20481  20622  20695  20778  20850  22051
 =V(VMGET)
               4 00000B80 00000001     V    9466  4880   5140   5236   5672   6032   8945
 =V(VMGET)
               4 0000303C 00000001     V   23231 19647  19786  20011  20098  21584  22578
 =V(XITDEL)
               4 00003058 00000001     V   23238 20544  20560  20576
 =V(XITDO)
               4 00003028 00000001     V   23226 18950
 =V(XITMASK)
               4 00001674 00000001     V   14081  9687
 =V(XITNEW)
               4 0000304C 00000001     V   23235 20169  20185  20201
 =X'00FFFFFF'
               4 00001FD0 00000001     X   17322 15212  16744
 =X'070C0000'
               4 00000B8C 00000001     X    9469  4962
 =X'070C0000'
               4 00001668 00000001     X   14078  9610
 =X'070C0000'
               4 00001FAC 00000001     X   17313 14807
 =X'7FFFF000'
               4 0000305C 00000001     X   23239 21058
 =X'80000000'
               4 00001F98 00000001     X   17308 14563  14564  14565  15159  15160  15161  15784  15785  15786  16456
                                                 16457  16458
 =Y(L'LBUF)
               2 0000308C 00000001     Y   23255 22633
 =Y(L'NBUF+4)
               2 0000308A 00000001     Y   23254 21670
 =Y(2048)      2 00000C28 00000001     Y    9509  5194
 =Y(27*256+0)
               2 00000C2A 00000001     Y    9510  5233   5569   8936   9321
 =Y(27*256+0)
               2 00003084 00000001     Y   23251 20002  20089  20478  20619  20692  20775  22575
 =Y(31*256+0)
               2 00000C26 00000001     Y    9508  5137   5663
 =Y(31*256+0)
               2 0000307C 00000001     Y   23247 19644  20847
 =Y(4096)      2 00003086 00000001     Y   23252 21057
 =Y(59*256+0)
               2 00000C2C 00000001     Y    9511  6029   9411
 =Y(59*256+0)
               2 00003088 00000001     Y   23253 21581  22048
 =Y(63*256+0)
               2 00000C24 00000001     Y    9507  4877
 =Y(63*256+0)
               2 00001714 00000001     Y   14112 13549
 =Y(63*256+0)
               2 0000307E 00000001     Y   23248 19783
1NETWORK  (NETW00) (09:42) (22MAR04) Ordinary Symbol and Literal Cross Reference                                            Page  198

1NETWORK  (NETW00) (09:42) (22MAR04) Macro and Copy Code Source Summary                                                     Page  199
- Con Source                                        Volume    Members                        HLASM R4.0  2004/03/22 09.42
0     PRIMARY INPUT                                           ADDSG    CHECKNB  CSECT    DROP     END      EX       FIX
                                                              FREENB   LTORG    POP      PRINT    PUSH     START
                                                              UNFIX    USING    VALBUF
   L2 WYL.GG.ORV.MACLIB                             SYSB02    $LKPARM  ABORT    ACALL    ACCTPARM ASB      AWAIT
                                                              DISPPARM GETPARM2 HEADER   IORPARM  IOSPARM  LCALL
                                                              LKCRE    LKOB     LKREL    LOCKPARM MAT      MODULE
                                                              ORVSNAP  PAGEPARM PARMPARM PEND     PMOV     PROC     PSET
                                                              PZERO    REG      SCOMPARM SIGNL    SIGPARM  SPLEVEL
                                                              SYSCTL   TIMEPARM UNETPARM VCALL    VMFREE   VMGET
                                                              VMIPARM  VMPARM   XITPARM  XTRC     XTRCDATA
   L3 WYL.GG.SYS.MACLIB                             SYSB05    $BC      $BFLKUP  $BV      $CCLKUP  $CRS     $CSS     $L
                                                              $LA      $LBLAD   $LEXP    $LOR     $REL     $RGLKUP
                                                              $USLKUP  AUSING   BEGIN    CEIL     CLEAR    CSECT    DATA
                                                              DECR     DEFCC    DEX      DIAG     DROP     ELSE
                                                              ELSEIF   END      EX       EXIT     FLAG     GEN
                                                              HIBAL    IDENT    IF       LABEL    LC       LOOP     LT
                                                              LTORG    NEXT     POP      PRINT    PUSH     RECORD   REGS
                                                              SET      START    STF      UNTIL    USING    WHILE    WITH

1         (NETW00) (09:42) (22MAR04) General Purpose Register Cross Reference                                               Page  200
- Register  References (M=modified, B=branch, U=USING, D=DROP, N=index)                      HLASM R4.0  2004/03/22 09.42
0    0(0)      991U   992D  1337U  4799   4871M  4876   4882   4936   4969   5024   5131M  5136   5142   5227M  5232
              5238   5552M  5557   5616   5657M  5662   5674   5913   6023M  6028   6042M  6042   6070   6207M  6207
              6339   6415M  6640   6739   6783M  6788   6863M  6868   6982   7016M  7021   7146M  7287M  7550M  7669
              7916   8078   8135   8252M  8252   8308   8311   8325M  8325   8410   8523M  8528   8611   8930M  8935
              8955M  8955   8983   9079   9124M  9129   9229M  9234   9305M  9310   9334M  9334   9395M  9400   9543
              9752M  9757  10370M 10370  10499M 10499  10940  11364M 11364  11472M 11769M 12210M 12362M 12362  12467M
             12467  12612M 12612  12700M 12700  12812M 13016  13173  13533M 13538  13717  13854  14003  14004  14142
             14201  14517  14673D 14675M 14675  14676M 14682  14698M 14698  14902M 14902  14928M 14983  15300D 15302M
             15302  15303M 15309  15331M 15331  15572M 15577  15585M 15585  15633M 15633  15637M 15689  15925D 15927M
             15927  15928M 15934  15950M 15950  16153M 16153  16180M 16180  16260M 16265  16273M 16273  16327M 16327
             16330M 16382  16571M 16571  16604M 16604  16674M 16679  16687M 16687  16813D 16815M 16815  16816M 16822
             16844M 16844  16951M 16951  16955M 17007  17105M 17110  17122M 17122  17173  17258M 17263  17271M 17271
             17359  17726  17791M 17830  17922M 17927  17939M 17944  17975M 17980  17992M 17997  18158M 18163  18264
             18440  18578M 18583  18611M 18616  18628M 18633  18732M 18732  18758M 18784M 18866  18960M 18960  19038
             19144M 19144  19172  19229  19309M 19309  19395  19514M 19519  19580  19638M 19643  19657M 19657  19685
             19777M 19782  19796M 19796  19824  19996M 20001  20021M 20021  20049  20083M 20088  20108M 20108  20136
             20171  20187  20203  20204M 20251  20467M 20472  20491M 20491  20830M 20835  20860M 20860  20941  21138
             21216M 21216  21236  21242M 21261  21267M 21291M 21311M 21311  21367  21594M 21594  21622  21674M 21747
             22061M 22061  22200  22449  22588M 22588  22616  22635M 22713  22953  23036M 23036  23099  23182M 23182
     1(1)      987U  4799   4989M  5024   5168M  5178U  5190U  5883M  5913   6095M  6099   6307M  6339   6491M  6502M
              6502   6517U  6530M  6536U  6609M  6640   6917M  6927U  6940U  6950M  6960U  6973U  7048M  7057M  7057
              7110   7232M  7245U  7262M  7262   7446U  7636M  7669   7771M  7782M  7782   7797U  7840M  7846U  7884M
              7916   8041M  8051U  8064U  8103M  8135   8215U  8312   8359U  8377M  8410   8581M  8611   8810M  8832M
              8833M  8833   8867M  8867   8873   9445M  9543  10880M 10940  11030M 11040U 11103U 11181M 11191M 11191
             11201  11229M 11230M 11230  11236  11269D 11271M 11271  11272M 11273U 11274M 11275M 11275N 11276B 11608M
             11609M 11612  11624M 11631M 11633  11702M 11703M 11706  11718M 11723  11726M 11728  12082M 12083M 12086
             12098M 12103  12106M 12108  12284M 12296  12399M 12411  12989M 13016  13139M 13173  13326M 13348M 13349M
             13349  13383M 13383  13389  13419M 13420M 13420  13435U 13448U 13481  13597M 13598M 13599  13684M 13717
             13791M 13792M 13793  13951M 13952M 13953  14057M 14142  14390D 14392M 14392  14393M 14394U 14405M 14405
             14419  14452N 14476M 14517  14952M 14983  15658M 15689  16351M 16382  16976M 17007  17142M 17173  17291M
             17359  17480M 17481M 17482  17486M 17487M 17488  17545M 17546M 17547  17551M 17552M 17553  17557M 17558M
             17559  17682M 17726  18193M 18203U 18209M 18216U 18227U 18240U 18369M 18379U 18385M 18392U 18403U 18416U
             18458M 18468U 18492U 18834M 18866  18912M 19007M 19038  19198M 19229  19363M 19395  19430M 19440U 19453U
             19547M 19580  20219M 20251  20657M 20691  20740M 20774  20907M 20941  21018M 21052  21056M 21057M 21058M
             21059M 21063  21065M 21066  21070  21071  21081M 21082  21088M 21089M 21090  21110M 21138  21201M 21202
             21330M 21367  21669M 21670M 21671  21672M 21672N 21694M 21747  21870M 21871M 21871N 21911M 21912M 21924
             21962M 21970M 22092M 22099  22102M 22150M 22200  22285M 22286M 22286N 22399M 22449  22632M 22633M 22634
             22660M 22713  22842M 22953  22986M 23000  23007M 23016M 23018  23051M 23099  23132M 23146  23153M 23162M
             23164  23197M
     2(2)      983U  4799   4989M  5024   5285M  5381M  5502   5504M  5505   5788M  5798U  5816U  5883M  5913   6307M
              6339   6609M  6640   6982M  7042   7367M  7374   7375M  7407M  7407   7475   7514   7636M  7669   7884M
              7916   8103M  8135   8377M  8410   8581M  8611   9445M  9543  10880M 10940  12989M 13016  13036M 13046U
             13052M 13059U 13071M 13071  13087U 13109  13119M 13125U 13139M 13173  13250M 13260U 13266M 13273U 13284U
             13664U 13684M 13717  13749M 13759U 13846  13995  14044U 14057M 14142  14201M 14202  14219M 14233U 14387
             14463U 14476M 14517  14549M 14559U 14820  14883  14920  14939U 14952M 14983  15015M 15025U 15503  15622
             15645U 15658M 15689  15721M 15731U 16137  16316  16338U 16351M 16382  16414M 16424U 16555  16940  16963U
             16976M 17007  17039M 17049U 17129U 17142M 17173  17205M 17215U 17278U 17291M 17359  17391M 17401U 17515
             17669U 17682M 17726  17760M 17770U 18821U 18834M 18866  19007M 19038  19198M 19229  19363M 19395  19547M
             19580  19712M 19722U 19743U 19856M 19866U 19872M 19879U 19890U 19942U 20136M 20144  20219M 20251  20339M
             20349U 20355M 20362U 20385M 20386M 20386  20420M 20420  20426  20627M 20638M 20638  20653U 20657  20658M
             20702U 20710M 20721M 20721  20736U 20740  20741M 20785U 20907M 20941  20993M 21056  21059  21070M 21110M
             21138  21330M 21367  21464M 21466  21503M 21510  21513M 21626M 21634M 21694M 21747  21817M 21827U 21939
             22047  22132U 22150M 22200  22232M 22242U 22322M 22331M 22331  22386U 22399M 22449  22660M 22713  22759M
             22769U 22817  22824U 22842M 22953  22985M 23008M 23051M 23099  23131M 23154M 23197M
     3(3)      979U  4799   4989M  5024   5292M  5324   5336M  5343M  5345   5388M  5420   5432M  5439M  5441   5883M
1         (NETW00) (09:42) (22MAR04) General Purpose Register Cross Reference                                               Page  201
              5913   6307M  6339   6609M  6640   7636M  7669   7884M  7916   8103M  8135   8377M  8410   8581M  8611
              8643M  8653U  8824   9410   9432U  9445M  9543  10880M 10940  11001M 11002M 11002  11023U 11248U 12989M
             13016  13139M 13173  13288M 13298U 13645  13659U 13684M 13717  13763M 13773U 13797M 13807U 13810U 13822M
             13822  13854M 13855  13893M 14004M 14015U 14034U 14039U 14057M 14142  14476M 14517  14952M 14983  15658M
             15689  16351M 16382  16976M 17007  17142M 17173  17291M 17359  17431U 17449M 17450M 17450  17516  17664U
             17682M 17726  18264M 18276  18440M 18452  18723  18752  18778  18834M 18866  19007M 19038  19198M 19229
             19363M 19395  19547M 19580  20219M 20251  20907M 20941  20994M 21009M 21009  21063  21065  21071M 21110M
             21138  21174D 21176M 21176  21177M 21178U 21330M 21367  21465M 21466  21510M 21512M 21513  21633M 21634
             21694M 21747  21938M 21939  21969M 21970  22099M 22101M 22102  22150M 22200  22399M 22449  22660M 22713
             22842M 22953  23051M 23099  23197M
     4(4)      975U  4799   4989M  5024   5299M  5395M  5477M  5883M  5913   6307M  6339   6609M  6640   7636M  7669
              7884M  7916   8103M  8135   8377M  8410   8581M  8611   9445M  9543  10880M 10940  11117M 11118M 11118
             11137M 11177U 11200  11201M 11207U 11242  12989M 13016  13139M 13173  13684M 13717  13915M 13916M 13931
             13941  13957M 13957N 13958M 14057M 14142  14476M 14517  14952M 14983  15658M 15689  16351M 16382  16976M
             17007  17142M 17173  17291M 17359  17456M 17457M 17457N 17492M 17564M 17682M 17726  18834M 18866  19007M
             19038  19198M 19229  19363M 19395  19547M 19580  20219M 20251  20907M 20941  20990M 20991M 20992M 20992N
             21072M 21082M 21083M 21084  21110M 21138  21170M 21330M 21367  21427M 21455M 21455  21466M 21497M 21497
             21622M 21674  21694M 21747  21930M 21937  21939M 22150M 22200  22399M 22449  22498M 22508U 22520M 22520
             22616M 22635  22642U 22660M 22713  22842M 22953  23051M 23099  23197M
     5(5)      971U  4799   4989M  5024   5306M  5402M  5484M  5883M  5913   6307M  6339   6609M  6640   7636M  7669
              7884M  7916   8103M  8135   8377M  8410   8581M  8611   9079M  9160   9260   9445M  9543  10880M 10940
             11130M 11130  11137  11182  11200M 11217M 11236M 12989M 13016  13139M 13173  13684M 13717  13940M 13941M
             13945  13947M 13952  13958M 14057M 14142  14476M 14517  14952M 14983  15658M 15689  16351M 16382  16976M
             17007  17142M 17173  17291M 17359  17421M 17471  17492M 17542  17546  17552  17558  17563  17564M 17582M
             17582  17682M 17726  17830M 18242  18418  18704  18834M 18866  19007M 19038  19198M 19229  19363M 19395
             19547M 19580  20219M 20251  20907M 20941  21110M 21138  21171M 21330M 21367  21427M 21466M 21694M 21747
             21930M 21938  21939M 22150M 22200  22399M 22449  22660M 22713  22842M 22953  23051M 23099  23197M
     6(6)      967U  4799   4989M  5024   5238M  5248U  5568   5580U  5883M  5913   6103M  6113U  6178   6284U  6307M
              6339   6609M  6640   6801M  6811U  6884   6943   7607U  7636M  7669   7884M  7916   7990M  8000U  8067
              8085U  8103M  8135   8377M  8410   8452M  8462U  8468M  8475U  8486U  8568U  8581M  8611   8657M  8667U
              8673M  8680U  8691U  9427U  9445M  9543   9575M  9585U  9612   9807   9924  10189  10354  10483  10747
             10780  10803  10844  10867U 10880M 10940  10977M 10987U 11342  11921  12346  12451  12596  12684  12936
             12976U 12989M 13016  13139M 13173  13205M 13215U 13671U 13684M 13717  13778M 13958M 14057M 14142  14476M
             14517  14589M 14590  14654  14747M 14747  14748M 14749M 14750  14952M 14983  15174M 15175M 15175  15181M
             15181  15182  15196M 15212M 15217  15281  15380M 15380  15381M 15382M 15383  15658M 15689  15799M 15800M
             15800  15806M 15806  15807  15841M 15842  15906  15982M 16066M 16066  16067M 16068M 16069  16351M 16382
             16460M 16476  16715  16743M 16744M 16794  16976M 17007  17142M 17173  17291M 17359  17420M 17492M 17564M
             17682M 17726  18285M 18295U 18301M 18308U 18319U 18527U 18834M 18866  18898M 18908U 18994U 19007M 19038
             19070M 19080U 19185U 19198M 19229  19261M 19271U 19350U 19363M 19395  19446M 19464U 19534U 19547M 19580
             19685M 19695U 19732  19852  20211U 20219M 20251  20283M 20293U 20377  20846  20894U 20907M 20941  20973M
             20983U 21097U 21110M 21138  21330M 21367  21694M 21747  22150M 22200  22399M 22449  22481M 22491U 22647U
             22660M 22713  22745M 22755U 22829U 22842M 22953  23051M 23099  23197M
     7(7)      963U  4799   4882M  4892U  4937   4976U  4989M  5024   5883M  5913   6070M  6080U  6263   6289U  6307M
              6339   6458M  6468U  6486U  6609M  6640   6739M  6749U  7095   7174   7325   7375   7590   7612U  7636M
              7669   7884M  7916   8103M  8135   8377M  8410   8581M  8611   8983M  9000U  9020U  9023U  9040U  9043U
              9112   9171   9217   9320   9422U  9445M  9543  10880M 10940  11265M 11401M 11401  11416U 11521  11541U
             11564M 11564  11579U 11801  11821U 11843M 11843  11858U 11932  12181  12242  12262U 12742M 12742  12757U
             12854  12874U 12989M 13016  13139M 13173  13221M 13222M 13222  13246U 13340  13548  13566U 13684M 13717
             13779M 13780M 13792  13945  13947  13958M 13975M 13975  14057M 14142  14476M 14517  14591M 14602M 14602
             14616  14625  14664  14710M 14721M 14721  14735  14748M 14749M 14750  14952M 14983  15218M 15229M 15229
             15243  15252  15291  15343M 15354M 15354  15368  15381M 15382M 15383  15387M 15413M 15413  15427  15455M
             15455  15460  15476  15658M 15689  15843M 15854M 15854  15868  15877  15916  15981  15982M 16029M 16040M
             16040  16054  16067M 16068M 16069  16351M 16382  16745M 16754M 16754  16804  16859  16861M 16864M 16866
             16976M 17007  17142M 17173  17291M 17359  17458M 17471  17481  17487  17492M 17542M 17543  17563M 17564M
             17682M 17726  17834M 17844U 17864U 17867U 17884U 17887U 18008  18102  18146  18253  18429  18566  18816U
             18834M 18866  19007M 19038  19198M 19229  19363M 19395  19547M 19580  19824M 19825  19838U 19921  19950U
             20219M 20251  20907M 20941  21110M 21138  21330M 21367  21694M 21747  22150M 22200  22399M 22449  22660M
             22713  22842M 22953  23051M 23099  23197M
     8(8)      959U  4799   4818M  4828U  4981U  4989M  5024   5043M  5053U  5059M  5066U  5077U  5875U  5883M  5913
1         (NETW00) (09:42) (22MAR04) General Purpose Register Cross Reference                                               Page  202
              5932M  5942U  5948M  5955U  5966U  6299U  6307M  6339   6358M  6368U  6374M  6381U  6392U  6418   6609M
              6640   6659M  6669U  6675M  6682U  6693U  7628U  7636M  7669   7688M  7698U  7704M  7711U  7722U  7876U
              7884M  7916   7935M  7945U  7951M  7958U  7969U  8095U  8103M  8135   8154M  8164U  8170M  8177U  8188U
              8369U  8377M  8410   8581M  8611   9445M  9543  10880M 10940  12989M 13016  13139M 13173  13684M 13717
             14057M 14142  14476M 14517  14952M 14983  15658M 15689  16351M 16382  16976M 17007  17142M 17173  17291M
             17359  17682M 17726  18834M 18866  19007M 19038  19198M 19229  19363M 19395  19547M 19580  20219M 20251
             20907M 20941  21110M 21138  21330M 21367  21386M 21396U 21402M 21409U 21420U 21686U 21694M 21747  21779M
             21789U 21795M 21802U 21813U 22137U 22150M 22200  22399M 22449  22660M 22713  22842M 22953  23051M 23099
             23197M
     9(9)      955U  4799   4989M  5024   5142M  5152U  5164   5870U  5883M  5913   5970M  5980U  6294U  6307M  6339
              6396M  6406U  6418   6596U  6609M  6640   6697M  6707U  7623U  7636M  7669   7726M  7736U  7871U  7884M
              7916   7973M  7983U  8090U  8103M  8135   8192M  8202U  8364U  8377M  8410   8581M  8611   9445M  9543
             10880M 10940  12989M 13016  13139M 13173  13684M 13717  14057M 14142  14476M 14517  14952M 14983  15658M
             15689  16351M 16382  16976M 17007  17142M 17173  17291M 17359  17682M 17726  18834M 18866  19007M 19038
             19198M 19229  19363M 19395  19547M 19580  20219M 20251  20907M 20941  21110M 21138  21330M 21367  21694M
             21747  22150M 22200  22399M 22449  22660M 22713  22842M 22953  23051M 23099  23197M
    10(A)      951U  4799   4800M  4810U  4986U  4989M  5024   5025M  5035U  5880U  5883M  5913   5914M  5924U  6304U
              6307M  6339   6340M  6350U  6606U  6609M  6640   6641M  6651U  7633U  7636M  7669   7670M  7680U  7881U
              7884M  7916   7917M  7927U  8100U  8103M  8135   8136M  8146U  8374U  8377M  8410   8411M  8421U  8578U
              8581M  8611   8612M  8622U  9442U  9445M  9543   9544M  9554U 10877U 10880M 10940  10941M 10951U 12986U
             12989M 13016  13017M 13027U 13136U 13139M 13173  13174M 13184U 13681U 13684M 13717  13718M 13728U 14054U
             14057M 14142  14143M 14153U 14473U 14476M 14517  14518M 14528U 14949U 14952M 14983  14984M 14994U 15655U
             15658M 15689  15690M 15700U 16348U 16351M 16382  16383M 16393U 16973U 16976M 17007  17008M 17018U 17139U
             17142M 17173  17174M 17184U 17288U 17291M 17359  17360M 17370U 17679U 17682M 17726  17727M 17737U 18831U
             18834M 18866  18867M 18877U 19004U 19007M 19038  19039M 19049U 19195U 19198M 19229  19230M 19240U 19360U
             19363M 19395  19396M 19406U 19544U 19547M 19580  19581M 19591U 20216U 20219M 20251  20252M 20262U 20904U
             20907M 20941  20942M 20952U 21107U 21110M 21138  21139M 21149U 21327U 21330M 21367  21368M 21378U 21691U
             21694M 21747  21748M 21758U 22147U 22150M 22200  22201M 22211U 22396U 22399M 22449  22450M 22460U 22657U
             22660M 22713  22714M 22724U 22839U 22842M 22953  22954M 22964U 23048U 23051M 23099  23100M 23110U 23194U
             23197M
    11(B)      947U  4799   4989M  5024   5883M  5913   6307M  6339   6609M  6640   7636M  7669   7884M  7916   8103M
              8135   8377M  8410   8581M  8611   9445M  9543  10880M 10940  12989M 13016  13139M 13173  13684M 13717
             14057M 14142  14476M 14517  14952M 14983  15658M 15689  16351M 16382  16976M 17007  17142M 17173  17291M
             17359  17682M 17726  18834M 18866  19007M 19038  19198M 19229  19363M 19395  19547M 19580  20219M 20251
             20907M 20941  21110M 21138  21330M 21367  21694M 21747  22150M 22200  22399M 22449  22660M 22713  22842M
             22953  23051M 23099  23197M
    12(C)      943U  4799   4814   4815M  4816   4817   4989M  4989   4990   5024   5039   5040M  5041   5042   5883M
              5883   5884   5913   5928   5929M  5930   5931   6307M  6307   6308   6339   6354   6355M  6356   6357
              6609M  6609   6610   6640   6655   6656M  6657   6658   7636M  7636   7637   7669   7684   7685M  7686
              7687   7884M  7884   7885   7916   7931   7932M  7933   7934   8103M  8103   8104   8135   8150   8151M
              8152   8153   8377M  8377   8378   8410   8425   8426M  8427   8437U  8441   8573U  8581M  8581   8582
              8611   8626   8627M  8628   8638U  8642   9437U  9445M  9445   9446   9543   9558   9559M  9560   9570U
              9574  10872U 10880M 10880  10881  10940  10955  10956M 10957  10967U 10976  12981U 12989M 12989  12990
             13016  13031  13032M 13033  13034  13139M 13139  13140  13173  13188  13189M 13190  13200U 13204  13676U
             13684M 13684  13685  13717  13732  13733M 13734  13744U 13748  14049U 14057M 14057  14058  14142  14157
             14158M 14159  14169U 14173  14468U 14476M 14476  14477  14517  14532  14533M 14534  14544U 14548  14944U
             14952M 14952  14953  14983  14998  14999M 15000  15010U 15014  15650U 15658M 15658  15659  15689  15704
             15705M 15706  15716U 15720  16343U 16351M 16351  16352  16382  16397  16398M 16399  16409U 16413  16968U
             16976M 16976  16977  17007  17022  17023M 17024  17034U 17038  17134U 17142M 17142  17143  17173  17188
             17189M 17190  17200U 17204  17283U 17291M 17291  17292  17359  17374  17375M 17376  17386U 17390  17674U
             17682M 17682  17683  17726  17741  17742M 17743  17753U 17757  18826U 18834M 18834  18835  18866  18881
             18882M 18883  18893U 18897  18999U 19007M 19007  19008  19038  19053  19054M 19055  19065U 19069  19190U
             19198M 19198  19199  19229  19244  19245M 19246  19256U 19260  19355U 19363M 19363  19364  19395  19410
             19411M 19412  19422U 19426  19539U 19547M 19547  19548  19580  19595  19596M 19597  19598  20219M 20219
             20220  20251  20266  20267M 20268  20278U 20282  20899U 20907M 20907  20908  20941  20956  20957M 20958
             20968U 20972  21102U 21110M 21110  21111  21138  21153  21154M 21155  21165U 21169  21322U 21330M 21330
             21331  21367  21382  21383M 21384  21385  21694M 21694  21695  21747  21762  21763M 21764  21774U 21778
             22142U 22150M 22150  22151  22200  22215  22216M 22217  22227U 22231  22391U 22399M 22399  22400  22449
             22464  22465M 22466  22476U 22480  22652U 22660M 22660  22661  22713  22728  22729M 22730  22740U 22744
1         (NETW00) (09:42) (22MAR04) General Purpose Register Cross Reference                                               Page  203
             22834U 22842M 22842  22843  22953  22968  22969M 22970  22980U 22984  23043U 23051M 23051  23052  23099
             23114  23115M 23116  23126U 23130  23189U 23197M 23197  23198
    13(D)      939U  4799   4799   4814   4815   4817M  4851U  4914U  4917U  4950U  4953U  4989M  4997U  5024   5024
              5039   5040   5042M  5111U  5529U  5532U  5594U  5597U  5634U  5637U  5883M  5891U  5913   5913   5928
              5929   5931M  6003U  6155U  6158U  6248U  6251U  6307M  6315U  6339   6339   6354   6355   6357M  6447U
              6564U  6567U  6609M  6617U  6640   6640   6655   6656   6658M  6763U  6847U  6850U  6904U  6907U  6993U
              6996U  7073U  7076U  7207U  7210U  7303U  7306U  7343U  7346U  7568U  7571U  7636M  7644U  7669   7669
              7684   7685   7687M  7750U  7884M  7892U  7916   7916   7931   7932   7934M  8031U  8103M  8111U  8135
              8135   8150   8151   8153M  8231U  8289U  8292U  8377M  8385U  8410   8410   8425   8426   8441M  8503U
              8545U  8548U  8581M  8589U  8611   8611   8626   8627   8642M  8745U  8907U  8910U  9057U  9060U  9090U
              9093U  9146U  9149U  9195U  9198U  9248U  9251U  9282U  9285U  9445M  9453U  9543   9543   9558   9559
              9574M  9601U  9654U  9657U  9729U  9732U  9795U  9798U 10314U 10317U 10735U 10738U 10880M 10888U 10940
             10940  10955  10956  10976M 11306U 11499U 11502U 11899U 11902U 12159U 12162U 12311U 12314U 12832U 12835U
             12914U 12917U 12989M 12997U 13016  13016  13031  13032  13034M 13100U 13139M 13147U 13173  13173  13188
             13189  13204M 13315U 13460U 13463U 13510U 13513U 13581U 13584U 13623U 13626U 13684M 13692U 13717  13717
             13732  13733  13748M 13837U 14057M 14065U 14142  14142  14157  14158  14173M 14352U 14476M 14484U 14517
             14517  14532  14533  14548M 14636U 14795U 14798U 14861U 14864U 14952M 14960U 14983  14983  14998  14999
             15014M 15263U 15491U 15494U 15549U 15552U 15600U 15603U 15658M 15666U 15689  15689  15704  15705  15720M
             15888U 15993U 15996U 16097U 16100U 16237U 16240U 16294U 16297U 16351M 16359U 16382  16382  16397  16398
             16413M 16524U 16651U 16654U 16773U 16776U 16918U 16921U 16976M 16984U 17007  17007  17022  17023  17038M
             17085U 17142M 17150U 17173  17173  17188  17189  17204M 17238U 17291M 17299U 17359  17359  17374  17375
             17390M 17506U 17618U 17621U 17682M 17690U 17726  17726  17741  17742  17757M 17811U 17899U 17902U 17959U
             17962U 18041U 18044U 18077U 18080U 18124U 18127U 18180U 18183U 18333U 18336U 18356U 18359U 18508U 18511U
             18544U 18547U 18692U 18695U 18834M 18842U 18866  18866  18881  18882  18897M 18925U 19007M 19015U 19038
             19038  19053  19054  19069M 19115U 19198M 19206U 19229  19229  19244  19245  19260M 19287U 19363M 19371U
             19395  19395  19410  19411  19426M 19494U 19547M 19555U 19580  19580  19595  19596  19598M 19618U 19905U
             19908U 19977U 19980U 20155U 20158U 20219M 20227U 20251  20251  20266  20267  20282M 20447U 20529U 20532U
             20597U 20600U 20907M 20915U 20941  20941  20956  20957  20972M 21110M 21138  21138  21153  21154  21169M
             21191U 21330M 21338U 21367  21367  21382  21383  21385M 21567U 21694M 21702U 21747  21747  21762  21763
             21778M 22024U 22150M 22158U 22200  22200  22215  22216  22231M 22399M 22449  22449  22464  22465  22480M
             22561U 22660M 22668U 22713  22713  22728  22729  22744M 22842M 22953  22953  22968  22969  22984M 23051M
             23099  23099  23114  23115  23130M 23197M
    14(E)      935U  4799   4881M  4935M  4968M  4989M  4991B  5024   5087M  5091M  5141M  5237M  5573M  5615M  5673M
              5686M  5707M  5732M  5761M  5845M  5854M  5883M  5885B  5913   6033M  6198M  6261M  6277M  6307M  6309B
              6339   6457M  6529M  6554M  6589M  6609M  6611B  6640   6738M  6797M  6891M  6978M  7030M  7102M  7181M
              7220M  7332M  7356M  7422M  7440M  7597M  7636M  7638B  7669   7760M  7835M  7864M  7884M  7886B  7916
              8077M  8103M  8105B  8135   8243M  8316M  8377M  8379B  8410   8532M  8561M  8581M  8583B  8611   8755M
              8799M  8887M  8946M  9078M  9133M  9181M  9238M  9264M  9325M  9415M  9445M  9447B  9543   9641M  9688M
              9767M  9816M  9931M 10196M 10361M 10490M 10787M 10810M 10851M 10855M 10880M 10882B 10940  11355M 11528M
             11808M 11939M 12188M 12249M 12353M 12458M 12603M 12691M 12861M 12945M 12989M 12991B 13016  13118M 13139M
             13141B 13173  13325M 13403M 13488M 13553M 13594M 13613M 13652M 13684M 13686B 13717  13787M 13853M 14002M
             14023M 14057M 14059B 14142  14200M 14453M 14476M 14478B 14517  14689M 14830M 14890M 14927M 14952M 14954B
             14983  15322M 15510M 15581M 15629M 15658M 15660B 15689  15941M 15979M 15980  15982M 16021M 16144M 16269M
             16323M 16351M 16353B 16382  16562M 16683M 16835M 16947M 16976M 16978B 17007  17114M 17142M 17144B 17173
             17267M 17291M 17293B 17359  17418M 17523M 17646M 17657M 17682M 17684B 17726  17829M 17948M 18015M 18066M
             18109M 18167M 18263M 18346M 18439M 18521M 18587M 18637M 18678M 18708M 18834M 18836B 18866  18951M 19007M
             19009B 19038  19135M 19198M 19200B 19229  19300M 19363M 19365B 19395  19523M 19527M 19547M 19549B 19580
             19648M 19730M 19736M 19787M 19918M 19935M 20012M 20099M 20170M 20186M 20202M 20219M 20221B 20251  20482M
             20545M 20561M 20577M 20623M 20696M 20779M 20851M 20907M 20909B 20941  21110M 21112B 21138  21207M 21330M
             21332B 21367  21585M 21694M 21696B 21747  22052M 22150M 22152B 22200  22399M 22401B 22449  22579M 22660M
             22662B 22713  22842M 22844B 22953  23051M 23053B 23099  23197M 23199B
    15(F)      931U  4799   4800   4880M  4881B  4934M  4935B  4967M  4968B  4989M  5024   5025   5086M  5087B  5090M
              5091B  5140M  5141B  5236M  5237B  5572M  5573B  5614M  5615B  5672M  5673B  5685M  5686B  5706M  5707B
              5731M  5732B  5760M  5761B  5844M  5845B  5853M  5854B  5883M  5913   5914   6032M  6033B  6059   6060M
              6061M  6062M  6063M  6063   6064M  6064   6197M  6198B  6224   6225M  6226M  6227M  6228M  6228   6229M
              6229   6260M  6261B  6276M  6277B  6307M  6339   6340   6456M  6457B  6528M  6529B  6553M  6554B  6588M
              6589B  6609M  6640   6641   6737M  6738B  6796M  6797B  6890M  6891B  6977M  6978B  7029M  7030B  7101M
              7102B  7180M  7181B  7219M  7220B  7331M  7332B  7355M  7356B  7421M  7422B  7439M  7440B  7492   7493M
              7494M  7495M  7496M  7496   7497M  7497   7531   7532M  7533M  7534M  7535M  7535   7536M  7536   7596M
1         (NETW00) (09:42) (22MAR04) General Purpose Register Cross Reference                                               Page  204
              7597B  7636M  7669   7670   7759M  7760B  7834M  7835B  7863M  7864B  7884M  7916   7917   8076M  8077B
              8103M  8135   8136   8242M  8243B  8269   8270M  8271M  8272M  8273M  8273   8274M  8274   8315M  8316B
              8342   8343M  8344M  8345M  8346M  8346   8347M  8347   8377M  8410   8411   8531M  8532B  8560M  8561B
              8581M  8611   8612   8723   8724M  8725M  8726M  8727M  8727   8728M  8728   8754M  8755B  8798M  8799B
              8856   8857M  8858M  8859M  8860M  8860   8861M  8861   8886M  8887B  8945M  8946B  8972   8973M  8974M
              8975M  8976M  8976   8977M  8977   9077M  9078B  9132M  9133B  9180M  9181B  9237M  9238B  9263M  9264B
              9324M  9325B  9351   9352M  9353M  9354M  9355M  9355   9356M  9356   9414M  9415B  9445M  9543   9544
              9640M  9641B  9687M  9688B  9766M  9767B  9815M  9816B  9930M  9931B 10195M 10196B 10360M 10361B 10489M
             10490B 10786M 10787B 10809M 10810B 10850M 10851B 10854M 10855B 10880M 10940  10941  11354M 11355B 11527M
             11528B 11807M 11808B 11938M 11939B 12187M 12188B 12248M 12249B 12352M 12353B 12457M 12458B 12602M 12603B
             12690M 12691B 12860M 12861B 12944M 12945B 12989M 13016  13017  13117M 13118B 13139M 13173  13174  13324M
             13325B 13372  13373M 13374M 13375M 13376M 13376  13377M 13377  13402M 13403B 13487M 13488B 13552M 13553B
             13593M 13594B 13612M 13613B 13651M 13652B 13684M 13717  13718  13786M 13787B 13852M 13853B 14001M 14002B
             14022M 14023B 14057M 14142  14143  14199M 14200B 14265  14266M 14267M 14268M 14269M 14269  14270M 14270
             14436  14437M 14438M 14439M 14440M 14440  14441M 14441  14452M 14453B 14476M 14517  14518  14688M 14689B
             14829M 14830B 14889M 14890B 14926M 14927B 14952M 14983  14984  15321M 15322B 15509M 15510B 15580M 15581B
             15628M 15629B 15658M 15689  15690  15940M 15941B 15981M 15982M 16020M 16021B 16143M 16144B 16268M 16269B
             16322M 16323B 16351M 16382  16383  16561M 16562B 16682M 16683B 16834M 16835B 16946M 16947B 16976M 17007
             17008  17113M 17114B 17142M 17173  17174  17266M 17267B 17291M 17359  17360  17417M 17418B 17522M 17523B
             17645M 17646B 17656M 17657B 17682M 17726  17727  17828M 17829B 17947M 17948B 18014M 18015B 18065M 18066B
             18108M 18109B 18166M 18167B 18262M 18263B 18345M 18346B 18438M 18439B 18520M 18521B 18586M 18587B 18636M
             18637B 18677M 18678B 18707M 18708B 18803  18804M 18805M 18806M 18807M 18807  18808M 18808  18834M 18866
             18867  18950M 18951B 18977  18978M 18979M 18980M 18981M 18981  18982M 18982  19007M 19038  19039  19134M
             19135B 19161  19162M 19163M 19164M 19165M 19165  19166M 19166  19198M 19229  19230  19299M 19300B 19326
             19327M 19328M 19329M 19330M 19330  19331M 19331  19363M 19395  19396  19522M 19523B 19526M 19527B 19547M
             19580  19581  19647M 19648B 19674  19675M 19676M 19677M 19678M 19678  19679M 19679  19729M 19730B 19735M
             19736B 19786M 19787B 19813  19814M 19815M 19816M 19817M 19817  19818M 19818  19917M 19918B 19934M 19935B
             20011M 20012B 20038  20039M 20040M 20041M 20042M 20042  20043M 20043  20098M 20099B 20125  20126M 20127M
             20128M 20129M 20129  20130M 20130  20169M 20170B 20185M 20186B 20201M 20202B 20219M 20251  20252  20325
             20326M 20327M 20328M 20329M 20329  20330M 20330  20409  20410M 20411M 20412M 20413M 20413  20414M 20414
             20481M 20482B 20508  20509M 20510M 20511M 20512M 20512  20513M 20513  20544M 20545B 20560M 20561B 20576M
             20577B 20622M 20623B 20695M 20696B 20778M 20779B 20850M 20851B 20877  20878M 20879M 20880M 20881M 20881
             20882M 20882  20907M 20941  20942  21041  21042M 21043M 21044M 21045M 21045  21046M 21046  21110M 21138
             21139  21206M 21207B 21330M 21367  21368  21584M 21585B 21611  21612M 21613M 21614M 21615M 21615  21616M
             21616  21694M 21747  21748  21859  21860M 21861M 21862M 21863M 21863  21864M 21864  21896  21897M 21898M
             21899M 21900M 21900  21901M 21901  22051M 22052B 22078  22079M 22080M 22081M 22082M 22082  22083M 22083
             22150M 22200  22201  22274  22275M 22276M 22277M 22278M 22278  22279M 22279  22311  22312M 22313M 22314M
             22315M 22315  22316M 22316  22365  22366M 22367M 22368M 22369M 22369  22370M 22370  22399M 22449  22450
             22578M 22579B 22605  22606M 22607M 22608M 22609M 22609  22610M 22610  22660M 22713  22714  22801  22802M
             22803M 22804M 22805M 22805  22806M 22806  22842M 22953  22954  23051M 23099  23100  23197M

1NETWORK  (NETW00) (09:42) (22MAR04) Diagnostic Cross Reference and Assembler Summary                                       Page  205
-                                                                                            HLASM R4.0  2004/03/22 09.42
0     No Statements Flagged in this Assembly
 HIGH LEVEL ASSEMBLER, 5696-234, RELEASE 4.0, PTF UQ57391
0SYSTEM: OS/390 02.10.00            JOBNAME: PJG#NET     STEPNAME: ASM        PROCSTEP: (NOPROC)
0Datasets Allocated for this Assembly
  Con DDname   Dataset Name                                 Volume  Member
   P1 SYSIN    SYS04082.T094226.RA000.PJG#NET.INPUT.H01     SCR101
   L1 SYSLIB   SYS3.DUMMYMAC                                SYSB02
   L2          WYL.GG.ORV.MACLIB                            SYSB02
   L3          WYL.GG.SYS.MACLIB                            SYSB05
      SYSLIN   WYL.GG.PJG.OBJ                               SYSB05  NETWORK
      SYSPRINT SYS04082.T094226.RA000.PJG#NET.PRINT.H01     SCR100
      SYSTERM  GG$PJG.PJG#NET.JOB05949.D0000103.?

    7812K allocated to Buffer Pool,         2881K would be required for this to be an In-Storage Assembly
    3325 Primary Input Records Read         5635 Library Records Read                  0 Work File Reads
       0 ASMAOPT Records Read              14009 Primary Print Records Written         0 Work File Writes
     320 Punch Records Written                 0 ADATA Records Written
0Assembly Start Time: 09.42.28 Stop Time: 09.42.38 Processor Time: 00.00.04.6603
 Return Code 000
