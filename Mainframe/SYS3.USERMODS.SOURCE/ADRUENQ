         TITLE 'ADRUENQ  Enqueue Options Exit for ADRDSSU'
***********************************************************************
*                                                                     *
*   MODULE: ADRUENQ                                                   *
*                                                                     *
*   This module must be link-edited with ADRDSSU.                     *
*                                                                     *
*   Purpose:  Modify VTOC Enqueue options for ADRDSSU full volume dump*
*                                                                     *
*   Mark C. Lawrence, ITSS Systems                                    *
*   1997/03/26:  always set RC=4, don't enqueue VTOC for whole dump   *
*                                                                     *
*                                                                     *
***********************************************************************
ADRUENQ  CSECT
         REGISTER
         SAVE  (14,12),,'ADRUENQ/SU-&SYSDATC-&SYSTIME'
         LR    R12,R15
         USING ADRUENQ,R12
         LR    R3,R1
         USING ADRUNQB,R3
         TM    UNFLG2,UNDSN        Dataset copy?
**       BNO   EXITRC0             if not
         BC    0,EXITRC0           zappable:  don't care
         TM    UNFLG3,UNTOLNQF     Tolerate enqueue failure
**       BNZ   EXITRC0             if not
         BC    0,EXITRC0           zappable:  don't care
         LA    R15,4               RC:  don't enqueue vtoc for job
         RETURN (14,12),RC=(15)

EXITRC0  SLR   R15,R15             RC:  do enqueue vtoc for job
         RETURN (14,12),RC=(15)

         ADRUNQB  ,
         END
