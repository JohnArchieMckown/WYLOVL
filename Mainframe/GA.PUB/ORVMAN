<HTML><HEAD><TITLE>ORVMAN</TITLE></HEAD><BODY>
<A HREF="#INDEX++">INDEX</A>
<BR>
<A HREF="#*">
*</A>
&nbsp;ORVYL/370 Timesharing System Functional Description
<BR>
<A HREF="#1">
1</A>
&nbsp;Orvyl Reference Manual
<BR>
<A HREF="#1.1">
1.1</A>
&nbsp;About This Manual
<BR>
<A HREF="#1.2">
1.2</A>
&nbsp;Introduction
<BR>
<A HREF="#1.3">
1.3</A>
&nbsp;ORVYL Development
<BR>
<A HREF="#1.4">
1.4</A>
&nbsp;ORVYL Command Language Processor (CLP)
<BR>
<A HREF="#1.5">
1.5</A>
&nbsp;ORVYL Public Programs
<BR>
<A HREF="#1.6">
1.6</A>
&nbsp;Document Symbol Conventions
<BR>
<A HREF="#2">
2</A>
&nbsp;ORVYL File System
<BR>
<A HREF="#2.1">
2.1</A>
&nbsp;ORVYL File Structure
<BR>
<A HREF="#2.2">
2.2</A>
&nbsp;File Naming Conventions
<BR>
<A HREF="#2.2.1">
2.2.1</A>
&nbsp;File Format Options
<BR>
<A HREF="#2.2.2">
2.2.2</A>
&nbsp;WYLBUR Active File
<BR>
<A HREF="#2.3">
2.3</A>
&nbsp;ORVYL File Creation
<BR>
<A HREF="#2.3.1">
2.3.1</A>
&nbsp;The CREATE Command
<BR>
<A HREF="#2.3.2">
2.3.2</A>
&nbsp;The ERASE Command
<BR>
<A HREF="#2.3.3">
2.3.3</A>
&nbsp;The RENAME Command
<BR>
<A HREF="#2.3.4">
2.3.4</A>
&nbsp;The SHRINK Command
<BR>
<A HREF="#2.3.5">
2.3.5</A>
&nbsp;The PUT Command
<BR>
<A HREF="#2.3.6">
2.3.6</A>
&nbsp;The GET Command
<BR>
<A HREF="#2.4">
2.4</A>
&nbsp;File Access Controls
<BR>
<A HREF="#2.4.1">
2.4.1</A>
&nbsp;SET PERMIT Command
<BR>
<A HREF="#2.4.2">
2.4.2</A>
&nbsp;The SET SHARE Command
<BR>
<A HREF="#2.4.3">
2.4.3</A>
&nbsp;The SET FILEMASK Command
<BR>
<A HREF="#2.4.4">
2.4.4</A>
&nbsp;The SET CLP Command
<BR>
<A HREF="#2.4.5">
2.4.5</A>
&nbsp;The SET SPIFILE Command
<BR>
<A HREF="#2.5">
2.5</A>
&nbsp;File Information Commands
<BR>
<A HREF="#2.5.1">
2.5.1</A>
&nbsp;The SHOW BLOCKS Command for files
<BR>
<A HREF="#2.5.2">
2.5.2</A>
&nbsp;The SHOW PERMITS Command for files
<BR>
<A HREF="#2.5.3">
2.5.3</A>
&nbsp;The SHOW ACCESS Command for files
<BR>
<A HREF="#2.5.4">
2.5.4</A>
&nbsp;The SHOW SHARE Command
<BR>
<A HREF="#2.5.5">
2.5.5</A>
&nbsp;The SHOW CLP Command
<BR>
<A HREF="#2.5.6">
2.5.6</A>
&nbsp;The SHOW FILEMASK Command
<BR>
<A HREF="#2.6">
2.6</A>
&nbsp;Directory Information Commmands
<BR>
<A HREF="#2.6.1">
2.6.1</A>
&nbsp;The SHOW BLOCKS Command for accounts
<BR>
<A HREF="#2.6.2">
2.6.2</A>
&nbsp;The SHOW PERMITS Command for accounts
<BR>
<A HREF="#2.6.3">
2.6.3</A>
&nbsp;The SHOW ACCESS Command for accounts
<BR>
<A HREF="#2.6.4">
2.6.4</A>
&nbsp;The SHOW FILES Command
<BR>
<A HREF="#2.6.5">
2.6.5</A>
&nbsp;The SHOW FILES ATTACHED Command
<BR>
<A HREF="#2.6.6">
2.6.6</A>
&nbsp;The SHOW VFILES Command
<BR>
<A HREF="#2.6.7">
2.6.7</A>
&nbsp;The SHOW CONTENTS Command
<BR>
<A HREF="#3">
3</A>
&nbsp;Executing ORVYL Programs
<BR>
<A HREF="#3.1">
3.1</A>
&nbsp;Creating Load Modules
<BR>
<A HREF="#3.2">
3.2</A>
&nbsp;LINK Input and Control Statements
<BR>
<A HREF="#3.2.1">
3.2.1</A>
&nbsp;The PARM statement
<BR>
<A HREF="#3.2.2">
3.2.2</A>
&nbsp;The ALIAS Statement
<BR>
<A HREF="#3.2.3">
3.2.3</A>
&nbsp;The CHANGE Statement
<BR>
<A HREF="#3.2.4">
3.2.4</A>
&nbsp;The COMMENT Statement
<BR>
<A HREF="#3.2.5">
3.2.5</A>
&nbsp;The ENTRY Statement
<BR>
<A HREF="#3.2.6">
3.2.6</A>
&nbsp;The EXPAND Statement
<BR>
<A HREF="#3.2.7">
3.2.7</A>
&nbsp;The INCLUDE Statement
<BR>
<A HREF="#3.2.8">
3.2.8</A>
&nbsp;The NAME Statement
<BR>
<A HREF="#3.2.9">
3.2.9</A>
&nbsp;The PAGE Statement
<BR>
<A HREF="#3.2.10">
3.2.10</A>
&nbsp;The REPLACE Statement
<BR>
<A HREF="#3.2.11">
3.2.11</A>
&nbsp;The LOADFILE Statement
<BR>
<A HREF="#3.2.12">
3.2.12</A>
&nbsp;The SYSLIB Statement
<BR>
<A HREF="#3.2.13">
3.2.13</A>
&nbsp;The ZAPNAME Statement
<BR>
<A HREF="#3.2.14">
3.2.14</A>
&nbsp;The ZAPVER Statement
<BR>
<A HREF="#3.2.15">
3.2.15</A>
&nbsp;The ZAPREP Statement
<BR>
<A HREF="#3.3">
3.3</A>
&nbsp;LOADFILES
<BR>
<A HREF="#3.4">
3.4</A>
&nbsp;Loading ORVYL Programs
<BR>
<A HREF="#3.4.1">
3.4.1</A>
&nbsp;The CALL Command
<BR>
<A HREF="#3.4.2">
3.4.2</A>
&nbsp;The SET ENTRY Command
<BR>
<A HREF="#3.4.3">
3.4.3</A>
&nbsp;The GO Command
<BR>
<A HREF="#3.4.4">
3.4.4</A>
&nbsp;The ENTER Command
<BR>
<A HREF="#3.4.5">
3.4.5</A>
&nbsp;The SHOW CORE Command
<BR>
<A HREF="#3.4.6">
3.4.6</A>
&nbsp;The SHOW MAP Command
<BR>
<A HREF="#3.4.7">
3.4.7</A>
&nbsp;The EXIT Command
<BR>
<A HREF="#3.4.8">
3.4.8</A>
&nbsp;The SET REGION Command
<BR>
<A HREF="#3.4.9">
3.4.9</A>
&nbsp;The SHOW REGION Command
<BR>
<A HREF="#3.5">
3.5</A>
&nbsp;Program Execution Control
<BR>
<A HREF="#3.5.1">
3.5.1</A>
&nbsp;The SET TIMER Command
<BR>
<A HREF="#3.6">
3.6</A>
&nbsp;General ORVYL Information
<BR>
<A HREF="#3.6.1">
3.6.1</A>
&nbsp;The SHOW VUSERS Command
<BR>
<A HREF="#3.6.2">
3.6.2</A>
&nbsp;The SHOW VINFO Command
<BR>
<A HREF="#3.6.3">
3.6.3</A>
&nbsp;The SHOW VBLOCKS Command
<BR>
<A HREF="#3.6.4">
3.6.4</A>
&nbsp;The SHOW VGROUP Command
<BR>
<A HREF="#3.6.5">
3.6.5</A>
&nbsp;The SHOW VSYS Command
<BR>
<A HREF="#3.6.6">
3.6.6</A>
&nbsp;The SHOW VSYM Command
<BR>
<A HREF="#4">
4</A>
&nbsp;Debugging Programs Under ORVYL
<BR>
<A HREF="#4.1">
4.1</A>
&nbsp;Session Breaks
<BR>
<A HREF="#4.2">
4.2</A>
&nbsp;Reentering User Programs
<BR>
<A HREF="#4.2.1">
4.2.1</A>
&nbsp;The GO Command
<BR>
<A HREF="#4.2.2">
4.2.2</A>
&nbsp;The ATTN Command
<BR>
<A HREF="#4.3">
4.3</A>
&nbsp;Obtaining User Program Information
<BR>
<A HREF="#4.3.1">
4.3.1</A>
&nbsp;The SHOW CORE Command (SC)
<BR>
<A HREF="#4.3.2">
4.3.2</A>
&nbsp;The SHOW ADDRESS Command (SA)
<BR>
<A HREF="#4.3.3">
4.3.3</A>
&nbsp;The SHOW GPR Command (SG)
<BR>
<A HREF="#4.3.4">
4.3.4</A>
&nbsp;The SHOW FPR Command (SF)
<BR>
<A HREF="#4.3.5">
4.3.5</A>
&nbsp;The SHOW PSW Command (SP)
<BR>
<A HREF="#4.3.6">
4.3.6</A>
&nbsp;The SHOW SAVEGPR Command (SSG)
<BR>
<A HREF="#4.3.7">
4.3.7</A>
&nbsp;The SHOW SAVEPSW Command (SSP)
<BR>
<A HREF="#4.3.8">
4.3.8</A>
&nbsp;The SHOW ALL Command
<BR>
<A HREF="#4.4">
4.4</A>
&nbsp;Modifying User Programs
<BR>
<A HREF="#4.4.1">
4.4.1</A>
&nbsp;The PATCH CORE Command (PC)
<BR>
<A HREF="#4.4.2">
4.4.2</A>
&nbsp;The PATCH GPR Command (PG)
<BR>
<A HREF="#4.4.3">
4.4.3</A>
&nbsp;The PATCH FPR Command (PF)
<BR>
<A HREF="#4.4.4">
4.4.4</A>
&nbsp;The PATCH IA Command (PIA)
<BR>
<A HREF="#4.4.5">
4.4.5</A>
&nbsp;The PATCH PSW Command (PP)
<BR>
<A HREF="#4.4.6">
4.4.6</A>
&nbsp;The PATCH SAVEGPR Command (PSG)
<BR>
<A HREF="#4.4.7">
4.4.7</A>
&nbsp;The PATCH SAVEIA Command (PSIA)
<BR>
<A HREF="#4.4.8">
4.4.8</A>
&nbsp;The PATCH SAVEPSW Command (PSP)
<BR>
<A HREF="#4.5">
4.5</A>
&nbsp;Setting Program Traps
<BR>
<A HREF="#4.5.1">
4.5.1</A>
&nbsp;The SET TRAP Command (ST)
<BR>
<A HREF="#4.5.2">
4.5.2</A>
&nbsp;The SHOW TRAPS Command (STS)
<BR>
<A HREF="#4.5.3">
4.5.3</A>
&nbsp;The CLEAR TRAP Command (CT)
<BR>
<A HREF="#4.5.4">
4.5.4</A>
&nbsp;The CLEAR TRAPS Command (CTS)
<BR>
<A HREF="#4.6">
4.6</A>
&nbsp;ORVYL Program Event Recording and Monitoring
<BR>
<A HREF="#4.6.1">
4.6.1</A>
&nbsp;Program Event Recording (Program Control)
<BR>
<A HREF="#4.6.2">
4.6.2</A>
&nbsp;Program Event Recording (SET EVENT Command)
<BR>
<A HREF="#4.6.3">
4.6.3</A>
&nbsp;Program Monitoring (Program Control)
<BR>
<A HREF="#4.6.4">
4.6.4</A>
&nbsp;Program Monitoring (SET MONITOR Command)
<BR>
<A HREF="#5">
5</A>
&nbsp;ORVYL Supervisor Services
<BR>
<A HREF="#5.1">
5.1</A>
&nbsp;Input and Output Protocols
<BR>
<A HREF="#5.2">
5.2</A>
&nbsp;Terminal Input and Output
<BR>
<A HREF="#5.2.1">
5.2.1</A>
&nbsp;Control Codes for Display Input and Output
<BR>
<A HREF="#5.3">
5.3</A>
&nbsp;WYLBUR Input and Output
<BR>
<A HREF="#5.3.1">
5.3.1</A>
&nbsp;The WYLBUR Active File as an Extension of the Terminal
<BR>
<A HREF="#5.3.2">
5.3.2</A>
&nbsp;Command Passing and Prompting at the Terminal
<BR>
<A HREF="#5.4">
5.4</A>
&nbsp;ORVYL Memory Management
<BR>
<A HREF="#5.4.1">
5.4.1</A>
&nbsp;Reserving and Releasing ORVYL Pages
<BR>
<A HREF="#5.4.2">
5.4.2</A>
&nbsp;Defining ORVYL Page Contents
<BR>
<A HREF="#5.5">
5.5</A>
&nbsp;Exit Routines
<BR>
<A HREF="#5.5.1">
5.5.1</A>
&nbsp;Register Contents upon EXIT Routine Entry
<BR>
<A HREF="#5.5.2">
5.5.2</A>
&nbsp;INTERRUPTION CODES
<BR>
<A HREF="#5.5.3">
5.5.3</A>
&nbsp;SAVE AREA FORMAT
<BR>
<A HREF="#5.6">
5.6</A>
&nbsp;Macro Coding and Symbol Conventions
<BR>
<A HREF="#5.6.1">
5.6.1</A>
&nbsp;Macro Expansions
<BR>
<A HREF="#5.7">
5.7</A>
&nbsp;General Device Control
<BR>
<A HREF="#5.7.1">
5.7.1</A>
&nbsp;ATTACH: Attaching Devices and Files
<BR>
<A HREF="#5.7.2">
5.7.2</A>
&nbsp;DETACH: Detaching Devices and Files
<BR>
<A HREF="#5.7.3">
5.7.3</A>
&nbsp;WAIT: General Synchronization
<BR>
<A HREF="#5.8">
5.8</A>
&nbsp;Terminal Input/Output and Control
<BR>
<A HREF="#5.8.1">
5.8.1</A>
&nbsp;ATTACH (1): Attaching User Terminal
<BR>
<A HREF="#5.8.2">
5.8.2</A>
&nbsp;READ: Terminal Input
<BR>
<A HREF="#5.8.3">
5.8.3</A>
&nbsp;WRITE: Terminal Output
<BR>
<A HREF="#5.8.4">
5.8.4</A>
&nbsp;READ,MODE=DISPLAY: Display Terminal Input
<BR>
<A HREF="#5.8.5">
5.8.5</A>
&nbsp;WRITE,MODE=DISPLAY: Display Terminal Output
<BR>
<A HREF="#5.8.6">
5.8.6</A>
&nbsp;CONTROL (0-1): Page Eject and Spacing
<BR>
<A HREF="#5.8.7">
5.8.7</A>
&nbsp;CONTROL (2-3): Setting Tabs
<BR>
<A HREF="#5.8.8">
5.8.8</A>
&nbsp;CONTROL (4-6): Terminal Input Translation
<BR>
<A HREF="#5.8.9">
5.8.9</A>
&nbsp;CONTROL (7-9): Carriage Control
<BR>
<A HREF="#5.8.10">
5.8.10</A>
&nbsp;CONTROL (21): Reading Terminal Characteristics
<BR>
<A HREF="#5.8.11">
5.8.11</A>
&nbsp;CONTROL (22-24): ATTN Session Break
<BR>
<A HREF="#5.8.12">
5.8.12</A>
&nbsp;CONTROL (25-27): NEWLINE Carriage Return
<BR>
<A HREF="#5.8.13">
5.8.13</A>
&nbsp;CONTROL (28): Obtain DELTA from Wylbur
<BR>
<A HREF="#5.9">
5.9</A>
&nbsp;WYLBUR Input/Output and Control
<BR>
<A HREF="#5.9.1">
5.9.1</A>
&nbsp;WYLBUR PREST Format
<BR>
<A HREF="#5.9.2">
5.9.2</A>
&nbsp;CONTROL (12): Setting the WYLBUR Mode Word
<BR>
<A HREF="#5.9.3">
5.9.3</A>
&nbsp;CONTROL (13): Reading the WYLBUR Mode Word
<BR>
<A HREF="#5.9.4">
5.9.4</A>
&nbsp;CONTROL (14): Detecting the WYLBUR Active File Size
<BR>
<A HREF="#5.9.5">
5.9.5</A>
&nbsp;CONTROL (15): Obtaining the First WYLBUR Line Number
<BR>
<A HREF="#5.9.6">
5.9.6</A>
&nbsp;CONTROL (16): Obtaining the Last WYLBUR Line Number
<BR>
<A HREF="#5.9.7">
5.9.7</A>
&nbsp;CONTROL (17): Deleting the WYLBUR Active File Contents
<BR>
<A HREF="#5.9.8">
5.9.8</A>
&nbsp;CONTROL (18): Aborting a Command in Progress in WYLBUR
<BR>
<A HREF="#5.9.9">
5.9.9</A>
&nbsp;CONTROL (19): Output From the WYLBUR Active File to the Terminal
<BR>
<A HREF="#5.9.10">
5.9.10</A>
&nbsp;CONTROL (20): Obtaining Permission to Process Changed Lines
<BR>
<A HREF="#5.9.11">
5.9.11</A>
&nbsp;READ,MODE=TEXT: Reading the WYLBUR Active File
<BR>
<A HREF="#5.9.12">
5.9.12</A>
&nbsp;WRITE,MODE=TEXT: Writing to the WYLBUR Active File
<BR>
<A HREF="#5.9.13">
5.9.13</A>
&nbsp;READ,MODE=EDIT: Allowing WYLBUR to Issue Command Prompts
<BR>
<A HREF="#5.9.14">
5.9.14</A>
&nbsp;READ,MODE=(EDIT,CHANGES): Editing the WYLBUR Active File
<BR>
<A HREF="#5.9.15">
5.9.15</A>
&nbsp;WRITE,MODE=EDIT: Passing WYLBUR and MILTEN Commands
<BR>
<A HREF="#5.9.16">
5.9.16</A>
&nbsp;MILCOM: Passing Commands to MILTEN Only
<BR>
<A HREF="#5.10">
5.10</A>
&nbsp;ORVYL File Input/Output and Control
<BR>
<A HREF="#5.10.1">
5.10.1</A>
&nbsp;ATTACH (2): Attaching ORVYL Files
<BR>
<A HREF="#5.10.2">
5.10.2</A>
&nbsp;READ: Reading File Blocks
<BR>
<A HREF="#5.10.3">
5.10.3</A>
&nbsp;WRITE: Writing File Blocks
<BR>
<A HREF="#5.10.4">
5.10.4</A>
&nbsp;CONTROL (0): Creating File Blocks
<BR>
<A HREF="#5.10.5">
5.10.5</A>
&nbsp;CONTROL (1): Deleting a File Block
<BR>
<A HREF="#5.10.6">
5.10.6</A>
&nbsp;CONTROL (2): Deleting a Range of File Blocks
<BR>
<A HREF="#5.10.7">
5.10.7</A>
&nbsp;CONTROL (3): Testing for the Existence of a File Block
<BR>
<A HREF="#5.10.8">
5.10.8</A>
&nbsp;CONTROL (4): Obtaining the File First Block Number
<BR>
<A HREF="#5.10.9">
5.10.9</A>
&nbsp;CONTROL (5): Obtaining the File Last Block Number
<BR>
<A HREF="#5.10.10">
5.10.10</A>
&nbsp;CONTROL (6): Obtaining the Total Number of File Blocks
<BR>
<A HREF="#5.10.11">
5.10.11</A>
&nbsp;CONTROL (7): Writing an Updated File Index
<BR>
<A HREF="#5.10.12">
5.10.12</A>
&nbsp;CONTROL (8): Erasing and Renaming Files
<BR>
<A HREF="#5.10.13">
5.10.13</A>
&nbsp;CONTROL (9): Assigning Account Level File Privileges
<BR>
<A HREF="#5.10.14">
5.10.14</A>
&nbsp;CONTROL (10): Assigning PUBLIC File Privileges
<BR>
<A HREF="#5.10.15">
5.10.15</A>
&nbsp;CONTROL (11): Reading File Access Privileges
<BR>
<A HREF="#5.10.16">
5.10.16</A>
&nbsp;CONTROL (12): Setting SHARE ONLY Mode for ATTACH Macro
<BR>
<A HREF="#5.10.17">
5.10.17</A>
&nbsp;CONTROL (13): Sensing SHARE ONLY Mode for ATTACH Macro
<BR>
<A HREF="#5.10.18">
5.10.18</A>
&nbsp;CONTROL (14): Setting the File Format Field
<BR>
<A HREF="#5.10.19">
5.10.19</A>
&nbsp;CONTROL (15): Sensing the File Format Field
<BR>
<A HREF="#5.10.20">
5.10.20</A>
&nbsp;CONTROL (16): Setting a File's CLP/NOCLP Condition
<BR>
<A HREF="#5.10.21">
5.10.21</A>
&nbsp;CONTROL (17): Sensing a File's CLP/NOCLP Condition
<BR>
<A HREF="#5.10.22">
5.10.22</A>
&nbsp;CONTROL (18): Setting a File's CLP Only Condition
<BR>
<A HREF="#5.10.23">
5.10.23</A>
&nbsp;CONTROL (19): Sensing a File's CLP Only Condition
<BR>
<A HREF="#5.10.24">
5.10.24</A>
&nbsp;CONTROL (20): Sensing a File Type
<BR>
<A HREF="#5.10.25">
5.10.25</A>
&nbsp;CONTROL (21): Setting SPIRES Only
<BR>
<A HREF="#5.10.26">
5.10.26</A>
&nbsp;CONTROL (22): Sensing SPIRES Only
<BR>
<A HREF="#5.10.27">
5.10.27</A>
&nbsp;CONTROL (23): Sensing file block size
<BR>
<A HREF="#5.10.28">
5.10.28</A>
&nbsp;CONTROL (24): Obtain maximum file size in blocks
<BR>
<A HREF="#5.10.29">
5.10.29</A>
&nbsp;CONTROL (25): Convert to hybrid file
<BR>
<A HREF="#5.11">
5.11</A>
&nbsp;ORVYL File Status and Reserve/Release
<BR>
<A HREF="#5.11.1">
5.11.1</A>
&nbsp;STATUS (0): Assigning Global File Access
<BR>
<A HREF="#5.11.2">
5.11.2</A>
&nbsp;STATUS (1): Assigning Global PUBLIC Access
<BR>
<A HREF="#5.11.3">
5.11.3</A>
&nbsp;STATUS (2): Reading File Names, Creation Date, and Last Use
<BR>
<A HREF="#5.11.4">
5.11.4</A>
&nbsp;STATUS (3): Detecting Account Level Access Privileges
<BR>
<A HREF="#5.11.5">
5.11.5</A>
&nbsp;STATUS (4): Obtaining Current Space and Usage Statistics
<BR>
<A HREF="#5.11.6">
5.11.6</A>
&nbsp;STATUS (5): Extend a Non-IXR File
<BR>
<A HREF="#5.11.7">
5.11.7</A>
&nbsp;STATUS (6): Allocating a Non-IXR File
<BR>
<A HREF="#5.11.8">
5.11.8</A>
&nbsp;STATUS (7): Allocating a Hybrid File
<BR>
<A HREF="#5.11.11">
5.11.11</A>
&nbsp;Reserved STATUS macros
<BR>
<A HREF="#5.11.11.1">
5.11.11.1</A>
&nbsp;STATUS (100): Create a new account
<BR>
<A HREF="#5.11.11.2">
5.11.11.2</A>
&nbsp;STATUS (101): Delete an account
<BR>
<A HREF="#5.11.11.3">
5.11.11.3</A>
&nbsp;STATUS (102): Reset space allowed
<BR>
<A HREF="#5.11.11.4">
5.11.11.4</A>
&nbsp;STATUS (103): List accounts
<BR>
<A HREF="#5.11.11.5">
5.11.11.5</A>
&nbsp;STATUS (104): Reset space use
<BR>
<A HREF="#5.11.11.6">
5.11.11.6</A>
&nbsp;STATUS (105): Delete file catalog entry
<BR>
<A HREF="#5.11.11.7">
5.11.11.7</A>
&nbsp;STATUS (106): Read real block
<BR>
<A HREF="#5.11.11.8">
5.11.11.8</A>
&nbsp;STATUS (107): Set pseudo account
<BR>
<A HREF="#5.11.11.9">
5.11.11.9</A>
&nbsp;STATUS (108): Set file system access mode
<BR>
<A HREF="#5.11.11.10">
5.11.11.10</A>
&nbsp;STATUS (109): Write real block
<BR>
<A HREF="#5.11.11.11">
5.11.11.11</A>
&nbsp;STATUS (110): Update file start block in catalog
<BR>
<A HREF="#5.11.11.12">
5.11.11.12</A>
&nbsp;STATUS (111): Read catalog entry
<BR>
<A HREF="#5.11.11.13">
5.11.11.13</A>
&nbsp;STATUS (112): Get file system id and name
<BR>
<A HREF="#5.11.11.14">
5.11.11.14</A>
&nbsp;STATUS (113): Convert group to file system id
<BR>
<A HREF="#5.11.11.15">
5.11.11.15</A>
&nbsp;STATUS (114): Get file system/group table
<BR>
<A HREF="#5.11.11.16">
5.11.11.16</A>
&nbsp;STATUS (115): Read real block header
<BR>
<A HREF="#5.11.11.17">
5.11.11.17</A>
&nbsp;STATUS (116): Get a contiguous range of blocks
<BR>
<A HREF="#5.11.11.18">
5.11.11.18</A>
&nbsp;STATUS (117): Suspend program execution
<BR>
<A HREF="#5.11.28">
5.11.28</A>
&nbsp;RESERVE: Obtaining Exclusive File Control
<BR>
<A HREF="#5.11.29">
5.11.29</A>
&nbsp;RELEASE: Relinquish Exclusive File Control
<BR>
<A HREF="#5.12">
5.12</A>
&nbsp;SUZAN Path Input/Output
<BR>
<A HREF="#5.12.1">
5.12.1</A>
&nbsp;ATTACH (4): Creating and Opening a SUZAN Path
<BR>
<A HREF="#5.12.2">
5.12.2</A>
&nbsp;READ: Receiving a Message Using a SUZAN Path
<BR>
<A HREF="#5.12.3">
5.12.3</A>
&nbsp;WRITE: Sending a Message Using a SUZAN Path
<BR>
<A HREF="#5.13">
5.13</A>
&nbsp;User Program Control
<BR>
<A HREF="#5.13.1">
5.13.1</A>
&nbsp;COMMAND: Executing a Subsystem Command
<BR>
<A HREF="#5.13.2">
5.13.2</A>
&nbsp;EXIT: Returning Control to the Command Language Processor
<BR>
<A HREF="#5.13.3">
5.13.3</A>
&nbsp;PAUSE: User-Initiated Session Break
<BR>
<A HREF="#5.13.4">
5.13.4</A>
&nbsp;PANIC: Program or System Initiated Session Break
<BR>
<A HREF="#5.13.5">
5.13.5</A>
&nbsp;SET (0-2): Address Space Management
<BR>
<A HREF="#5.13.6">
5.13.6</A>
&nbsp;SET (3-4): Setting the Time Interval
<BR>
<A HREF="#5.13.7">
5.13.7</A>
&nbsp;SET (5-9): Establishing Program Exit Routines
<BR>
<A HREF="#5.13.8">
5.13.8</A>
&nbsp;SET (10): Resuming Program Execution From an EXIT Routine
<BR>
<A HREF="#5.13.9">
5.13.9</A>
&nbsp;SET (11): Setting the Mask Byte
<BR>
<A HREF="#5.13.10">
5.13.10</A>
&nbsp;SET (12): Setting Order-of-Service Priority
<BR>
<A HREF="#5.13.11">
5.13.11</A>
&nbsp;SET (13): Modifying the Contents of the Communications Area
<BR>
<A HREF="#5.13.12">
5.13.12</A>
&nbsp;SET (14): Reserving Additional Virtual Memory
<BR>
<A HREF="#5.13.13">
5.13.13</A>
&nbsp;SET (15): Releasing Virtual Memory
<BR>
<A HREF="#5.13.14">
5.13.14</A>
&nbsp;SET (16): Reserving Virtual Memory by Specific Address
<BR>
<A HREF="#5.13.15">
5.13.15</A>
&nbsp;SET (17): Enabling Program Event Recording
<BR>
<A HREF="#5.13.16">
5.13.16</A>
&nbsp;SET (18): Enabling Program Monitoring
<BR>
<A HREF="#5.13.17">
5.13.17</A>
&nbsp;SET (19): Protecting Memory Areas
<BR>
<A HREF="#5.13.18">
5.13.18</A>
&nbsp;SET (20): Cancelling Memory Area Protection
<BR>
<A HREF="#5.13.19">
5.13.19</A>
&nbsp;SET (21): Synchronizing Cooperating ORVYL Programs (ENQUEUE)
<BR>
<A HREF="#5.13.20">
5.13.20</A>
&nbsp;SET (22): Synchronizing Cooperating ORVYL Programs (DEQUEUE)
<BR>
<A HREF="#5.13.21">
5.13.21</A>
&nbsp;SET (23): Setting the Memory Initialization Value
<BR>
<A HREF="#5.13.22">
5.13.22</A>
&nbsp;SET (24): Set Program Name
<BR>
<A HREF="#5.13.25">
5.13.25</A>
&nbsp;SET (29): Suspend Program Execution
<BR>
<A HREF="#5.13.26">
5.13.26</A>
&nbsp;SET (30): Define new shared symbol entry
<BR>
<A HREF="#5.13.28">
5.13.28</A>
&nbsp;Reserved SET macros
<BR>
<A HREF="#5.13.28.1">
5.13.28.1</A>
&nbsp;SET (150): Clear pseudo account
<BR>
<A HREF="#5.13.28.2">
5.13.28.2</A>
&nbsp;SET (151): Ignore multiple attentions
<BR>
<A HREF="#5.13.28.3">
5.13.28.3</A>
&nbsp;SET (152): Set CLP real time (interval) timer
<BR>
<A HREF="#5.13.28.4">
5.13.28.4</A>
&nbsp;SET (153): Set CLP compute time timer
<BR>
<A HREF="#5.13.28.5">
5.13.28.5</A>
&nbsp;SET (154): Write an SMF record
<BR>
<A HREF="#5.13.28.6">
5.13.28.6</A>
&nbsp;SET (155): Set Program Key Mask
<BR>
<A HREF="#5.13.29">
5.13.29</A>
&nbsp;WAIT (0): Suspending Program Execution While Awaiting Interrupts
<BR>
<A HREF="#5.14">
5.14</A>
&nbsp;User Program Information
<BR>
<A HREF="#5.14.1">
5.14.1</A>
&nbsp;SENSE (0): Reserved Address Space Status
<BR>
<A HREF="#5.14.2">
5.14.2</A>
&nbsp;SENSE (1): Work Area Management Statistics
<BR>
<A HREF="#5.14.3">
5.14.3</A>
&nbsp;SENSE (2): Virtual Memory Address Space Limits
<BR>
<A HREF="#5.14.4">
5.14.4</A>
&nbsp;SENSE (3): Current Time and Date
<BR>
<A HREF="#5.14.5">
5.14.5</A>
&nbsp;SENSE (4): Elapsed Time
<BR>
<A HREF="#5.14.6">
5.14.6</A>
&nbsp;SENSE (5): Time Interval Currently in Effect
<BR>
<A HREF="#5.14.7">
5.14.7</A>
&nbsp;SENSE (6): Mask Byte
<BR>
<A HREF="#5.14.8">
5.14.8</A>
&nbsp;SENSE (7): Program Service Priority
<BR>
<A HREF="#5.14.9">
5.14.9</A>
&nbsp;SENSE (8): User Name, Account, and Terminal
<BR>
<A HREF="#5.14.10">
5.14.10</A>
&nbsp;SENSE (9-14): Reporting Program Exit Routines, Completion Test
<BR>
<A HREF="#5.14.11">
5.14.11</A>
&nbsp;SENSE (15): PSW and GPR Save Area
<BR>
<A HREF="#5.14.12">
5.14.12</A>
&nbsp;SENSE (16): Program Exception Address
<BR>
<A HREF="#5.14.13">
5.14.13</A>
&nbsp;SENSE (17): Reading the Communications Area
<BR>
<A HREF="#5.14.14">
5.14.14</A>
&nbsp;SENSE (18): Identifying the Command Used to Call the Program
<BR>
<A HREF="#5.14.15">
5.14.15</A>
&nbsp;SENSE (19): Passing Command Parameter Strings
<BR>
<A HREF="#5.14.16">
5.14.16</A>
&nbsp;SENSE (21): Obtaining the Program Event Recording Control Block
<BR>
<A HREF="#5.14.17">
5.14.17</A>
&nbsp;SENSE (22): Obtaining the Monitor Mask
<BR>
<A HREF="#5.14.18">
5.14.18</A>
&nbsp;SENSE (23): Reporting File System Information
<BR>
<A HREF="#5.14.19">
5.14.19</A>
&nbsp;SENSE (24): Sensing the Memory Initialization Value
<BR>
<A HREF="#5.14.20">
5.14.20</A>
&nbsp;SENSE (25): ORVYL CPU Time
<BR>
<A HREF="#5.14.21">
5.14.21</A>
&nbsp;SENSE (26): Obtaining the current time BLOCK
<BR>
<A HREF="#5.14.22">
5.14.22</A>
&nbsp;SENSE (27): Obtaining the HASP Display Buffers
<BR>
<A HREF="#5.14.23">
5.14.23</A>
&nbsp;SENSE (28): Sense ORVYL name
<BR>
<A HREF="#5.14.24">
5.14.24</A>
&nbsp;SENSE (29): Sense program name
<BR>
<A HREF="#5.14.25">
5.14.25</A>
&nbsp;SENSE (30): Obtaining data address for shared symbol
<BR>
<A HREF="#5.14.29">
5.14.29</A>
&nbsp;Reserved SENSE macros
<BR>
<A HREF="#5.14.29.2">
5.14.29.2</A>
&nbsp;SENSE (151): Sense file system info
<BR>
<A HREF="#5.14.29.3">
5.14.29.3</A>
&nbsp;SENSE (152): Sense cross address space memory
<BR>
<A HREF="#5.14.29.4">
5.14.29.4</A>
&nbsp;SENSE (153): Sense Orvyl global memory
<BR>
<A HREF="#5.14.29.5">
5.14.29.5</A>
&nbsp;SENSE (154): Sense OS memory
<BR>
<A HREF="#6">
6</A>
&nbsp;URAM II
<BR>
<A HREF="#6.1">
6.1</A>
&nbsp;URAM Description
<BR>
<A HREF="#6.2">
6.2</A>
&nbsp;URAM II MACROS
<BR>
<A HREF="#6.2.1">
6.2.1</A>
&nbsp;Initialize URAM
<BR>
<A HREF="#6.2.2">
6.2.2</A>
&nbsp;Open a URAM file or device.
<BR>
<A HREF="#6.2.3">
6.2.3</A>
&nbsp;Copy the OPND dsect.
<BR>
<A HREF="#6.2.4">
6.2.4</A>
&nbsp;Create an open parameter area with specified parameters
<BR>
<A HREF="#6.2.5">
6.2.5</A>
&nbsp;Close a URAM File or Device.
<BR>
<A HREF="#6.2.6">
6.2.6</A>
&nbsp;Read a record from a URAM file or device.
<BR>
<A HREF="#6.2.7">
6.2.7</A>
&nbsp;Write a record to a URAM file or device.
<BR>
<A HREF="#6.2.8">
6.2.8</A>
&nbsp;Delete a record from a URAM file.
<BR>
<A HREF="#6.2.9">
6.2.9</A>
&nbsp;Obtain a buffer for a subsequent PUT.
<BR>
<A HREF="#6.2.10">
6.2.10</A>
&nbsp;Process Assign Command Text.
<BR>
<A HREF="#6.2.11">
6.2.11</A>
&nbsp;Copy the FCB dsect.
<BR>
<A HREF="#6.2.12">
6.2.12</A>
&nbsp;Obtain the address of a specified FCB.
<BR>
<A HREF="#6.2.13">
6.2.13</A>
&nbsp;Obtain list of FCB's
<BR>
<A HREF="#6.2.14">
6.2.14</A>
&nbsp;Turn on or suppress URAM error messages.
<BR>
<A HREF="#6.2.15">
6.2.15</A>
&nbsp;Obtain a specific URAM error message.
<BR>
<A HREF="#6.2.16">
6.2.16</A>
&nbsp;Clean up buffers.
<BR>
<A HREF="#6.2.17">
6.2.17</A>
&nbsp;Close all files and free unneeded URAM system buffers
<BR>
<A HREF="#6.2.18">
6.2.18</A>
&nbsp;Obtain Memory
<BR>
<A HREF="#6.2.19">
6.2.19</A>
&nbsp;Free Memory
<BR>
<A HREF="#6.2.20">
6.2.20</A>
&nbsp;Find a member of a ORVYL PDS.
<BR>
<A HREF="#6.2.21">
6.2.21</A>
&nbsp;Delete a member of an ORVYL PDS.
<BR>
<A HREF="#6.2.22">
6.2.22</A>
&nbsp;Rewind a URAM file.
<BR>
<A HREF="#6.2.23">
6.2.23</A>
&nbsp;Obtain current record number of URAM file.
<BR>
<A HREF="#6.2.24">
6.2.24</A>
&nbsp;Point to a specific active file line.
<BR>
<A HREF="#6.2.25">
6.2.25</A>
&nbsp;Establish ATTN, SVC exit routines
<BR>
<A HREF="#6.2.26">
6.2.26</A>
&nbsp;Establish a Command Exit.
<BR>
<A HREF="#6.2.27">
6.2.27</A>
&nbsp;Return from a Command routine.
<BR>
<A HREF="#7">
7</A>
&nbsp;ORVYL Maintenance
<BR>
<A HREF="#7.1">
7.1</A>
&nbsp;The SET REFRESH Command
<BR>
<A HREF="#7.2">
7.2</A>
&nbsp;The SET VMAINT Command
<BR>
<A HREF="#7.3">
7.3</A>
&nbsp;The SET NOVFILE Command
<BR>
<A HREF="#7.4">
7.4</A>
&nbsp;The SHOW VVOLUME Command
<BR>
<A HREF="#7.5">
7.5</A>
&nbsp;The SET VADDVOL Command
<BR>
<A HREF="#7.6">
7.6</A>
&nbsp;The SET VREMVOL Command
<BR>
<A HREF="#7.7">
7.7</A>
&nbsp;The FBAL Command
<BR>
<A HREF="#7.8">
7.8</A>
&nbsp;The ADMIN Program
<BR>
<A HREF="#7.8.1">
7.8.1</A>
&nbsp;The DEFAULT command
<BR>
<A HREF="#7.8.2">
7.8.2</A>
&nbsp;The ADD command
<BR>
<A HREF="#7.8.3">
7.8.3</A>
&nbsp;The DROP command
<BR>
<A HREF="#7.8.4">
7.8.4</A>
&nbsp;The RESET command
<BR>
<A HREF="#7.8.5">
7.8.5</A>
&nbsp;The ACCOUNT command
<BR>
<A HREF="#7.8.6">
7.8.6</A>
&nbsp;The ZORCH command
<BR>
<A HREF="#7.8.7">
7.8.7</A>
&nbsp;The EXTEND command
<BR>
<A HREF="#7.8.8">
7.8.8</A>
&nbsp;The CRENIXR command
<BR>
<A HREF="#7.8.9">
7.8.9</A>
&nbsp;The CREHYBR command
<BR>
<A HREF="#7.9">
7.9</A>
&nbsp;The PLAYMATE Program
<BR>
<A HREF="#7.9.1">
7.9.1</A>
&nbsp;The PLAYMATE Commands
<BR>
<A HREF="#7.9.2">
7.9.2</A>
&nbsp;The PLAYMATE PRIME and PAD Commands
<BR>
<A HREF="#7.9.3">
7.9.3</A>
&nbsp;The PLAYMATE ETOA and ATOE Commands
<BR>
<A HREF="#7.9.4">
7.9.4</A>
&nbsp;The PLAYMATE SORT Command
<BR>
<A HREF="#7.10">
7.10</A>
&nbsp;User file maintenance facilities
<BR>
<A HREF="#7.10.1">
7.10.1</A>
&nbsp;ORVCOPY Facility
<BR>
<A HREF="#7.10.2">
7.10.2</A>
&nbsp;ORVMOVE Facility
<BR>
<A HREF="#7.10.3">
7.10.3</A>
&nbsp;ORVLOAD Facility
<BR>
<A HREF="#7.11">
7.11</A>
&nbsp;MPINIT -- Orvyl initialization parameters
<BR>
<A HREF="#7.11.1">
7.11.1</A>
&nbsp;System initialization parameters
<BR>
<A HREF="#7.11.2">
7.11.2</A>
&nbsp;File system initialization parameters
<BR>
<A NAME="*"></A>
<H2>
*
&nbsp;ORVYL/370 Timesharing System Functional Description
</H2>
&nbsp;<UL><PRE>
&nbsp;******************************************************************
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;*
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SCIP/Campus Computing Facility &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Stanford University &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Stanford, Ca. &nbsp; 94305 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;*
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp;(c)Copyright 1978 by the Board of Trustees of the &nbsp; &nbsp; &nbsp; &nbsp;*
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Leland Stanford Junior University &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All rights reserved &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Printed in the United States of America &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;*
&nbsp;******************************************************************
&nbsp;</PRE></UL>
<A NAME="1"></A>
<H2>
1
&nbsp;Orvyl Reference Manual
</H2>
<A NAME="1.1"></A>
<H2>
1.1
&nbsp;About This Manual
</H2>
<P>
This manual is a functional  description  of  ORVYL,  the  timesharing  monitor
developed  by Stanford University, as seen by the terminal user and programmer.
</P>
<PRE>
&nbsp;- Chapter 1 gives a general overview of ORVYL.
</PRE>
<PRE>
&nbsp;- Chapter 2 is a description  of  the  ORVYL  file  system  and  the
&nbsp;command language file controls available to you.
</PRE>
<PRE>
&nbsp;- Chapter 3 describes LINK processing and control  of  your  program
&nbsp;execution under ORVYL.
</PRE>
<PRE>
&nbsp;- Chapter 4 details the command language debugging and program event
&nbsp;recording aids available to the ORVYL programmer.
</PRE>
<PRE>
&nbsp;- Chapter 5 explains the ORVYL supervisor  services  and  the  ORVYL
&nbsp;macro language.  Macro instructions available to the programmer at
&nbsp;the  assembly  language  level  are organized by management areas.
</PRE>
<PRE>
&nbsp;- Chapter 6 gives information about URAM, the Unified Record  Access
&nbsp;Method.
</PRE>
<PRE>
&nbsp;- Chapter 7 describes VAM/370, the ORVYL File Batch  Access  Method.
</PRE>
<A NAME="1.2"></A>
<H2>
1.2
&nbsp;Introduction
</H2>
<P>
ORVYL is the product of  a  number  of  years  of  development  of  timesharing
resources  on  IBM  hardware  at  Stanford.   From its introduction in the late
sixties as a timesharing monitor on an IBM 9672, ORVYL has  become  a  powerful
timesharing   system,   taking  full  advantage  of  expanded  OS/390  hardware
capabilities.  ORVYL currently operates under OS/MVS on IBM 9672 hardware.   In
conjunction  with  the  WYLBUR=  text-editing  and remote job entry systems and
MILTEN  terminal  communication  systems,  ORVYL  provides  the  capability  of
executing  user  programs in an interactive environment.  ORVYL brings a number
of useful facilities to interactive programming:
</P>
<PRE>
&nbsp;- A  command  language  providing  file  manipulation  capabilities,
&nbsp;program execution controls, and a debugging capability.
</PRE>
<PRE>
&nbsp;- A means of access to reentrant compilers and data base  management
&nbsp;systems  called  shared programs, allowing simultaneous processing
&nbsp;by many users.
</PRE>
<PRE>
&nbsp;- An independent file system which employs special file security and
&nbsp;file sharing controls.
</PRE>
<PRE>
&nbsp;- A  program  interface  with  WYLBUR  allowing  convenient  use  of
&nbsp;available interactive system resources.
</PRE>
<P>
At the assembly language  level,  ORVYL  also  provides  a  number  of  program
management services for your programs and subprocessors:
</P>
<PRE>
&nbsp;- Input  and  output  processing  macros  permitting   communication
&nbsp;between  your  program,  the terminal, ORVYL files, and the WYLBUR
&nbsp;active file.
</PRE>
<PRE>
&nbsp;- General interrupt facilities  allowing  your  program  to  control
&nbsp;input/  output processing and utilize the hardware timer interrupt
&nbsp;facilities.
</PRE>
<PRE>
&nbsp;- Miscellaneous supervisor services, such as reporting the date  and
&nbsp;time of day and memory management.
</PRE>
<P>
ORVYL maintains a file system independent from that administered under  OS/MVS.
The  ORVYL  file  system  provides  file  protection  and  sharing capabilities
uniquely suited to the timesharing environment.  Specific levels of  access  to
particular files or all files created by you may be extended to other specified
users  or  to  a  general  class  called  PUBLIC.   Files may be designated for
concurrent use by many potential users or temporarily reserved by a single user
for development or updating.  A largely  transparent  interface  between  ORVYL
files  and the WYLBUR active file provides an efficient text-editing capability
and a direct method for the loading of program object modules maintained in the
OS/MVS file system.  User files and the indexes required to access  user  files
are  maintained  on  disk.   All  disk  allocation information, as well as file
access information, is also retained on disk.  The ORVYL file system  maintains
the following information, organized by user id and by file, on the file system
catalog:
</P>
<PRE>
&nbsp;- By user id:
</PRE>
<PRE>
&nbsp;- account;
</PRE>
<PRE>
&nbsp;- number of ORVYL blocks currently in use in all files;
</PRE>
<PRE>
&nbsp;- maximum number of ORVYL blocks which may be allocated;
</PRE>
<PRE>
&nbsp;- PUBLIC class access privileges;
</PRE>
<PRE>
&nbsp;- privileges for other groups;
</PRE>
<PRE>
&nbsp;- privileges for individual users.
</PRE>
<PRE>
&nbsp;- By file:
</PRE>
<PRE>
&nbsp;- file name;
</PRE>
<PRE>
&nbsp;- number of ORVYL blocks currently in use in the file;
</PRE>
<PRE>
&nbsp;- PUBLIC class access privileges;
</PRE>
<PRE>
&nbsp;- privileges for other groups;
</PRE>
<PRE>
&nbsp;- file privileges for individual users.
</PRE>
<A NAME="1.3"></A>
<H2>
1.3
&nbsp;ORVYL Development
</H2>
<P>
ORVYL was first designed by Roger  Fajman  and,  under  the  direction  of  Rod
Fredrickson,  implemented  at  the  Campus Facility of the Stanford Computation
Center in 1968. John Borgelt developed the original ORVYL file system. In 1971,
a means for batch access to the ORVYL file system (VAM) was designed by Richard
Levitt and later enhanced by Carol  Lennox.   Throughout  the  period  1968-71,
ORVYL  also  benefitted  from important contributions made by Richard Carr, Don
Gold, and James Moore.
</P>
<P>
In  order  to  achieve  operating  efficiencies,  a  redesigned  ORVYL-II   was
introduced  in  1973.  Substantial  cost reductions were achieved through basic
changes to ORVYL'S paging and dispatching  mechanisms  implemented  by  Richard
Carr. Parallel language and data base systems development also took place under
the direction of Bob Berns (Languages Group), John Schroeder (SPIRES), and Donn
Martin (BALLOTS).
</P>
<P>
ORVYL, is a new design intended to make maximum use of IBM hardware  and  OS/VS
advances,  was  designed  by  the  SCIP  Interactive  Systems Group and was the
combined effort of Richard Carr, Carol Lennox, Richard Levitt,  John  Montague,
Michael  Powell,  and William Skane, all under the direction of James Moore and
Edgar Williams.  It became a major part  of  the  interactive  system  software
developed by the Stanford Center for Information Processing, Charles R Dickens,
Director.
</P>
<P>
Recent improvements to ORVYL have been made by Doug Fletcher, including  a  new
hybrid file structure that permits very large files.
</P>
<A NAME="1.4"></A>
<H2>
1.4
&nbsp;ORVYL Command Language Processor (CLP)
</H2>
<P>
Much of ORVYL's flexibility comes from the Command  Language  Processor  (CLP).
In  the  timeshared  environment,  the  ORVYL  command  language  allows you to
exercise a level of control over program execution  and  a  &quot;virtual  computer&quot;
usually  available  only  to  an  operator  sitting  at a computer console.  By
entering ORVYL commands at a terminal, you may direct the loading and execution
of a program, as well as examine and modify an address space, with a small  set
of general purpose commands.  Since both ORVYL and WYLBUR use the WYLBUR active
file,  a  parallel command language structure has been developed between WYLBUR
and ORVYL.  For example, to store and retrieve the contents of a WYLBUR  active
file  on  a data set, you employ the SAVE and USE commands.  Similarly, to pass
data to and from an ORVYL file, you issue the PUT and GET commands.
</P>
<A NAME="1.5"></A>
<H2>
1.5
&nbsp;ORVYL Public Programs
</H2>
<P>
ORVYL supports the interactive applications of the Stanford Public  Information
REtrieval System (SPIRES), and a number of interactive processors called public
programs.   ORVYL public programs currently implemented include SPITBOL, PL360,
and a BNF Analyzer.  APL, PL/C, BASIC, FORTRAN,  WATFIV,  Pascal,  SCRIPT,  and
SORT  are  also  available  under  ORVYL.   For  a  list  of programs currently
supported, type the SHOW PROGRAMS PUBLIC command.
</P>
<A NAME="1.6"></A>
<H2>
1.6
&nbsp;Document Symbol Conventions
</H2>
<P>
In the general form of an ORVYL command or macro instruction, lowercase letters
identify the actual information to be entered.  For example, the command  form:
</P>
&nbsp;<UL><PRE>
&nbsp;CREATE&nbsp;filename1 [FROM filename2 [APPEND]|[REPLACE]]
&nbsp;</PRE></UL>
<P>
indicates that you must specify a valid file name(s)  as  part  of  the  CREATE
command.
</P>
<PRE>
&nbsp;- Square brackets, [ ], denote optional elements in an ORVYL command
&nbsp;or macro instruction; they are not typed as part of the statement.
</PRE>
<PRE>
&nbsp;- Braces, { }, in the command form indicate that you must specify at
&nbsp;least one of the alternatives enclosed in the braces;  braces  are
&nbsp;not typed as part of the statement.
</PRE>
<PRE>
&nbsp;- A vertical bar, |, separates alternatives or options.
</PRE>
<P>
Thus, in this example, you may use the CREATE command to copy the  contents  of
filename2 to filename1 and optionally replace it (REPLACE), or add the contents
of filename2 to the end of filename1 with APPEND.
</P>
<A NAME="2"></A>
<H2>
2
&nbsp;ORVYL File System
</H2>
<A NAME="2.1"></A>
<H2>
2.1
&nbsp;ORVYL File Structure
</H2>
<P>
An ORVYL file is a collection of data blocks.  Each block is 2048 bytes or 4096
bytes in length depending upon the file system associated with the user's group
code (GG).  Users may write data blocks less than these lengths; however, since
each block is stored in a fixed  space,  storage  charges  are  equivalent  for
complete  and incomplete blocks.  The original length of the data in a block is
stored in a block header, so when the user asks to read the block, the original
data is returned.  An ORVYL block may be created or released independent of any
other block.  No charges are assessed for blocks  until  they  are  created  or
written.
</P>
<A NAME="2.2"></A>
<H2>
2.2
&nbsp;File Naming Conventions
</H2>
<P>
ORVYL maintains file names of the general form
</P>
&nbsp;<UL><PRE>
&nbsp;ORV.gg.uuu.filename
&nbsp;</PRE></UL>
<P>
gg identifies the accounting group in which the file was created.
</P>
<P>
uuu identifies the user who created the file.
</P>
<P>
filename is a file identifier containing as many as 33 alphanumeric characters.
Legal alphameric characters for inclusion in a file name include the letters  A
--  Z,  numbers  0  --  9,  asterisks  (*),  underscores  (_), and periods (.).
Segments in the complete  file  name  are  separated  by  periods.   The  first
character of each segment must be a letter.
</P>
<P>
When creating or referencing an ORVYL file, the user who created the file  need
specify   only  the  filename;  group  and  user  identification  are  supplied
automatically by ORVYL.  When access has been  permitted  by  the  file  owner,
other users may also reference one or more of the owner's files.  The following
chart  lists  the  legal  forms  of  address  for  ORVYL  files,  followed by a
description of the type of user each form is  intended  to  serve.   All  forms
listed  are  legal for input to the Command Language Processor (CLP).  However,
only a subset may be used to name files in ORVYL macros.
</P>
<PRE>
Valid ORVYL Filename Forms | For | For   |        Description
                           | CLP?| Macro?|
---------------------------+-----+-------+------------------------------
ORV.gg.uuu.filename        | Yes |  Yes  | Fully qualified filename
---------------------------+-----+-------+------------------------------
filename                   | Yes |  Yes  | Used by the file owner
---------------------------+-----+-------+------------------------------
@gg.&amp;uuu.filename          | Yes |  Yes  | For members of another group
&amp;uuu.@gg.filename          | Yes |  Yes  | with different user initials
---------------------------+-----+-------+------------------------------
&amp;uuu.filename              | Yes |  Yes  | For members of the file
filename USER uuu          | Yes |  No   | owner's group
---------------------------+-----+-------+------------------------------
@gg.filename               | Yes |  Yes  | For a member of a different
filename GROUP gg          | Yes |  No   | group with the same user
                           |     |       | initials as the file owner
---------------------------+-----+-------+------------------------------
filename USER uuu GROUP gg | Yes |  No   | USER identifies the file owner.
filename GROUP gg USER uuu | Yes |  No   | GROUP identifies the owner's
                           |     |       | group.
---------------------------+-----+-------+------------------------------
filename ACCOUNT uuu$gg    | Yes |  No   | ACCOUNT identifies the file
filename ACCOUNT gg.uuu    | Yes |  No   | owner's initials and group.
---------------------------+-----+-------+------------------------------
filename PUBLIC            | Yes |  No   | PUBLIC file (ACCOUNT GG.PUB)
---------------------------+-----+-------+------------------------------
</PRE>
<P>
When ORVYL file macros require specification of a user name  (group  identifier
plus  user  initials),  the  forms gg.uuu or uuu$gg are both accepted.  For use
with the Command Language Processor (CLP), PUBLIC is accepted as a valid  group
and  user  identifier  for  the  account in which the ORVYL public files reside
(that is: GG.PUB).
</P>
<P>
Programs may create and write temporary ORVYL files during execution.  (SEE the
description of the ATTACH 2 macro in Section  5.)   Such  temporary  files  are
erased as soon as the program detaches the file.
</P>
<P>
Throughout this manual, the term &quot;filename&quot; implies  all  of  the  valid  ORVYL
filename  forms  shown  above.   The  term  &quot;account-info&quot;  implies  any of the
following:
</P>
&nbsp;<UL><PRE>
&nbsp;USER&nbsp;uuu [GROUP gg]
&nbsp;GROUP&nbsp;gg [USER uuu]
&nbsp;ACCOUNT&nbsp;uuu$gg
&nbsp;ACCOUNT&nbsp;gg.uuu
&nbsp;PUBLIC
&nbsp;</PRE></UL>
<A NAME="2.2.1"></A>
<H2>
2.2.1
&nbsp;File Format Options
</H2>
<P>
ORVYL files may be in a variety of formats.  Record length  (line  length)  and
line  numbers  may vary.  When creating ORVYL files, you can specify the format
with the format options.  They are:
</P>
&nbsp;<UL><PRE>
&nbsp;[EDIT|CARD|PRINT|LRECL=nnn]&nbsp;[NUMBERED|INTEGER|UNNUMBERED]
&nbsp;</PRE></UL>
<P>
The format options allow you to specify  three  attributes  of  the  data  set:
</P>
&nbsp;<UL><PRE>
&nbsp;1.&nbsp;record format and length, using LRECL, etc.
&nbsp;2.&nbsp;WYLBUR line number format, using NUMBERED, etc.
&nbsp;</PRE></UL>
<P>
They are meaningful in the commands GET and PUT.   If  you  do  not  specify  a
format,  ORVYL  saves  disk  files in EDIT format (that is, EDIT is the default
format).  Once you have created a disk file  with  the  desired  format,  ORVYL
automatically  recognizes  the format for LINK, GET and PUT...REPLACE commands.
Special caution must be used when specifying  an  explicit  format  for  saving
library  members.  The format attributes apply to the entire ORVYL user library
and not the library members individually.  Thus, if the format  of  the  member
does  not  agree  with that of the library, ORVYL issues a warning message like
the following:
</P>
&nbsp;<UL><PRE>
&nbsp;Warning:&nbsp;Data set type will be changed to PO U/6356/6356
&nbsp;OK&nbsp;(Yes/No)?
&nbsp;</PRE></UL>
<P>
If you reply OK, YES or Y, ORVYL changes the  format  of  the  library  to  the
specified  format.   However,  the new format attributes of the library may not
reflect the actual format attributes  of  the  older  library  members.   Thus,
programs using these members may encounter difficulties, and the SHRINK command
may destroy the old members.  ORVYL will be able to access the old members only
if their format is explicitly given.
</P>
<P>
Option Descriptions
</P>
<PRE>
EDIT            is the default for writing sequential data sets with the
                PUT command.  Internally, active files are always treated
                as EDIT format.  The line number format and position need
                not be specified with the EDIT option.  Library members
                assume the format of the library as the default format.
CARD|PRINT|LRECL=nnn
                specifies that the data set has fixed-length blocked
                records (RECFM=FB) with a record length of nnn.  nnn may
                be an integer between 1 and 235 inclusive.  On a PUT,
                the records may be blocked up to a maximum of 6447
                characters/block.  If the blocking factor is not
                specified on a PUT, ORVYL chooses an optimal blocking
                factor based on device type.  If the actual physical
                block size is not an integral multiple of nnn on a read,
                any characters remaining after all possible lines of nnn
                characters have been extracted will become a separate
                record.  CARD is equivalent to LRECL=80.  PRINT is
                equivalent to LRECL=133.  Using these options on a GET
                command may produce some rather odd looking data if the
                data set being read does not contain fixed records.
NUMBERED        on a write operation (e.g., PUT), it specifies a
                fixed-length blocked record format and that line numbers
                are to be saved as part of the record in the normal ORVYL
                line number form; that is, nnnnn.nnn with leading blanks
                inserted as necessary and trailing zeroes suppressed.  On
                a read operation (e.g., GET, LINK), it specifies that the
                data set is to be treated as NUMBERED fixed or variable
                length blocked.  For non-EDIT format data sets, ORVYL
                uses the line number stored in the record and deletes
                from the record the columns that contain the line number.
UNNUMBERED      on a write operation (e.g., PUT), it specifies a
                fixed-length blocked record format without line numbers
                in the record.  On a read operation (e.g., GET, LINK),
                it specifies that the data set is to be treated as
                UNNUMBERED fixed or variable-length blocked.
                This is the default for CARD|PRINT|LRECL=nnn
INTEGER         has the same meaning as NUMBERED except that the ORVYL
                line number is multiplied by 1000, placed in an 8-digit
                field, and padded with leading zeroes as necessary
                (e.g., line number 1 becomes 00001000).
</PRE>
<P>
See the GET and PUT commands  for  additional  options.   [See  2.3.5,  2.3.6.]
</P>
<A NAME="2.2.2"></A>
<H2>
2.2.2
&nbsp;WYLBUR Active File
</H2>
<P>
ORVYL and WYLBUR both make use of the WYLBUR active file.   The  WYLBUR  active
file  is  an important interface between the ORVYL and OS/MVS file systems.  It
is a temporary or working collection  of  lines  of  text.   Using  the  WYLBUR
text-editing  facility,  lines  may  be  inserted,  replaced,  or  deleted on a
line-by-line basis.  Within lines, individual characters or  character  strings
may  be  inserted,  modified,  or  deleted.   The WYLBUR active file provides a
convenient means for introducing  programs  and  associated  data  into  ORVYL.
Program  output  may be directed to the active file for listing at the terminal
or on a printer.  Output may also be written online  to  WYLBUR  data  sets  or
ORVYL files for later use.  The ORVYL facilities controlling the storage of the
contents  of  the  WYLBUR  active file in an ORVYL file and the transfer of the
contents of an ORVYL file to your WYLBUR  active  file  are  the  PUT  and  GET
commands, respectively.  [See 2.3.5, 2.3.6.]
</P>
<A NAME="2.3"></A>
<H2>
2.3
&nbsp;ORVYL File Creation
</H2>
<P>
An ORVYL file is created in one of the three following ways:
</P>
<PRE>
&nbsp;- with the PUT command, copying the contents of  the  WYLBUR  active
&nbsp;file to an ORVYL file.
</PRE>
<PRE>
&nbsp;- by a user program running under ORVYL.  [See 3.4.]
</PRE>
<PRE>
&nbsp;- by execution of the LINK command, creating a file  which  contains
&nbsp;an executable program.  [See 3.1.]
</PRE>
<P>
The user may establish an ORVYL file with no contents using the CREATE command.
An optional version of the CREATE command also permits  the  user  to  copy  or
append  the  contents  of  one  file  to  another.  File contents and directory
information may be destroyed by execution of the ERASE command.  Employing  the
RENAME  command,  the  user  may  change  the names of established ORVYL files.
</P>
<A NAME="2.3.1"></A>
<H2>
2.3.1
&nbsp;The CREATE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;CREATE&nbsp;filename1 [LIBRARY] [[FROM filename2 [APPEND]|[REPLACE]]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;[format-options]|ALIAS membername] [QUIET]
&nbsp;</PRE></UL>
<P>
The CREATE command writes a file directory entry in the ORVYL file system.  The
CREATE command with a filename and no other options  creates  a  file  with  no
contents in the ORVYL file directory.
</P>
<P>
The FROM filename2 option on the CREATE command  puts  a  copy  of  the  second
file's contents into the new file being created.
</P>
<P>
The CREATE command  can  create  library  format  files,  library  members,  or
sequential files.
</P>
<P>
Options:
</P>
<PRE>
filename1       the name for the ORVYL file being created.  Type HELP
                FILENAME for information on ORVYL file names.
</PRE>
<PRE>
LIBRARY         creates an empty file in LIBRARY format.
</PRE>
<PRE>
FROM filename2  copies the contents of the ORVYL file named filename2 into
                the new file being created with the name filename1.  The
                CREATE command does not copy file access permits from
                filename1 to filename2.
</PRE>
<PRE>
REPLACE         If REPLACE is specified with the FROM option, it replaces
                the contents of filename1, if any, with the contents of
                filename2.  If the FROM option is not specified, it replaces
                any existing contents in filename1 with an empty file.
</PRE>
<PRE>
APPEND          copies the contents of filename2 to the end of filename1.
                Block numbers for the new contents begin at the next
                block after the last existing block number in filename1.
</PRE>
<PRE>
format-options  describe the desired record length and how WYLBUR line
                numbers should be treated.  Type HELP FORMAT-OPTIONS
                for a description of these options.
</PRE>
<PRE>
ALIAS           creates a second directory entry for an existing ORVYL
                library member, with the message &quot;ALIAS for membername2&quot; as
                the title on the new library member created.  The ALIAS option
                only works in the form:
                   CREATE filename1#membername1 ALIAS membername2
</PRE>
<PRE>
QUIET           suppresses the system response when the command is
                successfully completed.
</PRE>
<A NAME="2.3.2"></A>
<H2>
2.3.2
&nbsp;The ERASE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;ERASE&nbsp;filename [CONTENTS] [LIBRARY] [QUIET]
&nbsp;</PRE></UL>
<P>
The ERASE command removes the  specified  file  from  the  ORVYL  file  system,
destroying  any  file  contents.   Once  you  ERASE  an ORVYL file, it is gone;
however, files can be restored from backups maintained by  the  Systems  Group.
</P>
<P>
Options:
</P>
<PRE>
CONTENTS        deletes only the contents of the specified file, retaining
                the  ORVYL file directory information, file access
                privileges, and file format information. You are charged
                for the remaining index block.
</PRE>
<PRE>
LIBRARY         erases a library format file, and all of its members.
                Be sure you want to destroy the entire file before
                using this option.
</PRE>
<PRE>
QUIET           suppresses any message from the system if the command
                is successfully completed.  This is a standard option
                on WYLBUR and ORVYL commands.
</PRE>
<A NAME="2.3.3"></A>
<H2>
2.3.3
&nbsp;The RENAME Command
</H2>
&nbsp;<UL><PRE>
&nbsp;RENAME&nbsp;{filename1 TO filename2|library#member1 TO member2} [QUIET]
&nbsp;</PRE></UL>
<P>
The RENAME command changes the name of an existing ORVYL  file.   It  can  also
rename  library  members.  The RENAME command does not affect the file contents
or those statistics and access privileges maintained  by  ORVYL  for  the  file
contents.
</P>
<P>
Options:
</P>
<PRE>
filename1 TO filename2
                   filename1 is the current name of the ORVYL file to be
                   renamed.

                   filename2 is the new name for the existing ORVYL file.  The
                   name must follow the rules for data set names.  Type
                   HELP FILENAME for information on ORVYL file naming
                   conventions.
</PRE>
<PRE>
library#member1 TO member2
                   library#member1 is the current name of the library
                   member to be renamed.  The name must be in the form
                   lib#member or lib(member).

                   member2 is the new member name for the existing ORVYL file.
                   It must be eight or fewer characters.  Do not use the usual
                   library member notation (# or parentheses) when giving the
                   member name.
</PRE>
<PRE>
QUIET              suppresses the system message when the command is
                   successfully completed.  This is a standard option on
                   ORVYL and WYLBUR commands.
</PRE>
<A NAME="2.3.4"></A>
<H2>
2.3.4
&nbsp;The SHRINK Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHRINK&nbsp;filename [QUIET]
&nbsp;</PRE></UL>
<P>
Deletes all empty blocks  from  the  specified  file.   Does  not  modify  file
directory information or other file contents.
</P>
<PRE>
QUIET         suppresses the system response when the command
              executes successfully.
</PRE>
<A NAME="2.3.5"></A>
<H2>
2.3.5
&nbsp;The PUT Command
</H2>
&nbsp;<UL><PRE>
&nbsp;PUT&nbsp;filename [format-options] [(blocking factor)]
&nbsp;&nbsp; &nbsp; &nbsp; [HEX] [REPLACE|APPEND] [NUMBERED|INTEGER]
&nbsp;</PRE></UL>
<P>
Copies the contents of the WYLBUR active file  to  the  specified  ORVYL  file.
Options:
</P>
&nbsp;<UL>
&nbsp;filename -- is the name of the file to be PUT in the ORVYL  file  system.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;format-options -- allow the user to specify the desired record length and
&nbsp;how WYLBUR line numbers are to be treated.  [See 2.2.1.]
&nbsp;</UL>
&nbsp;<UL>
&nbsp;(blocking factor) -- Specifies the number of lines in the  WYLBUR  active
&nbsp;file  to  be  contained  in a single block in the ORVYL file, where a
&nbsp;single ORVYL block may contain as many as 2048 bytes.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;HEX --  Condenses  a  WYLBUR   active   file   written   in   hexadecimal
&nbsp;representation  into EBCDIC and writes the translated contents in the
&nbsp;specified ORVYL file.  Causes each pair of hexadecimal characters  in
&nbsp;the  active  file  to  be converted to the corresponding EBCDIC value
&nbsp;before the active file is copied to the specified ORVYL file.
&nbsp;</UL>
&nbsp;<UL><PRE>
&nbsp;Note:&nbsp; &nbsp; &nbsp;(1) This option is only valid for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use (a) with the CARD format when the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NUMBERED option is not employed or (b)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; with the LRECL format specification. The
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LRECL value n must be an even integer.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (2) Attempts to translate invalid hexa-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decimal characters to EBCDIC cause the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PUT command to be aborted.
&nbsp;</PRE></UL>
&nbsp;<UL>
&nbsp;REPLACE -- Deletes the contents of the  specified  ORVYL  file  prior  to
&nbsp;writing  the  current  WYLBUR  active  file  in that file. Previously
&nbsp;assigned access privileges are retained.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;APPEND -- If  the  specified  ORVYL  file  already  exists,  appends  the
&nbsp;contents  of  the  current  WYLBUR  active  file  to that ORVYL file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NUMBERED -- When CARD format is also specified, the decimal  WYLBUR  line
&nbsp;number is stored in character positions 73 through 80 in each line of
&nbsp;the  ORVYL  file.  Each line must have a unique line number, but line
&nbsp;numbers need not be in ascending order.  NOTE:  If  the  line  number
&nbsp;exceeds 9999.999, the left-most digits are discarded.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;INTEGER -- When CARD format is also specified, the WYLBUR line number  is
&nbsp;stored  in  character positions 73 through 80 in each line of the the
&nbsp;ORVYL  file.   Line  numbers  include  leading  and  trailing  zeros;
&nbsp;however, the decimal point is omitted.
&nbsp;</UL>
<P>
In order to make use of the NUMBERED sequence and INTEGER sequence  numbers  in
subsequent  GET  commands,  the  file  must  be  retrieved  GET NUMBERED or GET
INTEGER.  If neither option is specified, the contents of  character  positions
73-80 are treated like any other data.
</P>
<A NAME="2.3.6"></A>
<H2>
2.3.6
&nbsp;The GET Command
</H2>
&nbsp;<UL><PRE>
&nbsp;GET&nbsp;filename [format-options] [HEX] [CLEAR|MERGE]
&nbsp;&nbsp; &nbsp; [SKIP=n] [LINES=n] [NUMBERED|INTEGER]
&nbsp;</PRE></UL>
<P>
Copies the contents of the specified ORVYL file to  the  user's  WYLBUR  active
file.
</P>
<P>
Options:
</P>
&nbsp;<UL>
&nbsp;filename is the name of the file to be PUT  in  the  ORVYL  file  system.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;format-options allow the user to specify the desired  record  length  and
&nbsp;how WYLBUR line numbers are to be treated.  [See 2.2.1.]
&nbsp;</UL>
&nbsp;<UL>
&nbsp;HEX --  Expands  the  contents  of  the  ORVYL  file   into   hexadecimal
&nbsp;representation  for  use in the WYLBUR active file.  Each byte in the
&nbsp;ORVYL file is expanded into  two  printable  hexadecimal  characters.
&nbsp;Note: This option is only valid for use (1) with the CARD format when
&nbsp;the  NUMBERED  option  is  not  employed or (2) with the LRECL format
&nbsp;specification, where LRECL is an even integer.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;CLEAR -- Deletes the current contents of the WYLBUR active file prior  to
&nbsp;passing the contents of the specified ORVYL file to the WYLBUR active
&nbsp;file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;MERGE -- Appends or interleaves the contents of the specified ORVYL  file
&nbsp;in  the  current  WYLBUR  active  file.   When  used  with  the EDIT,
&nbsp;VARIABLE, and CARD NUMBERED format options, the included WYLBUR  line
&nbsp;numbers  are  employed  when inserting lines in the active file. When
&nbsp;used with any other format option, file contents are appended to  the
&nbsp;active  file.   Note:  MERGE  may not be used to replace lines in the
&nbsp;current active file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;SKIP=n -- Skips the first n lines of the specified ORVYL file and  copies
&nbsp;all remaining lines to the WYLBUR active file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;LINES=n -- Copies only the first n lines of the specified  ORVYL  file,or
&nbsp;the next n lines following a SKIP=n option,to the WYLBUR active file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NUMBERED -- When the CARD format option is also  specified,  employs  the
&nbsp;decimal  line  numbers contained in character positions 73 through 80
&nbsp;in each line in the ORVYL file as  WYLBUR  line  numbers.   (SEE  PUT
&nbsp;NUMBERED)
&nbsp;</UL>
&nbsp;<UL>
&nbsp;INTEGER -- When the CARD format option is  also  specified,  employs  the
&nbsp;integer  line  numbers contained in character positions 73 through 80
&nbsp;in each line in the ORVYL file as  WYLBUR  line  numbers.   (SEE  PUT
&nbsp;INTEGER)
&nbsp;</UL>
<A NAME="2.4"></A>
<H2>
2.4
&nbsp;File Access Controls
</H2>
<P>
The ORVYL file system maintains a flexible security scheme for all user  files.
This  system  is  based  on  the  principle  that  access  to each file must be
explicitly stated  and  then  controlled  by  the  file  owner.   Access  to  a
particular  file or all files created by one user may be extended to any one or
all other users.
</P>
<P>
When an ORVYL file is first created, no access is permitted to any user  except
the  file  owner himself.  By specifying a level of access to a particular file
or global access to all files with the SET PERMIT commands, the file owner  may
explicitly assign file control to other users.
</P>
<A NAME="2.4.1"></A>
<H2>
2.4.1
&nbsp;SET PERMIT Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;PERMIT [filename] FOR {gg.uuu|GROUP gg|PUBLIC}
&nbsp;&nbsp; &nbsp; &nbsp;{{[READ][APPEND]|APPEND|WRITE|NONE} [EXTEND]}
&nbsp;</PRE></UL>
<P>
The SET PERMIT command allows you to specify a number of  different  ways  that
other  users  may  access  your  files.   You  may set access privileges for an
individual file or for all files owned by you.  However,  you  may  not  assign
access  privileges  to individual library members; access permits apply to your
entire library.  You may restrict access to another specified user or group  or
may  use  the  PUBLIC option to open your file(s) to all users.  Access permits
must be explicitly set.  There are no default privileges assigned by  ORVYL  to
an  individual  file  or  files; however, an ORVYL program, such as SPIRES, may
establish defaults when it creates a file on your behalf.
</P>
<PRE>
To give another user access privileges to a single file:
   SET PERMIT filename FOR gg.uuu [access-level-option]
</PRE>
<PRE>
To give another user access privileges to all your files:
   SET PERMIT FOR gg.uuu [access-level-option]
</PRE>
<PRE>
To grant access privileges to another group to a single file:
   SET PERMIT filename FOR GROUP gg [access-level-option]
</PRE>
<PRE>
To give another group access privileges to all your files:
   SET PERMIT FOR GROUP gg [access-level-option]
</PRE>
<PRE>
To give all users access to your files:
    SET PERMIT FOR PUBLIC [access-level-option]

Option Descriptions
</PRE>
<PRE>
filename        the name of the file to which the SET PERMIT command is
                applied.  If you do not specify a filename, the command
                will apply to all ORVYL files belonging to your account.
</PRE>
<PRE>
FOR account     account is the user or users to whom you are assigning
                privileges. This option may be in the form gg.uuu or
                uuu$gg.
</PRE>
<PRE>
FOR GROUP gg    gg is the group of users to whom you are assigning
                privileges.
</PRE>
<PRE>
FOR PUBLIC      PUBLIC assigns the specified privileges to the all
                users.
</PRE>
<PRE>
READ            permits reading of the file only.  Does not allow any
                changes to the file.
</PRE>
<PRE>
APPEND          gives only the privilege of adding records to the end of
                the specified file(s).  By itself, APPEND does not include
                the privilege of reading a file; to allow others to
                both read a file and add records to it, you must
                specify READ APPEND.
</PRE>
<PRE>
WRITE           permits full access, including reading the file, making
                changes to the file, appending records to the file, and
                erasing the file.
</PRE>
<PRE>
NONE            removes all previously assigned access privileges.
</PRE>
<PRE>
EXTEND          permits the specified user to pass on to other users any
                of the file access privileges granted to the specified
                user.  Only a file owner or a designated user may
                extend previously assigned privileges.  The file owner
                always retains the ability to extend or deny privileges
                to others.
                The EXTEND privilege may not be given to PUBLIC.
</PRE>
<A NAME="2.4.2"></A>
<H2>
2.4.2
&nbsp;The SET SHARE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;SHARE filename
&nbsp;</PRE></UL>
<P>
Prevents exclusive use of the specified file by any user. The  file  is  to  be
used  in  common  and  may  only  be  attached  by user programs or the Command
Language Processor with MODE=SHARE. Only the file owner may issue the SET SHARE
command.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;NOSHARE filename
&nbsp;</PRE></UL>
<P>
Permits a user to attach the specified file to the  exclusion  of  all  others.
Only the file owner may issue the SET NOSHARE command.
</P>
<A NAME="2.4.3"></A>
<H2>
2.4.3
&nbsp;The SET FILEMASK Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;FILEMASK filename {WRITE|READ APPEND|APPEND|READ|NONE}
&nbsp;</PRE></UL>
<P>
Limits all access to the specified file to the FILEMASK  level,  regardless  of
how  other  file  access was obtained or to whom it was assigned. Only the file
owner may issue the SET FILEMASK command.
</P>
<A NAME="2.4.4"></A>
<H2>
2.4.4
&nbsp;The SET CLP Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;CLP filename
&nbsp;</PRE></UL>
<P>
Permits  the  execution  of  all  ORVYL  Command  Language  Processor  commands
otherwise  available  to  the user for operation on the specified file.  When a
file is first created, SET CLP is in effect.  Only the file owner may issue the
SET CLP command.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;NOCLP filename
&nbsp;</PRE></UL>
<P>
Blocks the execution of the  ORVYL  file  commands:  ERASE,  PUT,  RENAME,  SET
PERMIT,  SHOW FILES ERASE, and SHRINK.  SET NOCLP does not affect processing of
the specified file by a user program.  SET NOCLP may only be issued by the file
owner.
</P>
<A NAME="2.4.5"></A>
<H2>
2.4.5
&nbsp;The SET SPIFILE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;SPIFILE filename
&nbsp;</PRE></UL>
<P>
The SET SPIFILE command blocks read access to an ORVYL file by  any  non-SPIRES
ORVYL  programs.   A  file  with SPIFILE set may not be accessed by any program
other than the public SPIRES programs or by any user other than the file owner.
Access is not allowed either for batch SPIRES, batch FASTBILD, or test versions
of SPIRES programs.  The SHOW SPIFILE command displays the SPIFILE access for a
designated ORVYL file.  SET NOSPIFIL reverses the effect  of  the  SET  SPIFILE
command.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;NOSPIFIL filename
&nbsp;</PRE></UL>
<P>
The SET NOSPIFIL command permits ORVYL files to be accessed by  ORVYL  programs
other  than  SPIRES.   It  reverses  the  effect  of  the  SET SPIFILE command.
(Because ORVYL commands can only be 8 characters long, this command is  spelled
NOSPIFIL  instead  of NOSPIFIL.)  The SHOW SPIFILE command displays the SPIFILE
status of an ORVYL file.
</P>
<A NAME="2.5"></A>
<H2>
2.5
&nbsp;File Information Commands
</H2>
<P>
The ORVYL file information commands allow the file owner, or any user with file
access privileges, to  display  information  on  individual  files.   Available
information  includes  the  size  of  a  specified  file  in ORVYL blocks (SHOW
BLOCKS), the access privileges established for a specific  file  with  the  SET
PERMIT  command  (SHOW PERMITS), the net level of access to a specific file for
the issuing user (SHOW ACCESS), the file access privileges associated with  all
files  created by a single user, and the SHARE status set for a particular file
with the SET SHARE/NOSHARE commands.
</P>
<P>
DUMP can be used in place of SHOW to append results to  Wylbur's  Active  File.
For example:
</P>
&nbsp;<UL><PRE>
&nbsp;DUMP&nbsp;FILES LIKE PPRISM ACC GG.SPI
&nbsp;</PRE></UL>
<A NAME="2.5.1"></A>
<H2>
2.5.1
&nbsp;The SHOW BLOCKS Command for files
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;BLOCKS [FILE] filename
&nbsp;</PRE></UL>
<P>
Prints the number of ORVYL blocks included in the specified file,  followed  by
the numbers of the first and last blocks in that file.
</P>
<P>
Note: If you have a filename of FILE or ACCOUNT or any abbreviation down to the
first 3 letters, then you will have to either specify the fully qualified  form
of the filename or use the FILE option.  Eg, SHOW BLOCKS FILE ACC
</P>
<A NAME="2.5.2"></A>
<H2>
2.5.2
&nbsp;The SHOW PERMITS Command for files
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;PERMITS filename [FOR access-group]
&nbsp;</PRE></UL>
<P>
Lists the SET PERMIT access privileges currently in effect  for  the  specified
file.
</P>
<P>
FOR access-group restricts the list of users displayed:
</P>
<PRE>
access-group
   gg.uuu|uuu$gg  The specific user or user's group.
   GROUP gg       The specific group.
   PUBLIC         The PUBLIC permission value.
</PRE>
<A NAME="2.5.3"></A>
<H2>
2.5.3
&nbsp;The SHOW ACCESS Command for files
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;ACCESS filename
&nbsp;</PRE></UL>
<P>
Displays the access privileges available to the issuing user for the  specified
file.    The  privilege  displayed  is  a  combination  of  (1)  the  file  and
account-level permits for both the issuing user and PUBLIC and (2)  the  global
access limit assigned by SET FILEMASK.
</P>
<P>
Note: If you have a filename that is ACCOUNT or any abbreviation down  to  ACC,
then  you  will  have  to  specify  the fully qualified form of the filename to
distinguish it from the ACCOUNT option.
</P>
<A NAME="2.5.4"></A>
<H2>
2.5.4
&nbsp;The SHOW SHARE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;SHARE filename
&nbsp;</PRE></UL>
<P>
Displays the SHARE status set  by  the  file  owner  for  the  specified  file.
</P>
<A NAME="2.5.5"></A>
<H2>
2.5.5
&nbsp;The SHOW CLP Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;CLP filename
&nbsp;</PRE></UL>
<P>
Displays the CLP condition set for  the  specified  file  by  the  file  owner.
</P>
<A NAME="2.5.6"></A>
<H2>
2.5.6
&nbsp;The SHOW FILEMASK Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;FILEMASK filename
&nbsp;</PRE></UL>
<P>
Displays the access level assigned to the specified file with the SET  FILEMASK
command.
</P>
<A NAME="2.6"></A>
<H2>
2.6
&nbsp;Directory Information Commmands
</H2>
<P>
Available information on a user's files includes statistics on  the  number  of
allocated blocks and the number of blocks currently in use (SHOW BLOCKS) and an
alphabetical  listing  of  certain  or  all  ORVYL files, selected according to
optional criteria (SHOW FILES).
</P>
<A NAME="2.6.1"></A>
<H2>
2.6.1
&nbsp;The SHOW BLOCKS Command for accounts
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;BLOCKS [ACCOUNT {uuu$gg|gg.uuu}]
&nbsp;</PRE></UL>
<P>
Displays the current limit on the number of ORVYL blocks which can be allocated
to the user, followed by the number of blocks currently in use.
</P>
<P>
Note: If you have a filename that is ACCOUNT or any abbreviation down  to  ACC,
then  you  will  have  to  specify  the fully qualified form of the filename to
distinguish it from the ACCOUNT option.
</P>
<A NAME="2.6.2"></A>
<H2>
2.6.2
&nbsp;The SHOW PERMITS Command for accounts
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;PERMITS [ACCOUNT {xxx$yy|yy.xxx}] [FOR access-group]
&nbsp;</PRE></UL>
<P>
Prints a list of users who currently enjoy access to the specified user's files
(ACCOUNT option).  If no ACCOUNT option is specified, then  ORVYL  reports  all
access  privileges  assigned  by  the  issuing  user.  Any user assigned access
privileges may display all privileged users as well  as  the  level  of  access
assigned to each.
</P>
<P>
FOR access-group restricts the list of users displayed:
</P>
<PRE>
access-group
   gg.uuu|uuu$gg  The specific user or user's group.
   GROUP gg       The specific group.
   PUBLIC         The PUBLIC permission value.
</PRE>
<A NAME="2.6.3"></A>
<H2>
2.6.3
&nbsp;The SHOW ACCESS Command for accounts
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;ACCESS ACCOUNT {uuu$gg|gg.uuu}
&nbsp;</PRE></UL>
<P>
Displays the access privilege available to the issuing user for all files owned
by the specified user (uuu$gg or gg.uuu).  This privilege is a  combination  of
the privileges assigned both the issuing user and PUBLIC.
</P>
<P>
Note: If you have a filename that is ACCOUNT or any abbreviation down  to  ACC,
then  you  will  have  to  specify  the fully qualified form of the filename to
distinguish it from the ACCOUNT option.
</P>
<A NAME="2.6.4"></A>
<H2>
2.6.4
&nbsp;The SHOW FILES Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;FILES [{LIKE|UNLIKE|FROM} name]
&nbsp;&nbsp; &nbsp; &nbsp;[account-info] [[BLOCKS] [DATED] [FORMAT]|[ALL]] [ERASE]
&nbsp;</PRE></UL>
<P>
Lists in alphabetical order the names of all ORVYL files created  by  the  user
issuing  SHOW  FILES.  Any of the following options may be appended to the SHOW
FILES command to  provide  additional  information  or  modify  the  file  name
display.
</P>
<P>
Options:
</P>
&nbsp;<UL>
&nbsp;LIKE name -- Displays those file names which  begin  with  the  specified
&nbsp;name.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;UNLIKE name -- Displays those file names which  do  not  begin  with  the
&nbsp;specified name.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;FROM name -- Prints  the  names  of  all  files  in  alphabetical  order,
&nbsp;beginning with the specified name.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;account-info -- see section 2.2 for allowed forms.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;BLOCKS -Displays the number of file blocks  allocated  to  the  specified
&nbsp;file,  together with first (F) and last (L) block numbers.  If a file
&nbsp;has been created with no  contents,  the  BLOCKS  option  reports  NO
&nbsp;CONTENTS.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;DATED -- Includes the creation date and date of last use for  each  file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;FORMAT -- Lists the format (e.g.,  EDIT,  VARIABLE)  in  which  data  was
&nbsp;written  in  the  specified ORVYL file. SEE the descriptions of ORVYL
&nbsp;file formats in Section 2.3
&nbsp;</UL>
&nbsp;<UL>
&nbsp;ALL -- Displays BLOCKS, DATED, and FORMAT information for  the  specified
&nbsp;file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;ERASE -- Prompts the user with the name of each file satisfying the  SHOW
&nbsp;FILES  criteria.  A YES reply to the file name prompt causes ORVYL to
&nbsp;delete the file.
&nbsp;</UL>
<A NAME="2.6.5"></A>
<H2>
2.6.5
&nbsp;The SHOW FILES ATTACHED Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;FILES ATTACHED
&nbsp;</PRE></UL>
<P>
Displays the names of all those ORVYL files currently attached by  the  issuing
user.
</P>
<P>
Under ORVYL, user programs may be  executed  by  employing  one  of  the  ORVYL
interactive  language processors (e.g., PL/C, PL360, APL, BASIC, SPITBOL, etc.)
or by loading standard OS object modules produced by OS/VS language processors.
For instructions on the execution of programs  written  under  the  interactive
language  processors,  the  user  should  consult  the  detailed  documentation
available for each.
</P>
<P>
ORVYL accepts object modules produced on-line or  from  one  of  the  following
language processors: FORTRAN IV (G and H), PL360, OS Assembler, PL/1 and COBOL.
Object modules are processed by the ORVYL loader to produce a load module. Load
module  output  may then be executed directly or stored in an ORVYL load module
library for subsequent execution.
</P>
<A NAME="2.6.6"></A>
<H2>
2.6.6
&nbsp;The SHOW VFILES Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VFILES [line-number] [LIKE filename] [ADDR] [RESERVED]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [COUNTS] [USER uuu] [FID n] [SHORT] [NODISP] [?]
&nbsp;</PRE></UL>
<P>
The SHOW VFILES command provides information about ORVYL files (data sets) that
are currently attached by users.  The  files  are  displayed  by  file  system.
Without  any  options,  it  produces  a list of each currently attached file by
every logged-on user, which can be quite long.  It is  especially  useful  when
you  want to find out if a particular file that you need exclusive access to is
attached by anyone else, in which case you may want to use the LIKE  option  to
limit  the display to that particular file.  This command is most often done as
DUMP VFILES to append the result to Wylbur's Active File.
</P>
<P>
The format of the response is:
</P>
&nbsp;<UL><PRE>
&nbsp;Line&nbsp;&lt;nnnn&gt; &lt;gg.uuu&gt; has file &lt;ORV.gg.uuu.filename&gt; &lt;status&gt;
&nbsp;or....
&nbsp;Line&nbsp;&lt;nnnn&gt; &lt;gg.uuu&gt; is waiting for file &lt;ORV.gg.uuu.filename&gt;
&nbsp;</PRE></UL>
<P>
where &quot;&lt;nnnn&gt;&quot; is the Milten line number of the logged-on user,  &quot;&lt;gg.uuu&gt;&quot;  is
the  user's  account  number,  &quot;&lt;ORV.gg.uuu.filename&gt;&quot; is the name of the ORVYL
file, and &lt;status&gt;&quot; is either &quot;(Shared)&quot; or &quot;(Exclusive)&quot;, depending on how the
file is attached.
</P>
<P>
The following options  can  be  used  in  any  logical  combination.  Illogical
combinations will give unpredictable results.
</P>
&nbsp;<UL>
&nbsp;line-number -- displays the list of ORVYL files currently attached by the
&nbsp;user with the specified Milten line number.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;LIKE filename -- displays the list of lines that currently have the named
&nbsp;file attached.  This should be specified in the fully-qualified form,
&nbsp;i.e., &quot;ORV.gg.uuu.filename&quot;.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;ADDR -- includes control-block addresses in the display for each  attach.
&nbsp;This is primarily for internal systems use.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;RESERVED -- only  shows  files  that  are  attached  exclusively  or  are
&nbsp;reserved  and  have  one  or  more  users  waiting for the file to be
&nbsp;available. This is used to find who has a file &quot;locked up&quot;.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;COUNTS -- include file system counts of files currently attached.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;USER uuu -- displays only files  that  are  attached  by  user  uuu  (any
&nbsp;group).
&nbsp;</UL>
&nbsp;<UL>
&nbsp;FID n -- displays only files for file system id n.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;SHORT -- only displays each file once with a count of users with the file
&nbsp;attached.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NODISP -- does not show any files but  only  shows  file  system  counts.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;? -- gives a short help display of the command and options.
&nbsp;</UL>
<A NAME="2.6.7"></A>
<H2>
2.6.7
&nbsp;The SHOW CONTENTS Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;{CONTENTS|PROGRAMS} [FOR library] [account-info] [ALL] [ERASE]
&nbsp;</PRE></UL>
<P>
The SHOW CONTENTS or SHOW PROGRAMS command displays  an  alphabetical  list  of
member names for the specified library.
</P>
<P>
Option Descriptions
</P>
<PRE>
FOR library     the name of the library whose members are to be displayed.
                The default library is the user's library named PROGLIB.
</PRE>
<PRE>
account-info    display the directory of a library belonging to an account
                other than that of the logged-on user.  One form of this
                option is:  ACCOUNT gg.uuu.
</PRE>
<PRE>
ALL             displays the block allocation and usage for each member
                of the library.
</PRE>
<PRE>
ERASE           offers you the option of erasing members of the library.
                After the name of the member has been displayed, ORVYL
                prompts with &quot;Erase?&quot;.  A positive response (YES, Y
                or OK) erases that member.  Any other response is
                interpreted as a negative response.
</PRE>
<A NAME="3"></A>
<H2>
3
&nbsp;Executing ORVYL Programs
</H2>
<A NAME="3.1"></A>
<H2>
3.1
&nbsp;Creating Load Modules
</H2>
<P>
The LINK command invokes the ORVYL loader.  Object modules may be input from  a
file  in  the  ORVYL  file  system, from the user's WYLBUR active file, or from
both.  The LINK command is written in the general form
</P>
&nbsp;<UL><PRE>
&nbsp;LINK&nbsp;{ACTIVE|FROM filename} [CLEAR] [LIST] [ENTER [PAUSE] [parm]]
&nbsp;</PRE></UL>
<P>
where ACTIVE specifies that the contents of the user's WYLBUR active  file  are
to  be  used as the primary input for LINK.  The alternate form, FROM filename,
directs LINK to the specified ORVYL file for input.  ORVYL  files  for  use  as
LINK  input  must  be  written  in  EDIT or CARD format. (SEE Section 2.3 for a
description of ORVYL file formats.)  CLEAR clears the previous contents of user
memory, if any.  LIST logs all LINK control  statements  and  END's  of  object
decks as they are processed.
</P>
<P>
ENTER instructs ORVYL to begin  program  execution  immediately  following  the
completion  of  LINK processing providing a NAME statement wasn't used to store
the program in a LOADFILE.  The PAUSE option for ENTER returns control  to  the
Command  Language  Processor  and  sets  the  program  entry point to the first
instruction.  Execution may then be initiated with the GO  command.   With  the
ENTER  option,  parameters may also be passed to the user program in any of the
following forms:
</P>
<PRE>
                         ---------------------------
                         |  (text) or PARM=(text)  |
                         ---------------------------
                         |  'text' or PARM='text'  |
                         ---------------------------
                         |  &quot;text&quot; or PARM=&quot;text&quot;  |
                         ---------------------------
                         |      PARM=token         |
                         ---------------------------
</PRE>
<P>
In the first three forms, text may be any set of characters, including  matched
sets  of parentheses, doubled quotes, or doubled apostrophes.  The token in the
last form may not contain any  special  characters  other  than  #,  $,  or  @.
</P>
<A NAME="3.2"></A>
<H2>
3.2
&nbsp;LINK Input and Control Statements
</H2>
<P>
LINK input may consist of complete object modules, load modules, and  the  LINK
control statements detailed below. The user should note that no WYLBUR, MILTEN,
or ORVYL commands may be included in LINK input.
</P>
<P>
The following LINK control statements provide much of the flexibility available
with the OS  Linkage  Editor.   Certain  OS  Linkage  Editor  functions  (e.g.,
OVERLAY)  are  not  supported  under ORVYL LINK. Other functions familiar to OS
Linkage Editor users have been modified, while still  others  have  been  added
specifically to fill the special requirements of the ORVYL programmer.
</P>
<P>
The  OS  Linkage  Editor  allows  the  programmer  to  specify  certain   error
diagnostics,   processing,   and  space  allocation  options  in  the  OS  JCL.
Similarly, ORVYL provides a  control  statement  PARM  that  specifies  certain
global options prior to the processing of all other LINK input.
</P>
<A NAME="3.2.1"></A>
<H2>
3.2.1
&nbsp;The PARM statement
</H2>
&nbsp;<UL><PRE>
&nbsp;PARM&nbsp;[option1] [option2] &nbsp;...
&nbsp;</PRE></UL>
<P>
must precede all other control statements in the LINK input. The following PARM
options are currently available:
</P>
&nbsp;<UL>
&nbsp;LET -- Permits  LINK  processing  to  continue  to  the  creation  of  an
&nbsp;executable  program  despite  the  occurrence of certain non-critical
&nbsp;errors such as duplicate control sections,  an  error  on  a  control
&nbsp;statement,  or  overflow  in  the  ALIAS,  REPLACE,  or CHANGE symbol
&nbsp;tables.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NCAL -- Precludes LINK from calling library members in order  to  resolve
&nbsp;external  references.   Note:  NCAL allows the programmer to conserve
&nbsp;space in the output LOADFILE, since he need not  include  subprograms
&nbsp;which  are  also  maintained  in libraries. When a program is invoked
&nbsp;with the CALL command (SEE Section 3.4),  all  unresolved  references
&nbsp;are  resolved  from  those  libraries specified in the SYSLIB control
&nbsp;statement(s).
&nbsp;</UL>
&nbsp;<UL>
&nbsp;SIZE=n -- Specifies the amount of storage required for the program MAP to
&nbsp;be constructed. SIZE must be a decimal value less than  or  equal  to
&nbsp;65536  and may be expressed as nK bytes, where the value of n is less
&nbsp;than or equal to 64. The default SIZE is 12K bytes.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;LIST -- All control statements are echoed at the  terminal  as  they  are
&nbsp;processed.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;MAP -- Prints a module map at the terminal. This map is ordered by  CSECT
&nbsp;location,  while  the  map  available  with  the  SHOW MAP command is
&nbsp;ordered alphabetically by symbol name.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;OSNT -- Specifies that the  program  is  to  be  entered  with  OS  Entry
&nbsp;Conventions.  This  does not imply, however, that OS supervisor calls
&nbsp;in the program will execute.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;FORT -- The program calls the FORTRAN library (implies OSNT).
&nbsp;</UL>
&nbsp;<UL>
&nbsp;URAM -- The program employs the Uniform Record Access Method.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;PROT --  The  program  may  not  modify  itself  (i.e.,  the  program  is
&nbsp;refreshable).  When loaded, the program is protected from inadvertent
&nbsp;modification.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;SHRD -- The program is reentrant and may  be  shared  by  several  users.
&nbsp;Each  user  of  the  program  is  provided a separate user work area.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;PRIV -- The program is declared private. The output LOADFILE is protected
&nbsp;against all access from user programs.  Any attempt to SHOW or  PATCH
&nbsp;the program when loaded is blocked.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;MODE31 -- The program is marked to run in 31-bit mode.  This affects  the
&nbsp;PSW,  and allows the program to access symbols above the 16-meg line.
&nbsp;</UL>
<P>
LINK control statements may not be placed within an object module.  In  several
cases,  the  placement of control statements is restricted.  The last paragraph
of each section below indicates any restrictions.  Control statements may be as
many as 133 characters in length, but may not be continued from one line to the
next.  Blanks are  used  to  separate  operands  in  LINK  control  statements.
</P>
<P>
If a file contains an INCLUDE or  other  control  statement  that  specifies  a
second  filename,  then the default USER and GROUP for the second file is taken
from the first.
</P>
<A NAME="3.2.2"></A>
<H2>
3.2.2
&nbsp;The ALIAS Statement
</H2>
<P>
ALIAS specifies additional names for the output library member.  As many as  16
aliases may be specified for one library member.
</P>
&nbsp;<UL><PRE>
&nbsp;ALIAS&nbsp;symbol [symbol ...]
&nbsp;</PRE></UL>
<P>
where symbol is defined as a control section, entry name, or alternate name for
the program. When the program is executed  by  calling  an  ALIAS  which  is  a
control   section  or  entry  name,  execution  begins  at  the  external  name
referenced.
</P>
<P>
An ALIAS statement must precede the NAME statement used to specify  the  member
name.
</P>
<A NAME="3.2.3"></A>
<H2>
3.2.3
&nbsp;The CHANGE Statement
</H2>
<P>
CHANGE replaces an external symbol by the new symbol  enclosed  in  parentheses
following the external symbol.
</P>
&nbsp;<UL><PRE>
&nbsp;CHANGE&nbsp;external-symbol (new-symbol) &nbsp;...
&nbsp;</PRE></UL>
<P>
where external-symbol may be a control section  name,  an  entry  name,  or  an
external  reference.  New-symbol is the name to which the external symbol is to
be changed.
</P>
<P>
A CHANGE statement must  immediately  precede  either  (1)  the  object  module
containing the external symbol to be changed or (2) the INCLUDE statement which
specifies that object module.
</P>
<A NAME="3.2.4"></A>
<H2>
3.2.4
&nbsp;The COMMENT Statement
</H2>
<P>
COMMENT documents LINK processing. ORVYL logs all COMMENT messages at the  user
terminal as they are encountered in LINK input.
</P>
&nbsp;<UL><PRE>
&nbsp;COMMENT&nbsp;any-text
&nbsp;</PRE></UL>
<A NAME="3.2.5"></A>
<H2>
3.2.5
&nbsp;The ENTRY Statement
</H2>
<P>
ENTRY specifies the symbolic name of the first instruction to be executed  when
the program is ENTERed or called by its module NAME.
</P>
&nbsp;<UL><PRE>
&nbsp;ENTRY&nbsp;external-name
&nbsp;</PRE></UL>
<P>
where external-name is the name of an instruction, not a data name.
</P>
<P>
An ENTRY statement must precede the NAME  statement  for  the  module,  if  one
exists.
</P>
<A NAME="3.2.6"></A>
<H2>
3.2.6
&nbsp;The EXPAND Statement
</H2>
<P>
EXPAND lengthens a control section or  named  common  section  by  a  specified
number of bytes.
</P>
&nbsp;<UL><PRE>
&nbsp;EXPAND&nbsp;name (xxxx)
&nbsp;</PRE></UL>
<P>
where name is the symbolic name of a common section  or  control  section,  the
length  of  which is to be increased, and (xxxx) is the decimal number of bytes
to be added to the length of the common section.
</P>
<P>
An EXPAND statement must immediately follow the object  module  which  contains
the  control or common section to which it refers.  If the module contains more
than one section, then the named section must be the last one defined.
</P>
<A NAME="3.2.7"></A>
<H2>
3.2.7
&nbsp;The INCLUDE Statement
</H2>
<P>
INCLUDE specifies ORVYL files or LOADFILES that are to be sources of additional
input for LINK.  INCLUDE statements are processed in the order  in  which  they
appear  in  the  input.  Only one file or LOADFILE may be processed per INCLUDE
statement.
</P>
&nbsp;<UL><PRE>
&nbsp;INCLUDE&nbsp;filename [(membername...)]
&nbsp;</PRE></UL>
<P>
where filename is the name of a file or LOADFILE to be used  as  an  additional
source  of  input.   For a LOADFILE, at least one membername must be specified.
Other files must be written in EDIT or CARD format.
</P>
<A NAME="3.2.8"></A>
<H2>
3.2.8
&nbsp;The NAME Statement
</H2>
<P>
NAME specifies the name of the program to be stored in a LOADFILE.  Serves as a
delimiter, allowing multiple program processing in a single pass.
</P>
&nbsp;<UL><PRE>
&nbsp;NAME&nbsp;membername [(R)]
&nbsp;</PRE></UL>
<P>
where membername is the name to be assigned to the  program  created  from  the
preceding  input. (R) indicates that this program replaces an identically named
module in the output LOADFILE. After  a  NAME  statement  has  been  processed,
memory  is  automatically  cleared  for  the  next  program.  Once  stored in a
LOADFILE, the CALL command may be used to execute the stored program.
</P>
<P>
The NAME statement is placed after the last object module or control  statement
that is to be used for the program.
</P>
<A NAME="3.2.9"></A>
<H2>
3.2.9
&nbsp;The PAGE Statement
</H2>
<P>
PAGE aligns a control section or named common  area  on  a  4K  page  boundary.
</P>
&nbsp;<UL><PRE>
&nbsp;PAGE&nbsp;[{common-area-name|csectname} ...]
&nbsp;</PRE></UL>
<P>
where common-area-name is the name of the common area to be aligned on  a  page
boundary.  Csectname is the name of the control section to be aligned on a page
boundary.   If  no  name  is specified, then the next common or control section
encountered in the input is aligned on a page boundary.
</P>
<P>
The PAGE statement must immediately precede either (1) the object module  which
defines  the  common area or control section or (2) the INCLUDE statement which
specifies that object module.
</P>
<A NAME="3.2.10"></A>
<H2>
3.2.10
&nbsp;The REPLACE Statement
</H2>
<P>
REPLACE specifies one or more of the following:
</P>
<PRE>
&nbsp;- Replacement of one control section with another.
</PRE>
<PRE>
&nbsp;- Deletion of a control section.
</PRE>
<PRE>
&nbsp;- Deletion of an entry name.
</PRE>
&nbsp;<UL><PRE>
&nbsp;REPLACE&nbsp;{csectname1 [(csectname2)]|entry-name} ...
&nbsp;</PRE></UL>
<P>
where csectname is the name of a control section. If csectname1  is  used,  the
control  section is deleted; if csectname2 is also specified, the first control
section is replaced with the  second.  Entry-name  is  the  entry  name  to  be
deleted.
</P>
<P>
The REPLACE statement must immediately precede either (1) the module containing
the control section or entry name to be replaced or deleted or (2) the  INCLUDE
statement which specifies the module.
</P>
<A NAME="3.2.11"></A>
<H2>
3.2.11
&nbsp;The LOADFILE Statement
</H2>
<P>
LOADFILE specifies the LOADFILE in which the program is to be placed by a  NAME
statement  following LINK processing.  If this statement is not included in the
LINK input, PROGLIB is the default LOADFILE.
</P>
&nbsp;<UL><PRE>
&nbsp;LOADFILE&nbsp;filename
&nbsp;</PRE></UL>
<P>
where filename is the name of the LOADFILE member.
</P>
<P>
Note: If a number of programs are linked at  the  same  time,  the  last  named
LOADFILE is assumed for each program.
</P>
<P>
The LOADFILE statement may  be  placed  anywhere  before  the  NAME  statement.
</P>
<A NAME="3.2.12"></A>
<H2>
3.2.12
&nbsp;The SYSLIB Statement
</H2>
<P>
SYSLIB specifies an automatic call library for LINK  processing.   As  many  as
eight libraries may be specified in separate SYSLIB statements.
</P>
&nbsp;<UL><PRE>
&nbsp;SYSLIB&nbsp;filename
&nbsp;</PRE></UL>
<P>
where filename is the name of a LOADFILE.
</P>
<P>
The SYSLIB statement must precede the NAME statement for each program  that  is
to make use of the automatic call libraries.
</P>
<A NAME="3.2.13"></A>
<H2>
3.2.13
&nbsp;The ZAPNAME Statement
</H2>
<P>
ZAPNAME identifies a CSECT  in  a  load  module  that  is  to  be  modified  by
subsequent ZAPVER and ZAPREP control statements.
</P>
&nbsp;<UL><PRE>
&nbsp;ZAPNAME&nbsp;[csectname]
&nbsp;</PRE></UL>
<P>
where csectname is the name of a previously defined control section.
</P>
<A NAME="3.2.14"></A>
<H2>
3.2.14
&nbsp;The ZAPVER Statement
</H2>
<P>
ZAPVER compares the contents of the control  section  defined  by  the  ZAPNAME
statement at a specified location with text supplied by the user.
</P>
&nbsp;<UL><PRE>
&nbsp;ZAPVER&nbsp;[hex-offset] [text]
&nbsp;</PRE></UL>
<P>
where hex-offset is the hexadecimal displacement of the data  to  be  inspected
and  text  is  supplied  by the user for comparison with the data. The value of
hex-offset must be between 0 and the  length  of  the  CSECT.  Text  may  be  a
sequence  of  hexadecimal  digits  or  a character string enclosed by quotation
marks. Text data may not be separated by commas.
</P>
<P>
A ZAPVER statement must be preceded by a ZAPNAME statement.
</P>
<A NAME="3.2.15"></A>
<H2>
3.2.15
&nbsp;The ZAPREP Statement
</H2>
<P>
ZAPREP modifies data at a specified location in the control section  previously
defined  by  the  ZAPNAME statement.  User-supplied data replaces the currently
defined contents.
</P>
&nbsp;<UL><PRE>
&nbsp;ZAPREP&nbsp;[hex-offset] [text]
&nbsp;</PRE></UL>
<P>
where hex-offset is the hexadecimal displacement of the data to be modified and
text is supplied by the user for replacement.  The value of hex-offset must  be
between  0  and  the length of the CSECT. Text may be a sequence of hexadecimal
digits or a character string enclosed by quotation marks. Text data may not  be
separated by commas.
</P>
<P>
A ZAPREP statement must be preceded by a ZAPNAME statement.
</P>
<A NAME="3.3"></A>
<H2>
3.3
&nbsp;LOADFILES
</H2>
<P>
LINK output is stored in a load module library called a LOADFILE.   A  LOADFILE
may  contain  any  number  of  programs.  Normally,  only  the Command Language
Processor will be used to read and write LOADFILES.
</P>
<P>
Whenever a NAME statement is encountered in LINK input,  a  corresponding  load
module  is  stored  in  the  user's LOADFILE. If the LINK input also contains a
LOADFILE control statement (SEE Section 3.2), then the LOADFILE name is derived
from that statement. If no output name was specified during LINK, ORVYL assigns
output to PROGLIB, the default LOADFILE assigned each user. PROGLIB is  created
automatically when the user first creates a load module.
</P>
<P>
A LOADFILE maintains a directory that contains member  and  alias  names.  This
directory  is  automatically  extended  as the need arises, subject only to the
user's total ORVYL file space allocation.  LOADFILE  member  and  alias  names,
along  with PARM controls specified during LINK, may be displayed with the SHOW
PROGRAMS command.
</P>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;PROGRAMS [LIBRARY loadfile] [account-info]
&nbsp;</PRE></UL>
<P>
where SHOW PROGRAMS displays member names, alias names, and corresponding  PARM
controls  for  the issuing user's PROGLIB.  The option LIBRARY directs ORVYL to
the specified loadfile for the display.  The  account-info  options  (see  2.2)
identify  a  PROGLIB  or  LOADFILE  created by another user.  For example, SHOW
PROGRAMS PUBLIC displays all the available ORVYL public programs in the  public
PROGLIB (ACCOUNT PUB$gg).
</P>
<P>
Programs contained in a LOADFILE or an entire LOADFILE may be deleted using the
ERASE command:
</P>
&nbsp;<UL><PRE>
&nbsp;ERASE&nbsp;loadfile [#program|(program)]
&nbsp;</PRE></UL>
<P>
When a member is deleted, all aliases for the member are  also  erased.   Space
formerly occupied by the member is returned to the file system.
</P>
<P>
If a &quot;private&quot; program is stored in a LOADFILE, any attempt to  read  or  write
the  LOADFILE  is  precluded.  (SEE  the PRIV LINK control statement in Section
3.2.) User programs may not ATTACH a LOADFILE that contains a private  program.
</P>
<A NAME="3.4"></A>
<H2>
3.4
&nbsp;Loading ORVYL Programs
</H2>
<P>
The CALL command allows direct execution for  programs  stored  in  a  LOADFILE
(created  by  LINK  processing).  For ease in debugging, a PAUSE option permits
the user to load the program only.  The GO command  may  then  be  employed  to
initiate  execution.   The  EXIT  command  clears  the loaded program from user
memory.
</P>
<A NAME="3.4.1"></A>
<H2>
3.4.1
&nbsp;The CALL Command
</H2>
&nbsp;<UL><PRE>
&nbsp;CALL&nbsp;name [LIBRARY loadfile] [account-info]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [CLEAR] &nbsp;[NOSHARE] [PAUSE] [parm]
&nbsp;</PRE></UL>
<P>
CALL initiates execution of the specified program.  If the name is an  external
entry point as well as an alias, execution begins at the entry point.
</P>
<P>
Options:
</P>
&nbsp;<UL>
&nbsp;LIBRARY -- Specifies a LOADFILE other than  the  issuing  user's  default
&nbsp;library PROGLIB.  When used with the account-info options, the PUBLIC
&nbsp;PROGLIB,  another  PUBLIC LOADFILE, or another user's LOADFILE may be
&nbsp;specified.  If no LIBRARY is  specified,  ORVYL  first  searches  the
&nbsp;issuing user's library for the program.  If the program is not found,
&nbsp;ORVYL then searches the public PROGLIB.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;CLEAR -- Clears any previous program from user memory.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NOSHARE -- If this is a SHARED program, an  private  version  is  loaded.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;PAUSE -- Returns control to the Command Language Processor and  sets  the
&nbsp;program  entry point to the first instruction.  Execution may then be
&nbsp;initiated with the GO command.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;parm -- Parameters to be passed  to  the  user  program  in  one  of  the
&nbsp;following forms:
&nbsp;</UL>
<PRE>
                         ---------------------------
                         |  (text) or PARM=(text)  |
                         ---------------------------
                         |  'text' or PARM='text'  |
                         ---------------------------
                         |  &quot;text&quot; or PARM=&quot;text&quot;  |
                         ---------------------------
                         |      PARM=token         |
                         ---------------------------
</PRE>
<P>
In the first three forms, text may be any set of characters, including  matched
sets  of parentheses, doubled quotes, or doubled apostrophes.  The token in the
last form may not contain any  special  characters  other  than  #,  $,  or  @.
</P>
<A NAME="3.4.2"></A>
<H2>
3.4.2
&nbsp;The SET ENTRY Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;ENTRY external-symbol
&nbsp;</PRE></UL>
<P>
SET ENTRY sets the entry point of the program to  the  specified  symbol.   SET
ENTRY must be specified before the program is first entered.
</P>
<P>
The SHOW ENTRY command displays the current program entry point.
</P>
<A NAME="3.4.3"></A>
<H2>
3.4.3
&nbsp;The GO Command
</H2>
&nbsp;<UL><PRE>
&nbsp;GO
&nbsp;</PRE></UL>
<P>
Used to begin execution after calling a program with  the  PAUSE  option.   See
Chapter  4  for  debugging  commands  you can issue before executing, including
additional options on the GO command.
</P>
<A NAME="3.4.4"></A>
<H2>
3.4.4
&nbsp;The ENTER Command
</H2>
&nbsp;<UL><PRE>
&nbsp;ENTER&nbsp;[PAUSE] [parm]
&nbsp;</PRE></UL>
<P>
ENTER initiates execution of a program previously loaded with the LINK command.
At ENTER, external symbols are resolved from libraries.
</P>
<P>
Options:
</P>
&nbsp;<UL>
&nbsp;PAUSE -- Returns control to the Command Language Processor and  sets  the
&nbsp;program  entry point to the first instruction.  Execution may then be
&nbsp;initiated with the GO command.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;parm -- Parameters to be passed  to  the  user  program  in  one  of  the
&nbsp;following forms:
&nbsp;</UL>
<PRE>
                         ---------------------------
                         |  (text) or PARM=(text)  |
                         ---------------------------
                         |  'text' or PARM='text'  |
                         ---------------------------
                         |  &quot;text&quot; or PARM=&quot;text&quot;  |
                         ---------------------------
                         |      PARM=token         |
                         ---------------------------
</PRE>
<P>
In the first three forms, text may be any set of characters, including  matched
sets  of parentheses, doubled quotes, or doubled apostrophes.  The token in the
last form may not contain any  special  characters  other  than  #,  $,  or  @.
</P>
<A NAME="3.4.5"></A>
<H2>
3.4.5
&nbsp;The SHOW CORE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;CORE
&nbsp;</PRE></UL>
<P>
SHOW CORE displays a summary of the user's memory utilization.
</P>
<A NAME="3.4.6"></A>
<H2>
3.4.6
&nbsp;The SHOW MAP Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;MAP [CSECT] [EXTRN] [ENTRY] [COMMON] [DUMMY] [FROM symbol]
&nbsp;</PRE></UL>
<P>
Displays all external symbols in alphabetical order, where options display  the
following information:
</P>
&nbsp;<UL><PRE>
&nbsp;CSECT&nbsp; - control section name
&nbsp;EXTRN&nbsp; - unresolved external references
&nbsp;ENTRY&nbsp; - resolved entry points
&nbsp;COMMON&nbsp;- common section names
&nbsp;DUMMY&nbsp; - external dummy section names
&nbsp;FROM&nbsp;symbol &nbsp;- begin the MAP display at the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;specified symbol
&nbsp;</PRE></UL>
<A NAME="3.4.7"></A>
<H2>
3.4.7
&nbsp;The EXIT Command
</H2>
&nbsp;<UL><PRE>
&nbsp;EXIT
&nbsp;</PRE></UL>
<P>
EXIT clears the user's program and detaches all input/output devices.
</P>
<A NAME="3.4.8"></A>
<H2>
3.4.8
&nbsp;The SET REGION Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;REGION [nnnnK]
&nbsp;</PRE></UL>
<P>
ORVYL provides each user with a region of memory in which the program executes.
The exact size of the memory allocated to each user  is  variable  and  can  be
changed  with  the  SET  REGION  command.   The  default  region is the maximum
allowed.
</P>
<PRE>
nnnnK          specifies the size of the region in kilobytes.  This is the
               size of the user's work space, which may not be as high as the
               total available region space if a program is already loaded.
</PRE>
<A NAME="3.4.9"></A>
<H2>
3.4.9
&nbsp;The SHOW REGION Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;REGION
&nbsp;</PRE></UL>
<P>
This command shows the size of the Program and Work areas.  The following is an
example:
</P>
<PRE>
Program region: 11204K
Program area: 964K
   Work area: 10240K
</PRE>
<A NAME="3.5"></A>
<H2>
3.5
&nbsp;Program Execution Control
</H2>
<P>
Once execution has begun, the user  can  exert  control  over  the  program  in
several  important  ways.   Command-driven  programs allow the user to EXIT the
problem program unconditionally.  In addition, the program may also  contain  a
facility  that passes control to the Command Language Processor using the PAUSE
macro.  If, for example, the program is designed so that unrecognized  commands
are passed directly to the Command Language Processor, the PAUSE command can be
employed to halt program execution and give control to CLP.
</P>
<P>
Using the ATTN or BREAK terminal key is a more  direct  means  of  control  for
problem  programs.   When  a  terminal  is in output or idle mode, an ATTN is a
request for a processing break.  Control is passed to the user  program's  ATTN
exit  routine,  if  one  exists.   Otherwise,  a session break is scheduled and
control is passed to CLP.   When  the  user  program's  ATTN  exit  routine  is
entered,  the  program should cease processing and request further instructions
in the form of reading a command from the terminal.  If the  program  does  not
issue  a  terminal  read,  a second ATTN passes control directly to CLP.  Users
should pause prior to the second ATTN to allow the program sufficient  time  to
respond.
</P>
<P>
If the terminal is in input mode, an ATTN does not cause a  session  break.   A
user program may choose to ignore an ATTN on input and reprompt for input.  For
this  case,  a  meta-ATTN, a single question mark followed by an ATTN, has been
defined.  On input, a single question mark followed by an ATTN always forces  a
session break.
</P>
<P>
To resume execution following a session break, the user may  issue  the  GO  or
ATTN command.  GO resumes execution at the point at which the program interrupt
occurred.   ATTN resumes execution at the user's attention exit routine, if one
exists, and simulates an immediate ATTN upon program resumption.
</P>
<A NAME="3.5.1"></A>
<H2>
3.5.1
&nbsp;The SET TIMER Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;TIMER m.n
&nbsp;</PRE></UL>
<P>
The SET TIMER commands interrupts  an  ORVYL  program  at  the  specified  time
interval  and  displays the total program CPU time usage up to that point.  &quot;m&quot;
is seconds and &quot;n&quot; is tenths of a second.  This command helps you keep track of
how much CPU time an ORVYL program uses.   To  turn  the  timer  off,  use  the
command SET TIMER 0.  The SHOW TIMER command displays the time set on the ORVYL
timer.
</P>
<A NAME="3.6"></A>
<H2>
3.6
&nbsp;General ORVYL Information
</H2>
<P>
There are several commands available that provide general information about the
ORVYL environment.  These commands may be used at any time.
</P>
<A NAME="3.6.1"></A>
<H2>
3.6.1
&nbsp;The SHOW VUSERS Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VUSERS [[session-id]|[SPO origin-address]]
&nbsp;</PRE></UL>
<P>
The SHOW VUSERS command displays information about session  activity  for  each
user  in  ORVYL.  The SHOW VUSERS commands returns: the session-id (Milten line
number), account name, program name, I/O count and CPU time  for  each  current
ORVYL  session.   If  you  specify  a  Session  ID,  SHOW  VUSERS  returns this
information for that session only.
</P>
<P>
To get the list of ORVYL users in your  active  file,  type  the  command  DUMP
VUSERS.
</P>
&nbsp;<UL>
&nbsp;session-id -- displays the session information  for  only  the  specified
&nbsp;session.  The session id is the Milten line number, returned with the
&nbsp;SHOW LINE command.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;SPO origin-address -- similar to session-id option, but  you  supply  the
&nbsp;origin-address  of  a  shared program from the SHOW VSYS information.
&nbsp;</UL>
<A NAME="3.6.2"></A>
<H2>
3.6.2
&nbsp;The SHOW VINFO Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VINFO
&nbsp;</PRE></UL>
<P>
The SHOW VINFO command displays general information about ORVYL.  The following
is an example:
</P>
<PRE>
ORVYL:
</PRE>
<PRE>
Started at 05:21:06 11/04/01 (01.308)
</PRE>
<PRE>
Number of CPUs = 3
</PRE>
<PRE>
Current real memory = 507M (192M min, 512M max)
</PRE>
<PRE>
User memory origin = 5M
</PRE>
<PRE>
0 CLP errors
</PRE>
<PRE>
Total Orvyl run time =    1 04:56:10.78
      Total CPU time =    0 07:06:04.71
    Charged CPU time =    0 05:46:26.40
   Dispatch CPU time =    0 00:15:21.64
</PRE>
<PRE>
I/O service CPU time =    0 00:03:22.93
</PRE>
<PRE>
File system I/O summary:
  Bitmap:      31969 cache reads,     23590 disk reads,     27974 disk writes
  Catalog:    201844 cache reads,     15588 disk reads,    823658 disk writes
  IXR:      78421467 cache reads,    114420 disk reads,   1396408 disk writes
  User:     31498626 cache reads,  10419340 disk reads,   3103556 disk writes
</PRE>
<PRE>
Individual files attached:       2152  high-water:       2167
</PRE>
<PRE>
Total user files attached:      88679  high-water:      88764
</PRE>
<PRE>
Total temp files attached:       1722  high-water:       1724
</PRE>
<PRE>
Total temp blocks in use:        8411  high-water:       8415
</PRE>
<PRE>
Designated file system for temporary files: ITS4K
</PRE>
<PRE>
File system cache summary:
  2K System cache: 13000 cache buffers
            78252012 lookups (78119068 in cache, 100%), 2324675 updates
  2K User cache: 34000 cache buffers
            41825907 lookups (31370569 in cache, 75%), 13385383 updates
  4K System cache: 1000 cache buffers
            536374 lookups (536212 in cache, 100%), 76743 updates
  4K User cache: 4000 cache buffers
            138748 lookups (128057 in cache, 92%), 184200 updates
</PRE>
<PRE>
(The SHOW VBLOCKS command gives additional info.)
</PRE>
<A NAME="3.6.3"></A>
<H2>
3.6.3
&nbsp;The SHOW VBLOCKS Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VBLOCKS
&nbsp;</PRE></UL>
<P>
The SHOW VBLOCKS command displays general  information  about  the  ORVYL  file
systems.  The following is an example:
</P>
<PRE>
GENERAL:   333436 blocks available  7929175 total 2K   987810 IOs  86.5% reduced
NSI:       408864 blocks available  7294841 total 2K  3909124 IOs  86.1% reduced
SOCRATES:  130880 blocks available  6026173 total 2K    15988 IOs  76.6% reduced
ITS:       456874 blocks available 11735179 total 2K  2446787 IOs  93.9% reduced
FIS:      2303086 blocks available 14906849 total 2K  6151809 IOs  85.8% reduced
SNAP:           6 blocks available  4557189 total 2K  1554288 IOs  36.9% reduced
OOD:       562389 blocks available  3171670 total 2K     9643 IOs  52.0% reduced
SDCACCT:   190748 blocks available   350553 total 2K       82 IOs
INFACCES:  207187 blocks available   311808 total 2K      247 IOs
ROUTE66:   317357 blocks available  2854503 total 2K   654794 IOs  81.5% reduced
ITS4K:     160003 blocks available   200316 total 4K   261337 IOs  71.7% reduced
</PRE>
<A NAME="3.6.4"></A>
<H2>
3.6.4
&nbsp;The SHOW VGROUP Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VGROUP group-code
&nbsp;</PRE></UL>
<P>
The SHOW VGROUP command displays the ORVYL file system  information  associated
with the given two-character group-code.  The following is an example:
</P>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VGROUP GQ
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;File&nbsp;System ID: 3 &nbsp;Name: ITS
&nbsp;</PRE></UL>
<A NAME="3.6.5"></A>
<H2>
3.6.5
&nbsp;The SHOW VSYS Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VSYS
&nbsp;</PRE></UL>
<P>
The SHOW VSYS command displays a table of all shared programs.   The  following
is an example:
</P>
<PRE>
Name     Users  Size  Origin    SPB       Program
DISPLAY      9   12K  00059000  01400000  ORV.GG.PUB.PROGLIB(DISPLAY)
OVAM         0   16K  000DC000  01400080  ORV.GG.PUB.VAMLIB(OVAM)
PRINTER      0   20K  00000000  01400100  ORV.GG.PUB.PROGLIB(PRINTER)
PSPIRES      9 1024K  81602000  01400180  ORV.GQ.PRD.PRIVLIB(SPIRES)
SPIRES    1633 1024K  81402000  01400280  ORV.GG.SPI.PROGLIB(SPIRES)
SPIBILD      0  512K  0005C000  01400300  ORV.GG.SPI.PROGLIB(SPIBILD)
PEMSDATA     0  112K  8180A000  01400480  ORV.GQ.EMS.PEMS.PROGLIB(PEMSDATA)
EMSDATA      0   20K  81702000  01400E80  ORV.GQ.EMS.EMS.PROGLIB(EMSDATA)
</PRE>
<P>
If the Origin is non-zero, then the program is currently loaded.  If the Origin
begins with 8, it is a 31-bit mode program, and may be loaded above the  16-meg
line (above x'00FFFFFF').
</P>
<A NAME="3.6.6"></A>
<H2>
3.6.6
&nbsp;The SHOW VSYM Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VSYM
&nbsp;</PRE></UL>
<P>
The SHOW VSYM command displays a table of all shared symbols.  The following is
an example:
</P>
<PRE>
Program   Users  Value   Symbol
PEMSDATA   152  0180AB08 S7PEMS
                0181F148 S3&lt;0010&gt;GQ.EMS.EMSPROTOS&lt;0005&gt;PROTO&lt;000B&gt;PEMS.ACTIVE
                0181BBB0 S3&lt;0010&gt;GQ.EMS.EMSPROTOS&lt;0005&gt;PROTO&lt;000A&gt;PEMS.RMAUX
                01819960 S3&lt;0010&gt;GQ.EMS.EMSPROTOS&lt;0005&gt;PROTO&lt;0007&gt;PEMS.SM
                018178B0 S3&lt;0010&gt;GQ.EMS.EMSPROTOS&lt;0005&gt;PROTO&lt;0007&gt;PEMS.RM
                018171F8 S3&lt;0010&gt;GQ.EMS.EMSPROTOS&lt;0005&gt;PROTO&lt;0004&gt;PEMS
                01821228 S2GQ.EMS.PEMS.VERSION
                018212F0 S2GQ.EMS.PEMS.MSGVARS
                01820E38 S2GQ.EMS.PEMS.ADRVARS
                01820CA0 S2GQ.EMS.SETUP.VARS
                01816C90 S1&lt;0006&gt;GQ.EMS&lt;0002&gt;**&lt;000B&gt;PEMS.EXPAND
                01816890 S1&lt;0006&gt;GQ.EMS&lt;0002&gt;**&lt;000C&gt;PEMS.RESOLVE
                01811F00 S1&lt;0006&gt;GQ.EMS&lt;0002&gt;**&lt;000D&gt;PEMS.READAUX2
                0180E388 S1&lt;0006&gt;GQ.EMS&lt;0002&gt;**&lt;000D&gt;PEMS.READAUX1
                0180B108 S1&lt;0006&gt;GQ.EMS&lt;0002&gt;**&lt;000C&gt;PEMS.READMSG
EMSDATA    153  0170436A S6EMS DISTRIBUTION
                0170430A S6EMS NAME INDEX
                01703858 S5ORV.GQ.EMS.DIRECTORY.&lt;02&gt;
                017037A8 S5ORV.GQ.EMS.DIRECTORY.&lt;0B&gt;
                01702B08 S5ORV.GQ.EMS.DIRECTORY.&lt;01&gt;
                01703FA8 S4ORV.GQ.EMS.DIRECTORY.&lt;FF&gt;
</PRE>
<A NAME="4"></A>
<H2>
4
&nbsp;Debugging Programs Under ORVYL
</H2>
<A NAME="4.1"></A>
<H2>
4.1
&nbsp;Session Breaks
</H2>
<P>
A Session Break occurs when a user program is interrupted during execution.  In
a  Session  Break, control is returned to the ORVYL Command Language Processor.
A Session Break may be initiated by the user  at  his  terminal,  by  the  user
program, or by a user program error.  During a Session Break, any ORVYL command
may  be used to display or modify program status.  The user program may prevent
modification of the WYLBUR active file during a Session Break.   The  following
table describes the Session Break types.
</P>
&nbsp;<UL><PRE>
&nbsp;Session&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cause
&nbsp;&nbsp; Break
&nbsp;&nbsp;
&nbsp;ATTENTION&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(1) Typing an ATTN while the user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal is printing or is idling.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (2) Typing only a question mark (?)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; followed by ATTN while the terminal
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is awaiting input.
&nbsp;&nbsp;
&nbsp;PAUSE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Execution of a PAUSE macro by
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the user program.
&nbsp;&nbsp;
&nbsp;PANIC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Detection of a PANIC condition
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; by the system or the user program.
&nbsp;&nbsp;
&nbsp;TRAP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Execution of a user-specified program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trap.
&nbsp;&nbsp;
&nbsp;PROGRAM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Detection of a user-specified program
&nbsp;EVENT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;event.
&nbsp;&nbsp;
&nbsp;MONITOR&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Execution of a selected MONITOR CALL
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instruction.
&nbsp;</PRE></UL>
<A NAME="4.2"></A>
<H2>
4.2
&nbsp;Reentering User Programs
</H2>
<P>
The user may resume program execution from a session break by issuing the GO or
ATTN command.  The GO command returns control to the user's  program,  resuming
execution  at  the  point  at  which  the interrupt occurred.  The ATTN command
returns control to the user's program, but simulates an  interrupt  before  the
next instruction.
</P>
<A NAME="4.2.1"></A>
<H2>
4.2.1
&nbsp;The GO Command
</H2>
&nbsp;<UL><PRE>
&nbsp;GO&nbsp;[TO location] [EVENTS n] [NOLIST] [CONTINUE] [TRAP location]
&nbsp;</PRE></UL>
<P>
The GO command begins program execution  or  resumes  it  following  a  session
break.   If  a  TO  location is not specified, execution continues at the point
where the program interrupt occurred.
</P>
<P>
Options:
</P>
&nbsp;<UL>
&nbsp;TO location --  Alters  the  location  of  the  next  instruction  to  be
&nbsp;executed.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;EVENTS n -- Continues execution until n  events  occur.   Events  include
&nbsp;program  events, monitor events, and program traps. The NOLIST option
&nbsp;on EVENTS suppresses reporting of all events except the last. When an
&nbsp;EVENT has been set, CONTINUE specifies that execution  is  to  resume
&nbsp;following a PER session break.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;TRAP location -- Establishes a temporary trap at the specified  location.
&nbsp;This trap is cleared at the next session break.
&nbsp;</UL>
<A NAME="4.2.2"></A>
<H2>
4.2.2
&nbsp;The ATTN Command
</H2>
&nbsp;<UL><PRE>
&nbsp;ATTN&nbsp;[EVENTS n] [NOLIST] [TRAP location]
&nbsp;</PRE></UL>
<P>
The ATTN command resumes program execution following a session break,  starting
execution  at  the  program's  exit  routine,  if  one  exists.   In effect, it
simulates an immediate ATTN upon program resumption.
</P>
<P>
Options:
</P>
&nbsp;<UL>
&nbsp;EVENTS n -- Continues execution until n  events  occur.   Events  include
&nbsp;program  events, monitor events, and program traps. The NOLIST option
&nbsp;on EVENTS suppresses reporting of all events except the last.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;TRAP location -- Establishes a temporary trap at the specified  location.
&nbsp;This trap is cleared at the next session break.
&nbsp;</UL>
<A NAME="4.3"></A>
<H2>
4.3
&nbsp;Obtaining User Program Information
</H2>
<P>
ORVYL provides a number of program diagnostic commands for use during a Session
Break.  Employing these commands, the user may display
</P>
<PRE>
&nbsp;- The contents of a core location.
</PRE>
<PRE>
&nbsp;- A summary of the user's memory utilization.
</PRE>
<PRE>
&nbsp;- The contents of the program registers.
</PRE>
<PRE>
&nbsp;- The contents of floating-point registers.
</PRE>
<PRE>
&nbsp;- The current program status word.
</PRE>
<PRE>
&nbsp;- The contents of registers saved at the last interrupt.
</PRE>
<PRE>
&nbsp;- The program status word saved at the  last  interrupt.
</PRE>
<PRE>
&nbsp;- Established program traps.
</PRE>
<PRE>
&nbsp;- The value of an expression.
</PRE>
<P>
In each  of  the  following  commands,  the  SHOW  form  causes  the  specified
information  to be displayed at the terminal.  You can substitute DUMP for SHOW
to cause the specified information to be appended to the user's  WYLBUR  active
file.
</P>
<A NAME="4.3.1"></A>
<H2>
4.3.1
&nbsp;The SHOW CORE Command (SC)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;CORE [start-address-expression
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{length|TO end-address-expression}
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [MATCH {hexadecimal-expression|'string'}
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{length|TO end-address-expression} [REPEAT]]]
&nbsp;</PRE></UL>
<P>
Displays the contents of the  specified  core  location.   If  no  location  is
specified, prints a summary of the user's program area utilization.  [See 4.4.]
for a definition of expression.  The MATCH option instructs ORVYL to search for
a  hexadecimal expression or string over the range from the starting address to
an ending address.  The REPEAT option causes it to go to the next occurrence of
the match value.
</P>
<A NAME="4.3.2"></A>
<H2>
4.3.2
&nbsp;The SHOW ADDRESS Command (SA)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;ADDRESS expression
&nbsp;</PRE></UL>
<P>
Displays the value of the  specified  expression  in  decimal  and  hexadecimal
representation.  [See 4.4.]  for a definition of expression.
</P>
<A NAME="4.3.3"></A>
<H2>
4.3.3
&nbsp;The SHOW GPR Command (SG)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;GPR [first-register [last-register]]
&nbsp;</PRE></UL>
<P>
Displays the contents of the specified general register  or  range  of  general
registers.   If  no  registers are specified, ORVYL reports the contents of all
registers (0-15).
</P>
<A NAME="4.3.4"></A>
<H2>
4.3.4
&nbsp;The SHOW FPR Command (SF)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;FPR [first-register [last-register]]
&nbsp;</PRE></UL>
<P>
Displays the contents of the specified  floating-point  register  or  range  of
floating-point  registers.   If  no  registers are specified, ORVYL reports the
contents of all floating-point registers.
</P>
<A NAME="4.3.5"></A>
<H2>
4.3.5
&nbsp;The SHOW PSW Command (SP)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;PSW [FORMAT]
&nbsp;</PRE></UL>
<P>
Displays the user program status word.  The FORMAT option displays the  various
fields within the PSW.
</P>
<A NAME="4.3.6"></A>
<H2>
4.3.6
&nbsp;The SHOW SAVEGPR Command (SSG)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;SAVEGPR [first-register [last-register]]
&nbsp;</PRE></UL>
<P>
Displays the contents of the range of  general  registers  saved  at  the  last
interrupt.   If  no  registers are specified, ORVYL reports the contents of all
interrupt general registers (0-15).
</P>
<A NAME="4.3.7"></A>
<H2>
4.3.7
&nbsp;The SHOW SAVEPSW Command (SSP)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;SAVEPSW [FORMAT]
&nbsp;</PRE></UL>
<P>
Displays the program status word saved at the last interrupt or  most  recently
modified  by  a  PATCH SAVEPSW command.  The FORMAT option displays the various
fields within the PSW.
</P>
<A NAME="4.3.8"></A>
<H2>
4.3.8
&nbsp;The SHOW ALL Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;ALL [NOCORE] [NOMAP]
&nbsp;</PRE></UL>
<P>
Displays the user program status word (PSW), the contents of  all  general  and
floating-point registers, SAVEGPRS, SAVEPSW, information on memory utilization,
and   the  program  map.   The  option  NOCORE  suppresses  memory  utilization
information; NOMAP suppresses the program map.
</P>
<A NAME="4.4"></A>
<H2>
4.4
&nbsp;Modifying User Programs
</H2>
<P>
The ORVYL debugging commands below permit the user  to  modify  program  status
during  a  Session  Break.   A  general  expression,  as employed below, may be
replaced by any one of the following quantities:
</P>
<PRE>
&nbsp;- An external name in the program MAP. The value substituted for the
&nbsp;external name is the address associated with that name.
</PRE>
<PRE>
&nbsp;- A decimal integer. Decimal integers may  be  whole  numbers  only;
&nbsp;that  is,  they begin with a non-zero digit and contain no decimal
&nbsp;points.
</PRE>
<PRE>
&nbsp;- A hexadecimal integer. A valid hexadecimal integer consists of the
&nbsp;numbers 0-9 and the letters A-F, and begins with a zero digit (0).
</PRE>
<P>
The arithmetic operators +, -, *, and / may be employed in general expressions.
As in FORTRAN, the arithmetic operators * and / take  precedence.   Parentheses
may  also  be  used to control the order of evaluation in a general expression.
</P>
<P>
ORVYL supports seven expression notations with special meanings:
</P>
&nbsp;<UL><PRE>
&nbsp;NOTATION&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MEANING
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Substitute the current user program PSW
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instruction address for *.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;@n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Substitute the lower 24-bits of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; current contents of the general program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; register n for @n in the expression, where
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n is a decimal integer from 0 to 15.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;nK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Substitute the value of n multiplied by
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1024.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;nM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Substitute the value of n multiplied by
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the hexadecimal value X'100000'.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;&gt;n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Substitute the word at location n in the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; user's virtual memory, where n is a pointer
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to the desired value.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;$hhh&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Substitute the value of the start of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; program address space plus the quantity
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hhh for $hhh in the expression, where hhh
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is a hexadecimal integer. In this case, hhh
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; need not begin with a zero (0).
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;#hhh&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Substitute the value of the start of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; user work space plus the quantity hhh
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for #hhh in the expression, where hhh is a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hexadecimal integer. In this case, hhh need
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; not begin with a zero (0).
&nbsp;</PRE></UL>
<P>
Note: A register-expression must be evaluated as a valid program  register.   A
location-expression  is  any  expression  which  evaluates  to  a valid program
address.  A hexadecimal-expression must consist of only hexadecimal digits, and
need not begin with a zero (0).
</P>
<A NAME="4.4.1"></A>
<H2>
4.4.1
&nbsp;The PATCH CORE Command (PC)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;CORE location-expression
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{hexadecimal-expression|'character-string'}
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[VERIFY {hexadecimal-expression|'character-string'}|NOVERIFY]
&nbsp;</PRE></UL>
<P>
Changes the value at the specified core location.   The  VERIFY  option  causes
ORVYL  to  abort the patch if the string does not match the current contents of
the location.  If neither VERIFY nor NOVERIFY is specified, ORVYL indicates the
previous value of the  patched  location.   The  NOVERIFY  option  causes  this
message to be suppressed.
</P>
<A NAME="4.4.2"></A>
<H2>
4.4.2
&nbsp;The PATCH GPR Command (PG)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;GPR register-expression expression
&nbsp;</PRE></UL>
<P>
Changes the value of the specified general register.
</P>
<A NAME="4.4.3"></A>
<H2>
4.4.3
&nbsp;The PATCH FPR Command (PF)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;FPR register-expression hexadecimal-expression
&nbsp;</PRE></UL>
<P>
Changes the value of the specified floating-point register.  The value  patches
from left to right within the register.
</P>
<A NAME="4.4.4"></A>
<H2>
4.4.4
&nbsp;The PATCH IA Command (PIA)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;IA expression
&nbsp;</PRE></UL>
<P>
Changes the user instruction address.
</P>
<A NAME="4.4.5"></A>
<H2>
4.4.5
&nbsp;The PATCH PSW Command (PP)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;PSW byte-displacement hexadecimal-expression
&nbsp;</PRE></UL>
<P>
Modifies the specified bytes of the user program status word. See Section 5 for
a definition of the user program status word.
</P>
<A NAME="4.4.6"></A>
<H2>
4.4.6
&nbsp;The PATCH SAVEGPR Command (PSG)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;SAVEGPR register-expression expression
&nbsp;</PRE></UL>
<P>
Alters user interrupt register  to  the  value  of  the  specified  expression.
</P>
<A NAME="4.4.7"></A>
<H2>
4.4.7
&nbsp;The PATCH SAVEIA Command (PSIA)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;SAVEIA expression
&nbsp;</PRE></UL>
<P>
Alters user interrupt  instruction  address  to  the  value  of  the  specified
expression.
</P>
<A NAME="4.4.8"></A>
<H2>
4.4.8
&nbsp;The PATCH SAVEPSW Command (PSP)
</H2>
&nbsp;<UL><PRE>
&nbsp;PATCH&nbsp;SAVEPSW byte-displacement hexadecimal-expression
&nbsp;</PRE></UL>
<P>
Alters the specified bytes of the user interrupt program  status  word  to  the
value of the specified hexadecimal expression.
</P>
<A NAME="4.5"></A>
<H2>
4.5
&nbsp;Setting Program Traps
</H2>
<P>
The user may cause  a  Session  Break  at  a  predetermined  point  in  program
execution by setting a program trap.  A Session Break occurs after execution of
the instruction located at the trap address.
</P>
<P>
When the user sets a program trap, ORVYL assigns  the  trap  an  index  number.
This index is displayed at the terminal and must be used to later reference the
trap.
</P>
<P>
NOTE: ORVYL does not permit program traps to be set on an SVC  instruction,  on
any  location  other  than  on  a  halfword  boundary, or on a location already
specified as a trap.
</P>
<A NAME="4.5.1"></A>
<H2>
4.5.1
&nbsp;The SET TRAP Command (ST)
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;TRAP location-expression
&nbsp;</PRE></UL>
<P>
Establishes a program trap at the specified location.  ORVYL indicates the trap
index number assigned.
</P>
<A NAME="4.5.2"></A>
<H2>
4.5.2
&nbsp;The SHOW TRAPS Command (STS)
</H2>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;TRAPS
&nbsp;</PRE></UL>
<P>
Displays the index number  and  location(s)  of  all  program  traps  currently
enabled  as  well  as  the  first  halfword  of the instruction trapped at each
location.
</P>
<A NAME="4.5.3"></A>
<H2>
4.5.3
&nbsp;The CLEAR TRAP Command (CT)
</H2>
&nbsp;<UL><PRE>
&nbsp;CLEAR&nbsp;TRAP index-number
&nbsp;</PRE></UL>
<P>
Clears the program trap defined at the specified index position.
</P>
<A NAME="4.5.4"></A>
<H2>
4.5.4
&nbsp;The CLEAR TRAPS Command (CTS)
</H2>
&nbsp;<UL><PRE>
&nbsp;CLEAR&nbsp;TRAPS
&nbsp;</PRE></UL>
<P>
Clears all defined program traps.
</P>
<A NAME="4.6"></A>
<H2>
4.6
&nbsp;ORVYL Program Event Recording and Monitoring
</H2>
<P>
ORVYL supports program event recording (PER) and monitoring, two tools  helpful
in  program debugging. Program event recording detects (1) successful execution
of a branch instruction, (2) changes  in  the  contents  of  specified  general
registers,  (3)  an  instruction fetch from specified main-storage location(s),
and (4) changes in the contents of specified main-storage location(s).  Program
monitoring  permits detection of selected MONITOR CALL instructions as they are
encountered in the user program.
</P>
<P>
Program event recording may be invoked by specifying a PER control block in the
program or by issuing the SET EVENT command at  the  terminal.   Monitoring  is
initiated  by  setting  a program monitor mask or with the SET MONITOR command.
</P>
<A NAME="4.6.1"></A>
<H2>
4.6.1
&nbsp;Program Event Recording (Program Control)
</H2>
<P>
The user program controls those  conditions  that  are  considered  events  for
recording  purposes;  it can specify one or more events to be detected.  When a
specified event does occur, control passes to the user's  PANIC  exit  routine.
Information  identifying  the  event  type  is  passed  to  the exit routine in
register 15.
</P>
<P>
Control information for program-event  recording  is  contained  in  a  12-byte
control block provided by the user program.
</P>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; BYTES &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CONTROL INFORMATION
&nbsp;WORD
&nbsp;&nbsp;
&nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0-3 &nbsp; &nbsp; &nbsp; Event masks (bits 0-3)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; General register masks (bits 16-31)
&nbsp;&nbsp;
&nbsp;1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4-7 &nbsp; &nbsp; &nbsp; Starting address (bits 8-31)
&nbsp;&nbsp;
&nbsp;2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8-11 &nbsp; &nbsp; &nbsp;Ending address (bits 8-31)
&nbsp;</PRE></UL>
<P>
PER Event Masks -- Bits 0-3:
</P>
&nbsp;<UL><PRE>
&nbsp;Bit:
&nbsp;&nbsp;
&nbsp;&nbsp;0 &nbsp; &nbsp; &nbsp;Successful Branching Event
&nbsp;&nbsp;1 &nbsp; &nbsp; &nbsp;Instruction Fetching Event
&nbsp;&nbsp;2 &nbsp; &nbsp; &nbsp;Storage Alteration Event
&nbsp;&nbsp;3 &nbsp; &nbsp; &nbsp;General Register Alteration Event
&nbsp;</PRE></UL>
<P>
When a bit is one (1), the corresponding event is  monitored;  when  a  bit  is
zero, the event is not monitored.
</P>
<P>
PER General Register Masks -- Bits 16-31:
</P>
<P>
Specify which general registers are monitored for content alteration. These  16
bits correspond one-to-one to the 16 general registers in ascending order. When
a  bit  is  one  (1),  the register is monitored for alteration; when zero, the
register is not monitored.
</P>
<P>
PER Starting Address -- Bits 8-31:
</P>
<P>
Contains the beginning address for the  main  storage  area  to  be  monitored.
</P>
<P>
PER Ending Address -- Bits 8-31:
</P>
<P>
Contains the ending address for the main storage area to be monitored.
</P>
<P>
Program event recording may be enabled by specifying (1) a PANIC  exit  routine
and  (2) a PER control block with a non-zero event mask. The PANIC exit routine
and PER control block are  specified  by  the  SET  7  and  SET  17  supervisor
operations, respectively.
</P>
<P>
When PER is enabled and a specified program event  takes  place,  an  interrupt
occurs  and the PANIC exit routine is entered. The PER code and PER address are
written in register 15. Bits 0-3 contain the PER code (event type);  bits  8-31
contain the PER address of the instruction which caused the event.
</P>
<P>
Programming Note: Program event recording is controlled by the PANIC bit in the
PSW mask byte. When the PANIC bit is zero, a program event does  not  cause  an
interrupt.  The  user  should note that the PANIC bit is set to zero whenever a
user exit is entered.
</P>
<A NAME="4.6.2"></A>
<H2>
4.6.2
&nbsp;Program Event Recording (SET EVENT Command)
</H2>
<P>
The SET EVENT command causes a session break whenever specified program  events
occur  in the user program. All program events to be recorded must be specified
with a single SET EVENT command.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;EVENT [[FETCH] [STORE] [RANGE=(first-address[ last-address])]]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[BRANCH] [REGISTER={(list)|ALL}]
&nbsp;</PRE></UL>
&nbsp;<UL>
&nbsp;FETCH causes a session break upon each successful instruction fetch  from
&nbsp;the specified range of main storage locations.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;STORE causes a session break upon each successful alteration  within  the
&nbsp;specified range of main storage locations.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;RANGE specifies a range of storage location for use with the FETCH and/or
&nbsp;STORE option(s). If both FETCH and STORE are  specified,  then  RANGE
&nbsp;applies  to  both.  If  no explicit range is specified, the program's
&nbsp;main storage area is monitored.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;BRANCH causes a session break upon each successful execution of a  branch
&nbsp;instruction.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;REGISTER causes a session break upon alteration of the  contents  of  the
&nbsp;specified  general registers. Registers may be specified individually
&nbsp;in a list; registers (0-15) are specified with ALL.
&nbsp;</UL>
<P>
SET EVENT cancels the effect of any previous SET EVENT  command.  A  SET  EVENT
command  is aborted if the user program has already established a program event
control block. The CLEAR EVENT command disables program  event  recording.  The
SHOW  EVENT command displays the SET EVENT command currently in effect, if any.
</P>
<A NAME="4.6.3"></A>
<H2>
4.6.3
&nbsp;Program Monitoring (Program Control)
</H2>
<P>
When the user program has set a PANIC exit  routine  (SET  7)  and  a  non-zero
monitor mask (SET 18), MONITOR CALL instructions pass control to the PANIC exit
routine and place monitor information in register 0.
</P>
<P>
The monitor mask is contained in a 4-byte control block provided  by  the  user
program.  Bits  16-31  of  the  monitor  control block correspond one-to-one to
monitor classes 0-15. Any number of monitor mask bits may  be  on  at  any  one
time.
</P>
<P>
The contents of bits 8-15  of  the  MONITOR  CALL  instruction  constitute  the
monitor  class  number.  The  address  specified by the B1 and D1 fields of the
instruction forms the monitor code.
</P>
<P>
When a MONITOR CALL instruction is processed and the corresponding monitor mask
is one, a monitor interrupt occurs.  At the interrupt, the monitor code  number
(bits  0-7)  and  the  monitor  code  (bits  8-31)  are returned in register 0.
</P>
<A NAME="4.6.4"></A>
<H2>
4.6.4
&nbsp;Program Monitoring (SET MONITOR Command)
</H2>
<P>
The SET MONITOR command may be used to selectively cause a session  break  upon
execution of a MONITOR CALL instruction.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;MONITOR {list|ALL}
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;list&nbsp; &nbsp; &nbsp; Enables monitoring for each class (0-15)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; specified in the list.
&nbsp;&nbsp;
&nbsp;ALL&nbsp; &nbsp; &nbsp; &nbsp;Enables monitoring for all MONITOR CALL instructions.
&nbsp;</PRE></UL>
<P>
SET MONITOR cancels any previous SET MONITOR command. The SET  MONITOR  command
is  aborted  if  the user program already employs the MONITOR exit feature. The
CLEAR MONITOR command disables program monitoring. Any MONITOR CALL instruction
executes as a NOP following a CLEAR MONITOR command. The SHOW  MONITOR  command
displays the SET MONITOR command setting currently in effect, if any.
</P>
<P>
Programming Note: Program monitoring is controlled by the PANIC bit in the  PSW
mask byte. When the PANIC bit is zero, a MONITOR CALL instruction executes as a
NOP and does not cause an interrupt. The user should note that the PANIC bit is
set to zero whenever a user exit is entered.
</P>
<P>
Technical information on program event recording and monitoring  are  available
in the OS/390 Principles of Operation, IBM Publication SA22-7201.
</P>
<A NAME="5"></A>
<H2>
5
&nbsp;ORVYL Supervisor Services
</H2>
<P>
ORVYL offers the programmer  a  broad  range  of  supervisor  services  at  the
assembly  language  level.   ORVYL  macro  instructions allow the programmer to
exercise control over system activities and facilities in each of the following
areas:
</P>
<PRE>
&nbsp;- Terminal input and output
</PRE>
<PRE>
&nbsp;- WYLBUR input and output
</PRE>
<PRE>
&nbsp;- ORVYL file input and output
</PRE>
<PRE>
&nbsp;- ORVYL file access privileges
</PRE>
<PRE>
&nbsp;- User program management
</PRE>
<P>
When assembled, each macro instruction expands  into  one  or  more  executable
machine  instructions.   The  generated instructions load the program-specified
parameters  into  the  appropriate  registers  and  issue  a  supervisor   call
instruction  (SVC).   Returns  from  the SVC instruction are then loaded in the
appropriate registers by the supervisor; all registers not altered by  the  SVC
remain  unchanged.   In  general,  error  conditions are indicated by the value
returned in register 15.
</P>
<P>
The catalogued macro library SYS3.ORVYL.UMACLIB includes the prototypes for all
macros described in Section 5.  To assemble ORVYL programs, the user may either
employ the standard catalogued procedure ASMORVYL or write the appropriate  JCL
for calling the assembler with the above macro library.
</P>
<P>
The catalogued procedure ASMORVYL is a copy of the standard ASMC  procedure  in
which those DD cards that reference standard VS macro libraries are replaced by
one  DD  card  that  references the ORVYL macro library.  When assembling ORVYL
programs for use under the ORVYL File Batch Access Method (VAM/390), the  BATCH
macro  must always be invoked before calling any other ORVYL macros.  The BATCH
macro initializes the assembly for expansion of all succeeding ORVYL macros  to
be  processed  under  VAM.   See  Section 6 for a description of the File Batch
Access Method (VAM/390).
</P>
<P>
NOTE: ORVYL employs registers 0, 1,  14,  and  15  to  pass  macro  parameters.
Unlike OS/VS2, a supervisor save area in register 13 need not be provided under
ORVYL.
</P>
<A NAME="5.1"></A>
<H2>
5.1
&nbsp;Input and Output Protocols
</H2>
<P>
Input and output to an ORVYL device occurs  under  the  following  general  I/O
protocol,  where  a  device  is  defined  as  a file, terminal, or other device
enabled for use under WYLBUR/MILTEN/ORVYL.  To make use  of  an  ORVYL  device,
that  device  must  first  be attached by the program (SEE ATTACH macro).  Each
request for input or output (READ, WRITE, etc.) is  normally  followed  by  the
WAIT  instruction.  A WAIT must always be issued prior to another request which
employs the same device.  (SEE WAIT macro).  WAIT coordinates competing demands
for input and output service and provides  the  user  program  with  concurrent
computing  and  input/output  capabilities.   When  processing is complete, the
programmer detaches the device, relinquishing control to other potential users.
</P>
<P>
Most every user program  request  for  input/output  occurs  in  the  following
sequence.  The user program
</P>
<PRE>
&nbsp;- issues the SVC to perform the input/output operation;
</PRE>
<PRE>
&nbsp;- checks the return code to detect whether  or  not  the  operation  has
&nbsp;begun;
</PRE>
<PRE>
&nbsp;- if operation has not begun, performs error processing;
</PRE>
<PRE>
&nbsp;- if operation has  begun,  issues  a  WAIT  SVC  for  the  input/output
&nbsp;operation;
</PRE>
<PRE>
&nbsp;- checks the return  code  from  WAIT  to  detect  whether  or  not  the
&nbsp;operation has successfully completed;
</PRE>
<PRE>
&nbsp;- if operation is not successful, performs exception processing;
</PRE>
<PRE>
&nbsp;- if operation is successful, continues with next program task.
</PRE>
<P>
In general, a return of zero  from  the  input/output  SVC  and  the  WAIT  SVC
indicates  that  the  operation  has begun or that the operation is successful,
respectively.
</P>
<A NAME="5.2"></A>
<H2>
5.2
&nbsp;Terminal Input and Output
</H2>
<P>
ORVYL provides two terminal communication protocols, one providing line-by-line
input and output, the other servicing display  terminals.   Display  input  and
output  services  allow  the ORVYL programmer to converse with display terminal
devices connected to ORVYL through MILTEN with a PDP-11 front-end system.   Two
terminal  modes  are  available  when  using  display  terminals, 2741 MODE and
DISPLAY MODE.  2741 MODE recognizes  the  device  for  line-by-line  input  and
output.   DISPLAY  MODE  I/O allows full screen input and output, providing the
ability to format the screen using multiple prompts.  Existing  ORVYL  programs
can operate with display devices in 2741 MODE with no program changes.
</P>
<P>
The ORVYL macro CONTROL 21 allows the ORVYL program to sense the terminal  type
and  characteristics.  Conditions set by macros CONTROL 2 (SET TABS), CONTROL 8
(embedded control character in column 1), and CONTROL 26 (NEWLINE) are  ignored
when MODE=DISPLAY.
</P>
<P>
DISPLAY MODE I/O allows three additional READ options, all of which are totally
dependent upon those features available on the particular display device  being
used.   The  SUPPRESS  option removes trailing blanks from READ data fields and
adds a field terminator  character.   The  SCREEN  option  returns  the  entire
contents  of  the  display  face as READ data when the user types SEND ENTER or
RETURN.  The IMMEDIATE option returns data in the mode  specified  without  any
intervention by the user.
</P>
<A NAME="5.2.1"></A>
<H2>
5.2.1
&nbsp;Control Codes for Display Input and Output
</H2>
<P>
When the user program prepares a buffer containing data for transmission to the
display terminal, the EBCDIC character  codes  presented  in  the  table  below
should  be  placed  in  the buffer to control positioning on the screen.  These
symbolic  definitions  are  provided  in  the  ORVYL  macro  DSPCODES.    Legal
abbreviations  for  the following EQU values is shown in parenthesis preceeding
the description.
</P>
<PRE>
            Control Character Definitions for MODE=DISPLAY

                        OUTPUT CODES

    CURSRET  EQU   X'0D'   (CR)     Back up cursor to start of line

    ERASLINE EQU   X'3C'   (EL)     Erase line, cursor to end

    LINEFEED EQU   X'25'   (LF)     Move cursor down one line

    CURSDOWN EQU   X'25'   (CD)     Same as LINEFEED

    NEWLINE  EQU   X'15'   (NL)     ERASLINE - CURSRET - LINEFEED

    CURSUP   EQU   X'1B'   (CU)     Move cursor up one line

    CURSFOR  EQU   X'2B'   (CF)     Non-destruct cursor space

    CURSBACK EQU   X'16'   (CB)     Non-destruct cursor backspace

    BACKSPAC EQU   X'16'   (BS)     Same as CURSBACK

    CURSHOME EQU   X'12'   (HC)     &quot;Home&quot; cursor (line 0, co. 0)

    TAB      EQU   X'05'   (HT)     Jump to next input field

    BACKTAB  EQU   X'3B'   (RT)     Backup to previous input field

    ERASCREN EQU   X'1C'   (ES)     Clear screen and CURSHOME

    ERASDATA EQU   X'1D'   (EU)     Clear unprotected fields only

    STARTUNP EQU   X'1F'   (SU)     Write following data unprotected

    STARTPRO EQU   X'19'   (SP)     Write following data protected

    BELL     EQU   X'2F'   (BEL)    Ring console alarm

    IDLE     EQU   X'17'   (IL)     Null timing character

    CURSADDR EQU   X'11'   (AC)     Jump cursor (followed by 2 data
                                    bytes - line no., col. no.)

                         INPUT CODES

    FIELDSEP EQU   X'22'   (FS)     End-of-field for SUPPRESS option
</PRE>
<A NAME="5.3"></A>
<H2>
5.3
&nbsp;WYLBUR Input and Output
</H2>
<P>
The ORVYL macros which allow a user program to communicate with WYLBUR  can  be
grouped into three categories: (1) those macros which allow the user program to
read or write the WYLBUR active file employing terminal I/O services, (2) those
macros  which  allow  the  user  program to pass commands to WYLBUR, ORVYL, and
MILTEN, and (3) those macros which allow the  user  program  to  employ  WYLBUR
text-editing facilities.
</P>
<A NAME="5.3.1"></A>
<H2>
5.3.1
&nbsp;The WYLBUR Active File as an Extension of the Terminal
</H2>
<P>
A user program can read or write the contents of  the  WYLBUR  active  file  by
designating  a  MODE=TEXT option for the terminal READ and WRITE macros.  These
forms are called READ TEXT and WRITE TEXT macros.  To read the active file, the
program specifies an input area which will receive active file data, the format
in which WYLBUR is to pass the data, and a line  number  or  associative  range
which  specifies the data to be passed.  The available formats are analogous to
those format options which a user may specify in a WYLBUR USE or LIST  command.
</P>
<P>
To write data to the active file, the program issues a  WRITE  macro  with  the
TEXT  option.   This  macro specifies an output area which contains the data, a
format indicator which instructs WYLBUR on how to interpret the  data,  and  an
operation  specification  which  indicates  whether  the  data is to be used to
delete, replace, or insert lines in the active file.
</P>
<P>
In addition, ORVYL CONTROL macros are available  for  the  following  purposes:
</P>
<PRE>
&nbsp;- Report the number of lines in the active file.
</PRE>
<PRE>
&nbsp;- Obtain the line number of the  first  line  in  the  active  file.
</PRE>
<PRE>
&nbsp;- Detect the line number of  the  last  line  in  the  active  file.
</PRE>
<PRE>
&nbsp;- Delete the contents of the active file.
</PRE>
<PRE>
&nbsp;- Instruct WYLBUR to type a given line of the  active  file  to  the
&nbsp;terminal.
</PRE>
<PRE>
&nbsp;- Sense the user's option settings in WYLBUR.
</PRE>
<PRE>
&nbsp;- Set and report the WYLBUR mode word.
</PRE>
<P>
The WYLBUR mode word is a collection of flags which affect processing of  macro
calls  and  controls  issued  by  the  user  program.   The  PREST/UNPREST flag
indicates whether data is to be passed in a compressed  or  uncompressed  form.
For  READ  TEXT  and WRITE TEXT macros, the PREST/UNPREST flag is the only mode
word flag that affects input and output.
</P>
<A NAME="5.3.2"></A>
<H2>
5.3.2
&nbsp;Command Passing and Prompting at the Terminal
</H2>
<P>
A user program can utilize MILTEN, WYLBUR, and ORVYL command processing  as  an
extension  of  program command processing by using one of the following macros:
</P>
<PRE>
&nbsp;- COMMAND
</PRE>
<PRE>
&nbsp;- WRITE EDIT (Terminal WRITE macro with MODE=EDIT option)
</PRE>
<PRE>
&nbsp;- MILCOM
</PRE>
<PRE>
&nbsp;- READ EDIT (Terminal READ macro with MODE=EDIT option)
</PRE>
<P>
These four macros, in conjunction with the terminal READ TEXT  and  WRITE  TEXT
options,  eliminate the need for developing editing capabilities or duplicating
code in each user program.   These  macros  add  the  entire  command  language
capability  of  all interactive systems to the user program.  The user who does
not wish to utilize  extended  program  command  processing  must  process  all
terminal input/output within the program.
</P>
<P>
In considering which of the above macro calls, if any, are to be employed,  the
programmer  should  consider  the  control  he  wishes  to  exert  over command
prompting at the terminal and over interactive systems command processing.   In
general,  to  control  all  command  prompting and processing by an interactive
system (e.g., all WYLBUR or all ORVYL commands),  the  programmer  employs  the
COMMAND,  WRITE  EDIT  or MILCOM macro calls to selectively pass those commands
not recognized by the user program  to  the  desired  interactive  system.   To
specifically  assign  WYLBUR  the task of command prompting and processing, the
programmer employs the READ EDIT macro call.  Under READ EDIT, WYLBUR processes
those commands that it recognizes and passes unrecognized commands to the  user
program.
</P>
<P>
Using the COMMAND macro, a program specifies  the  area  containing  a  command
string  and  indicates that the command string is to be passed until recognized
either by all systems (WYLBUR, MILTEN, and ORVYL) or  by  some  combination  of
systems.
</P>
<P>
Alternatively, the program may issue a WRITE EDIT  macro,  specifying  the  the
area  which  contains a command string.  The command string is then passed only
to WYLBUR and MILTEN for processing.  To limit  command  processing  to  MILTEN
only, the program issues the MILCOM macro.
</P>
<P>
Both of the above macros can be employed by a program for (1) the processing of
program generated commands or (2) the  processing  of  unrecognizable  commands
received  in  response to a normal terminal READ command issued by the program.
Both macros give the program the ability to utilize the full power  of  MILTEN,
WYLBUR, and ORVYL command processing to augment program functions.
</P>
<P>
Issuing the READ EDIT macro causes control of the terminal to  be  relinquished
to  WYLBUR  for both command prompting and command processing.  Control returns
to the user program whenever the user enters a command at the terminal that  is
not  recognized  by  WYLBUR.  The program may then process the command if it is
able to, issue the COMMAND macro which instructs ORVYL and  MILTEN  to  attempt
processing,  write  an error message to the terminal, or any combination of the
above.
</P>
<P>
When using the READ EDIT and WRITE EDIT macros, WYLBUR mode word  flags  define
what types of changes to the active file are to be allowed.
</P>
<P>
The following flags may be set:
</P>
&nbsp;<UL>
&nbsp;BLOCK -- Prohibits execution of a command which would cause a  change  in
&nbsp;the active file.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NONUM -- Precludes execution of the WYLBUR NUMBER command.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;NOALGN -- Blocks execution of the WYLBUR  commands  ALIGN,  JUSTIFY,  and
&nbsp;CENTER.
&nbsp;</UL>
&nbsp;<UL>
&nbsp;SBBLOCK -- Enforces the BLOCK, NONUM, and  NOALGN  flags  during  program
&nbsp;Session Breaks.
&nbsp;</UL>
<P>
WYLBUR issues an error message at the terminal whenever it receives  a  command
blocked by a mode word flag.  Under WRITE EDIT, control is immediately returned
to  the user program following an error message.  For READ EDIT, WYLBUR prompts
again and retains control.
</P>
<P>
In addition, an INFORM flag may be set to indicate that the user  program  must
be  informed  of all changes as they take place.  When this flag is set, WYLBUR
returns changes to the user program on a line-by-line basis unless the  command
causing  the  changes  is a USE, FETCH or COPY command.  In those cases, WYLBUR
will return as many lines as will fit into that input  area  specified  by  the
user  program  in  the  READ  EDIT  macro call.  Since most WYLBUR commands can
change more than one line in the active file,  the  program  must  continue  to
issue successive READ EDIT macros in order to process all changes.
</P>
<P>
If the user does not wish program command prompting to be resumed automatically
by WYLBUR once all changes associated with a single command have been reported,
the CHANGES option can be included with the EDIT option on each READ EDIT call.
The CHANGES option causes WYLBUR to report changes as described above; however,
once all changes for a particular command have been  reported,  WYLBUR  returns
control of the terminal to the user program instead of retaining control of the
terminal and issuing a new command prompt.
</P>
<P>
When using READ EDIT with the WYLBUR  mode  word  set  to  cause  reporting  of
changes, two additional macros are available to control the processing sequence
between  the  user  program and WYLBUR.  These are (1) an &quot;abort&quot; macro to stop
any pending, unreported changes in a  READ  EDIT  sequence  and  (2)  a  &quot;grant
permission&quot; macro to quarantee that the user program only processes information
which has been reported.
</P>
<A NAME="5.4"></A>
<H2>
5.4
&nbsp;ORVYL Memory Management
</H2>
<P>
Under ORVYL, a user's virtual memory is managed in  an  address  space  divided
into  pages.  An ORVYL page consists of 4096 bytes of memory.  Each page begins
at an address which is a multiple of  4096.   (In  hexadecimal  representation,
decimal  4096  is  01000;  thus,  any  address  which  ends in three zeros is a
multiple of 4096.)
</P>
<P>
The ORVYL supervisor sets an upper limit on the total number of pages which can
be made available to each user program at any one time.   Within  this  general
constraint,  ORVYL  permits  the  user  program to reserve that number of pages
actually required to complete the program task, as well  as  to  release  pages
whenever they no longer are needed for the program.
</P>
<A NAME="5.4.1"></A>
<H2>
5.4.1
&nbsp;Reserving and Releasing ORVYL Pages
</H2>
<P>
The user begins each session with a null and undefined ORVYL  memory.   A  null
memory  condition  means  that  no  ORVYL  pages have yet been reserved for the
user's program.  Such a null memory condition also occurs whenever an EXIT  SVC
is processed or the EXIT command is typed at the terminal.
</P>
<P>
In order to make use of ORVYL memory, a sufficient number of pages  must  first
be  explicitly or implicitly reserved.  Any attempt by an ORVYL program to make
use of memory addresses on pages which have not  been  reserved  results  in  a
program error.
</P>
<P>
When the user instructs  ORVYL  to  load  a  program  for  execution  (see  the
discussion  on  program  loading  in Section 3), the ORVYL loader automatically
reserves a sufficient number of pages to accomodate the program.  This  address
space then remains reserved until the program terminates execution.
</P>
<P>
During execution, the user  program  may  request  additional  memory  for  the
program  work  area.   Using  the  SET  14  supervisor  operation,  the program
specifies the amount of memory required.  When this request can  be  satisfied,
ORVYL reserves the necessary number of pages and returns the initial address to
the executing program.
</P>
<P>
The executing program may make any number of memory requests  subject  only  to
ORVYL's  overall  limit  on  the number of pages available to each program.  An
optional form of the SET 14 macro  allows  the  program  to  request  that  the
largest possible program work space be reserved.
</P>
<P>
Programs may release all or part of previously reserved memory with the SET  15
macro. Any attempt by an ORVYL program to release pages which were not reserved
results  in  a  program error. The ability to release does not extend to memory
reserved by the ORVYL loader.
</P>
<P>
Since the SET 15 macro releases memory  in  page  units,  the  release  request
should  always  specify  a  page  boundary as the starting address and a memory
length that is a multiple of the page  size  (4096).   Release  requests  which
overlap  a  fractional  part  of  a  page cause the entire page to be released.
</P>
<A NAME="5.4.2"></A>
<H2>
5.4.2
&nbsp;Defining ORVYL Page Contents
</H2>
<P>
Once an ORVYL page has been reserved, the contents of that page  must  next  be
defined.   ORVYL  considers  a  page  to be defined as soon as the user program
stores information in it.  Whenever the contents of a particular  page  are  no
longer required, the user program should act to free the contents of that page.
Designed for this purpose, the SET 1 supervisor operation frees the contents of
a  page without releasing it from the program's addressable memory.  Timely use
of this feature reduces paging activity, the total use of auxiliary memory, and
virtual memory charges.
</P>
<P>
The SET 2 macro advises the paging supervisor of those pages which have  become
inactive  but  ought to remain defined.  This macro helps the paging supervisor
find those pages which may be best removed to auxiliary  memory  for  a  period
while other pages are brought into real memory.
</P>
<P>
The SET 0 macro permits the user program to define more  than  one  page  in  a
single  operation.  Used  mainly by the ORVYL loader, this feature ensures that
uninitialized large arrays and common areas are always defined at the point  of
program entry.
</P>
<A NAME="5.5"></A>
<H2>
5.5
&nbsp;Exit Routines
</H2>
<P>
The following table summarizes the types of exit routines  which  ORVYL  allows
the programmer to establish, with a description of that event which causes exit
routine entry.
</P>
&nbsp;<UL><PRE>
&nbsp;EXIT&nbsp;ROUTINE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;REASON FOR ENTRY
&nbsp;&nbsp;
&nbsp;TIMER&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Time interval expired.
&nbsp;&nbsp;
&nbsp;SVC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;An SVC instruction numbered
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0-195 was issued.
&nbsp;&nbsp;
&nbsp;PANIC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The system or the user program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; detected a PANIC condition, a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; program event, or a monitor call
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instruction.
&nbsp;&nbsp;
&nbsp;ATTN&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The user typed an ATTN at the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal during output (CPU
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; control), or typed a question
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mark (?) followed by an ATTN
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; during input (terminal control).
&nbsp;&nbsp;
&nbsp;WAIT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; An operation on the device was
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completed. &nbsp;Issuing a WAIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; macro will now cause no delay
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in execution.
&nbsp;</PRE></UL>
<A NAME="5.5.1"></A>
<H2>
5.5.1
&nbsp;Register Contents upon EXIT Routine Entry
</H2>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Monitor information if a MONITOR CALL
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; interrupt occurs. SEE Section 4.6 for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; information on MONITOR CALL interrupts.
&nbsp;&nbsp;
&nbsp;(1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SVC &nbsp; &nbsp; - &nbsp; &nbsp;SVC number
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PANIC &nbsp; - &nbsp; &nbsp;PANIC code
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ATTN &nbsp; &nbsp;- &nbsp; &nbsp;Device identifier
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WAIT &nbsp; &nbsp;- &nbsp; &nbsp;Device identifier
&nbsp;&nbsp;
&nbsp;(14)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Information supplied when the user's exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; routine was established. SEE the description
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; of SET (5-9).
&nbsp;&nbsp;
&nbsp;(15)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Program event information if a PROGRAM
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EVENT interrupt occurs. SEE Section 4.6
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for information on PROGRAM EVENT interrupts.
&nbsp;</PRE></UL>
<A NAME="5.5.2"></A>
<H2>
5.5.2
&nbsp;INTERRUPTION CODES
</H2>
&nbsp;<UL><PRE>
&nbsp;SVC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SVC number
&nbsp;&nbsp;
&nbsp;PANIC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;=0 Complement of user PANIC code
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&gt;0 Program Interrupt Code
&nbsp;&nbsp;
&nbsp;&nbsp;Bit 24: &nbsp; &nbsp; &nbsp;1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PROGRAM EVENT interrupt
&nbsp;&nbsp;
&nbsp;&nbsp;Bit 25: &nbsp; &nbsp; &nbsp;1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MONITOR CALL interrupt
&nbsp;&nbsp;
&nbsp;&nbsp;Bits 26-31: &nbsp;1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Operation exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Privileged operation exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Execution exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Protection violation
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Addressing exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Specification exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Data exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fixed overflow
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fixed divide exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Decimal overflow
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Decimal divide exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Exponent overflow
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;13 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Exponent underflow
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Significance Exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Floating Divide Exception
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Two I/O operations issued
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for same device or file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; with no intervening WAIT
&nbsp;</PRE></UL>
<P>
A MONITOR CALL interrupt or program exception may occur simultaneously  with  a
PROGRAM EVENT interrupt. If a PROGRAM EVENT occurs, PER information is returned
in  register  15;  if a MONITOR CALL occurs, monitor information is returned in
register 0.
</P>
<P>
When a program interruption occurs, the program status word (PSW) and registers
are saved in the supervisor save area.  The exit routine  may  sense  the  save
area  using  an  ORVYL  macro.   The mask byte is set to zero upon exit routine
entry.
</P>
<A NAME="5.5.3"></A>
<H2>
5.5.3
&nbsp;SAVE AREA FORMAT
</H2>
<PRE>
         BYTE(S)                   CONTENTS

        0-1                       Interruption code
      
        2       Bits 0-1          Instruction length code
                     2-3          Condition code
ORVYL                4-7          Program mask
      
 PSW    3       mask byte         Bit 0 1=Timer exit enabled
                                      1 1=ATTN exit enabled
                                      2 1=WAIT exits enabled
                                      3 1=PANIC exit enabled
      
        4-7                       Instruction address

         8-71                      General registers 0-15
</PRE>
<P>
When the exit routine has performed all the tasks  assigned  to  it,  the  exit
routine  transfers  control  using  an ORVYL macro. ORVYL will use the original
save area to resume program execution unless the program  specifies  use  of  a
modified copy of the original save area.
</P>
<A NAME="5.6"></A>
<H2>
5.6
&nbsp;Macro Coding and Symbol Conventions
</H2>
<P>
Each of the macro instructions below is  described  in  the  following  format:
</P>
<PRE>
&nbsp;- Macro instruction general form
</PRE>
<PRE>
&nbsp;- Purpose
</PRE>
<PRE>
&nbsp;- Operands
</PRE>
<PRE>
&nbsp;- Returns
</PRE>
<P>
In the general form, the macro name appears in uppercase  letters  and  may  be
coded  directly.  Operands are presented in lowercase letters and are described
individually in the operands section.  Operands enclosed in square brackets are
optional elements in the macro instruction.  The brackets are not coded in  the
macro  instruction.  Macro parameters are positional. When an option is omitted
for a particular  instruction,  a  comma  must  be  coded  in  its  place.  The
applicable  register  for  each operand is listed in parentheses directly below
the operand.  In general, the registers used by ORVYL macros  (i.e.,  registers
0,  1,  15,  14)  are  loaded  in  the order in which parameters are specified.
Return values for affected registers from both the macro expansion and WAIT are
listed in the returns sections.
</P>
<P>
An operand presented in the form xxx-la indicates that the address may be coded
in either explicit or implied form.  The macro will expand to  execute  a  load
address   (LA)  instruction  and  load  the  parameter  register  indicated  in
parentheses with the address.  If an address already exists in a register,  the
operand  may be written as an absolute expression enclosed in parentheses.  The
macro will expand to execute a load  register  (LR)  instruction  to  load  the
parameter  register  from  the  register  specified  by the expression.  If the
address is already in the parameter register, the expression should consist  of
the register number expressed as a decimal integer.
</P>
<P>
An operand written in the form xxx-l or xxx-lh operates the same as la , but  a
load  (L)  or  load  half-word (LH) instruction is generated in place of the LA
instruction.
</P>
<P>
The user may specify the instruction used  to  load  a  parameter  register  by
prefixing  the  operand by LA:,L:,LH:,or IC: or by enclosing a register operand
in parentheses. The table below shows the code generated by the macro expansion
for each form of specification.
</P>
&nbsp;<UL><PRE>
&nbsp;PARAMETER&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GENERATED CODE
&nbsp;&nbsp;
&nbsp;(expression)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LR p,expression
&nbsp;LA:expression&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LA p,expression
&nbsp;L:expression&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; L &nbsp;p,expression
&nbsp;LH:expression&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LH p,expression
&nbsp;IC:expression&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SR p,p
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IC p,expression
&nbsp;</PRE></UL>
<P>
Whenever MODE is specified as part of a macro call, one or more operands may be
complemented by the  macro  expansion.  In  order  to  avoid  error,  specified
operands  must  be  non-negative. Unless the operand registers are specifically
modified by the supervisor routines, ORVYL returns  complemented  registers  to
their uncomplemented state before passing control to the user program.
</P>
<A NAME="5.6.1"></A>
<H2>
5.6.1
&nbsp;Macro Expansions
</H2>
&nbsp;<UL><PRE>
&nbsp;ATTACH&nbsp;(0),(1),(15),(14)
&nbsp;LCR&nbsp; 0,0 &nbsp; &nbsp; &nbsp; &nbsp; MODE=WAIT
&nbsp;LCR&nbsp; 1,1 &nbsp; &nbsp; &nbsp; &nbsp; MODE=SHARE,CONTROL
&nbsp;LCR&nbsp; 15,15 &nbsp; &nbsp; &nbsp; MODE=OLD
&nbsp;SVC&nbsp; 249 &nbsp; &nbsp; &nbsp; &nbsp; ATTACH &nbsp; &nbsp; &nbsp; VAM CODE=00
&nbsp;&nbsp;
&nbsp;COMMAND&nbsp;(0),(1),(15)
&nbsp;LCR&nbsp; 1,1 &nbsp; &nbsp; &nbsp; &nbsp; MODE=WYLBUR
&nbsp;LCR&nbsp; 15,15 &nbsp; &nbsp; &nbsp; MODE=NOCLP
&nbsp;SVC&nbsp; 254 &nbsp; &nbsp; &nbsp; &nbsp; COMMAND &nbsp; &nbsp; &nbsp;VAM CODE=04
&nbsp;&nbsp;
&nbsp;CONTROL&nbsp;(0),(1),(15),(14)
&nbsp;LCR&nbsp; 0,0 &nbsp; &nbsp; &nbsp; &nbsp; MODE=WAIT
&nbsp;LCR&nbsp; 1,1 &nbsp; &nbsp; &nbsp; &nbsp; MODE=FORMAT
&nbsp;SVC&nbsp; 245 &nbsp; &nbsp; &nbsp; &nbsp; CONTROL &nbsp; &nbsp; &nbsp;VAM CODE=08
&nbsp;&nbsp;
&nbsp;DETACH&nbsp;(0)
&nbsp;SVC&nbsp; 248 &nbsp; &nbsp; &nbsp; &nbsp; DETACH &nbsp; &nbsp; &nbsp; VAM CODE=12
&nbsp;&nbsp;
&nbsp;EXIT
&nbsp;SVC&nbsp; 253 &nbsp; &nbsp; &nbsp; &nbsp; EXIT &nbsp; &nbsp; &nbsp; &nbsp; VAM CODE=16
&nbsp;&nbsp;
&nbsp;MILCOM&nbsp;(0),(1),(15),(14)
&nbsp;SVC&nbsp; 238 &nbsp; &nbsp; &nbsp; &nbsp; MILCOM &nbsp; &nbsp; &nbsp; VAM CODE=60
&nbsp;&nbsp;
&nbsp;PANIC&nbsp;(0)
&nbsp;SVC&nbsp; 252 &nbsp; &nbsp; &nbsp; &nbsp; PANIC &nbsp; &nbsp; &nbsp; &nbsp;VAM CODE=20
&nbsp;&nbsp;
&nbsp;PAUSE
&nbsp;SVC&nbsp; 255 &nbsp; &nbsp; &nbsp; &nbsp; PAUSE &nbsp; &nbsp; &nbsp; &nbsp;VAM CODE=24
&nbsp;&nbsp;
&nbsp;READ&nbsp;(0),(1),(15),(14)
&nbsp;LCR&nbsp; 0,0 &nbsp; &nbsp; &nbsp; &nbsp; MODE=WAIT
&nbsp;LCR&nbsp; 1,1 &nbsp; &nbsp; &nbsp; &nbsp; MODE=TEXT,CHANGES,TRUNCATE
&nbsp;LCR&nbsp; 15,15 &nbsp; &nbsp; &nbsp; MODE=EDIT,CHANGES,SKIP
&nbsp;LCR&nbsp; 14,14 &nbsp; &nbsp; &nbsp; MODE=DISPLAY
&nbsp;SVC&nbsp; 247 &nbsp; &nbsp; &nbsp; &nbsp; READ &nbsp; &nbsp; &nbsp; &nbsp; VAM CODE=28
&nbsp;&nbsp;
&nbsp;RELEASE&nbsp;(0)
&nbsp;SVC&nbsp; 243 &nbsp; &nbsp; &nbsp; &nbsp; RELEASE &nbsp; &nbsp; &nbsp;VAM CODE=32
&nbsp;&nbsp;
&nbsp;RESERVE&nbsp;(0)
&nbsp;LCR&nbsp; 0,0 &nbsp; &nbsp; &nbsp; &nbsp; MODE=WAIT
&nbsp;SVC&nbsp; 244 &nbsp; &nbsp; &nbsp; &nbsp; RESERVE &nbsp; &nbsp; &nbsp;VAM CODE=36
&nbsp;&nbsp;
&nbsp;SENSE&nbsp;(0),(1),(15),(14)
&nbsp;SVC&nbsp; 250 &nbsp; &nbsp; &nbsp; &nbsp; SENSE &nbsp; &nbsp; &nbsp; &nbsp;VAM CODE=40
&nbsp;&nbsp;
&nbsp;SET&nbsp;(0),(1),(15),(14)
&nbsp;SVC&nbsp; 251 &nbsp; &nbsp; &nbsp; &nbsp; SET &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;VAM CODE=44
&nbsp;&nbsp;
&nbsp;STATUS&nbsp;(0),(1),(15),(14)
&nbsp;SVC&nbsp; 241 &nbsp; &nbsp; &nbsp; &nbsp; STATUS &nbsp; &nbsp; &nbsp; VAM CODE=48
&nbsp;&nbsp;
&nbsp;WAIT&nbsp;(0)
&nbsp;SVC&nbsp; 242 &nbsp; &nbsp; &nbsp; &nbsp; WAIT &nbsp; &nbsp; &nbsp; &nbsp; VAM CODE=52
&nbsp;&nbsp;
&nbsp;WRITE&nbsp;(0),(1),(15),(14)
&nbsp;LCR&nbsp; 0,0 &nbsp; &nbsp; &nbsp; &nbsp; MODE=WAIT
&nbsp;LCR&nbsp; 1,1 &nbsp; &nbsp; &nbsp; &nbsp; MODE=TEXT,DISPLAY
&nbsp;LCR&nbsp; 15,15 &nbsp; &nbsp; &nbsp; MODE=EDIT,DISPLAY
&nbsp;SVC&nbsp; 246 &nbsp; &nbsp; &nbsp; &nbsp; WRITE &nbsp; &nbsp; &nbsp; &nbsp;VAM CODE=56
&nbsp;</PRE></UL>
<A NAME="5.7"></A>
<H2>
5.7
&nbsp;General Device Control
</H2>
<A NAME="5.7.1"></A>
<H2>
5.7.1
&nbsp;ATTACH: Attaching Devices and Files
</H2>
Purpose:
<BR>
<P>
Makes a device available for use by a program.  See ATTACH  under  each  device
type for further information.
</P>
<A NAME="5.7.2"></A>
<H2>
5.7.2
&nbsp;DETACH: Detaching Devices and Files
</H2>
&nbsp;<UL><PRE>
&nbsp;DETACH&nbsp; id-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Specifies that an attached device is no longer required by the program and that
this device will not be used  again  until  another  ATTACH  macro  is  issued.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;device identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation started.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
<P>
No registers changed.
</P>
<A NAME="5.7.3"></A>
<H2>
5.7.3
&nbsp;WAIT: General Synchronization
</H2>
&nbsp;<UL><PRE>
&nbsp;WAIT&nbsp; id-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Suspends program execution until the current operation on the specified  device
is  completed.  Every operation must be followed by WAIT before another request
to that device can be initiated.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device identifier
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
SEE the values returned for specific operations.
</P>
<A NAME="5.8"></A>
<H2>
5.8
&nbsp;Terminal Input/Output and Control
</H2>
<A NAME="5.8.1"></A>
<H2>
5.8.1
&nbsp;ATTACH (1): Attaching User Terminal
</H2>
&nbsp;<UL><PRE>
&nbsp;ATTACH&nbsp;1[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Attaches the terminal which began the session.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation started.
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 32-bit terminal identifier
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; ATTACH completed.
&nbsp;</PRE></UL>
<P>
WAIT is optional when attaching the terminal.
</P>
<A NAME="5.8.2"></A>
<H2>
5.8.2
&nbsp;READ: Terminal Input
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la[,prompt-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads a line of input from the terminal.  A prompt may be specified, as well as
a message to precede the prompt.  A maximum response time from the terminal may
also be specified (TIME-OUT feature). Specifying a TIME-OUT on  READ  does  not
affect  operation of any other timer set by the program (i.e., those enabled by
the SET 3 and SET 4 macros).
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp;location of input area
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1st 16-bits: number of seconds to wait before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TIME-OUT (600 maximum) or zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2nd 16-bits: length of input area (data may be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lost if less than 133 bytes)-zero illegal
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;prompt-la&nbsp; &nbsp; &nbsp; location of the area containing a prompt and/or
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message text
&nbsp;</PRE></UL>
<P>
If a prompt and/or message text is specified, the area must contain  an  output
line and a prompt in the following format:
</P>
&nbsp;<UL><PRE>
&nbsp;Field&nbsp;size: &nbsp; &nbsp;Contents:
&nbsp;&nbsp;
&nbsp;2&nbsp;bytes &nbsp; &nbsp; &nbsp; &nbsp;w(Length of message text to be written) - may be zero
&nbsp;2&nbsp;bytes &nbsp; &nbsp; &nbsp; &nbsp;p(Length of prompt) - may be zero
&nbsp;w&nbsp;bytes &nbsp; &nbsp; &nbsp; &nbsp;Line to be written &nbsp;
&nbsp;p&nbsp;bytes &nbsp; &nbsp; &nbsp; &nbsp;Prompt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Total of not more than 163
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; characters
&nbsp;</PRE></UL>
<P>
Note: If message text is specified, ORVYL appends  a  Carriage  Return  to  the
line.
</P>
Returns from READ:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp;Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp;Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp;Input line terminated with ATTN. &nbsp;(Input buffer
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; contains all characters typed before ATTN.)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp;Read terminated by TIME-OUT.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp;Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp;Illegal tab used.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp;Number of bytes read.
&nbsp;</PRE></UL>
<A NAME="5.8.3"></A>
<H2>
5.8.3
&nbsp;WRITE: Terminal Output
</H2>
&nbsp;<UL><PRE>
&nbsp;WRITE&nbsp; id-l,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes a line of output to the terminal.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp;location of the area containing the line
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp;length of the area in the legal range zero (0)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; through 163
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; &nbsp;Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp;ATTN typed during terminal output.
&nbsp;</PRE></UL>
<P>
Note: Unless CONTROL 25 has been set, ORVYL appends a Carriage Return to  lines
transmitted to the terminal.
</P>
<A NAME="5.8.4"></A>
<H2>
5.8.4
&nbsp;READ,MODE=DISPLAY: Display Terminal Input
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la,outbuf-la,MODE=DISPLAY
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads either a set of responses to prompts or the contents of the scope face at
the completion of the READ.  With the exception  of  the  immediate  option,  a
maximum  response time may be specified (TIME-OUT feature).  A set of fields is
contained in &quot;outbuf&quot;, each of which describes a write count, a prompt count, a
read count, write text and prompt text.  These fields  are  used  to  create  a
display on the scope face and to define unprotected and protected spaces on the
scope face.  Protected spaces are defined by write and prompt data, while those
unprotected  spaces  into  which  the  terminal user may type his responses are
defined by the read counts.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of input area.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1st 16 bits: Number of seconds before TIME-OUT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(600 maximum) or zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2nd 16 bits: Length of input area - zero illegal
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(data may be lost if less than 133
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes), maximum is 4096
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;outbuf-la&nbsp; &nbsp; &nbsp; &nbsp; Two bytes of option codes which specify how and
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;when data is to be returned. &nbsp;If no option code is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;specified, responses are padded with trailing blanks
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;to the specified length of the read field.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The meaning of on-bits is as follows:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Bit: &nbsp; &nbsp; &nbsp; &nbsp;Meaning:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 16 IMMED &nbsp; &nbsp;Read immediate (no intervention by
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; user required).
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 15 SCREEN &nbsp; Read entire screen (write, prompt, and
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; read data when user enters SEND or
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; equivalent).
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14 SUPPRESS Read responses only and suppress
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trailing blanks (end of field marked
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; by field separator character).
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 13-1 &nbsp; &nbsp; &nbsp; &nbsp;Reserved.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; After the option code, two bytes of length of
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the output buffer which follows must be speci-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fied. &nbsp;If no output data exists the length field
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; should be zero.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The output data, if there is any, must follow
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the count. &nbsp;The output buffer consists entirely
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; of data fields, which are defined as follows:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Subfield size: &nbsp; &nbsp; &nbsp;Contents:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w (Length of write data) -
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; may be zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p (Length of prompt data) -
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; may be zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; r (Length of unprotected
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;read area)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w bytes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Write data
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p bytes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Prompt data
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; An unprotected area on the scope is defined each
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; time a non-zero &quot;r&quot; subfield is encountered.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Screen formatting controls are contained in the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; write and read prompt data.
&nbsp;</PRE></UL>
Returns from READ:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Illegal tab used.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; Illegal terminal for MODE=DISPLAY.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Input screen terminated with ATTN.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Read terminated by TIME-OUT.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of bytes read.
&nbsp;&nbsp;
&nbsp;Input&nbsp;Area = &nbsp; For no options:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The area contains each response padded with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trailing blanks up to the length of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; specified read field.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;For SUPPRESS option:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The area contains each response delimited by the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; field separator character.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;For SCREEN and IMMEDIATE options:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The area contains the full contents of the scope
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; face.
&nbsp;</PRE></UL>
<P>
For READ MODE=DISPLAY, a sufficiently large return area must  be  specified  in
order  to  return  the requested data.  If no options are specified, the sum of
the &quot;r&quot; lengths is sufficient.  For the suppress  trailing  blank  option,  the
number  of  &quot;r&quot;  length  fields  must be added to the sum of the &quot;r&quot; lengths to
ensure a sufficient return area.  In any case, if the return area is too small,
data will be discarded.
</P>
<A NAME="5.8.5"></A>
<H2>
5.8.5
&nbsp;WRITE,MODE=DISPLAY: Display Terminal Output
</H2>
&nbsp;<UL><PRE>
&nbsp;WRITE&nbsp; id-l,location-la,length-la,MODE=DISPLAY
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes data to the scope face.  No options apply in this mode.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp;location of the area containing write data
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp;length of the area (zero illegal)
&nbsp;</PRE></UL>
<P>
Display control characters may be interspersed with  write  data.   The  member
'CODES' in SYS3.ORVYL.UMACLIB may be used to obtain definitions for a number of
commonly used control characters.  See section 5.2.1 for a list of these codes.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; &nbsp;Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp; Illegal terminal for MODE=DISPLAY.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp;ATTN typed during output.
&nbsp;</PRE></UL>
<P>
NOTE:
</P>
<P>
No Carriage Return is appended to the output buffer  when  transmitted  to  the
display  terminal.   The program includes screen formatting instructions in the
output buffer.
</P>
<P>
Core storage in ORVYL is divided into pages of 4096 bytes each.  A buffer  area
must  begin  on  a  double-word  boundary  and may not cross more than one page
boundary.  If a page boundary is crossed the buffer  must  extend  at  least  8
bytes  on  the  second page.  Thus, a buffer of 4096 bytes or less may begin on
any double-word.  A buffer of 6144 bytes may begin as much as 2048  bytes  from
the  beginning  of  a  page,  while  an  8192-byte  buffer must begin on a page
boundary.  For maximum efficiency buffers of 4096 bytes or less  should  reside
on a single page.
</P>
<A NAME="5.8.6"></A>
<H2>
5.8.6
&nbsp;CONTROL (0-1): Page Eject and Spacing
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,code-la,n-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1) &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Controls  page  eject  and  spacing  on  the  terminal  with  no   other   data
transmission.  Ignored when MODE=DISPLAY.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Code: &nbsp; &nbsp; Meaning:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; Space n blank lines, where 0 &lt; n &lt; 66 (Any
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;value greater that 66 is treated as a page
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;eject.)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp; &nbsp; &nbsp; Page eject (Skip 4 lines.)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;n-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Number of lines to space for CONTROL 0
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O Error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; ATTN typed during output.
&nbsp;</PRE></UL>
<A NAME="5.8.7"></A>
<H2>
5.8.7
&nbsp;CONTROL (2-3): Setting Tabs
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,code-la,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets tabs on the terminal.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Code: &nbsp; &nbsp; Operation:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 &nbsp; &nbsp; &nbsp; Set tabs.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 &nbsp; &nbsp; &nbsp; Sense tabs.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp; Location of the 16-byte area which contains or
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;will receive the tabs. &nbsp;Each byte specifies a tab
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;position and is a positive integer less than or
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;equal to 133. &nbsp;The first zero byte encountered
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminates tab setting. &nbsp;Each succeeding tab
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;position must be greater than the preceeding tab
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;position.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.8.8"></A>
<H2>
5.8.8
&nbsp;CONTROL (4-6): Terminal Input Translation
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Controls translation of all terminal input.  Affects both direct  input  to  an
ORVYL program and input to WYLBUR.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Code: &nbsp; &nbsp; Operation:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Translates all lowercase alphabetic
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;characters to uppercase (SET UPPER).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5 &nbsp; &nbsp; &nbsp; Cancels translation of lowercase alphabetic
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;characters (SET UPLOW).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6 &nbsp; &nbsp; &nbsp; Senses translation status.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion (codes 4 and 5).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; Upper translation in effect (code 6).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Uplow translation in effect (code 6).
&nbsp;</PRE></UL>
<A NAME="5.8.9"></A>
<H2>
5.8.9
&nbsp;CONTROL (7-9): Carriage Control
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Controls page eject and spacing on the terminal based on the first character of
each output line transmitted to the terminal after the CONTROL macro is issued.
CONTROL (7-9) ignored when MODE=DISPLAY.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Code: &nbsp; &nbsp; Meaning:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7 &nbsp; &nbsp; &nbsp; No control characters to be contained in
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; output lines.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp; First character in each line is a con-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trol character. &nbsp;Control characters are
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; interpreted and not printed. &nbsp;Legal con-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trol characters include:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blank &nbsp; &nbsp; Skip no lines before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printing.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; Skip one line before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printing.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - &nbsp; &nbsp; &nbsp; Skip two lines before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printing.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; Page eject before printing.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Skip 4 lines.)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Any other character found in column 1 is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;interpreted as a blank.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9 &nbsp; &nbsp; &nbsp;Sense whether control character inter-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pretation is being performed.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Successful completion (codes 7 and 8).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; No control character interpretation is being
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;performed (Code 9).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Control character interpretation is being
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;performed on the first character of each output
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;line.
&nbsp;</PRE></UL>
<A NAME="5.8.10"></A>
<H2>
5.8.10
&nbsp;CONTROL (21): Reading Terminal Characteristics
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,21,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Provides current information about the user terminal and the  current  session.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp;Location of the 60-byte area which is to receive
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the terminal information. &nbsp;The format of this
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; area may be obtained by invoking the TTYP macro
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in the ORVYL user's macro library. &nbsp;The data
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; returned includes:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Hardware information: &nbsp;MILTEN line number,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;port address, line speed, carriage width,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;screen depth, etc.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; User established information: &nbsp;account,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name, tabs, privileges, and settings (e.g.,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CASE/BACK/TERSE/COMM/FASTLIST/TIMEOUT).
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<P>
NOTE: The TTYP macro may be used without parameters  to  establish  labels  for
referencing  returned  data.   If  no  parameters are specified, all labels are
prefixed with the mnemonic TTYP.  If another prefix is desired,  the  user  can
code  'PFX=string',  where  'string' is a 1 to 4 character label in the operand
field.  This string is used as the label prefix.
</P>
<A NAME="5.8.11"></A>
<H2>
5.8.11
&nbsp;CONTROL (22-24): ATTN Session Break
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Forces the occurrence of a Session Break if the user types  ATTN  to  terminate
output  or  to interrupt computing.  Facilitates the debugging of programs that
have ATTENTION exits.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Code: &nbsp; &nbsp; Operation:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 22 &nbsp; &nbsp; &nbsp; Inhibits a Session Break following ATTN
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(default condition).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 23 &nbsp; &nbsp; &nbsp; Forces a Session Break following ATTN.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 24 &nbsp; &nbsp; &nbsp; Senses the Session Break condition.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion (codes 22 and 23).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; Session break forced &nbsp;(code 24).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Session break inhibited (code 24).
&nbsp;</PRE></UL>
<A NAME="5.8.12"></A>
<H2>
5.8.12
&nbsp;CONTROL (25-27): NEWLINE Carriage Return
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Controls the automatic carriage return (NEWLINE) supplied at the conclusion  of
a  normal  terminal WRITE. CONTROL 25 suppresses the automatic carriage return;
CONTROL 26 reenables automatic  carriage  returns.  In  addition,  the  NEWLINE
status  set  by  CONTROL 25 or reset with CONTROL 26 may be sensed with CONTROL
27.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Code: &nbsp; &nbsp; Operation:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25 &nbsp; &nbsp; &nbsp; Suppresses an automatic NEWLINE at the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end of WRITE operation.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 26 &nbsp; &nbsp; &nbsp; Reenables the automatic NEWLINE.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 27 &nbsp; &nbsp; &nbsp; Senses the NEWLINE condition.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation successful (codes 25 and 26).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; NEWLINE supplied at end of terminal WRITE
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;operation (code 27).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; NEWLINE not supplied (code 27).
&nbsp;</PRE></UL>
<P>
Notes:
</P>
<P>
When the automatic NEWLINE function is suppressed, successive WRITE  operations
cause  all  output  to be printed on a single line. A NEWLINE character (X'15')
must be included in the data stream in order to initiate a new  physical  line.
</P>
<P>
A WRITE with NEWLINE suppressed  followed  by  a  READ  operation  unlocks  the
terminal following the last character of the WRITE text.
</P>
<A NAME="5.8.13"></A>
<H2>
5.8.13
&nbsp;CONTROL (28): Obtain DELTA from Wylbur
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,28
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtain DELTA from Wylbur.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from Wait:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Successful completion
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Current DELTA setting in Wylbur.
&nbsp;</PRE></UL>
<P>
Note: DELTA is returned as an integer with 1 representing 0.001
</P>
<A NAME="5.9"></A>
<H2>
5.9
&nbsp;WYLBUR Input/Output and Control
</H2>
<A NAME="5.9.1"></A>
<H2>
5.9.1
&nbsp;WYLBUR PREST Format
</H2>
<P>
The term 'WYLBUR PREST format' refers to that  type  of  WYLBUR  internal  text
storage  which compresses text strings by removing multiple blanks.  The use of
this format generally reduces the space required to store character data.   The
ORVYL  programmer  has  the  option of receiving or sending active file data in
this format when requests are made to WYLBUR.
</P>
<P>
Associated with each prest line is a length count.  Since prest lines have  all
blanks removed, a line composed of only blank characters is defined by a length
count of zero (0).
</P>
<P>
Lines  that  contain  at   least   one   non-blank   character   also   contain
&quot;blank/non-blank&quot;  count bytes.  A &quot;blank/non-blank&quot; count byte is divided into
two half-bytes; the first  half-byte  is  the  &quot;blank&quot;  count  and  the  second
half-byte  is  the  &quot;non-blank&quot;  count.  Each non-blank character string in the
line is preceded by a  &quot;blank/non-blank&quot;  count,  indicating  how  many  blanks
preceded  the  non-blank  (first  half-byte),  and  the length of the non-blank
string  (second  half-byte).   The  non-blank  character  string  follows  this
&quot;blank/non-blank&quot;  count byte.  This pattern is repeated until the length count
associated with a given prest line is exhausted.
</P>
<P>
The length count at the beginning of each prest line is the sum of  the  number
of  &quot;blank/non-blank&quot;  count  bytes  plus  the  number  of non-blank characters
contained in the line.  If a blank  string  in  the  unprest  line  exceeds  15
characters  in  length,  successive  &quot;blank/non-blank&quot; count bytes occur.  If a
non-blank string exceeds 15 characters in  length,  count  bytes  are  inserted
between each sub-string of 15 non-blank characters.
</P>
<A NAME="5.9.2"></A>
<H2>
5.9.2
&nbsp;CONTROL (12): Setting the WYLBUR Mode Word
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,12,word-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the WYLBUR mode word, directing WYLBUR in its  processing  of  READ  TEXT,
WRITE TEXT, READ EDIT and WRITE EDIT calls.  This setting remains in effect for
all subsequent WYLBUR requests or until another CONTROL 12 is issued.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;word-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WYLBUR mode word.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ON bits: &nbsp; &nbsp; Meaning:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31 &nbsp; &nbsp; &nbsp; &nbsp;PREST &nbsp; Returns line from the active
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file in WYLBUR PREST
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;format. &nbsp;Affects READ EDIT,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WRITE EDIT, READ TEXT, and
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WRITE TEXT requests.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;30 &nbsp; &nbsp; &nbsp; &nbsp;INFORM &nbsp;Informs program of changes to
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the active file on READ EDIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;and WRITE EDIT requests.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29 &nbsp; &nbsp; &nbsp; &nbsp;BLOCK &nbsp; Blocks execution of all
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;commands which cause changes
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;to the active file on READ
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EDIT and WRITE EDIT requests.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;28 &nbsp; &nbsp; &nbsp; &nbsp;NONUM &nbsp; Blocks execution of the NUMBER
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;command on READ EDIT and WRITE
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EDIT requests.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;27 &nbsp; &nbsp; &nbsp; &nbsp;NOALGN &nbsp;Blocks execution of the ALIGN
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JUSTIFY and CENTER commands
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;on READ EDIT and WRITE EDIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;requests.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;26 &nbsp; &nbsp; &nbsp; &nbsp;SBBLOCK Ensures that BLOCK, NONUM,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;and NOALGN are in effect
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;during all Session Breaks.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;25 &nbsp; &nbsp; &nbsp; &nbsp;SYNTAX &nbsp;Indicates that commands with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;syntax errors should still
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;be passed to program.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8-24 &nbsp; &nbsp; &nbsp; Reserved for future use.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0-7 &nbsp; &nbsp; &nbsp; &nbsp;A character to prefix WYLBUR command
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;prompts in READ EDIT mode. &nbsp;A zero (0)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;indicates that no prompt prefix is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;to be used.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NOTE: &nbsp;When an ORVYL program is first
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; entered, the command language
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; processor sets the prompt
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prefix to '-'. &nbsp;CONTROL 12
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; allows the user to change or
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eliminate the prefix.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.9.3"></A>
<H2>
5.9.3
&nbsp;CONTROL (13): Reading the WYLBUR Mode Word
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,13
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Returns the current setting of the WYLBUR mode word.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Current WYLBUR mode word setting.
&nbsp;</PRE></UL>
<A NAME="5.9.4"></A>
<H2>
5.9.4
&nbsp;CONTROL (14): Detecting the WYLBUR Active File Size
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,14
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the current size of the WYLBUR active file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of lines in WYLBUR active file.
&nbsp;</PRE></UL>
<A NAME="5.9.5"></A>
<H2>
5.9.5
&nbsp;CONTROL (15): Obtaining the First WYLBUR Line Number
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,15
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the line number of the first line in the active file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Active file is empty.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Line number of the first active file line (times 1000).
&nbsp;</PRE></UL>
<A NAME="5.9.6"></A>
<H2>
5.9.6
&nbsp;CONTROL (16): Obtaining the Last WYLBUR Line Number
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,16
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the line number of the last line in the active file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Active file is empty.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Line number of the last active file line (times 1000).
&nbsp;</PRE></UL>
<A NAME="5.9.7"></A>
<H2>
5.9.7
&nbsp;CONTROL (17): Deleting the WYLBUR Active File Contents
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,17
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Deletes the current WYLBUR active file contents.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.9.8"></A>
<H2>
5.9.8
&nbsp;CONTROL (18): Aborting a Command in Progress in WYLBUR
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,18
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Aborts any READ EDIT or WRITE EDIT command processing which is in  progress  in
WYLBUR.   A  CONTROL  18  issued  under  other  processing  control is ignored.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<P>
NOTE:
</P>
<P>
A CONTROL 18 abort request is issued by the supervisor whenever a Session Break
occurs for any reason.  Since the program  cannot  control  when  these  events
occur,  a  CONTROL  20  permission request should be issued each time a changed
line in a READ EDIT input area is about to be processed.
</P>
<P>
When a CONTROL 18 is issued, all command processing and  changes  reporting  is
aborted.   If  the user program is processing a multiple line buffer containing
changes (READ EDIT, return code 8) when the abort occurs,  all  lines  in  that
buffer  for  which no permission has been obtained (CONTROL 20) will be deleted
from the active file.
</P>
<A NAME="5.9.9"></A>
<H2>
5.9.9
&nbsp;CONTROL (19): Output From the WYLBUR Active File to the Terminal
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,19,word-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Causes WYLBUR to type one line of the active file at the terminal.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;word-la&nbsp; &nbsp; &nbsp; &nbsp; WYLBUR line number (times 1000) to be written.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Line does not exist.
&nbsp;</PRE></UL>
<A NAME="5.9.10"></A>
<H2>
5.9.10
&nbsp;CONTROL (20): Obtaining Permission to Process Changed Lines
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,20
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
For a program using READ EDIT with the INFORM flag on, ensures that  a  changed
line  returned  in  a  READ  EDIT buffer with return code 8 still exists in the
active file.  If an abort  should  occur  during  processing  of  a  READ  EDIT
multiple  line buffer (return code 8) by the user program, WYLBUR deletes those
lines contained in the buffer from the active file.  Control 20 ensures that  a
line is retained in the active file and notifies the user program that an abort
has occurred.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Processing permission granted and recorded.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Processing permission denied because one or more
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abort conditions have occurred since the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;last READ EDIT buffer was returned.
&nbsp;</PRE></UL>
<A NAME="5.9.11"></A>
<H2>
5.9.11
&nbsp;READ,MODE=TEXT: Reading the WYLBUR Active File
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la,control-la,MODE=TEXT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads lines from the WYLBUR active file and places them  in  the  user  program
area in one of several available formats.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp;location of the area which is to receive the line(s)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp;1st 16 bits: &nbsp;zero (0) for codes 0/6, 100/106,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 300/306,400/406
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LRECL for codes 200/206, where
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1&lt;=LRECL&lt;=235
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2nd 16 bits; &nbsp;length of input area -
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; zero illegal
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Codes 0/6 - if the PREST flag is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; off in the WYLBUR mode word, data
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; may be lost if this length is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; less than 240 bytes. &nbsp;If the PREST
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; flag is on in the WYLBUR mode word,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data may be lost if this length is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; less than 256 bytes.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Codes 200/206 - Data may be lost if
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this length is not a multiple of
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LRECL.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Codes 300/306 - Data may be lost if
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this length is not a multiple of 80.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Codes 400/406 - Data may be lost if
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this length is not a multiple of 80.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;control-la&nbsp; &nbsp; &nbsp;pointer to that area which contains information on
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the line(s) to be read and the format in which the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;requested data is to be returned by WYLBUR
&nbsp;&nbsp;
&nbsp;Specifying&nbsp;area &nbsp; (bytes 1-2) &nbsp;: CODE &nbsp; MEANING
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp;Read first line only.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp; &nbsp;Read line immediately
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; preceding first line.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 &nbsp; &nbsp;Read line immediately
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; following first line.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 &nbsp; &nbsp;Read line(s) from first
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line to last line, if given.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp;Read line(s) from first line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to last line which contain
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the given string. &nbsp;Stop at
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; last line if given. &nbsp;A zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; length string reads only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blank lines.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5 &nbsp; &nbsp;Read line(s) from first line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; containing the given string
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; at the starting column. &nbsp;Stop
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; at ending line, if given.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6 &nbsp; &nbsp;Read line(s) from line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; containing the given string
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in columns from first
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; column thru last column.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Stop at last line, if given.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;100/106 &nbsp; &nbsp;Similar to codes 0-6, but
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; only the line number(s) will
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; be returned. &nbsp;(NOTEXT)
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;200/206 &nbsp; &nbsp;Similar to codes 0-6, except
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; that only the text of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line(s) will be returned,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; truncated or padded to LRECL
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; characters per line. &nbsp;A
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; positive LRECL must be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; supplied in the first 16
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bits of the length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; operand.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;300/306 &nbsp; &nbsp;Similar to codes 200/206,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; except that an LRECL=80 is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; implied and positions 73/80
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are replaced by the WYLBUR
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line number in decimal
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; format.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;400/406 &nbsp; &nbsp;Similar to code 300/306,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; except that an LRECL=80 is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; implied and positions 73/80
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; are replaced by the WYLBUR
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; line number in integer
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; format.
&nbsp;&nbsp;
&nbsp;&nbsp; (all codes) &nbsp; &nbsp; &nbsp;bytes 3-4 &nbsp; : Maximum number of lines to be read.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Ignored for codes 0,1,2. &nbsp;A
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;zero means read lines until
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the area is filled.
&nbsp;&nbsp; (all codes) &nbsp; &nbsp; &nbsp;bytes 5-8 &nbsp; : First WYLBUR line number (times
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1000). &nbsp;A (-1) means, &quot;read those
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lines beginning with the line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;following the last one read with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;READ TEXT.&quot;
&nbsp;&nbsp; (codes 3,4,5,6) &nbsp;bytes 9-12 &nbsp;: Last WYLBUR line number (times
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1000). &nbsp;A zero means &quot;read lines
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;until last.&quot; &nbsp;99999.999 is the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;highest possible line number.
&nbsp;&nbsp; (codes 4,5,6) &nbsp; &nbsp;bytes 13-14 : First column, where 1&lt;=FCOL&lt;=235.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Ignored for code 4.
&nbsp;&nbsp; (codes 4,5,6) &nbsp; &nbsp;bytes 15-16 : Last column, where 1&lt;=FCOL&lt;=
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LCOL&lt;=235. &nbsp;Ignored for codes 4,5.
&nbsp;&nbsp; (codes 4,5,6) &nbsp; &nbsp;bytes 17-18 : String length. Must be non-zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;except for code 4.
&nbsp;&nbsp; (codes 4,5,6) &nbsp; &nbsp;bytes 19 on : String text, where 1&lt;=FCOL+string
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;length-1&lt;=235.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp;Specified line(s) not contained in the data set.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; &nbsp;User area is too small.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Total number of bytes transferred.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Number of lines read.
&nbsp;&nbsp;
&nbsp;AREA&nbsp;= &nbsp; &nbsp;CODES 0/6
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; For each line read, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 : line number (times 1000)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; byte 5 &nbsp; &nbsp;: number of text bytes in the line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 6/L : line text
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CODES 100/106
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; For each line read, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4 bytes &nbsp; : line number (times 1000)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CODES 200/206 and 300/306
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; For each line read, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LRECL bytes : line text adjusted to LRECL
&nbsp;</PRE></UL>
<P>
For option codes 0/6,  text  will  be  returned  in  PREST  or  UNPREST  format
according  the  the setting of the PREST flag in the WYLBUR mode word in effect
at the time of the READ TEXT call.  For option codes 200/206 and  300/306,  the
PREST  flag  in  the  WYLBUR  mode  word is ignored and text is always returned
unprest.
</P>
<P>
For option codes 3/6, 103/106, 203/206, 303/306 and 403/406, as many lines will
be read as can be accomodated in the area as long as the total number of  lines
requested  or the ending line number is not exceeded.  For these codes, reading
begins with the first line number equal to or greater than  the  starting  line
number.   To read the entire active file, specify zero (0) as the starting line
number.  After each returned buffer has been processed, add one (1) to the last
line number read and issue another READ TEXT until all lines have been read  or
use the -1 value in bytes 5/8.
</P>
<A NAME="5.9.12"></A>
<H2>
5.9.12
&nbsp;WRITE,MODE=TEXT: Writing to the WYLBUR Active File
</H2>
&nbsp;<UL><PRE>
&nbsp;WRITE&nbsp; id-l,location-la,length-la,lines-la,MODE=TEXT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes or deletes specific lines in the WYLBUR active file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp;location of the area which contains the lines
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in the specified format.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1st 16 bits: disposition code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Disposition codes:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp;Replace or insert line(s)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp;Replace line(s).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp;Insert line(s).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3 &nbsp; &nbsp;Delete line(s).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp;LRECL option (append only).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5 &nbsp; &nbsp;NUMBERED option (insert or append).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6 &nbsp; &nbsp;INTEGER option (insert or append).
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2nd 16 bits: length of the area
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;lines-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for CODES 0,1,2,3,5,6: &nbsp;1st 16 bits: &nbsp;zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2nd 16 bits: number of lines
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;to be written or deleted.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for CODE 4:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1st 16 bits: LRECL, 1 &lt;= LRECL &lt;= 235
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2nd 16 bits: number of lines to be written
&nbsp;&nbsp;
&nbsp;AREA&nbsp;=
&nbsp;&nbsp; (CODES 0,1,2) For each line, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 : line number (times 1000)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; byte 5 &nbsp; &nbsp;: number of text bytes in the line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 6/L : line text
&nbsp;&nbsp; (CODE 3) &nbsp; &nbsp; &nbsp;For each line, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 : line number (times 1000)
&nbsp;&nbsp; (CODE 4) &nbsp; &nbsp; &nbsp;For each line, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/LRECL : &nbsp;line text
&nbsp;&nbsp; (CODE 5) &nbsp; &nbsp; &nbsp;For each line, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes &nbsp;1/72 : 72 bytes of line text
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 73/80 : 8-byte WYLBUR line number
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in decimal format.
&nbsp;&nbsp; (CODE 6) &nbsp; &nbsp; &nbsp;For each line, one set of the following:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes &nbsp;1/72 : 72 bytes of line text
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bytes 73/80 : 8-byte WYLBUR line number
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in INTEGER format.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Completed, line longer than WYLBUR length option.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Line truncated to 235 chars in WYLBUR.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; No room in WYLBUR active file.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; Line does not exist (REPLACE or DELETE).
&nbsp;&nbsp; &nbsp; &nbsp; 20 &nbsp; &nbsp; &nbsp; Line already exists (INSERT).
&nbsp;&nbsp; &nbsp; &nbsp; 24 &nbsp; &nbsp; &nbsp; Contents of area were invalid.
&nbsp;&nbsp; &nbsp; &nbsp; 28 &nbsp; &nbsp; &nbsp; Line number too large for WYLBUR.
&nbsp;&nbsp;
&nbsp;(15)&nbsp;= 12,16,20,24,28:
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Residual byte count.
&nbsp;</PRE></UL>
<P>
If register 15 returns a value of 12, 16, 20, 24  or  28,  no  indication  that
lines  were  either  truncated  or longer than the WYLBUR length option will be
provided.  Such a condition, however, does not cause the write to be  canceled.
</P>
<P>
With codes 0, 1, and 2, text will be interpreted in PREST or UNPREST format  in
accordance  with the current setting of the PREST flag in the WYLBUR mode word.
For codes 4, 5, and 6, the setting of the PREST flag in the WYLBUR mode word is
ignored and text is assumed to be UNPREST.
</P>
<P>
With disposition code 4, lines can only be appended to the active  file.   Each
LRECL  bytes  will be used to create a new line.  If the number of bytes is not
an exact multiple of LRECL, register 15 will return the value 24 and a non-zero
residual byte count will be returned in register 1.   If  the  active  file  is
empty,  the line will be assigned the WYLBUR line number 1.000.  If lines exist
new lines will be assigned a line number  which  is  the  sum  of  the  highest
existing line number and the current WYLBUR delta value.
</P>
<P>
For disposition code 5, each 80-byte length is used to form a  new  line.   The
contents  of positions 73/80, which must be valid WYLBUR line numbers, are used
to number the line and insert it into the active file.  If the number of  bytes
is  not  an  exact  multiple  of 80, register 15 will return the value 24 and a
non-zero residual byte count will be returned in register 1.
</P>
<A NAME="5.9.13"></A>
<H2>
5.9.13
&nbsp;READ,MODE=EDIT: Allowing WYLBUR to Issue Command Prompts
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la[,write-la],MODE=EDIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Permits the program to relinquish control of the terminal to WYLBUR for command
prompting and processing until an unrecognized  command  is  entered  from  the
terminal or, optionally, until a command is entered which causes changes to the
active file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp;Location of the area which is to receive text
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; returned from WYLBUR. The text will either be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; an unrecognized command in UNPREST format or,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; optionally, a changed line(s) in the active file.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Length of the area. &nbsp;UNPREST data may be lost if
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; less than 240 bytes. &nbsp;PREST data may be lost if
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; less than 256 bytes. &nbsp;Zero illegal.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;write-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Location of an area containing a write line.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If a write operation is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;specified, the write area
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;must contain an output line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;with count as specified:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Field size: &nbsp;Contents:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes &nbsp; &nbsp; w (Length of line to be written
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to terminal, where 0&lt;w&lt;163
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w bytes &nbsp; &nbsp; Line to be written to terminal
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(14)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Typed command
&nbsp;&nbsp; &nbsp; &nbsp;= 1 &nbsp; &nbsp; &nbsp; Not-typed command
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Command was not recognized by WYLBUR.
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total number of bytes transferred. &nbsp;If zero, user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;at terminal typed a question mark (?) and then ATTN
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;as a command to cause a Session Break to be scheduled.
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; The illegal command.
&nbsp;</PRE></UL>
<P>
The following returns will only occur if the INFORM flag is on  in  the  WYLBUR
mode  word  and  the  command  being processed is causing changes to the active
file.
</P>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 4 &nbsp; &nbsp; &nbsp; A line, typed at terminal, was inserted into active
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file. &nbsp;(COLLECT,INSERT)
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total number of bytes transferred.
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; 1 (number of lines inserted)
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 &nbsp;: line number inserted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;byte 5 &nbsp; &nbsp; : number of text bytes in line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 6/L &nbsp;: text or line inserted
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 8 &nbsp; &nbsp; &nbsp; Line(s), not typed at terminal, were inserted into
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;active file. (USE, FETCH, COPY, ALIGN, JUSTIFY).
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total number of bytes transferred.
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Number of lines transferred.
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; One set of the following for each line inserted:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 1/4 &nbsp;: line number inserted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;byte 5 &nbsp; &nbsp; : number of text bytes in the line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 6/L &nbsp;: line text inserted
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 12 &nbsp; &nbsp; &nbsp;A line, typed at terminal, was replaced in active
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file. &nbsp;(REPLACE)
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total number of bytes transferred.
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; 1 (number of lines replaced)
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 &nbsp;: line number replaced
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;byte 5 &nbsp; &nbsp; : number of text bytes in line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 6/L &nbsp;: line text replaced
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 16 &nbsp; &nbsp; &nbsp;A line, not typed at terminal was replaced in active
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file. &nbsp;(CHANGE, MODIFY, EDIT, CENTER)
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total number of bytes transferred.
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; 1 (number of lines replaced)
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 &nbsp;: line number replaced
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;byte 5 &nbsp; &nbsp; : number of text bytes in line
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 6/L &nbsp;: line text replaced
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 20 &nbsp; &nbsp; &nbsp;One line was deleted, another inserted in active file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(MOVE).
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total number of bytes transferred.
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; 1 (number of lines inserted)
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; bytes 1/4 &nbsp;: line number deleted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 5/8 &nbsp;: line number inserted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;byte 9 &nbsp; &nbsp; : number of text bytes in line inserted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 10/L : line text inserted line
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 24 &nbsp; &nbsp; &nbsp;Line(s) were deleted from active file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(DELETE,ALIGN,JUSTIFY).
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; First line number deleted.
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Last line number deleted.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 28 &nbsp; &nbsp; &nbsp;A CLEAR TEXT occurred in WYLBUR.
&nbsp;</PRE></UL>
<P>
Illegal commands are returned one at a  time  in  UNPREST  format.   All  other
returns  listed  occur  only  if the INFORM flag of the WYLBUR mode word is on.
</P>
<P>
When the INFORM flag is on, the following guide lines  are  applicable  to  the
changes being reported:
</P>
<PRE>
&nbsp;- The text for changed lines is returned in either PREST or  UNPREST
&nbsp;format  in  accordance  with  the PREST flag setting in the WYLBUR
&nbsp;mode word.
</PRE>
<PRE>
&nbsp;- If the NONUM flag is not set in the WYLBUR mode word,  the  NUMBER
&nbsp;command  will be allowed, but the changes in line numbers will not
&nbsp;be reported.
</PRE>
<PRE>
&nbsp;- The user at the terminal may not issue a  DELETE  which  specifies
&nbsp;disjoint  ranges.  He  must enter one command for each range to be
&nbsp;deleted.
</PRE>
<PRE>
&nbsp;- The program  may  stop  both  the  command  in  progress  and  all
&nbsp;reporting   of   changes  in  &quot;mid-stream&quot;  either  explicitly  or
&nbsp;inadvertently by issuing a request to WYLBUR other than READ EDIT.
&nbsp;A Session Break has the same effect upon a  command  in  progress.
</PRE>
<PRE>
&nbsp;- For return codes 4, 12, 16, and 20, if  the  command  causing  the
&nbsp;changes affects more than one line, each line will be reported one
&nbsp;line  at  a time as soon as the line is changed, regardless of the
&nbsp;specified size of the receive  area.   Before  changing  the  next
&nbsp;line, WYLBUR will wait for another READ EDIT request.
</PRE>
<PRE>
&nbsp;- On return code 8, WYLBUR will pass on each  successive  READ  EDIT
&nbsp;request  as  many  changed  lines as will fit in the program input
&nbsp;area until all changes have been exhausted.
</PRE>
<P>
Before attempting to process a line in  the  input  buffer,  the  user  program
should  first  issue  a  CONTROL  20  &quot;permission&quot; request.  When permission is
granted, the program is assured that the change reporting sequence has not been
aborted due to a program panic or Session Break.
</P>
<PRE>
&nbsp;- When the command causing changes is the ALIGN or JUSTIFY  command,
&nbsp;each  line  to be split is first reported as a line which has been
&nbsp;deleted, (return code 24), and on the next READ EDIT request,  the
&nbsp;new   aligned   or   justified   lines   are   reported   as  &quot;not
&nbsp;typed-inserted&quot; lines (return code 8).
</PRE>
<P>
NOTE: In this form of READ EDIT, the user program receives no  indication  that
all  changes  associated with a command have been reported.  The next READ EDIT
may cause WYLBUR to prompt the user for a new command.   The  user  who  wishes
notification  that  all  changes for a given command have been completed should
use READ EDIT CHANGES.
</P>
<A NAME="5.9.14"></A>
<H2>
5.9.14
&nbsp;READ,MODE=(EDIT,CHANGES): Editing the WYLBUR Active File
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la[,write-la],MODE=(EDIT,CHANGES)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Allows the user program to receive control of the terminal once all changes  to
the active file caused by one command have been reported by WYLBUR.
</P>
<P>
Specifications are identical to those described for READ EDIT,  except  that  a
new  return  code  is received by the user program.  This return code indicates
that all changes to the active file caused by  a  previous  command  have  been
completed.
</P>
Operands and Returns:
<BR>
<P>
All identical to those of READ MODE=EDIT.
</P>
Additional return from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 32 &nbsp; &nbsp; Changes completed.
&nbsp;</PRE></UL>
<P>
NOTE:
</P>
<P>
This READ EDIT option may also be employed when a return code of 8 is issued on
the WAIT following a WRITE EDIT request.  A return code of 8 indicates that the
INFORM flag in the WYLBUR mode word is on; the command passed  with  the  WRITE
EDIT  will cause changes to the active file.  This option allows the program to
obtain changes via the READ EDIT mechanism without giving  up  control  of  the
terminal  once  all  changes caused by the command passed in the WRITE EDIT are
reported.
</P>
<A NAME="5.9.15"></A>
<H2>
5.9.15
&nbsp;WRITE,MODE=EDIT: Passing WYLBUR and MILTEN Commands
</H2>
&nbsp;<UL><PRE>
&nbsp;WRITE&nbsp; id-l,location-la,length-la,code-la,MODE=EDIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Passes a command to WYLBUR and MILTEN for execution.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp;location of the area containing the WYLBUR command
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;length of the area, 1 &lt; length &lt; 163
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp;the line has been typed at the terminal
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nonzero &nbsp;the line has not been typed
&nbsp;</PRE></UL>
<P>
The last 31 bits of the code-la register are reserved.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion with no changes to the active
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Successful completion with changes to the active file.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;This code is returned only if the INFORM and BLOCK
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;flags in the WYLBUR mode word are off.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Active file changes pending, issue READ MODE=(EDIT,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CHANGES) next. &nbsp;This code is returned only if the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INFORM flag is on and the BLOCK flag is off in the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WYLBUR mode word.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Active file changes prohibited. This code is returned
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;only if (1) a BLOCK, NONUM, or NOALGN flag is on in the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WYLBUR mode word and (2) command execution would
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;violate that flag.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; An error was detected and an error message was
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;typed on the terminal. &nbsp;If code-la was set,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then the command was also typed with the message.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = 0 &nbsp; &nbsp; &nbsp; No write/idle attention outside ORVYL.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Write/idle attention outside ORVYL and Session Break
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;was scheduled.
&nbsp;</PRE></UL>
<P>
WARNING: If a return code 8 from WAIT is followed  by  any  command  to  WYLBUR
other  than  a  READ  EDIT  or  READ EDIT with CHANGES, then the changes to the
active file will be aborted.
</P>
<A NAME="5.9.16"></A>
<H2>
5.9.16
&nbsp;MILCOM: Passing Commands to MILTEN Only
</H2>
&nbsp;<UL><PRE>
&nbsp;MILCOM&nbsp;id-l,location-la,length-la,code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Passes a string to MILTEN to be used as the text for a WTO  to  the  operator's
console or as a command to be executed directly by MILTEN.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; terminal identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp;location of the area which contains
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the string
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp;length of the area, 1 &lt;length &lt; 163
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Code: &nbsp; &nbsp; &nbsp; Meaning:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; Command input from terminal
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; Command input was not from
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the terminal
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp; &nbsp; &nbsp; String to be used in WTO to the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; operator
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp;String was used as a command but an error
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; was detected and INVALID message typed. If
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; code-la was 1, the incorrect command
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; was also typed.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; &nbsp;Command passed was the name of a subsystem.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Control was not passed to the subsystem. Use
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WRITE, MODE=EDIT or COMMAND, MODE=WYLBUR to
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pass control to the subsystem.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = 0 &nbsp; &nbsp; &nbsp; &nbsp;No write/idle ATTN outside ORVYL.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp;Write/idle ATTN outside ORVYL.
&nbsp;</PRE></UL>
<A NAME="5.10"></A>
<H2>
5.10
&nbsp;ORVYL File Input/Output and Control
</H2>
<A NAME="5.10.1"></A>
<H2>
5.10.1
&nbsp;ATTACH (2): Attaching ORVYL Files
</H2>
&nbsp;<UL><PRE>
&nbsp;ATTACH&nbsp; &nbsp;2,location-la,length-la[,MODE=([SHARE][,OLD][,WAIT])]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Requests the use of a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area containing the file name.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Zero if a temporary file.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the area. &nbsp;Zero if a temporary file.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=SHARE&nbsp; &nbsp; &nbsp; &nbsp;Other tasks may attach the file at the same time.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=OLD&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The file already exists. &nbsp;If this option is not
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;specified, a new file will be created.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the file cannot be immediately attached, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for it to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Attach was already begun.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Device was already attached not MODE=SHARE.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Device was already attached MODE=SHARE.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Device name illegal.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system unavailable.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit file identifier
&nbsp;</PRE></UL>
<P>
The valid file identifier is returned in register zero (0) when the  return  in
register 15 is 0, 4, 8 or 12.
</P>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Attach completed.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; File storage limit exceeded (not MODE=OLD).
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; No space remains in file directory.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; File does not exist (MODE=OLD)
&nbsp;&nbsp; &nbsp; &nbsp; 20 &nbsp; &nbsp; &nbsp; File already exists (not MODE=OLD).
&nbsp;&nbsp; &nbsp; &nbsp; 24 &nbsp; &nbsp; &nbsp; System tables overflowed.
&nbsp;&nbsp; &nbsp; &nbsp; 28 &nbsp; &nbsp; &nbsp; File space exhausted (not MODE=OLD).
&nbsp;&nbsp; &nbsp; &nbsp; 32 &nbsp; &nbsp; &nbsp; File may only be attached MODE=SHARE.
&nbsp;</PRE></UL>
<A NAME="5.10.2"></A>
<H2>
5.10.2
&nbsp;READ: Reading File Blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la,block-la[,MODE=([WAIT][,SKIP])]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads a data block from a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area which is to receive the block
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the area. &nbsp;Maximum area size is 8192
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes. &nbsp;Blocks will be read until
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this area is filled.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The number of the first block to be read. &nbsp;Block
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;numbers start at zero.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=SKIP&nbsp; &nbsp; &nbsp; &nbsp; If the requested block does not exist, then the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;next existing block should be read instead.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O Error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; READ access to this file prohibited.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Block does not exist.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of bytes read.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Number of last block processed, plus one.
&nbsp;</PRE></UL>
<P>
Note: The number of bytes read will be no greater than the length of the  area.
If  a  block written using less than 2048 bytes is read, another block will not
be read, regardless of the total size  of  the  area.   Contents  of  the  area
specified,  but  not  filled,  remain  undefined.   See 5.10.3 for core storage
restrictions.
</P>
<A NAME="5.10.3"></A>
<H2>
5.10.3
&nbsp;WRITE: Writing File Blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;WRITE&nbsp; id-l,location-la,length-la,block-la[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes a data block to a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the area containing the block
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the area. &nbsp;The maximum area size is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8192 bytes. &nbsp;(See note.) &nbsp;Blocks will be written
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;until the area is emptied.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;block number or beginning block number
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; WRITE access to this file prohibited.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Rewriting an existing block not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; File storage limit exceeded.
&nbsp;&nbsp; &nbsp; &nbsp; 20 &nbsp; &nbsp; &nbsp; File space exhausted.
&nbsp;&nbsp; &nbsp; &nbsp; 24 &nbsp; &nbsp; &nbsp; Block out-of-range.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of bytes transmitted.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Number of last block processed, plus one.
&nbsp;</PRE></UL>
<P>
NOTE: Core storage in ORVYL is divided into pages of 4096 bytes each.  A buffer
area must begin on a double-word boundary and may not cross more than one  page
boundary.   If  a  page  boundary  is crossed the buffer must extend at least 8
bytes onto the second page.  Thus, a buffer of 4096 bytes or less may begin  on
any  double-word.   A buffer of 6144 bytes may begin as much as 2048 bytes from
the beginning of a page, while an  8192  byte  buffer  must  begin  on  a  page
boundary.   For maximum efficiency, buffers of 4096 bytes or less should reside
on a single page.
</P>
<A NAME="5.10.4"></A>
<H2>
5.10.4
&nbsp;CONTROL (0): Creating File Blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,0,block-la[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Creates a file data block of undefined content.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;block number
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Block already exists.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; File storage limit exceeded.
&nbsp;&nbsp; &nbsp; &nbsp; 20 &nbsp; &nbsp; &nbsp; File space exhausted.
&nbsp;</PRE></UL>
<A NAME="5.10.5"></A>
<H2>
5.10.5
&nbsp;CONTROL (1): Deleting a File Block
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,1,block-la[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Deletes a file data block.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;block number
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O Error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Block does not exist.
&nbsp;</PRE></UL>
<A NAME="5.10.6"></A>
<H2>
5.10.6
&nbsp;CONTROL (2): Deleting a Range of File Blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,2,first-la,last-la[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) (15) &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Deletes a range of file data blocks.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;first-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;first block number
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;last-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; last block number
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Not all blocks in the range exist.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number of blocks deleted.
&nbsp;</PRE></UL>
<A NAME="5.10.7"></A>
<H2>
5.10.7
&nbsp;CONTROL (3): Testing for the Existence of a File Block
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,3,block-la[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Tests for the presence of a file block.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;block number
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Specified block present.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Block not present.
&nbsp;</PRE></UL>
<A NAME="5.10.8"></A>
<H2>
5.10.8
&nbsp;CONTROL (4): Obtaining the File First Block Number
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,4[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the first block number in the file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; No blocks in file.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of first block in the file.
&nbsp;</PRE></UL>
<A NAME="5.10.9"></A>
<H2>
5.10.9
&nbsp;CONTROL (5): Obtaining the File Last Block Number
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,5[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose
<BR>
<P>
Reports the last block number in the file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; No blocks in file.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of last block in the file.
&nbsp;</PRE></UL>
<A NAME="5.10.10"></A>
<H2>
5.10.10
&nbsp;CONTROL (6): Obtaining the Total Number of File Blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,6[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the total number of blocks in the file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Number of user-written blocks in the file.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Number of billable blocks in the file, including
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;both user blocks and system index blocks.
&nbsp;</PRE></UL>
<A NAME="5.10.11"></A>
<H2>
5.10.11
&nbsp;CONTROL (7): Writing an Updated File Index
</H2>
Special Note:
<BR>
<P>
This control now does nothing. All file indexes are automatically updated  when
necessary. It is only kept for backward compatability.
</P>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,7[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Updates the index for the file.  Ensures that all file updates are retained  in
case of system error.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;</PRE></UL>
<A NAME="5.10.12"></A>
<H2>
5.10.12
&nbsp;CONTROL (8): Erasing and Renaming Files
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,8,location-la[,length-la][,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) &nbsp; (15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Erases or renames files.  This macro may be used to erase or rename a file only
if the file is not attached with MODE=SHARE.  The file is detached only  if  it
is successfully scratched, otherwise it remains attached.  A DETACH following a
successful scratch will result in an error.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the area containing the new file name.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If no name is specified (i.e., if R15=0), the file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;will be erased.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; length of the file name.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; If the request cannot be immediately processed, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program will wait for the file to become available.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; File attached MODE=SHARE.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; New name illegal.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Attempt to change file owner during rename.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; New file name already exists.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; No space available in file directory.
&nbsp;</PRE></UL>
<A NAME="5.10.13"></A>
<H2>
5.10.13
&nbsp;CONTROL (9): Assigning Account Level File Privileges
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,9,access-la[,user-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Assigns and withdraws access privileges for a file.   Changes  in  file  access
privileges  for  any  user do not affect that user if the file is attached when
the change is made. If user is not specified, then  the  FILEMASK  is  altered.
Only the file owner may alter the FILEMASK.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;access-la&nbsp; &nbsp; &nbsp; &nbsp; code specifying the permitted access
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 29-31 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bit 28 &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp;may not extend access to others
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp;may extend access to others
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;user-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location of the 6-byte area containing the name of
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the user to whom access is to be permitted (i.e., gg.uuu).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If no user is specified, the FILEMASK is altered.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; File attached MODE=SHARE.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Illegal user.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Non-owner attempt to alter owner's privileges.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Attempt to extend more privileges than user himself
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;has.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Attempt to extend privileges to a user who
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;has not been validated for ORVYL file use.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; No space remains in file directory.
&nbsp;</PRE></UL>
<A NAME="5.10.14"></A>
<H2>
5.10.14
&nbsp;CONTROL (10): Assigning PUBLIC File Privileges
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,10,access-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Assigns and withdraws the access privileges for a file to  all  valid  terminal
users.  Changes in PUBLIC access privileges may only be made by the file owner.
If  the  file  was  attached MODE=SHARE, a change to public privileges will not
affect those users attached to the file when the change was made.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;access-la&nbsp; &nbsp; &nbsp; &nbsp; code specifying the permitted access
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 29-31 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 0-28 &nbsp; &nbsp; &nbsp; &nbsp;not used
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Attempt to alter public privileges by non-owning
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.10.15"></A>
<H2>
5.10.15
&nbsp;CONTROL (11): Reading File Access Privileges
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,11[,location-la,length-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the FILEMASK and PUBLIC access privileges for a file.  If the issuer is
the file owner or a user with EXTEND privileges, also reports all  other  users
with  access  to  the  file  as well as the access privileges each user enjoys.
Otherwise, only the owner, PUBLIC, and issuing user  privileges,  if  any,  are
reported.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area which is to receive the names
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;of the users with privileges and the access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;privileges. &nbsp;If no location is given, only the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PUBLIC and owner's privileges will be reported.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; length of the area (at least 7 bytes)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Permanent I/O error.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public and FILEMASK:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Public privileges:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 21-23 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FILEMASK:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 29-31 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp;
&nbsp;&nbsp;(14) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Number of privileged users.
&nbsp;&nbsp;
&nbsp;&nbsp;AREA = &nbsp; &nbsp; &nbsp; &nbsp;7 bytes for each privileged user:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 1-6: &nbsp;user name (i.e., gg.uuu)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7: &nbsp;user privileges:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 5-7 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bit 4 &nbsp; &nbsp; &nbsp; 0 &nbsp;may not permit access to others
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp;may permit access to others
&nbsp;</PRE></UL>
<P>
Privileged users will be reported until the specified area is filled.
</P>
<A NAME="5.10.16"></A>
<H2>
5.10.16
&nbsp;CONTROL (12): Setting SHARE ONLY Mode for ATTACH Macro
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,12,state-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Specifies that a file may or may not be attached only with MODE=SHARE.  Changes
in the SHARE ONLY ATTACH condition may only be made by  the  file  owner.   The
SHARE  ONLY condition may be specified even when the file is currently attached
(not MODE=SHARE); in this case, SHARE ONLY takes effect after the file is  next
detached.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;state-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;zero, file may be attached normally
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;non-zero, file may be attached only MODE=SHARE
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Attempt to alter SHARE ONLY ATTACH condition by
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;non-owning user.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<P>
Note: SHARE ONLY prevents  exclusive  file  use,  but  does  not  prevent  file
updating by a program using the RESERVE and RELEASE macros.
</P>
<A NAME="5.10.17"></A>
<H2>
5.10.17
&nbsp;CONTROL (13): Sensing SHARE ONLY Mode for ATTACH Macro
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp; id-l,13
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Senses the ATTACH condition for a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; File may be attached normally.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; File may be attached only MODE=SHARE.
&nbsp;</PRE></UL>
<A NAME="5.10.18"></A>
<H2>
5.10.18
&nbsp;CONTROL (14): Setting the File Format Field
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id-l,14,info-la[,MODE=(FORMAT,WAIT)]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes the file format field (4 bytes) in the  file  directory  entry  for  the
specified  file.  This  field  may be employed by any user program, but is used
primarily by the  Command  Language  Processor  to  retain  the  format  (e.g.,
EDIT,CARD,LRECL,etc.)   in  which the file is stored. WRITE access privilege is
required in order to modify the file format field.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;info-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; information to be written
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;in the file directory entry
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=FORMAT&nbsp; &nbsp; &nbsp; Sets the FORMAT entry for the file.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation begun
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; File system not available
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Information written in the file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;directory entry.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; File system not available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; File not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; &nbsp; Access not permitted.
&nbsp;</PRE></UL>
Format in (15) (4 bytes):
<BR>
&nbsp;<UL><PRE>
&nbsp;byte&nbsp;1 &nbsp; &nbsp; TYPE = X'80' &nbsp;Library
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'40' &nbsp;Loadfile (plus Library)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'04' &nbsp;Fixed LRECL=nn
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'05' &nbsp;Numbered (LRECL=nn)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'06' &nbsp;Integer &nbsp;(LRECL=nn)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'01' &nbsp;Edit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'02' &nbsp;Variable
&nbsp;byte&nbsp;2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Reserved for URAM use
&nbsp;bytes&nbsp;3-4 &nbsp; &nbsp; &nbsp; &nbsp; LRECL
&nbsp;</PRE></UL>
<A NAME="5.10.19"></A>
<H2>
5.10.19
&nbsp;CONTROL (15): Sensing the File Format Field
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id-l,15
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Retrieves the file format field (4 bytes).
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation begun
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; File system not available
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; FORMAT option set
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; &nbsp; FORMAT option not set
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; File system not available
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp;4 bytes of file format information
&nbsp;</PRE></UL>
Format in (1) (4 bytes):
<BR>
&nbsp;<UL><PRE>
&nbsp;byte&nbsp;1 &nbsp; &nbsp; TYPE = X'80' &nbsp;Library
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'40' &nbsp;Loadfile (plus Library)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'04' &nbsp;Fixed LRECL=nn
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'05' &nbsp;Numbered (LRECL=nn)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'06' &nbsp;Integer &nbsp;(LRECL=nn)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'01' &nbsp;Edit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'02' &nbsp;Variable
&nbsp;byte&nbsp;2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Reserved for URAM use
&nbsp;bytes&nbsp;3-4 &nbsp; &nbsp; &nbsp; &nbsp; LRECL
&nbsp;</PRE></UL>
<A NAME="5.10.20"></A>
<H2>
5.10.20
&nbsp;CONTROL (16): Setting a File's CLP/NOCLP Condition
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id-l,16,state-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the CLP/NOCLP condition for a file.  If NOCLP is set,  the  terminal  user
cannot  ERASE,  PUT,  RENAME,  SET  PERMIT,  SHOW  FILES  ERASE, or DEFLATE the
specified file.  Only the file owner may set or reset this condition.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;state-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 - all CLP commands may be performed for the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file (CLP).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 - CLP may not modify the file (NOCLP).
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation begun
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; Attempt to alter CLP/NOCLP condition by a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;non-owning user
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; File system not available
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation successful
&nbsp;</PRE></UL>
<A NAME="5.10.21"></A>
<H2>
5.10.21
&nbsp;CONTROL (17): Sensing a File's CLP/NOCLP Condition
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id-l,17
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Senses the CLP/NOCLP condition set for a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORVYL file system not available
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Any CLP command may be executed (CLP).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLP may not modify the file (NOCLP).
&nbsp;</PRE></UL>
<A NAME="5.10.22"></A>
<H2>
5.10.22
&nbsp;CONTROL (18): Setting a File's CLP Only Condition
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id-l,18,state-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1) (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the CLP only condition for a file.  If  set,  only  CLP  can  ERASE,  PUT,
RENAME,  SET  PERMIT, SHOW FILES ERASE, or SHRINK the specified file.  Only the
file owner may set or reset this condition.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;state-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 - all CLP commands may be performed for the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file (CLP).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 - CLP may not modify the file (NOCLP).
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation begun
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; Attempt to alter CLP/NOCLP condition by a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;non-owning user
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; File system not available
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; Operation successful
&nbsp;</PRE></UL>
<A NAME="5.10.23"></A>
<H2>
5.10.23
&nbsp;CONTROL (19): Sensing a File's CLP Only Condition
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id-l,19
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Senses the CLP only condition for a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ORVYL file system not available
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normal mode.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLP only mode.
&nbsp;</PRE></UL>
<A NAME="5.10.24"></A>
<H2>
5.10.24
&nbsp;CONTROL (20): Sensing a File Type
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id,20
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sense a file type (non-indexed or normal).
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normal file structure
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Non-indexed file structure
&nbsp;&nbsp; &nbsp; &nbsp; 28 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Hybrid file structure
&nbsp;</PRE></UL>
<A NAME="5.10.25"></A>
<H2>
5.10.25
&nbsp;CONTROL (21): Setting SPIRES Only
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id,21
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Set SPIRES only.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<A NAME="5.10.26"></A>
<H2>
5.10.26
&nbsp;CONTROL (22): Sensing SPIRES Only
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id,22
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sense SPIRES only mode.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Normal mode
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SPIRES only mode
&nbsp;</PRE></UL>
<A NAME="5.10.27"></A>
<H2>
5.10.27
&nbsp;CONTROL (23): Sensing file block size
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id,23
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sense the file block size (2K or 4K).
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;(1)&nbsp; = block size in bytes
&nbsp;</PRE></UL>
<A NAME="5.10.28"></A>
<H2>
5.10.28
&nbsp;CONTROL (24): Obtain maximum file size in blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id,24
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtain maximum file size in blocks.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;(1)&nbsp; = Maximum file size in blocks
&nbsp;</PRE></UL>
<A NAME="5.10.29"></A>
<H2>
5.10.29
&nbsp;CONTROL (25): Convert to hybrid file
</H2>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;id,25,count
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) (1) (15)
&nbsp;&nbsp; &nbsp; &nbsp; where count is the maximum file size in blocks.
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Convert the file to a hybrid file. Any file type can  be  converted,  including
converting a hybrid file to a larger hybrid file. Count must be large enough to
contain the current file size.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation begun
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;File converted
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attempted to truncate existing file
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;User file space exceeded
&nbsp;&nbsp; &nbsp; &nbsp; 20 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Contiguous IXRs could not be allocated
&nbsp;</PRE></UL>
<A NAME="5.11"></A>
<H2>
5.11
&nbsp;ORVYL File Status and Reserve/Release
</H2>
<A NAME="5.11.1"></A>
<H2>
5.11.1
&nbsp;STATUS (0): Assigning Global File Access
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 0,access-la,usera-la[,userb-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp;(1) &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Assigns and withdraws global file access privileges for all files  owned  by  a
user.   Changes  made in access privileges do not affect access to any files in
use at the time the change is made.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;access-la&nbsp; &nbsp; &nbsp; code specifying the permitted access
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 29-31 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bit 28 &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp;may not extend access to others
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp;may extend access to others
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;usera-la&nbsp; &nbsp; &nbsp; &nbsp;location of the 6-byte area which contains the name
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;of the user to whom access is to be permitted.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;userb-la&nbsp; &nbsp; &nbsp; &nbsp;location of the 6-byte area which contains the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name of the file owner. &nbsp;If none is given, the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;current user is implied.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Account name illegal.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system unavailable.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Attempt to extend privileges to owner.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Attempt to extend more privileges than the user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;himself has.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Attempt to extend privileges to a user who has
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not been validated for ORVYL file use.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Attempt to extend privileges by a user who has
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not been validated for ORVYL file use.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; No space available in file directory.
&nbsp;</PRE></UL>
<A NAME="5.11.2"></A>
<H2>
5.11.2
&nbsp;STATUS (1): Assigning Global PUBLIC Access
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 1,access-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Assigns and withdraws global file access for all the files owned by a  user  to
all validated terminal users.  Changes in PUBLIC access may only be made by the
file owner.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;access-la&nbsp; &nbsp; &nbsp; code specifying permitted access
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 29-31 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system unavailable.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.11.3"></A>
<H2>
5.11.3
&nbsp;STATUS (2): Reading File Names, Creation Date, and Last Use
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 2,location-la,length-la[,name-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the names, creation dates and last reference dates of a  user's  files.
Files  are  reported in alphabetical order.  Only permitted users may list file
names of other users.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the area which is to receive the file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;names and dates
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; length of the area (at least 56 bytes)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;name-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 40-byte area containing:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes &nbsp;1-6: &nbsp;name of the file owner
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7: &nbsp;period (.)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8-40: &nbsp;filename (padded with blanks)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTE: &nbsp;If bytes 7-40 or 8-40 are blank,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reporting will begin with the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;first file. &nbsp;If a matching file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name is not encountered,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reporting will begin with the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;next file name encountered in
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;collating sequence order. &nbsp;If
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user is not given, the issuing
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user is assumed.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Name illegal.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system unavailable.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Account has not been validated for ORVYL file use.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; No files exist to be reported.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp; Reading file names prohibited.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; No files exist in higher collating sequence.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number of file names reported.
&nbsp;&nbsp;
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; 56 bytes for each file name reported:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 1-44: &nbsp;ORV.gg.uuu.filename
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 45-50: &nbsp;creation date (YYMMDD)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 51-56: &nbsp;last reference date (YYMMDD)
&nbsp;</PRE></UL>
<P>
File names will be reported until the area is filled.
</P>
<A NAME="5.11.4"></A>
<H2>
5.11.4
&nbsp;STATUS (3): Detecting Account Level Access Privileges
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 3,location-la,length-la[,user-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports privileged users  as  well  as  the  access  privileges  each  user  is
assigned. Users are reported in alphabetical sequence.  Only the file owner and
users  with  EXTEND  privileges  may  report  other users. Users without EXTEND
privileges may sense only their own access privileges.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the area which is to receive the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user names and access privileges
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; length of the area (at least 7 bytes)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;user-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6-byte area containing the name of the user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If a user is not given, the current user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;is assumed.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Name illegal.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system unavailable.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Account does not exist.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Reporting privileged users prohibited.
&nbsp;&nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Public privileges:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 21-23 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp;(14) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Number of users sensed.
&nbsp;&nbsp;
&nbsp;AREA&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; 7 bytes for each user sensed:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 1-6: &nbsp;user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7: &nbsp;user's privileges:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 5-7 &nbsp;000 &nbsp;no access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;001 &nbsp;read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;111 &nbsp;read and write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;011 &nbsp;read and append
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;010 &nbsp;append only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bit 4 &nbsp; &nbsp; &nbsp; 0 &nbsp;may not extend access
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to others
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 &nbsp;may extend access to
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; others
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bits 0-3 &nbsp; &nbsp; &nbsp; not used
&nbsp;</PRE></UL>
<P>
Users will be reported until the area is filled.
</P>
<A NAME="5.11.5"></A>
<H2>
5.11.5
&nbsp;STATUS (4): Obtaining Current Space and Usage Statistics
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 4[,user-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the space allocated to and the current space usage  of  a  user.   Only
permitted users may report space status.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;user-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6-byte area containing the user name. &nbsp;If no
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user is given, the current user is assumed.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation started.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; Account name illegal.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL file system unavailable.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Account has not been validated for ORVYL file use.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Sensing this user's space prohibited.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Space allotment (number of blocks).
&nbsp;&nbsp;
&nbsp;(14)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Space used (number of blocks).
&nbsp;</PRE></UL>
<A NAME="5.11.6"></A>
<H2>
5.11.6
&nbsp;STATUS (5): Extend a Non-IXR File
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 5,location-la,length-la,blocks-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Extends a Non-IXR file by adding blocks to the end if enough contiguous  blocks
happen  to be available. It reports how many blocks would be possible to extend
the file if the requested amount is not possible. These blocks are not reserved
however so even these might no longer be available if one does not act quickly.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of filename
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of filename
&nbsp;blocks-la&nbsp; &nbsp; &nbsp; number of blocks to extend this file.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid filename
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Not possible
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If 15 = 4 then contains the count of blocks
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;possible.
&nbsp;</PRE></UL>
<A NAME="5.11.7"></A>
<H2>
5.11.7
&nbsp;STATUS (6): Allocating a Non-IXR File
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 6,location-la,length-la,blocks-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Allocate a Non-IXR file (Non-indexed file).
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of filename
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of filename
&nbsp;blocks-la&nbsp; &nbsp; &nbsp; number of blocks to allocate for this file.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid filename
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Account not valid
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;User block limit exceeded
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp; &nbsp; &nbsp;File directory full
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;16 &nbsp; &nbsp; &nbsp;Access not permitted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;20 &nbsp; &nbsp; &nbsp;File already exists
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;24 &nbsp; &nbsp; &nbsp;Insufficient file system space
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;28 &nbsp; &nbsp; &nbsp;Non-IXR files not allowed.
&nbsp;</PRE></UL>
<A NAME="5.11.8"></A>
<H2>
5.11.8
&nbsp;STATUS (7): Allocating a Hybrid File
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp; 7,location-la,length-la,blocks-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Allocate a Hybrid file (Consecutive IXR file).
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of filename
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of filename
&nbsp;blocks-la&nbsp; &nbsp; &nbsp; number of blocks to allocate for this file.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid filename
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Account not valid
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;User block limit exceeded
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp; &nbsp; &nbsp;File directory full
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;16 &nbsp; &nbsp; &nbsp;Access not permitted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;20 &nbsp; &nbsp; &nbsp;File already exists
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;24 &nbsp; &nbsp; &nbsp;Insufficient file system space
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;28 &nbsp; &nbsp; &nbsp;Hybrid files not allowed.
&nbsp;</PRE></UL>
<A NAME="5.11.11"></A>
<H2>
5.11.11
&nbsp;Reserved STATUS macros
</H2>
<P>
The following STATUS macros are reserved for systems  programmers  only.   They
can  be  used  for  the development of utilities or for testing system changes.
</P>
<A NAME="5.11.11.1"></A>
<H2>
5.11.11.1
&nbsp;STATUS (100): Create a new account
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;100,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Creates a new account for the file system designated by the group code part  of
the account being created.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of account in the format GG.UUU or UUU$GG
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid account format
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Account already exists
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;No more room in catalog
&nbsp;</PRE></UL>
<A NAME="5.11.11.2"></A>
<H2>
5.11.11.2
&nbsp;STATUS (101): Delete an account
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;101,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Deletes an account from the file system designated by the group  code  part  of
the account being deleted.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of account in the format GG.UUU or UUU$GG
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid account format
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Account does not exist
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;Can't delete an account with files
&nbsp;</PRE></UL>
<A NAME="5.11.11.3"></A>
<H2>
5.11.11.3
&nbsp;STATUS (102): Reset space allowed
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;102,location-la,space-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Resets the maximum count of blocks that can be used by the account.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of account in the format GG.UUU or UUU$GG
&nbsp;space-la&nbsp; &nbsp; &nbsp; &nbsp;count of blocks
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid account format
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Account does not exist
&nbsp;</PRE></UL>
<A NAME="5.11.11.4"></A>
<H2>
5.11.11.4
&nbsp;STATUS (103): List accounts
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;103,location-la,length-la,start-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Lists the accounts in a file system, sorted alphabetically.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output area
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output area, must be at least 14
&nbsp;start-la&nbsp; &nbsp; &nbsp; &nbsp;byte 1 = file system id
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 2-4 is the address of the start account
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid account format
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;No more accounts after start account.
&nbsp;(1)&nbsp; = &nbsp;count of accounts listed
&nbsp;</PRE></UL>
<P>
Output area = 14 bytes for each account listed:
</P>
&nbsp;<UL><PRE>
&nbsp;bytes&nbsp;1-6 is the account
&nbsp;bytes&nbsp;7-10 is the maximum count of blocks allowed
&nbsp;bytes&nbsp;11-14 is the current count of blocks used
&nbsp;</PRE></UL>
<P>
The output area will be filled with accounts until  it  is  full  or  the  last
account  in the file system has been listed. If the start account is blank, the
list will start from the first account in the file system.
</P>
<A NAME="5.11.11.5"></A>
<H2>
5.11.11.5
&nbsp;STATUS (104): Reset space use
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;104,location-la,space-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Resets the space used for an account. This may be necessary in the event of  an
Orvyl failure causing a space update to be lost.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of account in GG.UUU or UUU$GG format
&nbsp;space-la&nbsp; &nbsp; &nbsp; &nbsp;count of blocks
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid account format
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Account does not exist
&nbsp;</PRE></UL>
<P>
See the FBAL command which uses this macro.
</P>
<A NAME="5.11.11.6"></A>
<H2>
5.11.11.6
&nbsp;STATUS (105): Delete file catalog entry
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;105,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Deletes a file catalog entry without releasing blocks. This may be necessary if
a file becomes corrupted and the blocks  can  not  be  released  normally.  The
blocks  referenced  by  the  deleted entry become lost blocks which then can be
reclaimed. Note that the blocks allocated  for  the  account  is  not  updated.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of file name
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of file name
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid file name
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;File does not exist
&nbsp;</PRE></UL>
<A NAME="5.11.11.7"></A>
<H2>
5.11.11.7
&nbsp;STATUS (106): Read real block
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;106,location-la,length-la,block-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads a real block from a file system. This function is used in testing  system
changes  or  for reparing damaged records. This macro can be used when the file
system is otherwise unavailable.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output area
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output area, must be at least 4 and
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not more than the file system block size (2k
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or 4k). Generally one would used the file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;system block size.
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp;byte 1 = file system id
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 2-4 is the real block number to read
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; &nbsp; &nbsp;bytes 1-2 record type
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'00FF' File System Master Block
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0080' Catalog
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0040' Bit Map
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0010' ZIXR (Hybrid index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0008' IXR &nbsp;(Index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0004' SIXR (Super index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0002' MIXR (Master index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0001' User data block
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; bytes 3-4 = length of record
&nbsp;</PRE></UL>
<A NAME="5.11.11.8"></A>
<H2>
5.11.11.8
&nbsp;STATUS (107): Set pseudo account
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;107,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the file access account to the account specified instead of the logged  on
account or to clear previously set pseudo account
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of account in the format GG.UUU or UUU$GG
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or zero to clear pseudo account
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid account format
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<A NAME="5.11.11.9"></A>
<H2>
5.11.11.9
&nbsp;STATUS (108): Set file system access mode
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;108,location-la,mode-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the file system access mode (read/write, read only, no access)
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of file system name (8 bytes,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;space filled) or the file system id
&nbsp;mode-la&nbsp; &nbsp; &nbsp; &nbsp; 0 change from read only to read/write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4 change from read/write to read only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8 change from no access to read/write
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 12 change from read/write to no access
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;File system already in desired mode
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp; &nbsp; &nbsp;Invalid mode specified
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid file system name
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<A NAME="5.11.11.10"></A>
<H2>
5.11.11.10
&nbsp;STATUS (109): Write real block
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;109,location-la,length-la,block-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes a real block to a file system. This function is used in  testing  system
changes  or  for reparing damaged records. This macro can be used when the file
system is otherwise unavailable.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of input area
&nbsp;length-la&nbsp; &nbsp; &nbsp; bytes 1-2 = record type
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'00FF' File System Master Block
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0080' Catalog
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0040' Bit Map
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0010' ZIXR (Hybrid index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0008' IXR &nbsp;(Index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0004' SIXR (Super index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0002' MIXR (Master index)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;X'0001' User data block
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 3-4 = length of input area, must
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;be at least 4 and not more than the file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;system block size (2k or 4k).
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp;byte 1 = file system id
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 2-4 is the real block number to write
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<A NAME="5.11.11.11"></A>
<H2>
5.11.11.11
&nbsp;STATUS (110): Update file start block in catalog
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;110,location-la,length-la,block-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Udates the start block number in the catalog for a file entry. This can be used
to relocate a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of file name
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of file name
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp;new block number
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid file name
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;File does not exist
&nbsp;</PRE></UL>
<A NAME="5.11.11.12"></A>
<H2>
5.11.11.12
&nbsp;STATUS (111): Read catalog entry
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;111,location-la,length-la,area-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads the catalog entry for an account or file. This is  usefull  to  determine
the  first  block  of  a file for use with STATUS 106 or testing sytem changes.
Catalog entry formats are described by the NTRY dsect.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output buffer
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output buffer
&nbsp;area-la&nbsp; &nbsp; &nbsp; &nbsp; 40 byte space filled area containing the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;account in GG.UUU format or the file name in
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GG.UUU.aaaaaaa ... format.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid file/account name
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;File/account does not exist
&nbsp;</PRE></UL>
<A NAME="5.11.11.13"></A>
<H2>
5.11.11.13
&nbsp;STATUS (112): Get file system id and name
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;112,location-la,length-la,fsid-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Given file system id or name, return both.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output buffer of at least 9 bytes
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output buffer
&nbsp;fsid-la&nbsp; &nbsp; &nbsp; &nbsp; address of 8 byte, space filled file system
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name or file system id
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid file system name or id
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<P>
The output buffer will contain a one byte id followed by the eight  byte  name.
</P>
<A NAME="5.11.11.14"></A>
<H2>
5.11.11.14
&nbsp;STATUS (113): Convert group to file system id
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;113,location-la,length-la,group-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Given group code, return file system id and name.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output buffer of at least 9 bytes
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output buffer
&nbsp;group-la&nbsp; &nbsp; &nbsp; &nbsp;address of 2 byte group code
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid group code
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; Group not defined for any file system
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<P>
The output buffer will contain a one byte id followed by the eight  byte  name.
</P>
<A NAME="5.11.11.15"></A>
<H2>
5.11.11.15
&nbsp;STATUS (114): Get file system/group table
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;114,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Moves the file system/group table to the output area. Returns the count of file
systems so that the table can be interpreted.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output area
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output area of at least 936
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(26*36) bytes
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; Count of file systems
&nbsp;</PRE></UL>
<A NAME="5.11.11.16"></A>
<H2>
5.11.11.16
&nbsp;STATUS (115): Read real block header
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;115,location-la,length-la,block-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads a real block header from a file system. This function is used in  testing
system  changes.  This  macro  can  be  used  when the file system is otherwise
unavailable. The block header format is described by the FBHDR dsect.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; address of output area
&nbsp;length-la&nbsp; &nbsp; &nbsp; length of output area, must be at least 4 and
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not more than 32.
&nbsp;block-la&nbsp; &nbsp; &nbsp; &nbsp;byte 1 = file system id
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 2-4 is the real block number to read
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; length of block header
&nbsp;</PRE></UL>
<A NAME="5.11.11.17"></A>
<H2>
5.11.11.17
&nbsp;STATUS (116): Get a contiguous range of blocks
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;116,count-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Gets a contiguous range of blocks from a file system. Note that a count of  one
block can be specified.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;count-la&nbsp; &nbsp; &nbsp; &nbsp;byte 1 &nbsp; &nbsp;File system id
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bytes 2-4 Count of contiguous blocks
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-8 &nbsp; &nbsp; &nbsp;Invalid file system id
&nbsp;&nbsp; &nbsp; &nbsp; -12 &nbsp; &nbsp; &nbsp;ORVYL file system unavailable
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Not possible
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; First block in range of contiguous blocks
&nbsp;</PRE></UL>
<A NAME="5.11.11.18"></A>
<H2>
5.11.11.18
&nbsp;STATUS (117): Suspend program execution
</H2>
&nbsp;<UL><PRE>
&nbsp;STATUS&nbsp;117,time-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Suspends  program  execution  for  time  interval  specified  in   0.1   second
increments.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;time-la&nbsp; &nbsp; &nbsp; &nbsp; Time interval specified in number of 0.1 seconds
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Operation started
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;-4 &nbsp; &nbsp; &nbsp;Too many devices attached
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit device identifier (used only for WAIT).
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;</PRE></UL>
<P>
The timer starts as soon as the STATUS SVC is issued. The program will  receive
control  back  from  WAIT as soon as the time has expired or immediately if the
timer had already expired before the WAIT was issued.
</P>
<A NAME="5.11.28"></A>
<H2>
5.11.28
&nbsp;RESERVE: Obtaining Exclusive File Control
</H2>
&nbsp;<UL><PRE>
&nbsp;RESERVE&nbsp; id-l[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtain exclusive control of a file which is attached with MODE=SHARE.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; If exclusive control cannot be immediately obtained,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the program will wait until control can be obtained.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation started.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Exclusive control obtained.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Exclusive control not immediately available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; WRITE access to this file prohibited.
&nbsp;</PRE></UL>
<A NAME="5.11.29"></A>
<H2>
5.11.29
&nbsp;RELEASE: Relinquish Exclusive File Control
</H2>
&nbsp;<UL><PRE>
&nbsp;RELEASE&nbsp; id-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Relinquishes exclusive control previously obtained by RESERVE.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file identifier
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0
&nbsp;</PRE></UL>
<A NAME="5.12"></A>
<H2>
5.12
&nbsp;SUZAN Path Input/Output
</H2>
<A NAME="5.12.1"></A>
<H2>
5.12.1
&nbsp;ATTACH (4): Creating and Opening a SUZAN Path
</H2>
&nbsp;<UL><PRE>
&nbsp;ATTACH&nbsp; 4,location-la,length-la[,return-la][,MODE=([WAIT][,CONTROL])]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Requests the creation and opening of a SUZAN path.  For further information  on
SUZAN,  see  the User's Guide to SVCCOM.  (SVCCOM is the development system for
SUZAN.)
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area containing the path tags and
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;password. Area is 20 bytes long and contains the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8-byte identifier for the user's side of the path,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the 8-byte identifier for the other side of the path,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;and the 4-byte password for the path.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The two identifiers may not be the same nor
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;may they begin with hexidecimal 255 (X'FF').
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; 1st 16-bits: number of seconds to wait before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TIME-OUT (600 maximum) or zero.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If TIME-OUT is specified, MODE=WAIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; must also be specified.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2nd 16-bits: length of buffer to be allocated
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; by the system for the path. This
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; length must be at least as large
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; as the longest transaction to be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; received by the user (maximum
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8192).
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;return-la&nbsp; &nbsp; &nbsp; &nbsp; Location of a 9-byte area where information will be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;placed if there is a path name conflict (as defined
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;in the SUZAN documentation).
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Byte 1 contains the duplicate-path-names flags from
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the PATHMFL field of the PATH block
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Bytes 2-9 contain the jobname of the conflicting
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; The program will wait until a path device is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;available and the other side of the path has
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;been opened. If the timeout value is zero,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the program will wait indefinitely for the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path to be completed. &nbsp;If the time interval
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;is not zero and the time interval expires
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;before the path can be opened, the return
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;code in register 15 indicates the status of
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the path.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=CONTROL&nbsp; &nbsp; &nbsp;The user requests control of the path.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Too many devices attached.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL-SUZAN path interface not available.
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; 32-bit path identifier
&nbsp;</PRE></UL>
<P>
The path identifier is valid only when register 15 is 0.
</P>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Attach completed. (Path identifier valid)
&nbsp;&nbsp; &nbsp; &nbsp; -8 &nbsp; &nbsp; &nbsp; No path device available. (Path identifier no longer
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;valid; path not attached.)
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; Other side of path not open. (Path identifier valid)
&nbsp;</PRE></UL>
<P>
Note: The attention exit for  a  PATH  device  will  be  entered  whenever  any
activity  (partner close, new transaction, discretionary post, etc.)  is noted.
</P>
<A NAME="5.12.2"></A>
<H2>
5.12.2
&nbsp;READ: Receiving a Message Using a SUZAN Path
</H2>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp; id-l,location-la,length-la[,MODE=([WAIT][,TRUNCATE])]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads a message from a SUZAN path.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area to receive the message
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; 1st 16-bits: number of seconds to wait before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TIME-OUT (600 maximum) or zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2nd 16-bits: length of the area. Maximum size
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is 8192 bytes. &nbsp;0 is invalid
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; The program will wait until the other side of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path has been opened and a message is received.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If the timeout value is zero, the program will wait
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;indefinitely for a message to be received.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Otherwise, if the time interval expires before a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message is received, the return code in register 15
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;indicates the status of the path.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=TRUNCATE&nbsp; &nbsp; If the message to be received is larger than the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;specified area, the remainder will be ignored.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Note: if MODE=TRUNCATE is not specified, as much of
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the message as will fit will be placed into the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;area, and the remainder will be kept for subsequent
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;READ operations.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp;Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp;ORVYL-SUZAN path interface not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp;Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp;Other side of path has been closed. (Not MODE=CONTROL)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp;No messages received.
&nbsp;&nbsp; &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp;End-of-file message received. (MODE=CONTROL only)
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp;Other side of path not yet open.
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp;Number of bytes read. (register 15 = 0 only)
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp;Number of bytes not read. (register 15 = 0 only)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Valid even for MODE=TRUNCATE
&nbsp;</PRE></UL>
<P>
Note: Core storage in ORVYL is divided into pages of 4096 bytes each.  A buffer
area may not cross more than one page boundary.  Thus, a buffer of  4096  bytes
or less may begin on any byte; a buffer of 6144 bytes may begin as much as 2048
bytes  from  the  beginning  of a page; and an 8192-byte buffer must begin on a
page boundary.  For maximum efficiency buffers of 4096  bytes  or  less  should
reside on a single page.
</P>
<A NAME="5.12.3"></A>
<H2>
5.12.3
&nbsp;WRITE: Sending a Message Using a SUZAN Path
</H2>
&nbsp;<UL><PRE>
&nbsp;WRITE&nbsp; &nbsp;id-l,location-la,length-la[,MODE=WAIT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Writes a message across a SUZAN path.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the area containing the message
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; 1st 16-bits: number of seconds to wait before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TIME-OUT (600 maximum) or zero
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2nd 16-bits: length of the area. Maximum size
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is 8192 bytes. &nbsp;0 is invalid
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=WAIT&nbsp; &nbsp; &nbsp; &nbsp; The program will wait until the other side of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path is open and there is enough room for the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message in the other side's buffer. If the timeout
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;value specified is zero, the program will wait
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;indefinitely for the message to be sent. Otherwise
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if the interval expires before the message can be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sent, the return code in register 15 indicates the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;status of the path.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Operation begun.
&nbsp;&nbsp; &nbsp; &nbsp;-12 &nbsp; &nbsp; &nbsp; ORVYL-SUZAN path interface not available.
&nbsp;</PRE></UL>
Returns from WAIT:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; -4 &nbsp; &nbsp; &nbsp; Other side of path has been closed.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Other side's buffer is full, message not sent.
&nbsp;&nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp; Other side has not yet opened.
&nbsp;</PRE></UL>
<P>
Note: Core storage in ORVYL is divided into pages of 4096 bytes each.  A buffer
area may not cross more than one page boundary.  Thus, a buffer of  4096  bytes
or less may begin on any byte; a buffer of 6144 bytes may begin as much as 2048
bytes  from  the  beginning  of a page; and an 8192-byte buffer must begin on a
page boundary.  For maximum efficiency buffers of 4096  bytes  or  less  should
reside on a single page.
</P>
<A NAME="5.13"></A>
<H2>
5.13
&nbsp;User Program Control
</H2>
<A NAME="5.13.1"></A>
<H2>
5.13.1
&nbsp;COMMAND: Executing a Subsystem Command
</H2>
&nbsp;<UL><PRE>
&nbsp;COMMAND&nbsp; code-la,location-la,length-la[,MODE=(WYLBUR,NOCLP)]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Passes a command to the ORVYL Command Language Processor  for  execution.   The
MODE=WYLBUR  option  also  allows  passing  of  the  command to WYLBUR or other
subsystems for execution.  The MODE=NOCLP option blocks command  processing  by
the ORVYL Command Language Processor.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; the command has been typed at the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;non-zero &nbsp;the command has not been typed at the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the area containing the command
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; length of the area (maximum is 133)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; The command was executed.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; An error was detected and a message has been typed.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If code-la was set as not typed, the command
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;was echoed as a part of the error diagnostic.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; Command passed was the name of a subsystem. Control
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;was not passed to the subsystem. Use WRITE,MODE=EDIT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;or COMMAND,MODE=WYLBUR to pass control to the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;subsystem.
&nbsp;</PRE></UL>
<P>
NOTE:
</P>
<P>
Since there are no means of reporting changes in the WYLBUR active file to  the
user  program  when  using  the  COMMAND  macro, WRITE,MODE=EDIT should be used
whenever the program requires notification  of  changes  to  the  active  file.
</P>
<A NAME="5.13.2"></A>
<H2>
5.13.2
&nbsp;EXIT: Returning Control to the Command Language Processor
</H2>
&nbsp;<UL><PRE>
&nbsp;EXIT
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Returns control from a user program to the ORVYL Command Language Processor and
clears the contents of user memory.
</P>
Returns:
<BR>
<P>
Does not return to the user program.
</P>
<A NAME="5.13.3"></A>
<H2>
5.13.3
&nbsp;PAUSE: User-Initiated Session Break
</H2>
&nbsp;<UL><PRE>
&nbsp;PAUSE
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Initiates a Session Break.  If, during the Session Break, the user enters a  GO
command,  control  will return to the instruction which immediately follows the
PAUSE.  Entering the ATTN command causes entry to  the  user's  attention  exit
routine.   The  condition code and registers are preserved when the PAUSE macro
is issued.  All, however, may be changed by the user during the Session  Break.
In  addition, the user may specify the address at which execution is to resume.
</P>
<A NAME="5.13.4"></A>
<H2>
5.13.4
&nbsp;PANIC: Program or System Initiated Session Break
</H2>
&nbsp;<UL><PRE>
&nbsp;PANIC&nbsp; code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Used when an error condition is detected by a user  program.   PANIC  causes  a
Session  Break,  unless  a  PANIC  exit routine has been specified by the user.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 15-bit code defined by the user program which
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;describes the error
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
No registers are changed, unless the user did so during the Session Break.  The
user may modify the address at which execution resumes.
</P>
<P>
A PANIC exit  routine,  if  present,  may  cause  resumption  of  main  program
execution  at  some point other than immediately after the PANIC macro call and
may change register values.
</P>
<A NAME="5.13.5"></A>
<H2>
5.13.5
&nbsp;SET (0-2): Address Space Management
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; code-la,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Advises the supervisor of the areas of the program address space which
</P>
<PRE>
&nbsp;- will be needed soon.
</PRE>
<PRE>
&nbsp;- are no longer needed.
</PRE>
<PRE>
&nbsp;- not needed immediately, but still of use.
</PRE>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of an area of core storage
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; length of the core storage area. For code 0
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the maximum is 16K (16384), there is no limit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for codes 1 or 2.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; code = 0 &nbsp;The program intends to reference the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;specified area soon.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp;The contents of the specified area are
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;no longer required by the program.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp;The program does not intend to reference
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the specified area immediately.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NOTE: &nbsp; &nbsp; The supervisor manages storage in pages
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;of 4096 bytes each. &nbsp;If a page contains
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;any part of the area specified in the SET
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;macro, the request applies to the entire
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;page.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Unsuccessful due to insufficient pages. &nbsp;(code
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 only)
&nbsp;</PRE></UL>
<A NAME="5.13.6"></A>
<H2>
5.13.6
&nbsp;SET (3-4): Setting the Time Interval
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; code-la[,interval-la]
&nbsp;&nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; &nbsp; &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the user's real or compute time interval timer.  The timer is continuously
decremented in either real or compute time.  The user's timer exit  routine  is
entered  when  the  timer  reads  zero.  The timer continues to decrement until
reset.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; code = 3 &nbsp;real time interval
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp;compute time interval
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;interval-la&nbsp; &nbsp; &nbsp; The time interval specified in units of 26 micro-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;seconds, where a unit is equivalent to 1/38400
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;seconds. &nbsp;An internal specification of zero (0)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cancels any previously specified interval, if any.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Time remaining in the previous interval, if any.
&nbsp;</PRE></UL>
<A NAME="5.13.7"></A>
<H2>
5.13.7
&nbsp;SET (5-9): Establishing Program Exit Routines
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; code-la[,routine-la][,id-la][,user-info-la]
&nbsp;&nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Establishes the entry point of the specified exit routine.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; code = 5 &nbsp;set timer exit routine
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6 &nbsp;set SVC exit routine
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7 &nbsp;set PANIC exit routine
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp;set ATTN exit routine for an I/O device
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9 &nbsp;set WAIT exit routine for an I/O device
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;routine-la&nbsp; &nbsp; &nbsp; &nbsp;entry point of the routine or zero to disable exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;routine.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;id-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the device identifier for codes 8 and 9.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NOTE: &nbsp;expressed as &quot;la&quot;, not &quot;l&quot;.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;user-info-la&nbsp; &nbsp; &nbsp;any value specified by the program. Upon exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;routine entry, this value is placed in register
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14. This parameter may be used to point to a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;work area required by the exit routine.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Previous exit routine.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Previous user information.
&nbsp;</PRE></UL>
<A NAME="5.13.8"></A>
<H2>
5.13.8
&nbsp;SET (10): Resuming Program Execution From an EXIT Routine
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 10[,area-la]
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Issued by an exit routine, relinquishes control so that program  execution  may
resume.  Returns control to the point of interruption. The condition code, mask
byte, and registers are preserved unless the user modifies the supervisor  save
area.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;area-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Address of a modified save area image obtained using
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a SENSE 15 macro within the exit routine. &nbsp;If none
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;is given, the supervisor area saved on entry to the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit routine is used to resume execution of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;main code.
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
Execution resumes at location indicated by the PSW  address  contained  in  the
specified area.  See section 5.14.11 and 5.5 for more information.
</P>
<A NAME="5.13.9"></A>
<H2>
5.13.9
&nbsp;SET (11): Setting the Mask Byte
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 11[,mask-la]
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the mask byte to enable or inhibit entry into exit routines.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;mask-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mask byte, logical combination of:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'80' = enable Timer exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'40' = enable ATTN exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'20' = enable WAIT exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'10' = enable PANIC exit
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Previous mask byte.
&nbsp;</PRE></UL>
<A NAME="5.13.10"></A>
<H2>
5.13.10
&nbsp;SET (12): Setting Order-of-Service Priority
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 12,priority-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Specifies order-of-service priority.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;priority-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;priority from 0 to 15, higher numbers are
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; served first. &nbsp;Initial priority is 15.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;previous priority
&nbsp;</PRE></UL>
<A NAME="5.13.11"></A>
<H2>
5.13.11
&nbsp;SET (13): Modifying the Contents of the Communications Area
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 13,disp-la,length-la,location-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) (1) &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Modifies the user or subprocessor communications area.  This  16-byte  area  is
separate  from  any  user  program  space and may be used by the program in any
manner.  Each user program is assigned an individual communications area;  each
subprocessor  maintains  a  single  communications  area  for all users of that
subprocessor.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;disp-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Displacement of the first byte in the area to be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;written. &nbsp;(Displacement from 0 through 15)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; number of bytes to be written.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the data.
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
No registers changed.
</P>
<A NAME="5.13.12"></A>
<H2>
5.13.12
&nbsp;SET (14): Reserving Additional Virtual Memory
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 14,minlen-la,maxlen-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp;(1) &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reserves memory for program work space.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;minlen-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;minimum additional amount of memory.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (i.e., that amount absolutely required
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for the work space.)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;maxlen-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amount of additional memory desired.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If maxlen=0, the maximum amount of memory
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; available to the program will be reserved.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; Successful completion.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; Insufficient memory to satisfy request.
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = Initial address of additional reserved memory.
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = Amount of memory reserved.
&nbsp;</PRE></UL>
<A NAME="5.13.13"></A>
<H2>
5.13.13
&nbsp;SET (15): Releasing Virtual Memory
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 15,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Releases memory from the program work space.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location of memory to be released
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amount of memory to be released
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTE: &nbsp;SET 15 manages storage in
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pages of 4096 bytes each.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;If a page contains any part
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;of the area described in the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SET macro, then the request
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;releases the entire page
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from the program work space.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.13.14"></A>
<H2>
5.13.14
&nbsp;SET (16): Reserving Virtual Memory by Specific Address
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 16,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reserves memory for the program work space at a  specific  address  within  the
limits of the work space (SEE the description of the SENSE 2 macro). An attempt
to  reserve pages not contained in the proper range or to reserve pages already
reserved is a program error.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location of memory to be reserved
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amount of memory to be reserved
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; Successful completion.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; Insufficient memory to satisfy request.
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = Location of memory reserved.
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = Amount of memory reserved.
&nbsp;</PRE></UL>
<A NAME="5.13.15"></A>
<H2>
5.13.15
&nbsp;SET (17): Enabling Program Event Recording
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 17,area-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Enables program event recording and allows specification of those  events  that
cause  an  interruption.   To  disable  program event recording, the programmer
specifies a PER control block with a zero (0) event mask or  a  zero  value  in
register 1.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;area-la&nbsp; &nbsp; &nbsp; &nbsp; location of the 12-byte area that contains a new
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PER control block (SEE Section 4.6 for a definition
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;of the PER control block.)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Request rejected; the user issued a SET EVENT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;command at the terminal.
&nbsp;</PRE></UL>
<A NAME="5.13.16"></A>
<H2>
5.13.16
&nbsp;SET (18): Enabling Program Monitoring
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 18,area-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Enables monitoring and allows specification of the  monitor  mask.   Monitoring
may  be  disabled  by  specifying  a  zero  (0) monitor mask or a zero value in
register 1.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;area-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location of a 4-byte area that contains the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; monitor control block (SEE Section 4.6 for a
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; definition of the monitor control block.)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp;Successful completion.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp;Request rejected; the user issued a SET MONITOR
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; command at the terminal.
&nbsp;</PRE></UL>
<A NAME="5.13.17"></A>
<H2>
5.13.17
&nbsp;SET (19): Protecting Memory Areas
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 19,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Precludes modification of the contents of a specified area  in  memory  by  the
program or by input/output operations.  The memory area to be specified must be
reserved and defined.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location of area to be protected
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amount of memory to be protected
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Page not defined
&nbsp;</PRE></UL>
<P>
Note: The supervisor manages storage in pages of 4096 bytes each.   If  a  page
contains  any  part of the area specified in the SET macro, the request applies
to the entire page.  If any part of the area  is  not  defined  the  protection
operation is aborted without processing any succeeding pages.
</P>
<A NAME="5.13.18"></A>
<H2>
5.13.18
&nbsp;SET (20): Cancelling Memory Area Protection
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 20,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Cancels memory protection enabled by SET 19.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location of protected memory
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;amount of protected memory
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Page not defined
&nbsp;</PRE></UL>
<P>
Note: The supervisor manages storage in pages of 4096 bytes each.   If  a  page
contains  any  part of the area specified in the SET macro, the request applies
to the entire page.  If any part of the area  is  not  defined  the  protection
operation is aborted without processing any succeeding pages.
</P>
<A NAME="5.13.19"></A>
<H2>
5.13.19
&nbsp;SET (21): Synchronizing Cooperating ORVYL Programs (ENQUEUE)
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 21,location-la,length-la[,MODE=TEST]
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Provides a mechanism for obtaining exclusive control of a logical resource.  No
two programs may simultaneously use the same logical  resource  name.   At  the
user's option, the program may be suspended until the required logical resource
is available.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of an area which contains a logical
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resource name.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the name. &nbsp;Maximum is 128 bytes.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Logical resource has been obtained for exclusive
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;use.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp; &nbsp;Logical resource not immediately available. &nbsp;(Only
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;occurs if MODE=TEST is specified.)
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reserved for future use.
&nbsp;</PRE></UL>
<P>
Note:  No  specific  format  for  resource  names  is  defined   or   enforced.
Cooperating users must define their own conventions.  Only one logical resource
at a time may be enqueued by each terminal.
</P>
<A NAME="5.13.20"></A>
<H2>
5.13.20
&nbsp;SET (22): Synchronizing Cooperating ORVYL Programs (DEQUEUE)
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; &nbsp;22,id-la
&nbsp;&nbsp; &nbsp; &nbsp; (0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Releases exclusive control over a previously enqueued resource.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;id-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reserved for future use.
&nbsp;</PRE></UL>
<A NAME="5.13.21"></A>
<H2>
5.13.21
&nbsp;SET (23): Setting the Memory Initialization Value
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 23,value-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Sets the 1-byte value used to clear all newly  defined  virtual  memory  pages.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;value-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; value between 0 and 255
&nbsp;</PRE></UL>
<A NAME="5.13.22"></A>
<H2>
5.13.22
&nbsp;SET (24): Set Program Name
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 24,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reset the program name  to  something  other  than  the  name  of  the  program
originally called.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of an area which contains the new program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the name, 1 to 8 bytes.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Name has been changed.
&nbsp;</PRE></UL>
<A NAME="5.13.25"></A>
<H2>
5.13.25
&nbsp;SET (29): Suspend Program Execution
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 29,time-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Suspend program execution for specified short time interval, not to  exceed  10
seconds. See STATUS 117 to suspend a program for a longer time.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;time-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Count of 1/10 second intervals before
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; control is returned to the program.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (example: 100 = 10 seconds)
&nbsp;</PRE></UL>
<A NAME="5.13.26"></A>
<H2>
5.13.26
&nbsp;SET (30): Define new shared symbol entry
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 30,symbol-la,length-la,location-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Define new shared symbol entry name and associated  data  area.   Such  symbols
remain  in  effect  until  the shared program is reloaded.  Typically, a shared
program that makes use of SET 30 defines a lot of symbols and  associated  data
areas.   These  are  static  tables  of  information that are of value to other
programs, but are not directly linked into those programs.   SENSE  30  of  the
symbol name will return the associated data area address, which is how programs
access the static tables.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;symbol-la&nbsp; &nbsp; &nbsp; &nbsp; Location of new symbol name to add to shared symbols.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of symbol name, 1 to 255 bytes.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of a data area to be associated with the new
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;shared symbol entry.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= -4 &nbsp; &nbsp; &nbsp; &nbsp;Not allowed (program not authorized).
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;New shared symbol entry has been defined.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp;Already defined.
&nbsp;</PRE></UL>
Examples:
<BR>
<P>
The SHOW VSYMBOLS command (or DUMP VSYMBOLS) will provide a  complete  list  of
the symbols, their associated data area value, count of users referencing them,
and  program  name  that  defined  them.   A  sample  of SHOW VSYMBOLS follows:
</P>
&nbsp;<UL><PRE>
&nbsp;Program&nbsp; &nbsp;Users &nbsp;Value &nbsp; Symbol
&nbsp;EMSDATA&nbsp; &nbsp; 128 &nbsp;0170439A S6EMS DISTRIBUTION
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170433A S6EMS NAME INDEX
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 01703828 S5ORV.GQ.EMS.DIRECTORY.&lt;02&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 01703778 S5ORV.GQ.EMS.DIRECTORY.&lt;0B&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 01702B08 S5ORV.GQ.EMS.DIRECTORY.&lt;01&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 01703FC0 S4ORV.GQ.EMS.DIRECTORY.&lt;FF&gt;
&nbsp;FOLDATA&nbsp; &nbsp; &nbsp; 4 &nbsp;0170DFC2 S6PFOLIO SYSTEM PROTO XEQ
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170DF72 S6PFOLIO PROTO XEQ
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170DF0A S6PFOLIO PROFILE READ
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170DE72 S6PFOLIO HELP READ
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170DBBA S6PFOLIO HELP HEADINGS
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170DB6A S6PFOLIO TABLES
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170CEE8 S5ORV.GG.SPI.PFOLIO.&lt;0C&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170CA30 S5ORV.GG.SPI.PFOLIO.&lt;08&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170BFB0 S5ORV.GG.SPI.PFOLIO.&lt;04&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170AE98 S5ORV.GG.SPI.PFOLIO.&lt;03&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170A1D8 S5ORV.GG.SPI.PFOLIO.&lt;02&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 01707B08 S5ORV.GG.SPI.PFOLIO.&lt;01&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0170D278 S4ORV.GG.SPI.PFOLIO.&lt;FF&gt;
&nbsp;</PRE></UL>
<P>
Note that unprintable characters are allowed in symbol names, but are shown  in
hexadecimal surrounded by brackets, such as &lt;01&gt;.
</P>
<A NAME="5.13.28"></A>
<H2>
5.13.28
&nbsp;Reserved SET macros
</H2>
<P>
The following SET macros are reserved for systems programmers only.   They  can
be  used  for  the  development  of  utilities  or  for testing system changes.
</P>
<A NAME="5.13.28.1"></A>
<H2>
5.13.28.1
&nbsp;SET (150): Clear pseudo account
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 150
&nbsp;&nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Clears pseudo account (see STATUS 107).
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Done
&nbsp;</PRE></UL>
<A NAME="5.13.28.2"></A>
<H2>
5.13.28.2
&nbsp;SET (151): Ignore multiple attentions
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 151,option-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Ignores multiple attentions.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;option&nbsp; &nbsp; &nbsp;If F'1873' then set ignore multiple attentions
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mode, otherwize clear ignore multiple attentions
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mode.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Done
&nbsp;</PRE></UL>
<A NAME="5.13.28.3"></A>
<H2>
5.13.28.3
&nbsp;SET (152): Set CLP real time (interval) timer
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 152,timer-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
CLP only. See M1SERV and CLP code.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;timer&nbsp; &nbsp; &nbsp; Timer value in TOD.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Done
&nbsp;</PRE></UL>
<A NAME="5.13.28.4"></A>
<H2>
5.13.28.4
&nbsp;SET (153): Set CLP compute time timer
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 153,timer-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
CLP only. See M1SERV and CLP code.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;timer&nbsp; &nbsp; &nbsp; Timer value in TOD.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Done
&nbsp;</PRE></UL>
<A NAME="5.13.28.5"></A>
<H2>
5.13.28.5
&nbsp;SET (154): Write an SMF record
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 154,location-la,length-la,smfno-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Write an SMF record.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location&nbsp; &nbsp;Location of record
&nbsp;length&nbsp; &nbsp; &nbsp;Length of record
&nbsp;smfno&nbsp; &nbsp; &nbsp; SMF record number
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Done
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;~0 &nbsp; &nbsp; &nbsp; &nbsp;Error
&nbsp;</PRE></UL>
<A NAME="5.13.28.6"></A>
<H2>
5.13.28.6
&nbsp;SET (155): Set Program Key Mask
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp; 155,key-la
&nbsp;&nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Write an SMF record.
</P>
<P>
This function can be used to allow addressability to Orvyl global memory. It is
recommended to use SENSE 153 unless it is necessary to have real time access to
global memory.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;key&nbsp; &nbsp; &nbsp; &nbsp; Program Key Mask
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;Done
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Old key
&nbsp;</PRE></UL>
<A NAME="5.13.29"></A>
<H2>
5.13.29
&nbsp;WAIT (0): Suspending Program Execution While Awaiting Interrupts
</H2>
&nbsp;<UL><PRE>
&nbsp;WAIT&nbsp; 0
&nbsp;&nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Allows a program to suspend execution while awaiting the expiration of  a  time
interval, ATTN, or I/O completion.
</P>
Returns:
<BR>
<P>
Control is never passed to the instruction following WAIT 0.  The user  program
should define the timer, ATTN, and/or WAIT exit routine(s) which are to receive
control.   The  exit  routine  is  responsible  for  altering the saved program
address if execution is to resume at some other point.  See  sections  5.14.11,
5.13.8, and 5.5 for more information.
</P>
<A NAME="5.14"></A>
<H2>
5.14
&nbsp;User Program Information
</H2>
<A NAME="5.14.1"></A>
<H2>
5.14.1
&nbsp;SENSE (0): Reserved Address Space Status
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 0,location-la
&nbsp;&nbsp; &nbsp; &nbsp; (0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports on the status of the specified location in the program reserved address
space.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location to be tested
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; The specified address is within the program reserved address
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;space and has been defined.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; The specified address is within the program reserved address
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;space but has not been defined.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; The specified address is not within the program reserved
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;address space.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; Miscellaneous status information. (R15 = 0 only)
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Bit:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0-29 &nbsp; &nbsp; &nbsp; &nbsp;Reserved.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;30 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Protected page.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Presently in core.
&nbsp;</PRE></UL>
<P>
Note: The supervisor manages storage in pages of 4096  bytes  each.   Thus  the
status  reported  refers  to  the  entire  page in which the specified location
resides.
</P>
<A NAME="5.14.2"></A>
<H2>
5.14.2
&nbsp;SENSE (1): Work Area Management Statistics
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; &nbsp; 1
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtains program work area management statistics.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= Amount of memory available but not yet reserved for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;program work area.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = Total amount of memory available for program work area.
&nbsp;</PRE></UL>
<A NAME="5.14.3"></A>
<H2>
5.14.3
&nbsp;SENSE (2): Virtual Memory Address Space Limits
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; &nbsp; 2
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Describes the memory address range from which program work  area  is  reserved.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= Length of the address space.
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = Start of the address space.
&nbsp;</PRE></UL>
<A NAME="5.14.4"></A>
<H2>
5.14.4
&nbsp;SENSE (3): Current Time and Date
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 3
&nbsp;&nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports today's date and the current clock time.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Year, month, and day in the format: &nbsp;YYYYMMDD.
&nbsp;&nbsp;
&nbsp;(1)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Time of day in 26 micro-second units. &nbsp;This unit is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;equivalent to 1/38400 seconds.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the terminal session in 26 micro-second units.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;This unit is equivalent to 1/38400 seconds.
&nbsp;</PRE></UL>
<A NAME="5.14.5"></A>
<H2>
5.14.5
&nbsp;SENSE (4): Elapsed Time
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 4
&nbsp;&nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports real and compute time since  the  beginning  of  the  current  terminal
session.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Elapsed ORVYL compute time since the beginning of
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the terminal session in 26 micro-second units.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;This unit is equivalent to 1/38400 seconds.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Elapsed real time since the beginning of the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;terminal session in 26 micro-second units. &nbsp;This
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;unit is equivalent to 1/38400 seconds.
&nbsp;</PRE></UL>
<A NAME="5.14.6"></A>
<H2>
5.14.6
&nbsp;SENSE (5): Time Interval Currently in Effect
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 5
&nbsp;&nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports  the  amount  of  time  remaining  in  the  current  time  interval  as
established by the user.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Time remaining in the current time interval. &nbsp;Time is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reported in 26 micro-second units, where a single
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;unit is equal to 1/38400 seconds.
&nbsp;</PRE></UL>
<A NAME="5.14.7"></A>
<H2>
5.14.7
&nbsp;SENSE (6): Mask Byte
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 6
&nbsp;&nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Detects the mask byte.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Mask byte, logical combination of:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'80' = Timer exit enabled
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'40' = ATTN exit enabled
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X'20' = WAIT exit enabled
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x'10' = PANIC exit enabled
&nbsp;</PRE></UL>
<A NAME="5.14.8"></A>
<H2>
5.14.8
&nbsp;SENSE (7): Program Service Priority
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 7
&nbsp;&nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Detects the service priority established for the program.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Priority (0-15).
&nbsp;</PRE></UL>
<A NAME="5.14.9"></A>
<H2>
5.14.9
&nbsp;SENSE (8): User Name, Account, and Terminal
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 8,location-la
&nbsp;&nbsp; &nbsp; &nbsp; (0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the current user, group, and terminal identifier.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; 27-byte area to receive data.
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
No registers changed.
</P>
<P>
AREA:
</P>
&nbsp;<UL><PRE>
&nbsp;bytes&nbsp;0-2: current user (uuu)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 3: $
&nbsp;&nbsp; &nbsp; &nbsp; 4-7: group and subgroup (ggrr)
&nbsp;&nbsp; &nbsp; &nbsp;8-10: terminal identifier (ann)
&nbsp;&nbsp; &nbsp; 11-26: user session identification, if provided
&nbsp;</PRE></UL>
<A NAME="5.14.10"></A>
<H2>
5.14.10
&nbsp;SENSE (9-14): Reporting Program Exit Routines, Completion Test
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; code-la[,id-la]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the entry point of the specified exit routine  location  or  completion
status of a specific I/O device.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; code = 9 &nbsp;Timer exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10 &nbsp;SVC exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11 &nbsp;PANIC exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp;ATTN exit for a specific device
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;13 &nbsp;WAIT exit for a specific device
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14 &nbsp;Test for I/O completion on a specific
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;device.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;id-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; For codes 12, 13 and 14, the device identifier.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;code&nbsp;= 9-13 &nbsp; (15) = &nbsp; &nbsp;Location of exit routine or zero if none
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; established.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (14) = &nbsp; &nbsp;User information specified when the exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; routine was established.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code&nbsp;= 14 &nbsp; &nbsp; (15) = 0 &nbsp;Operation completed on device.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp;Operation in progress on device.
&nbsp;</PRE></UL>
<A NAME="5.14.11"></A>
<H2>
5.14.11
&nbsp;SENSE (15): PSW and GPR Save Area
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 15,area-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtains the save area after a program interrupt.  The exit routine  can  modify
the  copy of the save area received and use the modified copy to alter register
contents or instruction execution sequence of  main  program  when  control  is
relinquished by a SET 10 macro. (See 5.13.8 and 5.5)
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;area-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Location of the 72-byte area which will contain
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the program status word and general program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;registers.
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
No registers changed
</P>
<A NAME="5.14.12"></A>
<H2>
5.14.12
&nbsp;SENSE (16): Program Exception Address
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 16
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Employed after an address PANIC, SENSE returns the address at which  the  PANIC
exception occurred.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; The PANIC exception address.
&nbsp;</PRE></UL>
<A NAME="5.14.13"></A>
<H2>
5.14.13
&nbsp;SENSE (17): Reading the Communications Area
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 17,disp-la,length-la,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) (1) &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reads the 16-byte program (user or subprocessor) communications area.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;disp-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Displacement of the first byte to be read (0-15).
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Number of bytes to be read.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area which will receive the data.
&nbsp;</PRE></UL>
Returns:
<BR>
<P>
No registers change.
</P>
<A NAME="5.14.14"></A>
<H2>
5.14.14
&nbsp;SENSE (18): Identifying the Command Used to Call the Program
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 18,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
Returns the command string which initiated execution.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area which will contain the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;text.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the area. (If the specified area con-
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tains less than 133 bytes, some data may be lost.)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; The command was typed.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; The command was not typed.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Length of the command.
&nbsp;</PRE></UL>
<A NAME="5.14.15"></A>
<H2>
5.14.15
&nbsp;SENSE (19): Passing Command Parameter Strings
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 19,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Returns  any  parameter  string  specified  with  the  command  that  initiated
execution.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location of the area which is to contain
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the text.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;length of the area. (If the specified
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; area is less than 133 bytes, some data may
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; be lost.)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Text was typed.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Text was not typed.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Length of the text string.
&nbsp;</PRE></UL>
<A NAME="5.14.16"></A>
<H2>
5.14.16
&nbsp;SENSE (21): Obtaining the Program Event Recording Control Block
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 21,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtains the 12-byte PER control block. If the PER event mask is zero (0),  then
PER is not enabled.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; location of the 12-byte area which is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;to contain the PER control block
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; &nbsp; PER not enabled or enabled by the user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; &nbsp; PER enabled with the SET EVENT command.
&nbsp;</PRE></UL>
<A NAME="5.14.17"></A>
<H2>
5.14.17
&nbsp;SENSE (22): Obtaining the Monitor Mask
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 22,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtains the monitor mask.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; &nbsp;location of the 4-byte area which is to
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; contain the monitor mask
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; Monitoring not enabled or enabled by the user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; Monitoring enabled by the SET MONITOR command.
&nbsp;</PRE></UL>
<A NAME="5.14.18"></A>
<H2>
5.14.18
&nbsp;SENSE (23): Reporting File System Information
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 23
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports file system availability and space information.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;File system currently available.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;File system unavailable.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Maximum allocation allowed any account.
&nbsp;&nbsp;
&nbsp;&nbsp;(0) = &nbsp; &nbsp; &nbsp; &nbsp; File blocks available.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Total blocks in the file system.
&nbsp;</PRE></UL>
<A NAME="5.14.19"></A>
<H2>
5.14.19
&nbsp;SENSE (24): Sensing the Memory Initialization Value
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; &nbsp;24
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Senses the memory initialization value (SEE SET 23).
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1-byte value used to clear all new virtual
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; memory pages as they are defined.
&nbsp;</PRE></UL>
<A NAME="5.14.20"></A>
<H2>
5.14.20
&nbsp;SENSE (25): ORVYL CPU Time
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; &nbsp;25
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports ORVYL CPU time (see SENSE 4) and the ORVYL I/O count.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I/O count
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CPU time consumed under ORVYL in timer units.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Elapsed time of session in timer units
&nbsp;&nbsp;
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Virtual memory charge (page-seconds)
&nbsp;</PRE></UL>
<P>
Note: A timer unit is equal to 1/38400 seconds (26 microseconds).
</P>
<A NAME="5.14.21"></A>
<H2>
5.14.21
&nbsp;SENSE (26): Obtaining the current time BLOCK
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; &nbsp;26
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Reports the time Block currently in effect.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Successful completion
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time block
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 = Day
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 = Evening
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 = Night
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 = Weekend
&nbsp;</PRE></UL>
<A NAME="5.14.22"></A>
<H2>
5.14.22
&nbsp;SENSE (27): Obtaining the HASP Display Buffers
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 27,location-la,length-la,code-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
Returns various HASP display buffers.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location of the area which will receive the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;HASP display buffer.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of the area. (If the area is not long
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enough, HASP data will be lost.)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;code-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; code indicating HASP buffer desired.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; ENCINA status display
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; PINE HALL status display
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Invalid option code.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; HASP information truncated.
&nbsp;&nbsp;
&nbsp;&nbsp;(1) = &nbsp; &nbsp; &nbsp; &nbsp; Length of data transferred.
&nbsp;</PRE></UL>
<A NAME="5.14.23"></A>
<H2>
5.14.23
&nbsp;SENSE (28): Sense ORVYL name
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 28,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose: Obtain the name of the current ORVYL.
<BR>
Moves ORVYL name to location specified.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; Location of 8 byte area to move the name too.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
<A NAME="5.14.24"></A>
<H2>
5.14.24
&nbsp;SENSE (29): Sense program name
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 29,location-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose: Move program name to specified area.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;symbol-la&nbsp; &nbsp; &nbsp; Location to receive the program name.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; Length of area. Program name could be truncated
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if length specified is too short.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; Length of program name.
&nbsp;</PRE></UL>
<A NAME="5.14.25"></A>
<H2>
5.14.25
&nbsp;SENSE (30): Obtaining data address for shared symbol
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 30,symbol-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1) &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose: Obtaining data address for shared symbol.
<BR>
Returns data address associated with shared symbol.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;symbol-la&nbsp; &nbsp; &nbsp; Location of symbol name to find in shared symbols.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; Length of symbol name, 1 to 255 bytes.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= 0 &nbsp; &nbsp; &nbsp; Successful completion, shared symbol name found.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;4 &nbsp; &nbsp; &nbsp; Shared symbol name not found.
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; Data area address associated with shared symbol.
&nbsp;</PRE></UL>
<A NAME="5.14.29"></A>
<H2>
5.14.29
&nbsp;Reserved SENSE macros
</H2>
<P>
The following SENSE macros are reserved for systems programmers only.  They can
be used for the  development  of  utilities  or  for  testing  system  changes.
</P>
<A NAME="5.14.29.2"></A>
<H2>
5.14.29.2
&nbsp;SENSE (151): Sense file system info
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 151,location-la,length-la,fsid-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; (15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose: Move file system info to specified area.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;symbol-la&nbsp; &nbsp; &nbsp; Location to receive the file system info.
&nbsp;length-la&nbsp; &nbsp; &nbsp; Length of area provided (at least 16 bytes).
&nbsp;fsid-la&nbsp; &nbsp; &nbsp; &nbsp; File system id in hex
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= -4 &nbsp; &nbsp; &nbsp;Invalid file system id
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp;Success, file system available
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Success, file system not available mode
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;Success, file system in maintenance mode
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;(0)&nbsp; = &nbsp;16, 28 or 36; length of data returned
&nbsp;</PRE></UL>
Layout of receiving area:
<BR>
&nbsp;<UL><PRE>
&nbsp;bytes&nbsp;0-7 &nbsp; &nbsp; &nbsp;File system name
&nbsp;bytes&nbsp;8-11 &nbsp; &nbsp; Count of blocks available
&nbsp;bytes&nbsp;12-15 &nbsp; &nbsp;Total count of blocks
&nbsp;&nbsp;If area specified is 28 bytes or longer:
&nbsp;bytes&nbsp;16-19 &nbsp; &nbsp;F'1' if caching enabled, else F'0'
&nbsp;bytes&nbsp;20-23 &nbsp; &nbsp;Total disk I/O count
&nbsp;bytes&nbsp;24-27 &nbsp; &nbsp;Read count from cache (single)
&nbsp;&nbsp;If area specified is 36 bytes or longer:
&nbsp;bytes&nbsp;24-31 &nbsp; &nbsp;Read count from cache (double)
&nbsp;bytes&nbsp;32-35 &nbsp; &nbsp;F'1' if 4K file system, else F'0'
&nbsp;</PRE></UL>
<A NAME="5.14.29.3"></A>
<H2>
5.14.29.3
&nbsp;SENSE (152): Sense cross address space memory
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 152,location-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1)
&nbsp;</PRE></UL>
Purpose: Get local memory from another address space.
<BR>
<P>
This function moves the contents of the specified memory  location  in  another
address  space  to  the  specified  location  in  this  address  space.   It is
documented for completeness but it is not apparent what practical  use  can  be
made  of it since there seems to be no way to progmatically determine the first
field of the sense 152 api.  This function may have been developed  to  aid  in
testing or debugging durning some development phase of Orvyl.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;symbol-la&nbsp; &nbsp; &nbsp; Location of sense 152 api
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Return code - completed
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp;Function request failed
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;Address space channel busy
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp; &nbsp; &nbsp;Failure in setting up requet
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;16 &nbsp; &nbsp; &nbsp;Request timed-out
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;20 &nbsp; &nbsp; &nbsp;Trouble posting AS
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;24 &nbsp; &nbsp; &nbsp;Requested AS not available
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;28 &nbsp; &nbsp; &nbsp;Function not implemented
&nbsp;</PRE></UL>
Layout of sense 152 api:
<BR>
&nbsp;<UL><PRE>
&nbsp;SXASCPRM&nbsp;RECORD BEGIN
&nbsp;SXAASB&nbsp; &nbsp;DS &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp;ASB of other AS
&nbsp;SXASLOC&nbsp; DS &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp;Source address
&nbsp;SXADLOC&nbsp; DS &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp;Destination address
&nbsp;SXADLEN&nbsp; DS &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp;and length
&nbsp;SXATOD&nbsp; &nbsp;DS &nbsp; &nbsp;D &nbsp; &nbsp; &nbsp;Time for waiting (TOD fmt)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;END &nbsp;,
&nbsp;</PRE></UL>
<A NAME="5.14.29.4"></A>
<H2>
5.14.29.4
&nbsp;SENSE (153): Sense Orvyl global memory
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 153,location-la,length-la,address-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose: Get contents of Orvyl global memory.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location to receive contents of global memory
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of location
&nbsp;address-la&nbsp; &nbsp; &nbsp; &nbsp;Global memory address
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Success
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;Invalid global memory address
&nbsp;</PRE></UL>
<A NAME="5.14.29.5"></A>
<H2>
5.14.29.5
&nbsp;SENSE (154): Sense OS memory
</H2>
&nbsp;<UL><PRE>
&nbsp;SENSE&nbsp; 154,location-la,length-la,address-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose: Get contents of OS memory.
<BR>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;location-la&nbsp; &nbsp; &nbsp; Location to receive contents of OS memory
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of location
&nbsp;address-la&nbsp; &nbsp; &nbsp; &nbsp;OS memory address
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp;0 &nbsp; &nbsp; &nbsp;Success
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp;Invalid global memory address
&nbsp;</PRE></UL>
<A NAME="6"></A>
<H2>
6
&nbsp;URAM II
</H2>
<A NAME="6.1"></A>
<H2>
6.1
&nbsp;URAM Description
</H2>
<A NAME="6.2"></A>
<H2>
6.2
&nbsp;URAM II MACROS
</H2>
<A NAME="6.2.1"></A>
<H2>
6.2.1
&nbsp;Initialize URAM
</H2>
&nbsp;<UL><PRE>
&nbsp;UINIT&nbsp; &nbsp; &nbsp; &nbsp;resvm-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Initialize URAM, set up memory management, attach master  terminal,  and  other
URAM  housekeeping  chores.  This macro must be executed prior to the execution
of all other URAM macros.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;resvm-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Amount of core URAM will reserve for itself.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The remainder of core will be used by the user
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program. &nbsp;URAM dynamically allocates ORVYL
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;memory pages. If the amount of memory is not
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;suffiecient URAM will attempt to allocate
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;more memory for itself.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; amount of memory left for user to reserve
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; length of memory until URAM memory
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; start of memory
&nbsp;</PRE></UL>
<A NAME="6.2.2"></A>
<H2>
6.2.2
&nbsp;Open a URAM file or device.
</H2>
&nbsp;<UL><PRE>
&nbsp;OPEN&nbsp; &nbsp; &nbsp; &nbsp;FCB-l,opnd-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(1) &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Open the file or device.  The parameters are merged into the FCB.   An  FCB  is
generated,  if  necessary.   The device is attached and URAM initialization for
the device takes place.  Buffer allocation  is  done  if  appropriate.   Assign
command  parameters  override  the  parameters  specified in the open parameter
area.  Default values are documented elsewhere.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address. This parameter is specified for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;those devices for which an FCB has been
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;generated by an ASSIGN command.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;opnd-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; open parameter area. This area contains the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;device parameters to be used in the open.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;This area may be generated using the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;OPNPARMS macro. The open parameter dsect
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;may be generated with the OPND macro.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
<A NAME="6.2.3"></A>
<H2>
6.2.3
&nbsp;Copy the OPND dsect.
</H2>
&nbsp;<UL><PRE>
&nbsp;OPND
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Copy the Open Parameter Dsect into the user program.
</P>
Operands: None.
<BR>
<A NAME="6.2.4"></A>
<H2>
6.2.4
&nbsp;Create an open parameter area with specified parameters
</H2>
&nbsp;<UL><PRE>
&nbsp;OPNPARMS&nbsp; &nbsp; &nbsp; &nbsp;NAME=,DEVICE=,IOTYPE=,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FILE=,FORMAT=,LENGTH=,VFORMAT=,VLENGTH=,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;KEYED=,COMPRESSED=,LIBRARY=,MEMBER=,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DISP=,BLKSIZ=,VOLUME=,NOBUF=,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SRANGE=,ERANGE=,DELTA=,RANGE=,FCOL=,LCOL=,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PROMPT=,TIMEOUT=,PATH=,BUFFER=
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Create an open parameter area with the parameters specified.   Only  the  NAME=
and  DEVICE=  parameters  must be specified.  The defaults are described in the
Default section of this document.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;NAME=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; File name to be associated with this FCB.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(Data set name)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;DEVICE=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Device type
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ORV - ORVYL file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ACT - WYLBUR Active file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMD - Command file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TERM - Terminal
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL - Null file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BUFFER - Buffer I/O
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SUZAN - suzan path
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;IOTYPE=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Direction of I/O.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IN - input
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OUT - output
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INOUT - update
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UPDATE - update
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;FILE=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Name of ORVYL file to be opened.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;FORMAT=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Actual record format:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; F &nbsp; - fixed length
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VBS - variable length
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; E &nbsp; - edit (WYLBUR pressed format)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VT &nbsp;- variable text (WYLBUR format with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trailing blanks removed)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U - undefined
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;LENGTH=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Actual record length
&nbsp;VFORMAT=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Virtual record format:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; F &nbsp; - fixed length
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VBS - variable length
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; E &nbsp; - edit (WYLBUR pressed format)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VT &nbsp;- variable text (WYLBUR format with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trailing blanks removed)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U - undefined
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;VLENGTH=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Virtual record length
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;DISP=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Disposition of the file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NEW - create a new output file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OLD - read from an existing file
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ERASE - erase existing file; write to new
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SHR - share
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; APPEND - append records to an existing
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;KEYED=YES&nbsp; &nbsp; &nbsp; &nbsp; Specified in addition to FORMAT=VBS for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INDEXED files.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;COMPRESSED=YES&nbsp; &nbsp;File records in compressed form (valid for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;format=vbs only)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MINBUF=YES&nbsp; &nbsp; &nbsp; &nbsp;Do not buffer I/O, this is a memory
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;conservation option. It minimizes the amount
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;of memory required by URAM to do I/O.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;LIBRARY=YES&nbsp; &nbsp; &nbsp; ORVYL PDS library file
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MEMBER=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ORVYL PDS member name
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;SRANGE=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Start of range
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;ERANGE=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End of range
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;DELTA=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sequential increment factor
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;RANGE=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;This specification used if the range is associative
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;FCOL=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; first column of start of associative range
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;LCOL=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; last column of start of associative range
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;TIMEOUT=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Time out for GETS (in seconds). &nbsp;Must be less
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;than 500.
&nbsp;VOLUME=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;volume name&gt;; volume on which data set
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;resides.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;BLKSIZ=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; block size. valid for O.S. files only.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;PROMPT=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Address of prompt location formated:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes blank, 2 bytes length (n), n bytes prompt
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;PATH=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 20 character suzan path identifier
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;USERBUF=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Address of user specified buffer (BUFFER).
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;NOTE: &nbsp; &nbsp; OPERANDS ARE EITHER NUMBERS OR STRINGS NOT
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ENCLOSED IN QUOTES.
&nbsp;</PRE></UL>
<A NAME="6.2.5"></A>
<H2>
6.2.5
&nbsp;Close a URAM File or Device.
</H2>
&nbsp;<UL><PRE>
&nbsp;CLOSE&nbsp; &nbsp; &nbsp; FCB-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Closes specified file or device.  If an output file, buffers are written.   The
buffers and FCB are freed.  The device is detached.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.6"></A>
<H2>
6.2.6
&nbsp;Read a record from a URAM file or device.
</H2>
&nbsp;<UL><PRE>
&nbsp;GET&nbsp; &nbsp; &nbsp;buff-la,FCB-l,prompt-la,length-la[,MODE=PROMPT]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(1) &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp;(14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Retrieves a record from the input file or device.  The record number (key)  may
be specified for direct access devices.  A prompt may be specified for terminal
devices.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;buff-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer where record is to be placed,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if zero. &nbsp;A buffer will be supplied
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;and the address will be reurned in
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;R1. &nbsp;Another GET may overwrite this
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;buffer.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;recno-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Record number of the desired
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;record. &nbsp;If zero, file will be
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;treated as sequential.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;prompt-la&nbsp; &nbsp; &nbsp; &nbsp; Prompt address. &nbsp;The prompt
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;location is formatted as follows:
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes timeout information
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2 bytes prompt length (n)
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n bytes prompt text.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of record to get. This
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;parameter is used only with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;undefined gets.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=PROMPT&nbsp; &nbsp; &nbsp; Specifies that R15 points to
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a prompt area.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; record address
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; record length
&nbsp;</PRE></UL>
<A NAME="6.2.7"></A>
<H2>
6.2.7
&nbsp;Write a record to a URAM file or device.
</H2>
&nbsp;<UL><PRE>
&nbsp;PUT&nbsp; &nbsp; &nbsp; buff-la,FCB-l,recno-la,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp;(15) &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
A record is written to the output file or device.  The record number (key)  may
be specified for direct access devices.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB Address
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;buff-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location of record to be output
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;recno-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;record number of record to be written
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; Length of record to put. This
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;parameter is used only with
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;undefined gets.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.8"></A>
<H2>
6.2.8
&nbsp;Delete a record from a URAM file.
</H2>
&nbsp;<UL><PRE>
&nbsp;DELETE&nbsp; &nbsp; &nbsp; FCB-l,recno-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (1) &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Delete a record from a URAM file. The record with the specified  record  number
is  deleted and its space freed.  If the record does not exist, no operation is
performed. This operation is valid for update or output files only.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB-address
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;recno-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Record number of the record to be deleted
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;optional.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.9"></A>
<H2>
6.2.9
&nbsp;Obtain a buffer for a subsequent PUT.
</H2>
&nbsp;<UL><PRE>
&nbsp;GETPUTB&nbsp; &nbsp;FCB-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
This is a request for a buffer which will subsequently contain a record  to  be
written  out.  The address is returned in register 1 and the length in register
0.  GETPUTB may be interpreted as a priming call to the  write  routine,  while
PUT  does  the  actual  write.   This buffer is reused so GETPUTB calls must be
separated by PUT calls.  However, a GETPUTB call is not required for each  PUT,
e.g.,  writing  out  a  preformatted  logical  record  would require only a PUT
pointing to that record
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB Address
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; address of buffer
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; length of buffer
&nbsp;</PRE></UL>
<A NAME="6.2.10"></A>
<H2>
6.2.10
&nbsp;Process Assign Command Text.
</H2>
&nbsp;<UL><PRE>
&nbsp;ASSIGN&nbsp; &nbsp; &nbsp; strlen-la,,astring-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
To generate an FCB from the text of an ASSIGN command.  The ASSIGN  command  is
documented  (elsewhere).  The parameters specified in the command text override
those specified by the OPEN.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;strlen-la&nbsp; &nbsp; &nbsp; &nbsp; Length of command text
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;astring-la&nbsp; &nbsp; &nbsp; &nbsp;Address of ASSIGN command text
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
<A NAME="6.2.11"></A>
<H2>
6.2.11
&nbsp;Copy the FCB dsect.
</H2>
&nbsp;<UL><PRE>
&nbsp;FCBD
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Copy the File Control Block dsect into the user program.  This  dsect  must  be
assembled into programs using the GET and PUT macros.
</P>
Operands: None.
<BR>
<A NAME="6.2.12"></A>
<H2>
6.2.12
&nbsp;Obtain the address of a specified FCB.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; FINDFCB,FCB-l,FCB=CHAR
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Returns the address of the specified FCB.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Pointer to 8 character string containing
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FCB name.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;FCB=CHAR&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FCB is specified as a character string.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Left justified and padded with blanks.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
<A NAME="6.2.13"></A>
<H2>
6.2.13
&nbsp;Obtain list of FCB's
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;FCBLIST
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Obtain a list of existing file control blocks (FCB's).  The list entries are 12
bytes long: 8 bytes FCB name, left justified, padded with blanks.  4 bytes  FCB
address.  There may be empty (zeroed) entries in the FCB list.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; number of entries in list (any entry may be zero)
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; FCB list address
&nbsp;</PRE></UL>
<A NAME="6.2.14"></A>
<H2>
6.2.14
&nbsp;Turn on or suppress URAM error messages.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; code
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Turn on and off URAM printing of error messages
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Code &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ---- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;---------
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ERROR &nbsp; &nbsp; &nbsp; &nbsp; cause URAM to print error
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; messages in addition to error
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; codes returned.
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOERROR &nbsp; &nbsp; &nbsp; suppress URAM error messages.
&nbsp;</PRE></UL>
Returns: None
<BR>
<A NAME="6.2.15"></A>
<H2>
6.2.15
&nbsp;Obtain a specific URAM error message.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;ERRORTEXT,FCB-l,errorcode-la,[MODE=URAM]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp;(1) &nbsp; &nbsp; &nbsp;(15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Return an appropriate error message text for the URAM error code  specified  in
R15.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; address of FCB in which error occurred (if applicable)
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;errorcode-la&nbsp; &nbsp; &nbsp;URAM error code
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;MODE=URAM&nbsp; &nbsp; &nbsp; &nbsp; specifies that URAM will print error message
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(0)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; message length
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; message text address
&nbsp;</PRE></UL>
<A NAME="6.2.16"></A>
<H2>
6.2.16
&nbsp;Clean up buffers.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;CLEAN,[FCB-l]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp;CLEAN de-buffers files: Output buffers are written
&nbsp;&nbsp; &nbsp; &nbsp; out and input buffers are cleared. &nbsp;If a user plans to
&nbsp;&nbsp; &nbsp; &nbsp; modify his files directly with ORVYL macros. &nbsp;He may
&nbsp;&nbsp; &nbsp; &nbsp; use this macro to insure proper buffering. &nbsp;All files
&nbsp;&nbsp; &nbsp; &nbsp; or a specific file may be specified.
&nbsp;</PRE></UL>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; denotes de-buffering of the specific FCB
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.17"></A>
<H2>
6.2.17
&nbsp;Close all files and free unneeded URAM system buffers
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;FREEPOOL
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Close all files and return unneeded URAM system buffers.
</P>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.18"></A>
<H2>
6.2.18
&nbsp;Obtain Memory
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;GETM,,length-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
To obtain free storage for user program.  Core is allocated in multiples of 4K.
The user is responsible for further  refinements  in  user  memory  management.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; amount of storage requested in bytes.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error codes
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; address of start of storage obtained.
&nbsp;</PRE></UL>
<A NAME="6.2.19"></A>
<H2>
6.2.19
&nbsp;Free Memory
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; FREEM,length-la,address-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Return previously obtained free storage to URAM.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;length-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Length of storage to be returned.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;address-la&nbsp; &nbsp; &nbsp; &nbsp; Address of the start of storage to be returned.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error codes
&nbsp;</PRE></UL>
<A NAME="6.2.20"></A>
<H2>
6.2.20
&nbsp;Find a member of a ORVYL PDS.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; FIND,FCB-l,memb-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1) &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Find a member in a ORVYL PDS file by member  name.   Succeeding  GET's  to  the
specified  FCB  will  get  records  from  that  member.   Used with the include
libraries of PLC, WATORV, etc.  Valid for input files only.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;memb-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Address of the 8 character member name, left
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;justified and padded with blanks if necessary.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.21"></A>
<H2>
6.2.21
&nbsp;Delete a member of an ORVYL PDS.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; DELMEMB,FCB-l,memb-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp; (1) &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Delete a member in a ORVYL PDS file
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;memb-la&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Address of the 8 character member name, left
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;justified and padded with blanks if necessary.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.22"></A>
<H2>
6.2.22
&nbsp;Rewind a URAM file.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; REWIND,FCB-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; (1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Rewind a file.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.23"></A>
<H2>
6.2.23
&nbsp;Obtain current record number of URAM file.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; NOTE,FCB-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Returns in R1, the line or record number of the current record (input)  or  the
next record (output). Line numbers are WYLBUR line numbers x 1000.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; line or record number
&nbsp;</PRE></UL>
<A NAME="6.2.24"></A>
<H2>
6.2.24
&nbsp;Point to a specific active file line.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;POINT,FCB-l,dataline-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0) &nbsp;(1) &nbsp; &nbsp; (15)
&nbsp;</PRE></UL>
Purpose:
<BR>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp;POINT causes susequent file GET's to begin with the
&nbsp;&nbsp; &nbsp; &nbsp; line specified. &nbsp;The file must be an active file opened
&nbsp;&nbsp; &nbsp; &nbsp; for input.
&nbsp;</PRE></UL>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;FCB-l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCB address
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;dataline-la&nbsp; &nbsp; &nbsp; WYLBUR line number. &nbsp;(x 1000)
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;</PRE></UL>
<A NAME="6.2.25"></A>
<H2>
6.2.25
&nbsp;Establish ATTN, SVC exit routines
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp; code,,routine-la,userinfo-l
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Establishes the entry point of the specified exit routine.  These  exit  macros
must be used in place of the ORVYL exit macros.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;code&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;operation code
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Code &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operation
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;---- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;---------
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ATTNEXIT &nbsp; &nbsp; &nbsp;set ATTN exit routine
&nbsp;&nbsp;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SVCEXIT &nbsp; &nbsp; &nbsp; set SVC exit routine
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;routine-la&nbsp; &nbsp; &nbsp; &nbsp;entry point of the routine or zero to disable
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the exit routine
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;userinfo-l&nbsp; &nbsp; &nbsp; &nbsp;any value specified by the program. Upon exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;routine entry, this value is placed in
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;register 14. This parameter may be used to
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;point to a work area required by the exit
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;routine.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; previous exit routine
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; previous user information
&nbsp;</PRE></UL>
<A NAME="6.2.26"></A>
<H2>
6.2.26
&nbsp;Establish a Command Exit.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp;CMDEXIT,,routine-la,userinfo-la
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0) &nbsp; &nbsp; &nbsp;(15) &nbsp; &nbsp; &nbsp; (14)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
Establishes an entry point in the user  program.   Command  file  commands  are
passed to this entry point.  The command address will be passed in register R1;
the  command  length in register R0.  The exit routine address is pointed to by
r14.  If no entry is set, commands will be passed to ORVYL and WYLBUR.
</P>
Operands:
<BR>
&nbsp;<UL><PRE>
&nbsp;routine-la&nbsp; &nbsp; &nbsp; &nbsp;command routine entry point.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;userinfo-la&nbsp; &nbsp; &nbsp; any value specified by the user program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Upon exit routine entry, this value is
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;placed in register 15. &nbsp;This parameter
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;may be used to point to a work area
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;required by the exit routine.
&nbsp;</PRE></UL>
Returns:
<BR>
&nbsp;<UL><PRE>
&nbsp;(15)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; error code
&nbsp;&nbsp;
&nbsp;(1)&nbsp; = &nbsp; &nbsp; &nbsp; &nbsp; previous exit routine
&nbsp;&nbsp;
&nbsp;(14)&nbsp;= &nbsp; &nbsp; &nbsp; &nbsp; previous user information
&nbsp;</PRE></UL>
<A NAME="6.2.27"></A>
<H2>
6.2.27
&nbsp;Return from a Command routine.
</H2>
&nbsp;<UL><PRE>
&nbsp;FUNC&nbsp; &nbsp; &nbsp; &nbsp;CMDRET
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(0)
&nbsp;</PRE></UL>
Purpose:
<BR>
<P>
To return to URAM after user command file processing.
</P>
Returns: None
<BR>
<A NAME="7"></A>
<H2>
7
&nbsp;ORVYL Maintenance
</H2>
<P>
This chapter describes ORVYL maintenance commands that are generally restricted
to system's programmers or special accounts.   They  are  documented  here  for
completeness, and are NOT intended for general users.
</P>
<A NAME="7.1"></A>
<H2>
7.1
&nbsp;The SET REFRESH Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;REFRESH shared-program-name
&nbsp;</PRE></UL>
<P>
Used to refresh a shared program with another version.  The  refreshed  version
becomes  a  &quot;corpse&quot;  which remains active until all users exit the program, or
stop referencing symbols defined by the program.  The new version isn't  loaded
until  it  is  called,  which  should  be  done  immediately  for shared symbol
programs.
</P>
<P>
Example:
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;REFRESH TSPIRES
&nbsp;Shared&nbsp;program TSPIRES &nbsp;will be refreshed
&nbsp;Ok?
&nbsp;</PRE></UL>
<A NAME="7.2"></A>
<H2>
7.2
&nbsp;The SET VMAINT Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;VMAINT filesysname
&nbsp;</PRE></UL>
<P>
Sets the file system into maintenance (read only) mode. This  prevents  changes
to  the  file  system  by Orvyl while file dumps, lost block recovery, or other
file system maintenace is occuring offline.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;NOVMAIN filesysname
&nbsp;</PRE></UL>
<P>
Sets the file system back to regular read/write mode.
</P>
<A NAME="7.3"></A>
<H2>
7.3
&nbsp;The SET NOVFILE Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;NOVFILE filesysname
&nbsp;</PRE></UL>
<P>
Sets the file system to unavailable mode. This prevents all access to the  file
system by Orvyl.
</P>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;VFILE filesysname
&nbsp;</PRE></UL>
<P>
Sets the file system back to regular read/write mode.
</P>
<A NAME="7.4"></A>
<H2>
7.4
&nbsp;The SHOW VVOLUME Command
</H2>
<P>
SHOW VVOLUME filesysname
</P>
<P>
Shows all the volumes that comprise the file system.
</P>
&nbsp;<UL><PRE>
&nbsp;SHOW&nbsp;VVOLUME OOD
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;DSD&nbsp; &nbsp; &nbsp; Dataset name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Start &nbsp;Count &nbsp; &nbsp; &nbsp;
&nbsp;0FAA40A0&nbsp;WYL.GS.ORV.OOD.EMC.FILEX &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 317167 &nbsp; &nbsp;&nbsp;
&nbsp;0FAA4050&nbsp;WYL.GS.ORV.OOD.EMC.FILE0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 317167 317167 &nbsp; &nbsp; &nbsp;
&nbsp;0FAA4000&nbsp;WYL.GS.ORV.OOD.EMC.FILE1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 634334 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672E20&nbsp;WYL.GS.ORV.OOD.EMC.FILE2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 951501 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672DD0&nbsp;WYL.GS.ORV.OOD.EMC.FILE3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1268668 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672D80&nbsp;WYL.GS.ORV.OOD.EMC.FILE4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1585835 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672D30&nbsp;WYL.GS.ORV.OOD.EMC.FILE5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1903002 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672CE0&nbsp;WYL.GS.ORV.OOD.EMC.FILE6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2220169 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672C90&nbsp;WYL.GS.ORV.OOD.EMC.FILE7 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2537336 317167 &nbsp; &nbsp; &nbsp;
&nbsp;08672C40&nbsp;WYL.GS.ORV.OOD.EMC.FILE8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2854503 317167 &nbsp; &nbsp; &nbsp;
&nbsp;</PRE></UL>
<A NAME="7.5"></A>
<H2>
7.5
&nbsp;The SET VADDVOL Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;VADDVOL filesysname &lt;dsn&gt;
&nbsp;</PRE></UL>
<P>
Adds another volume to the end of the file system. If the DSN of the volume  is
not  specified, the next logical DSN will be derived from the current last DSN.
</P>
&nbsp;<UL><PRE>
&nbsp;set&nbsp;vaddvol test3
&nbsp;Last&nbsp;WYL.GS.ORV.DFF.SYSD3.FILE3
&nbsp;Add&nbsp; WYL.GS.ORV.DFF.SYSD3.FILE4 &nbsp;to TEST3 &nbsp; ???
&nbsp;Ok?&nbsp;ok
&nbsp;Volume&nbsp;added
&nbsp;</PRE></UL>
<A NAME="7.6"></A>
<H2>
7.6
&nbsp;The SET VREMVOL Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SET&nbsp;VREMVOL filesysname &lt;dsn&gt;
&nbsp;</PRE></UL>
<P>
Removes the last volume from the file system. The volume is validated  to  make
sure that there are no blocks being used before it is removed.
</P>
&nbsp;<UL><PRE>
&nbsp;set&nbsp;vremvol test3
&nbsp;Remove&nbsp; WYL.GS.ORV.DFF.SYSD3.FILE4 &nbsp;from TEST3 &nbsp; ???
&nbsp;Ok?&nbsp;ok
&nbsp;Volume&nbsp;removed
&nbsp;</PRE></UL>
<A NAME="7.7"></A>
<H2>
7.7
&nbsp;The FBAL Command
</H2>
&nbsp;<UL><PRE>
&nbsp;FBAL&nbsp;account &lt;reset&gt;
&nbsp;</PRE></UL>
<P>
This command adds up the blocks for each file  belonging  to  the  account  and
compares  to blocks allocated for the account. It will report any discrepancies
and additionally reset the blocks allocated if reset is specified.
</P>
<P>
Examples:
</P>
&nbsp;<UL><PRE>
&nbsp;fbal&nbsp;gg.dff
&nbsp;1128&nbsp;Blocks accounted, 1128 Blocks total in files for DFF$GG
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;fbal&nbsp;g2.dff
&nbsp;12&nbsp;Blocks accounted, 8 Blocks total in files for DFF$G2 ** Error **
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;fbal&nbsp;g2.dff reset
&nbsp;12&nbsp;Blocks accounted, 8 Blocks total in files for DFF$G2 ** Error ** Reset
&nbsp;</PRE></UL>
<A NAME="7.8"></A>
<H2>
7.8
&nbsp;The ADMIN Program
</H2>
&nbsp;<UL><PRE>
&nbsp;CALL&nbsp;ADMIN USER ORV
&nbsp;</PRE></UL>
<P>
This program performs various maintenance functions. It accepts  the  following
commands:
</P>
&nbsp;<UL><PRE>
&nbsp;DEFAULT
&nbsp;ADD
&nbsp;DROP
&nbsp;RESET
&nbsp;ACCOUNT
&nbsp;ZORCH
&nbsp;EXTEND
&nbsp;CRENIXR
&nbsp;CREHYBR
&nbsp;</PRE></UL>
<P>
Enter EXIT when done.
</P>
<A NAME="7.8.1"></A>
<H2>
7.8.1
&nbsp;The DEFAULT command
</H2>
&nbsp;<UL><PRE>
&nbsp;DEFAULT&nbsp;&lt;VERIFY|NOVERIFY&gt; &lt;BLOCKS nnn&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;TERMINAL|ACTIVE&gt;
&nbsp;</PRE></UL>
<P>
This command resets various defaults in the ADMIN program for use  by  some  of
the other commands.
</P>
&nbsp;<UL><PRE>
&nbsp;VERIFY|NOVERIFY&nbsp; Specifies whether there is a response
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from the ADD and DROP commands. The
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program default is VERIFY.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;BLOCKS&nbsp;nnn &nbsp; &nbsp; &nbsp; Specifies the default block limit for
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;the ADD and RESET commands. The program
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default is 2500.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;TERMINAL|ACTIVE&nbsp; Specifies whether the account command
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;puts the report in the active file or
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lists it to the terminal. The
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;program default is ACTIVE.
&nbsp;</PRE></UL>
<A NAME="7.8.2"></A>
<H2>
7.8.2
&nbsp;The ADD command
</H2>
&nbsp;<UL><PRE>
&nbsp;ADD&nbsp;account &lt;blocks|NOLIM&gt;
&nbsp;</PRE></UL>
<P>
This command adds an account to the Orvyl file system.  The block limit is  set
to  the  default  if  blocks  is  not specified.  NOLIM sets the block limit to
16777215.  Note that there would not be a response in noverify mode.
</P>
<P>
Examples:
</P>
&nbsp;<UL><PRE>
&nbsp;add&nbsp;gg.xxx 3500
&nbsp;GG.XXX&nbsp;ADDED WITH 3500 BLOCK LIMIT.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;add&nbsp;gg.yyy
&nbsp;GG.YYY&nbsp;ADDED WITH 2500 BLOCK LIMIT.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;add&nbsp;gg.zzz nolim
&nbsp;GG.ZZZ&nbsp;ADDED WITH NO BLOCK LIMIT.
&nbsp;</PRE></UL>
<A NAME="7.8.3"></A>
<H2>
7.8.3
&nbsp;The DROP command
</H2>
&nbsp;<UL><PRE>
&nbsp;DROP&nbsp;account
&nbsp;</PRE></UL>
<P>
This command removes an account from the Orvyl file system.
</P>
<P>
Examples:
</P>
&nbsp;<UL><PRE>
&nbsp;drop&nbsp;gg.xxx
&nbsp;GG.XXX&nbsp;DROPPED FROM FILE SYSTEM.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;drop&nbsp;g2.yyy
&nbsp;G2.YYY:&nbsp;ACCOUNT STILL HAS FILES - NOT DROPPED.
&nbsp;</PRE></UL>
<A NAME="7.8.4"></A>
<H2>
7.8.4
&nbsp;The RESET command
</H2>
&nbsp;<UL><PRE>
&nbsp;RESET&nbsp;account &lt;blocks|NOLIM&gt;
&nbsp;</PRE></UL>
<P>
This command resets the block limit to the default if blocks is not  specified.
NOLIM  sets  the  block  limit  to  16777215.   Note  that there would not be a
response in noverify mode.
</P>
<P>
Examples:
</P>
&nbsp;<UL><PRE>
&nbsp;reset&nbsp;gg.xxx 3500
&nbsp;GG.XXX&nbsp;RESET TO 3500 BLOCKS.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;reset&nbsp;gg.yyy
&nbsp;GG.YYY&nbsp;RESET TO 2500 BLOCKS.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;reset&nbsp;gg.zzz nolim
&nbsp;GG.ZZZ&nbsp;RESET WITH NO BLOCK LIMIT.
&nbsp;</PRE></UL>
<A NAME="7.8.5"></A>
<H2>
7.8.5
&nbsp;The ACCOUNT command
</H2>
&nbsp;<UL><PRE>
&nbsp;ACCOUNT&nbsp;FSID n
&nbsp;</PRE></UL>
<P>
This command lists all accounts and their block limits for the file  system  id
specified.   The  file  system id can be determined by issuing the SHOW VBLOCKS
command and counting down to the desired file system starting  with  zero.  The
account  list  will  go  to  the  active  file or the terminal depending on the
ACTIVE|TERMINAL setting in effect.
</P>
<A NAME="7.8.6"></A>
<H2>
7.8.6
&nbsp;The ZORCH command
</H2>
&nbsp;<UL><PRE>
&nbsp;ZORCH&nbsp;filename
&nbsp;</PRE></UL>
<P>
This command removes a file  catalog  directory  entry  without  releasing  the
blocks  back  to  the  sytem. The block allocation is not reset. The blocks are
lost and must be reclaimed. The blocks allocated can be  reset  with  the  FBAL
command  if the account is not going to be dropped. The ERASE command should be
used instead of ZORCH unless there is an overriding reason not to.
</P>
<A NAME="7.8.7"></A>
<H2>
7.8.7
&nbsp;The EXTEND command
</H2>
&nbsp;<UL><PRE>
&nbsp;EXTEND&nbsp;filename nnn
&nbsp;</PRE></UL>
<P>
This command extends a non-IXRd file  by  the  count  of  blocks  specified  if
possible. It reports the count possible if the count specified is not possible.
</P>
<A NAME="7.8.8"></A>
<H2>
7.8.8
&nbsp;The CRENIXR command
</H2>
&nbsp;<UL><PRE>
&nbsp;CRENIXR&nbsp;filename nnn
&nbsp;</PRE></UL>
<P>
This command creates a non-IXRd file with the  count  of  blocks  specified  if
possible.
</P>
<A NAME="7.8.9"></A>
<H2>
7.8.9
&nbsp;The CREHYBR command
</H2>
&nbsp;<UL><PRE>
&nbsp;CREHYBR&nbsp;filename nnn
&nbsp;</PRE></UL>
<P>
This command creates a hybrid file  with  the  count  of  blocks  specified  if
possible.
</P>
<A NAME="7.9"></A>
<H2>
7.9
&nbsp;The PLAYMATE Program
</H2>
&nbsp;<UL><PRE>
&nbsp;CALL&nbsp;PLAYMATE
&nbsp;</PRE></UL>
<P>
PLAYMATE is an ORVYL utility program that permits the execution of commands  in
a form similar to ORVYL macros.  The user has access to the full power of ORVYL
on a command-by-command basis.  The most frequent commands:
</P>
&nbsp;<UL><PRE>
&nbsp;-?&nbsp;ATT FILE &lt;filename&gt; OLD
&nbsp;-?&nbsp;READ BLOCK &lt;number&gt;
&nbsp;-?&nbsp;DISPLAY BUFFER,&lt;length&gt;
&nbsp;-&nbsp;- - - - etc.
&nbsp;-?&nbsp;DETACH &lt;R0-device&gt;
&nbsp;</PRE></UL>
<P>
PLAYMATE is typically used to examine SPIRES files.
</P>
&nbsp;<UL><PRE>
&nbsp;-?&nbsp;ATT FILE myfile.MSTR OLD
&nbsp;-?&nbsp;READ BLOCK 0
&nbsp;-?&nbsp;DISPLAY BUFFER
&nbsp;</PRE></UL>
<P>
or
</P>
&nbsp;<UL><PRE>
&nbsp;-?&nbsp;DISPLAY BUFFER,64 &nbsp;; to limit the length.
&nbsp;</PRE></UL>
<P>
ATTach FILe returns either an error code or it displays the registers that were
returned by the  operating  system  (ORVYL)  when  the  file  was  successfully
attached.   R0  contains  what  is  known  as  the device-id after a successful
attach.  Most commands, like CONTROL, READ,  WRITE,  DETACH,  RESERVE,  RELEASE
need  the  file-di  as their first parameter.  READ BLOCK and WRITE PREV assume
the current file-di.  If you have more than one file attached at the same time,
you'll have to specify the file-di on READ BLOCK or WRITE PREV if it wasn't the
last file-di you used.  You can READ BLOCK from one file,  and  WRITE  PREV  to
another file.
</P>
<P>
All of these PLAYMATE commands are documented in the ORVYL manual, and PLAYMATE
is an interactive way of executing the ORVYL macros.  Just remember to use  OLD
on  ATTach  FILe  when you are attaching an existing file.  The default is NEW.
</P>
<P>
Here is another example using two files at once:
</P>
&nbsp;<UL><PRE>
&nbsp;-?&nbsp;ATT FILE myold.file OLD
&nbsp;-?&nbsp;ATT FILE mynew.file &nbsp;; NEW is default
&nbsp;-?&nbsp;READ BLOCK 0,2
&nbsp;-?&nbsp;WRITE PREV,3
&nbsp;</PRE></UL>
<P>
Since device 2 is the first file attached, and device  3  is  the  second  file
attached, this set of commands reads block zero from myold.file and then writes
it into mynew.file
</P>
<A NAME="7.9.1"></A>
<H2>
7.9.1
&nbsp;The PLAYMATE Commands
</H2>
<P>
PLAYMATE has a large number of commands:
</P>
&nbsp;<UL><PRE>
&nbsp;1.&nbsp; ATTach FILe filename [,[MODE=] &lt;modes&gt;]
&nbsp;2.&nbsp; ATTach PATh pathname [,length]
&nbsp;3.&nbsp; ATTach &lt;num&gt; [r1-r14] [,[MODE=] &lt;modes&gt;]
&nbsp;4.&nbsp; SENse &nbsp;&lt;num&gt; [r1-r14]
&nbsp;5.&nbsp; STAtus &lt;num&gt; [r1-r14]
&nbsp;6.&nbsp; CONTrol [file-di] [r1-r14] [,[MODE=] &lt;modes&gt;]
&nbsp;7.&nbsp; REAd &nbsp; &nbsp;[file-di] [r1-r14] [,MODE=SKIp]
&nbsp;&nbsp; &nbsp; REAd BLOck &lt;num&gt; [,&lt;di-num&gt;] [,MODE=&lt;modes&gt;]
&nbsp;&nbsp; &nbsp; REAd NEXT [,&lt;di-num&gt;] [,MODE=&lt;modes&gt;]
&nbsp;8.&nbsp; WRIte &nbsp; [file-di] [r1-r14]
&nbsp;&nbsp; &nbsp; WRIte BLOck &lt;num&gt; [,&lt;di-num&gt;] [,MODE=&lt;modes&gt;]
&nbsp;&nbsp; &nbsp; WRIte PREV [,&lt;di-num&gt;] [,MODE=&lt;modes&gt;]
&nbsp;9.&nbsp; DETach &nbsp;[file-di]
&nbsp;10.&nbsp;REServe [file-di] [,[MODE=] &lt;mode&gt;]
&nbsp;11.&nbsp;RELease [file-di]
&nbsp;12.&nbsp;DISplay &lt;area&gt; [,&lt;length&gt;]
&nbsp;13.&nbsp;DISplay REGS
&nbsp;14.&nbsp;DISplay &lt;regs&gt; [, &lt;regs&gt;]
&nbsp;15.&nbsp;PRIme &nbsp; &lt;area&gt; [offset] &quot;string&quot;
&nbsp;&nbsp; &nbsp; PRIme &nbsp; &lt;area&gt; [offset] x'&lt;hex-number&gt;'
&nbsp;16.&nbsp;SVC &lt;num&gt; [r0] [r1-r14] [,[MODE=] &lt;modes&gt;]
&nbsp;17.&nbsp;MoVeCore &lt;area&gt; [offset] TO &lt;area&gt; [offset] LENgth[=]&lt;num&gt;
&nbsp;18.&nbsp;SORT [r0]
&nbsp;19.&nbsp;ETOA &lt;area&gt; [offset] [, &lt;length&gt;]
&nbsp;20.&nbsp;ATOE &lt;area&gt; [offset] [, &lt;length&gt;]
&nbsp;21.&nbsp;PAD &nbsp;&lt;area&gt; [offset] [, &lt;length&gt;]
&nbsp;</PRE></UL>
<P>
Upper case portions of words are the minimum you can type  to  have  that  word
recognized.   Terms  in  angle-brackets,  &lt;term&gt;, are required terms.  Terms in
square-brackets,  [term],  are  optional.   The  commands  make  use  of  these
definitions:
</P>
&nbsp;<UL><PRE>
&nbsp;&lt;modes&gt;&nbsp; &lt;mode&gt; [, &lt;mode&gt;]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;( &lt;mode&gt; [, &lt;mode&gt;] )
&nbsp;&lt;mode&gt;&nbsp; &nbsp;M14
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;M15 | OLD | SKIp
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;M0 &nbsp;| WAIt
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;M1 &nbsp;| SHR | SHAre | FORmat | TEXt
&nbsp;&lt;regs&gt;&nbsp; &nbsp;SVC | RETurn | WAIt | CALl
&nbsp;&lt;area&gt;&nbsp; &nbsp;BUFfer | STRing | CNTrl | PROmpt
&nbsp;&lt;length&gt;&nbsp;&lt;num&gt; | LBUFfer | LSTRing | LCNTrl | LPROmpt
&nbsp;&lt;r1-r14&gt;&nbsp;&lt;r1&gt; [r15-r14]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, &lt;r15-r14&gt;
&nbsp;&lt;r15-r14&gt;&nbsp;&lt;r15&gt; [r14]
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; , &lt;r14&gt;
&nbsp;&lt;r0&gt;&nbsp; , &lt;value&gt;
&nbsp;&lt;r1&gt;&nbsp; , &lt;value&gt;
&nbsp;&lt;r15&gt;&nbsp;, &lt;value&gt;
&nbsp;&lt;r14&gt;&nbsp;, &lt;value&gt;
&nbsp;&lt;value&gt;&nbsp;&lt;area&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;length&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &quot;string&quot;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; x'&lt;hex-number&gt;'
&nbsp;&lt;offset&gt;&nbsp;+ &lt;num&gt;
&nbsp;&lt;num&gt;&nbsp;0 &lt;hex-number&gt;
&nbsp;&nbsp; &nbsp; &nbsp; &lt;decimal-number&gt;
&nbsp;&lt;di-num&gt;&nbsp;&lt;num&gt;
&nbsp;&lt;file-di&gt;&nbsp;FILe
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;num&gt;
&nbsp;</PRE></UL>
<P>
Alternatives are listed in a column under  each  definition,  and  horizontally
separated  by  vertical-bar,  |,  when  there are multiple choices for that one
alternative.  For example, &lt;mode&gt; can be M0 or WAIt for the M0 choice.
</P>
<P>
The last &quot;string&quot; or x'hex-number' will define the contents of the STRing area,
and LSTRing will be the  length  of  that  string  or  hex-number  (in  bytes).
</P>
<P>
Both hex-number and decimal-number are what you'd expect.
</P>
<A NAME="7.9.2"></A>
<H2>
7.9.2
&nbsp;The PLAYMATE PRIME and PAD Commands
</H2>
&nbsp;<UL><PRE>
&nbsp;PRIme&nbsp; &nbsp;&lt;area&gt; [offset] &quot;string&quot;
&nbsp;PRIme&nbsp; &nbsp;&lt;area&gt; [offset] x'&lt;hex-number&gt;'
&nbsp;PAD&nbsp; &nbsp; &nbsp;&lt;area&gt; [offset] [, &lt;length&gt;]
&nbsp;</PRE></UL>
<P>
PRIME is used to place an initial value into an area.  For example,  you  might
need to setup a format for CONTROL 14 in the CNTRL area.
</P>
&nbsp;<UL><PRE>
&nbsp;PRIME&nbsp;CNTRL X'04000040'
&nbsp;</PRE></UL>
<P>
This would setup a FIXED,LRECL=64 format definition.  You  could  then  do  the
following to an attached file (device-id=2):
</P>
&nbsp;<UL><PRE>
&nbsp;CONTROL&nbsp;2,14,CNTRL,MODE=FORMAT
&nbsp;</PRE></UL>
<P>
PAD is used to fill out an area by copying the last character  in  the  current
area until the area becomes &lt;length&gt; in size.  Example:
</P>
&nbsp;<UL><PRE>
&nbsp;PRIME&nbsp;BUFFER &quot;Sample &quot;
&nbsp;PAD&nbsp;BUFFER,256
&nbsp;DISPLAY&nbsp;BUFFER
&nbsp;&nbsp; &nbsp;256 &nbsp;00000100
&nbsp;504000&nbsp; 0000 &nbsp; &nbsp;e2819497 &nbsp;93854040 &nbsp;|Sample &nbsp;|
&nbsp;504008&nbsp; 0008 to 00fc &nbsp; &nbsp; &nbsp;40404040 &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp;|
&nbsp;</PRE></UL>
<A NAME="7.9.3"></A>
<H2>
7.9.3
&nbsp;The PLAYMATE ETOA and ATOE Commands
</H2>
&nbsp;<UL><PRE>
&nbsp;ETOA&nbsp; &nbsp; &lt;area&gt; [offset] [, &lt;length&gt;]
&nbsp;ATOE&nbsp; &nbsp; &lt;area&gt; [offset] [, &lt;length&gt;]
&nbsp;</PRE></UL>
<P>
These commands are used to convert the contents of  an  area  from  EBCIDIC  to
ASCII  (ETOA) to ASCII to EBCIDIC (ATOE).  This is usually done with the BUFFER
area after reading a block of data from  a  file  that  has  ASCII  characters.
PLAYMATE  always  displays as though the data was EBCIDIC, so you might have to
do ATOE before doing DISPLAY.
</P>
<P>
Example:
</P>
&nbsp;<UL><PRE>
&nbsp;READ&nbsp;BLOCK 0
&nbsp;ATOE&nbsp;BUFFER
&nbsp;DISPLAY&nbsp;BUFFER
&nbsp;</PRE></UL>
<A NAME="7.9.4"></A>
<H2>
7.9.4
&nbsp;The PLAYMATE SORT Command
</H2>
&nbsp;<UL><PRE>
&nbsp;SORT&nbsp;[r0]
&nbsp;</PRE></UL>
<P>
This command is used to sort the directory contents  of  an  ORVYL  Library  or
Loadfile.  The Library or Loadfile must be an attached file.
</P>
<P>
This command reads block 0 of the specified file, [r0], sorts the contents, and
rewrites the block.  You will get errors if the attached file is not a  Library
or Loadfile, or you don't have read or write permission for the file.
</P>
<P>
Example:
</P>
&nbsp;<UL><PRE>
&nbsp;ATTACH&nbsp;FILE PROGLIB OLD
&nbsp;SORT
&nbsp;</PRE></UL>
<A NAME="7.10"></A>
<H2>
7.10
&nbsp;User file maintenance facilities
</H2>
<P>
There are three batch programs that are commonly  used  to  DUMP/RESTORE  ORVYL
files.   ORVCOPY  is  used  to dump/restore multiple files in their exact form.
ORVMOVE and ORVLOAD are used to dump and restore respectively in a fixed format
form.
</P>
<A NAME="7.10.1"></A>
<H2>
7.10.1
&nbsp;ORVCOPY Facility
</H2>
<P>
ORVCOPY designed to DUMP/RESTORE ORVYL files.
</P>
<P>
Sample Output JCL
</P>
&nbsp;<UL><PRE>
&nbsp;//SCR&nbsp;EXEC CATSCR,OPTION=IGNORE,DSN='WYL.gg.uuu.output'
&nbsp;//step&nbsp;EXEC PGM=ORVCOPY
&nbsp;//STEPLIB&nbsp;DD DSN=WYL.GG.PRD.ORVCOPY,DISP=SHR
&nbsp;//SYSPRINT&nbsp;DD SYSOUT=A
&nbsp;//OUTPUT&nbsp;DD DSN=WYL.gg.uuu.output,DISP=(NEW,CATLG),
&nbsp;//&nbsp; UNIT=device,VOL=SER=volume,[SPACE or LABEL info]
&nbsp;//SYSIN&nbsp;DD *
&nbsp;DUMP&nbsp;control cards &nbsp; &nbsp; (to OUTPUT)
&nbsp;/*
&nbsp;</PRE></UL>
<P>
Sample Input JCL
</P>
&nbsp;<UL><PRE>
&nbsp;//step&nbsp;EXEC PGM=ORVCOPY
&nbsp;//STEPLIB&nbsp;DD DSN=WYL.GG.PRD.ORVCOPY,DISP=SHR
&nbsp;//SYSPRINT&nbsp;DD SYSOUT=A
&nbsp;//INPUT&nbsp;DD DSN=WYL.gg.uuu.input,DISP=SHR &nbsp;[assumes DSN is ON CAT]
&nbsp;//SYSIN&nbsp;DD *
&nbsp;RESTORE&nbsp;control cards &nbsp;(from INPUT)
&nbsp;/*
&nbsp;</PRE></UL>
<P>
SYSIN control cards
</P>
<P>
Control cards contain reserved words that may be abbreviated down to the  first
letter  (like  DUMP, DUM, DU, D).  If the abbreviation would be ambiguous, then
use at least the first three letter of the reserved word.  REStore  and  REWind
are  examples  of such words.  SYSIN must be a fixed card image input data set,
and only data in columns 1 through 72 is used.  If the last non-blank character
within that column range is a comma (,)  then  a  second  card  is  read  as  a
continuation of the first.
</P>
<P>
There are three primary control cards:
</P>
&nbsp;<UL><PRE>
&nbsp;a.&nbsp; REWIND
&nbsp;b.&nbsp; [DUMP] options
&nbsp;c.&nbsp; RESTORE options [REPLACE|SKIP]
&nbsp;</PRE></UL>
<P>
REWIND positions the RESTORE (INPUT) data set to beginning  of  the  data  set.
</P>
<P>
DUMP is an optional keyword.  RESTORE is a required keyword.
</P>
<P>
The &quot;options&quot; for both DUMP and RESTORE are:
</P>
&nbsp;<UL><PRE>
&nbsp;a.&nbsp; ALL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - process all files.
&nbsp;b.&nbsp; LIKE=stem &nbsp; &nbsp; - process all files with this stem.
&nbsp;c.&nbsp; RANGE=name1,name2 &nbsp;- process files such that:
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name1 &lt;= file &lt;= name2
&nbsp;d.&nbsp; NAME=name [,RENAME=newname]
&nbsp;&nbsp; &nbsp; &nbsp; - processes a single file. &nbsp;The NAME is the
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; file read, and RENAME is the file written.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; If RENAME is not given, NAME is written.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; Note: DUMP's NAME is the ORVYL file name,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; and RESTORE's NAME is the INPUT file name.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; RENAME is allowed with both DUMP and RESTORE.
&nbsp;</PRE></UL>
<P>
Do not include your account at the start of any name or  stem.   ORVCOPY  knows
your  account from the JOB card; therefore, you may not dump files belonging to
others, or restore to anyone but yourself.
</P>
<P>
The RESTORE control cards allow either REPLACE or  SKIP  as  the  last  option.
REPLACE is needed if the file being restored already exists under ORVYL and you
want  it  to  be  replaced.   If  REPLACE  is not given, only a new file can be
restored.  The SKIP option is very useful with the NAME option.  SKIP positions
INPUT to the named file but doesn't restore it.  RESTORE ALL would then restore
from that file through to the end of INPUT.  SKIP with NAME makes  it  possible
for  you  to  position  yourself  to a particular file within INPUT's data set.
</P>
<P>
If a RESTORE command directly  follows  another  RESTORE  command,  then  LIKE,
RANGE, and ALL read INPUT from its current position to end-of-information.  The
SKIP  option  causes  the file names to be printed without restoring any of the
files.
</P>
<P>
RESTORE with the REP option normally creates a standard ORVYL file, however  if
the  file  being  restored already exists as a &quot;non-ixr&quot; or &quot;hybrid&quot; type, then
the file is rewritten as that type.
</P>
<P>
Multiple ORVYL files are read/written from/to a single OS data set,  which  may
be on disk or tape.  The ORVYL file's attributes (FORMAT, CLP/NOCLP, SHR/NOSHR,
FILEMASK,  PUBLIC  Permits,  and  Individual Permits) are all restored/saved by
this program.  As each file is processed, ORVCOPY prints  a  line  in  SYSPRINT
that identifies the file written.  The form of the line is:
</P>
&nbsp;<UL><PRE>
&nbsp;**&nbsp;File=written.name
&nbsp;</PRE></UL>
<P>
It is possible to DUMP and RESTORE in the same job  step!  However,  INPUT  and
OUTPUT cannot specify the same data set.
</P>
<P>
Note that the RECFM for both INPUT and OUTPUT is:  RECFM=VB.   If  you  do  not
specify  LRECL,  or  you  specify  an  LRECL  &lt;  2056,  then LRECL = 2056.  Any
specified LRECL &gt;= 2056 is retained.  If you do not  specify  BLKSIZE,  or  you
specify  BLKSIZE  &lt; LRECL+4, then BLKSIZE = 3(LRECL)+4.  Any BLKSIZE &gt;= LRECL+4
is retained.  Therefore, default LRECL = 2056,  and  default  BLKSIZE  =  6172.
</P>
<P>
For dumping 4K file system files, you must  supply  LRECL=4104  as  a  minimum.
BLKSIZE  will be computed as 3(LRECL)+4 if not given.  For restore of 4K files,
LRECL and BLKSIZE are usually not given.
</P>
<P>
To route to other machines, include the following in the JCL:
</P>
&nbsp;<UL><PRE>
&nbsp;/*ROUTE&nbsp;XEQ SYSx
&nbsp;</PRE></UL>
<P>
To use a different ORVYL, like TESTORV, include the following:
</P>
&nbsp;<UL><PRE>
&nbsp;/*JOBPARM&nbsp;ORVYL=TESTORV
&nbsp;</PRE></UL>
<A NAME="7.10.2"></A>
<H2>
7.10.2
&nbsp;ORVMOVE Facility
</H2>
<P>
ORVMOVE is designed to dump an ORVYL file to  OS.   ORVLOAD  is  the  companion
program, to load OS into ORVYL.
</P>
<P>
ORVMOVE Input: ORVYL file that is not a library or loadfile.
</P>
<P>
Types handled:
</P>
&nbsp;<UL><PRE>
&nbsp;1.&nbsp; Unknown: &nbsp;Each block read equals one line of output.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maximum size = 2048 or 4096
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;2.&nbsp; FIXED: &nbsp; &nbsp;LRECL determines size of each line output.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LRECL in your Output DD-card should match.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maximum size = 2048 or 4096
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;3.&nbsp; VARIABLE: Text of each line equals one line of output.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maximum size = 255.
&nbsp;</PRE></UL>
&nbsp;<UL><PRE>
&nbsp;4.&nbsp; EDIT: &nbsp; &nbsp; Uncompressed text equals one line of output.
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maximum size = 255.
&nbsp;</PRE></UL>
<P>
Output: OS-dataset of either V(B) or F(B) record format.  Each line  of  output
from the ORVYL file equals one record in the OS-dataset.  For F(B), records may
be truncated or blank-padded to LRECL size.
</P>
<P>
You specify the name of the ORVYL file in either  the  PARM  or  //SYSIN.   You
specify the RECFM and LRECL of the output dataset in //OUTPUT.
</P>
<P>
ORVMOVE outputs statistics upon completion:
</P>
&nbsp;<UL><PRE>
&nbsp;**File=&lt;name-of-ORVYL-file&gt;
&nbsp;****&nbsp;Blocks read: &nbsp; &nbsp;number of ORVYL file blocks input
&nbsp;****&nbsp;Lines output: &nbsp; number of lines written to //OUTPUT
&nbsp;****&nbsp;Lines padded: &nbsp; number of lines blank-padded (0 for VB)
&nbsp;****&nbsp;Truncated: &nbsp; &nbsp; &nbsp;number of truncated lines (0 for VB)
&nbsp;</PRE></UL>
<P>
Sample JCL:
</P>
&nbsp;<UL><PRE>
&nbsp;//SCR&nbsp;EXEC CATSCR,OPTION=IGNORE,DSN='WYL.gg.uuu.myfile.name'
&nbsp;//GO&nbsp;EXEC PGM=ORVMOVE,PARM='myfile.name'
&nbsp;//STEPLIB&nbsp;DD DSN=WYL.GG.PRD.ORVMOVE,DISP=SHR
&nbsp;//SYSPRINT&nbsp;DD SYSOUT=A
&nbsp;//OUTPUT&nbsp;DD DSN=WYL.gg.uuu.myfile.name,DISP=(NEW,CATLG),
&nbsp;//&nbsp; UNIT=SYSDA,VOL=SER=SCR002,
&nbsp;//&nbsp; SPACE=(2048,(269,10),RLSE),
&nbsp;//&nbsp; DCB=(RECFM=FB,LRECL=64,BLKSIZE=2048)
&nbsp;</PRE></UL>
<P>
The SPACE and DCB parameters should specify 4096 for files that  have  4096  as
their  block  size.   Also,  you  should  try  to allocate the number-of-blocks
associated with each file  as  the  primary  extent  in  the  SPACE  parameter.
</P>
<P>
Example:
</P>
&nbsp;<UL><PRE>
&nbsp;Command&gt;&nbsp;SHOW FILES LIKE myfile.name BLOCKS
&nbsp;myfile.name&nbsp;-- 269 Blks (F: 0, L: 268)
&nbsp;</PRE></UL>
<P>
See the SPACE parameter in the JCL above.  Also note, SCR002 will normally take
24 ORVYL blocks (2K) per track.
</P>
<A NAME="7.10.3"></A>
<H2>
7.10.3
&nbsp;ORVLOAD Facility
</H2>
<P>
ORVLOAD is designed to load an ORVYL file from OS.  ORVMOVE  is  the  companion
program, to dump ORVYL to OS.
</P>
<P>
ORVLOAD Output: ORVYL file that is not a library or loadfile.
</P>
<P>
Types handled:
</P>
&nbsp;<UL><PRE>
&nbsp;FIXED:&nbsp; &nbsp; Maximum size = BLKSIZE (2048 or 4096)
&nbsp;LRECL&nbsp;of input determines LRECL of ORVYL output file.
&nbsp;</PRE></UL>
<P>
Input: OS-dataset that must always be F(B) record format.
</P>
<P>
You specify the name of the ORVYL file in either  the  PARM  or  //SYSIN.   You
specify the RECFM and LRECL of the output dataset in //INPUT.
</P>
<P>
ORVLOAD outputs statistics upon completion:
</P>
&nbsp;<UL><PRE>
&nbsp;**File=&lt;name-of-ORVYL-file&gt;
&nbsp;****&nbsp;Blocks moved: number of ORVYL file blocks output
&nbsp;****&nbsp;Record input: number of lines read from //INPUT
&nbsp;</PRE></UL>
<P>
Sample JCL:
</P>
&nbsp;<UL><PRE>
&nbsp;//GO&nbsp;EXEC PGM=ORVLOAD,PARM='myfile.name REP'
&nbsp;//STEPLIB&nbsp;DD DSN=WYL.GG.PRD.ORVLOAD,DISP=SHR
&nbsp;//SYSPRINT&nbsp;DD SYSOUT=A
&nbsp;//INPUT&nbsp;DD DSN=WYL.gg.uuu.myfile.name,DISP=SHR
&nbsp;</PRE></UL>
<A NAME="7.11"></A>
<H2>
7.11
&nbsp;MPINIT -- Orvyl initialization parameters
</H2>
<P>
MPINIT -- Orvyl initialization parameters.
</P>
<A NAME="7.11.1"></A>
<H2>
7.11.1
&nbsp;System initialization parameters
</H2>
<P>
These are various parameters  controling  the  various  functioning  of  Orvyl.
</P>
RESCAN SYSNAME
<BR>
<P>
SYSNAME is the name of this Orvyl. On SYSA and SYSD the name is set  to  ORVYL.
On  SYSB (RLIN) the name is set to ORVYLRLG. The default is TORVYL.  The RESCAN
parameter allows SYSNAME to be accessed more than once.  Both the Host and  the
Guest access this parameter.
</P>
<P>
Example:
</P>
&nbsp;<UL><PRE>
&nbsp;RESCAN&nbsp;SYSNAME = ORVYL
&nbsp;</PRE></UL>
CPUS
<BR>
<P>
CPUS tells Orvyl how many CPUs will be used by the Guest.
</P>
<P>
Example:
</P>
&nbsp;<UL><PRE>
&nbsp;CPUS&nbsp;= 3
&nbsp;</PRE></UL>
PROFILE
<BR>
<P>
This function still has to be researched. It is disabled in all  known  Orvyls.
</P>
<P>
Current setting:
</P>
&nbsp;<UL><PRE>
&nbsp;BEGIN&nbsp;PROFILE
&nbsp;&nbsp; ACTIVE = No &nbsp; &nbsp; &nbsp; ; Profiler inactive
&nbsp;&nbsp; INTERVAL = 100 &nbsp; &nbsp;; Profiler interval (ms)
&nbsp;END&nbsp;PROFILE
&nbsp;</PRE></UL>
SYSDUMP
<BR>
<P>
This parameter tells Orvyl where the SYSM dump dataset is located.
</P>
<P>
Current settings on SYSA:
</P>
&nbsp;<UL><PRE>
&nbsp;BEGIN&nbsp;SYSDUMP
&nbsp;&nbsp; DSNAME = WYL.GS.ORV.SYSA.SYSM9000 &nbsp;; Data set name
&nbsp;&nbsp; VOLUME = DMPA02 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Volume **Temporary**
&nbsp;&nbsp; TRACKS = 12000 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Secondary allocation
&nbsp;&nbsp; GDG &nbsp; &nbsp;= +1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Its a gdg
&nbsp;END&nbsp;SYSDUMP
&nbsp;</PRE></UL>
SYSTEM
<BR>
<P>
Current settings on SYSA:
</P>
&nbsp;<UL><PRE>
&nbsp;BEGIN&nbsp;SYSTEM
&nbsp;&nbsp; GBLWSINT = 5000 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Gbl work set interval (mS)
&nbsp;&nbsp; SMFINT &nbsp; = &nbsp;900 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; SMF interval (seconds)
&nbsp;&nbsp; FRAMEINT = &nbsp; 10 &nbsp;;was 20 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; Frame management (seconds)
&nbsp;&nbsp; FRAMEINO = &nbsp; &nbsp;3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; &nbsp; num/cycle of frame mgmt
&nbsp;END&nbsp;SYSTEM
&nbsp;</PRE></UL>
MEMORY
<BR>
HSPACE
<BR>
ACCOUNT
<BR>
DISPATCH
<BR>
TERMINAL
<BR>
RESOURCE
<BR>
VIRTMEM
<BR>
MODE1
<BR>
PAGING
<BR>
<A NAME="7.11.2"></A>
<H2>
7.11.2
&nbsp;File system initialization parameters
</H2>
<P>
These parameters are for the host.
</P>
FILEIOS
<BR>
CDUMPNOT
<BR>
BUF2K &amp; BUF4K
<BR>
FS0nn
<BR>

<BR>
<A NAME="INDEX++"></A>
<BR>
ABOUT&nbsp;THIS MANUAL
&nbsp;<A HREF="#1.1">
1.1</A>
<BR>
ADMIN&nbsp;PROGRAM
&nbsp;<A HREF="#7.8">
7.8</A>
<BR>
ADMIN:&nbsp;ACCOUNT COMMAND
&nbsp;<A HREF="#7.8.5">
7.8.5</A>
<BR>
ADMIN:&nbsp;ADD COMMAND
&nbsp;<A HREF="#7.8.2">
7.8.2</A>
<BR>
ADMIN:&nbsp;CREHYBR COMMAND
&nbsp;<A HREF="#7.8.9">
7.8.9</A>
<BR>
ADMIN:&nbsp;CRENIXR COMMAND
&nbsp;<A HREF="#7.8.8">
7.8.8</A>
<BR>
ADMIN:&nbsp;DEFAULT COMMAND
&nbsp;<A HREF="#7.8.1">
7.8.1</A>
<BR>
ADMIN:&nbsp;DROP COMMAND
&nbsp;<A HREF="#7.8.3">
7.8.3</A>
<BR>
ADMIN:&nbsp;EXTEND COMMAND
&nbsp;<A HREF="#7.8.7">
7.8.7</A>
<BR>
ADMIN:&nbsp;RESET COMMAND
&nbsp;<A HREF="#7.8.4">
7.8.4</A>
<BR>
ADMIN:&nbsp;ZORCH COMMAND
&nbsp;<A HREF="#7.8.6">
7.8.6</A>
<BR>
ALIAS&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.2">
3.2.2</A>
<BR>
ATTACH&nbsp;(1): ATTACHING USER TERMINAL
&nbsp;<A HREF="#5.8.1">
5.8.1</A>
<BR>
ATTACH&nbsp;(2): ATTACHING ORVYL FILES
&nbsp;<A HREF="#5.10.1">
5.10.1</A>
<BR>
ATTACH&nbsp;(4): CREATING AND OPENING A SUZAN PATH
&nbsp;<A HREF="#5.12.1">
5.12.1</A>
<BR>
ATTACH:&nbsp;ATTACHING DEVICES AND FILES
&nbsp;<A HREF="#5.7.1">
5.7.1</A>
<BR>
ATTN&nbsp;COMMAND
&nbsp;<A HREF="#4.2.2">
4.2.2</A>
<BR>
CALL&nbsp;COMMAND
&nbsp;<A HREF="#3.4.1">
3.4.1</A>
<BR>
CHANGE&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.3">
3.2.3</A>
<BR>
CLEAN&nbsp;UP BUFFERS.
&nbsp;<A HREF="#6.2.16">
6.2.16</A>
<BR>
CLEAR&nbsp;TRAP COMMAND (CT)
&nbsp;<A HREF="#4.5.3">
4.5.3</A>
<BR>
CLEAR&nbsp;TRAPS COMMAND (CTS)
&nbsp;<A HREF="#4.5.4">
4.5.4</A>
<BR>
CLOSE&nbsp;A URAM FILE OR DEVICE.
&nbsp;<A HREF="#6.2.5">
6.2.5</A>
<BR>
CLOSE&nbsp;ALL FILES AND FREE UNNEEDED URAM SYSTEM BUFFERS
&nbsp;<A HREF="#6.2.17">
6.2.17</A>
<BR>
COMMAND&nbsp;PASSING AND PROMPTING AT THE TERMINAL
&nbsp;<A HREF="#5.3.2">
5.3.2</A>
<BR>
COMMAND:&nbsp;EXECUTING A SUBSYSTEM COMMAND
&nbsp;<A HREF="#5.13.1">
5.13.1</A>
<BR>
COMMENT&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.4">
3.2.4</A>
<BR>
CONTROL&nbsp;(0): CREATING FILE BLOCKS
&nbsp;<A HREF="#5.10.4">
5.10.4</A>
<BR>
CONTROL&nbsp;(0-1): PAGE EJECT AND SPACING
&nbsp;<A HREF="#5.8.6">
5.8.6</A>
<BR>
CONTROL&nbsp;(1): DELETING A FILE BLOCK
&nbsp;<A HREF="#5.10.5">
5.10.5</A>
<BR>
CONTROL&nbsp;(10): ASSIGNING PUBLIC FILE PRIVILEGES
&nbsp;<A HREF="#5.10.14">
5.10.14</A>
<BR>
CONTROL&nbsp;(11): READING FILE ACCESS PRIVILEGES
&nbsp;<A HREF="#5.10.15">
5.10.15</A>
<BR>
CONTROL&nbsp;(12): SETTING SHARE ONLY MODE FOR ATTACH MACRO
&nbsp;<A HREF="#5.10.16">
5.10.16</A>
<BR>
CONTROL&nbsp;(12): SETTING THE WYLBUR MODE WORD
&nbsp;<A HREF="#5.9.2">
5.9.2</A>
<BR>
CONTROL&nbsp;(13): READING THE WYLBUR MODE WORD
&nbsp;<A HREF="#5.9.3">
5.9.3</A>
<BR>
CONTROL&nbsp;(13): SENSING SHARE ONLY MODE FOR ATTACH MACRO
&nbsp;<A HREF="#5.10.17">
5.10.17</A>
<BR>
CONTROL&nbsp;(14): DETECTING THE WYLBUR ACTIVE FILE SIZE
&nbsp;<A HREF="#5.9.4">
5.9.4</A>
<BR>
CONTROL&nbsp;(14): SETTING THE FILE FORMAT FIELD
&nbsp;<A HREF="#5.10.18">
5.10.18</A>
<BR>
CONTROL&nbsp;(15): OBTAINING THE FIRST WYLBUR LINE NUMBER
&nbsp;<A HREF="#5.9.5">
5.9.5</A>
<BR>
CONTROL&nbsp;(15): SENSING THE FILE FORMAT FIELD
&nbsp;<A HREF="#5.10.19">
5.10.19</A>
<BR>
CONTROL&nbsp;(16): OBTAINING THE LAST WYLBUR LINE NUMBER
&nbsp;<A HREF="#5.9.6">
5.9.6</A>
<BR>
CONTROL&nbsp;(16): SETTING A FILE'S CLP/NOCLP CONDITION
&nbsp;<A HREF="#5.10.20">
5.10.20</A>
<BR>
CONTROL&nbsp;(17): DELETING THE WYLBUR ACTIVE FILE CONTENTS
&nbsp;<A HREF="#5.9.7">
5.9.7</A>
<BR>
CONTROL&nbsp;(17): SENSING A FILE'S CLP/NOCLP CONDITION
&nbsp;<A HREF="#5.10.21">
5.10.21</A>
<BR>
CONTROL&nbsp;(18): ABORTING A COMMAND IN PROGRESS IN WYLBUR
&nbsp;<A HREF="#5.9.8">
5.9.8</A>
<BR>
CONTROL&nbsp;(18): SETTING A FILE'S CLP ONLY CONDITION
&nbsp;<A HREF="#5.10.22">
5.10.22</A>
<BR>
CONTROL&nbsp;(19): OUTPUT FROM THE WYLBUR ACTIVE FILE TO THE TERMINAL
&nbsp;<A HREF="#5.9.9">
5.9.9</A>
<BR>
CONTROL&nbsp;(19): SENSING A FILE'S CLP ONLY CONDITION
&nbsp;<A HREF="#5.10.23">
5.10.23</A>
<BR>
CONTROL&nbsp;(2): DELETING A RANGE OF FILE BLOCKS
&nbsp;<A HREF="#5.10.6">
5.10.6</A>
<BR>
CONTROL&nbsp;(2-3): SETTING TABS
&nbsp;<A HREF="#5.8.7">
5.8.7</A>
<BR>
CONTROL&nbsp;(20): OBTAINING PERMISSION TO PROCESS CHANGED LINES
&nbsp;<A HREF="#5.9.10">
5.9.10</A>
<BR>
CONTROL&nbsp;(20): SENSING A FILE TYPE
&nbsp;<A HREF="#5.10.24">
5.10.24</A>
<BR>
CONTROL&nbsp;(21): READING TERMINAL CHARACTERISTICS
&nbsp;<A HREF="#5.8.10">
5.8.10</A>
<BR>
CONTROL&nbsp;(21): SETTING SPIRES ONLY
&nbsp;<A HREF="#5.10.25">
5.10.25</A>
<BR>
CONTROL&nbsp;(22): SENSING SPIRES ONLY
&nbsp;<A HREF="#5.10.26">
5.10.26</A>
<BR>
CONTROL&nbsp;(22-24): ATTN SESSION BREAK
&nbsp;<A HREF="#5.8.11">
5.8.11</A>
<BR>
CONTROL&nbsp;(23): SENSING FILE BLOCK SIZE
&nbsp;<A HREF="#5.10.27">
5.10.27</A>
<BR>
CONTROL&nbsp;(24): OBTAIN MAXIMUM FILE SIZE IN BLOCKS
&nbsp;<A HREF="#5.10.28">
5.10.28</A>
<BR>
CONTROL&nbsp;(25): CONVERT TO HYBRID FILE
&nbsp;<A HREF="#5.10.29">
5.10.29</A>
<BR>
CONTROL&nbsp;(25-27): NEWLINE CARRIAGE RETURN
&nbsp;<A HREF="#5.8.12">
5.8.12</A>
<BR>
CONTROL&nbsp;(28): OBTAIN DELTA FROM WYLBUR
&nbsp;<A HREF="#5.8.13">
5.8.13</A>
<BR>
CONTROL&nbsp;(3): TESTING FOR THE EXISTENCE OF A FILE BLOCK
&nbsp;<A HREF="#5.10.7">
5.10.7</A>
<BR>
CONTROL&nbsp;(4): OBTAINING THE FILE FIRST BLOCK NUMBER
&nbsp;<A HREF="#5.10.8">
5.10.8</A>
<BR>
CONTROL&nbsp;(4-6): TERMINAL INPUT TRANSLATION
&nbsp;<A HREF="#5.8.8">
5.8.8</A>
<BR>
CONTROL&nbsp;(5): OBTAINING THE FILE LAST BLOCK NUMBER
&nbsp;<A HREF="#5.10.9">
5.10.9</A>
<BR>
CONTROL&nbsp;(6): OBTAINING THE TOTAL NUMBER OF FILE BLOCKS
&nbsp;<A HREF="#5.10.10">
5.10.10</A>
<BR>
CONTROL&nbsp;(7): WRITING AN UPDATED FILE INDEX
&nbsp;<A HREF="#5.10.11">
5.10.11</A>
<BR>
CONTROL&nbsp;(7-9): CARRIAGE CONTROL
&nbsp;<A HREF="#5.8.9">
5.8.9</A>
<BR>
CONTROL&nbsp;(8): ERASING AND RENAMING FILES
&nbsp;<A HREF="#5.10.12">
5.10.12</A>
<BR>
CONTROL&nbsp;(9): ASSIGNING ACCOUNT LEVEL FILE PRIVILEGES
&nbsp;<A HREF="#5.10.13">
5.10.13</A>
<BR>
CONTROL&nbsp;CODES FOR DISPLAY INPUT AND OUTPUT
&nbsp;<A HREF="#5.2.1">
5.2.1</A>
<BR>
COPY&nbsp;THE FCB DSECT.
&nbsp;<A HREF="#6.2.11">
6.2.11</A>
<BR>
COPY&nbsp;THE OPND DSECT.
&nbsp;<A HREF="#6.2.3">
6.2.3</A>
<BR>
CREATE&nbsp;AN OPEN PARAMETER AREA WITH SPECIFIED PARAMETERS
&nbsp;<A HREF="#6.2.4">
6.2.4</A>
<BR>
CREATE&nbsp;COMMAND
&nbsp;<A HREF="#2.3.1">
2.3.1</A>
<BR>
CREATING&nbsp;LOAD MODULES
&nbsp;<A HREF="#3.1">
3.1</A>
<BR>
DEFINING&nbsp;ORVYL PAGE CONTENTS
&nbsp;<A HREF="#5.4.2">
5.4.2</A>
<BR>
DELETE&nbsp;A MEMBER OF AN ORVYL PDS.
&nbsp;<A HREF="#6.2.21">
6.2.21</A>
<BR>
DELETE&nbsp;A RECORD FROM A URAM FILE.
&nbsp;<A HREF="#6.2.8">
6.2.8</A>
<BR>
DETACH:&nbsp;DETACHING DEVICES AND FILES
&nbsp;<A HREF="#5.7.2">
5.7.2</A>
<BR>
DIRECTORY&nbsp;INFORMATION COMMMANDS
&nbsp;<A HREF="#2.6">
2.6</A>
<BR>
DOCUMENT&nbsp;SYMBOL CONVENTIONS
&nbsp;<A HREF="#1.6">
1.6</A>
<BR>
ENTER&nbsp;COMMAND
&nbsp;<A HREF="#3.4.4">
3.4.4</A>
<BR>
ENTRY&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.5">
3.2.5</A>
<BR>
ERASE&nbsp;COMMAND
&nbsp;<A HREF="#2.3.2">
2.3.2</A>
<BR>
ESTABLISH&nbsp;A COMMAND EXIT.
&nbsp;<A HREF="#6.2.26">
6.2.26</A>
<BR>
ESTABLISH&nbsp;ATTN, SVC EXIT ROUTINES
&nbsp;<A HREF="#6.2.25">
6.2.25</A>
<BR>
EXIT&nbsp;COMMAND
&nbsp;<A HREF="#3.4.7">
3.4.7</A>
<BR>
EXIT&nbsp;ROUTINES
&nbsp;<A HREF="#5.5">
5.5</A>
<BR>
EXIT:&nbsp;RETURNING CONTROL TO THE COMMAND LANGUAGE PROCESSOR
&nbsp;<A HREF="#5.13.2">
5.13.2</A>
<BR>
EXPAND&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.6">
3.2.6</A>
<BR>
FBAL&nbsp;COMMAND
&nbsp;<A HREF="#7.7">
7.7</A>
<BR>
FILE&nbsp;ACCESS CONTROLS
&nbsp;<A HREF="#2.4">
2.4</A>
<BR>
FILE&nbsp;FORMAT OPTIONS
&nbsp;<A HREF="#2.2.1">
2.2.1</A>
<BR>
FILE&nbsp;INFORMATION COMMANDS
&nbsp;<A HREF="#2.5">
2.5</A>
<BR>
FILE&nbsp;NAMING CONVENTIONS
&nbsp;<A HREF="#2.2">
2.2</A>
<BR>
FIND&nbsp;A MEMBER OF A ORVYL PDS.
&nbsp;<A HREF="#6.2.20">
6.2.20</A>
<BR>
FREE&nbsp;MEMORY
&nbsp;<A HREF="#6.2.19">
6.2.19</A>
<BR>
GENERAL&nbsp;DEVICE CONTROL
&nbsp;<A HREF="#5.7">
5.7</A>
<BR>
GENERAL&nbsp;ORVYL INFORMATION
&nbsp;<A HREF="#3.6">
3.6</A>
<BR>
GET&nbsp;COMMAND
&nbsp;<A HREF="#2.3.6">
2.3.6</A>
<BR>
GO&nbsp;COMMAND
&nbsp;<A HREF="#4.2.1">
4.2.1</A>
<BR>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
&nbsp;<A HREF="#3.4.3">
3.4.3</A>
<BR>
INCLUDE&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.7">
3.2.7</A>
<BR>
INITIALIZE&nbsp;URAM
&nbsp;<A HREF="#6.2.1">
6.2.1</A>
<BR>
INPUT&nbsp;AND OUTPUT PROTOCOLS
&nbsp;<A HREF="#5.1">
5.1</A>
<BR>
INTERRUPTION&nbsp;CODES
&nbsp;<A HREF="#5.5.2">
5.5.2</A>
<BR>
INTRODUCTION
&nbsp;<A HREF="#1.2">
1.2</A>
<BR>
LINK&nbsp;COMMAND
&nbsp;<A HREF="#3.1">
3.1</A>
<BR>
LINK&nbsp;INPUT AND CONTROL STATEMENTS
&nbsp;<A HREF="#3.2">
3.2</A>
<BR>
LOADFILE&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.11">
3.2.11</A>
<BR>
LOADFILES
&nbsp;<A HREF="#3.3">
3.3</A>
<BR>
LOADING&nbsp;ORVYL PROGRAMS
&nbsp;<A HREF="#3.4">
3.4</A>
<BR>
MACRO&nbsp;CODING AND SYMBOL CONVENTIONS
&nbsp;<A HREF="#5.6">
5.6</A>
<BR>
MACRO&nbsp;EXPANSIONS
&nbsp;<A HREF="#5.6.1">
5.6.1</A>
<BR>
MILCOM:&nbsp;PASSING COMMANDS TO MILTEN ONLY
&nbsp;<A HREF="#5.9.16">
5.9.16</A>
<BR>
MODIFYING&nbsp;USER PROGRAMS
&nbsp;<A HREF="#4.4">
4.4</A>
<BR>
NAME&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.8">
3.2.8</A>
<BR>
OBTAIN&nbsp;A BUFFER FOR A SUBSEQUENT PUT.
&nbsp;<A HREF="#6.2.9">
6.2.9</A>
<BR>
OBTAIN&nbsp;A SPECIFIC URAM ERROR MESSAGE.
&nbsp;<A HREF="#6.2.15">
6.2.15</A>
<BR>
OBTAIN&nbsp;CURRENT RECORD NUMBER OF URAM FILE.
&nbsp;<A HREF="#6.2.23">
6.2.23</A>
<BR>
OBTAIN&nbsp;LIST OF FCB'S
&nbsp;<A HREF="#6.2.13">
6.2.13</A>
<BR>
OBTAIN&nbsp;MEMORY
&nbsp;<A HREF="#6.2.18">
6.2.18</A>
<BR>
OBTAIN&nbsp;THE ADDRESS OF A SPECIFIED FCB.
&nbsp;<A HREF="#6.2.12">
6.2.12</A>
<BR>
OBTAINING&nbsp;USER PROGRAM INFORMATION
&nbsp;<A HREF="#4.3">
4.3</A>
<BR>
OPEN&nbsp;A URAM FILE OR DEVICE.
&nbsp;<A HREF="#6.2.2">
6.2.2</A>
<BR>
ORVCOPY&nbsp;FACILITY
&nbsp;<A HREF="#7.10.1">
7.10.1</A>
<BR>
ORVLOAD&nbsp;FACILITY
&nbsp;<A HREF="#7.10.3">
7.10.3</A>
<BR>
ORVMOVE&nbsp;FACILITY
&nbsp;<A HREF="#7.10.2">
7.10.2</A>
<BR>
ORVYL&nbsp;COMMAND LANGUAGE PROCESSOR (CLP)
&nbsp;<A HREF="#1.4">
1.4</A>
<BR>
ORVYL&nbsp;DEVELOPMENT
&nbsp;<A HREF="#1.3">
1.3</A>
<BR>
ORVYL&nbsp;FILE CREATION
&nbsp;<A HREF="#2.3">
2.3</A>
<BR>
ORVYL&nbsp;FILE INPUT/OUTPUT AND CONTROL
&nbsp;<A HREF="#5.10">
5.10</A>
<BR>
ORVYL&nbsp;FILE STATUS AND RESERVE/RELEASE
&nbsp;<A HREF="#5.11">
5.11</A>
<BR>
ORVYL&nbsp;FILE STRUCTURE
&nbsp;<A HREF="#2.1">
2.1</A>
<BR>
ORVYL&nbsp;MAINTENANCE
&nbsp;<A HREF="#7">
7</A>
<BR>
ORVYL&nbsp;MEMORY MANAGEMENT
&nbsp;<A HREF="#5.4">
5.4</A>
<BR>
ORVYL&nbsp;PROGRAM EVENT RECORDING AND MONITORING
&nbsp;<A HREF="#4.6">
4.6</A>
<BR>
ORVYL&nbsp;PUBLIC PROGRAMS
&nbsp;<A HREF="#1.5">
1.5</A>
<BR>
PAGE&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.9">
3.2.9</A>
<BR>
PANIC:&nbsp;PROGRAM OR SYSTEM INITIATED SESSION BREAK
&nbsp;<A HREF="#5.13.4">
5.13.4</A>
<BR>
PARM&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.1">
3.2.1</A>
<BR>
PATCH&nbsp;CORE COMMAND (PC)
&nbsp;<A HREF="#4.4.1">
4.4.1</A>
<BR>
PATCH&nbsp;FPR COMMAND (PF)
&nbsp;<A HREF="#4.4.3">
4.4.3</A>
<BR>
PATCH&nbsp;GPR COMMAND (PG)
&nbsp;<A HREF="#4.4.2">
4.4.2</A>
<BR>
PATCH&nbsp;IA COMMAND (PIA)
&nbsp;<A HREF="#4.4.4">
4.4.4</A>
<BR>
PATCH&nbsp;PSW COMMAND (PP)
&nbsp;<A HREF="#4.4.5">
4.4.5</A>
<BR>
PATCH&nbsp;SAVEGPR COMMAND (PSG)
&nbsp;<A HREF="#4.4.6">
4.4.6</A>
<BR>
PATCH&nbsp;SAVEIA COMMAND (PSIA)
&nbsp;<A HREF="#4.4.7">
4.4.7</A>
<BR>
PATCH&nbsp;SAVEPSW COMMAND (PSP)
&nbsp;<A HREF="#4.4.8">
4.4.8</A>
<BR>
PAUSE:&nbsp;USER-INITIATED SESSION BREAK
&nbsp;<A HREF="#5.13.3">
5.13.3</A>
<BR>
PLAYMATE&nbsp;COMMANDS
&nbsp;<A HREF="#7.9.1">
7.9.1</A>
<BR>
PLAYMATE&nbsp;ETOA AND ATOE COMMANDS
&nbsp;<A HREF="#7.9.3">
7.9.3</A>
<BR>
PLAYMATE&nbsp;PRIME AND PAD COMMANDS
&nbsp;<A HREF="#7.9.2">
7.9.2</A>
<BR>
PLAYMATE&nbsp;PROGRAM
&nbsp;<A HREF="#7.9">
7.9</A>
<BR>
PLAYMATE&nbsp;SORT COMMAND
&nbsp;<A HREF="#7.9.4">
7.9.4</A>
<BR>
POINT&nbsp;TO A SPECIFIC ACTIVE FILE LINE.
&nbsp;<A HREF="#6.2.24">
6.2.24</A>
<BR>
PROCESS&nbsp;ASSIGN COMMAND TEXT.
&nbsp;<A HREF="#6.2.10">
6.2.10</A>
<BR>
PROGRAM&nbsp;EVENT RECORDING (PROGRAM CONTROL)
&nbsp;<A HREF="#4.6.1">
4.6.1</A>
<BR>
PROGRAM&nbsp;EVENT RECORDING (SET EVENT COMMAND)
&nbsp;<A HREF="#4.6.2">
4.6.2</A>
<BR>
PROGRAM&nbsp;EXECUTION CONTROL
&nbsp;<A HREF="#3.5">
3.5</A>
<BR>
PROGRAM&nbsp;MONITORING (PROGRAM CONTROL)
&nbsp;<A HREF="#4.6.3">
4.6.3</A>
<BR>
PROGRAM&nbsp;MONITORING (SET MONITOR COMMAND)
&nbsp;<A HREF="#4.6.4">
4.6.4</A>
<BR>
PUT&nbsp;COMMAND
&nbsp;<A HREF="#2.3.5">
2.3.5</A>
<BR>
READ&nbsp;A RECORD FROM A URAM FILE OR DEVICE.
&nbsp;<A HREF="#6.2.6">
6.2.6</A>
<BR>
READ,MODE=(EDIT,CHANGES):&nbsp;EDITING THE WYLBUR ACTIVE FILE
&nbsp;<A HREF="#5.9.14">
5.9.14</A>
<BR>
READ,MODE=DISPLAY:&nbsp;DISPLAY TERMINAL INPUT
&nbsp;<A HREF="#5.8.4">
5.8.4</A>
<BR>
READ,MODE=EDIT:&nbsp;ALLOWING WYLBUR TO ISSUE COMMAND PROMPTS
&nbsp;<A HREF="#5.9.13">
5.9.13</A>
<BR>
READ,MODE=TEXT:&nbsp;READING THE WYLBUR ACTIVE FILE
&nbsp;<A HREF="#5.9.11">
5.9.11</A>
<BR>
READ:&nbsp;READING FILE BLOCKS
&nbsp;<A HREF="#5.10.2">
5.10.2</A>
<BR>
READ:&nbsp;RECEIVING A MESSAGE USING A SUZAN PATH
&nbsp;<A HREF="#5.12.2">
5.12.2</A>
<BR>
READ:&nbsp;TERMINAL INPUT
&nbsp;<A HREF="#5.8.2">
5.8.2</A>
<BR>
REENTERING&nbsp;USER PROGRAMS
&nbsp;<A HREF="#4.2">
4.2</A>
<BR>
REGISTER&nbsp;CONTENTS UPON EXIT ROUTINE ENTRY
&nbsp;<A HREF="#5.5.1">
5.5.1</A>
<BR>
RELEASE:&nbsp;RELINQUISH EXCLUSIVE FILE CONTROL
&nbsp;<A HREF="#5.11.29">
5.11.29</A>
<BR>
RENAME&nbsp;COMMAND
&nbsp;<A HREF="#2.3.3">
2.3.3</A>
<BR>
REPLACE&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.10">
3.2.10</A>
<BR>
RESERVE:&nbsp;OBTAINING EXCLUSIVE FILE CONTROL
&nbsp;<A HREF="#5.11.28">
5.11.28</A>
<BR>
RESERVED&nbsp;SENSE MACROS
&nbsp;<A HREF="#5.14.29">
5.14.29</A>
<BR>
RESERVED&nbsp;SET MACROS
&nbsp;<A HREF="#5.13.28">
5.13.28</A>
<BR>
RESERVED&nbsp;STATUS MACROS
&nbsp;<A HREF="#5.11.11">
5.11.11</A>
<BR>
RESERVING&nbsp;AND RELEASING ORVYL PAGES
&nbsp;<A HREF="#5.4.1">
5.4.1</A>
<BR>
RETURN&nbsp;FROM A COMMAND ROUTINE.
&nbsp;<A HREF="#6.2.27">
6.2.27</A>
<BR>
REWIND&nbsp;A URAM FILE.
&nbsp;<A HREF="#6.2.22">
6.2.22</A>
<BR>
SAVE&nbsp;AREA FORMAT
&nbsp;<A HREF="#5.5.3">
5.5.3</A>
<BR>
SENSE&nbsp;(0): RESERVED ADDRESS SPACE STATUS
&nbsp;<A HREF="#5.14.1">
5.14.1</A>
<BR>
SENSE&nbsp;(1): WORK AREA MANAGEMENT STATISTICS
&nbsp;<A HREF="#5.14.2">
5.14.2</A>
<BR>
SENSE&nbsp;(15): PSW AND GPR SAVE AREA
&nbsp;<A HREF="#5.14.11">
5.14.11</A>
<BR>
SENSE&nbsp;(16): PROGRAM EXCEPTION ADDRESS
&nbsp;<A HREF="#5.14.12">
5.14.12</A>
<BR>
SENSE&nbsp;(17): READING THE COMMUNICATIONS AREA
&nbsp;<A HREF="#5.14.13">
5.14.13</A>
<BR>
SENSE&nbsp;(18): IDENTIFYING THE COMMAND USED TO CALL THE PROGRAM
&nbsp;<A HREF="#5.14.14">
5.14.14</A>
<BR>
SENSE&nbsp;(19): PASSING COMMAND PARAMETER STRINGS
&nbsp;<A HREF="#5.14.15">
5.14.15</A>
<BR>
SENSE&nbsp;(2): VIRTUAL MEMORY ADDRESS SPACE LIMITS
&nbsp;<A HREF="#5.14.3">
5.14.3</A>
<BR>
SENSE&nbsp;(21): OBTAINING THE PROGRAM EVENT RECORDING CONTROL BLOCK
&nbsp;<A HREF="#5.14.16">
5.14.16</A>
<BR>
SENSE&nbsp;(22): OBTAINING THE MONITOR MASK
&nbsp;<A HREF="#5.14.17">
5.14.17</A>
<BR>
SENSE&nbsp;(23): REPORTING FILE SYSTEM INFORMATION
&nbsp;<A HREF="#5.14.18">
5.14.18</A>
<BR>
SENSE&nbsp;(24): SENSING THE MEMORY INITIALIZATION VALUE
&nbsp;<A HREF="#5.14.19">
5.14.19</A>
<BR>
SENSE&nbsp;(25): ORVYL CPU TIME
&nbsp;<A HREF="#5.14.20">
5.14.20</A>
<BR>
SENSE&nbsp;(26): OBTAINING THE CURRENT TIME BLOCK
&nbsp;<A HREF="#5.14.21">
5.14.21</A>
<BR>
SENSE&nbsp;(27): OBTAINING THE HASP DISPLAY BUFFERS
&nbsp;<A HREF="#5.14.22">
5.14.22</A>
<BR>
SENSE&nbsp;(28): SENSE ORVYL NAME ORVYL NAME
&nbsp;<A HREF="#5.14.23">
5.14.23</A>
<BR>
SENSE&nbsp;(29): SENSE PROGRAM NAME
&nbsp;<A HREF="#5.14.24">
5.14.24</A>
<BR>
SENSE&nbsp;(3): CURRENT TIME AND DATE
&nbsp;<A HREF="#5.14.4">
5.14.4</A>
<BR>
SENSE&nbsp;(30): OBTAINING DATA ADDRESS FOR SHARED SYMBOL
&nbsp;<A HREF="#5.14.25">
5.14.25</A>
<BR>
SENSE&nbsp;(4): ELAPSED TIME
&nbsp;<A HREF="#5.14.5">
5.14.5</A>
<BR>
SENSE&nbsp;(5): TIME INTERVAL CURRENTLY IN EFFECT
&nbsp;<A HREF="#5.14.6">
5.14.6</A>
<BR>
SENSE&nbsp;(6): MASK BYTE
&nbsp;<A HREF="#5.14.7">
5.14.7</A>
<BR>
SENSE&nbsp;(7): PROGRAM SERVICE PRIORITY
&nbsp;<A HREF="#5.14.8">
5.14.8</A>
<BR>
SENSE&nbsp;(8): USER NAME, ACCOUNT, AND TERMINAL
&nbsp;<A HREF="#5.14.9">
5.14.9</A>
<BR>
SENSE&nbsp;(9-14): REPORTING PROGRAM EXIT ROUTINES, COMPLETION TEST
&nbsp;<A HREF="#5.14.10">
5.14.10</A>
<BR>
SESSION&nbsp;BREAKS
&nbsp;<A HREF="#4.1">
4.1</A>
<BR>
SET&nbsp;(0-2): ADDRESS SPACE MANAGEMENT
&nbsp;<A HREF="#5.13.5">
5.13.5</A>
<BR>
SET&nbsp;(10): RESUMING PROGRAM EXECUTION FROM AN EXIT ROUTINE
&nbsp;<A HREF="#5.13.8">
5.13.8</A>
<BR>
SET&nbsp;(11): SETTING THE MASK BYTE
&nbsp;<A HREF="#5.13.9">
5.13.9</A>
<BR>
SET&nbsp;(12): SETTING ORDER-OF-SERVICE PRIORITY
&nbsp;<A HREF="#5.13.10">
5.13.10</A>
<BR>
SET&nbsp;(13): MODIFYING THE CONTENTS OF THE COMMUNICATIONS AREA
&nbsp;<A HREF="#5.13.11">
5.13.11</A>
<BR>
SET&nbsp;(14): RESERVING ADDITIONAL VIRTUAL MEMORY
&nbsp;<A HREF="#5.13.12">
5.13.12</A>
<BR>
SET&nbsp;(15): RELEASING VIRTUAL MEMORY
&nbsp;<A HREF="#5.13.13">
5.13.13</A>
<BR>
SET&nbsp;(150): CLEAR PSEUDO ACCOUNT
&nbsp;<A HREF="#5.13.28.1">
5.13.28.1</A>
<BR>
SET&nbsp;(16): RESERVING VIRTUAL MEMORY BY SPECIFIC ADDRESS
&nbsp;<A HREF="#5.13.14">
5.13.14</A>
<BR>
SET&nbsp;(17): ENABLING PROGRAM EVENT RECORDING
&nbsp;<A HREF="#5.13.15">
5.13.15</A>
<BR>
SET&nbsp;(18): ENABLING PROGRAM MONITORING
&nbsp;<A HREF="#5.13.16">
5.13.16</A>
<BR>
SET&nbsp;(19): PROTECTING MEMORY AREAS
&nbsp;<A HREF="#5.13.17">
5.13.17</A>
<BR>
SET&nbsp;(20): CANCELLING MEMORY AREA PROTECTION
&nbsp;<A HREF="#5.13.18">
5.13.18</A>
<BR>
SET&nbsp;(21): SYNCHRONIZING COOPERATING ORVYL PROGRAMS (ENQUEUE)
&nbsp;<A HREF="#5.13.19">
5.13.19</A>
<BR>
SET&nbsp;(22): SYNCHRONIZING COOPERATING ORVYL PROGRAMS (DEQUEUE)
&nbsp;<A HREF="#5.13.20">
5.13.20</A>
<BR>
SET&nbsp;(23): SETTING THE MEMORY INITIALIZATION VALUE
&nbsp;<A HREF="#5.13.21">
5.13.21</A>
<BR>
SET&nbsp;(24): SET PROGRAM NAME
&nbsp;<A HREF="#5.13.22">
5.13.22</A>
<BR>
SET&nbsp;(29): SUSPEND PROGRAM EXECUTION
&nbsp;<A HREF="#5.13.25">
5.13.25</A>
<BR>
SET&nbsp;(3-4): SETTING THE TIME INTERVAL
&nbsp;<A HREF="#5.13.6">
5.13.6</A>
<BR>
SET&nbsp;(30): DEFINE NEW SHARED SYMBOL ENTRY
&nbsp;<A HREF="#5.13.26">
5.13.26</A>
<BR>
SET&nbsp;(5-9): ESTABLISHING PROGRAM EXIT ROUTINES
&nbsp;<A HREF="#5.13.7">
5.13.7</A>
<BR>
SET&nbsp;CLP COMMAND
&nbsp;<A HREF="#2.4.4">
2.4.4</A>
<BR>
SET&nbsp;ENTRY COMMAND
&nbsp;<A HREF="#3.4.2">
3.4.2</A>
<BR>
SET&nbsp;FILEMASK COMMAND
&nbsp;<A HREF="#2.4.3">
2.4.3</A>
<BR>
SET&nbsp;NOCLP COMMAND
&nbsp;<A HREF="#2.4.4">
2.4.4</A>
<BR>
SET&nbsp;NOSHARE COMMAND
&nbsp;<A HREF="#2.4.2">
2.4.2</A>
<BR>
SET&nbsp;NOVFILE COMMAND
&nbsp;<A HREF="#7.3">
7.3</A>
<BR>
SET&nbsp;NOVMAINT COMMAND
&nbsp;<A HREF="#7.2">
7.2</A>
<BR>
SET&nbsp;PERMIT COMMAND
&nbsp;<A HREF="#2.4.1">
2.4.1</A>
<BR>
SET&nbsp;REFRESH COMMAND
&nbsp;<A HREF="#7.1">
7.1</A>
<BR>
SET&nbsp;REGION COMMAND
&nbsp;<A HREF="#3.4.8">
3.4.8</A>
<BR>
SET&nbsp;SHARE COMMAND
&nbsp;<A HREF="#2.4.2">
2.4.2</A>
<BR>
SET&nbsp;SPIFILE COMMAND
&nbsp;<A HREF="#2.4.5">
2.4.5</A>
<BR>
SET&nbsp;TIMER COMMAND
&nbsp;<A HREF="#3.5.1">
3.5.1</A>
<BR>
SET&nbsp;TRAP COMMAND (ST)
&nbsp;<A HREF="#4.5.1">
4.5.1</A>
<BR>
SET&nbsp;VADDVOL COMMAND
&nbsp;<A HREF="#7.5">
7.5</A>
<BR>
SET&nbsp;VFILE COMMAND
&nbsp;<A HREF="#7.3">
7.3</A>
<BR>
SET&nbsp;VMAINT COMMAND
&nbsp;<A HREF="#7.2">
7.2</A>
<BR>
SET&nbsp;VREMVOL COMMAND
&nbsp;<A HREF="#7.6">
7.6</A>
<BR>
SETTING&nbsp;PROGRAM TRAPS
&nbsp;<A HREF="#4.5">
4.5</A>
<BR>
SHOW&nbsp;ACCESS COMMAND FOR ACCOUNTS
&nbsp;<A HREF="#2.6.3">
2.6.3</A>
<BR>
SHOW&nbsp;ACCESS COMMAND FOR FILES
&nbsp;<A HREF="#2.5.3">
2.5.3</A>
<BR>
SHOW&nbsp;ADDRESS COMMAND (SA)
&nbsp;<A HREF="#4.3.2">
4.3.2</A>
<BR>
SHOW&nbsp;ALL COMMAND
&nbsp;<A HREF="#4.3.8">
4.3.8</A>
<BR>
SHOW&nbsp;BLOCKS COMMAND FOR ACCOUNTS
&nbsp;<A HREF="#2.6.1">
2.6.1</A>
<BR>
SHOW&nbsp;BLOCKS COMMAND FOR FILES
&nbsp;<A HREF="#2.5.1">
2.5.1</A>
<BR>
SHOW&nbsp;CLP COMMAND
&nbsp;<A HREF="#2.5.5">
2.5.5</A>
<BR>
SHOW&nbsp;CONTENTS COMMAND
&nbsp;<A HREF="#2.6.7">
2.6.7</A>
<BR>
SHOW&nbsp;CORE COMMAND
&nbsp;<A HREF="#3.4.5">
3.4.5</A>
<BR>
SHOW&nbsp;CORE COMMAND (SC)
&nbsp;<A HREF="#4.3.1">
4.3.1</A>
<BR>
SHOW&nbsp;FILEMASK COMMAND
&nbsp;<A HREF="#2.5.6">
2.5.6</A>
<BR>
SHOW&nbsp;FILES ATTACHED COMMAND
&nbsp;<A HREF="#2.6.5">
2.6.5</A>
<BR>
SHOW&nbsp;FILES COMMAND
&nbsp;<A HREF="#2.6.4">
2.6.4</A>
<BR>
SHOW&nbsp;FPR COMMAND (SF)
&nbsp;<A HREF="#4.3.4">
4.3.4</A>
<BR>
SHOW&nbsp;GPR COMMAND (SG)
&nbsp;<A HREF="#4.3.3">
4.3.3</A>
<BR>
SHOW&nbsp;MAP COMMAND
&nbsp;<A HREF="#3.4.6">
3.4.6</A>
<BR>
SHOW&nbsp;PERMITS COMMAND FOR ACCOUNTS
&nbsp;<A HREF="#2.6.2">
2.6.2</A>
<BR>
SHOW&nbsp;PERMITS COMMAND FOR FILES
&nbsp;<A HREF="#2.5.2">
2.5.2</A>
<BR>
SHOW&nbsp;PROGRAMS COMMAND
&nbsp;<A HREF="#2.6.7">
2.6.7</A>
<BR>
SHOW&nbsp;PSW COMMAND (SP)
&nbsp;<A HREF="#4.3.5">
4.3.5</A>
<BR>
SHOW&nbsp;REGION COMMAND
&nbsp;<A HREF="#3.4.9">
3.4.9</A>
<BR>
SHOW&nbsp;SAVEGPR COMMAND (SSG)
&nbsp;<A HREF="#4.3.6">
4.3.6</A>
<BR>
SHOW&nbsp;SAVEPSW COMMAND (SSP)
&nbsp;<A HREF="#4.3.7">
4.3.7</A>
<BR>
SHOW&nbsp;SHARE COMMAND
&nbsp;<A HREF="#2.5.4">
2.5.4</A>
<BR>
SHOW&nbsp;TRAPS COMMAND (STS)
&nbsp;<A HREF="#4.5.2">
4.5.2</A>
<BR>
SHOW&nbsp;VBLOCKS COMMAND
&nbsp;<A HREF="#3.6.3">
3.6.3</A>
<BR>
SHOW&nbsp;VFILES COMMAND
&nbsp;<A HREF="#2.6.6">
2.6.6</A>
<BR>
SHOW&nbsp;VGROUP COMMAND
&nbsp;<A HREF="#3.6.4">
3.6.4</A>
<BR>
SHOW&nbsp;VINFO COMMAND
&nbsp;<A HREF="#3.6.2">
3.6.2</A>
<BR>
SHOW&nbsp;VSYM COMMAND
&nbsp;<A HREF="#3.6.6">
3.6.6</A>
<BR>
SHOW&nbsp;VSYS COMMAND
&nbsp;<A HREF="#3.6.5">
3.6.5</A>
<BR>
SHOW&nbsp;VUSERS COMMAND
&nbsp;<A HREF="#3.6.1">
3.6.1</A>
<BR>
SHOW&nbsp;VVOLUME COMMAND
&nbsp;<A HREF="#7.4">
7.4</A>
<BR>
SHRINK&nbsp;COMMAND
&nbsp;<A HREF="#2.3.4">
2.3.4</A>
<BR>
STATUS&nbsp;(0): ASSIGNING GLOBAL FILE ACCESS
&nbsp;<A HREF="#5.11.1">
5.11.1</A>
<BR>
STATUS&nbsp;(1): ASSIGNING GLOBAL PUBLIC ACCESS
&nbsp;<A HREF="#5.11.2">
5.11.2</A>
<BR>
STATUS&nbsp;(100): CREATE A NEW ACCOUNT
&nbsp;<A HREF="#5.11.11.1">
5.11.11.1</A>
<BR>
STATUS&nbsp;(101): DELETE AN ACCOUNT
&nbsp;<A HREF="#5.11.11.2">
5.11.11.2</A>
<BR>
STATUS&nbsp;(102): RESET SPACE ALLOWED
&nbsp;<A HREF="#5.11.11.3">
5.11.11.3</A>
<BR>
STATUS&nbsp;(103): LIST ACCOUNTS
&nbsp;<A HREF="#5.11.11.4">
5.11.11.4</A>
<BR>
STATUS&nbsp;(104): RESET SPACE USE
&nbsp;<A HREF="#5.11.11.5">
5.11.11.5</A>
<BR>
STATUS&nbsp;(105): DELETE FILE CATALOG ENTRY
&nbsp;<A HREF="#5.11.11.6">
5.11.11.6</A>
<BR>
STATUS&nbsp;(106): READ REAL BLOCK
&nbsp;<A HREF="#5.11.11.7">
5.11.11.7</A>
<BR>
STATUS&nbsp;(107): SET PSEUDO ACCOUNT
&nbsp;<A HREF="#5.11.11.8">
5.11.11.8</A>
<BR>
STATUS&nbsp;(108): SET FILE SYSTEM ACCESS MODE
&nbsp;<A HREF="#5.11.11.9">
5.11.11.9</A>
<BR>
STATUS&nbsp;(109): WRITE REAL BLOCK
&nbsp;<A HREF="#5.11.11.10">
5.11.11.10</A>
<BR>
STATUS&nbsp;(110): UPDATE FILE START BLOCK IN CATALOG
&nbsp;<A HREF="#5.11.11.11">
5.11.11.11</A>
<BR>
STATUS&nbsp;(111): READ CATALOG ENTRY
&nbsp;<A HREF="#5.11.11.12">
5.11.11.12</A>
<BR>
STATUS&nbsp;(112): GET FILE SYSTEM ID AND NAME
&nbsp;<A HREF="#5.11.11.13">
5.11.11.13</A>
<BR>
STATUS&nbsp;(113): CONVERT GROUP TO FILE SYSTEM ID
&nbsp;<A HREF="#5.11.11.14">
5.11.11.14</A>
<BR>
STATUS&nbsp;(114): GET FILE SYSTEM/GROUP TABLE
&nbsp;<A HREF="#5.11.11.15">
5.11.11.15</A>
<BR>
STATUS&nbsp;(115): READ REAL BLOCK HEADER
&nbsp;<A HREF="#5.11.11.16">
5.11.11.16</A>
<BR>
STATUS&nbsp;(116): GET A CONTIGUOUS RANGE OF BLOCKS
&nbsp;<A HREF="#5.11.11.17">
5.11.11.17</A>
<BR>
STATUS&nbsp;(2): READING FILE NAMES, CREATION DATE, AND LAST USE
&nbsp;<A HREF="#5.11.3">
5.11.3</A>
<BR>
STATUS&nbsp;(3): DETECTING ACCOUNT LEVEL ACCESS PRIVILEGES
&nbsp;<A HREF="#5.11.4">
5.11.4</A>
<BR>
STATUS&nbsp;(4): OBTAINING CURRENT SPACE AND USAGE STATISTICS
&nbsp;<A HREF="#5.11.5">
5.11.5</A>
<BR>
STATUS&nbsp;(5): EXTEND A NON-IXR FILE
&nbsp;<A HREF="#5.11.6">
5.11.6</A>
<BR>
STATUS&nbsp;(6): ALLOCATING A NON-IXR FILE
&nbsp;<A HREF="#5.11.7">
5.11.7</A>
<BR>
STATUS&nbsp;(7): ALLOCATING A HYBRID FILE
&nbsp;<A HREF="#5.11.8">
5.11.8</A>
<BR>
SUZAN&nbsp;PATH INPUT/OUTPUT
&nbsp;<A HREF="#5.12">
5.12</A>
<BR>
SYSLIB&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.12">
3.2.12</A>
<BR>
TERMINAL&nbsp;INPUT AND OUTPUT
&nbsp;<A HREF="#5.2">
5.2</A>
<BR>
TERMINAL&nbsp;INPUT/OUTPUT AND CONTROL
&nbsp;<A HREF="#5.8">
5.8</A>
<BR>
TURN&nbsp;ON OR SUPPRESS URAM ERROR MESSAGES.
&nbsp;<A HREF="#6.2.14">
6.2.14</A>
<BR>
URAM&nbsp;DESCRIPTION
&nbsp;<A HREF="#6.1">
6.1</A>
<BR>
URAM&nbsp;II MACROS
&nbsp;<A HREF="#6.2">
6.2</A>
<BR>
USER&nbsp;FILE MAINTENANCE FACILITIES
&nbsp;<A HREF="#7.10">
7.10</A>
<BR>
USER&nbsp;PROGRAM CONTROL
&nbsp;<A HREF="#5.13">
5.13</A>
<BR>
USER&nbsp;PROGRAM INFORMATION
&nbsp;<A HREF="#5.14">
5.14</A>
<BR>
WAIT&nbsp;(0): SUSPENDING PROGRAM EXECUTION WHILE AWAITING INTERRUPTS
&nbsp;<A HREF="#5.13.29">
5.13.29</A>
<BR>
WAIT:&nbsp;GENERAL SYNCHRONIZATION
&nbsp;<A HREF="#5.7.3">
5.7.3</A>
<BR>
WRITE&nbsp;A RECORD TO A URAM FILE OR DEVICE.
&nbsp;<A HREF="#6.2.7">
6.2.7</A>
<BR>
WRITE,MODE=DISPLAY:&nbsp;DISPLAY TERMINAL OUTPUT
&nbsp;<A HREF="#5.8.5">
5.8.5</A>
<BR>
WRITE,MODE=EDIT:&nbsp;PASSING WYLBUR AND MILTEN COMMANDS
&nbsp;<A HREF="#5.9.15">
5.9.15</A>
<BR>
WRITE,MODE=TEXT:&nbsp;WRITING TO THE WYLBUR ACTIVE FILE
&nbsp;<A HREF="#5.9.12">
5.9.12</A>
<BR>
WRITE:&nbsp;SENDING A MESSAGE USING A SUZAN PATH
&nbsp;<A HREF="#5.12.3">
5.12.3</A>
<BR>
WRITE:&nbsp;TERMINAL OUTPUT
&nbsp;<A HREF="#5.8.3">
5.8.3</A>
<BR>
WRITE:&nbsp;WRITING FILE BLOCKS
&nbsp;<A HREF="#5.10.3">
5.10.3</A>
<BR>
WYLBUR&nbsp;ACTIVE FILE
&nbsp;<A HREF="#2.2.2">
2.2.2</A>
<BR>
WYLBUR&nbsp;ACTIVE FILE AS AN EXTENSION OF THE TERMINAL
&nbsp;<A HREF="#5.3.1">
5.3.1</A>
<BR>
WYLBUR&nbsp;INPUT AND OUTPUT
&nbsp;<A HREF="#5.3">
5.3</A>
<BR>
WYLBUR&nbsp;INPUT/OUTPUT AND CONTROL
&nbsp;<A HREF="#5.9">
5.9</A>
<BR>
WYLBUR&nbsp;PREST FORMAT
&nbsp;<A HREF="#5.9.1">
5.9.1</A>
<BR>
ZAPNAME&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.13">
3.2.13</A>
<BR>
ZAPREP&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.15">
3.2.15</A>
<BR>
ZAPVER&nbsp;STATEMENT
&nbsp;<A HREF="#3.2.14">
3.2.14</A>
<BR>
</BODY></HTML>
