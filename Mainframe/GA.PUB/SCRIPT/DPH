
                                                        +-------+
                                                        |  .PH  |
                                                        +-------+

PHOTO FONT  defines character sets  and fonts for  output devices
with multiple font capabilities.

     +-------+---------------------------------------------+
     |       |                                             |
     |       |    <ON fontid>                              |
     |       |    <ichar font# wid ochar>                  |
     |  .PH  |    <OFF fontid>                             |
     |       |    <CHANGE fontid ichar font# wid ochar>    |
     |       |    <DUMP  <fontid <...>>>                   |
     |       |    <SET n>                                  |
     |       |                                             |
     +-------+---------------------------------------------+

This control word  does not cause a break.    It defines "Logical
Fonts" of  characters that  may be  selected by  the Define  Font
command in  conjunction with the control  words that are  used to
emphasize text.   The first is a Roman or Normal font,  used by a
normal character  in an  input text  record.   The  second is  an
Italic font,   used whenever  a character  is underscored.    The
underscoring might exist  in the original input or  be the result
of an Underscore (.US) or Underscore and Capitalize (.UC) control
word.  The third is a Bold font, used whenever an input character
is overstruck with itself.   This can be done with the Bold (.BD)
control word.  The fourth automatic font is the Bold Italic font.
A  Bold Italic  character is  one  that is  both overstruck  with
itself and  underscored,  as happens  with the Bold  Italic (.BI)
control word.

<.B+><.U+>Logical Font Definitions<.NORMAL>

<.B+>fontid <FROM m TO n>:  <.B->A logical font of characters is defined by<.NORMAL>
   the name of the font.   The name may consist of up to 32 arbi-
   trary characters  and is treated  as if entered  in uppercase.
   Following the fontid,  FROM with a minimum pointsize value for
   the font  may be  specified and  TO with  a maximum  pointsize
   value for the font.  The fontid and its minimum/maximum point-
   size together  define the  actual name for  the font.    It is
   possible thus to have a font  with name "TIMES-ROMAN FROM 5 TO
   10" and another with name "TIMES-ROMAN FROM 11 TO 20".

      The "m"  and "n"  pointsize operands  default to  4 and  72
   points, respectively.  One "point" is roughly equal to 1/72 of
   an inch.   Whenever the fontid is selected, the desired point-
   size is matched with the minimum  and maximum pointsize of the
   font definition.
<.B+>ON fontid:   <.B->A logical  font of  characters is  defined beginning<.NORMAL>
   with ".PH ON" followed by the name of the font.

<.B+>OFF  fontid:   <.B->A ".PH OFF"  control  word  with a  "fontid"  that<.NORMAL>
   matches the previous ".PH ON" control word "fontid" closes the
   font definition,  and invalidates further  use of the .PH with
   the  four character-definition  operands  until after  another
   ".PH ON" occurs.
<.B+>DUMP <fontid <...>>:  <.B->displays at the  terminal,  for each of the<.NORMAL>
   specified "fontid"s, a table showing each of the characters in
   that font, its font number,  relative width,  and output char-
   acter.  If no fontid operand is specified, all known fonts are
   displayed.

<.B+><.U+>Character Definitions<.NORMAL>

<.B+>ichar font# wid ochar:  <.B->After a ".PH ON",  the characters in this<.NORMAL>
   font are  defined by  multiple ".PH"  control words  with four
   operands:
<.B+>ichar:  <.B->The first, "ichar",  is the single character or two hexa-<.NORMAL>
   decimal digits that  define a character that will  be valid in
   the input  text.   The  Backspace Character  (X'16')  and  the
   Escape Character (X'27')  may not  be defined as input charac-
   ters.
<.B+>font#:  <.B->The second operand, "font#",  is the physical font number<.NORMAL>
   in which the input character is to be found.   The font number
   may range  from 0 to  32,767.   A font  number of 0  means the
   character is  not in any particular  font but really  in every
   font (a space or blank is normally such a character).
<.B+>wid:  <.B->The  third operand,  "wid",  is  the relative width  of the<.NORMAL>
   character.   The  relative width  multiplied by  the pointsize
   expresses,  how  wide the  character actually  is in  absolute
   units.   The  width of a character  may vary from 0  to 32767.
   Only an accent character that appears  on top of another char-
   acter might have a relative width  of 0.   A relative width of
   minus one  is reserved  to indicate  an undefined  input char-
   acter.
<.B+>ochar:  <.B->The last operand, "ochar",  is the character in character<.NORMAL>
   or hex to  which the original input character is  to be trans-
   lated for output.  The letter "A" as an output character might
   be the letter "A" on font number one,  but on font number five
   the  corresponding location  could  represent another  special
   character.
<.B+>ichar <ALL|CTL|ALPHA|NUM>:  <.B->If the input  character is "ALL" then<.NORMAL>
   all characters  in the  font are  defined have  identical font
   numbers,  widths and output characters.    "CTL" refers to the
   Control Characters less than a blank (X'40').  "ALPHA" selects
   all lowercase and uppercase alphabetic characters and "NUM" is
   the numeric digits from '0' to  '9'.   If one of these special
   values  is used  as "ichar"  then  the specifying  '=' as  the
   "ochar" defines  the Output  Character to be  the same  as the
   Input Character.
<.B+>CHANGE fontid ichar font# wid ochar:  <.B->re-defines one character in<.NORMAL>
   the  specified "fontid".    This is  useful when  you want  to
   access many  special characters  one at a  time but  you don't
   have enough  characters on your  terminal to account  for them
   all at once.

<.B+><.U+>Definition of Device Units<.NORMAL>

<.B+>SET n:  <.B->defines  the number of relative units in  one "em space".<.NORMAL>
   This value varies with the  target typesetter,  but values 18,
   54 and 100 relative units in one "em space" are common.   This
   value <.U+>must<.U-> <.U->be set before any input text can be processed.  The<.NORMAL>
   value may be reset to the same value many times, but may never
   be changed after it is set.

The System Set Symbol &SYSFONTS has as its value the names of all
currently-defined fonts,  each separated by  a blank.   It may be
used to conveniently DUMP all current fonts.

     +-------+---------------------------------------------+
     |       |                                             |
     |       |    <CODEPAGE cp-id>                         |
     |       |    <ichar rel# ochar>                       |
     |  .PH  |    <END cp-id>                              |
     |       |    <CHANGE cp-id ichar rel# ochar>          |
     |       |    <DUMP  <cp-id <...>>>                    |
     |       |    <FONT   fontid <CODEPAGE cp-id> <n|* ...>>
     |       |    <SET n>                                  |
     |       |                                             |
     +-------+---------------------------------------------+

This is  an alternate implementation  for the ".PH"  control word
that is only  supported by the IP300,  I3820  and QMSLASER output
devices.

   This control word does not cause a break.  It defines "Logical
Fonts" of  characters that  may be  selected by  the Define  Font
command in  conjunction with the control  words that are  used to
emphasize text.   The first is a Roman or Normal font,  used by a
normal character  in an  input text  record.   The  second is  an
Italic font,   used whenever  a character  is underscored.    The
underscoring might exist  in the original input or  be the result
of an Underscore (.US) or Underscore and Capitalize (.UC) control
word.  The third is a Bold font, used whenever an input character
is overstruck with itself.   This can be done with the Bold (.BD)
control word.  The fourth automatic font is the Bold Italic font.
A  Bold Italic  character is  one  that is  both overstruck  with
itself and  underscored,  as happens  with the Bold  Italic (.BI)
control word.

<.B+><.U+>Logical Font Definitions<.NORMAL>

<.B+>FONT fontid  <CODEPAGE cp-id> n|* <n|*  ...>:  <.B->A logical  font of<.NORMAL>
   characters is defined by the name  of a fontid.   The name may
   consist of up to 32 arbitrary  characters and is treated as if
   entered in  uppercase.   The  codepage definition  defines how
   input characters are to be mapped into the character positions
   of the physical  fonts.   Up to ten physical  font numbers "n"
   may be  specified or an asterisk  "*" which indicates  no font
   exists in this position.   The  codepage mapping selects these

   physical font numbers by their position in the list.   "+1" is
   the first, "+2" is the second, etc.

<.B+><.U+>Codepage Definitions<.NORMAL>

<.B+>CODEPAGE cp-id:  <.B->A logical font  of characters requires a defini-<.NORMAL>
   tion of  how the  input characters  are to  be defined  in the
   physical fonts  of the printer.   A  'cp-id' is the name  of a
   table that maps the input  characters into character positions
   of one  or more physical  fonts.   A "cp-id"  may be up  to 32
   characters long and is treated as if it were entered in upper-
   case.
<.B+>END cp-id:  <.B->A ".PH END" control word  with a "cp-id" that matches<.NORMAL>
   the previous  ".PH CODEPAGE" control  word "cp-id"  closes the
   codepage definition,  and  invalidates further use of  the .PH
   with  the  three  character-definition  operands  until  after
   another ".PH CODEPAGE" occurs.
<.B+>DUMP <cp-id <...>>:   <.B->displays at the terminal,  for  each of the<.NORMAL>
   specified codepages, a table showing each of the characters in
   that font, its relative font number, and output character.  If
   no  cp-id  operand  is specified,   all  known  codepages  are
   displayed.

<.B+><.U+>Character Definitions<.NORMAL>

<.B+>ichar rel# ochar:  <.B->After a ".PH CODEPAGE", the characters in this<.NORMAL>
   font are  defined by multiple  ".PH" control words  with three
   operands:
<.B+>ichar:  <.B->The first, "ichar",  is the single character or two hexa-<.NORMAL>
   decimal digits that  define a character that will  be valid in
   the input  text.   The  Backspace Character  (X'16')  and  the
   Escape Character (X'27')  may not  be defined as input charac-
   ters.
<.B+>rel#:  <.B->The second operand, "rel#", is the relative font number in<.NORMAL>
   which the input character is to be found.  The font number may
   range from +0 to +10.  A font number of +0 means the character
   is not  in any  particular font  but really  in every  font (a
   space or blank is normally such a character).
<.B+>ochar:  <.B->The last operand,  "ochar",  is the character position in<.NORMAL>
   the physical font to which the  original input character is to
   be translated.  The letter "A" as an output character might be
   the letter "A" on relative font number one, but on font number
   five  the  corresponding  location   could  represent  another
   special character.
<.B+>ichar <ALL|CTL|ALPHA|NUM>:  <.B->If the input  character is "ALL" then<.NORMAL>
   all characters  in the  font are  defined have  identical font
   numbers,  widths and output characters.    "CTL" refers to the
   Control Characters less than a blank (X'40').  "ALPHA" selects
   all lowercase and uppercase alphabetic characters and "NUM" is
   the numeric digits from '0' to  '9'.   If one of these special
   values  is used  as "ichar"  then  the specifying  '=' as  the
   "ochar" defines  the Output  Character to be  the same  as the
   Input Character.

<.B+>CHANGE cp-id ichar  rel# ochar:  <.B->re-defines one  character in the<.NORMAL>
   specified "cp-id".    This is useful  when you want  to access
   many  special characters  one at  a  time but  you don't  have
   enough characters on your terminal to  account for them all at
   once.

<.B+><.U+>Definition of Device Units<.NORMAL>

<.B+>SET n:  <.B->defines  the number of relative units in  one "em space".<.NORMAL>
   This value varies with the  target typesetter,  but values 18,
   54 and 100 relative units in one "em space" are common.   This
   value <.U+>must<.U-> <.U->be set before any input text can be processed.  The<.NORMAL>
   value may be reset to the same value many times, but may never
   be changed after it is set.

<.U+>NOTES<.NORMAL>
(1) The System Set  Symbol &SYSCPAGES has as its  value the names
    of all defined cp-ids, each separated by a blank.   It may be
    used to conveniently DUMP all current codepages.

<.U+>EXAMPLES<.NORMAL>
(1) .PH CODEPAGE standard
    .PH A  +1 A ;.* the letter A
    .PH AF +3 82;.* the bullet
    .PH END standard
    .PH FONT aaa CODEPAGE standard 101 * 937
    .PH FONT bbb CODEPAGE standard 501 * 937

    This example defines  a cp-id called "STANDARD"  containing a
    definition  for two  input characters  'A'  and X'AF'.    The
    logical font  "AAA" will select  character 'A'  from physical
    font number 101 and the bullet  from physical font number 937
    at  character position  X'82'.   Logical  font "BBB"  selects
    character  'A' from  physical font  number 501  and the  same
    character position and the bullet from the same physical font
    and position as "AAA".

