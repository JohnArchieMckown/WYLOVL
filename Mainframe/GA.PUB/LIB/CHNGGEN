SET EXE NOL TER ; JDN$GG (AND JDN$SF!) 3/75
COMM    CHNGGEN EXEC FILE AS OF SEP 9,76
IF(L NE 0)REA PRO 'ENTER SAVE FOR ACTIVE FILE, OR (CR=YES) TO CLEAR? '
COMM
SET VAL N9 LENGTH
SET LENGTH 71
SET VAL S7 ESC
SET VAL S6 CASE
SET UPPER
SET ESC &
,       L 50/150 UNN EXEC
,       REA STR S0 PRO'OLDDECK,OLDVOL? '
EXEC 1000 SAVE
EXEC 8
SET VAL S8 S0
SET VAL S9 S1
,       REA STR S0 PRO 'NEWDECK,NEWVOL? '
EXE 1000 SAV
EXEC 15
CLR ACT
END // JOB ,'CHNGGEN COMPARE',CLASS=E
END //COMPARE  EXEC PGM=CHNGGEN,REGION=450K   (CORE HOG)
END //SYSPRINT DD   SYSOUT=A
END //SYSPUNCH DD   DUMMY,DCB=BLKSIZE=80
END //OLDDECK  DD   DSNAME=&S8,
IF (S9 NE '') END //         VOL=SER=&S9,UNIT=DISK,
END //         DISP=SHR
END //NEWDECK  DD   DSNAME=&S0,
IF (S1 NE '') END //         VOL=SER=&S1,UNIT=DISK,
END //         DISP=SHR
REA STR S0 PRO'DO YOU WANT PUNCHED OUTPUT (YES/NO)'
SET VAL N1=INDEX(S0,'YES')
IF(N1 NE 0)CH'DUMMY,DCB=BLKSIZE=80'TO'SYSOUT=B'N
IF(N1 NE 0)CH'DUMMY,DCB=BLKSIZE=80'TO'SYSOUT=B'N
SET VAL N1=INDEX(S0,'OK')
IF(N1 NE 0)CH'DUMMY,DCB=BLKSIZE=80'TO'SYSOUT=B'N
IF(N1 NE 0)CH'DUMMY,DCB=BLKSIZE=80'TO'SYSOUT=B'N
IF (SUBSTR(S9,1,3) EQ 'SCR') CHA 'DISK' TO 'SYSDA' NOL IN 1/6
IF (SUBSTR(S1,1,3) EQ 'SCR') CHA 'DISK' TO 'SYSDA' NOL IN 7/L
SET LENGTH &N9
SET CASE   &S6
SET ESC    &S7
COMM
COMM THE PROGRAM IS IN YOUR ACTIVE FILE AND READY TO RUN
COMM LIST AND CHECK FOR TYPO ERRORS, THEN TYPE RUN
COMM (CHNGGEN DONE)
CLE EXE
ENTER THE DSNAME (FULL DSNAME IF IT IS NOT YOURS OR A NON-STANDARD
DSNAME) OF THE "OLD SOURCE" FOLLOWED BY THE VOLUME ON WHICH IT
RESIDES.  IF THE VOLUME IS OMITTED CATLG WILL BE ASSUMED.

DECK (OLD) IS COMPARED WITH DECK (NEW) AND THE CHANGES MADE TO DECK
(NEW) ARE LISTED AND ALSO PUNCHED!! (IF DESIRED) AS AN IEBUPDTE
DECK TO UPDATE DECK (OLD).

THE DECKS MUST BE ON DISK IN CARD IMAGE OR EDIT FORMAT
SEPARATE THE DECKNAME AND VOLUME BY A , OR SPACE.

ENTER THE DSNAME (FULL DSNAME IF IT IS NOT YOURS OR A NON-STANDARD
DSNAME) OF THE "NEW SOURCE" FOLLOWED BY THE VOLUME ON WHICH IT
RESIDES.  IF THE VOLUME IS OMITTED CATLG IS ASSUMED.

,       SET VAL S0 SUB(S0,VER(S0||'X',' =,'))
SET VAL S1 S0
SET VAL S0 SUB(S0,1,FIN(S0||' ',' =,')-1)
IF (S0 EQ '') EXEC RETURN ; NO DSNAME -- GIVE USER HELP
IF (S0 NE '?') EXE 1005
EXE RETU
,       IF (SUB(S0,1,4) EQ 'WYL.') EXE 1010
IF (SUB(S0,1,1) EQ '$') EXEC 1009
SET VAL S0 'WYL.'||GRO||'.'||USE||'.'||S0 ; CREATE FULL DS
EXE 1010
,       SET VAL S0 SUB(S0,2)
,       SET VAL S1 SUB(S1,FIND(S1||' ',' =,'))
SET VAL S1 SUB(S1,VER(S1||'X',' =,'))
SET VAL S1 SUB(S1,1,FIN(S1||' ',' =,')-1)
IF (SUB(S1,1,3) EQ 'CAT') SET VAL S1 ''
EXE RETU+.001
