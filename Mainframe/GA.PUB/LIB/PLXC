SET EXEC NOLOG TERSE
SET VALUE S9 = ESCAPE
SET ESCAPE = '&'
COMMENT -- EXEC FILE TO GENERATE JCL FOR PLX --
READ STRING S1 UPPER PROMPT 'SOURCE PROGRAM NAME (CR=NOW IN ACTIVE FILE) =? '
IF (S1 NE '') USE &S1 CLR
IF (FIRST GE .01) EXEC 9
READ STRING S1 UPPER PROMPT 'LINES .001/.009 MUST BE EMPTY. TYPE "YES" TO RENUMBER? '
IF (SUBSTR(S1,1,1) NE 'Y') EXEC 200
NUM
.001 //   JOB        ,REGION=512K,TIME=(,15)
.003 //  EXEC PLIXC,
.004 //   PARM='OPT(0),XREF,NOOPTIONS,NOAGGREGATE,NOSTORAGE'
.005 //PLI.SYSLIN DD UNIT=DISK,DISP=(NEW,KEEP),
.006 //  SPACE=(TRK,(2,2),RLSE),DSN=XX
.008 //SYSIN DD *
READ STRING S1 UPPER PROMPT 'DO YOU WANT SOURCE COLUMNS CHECKED? '
IF (SUBSTR(S1,1,1) NE 'Y') EXEC 16
POINT ~'        '73/80 AND ~'' IN .1/L NOLIST
IF (CURRENT GE 0) EXEC 100
POINT ~' '1/1 AND ~'' IN .1/L NOLIST
IF (CURRENT GE 0) EXEC 120
READ STRING S1 UPP PRO '(O)PTIMIZE, (S)TANDARD OR (D)EBUG COMPILE (CR=STANDARD) =? '
IF (SUBSTR(S1,1,1) EQ 'D') EXEC 300
IF (SUBSTR(S1,1,1) EQ 'O') CH 'OPT(0)' TO 'OPT(2)' IN .004 NOLIST
READ STRING S1 UPPER PROMPT 'NAME FOR THE COMPILED MODULE (CR=CALL IT "TEMPOBJ") =? '
IF (S1 EQ '') SET VALUE S1 = 'TEMPOBJ'
IF (SUBSTR(S1,1,4) NE 'WYL.') SET VAL S1 = 'WYL.'||GROUP ||'.'||USER ||'.'||S1
CH 'XX' TO '&S1' IN .006 NOLIST
READ STRING S1 UPPER PROMPT 'VOLUME FOR THE COMPILED MODULE (CR=ANY VOLUME IS OK) =? '
IF (S1 NE '') EXEC 25
CH 'NEW,KEEP' TO 'NEW,CATLG' IN .005 NOLIST
COMM THE COMPILED MODULE WILL BE CATALOGED.
EXEC 26
IF (S1 NE '') CH '     ' TO 'VOL=SER=&S1,' IN .005 NOLIST
if (s1 eq 'SCR002') cha 'DISK' to 'SYSDA' in .005 NOL
if (s1 eq 'SCR001') cha 'DISK' TO 'SYSDA' IN .005 NOL
READ STRING S1 UPPER PROMPT 'OPTIONAL JOB CARD (CR=STANDARD 512K REGION & 15 SEC LIMIT)=?'
IF (SIZE(S1) GT 6) .001 &S1
RUN NUM HOLD
COMM YOUR JOB HAS BEEN SUBMITTED AND WILL BE IN PRINT HOLD AFTER EXECUTION.
EXEC 200
COMM SOME LINE(S) LONGER THAN 72 CHARACTERS, FOR EXAMPLE:
EXEC 150
COMM SOME LINES(S) NOT BLANK IN COLUMN 1, FOR EXAMPLE:
LIST *
READ STRING S1 UPPER PROMPT 'DO YOU WANT TO RUN ANYWAY? '
IF (SUBSTR(S1,1,1) EQ 'Y') EXEC 16
SET ESCAPE =     &S9
CLEAR EXEC
DEL .005 .006
.003 //  EXEC PLIXC,
.004 //  PARM='NOOPTIONS,NOATTRIBUTES,NOXREF,NAG,NSTG,NOCOMPILE'
RUN NUM HOLD
COMM YOUR JOB HAS BEEN SUBMITTED AND WILL BE IN PRINT HOLD AFTER EXECUTION.
COMM YOU MUST COMPILE THIS PROGRAM AGAIN WITH THE OPTIMIZE OR STANDARD OPTION
COMM     BEFORE YOU CAN CREATE A PLX PROGRAM. (BUT YOU KNEW THAT, RIGHT?)
DEL .001/.008
EXEC 200
