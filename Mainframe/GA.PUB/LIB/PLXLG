SET EXEC NOLOG TERSE
SET VALUE S9 = ESCAPE
SET ESCAPE = '&'
COMMENT --EXEC FILE TO LINK PLX PROGRAMS--
IF (FIRST LE 0) EXEC 6
READ STRING S0 USING FIRST
IF (SUBSTR(S0,2,3) EQ 'ESD') EXEC 1
COMMENT ACTIVE FILE CONTAINS SOMETHING OTHER THAN AN OBJECT DECK
READ STRING S0 PROMPT ' CLEAR ACTIVE FILE (Y OR N)? '
IF (UPPER(SUBSTR(S0,1,1)) NE 'Y') EXEC 510
CLR TEXT
EXEC 6
IF (FIRST GE .3) EXEC 6
READ STRING S0 PROMPT 'LINES .001 - .3 MUST BE EMPTY. OK TO RENUMBER? '
IF (UPPER(SUBSTR(S0,1,1)) NE 'Y') EXEC 510
NUM
.001 PARM LET,NOWARN,OSNT,SIZE=64K
.002 ENTRY PLISTART
READ STRING S5 PROMPT 'PROGRAM NAME (CR=NONE,RUN NOW)? '
IF (S5 EQ '') EXEC 13
IF (INDEX(S5,'#') EQ 0) EXEC 11
COMMENT DO NOT USE THE "/" OR THE "#" ANYMORE, THE PROGRAM NAME
COMMENT     AND THE LIBRARY NAME AND THE OBJECT MODULES ARE
COMMENT     SEPARATE REPLIES NOW.   TRY AGAIN.
EXEC 9
READ STRING S0 PROMPT 'LIBRARY NAME (CR=PROGLIB)? '
IF (S0 NE '') .003 LOADFILE &S0
READ STRING S0 PROMPT 'OBJECT MODULES TO INCLUDE (CR=NONE)? '
SET VALUE W0 = .1
SET VALUE W0 = W0+.001
SET VALUE N1 = INDEX(S0,',')
IF (N1 EQ 0) EXEC 28
&W0 INCLUDE &(SUBSTR(S0,1,N1-1))
SET VALUE S0 = SUBSTR(S0,N1+1)
EXEC 21
IF (S0 NE '') &W0 INCLUDE &S0
.2  INCLUDE ORV.GG.PLX.IBMBPGR1
.21 INCLUDE ORV.GG.PLX.IBMBPIR1
.22 INCLUDE ORV.GG.PLX.IBMBPII1
.23 INCLUDE ORV.GG.PLX.IBMBERR1
COMMENT --LINK PROCESS BEGINNING--
LINK ACTIVE CLEAR
CLR TEXT
DUMP MAP EXTRN
POINT 'OPEN    ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1001 INCLUDE ORV.GG.PLX.IBMXOPEN
POINT 'CLOSE   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1002 INCLUDE ORV.GG.PLX.IBMXCLOS
POINT 'PROMPT  ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1003 INCLUDE ORV.GG.PLX.IBMXPROM
POINT 'PRINT   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1004 INCLUDE ORV.GG.PLX.IBMXPRIN
POINT 'READ    ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1005 INCLUDE ORV.GG.PLX.IBMXREAD
POINT 'READSEQ ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1006 INCLUDE ORV.GG.PLX.IBMXRSEQ
POINT 'WRITE   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1007 INCLUDE ORV.GG.PLX.IBMXWRIT
POINT 'CONTROL ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1008 INCLUDE ORV.GG.PLX.IBMXCONT
POINT 'COMMAND ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1009 INCLUDE ORV.GG.PLX.IBMXCOMM
POINT 'BTRIM   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1010 INCLUDE ORV.GG.PLX.IBMXBTRI
POINT 'SCAN    ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1011 INCLUDE ORV.GG.PLX.IBMXSCAN
POINT 'SCANSUB ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1012 INCLUDE ORV.GG.PLX.IBMXSSUB
POINT 'RITESUB ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1013 INCLUDE ORV.GG.PLX.IBMXRSUB
POINT 'LEFTSUB ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1014 INCLUDE ORV.GG.PLX.IBMXLSUB
POINT 'REVSUB  ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1015 INCLUDE ORV.GG.PLX.IBMXRVSB
POINT 'SCOUNT  ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1016 INCLUDE ORV.GG.PLX.IBMXSCOU
POINT 'REVSCAN ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1017 INCLUDE ORV.GG.PLX.IBMXREVS
POINT 'READW   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1018 INCLUDE ORV.GG.PLX.IBMXREAW
POINT 'WRITEW  ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1019 INCLUDE ORV.GG.PLX.IBMXWRIW
POINT 'READE   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1020 INCLUDE ORV.GG.PLX.IBMXREAE
POINT 'SCREEN  ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1020 INCLUDE ORV.GG.PLX.IBMXSCRE
POINT 'READB   ' 1/8 IN F/999 NOLIST
IF (CURRENT NE -1) 1018 INCLUDE ORV.GG.PLX.IBMXREAB
POINT 'HIGHKEY' 1/7  IN F/999 NOLIST
IF (CURRENT EQ -1) EXEC 95.1
1050 INCLUDE ORV.GG.PLX.IBMXHIGH
1005 INCLUDE ORV.GG.PLX.IBMXREAD
1006 INCLUDE ORV.GG.PLX.IBMXRSEQ
1008 INCLUDE ORV.GG.PLX.IBMXCONT
POINT 'READV' 1/5 IN F/999 NOLIST
IF (CURRENT EQ -1) EXEC 95.5
1053 INCLUDE ORV.GG.PLX.IBMXRDVB
1005 INCLUDE ORV.GG.PLX.IBMXREAD
POINT 'WRITEV' 1/6 IN F/999 NOLIST
IF (CURRENT EQ -1) EXEC 99
1054 INCLUDE ORV.GG.PLX.IBMXWRVB
1005 INCLUDE ORV.GG.PLX.IBMXREAD
1007 INCLUDE ORV.GG.PLX.IBMXWRIT
1008 INCLUDE ORV.GG.PLX.IBMXCONT
DEL F/999
LINK ACTIVE
CLR TEXT
DUMP MAP EXTRN
DEL FIRST
DEL 'BREAK ' OR 'PLIXOPT ' OR 'IBMBSTAB ' OR 'SYSPINT ' OR 'IBMBPOPT' IN ALL
DEL 'PLIFLOW ' OR 'PLIXHD ' OR 'IBMBEATA' OR 'TIMEOUT ' IN ALL
DEL 'PLICOUNT ' OR 'PLITABS ' OR 'PLIXHD ' IN ALL
IF (LAST EQ 0) EXEC 500
CH 'UNDEFINED' TO '' IN ALL NOL
IF (FIRST GT 999) EXEC 400
POINT 'IBMBC' 1/5 IN F/999 NOLIST
IF (CURRENT EQ -1) EXEC 300
POINT 'IBMBCE' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1100 INCLUDE ORV.GG.PLX.IBMBCE1
POINT 'IBMBCH' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1101 INCLUDE ORV.GG.PLX.IBMBCH1
POINT 'IBMBCK' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1102 INCLUDE ORV.GG.PLX.IBMBCK1
POINT 'IBMBCM' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1103 INCLUDE ORV.GG.PLX.IBMBCM1
POINT 'IBMBCO' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1104 INCLUDE ORV.GG.PLX.IBMBCO1
POINT 'IBMBCR' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1105 INCLUDE ORV.GG.PLX.IBMBCR1
POINT 'IBMBCT' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1106 INCLUDE ORV.GG.PLX.IBMBCT1
POINT 'IBMBCP' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1107 INCLUDE ORV.GG.PLX.IBMBCP1
POINT 'IBMBCU' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1108 INCLUDE ORV.GG.PLX.IBMBCU1
POINT 'IBMBCV' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1109 INCLUDE ORV.GG.PLX.IBMBCV1
POINT 'IBMBCW' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1110 INCLUDE ORV.GG.PLX.IBMBCW1
POINT 'IBMBCY' 1/6 IN F/999 NOLIST
IF (CURRENT NE -1) 1111 INCLUDE ORV.GG.PLX.IBMBCY1
DEL 'IBMBCE' OR 'IBMBCH' OR 'IBMBCK' OR 'IBMBCM' 1/6 IN F/999
DEL 'IBMBCO' OR 'IBMBCR' OR 'IBMBCT' OR 'IBMBCP' 1/6 IN F/999
DEL 'IBMBCU' OR 'IBMBCV' OR 'IBMBCW' OR 'IBMBCY' 1/6 IN F/999
IF (FIRST GT 999) EXEC 400
POINT FIRST NOLIST
SET VALUE W8=1200.
READ STRING S2 USING *
SET VALUE W0=NEXT
IF (SUBSTR(S2,1,4) EQ 'IBMB') EXEC 318
IF (SUBSTR(S2,1,7) EQ '-------') EXEC 324
SET VALUE W9 = CURRENT
SET VALUE S2 = SUBSTR(S2,1,8)
EXEC 700
SET VALUE S2 = SUBSTR(S2,1,7)
CH '&S2' 1/7 TO '-------' IN */999  NOL
SET VALUE S2 = 'ORV.GG.PLX.'||S2||'1'
&W8 INCLUDE &S2
SET VALUE W8=W8+1
IF (W0 EQ -1) EXEC 400
POINT &W0 NOLIST
IF (CURRENT GT 999) EXEC 400
EXEC 302
DEL 0/999
EXEC 100
IF (S5 EQ '') EXEC 505
CLR TEXT
1.0 NAME &S5
SET ESCAPE = &S9
LINK ACTIVE
CLR EXEC
SET ESCAPE = &S9
ENTER
CLR EXEC
SET ESCAPE = &S9
CLR EXEC
IF ('&S2' EQ 'OPEN    ') 1001 INCLUDE ORV.GG.PLX.IBMXOPEN
IF ('&S2' EQ 'CLOSE   ') 1002 INCLUDE ORV.GG.PLX.IBMXCLOS
IF ('&S2' EQ 'PROMPT  ') 1003 INCLUDE ORV.GG.PLX.IBMXPROM
IF ('&S2' EQ 'PRINT   ') 1004 INCLUDE ORV.GG.PLX.IBMXPRIN
IF ('&S2' EQ 'READ    ') 1005 INCLUDE ORV.GG.PLX.IBMXREAD
IF ('&S2' EQ 'READSEQ ') 1006 INCLUDE ORV.GG.PLX.IBMXRSEQ
IF ('&S2' EQ 'WRITE   ') 1007 INCLUDE ORV.GG.PLX.IBMXWRIT
IF ('&S2' EQ 'CONTROL ') 1008 INCLUDE ORV.GG.PLX.IBMXCONT
IF ('&S2' EQ 'COMMAND ') 1009 INCLUDE ORV.GG.PLX.IBMXCOMM
IF ('&S2' EQ 'BTRIM   ') 1010 INCLUDE ORV.GG.PLX.IBMXBTRI
IF ('&S2' EQ 'SCAN    ') 1011 INCLUDE ORV.GG.PLX.IBMXSCAN
IF ('&S2' EQ 'SCANSUB ') 1012 INCLUDE ORV.GG.PLX.IBMXSSUB
IF ('&S2' EQ 'RITESUB ') 1013 INCLUDE ORV.GG.PLX.IBMXRSUB
IF ('&S2' EQ 'LEFTSUB ') 1014 INCLUDE ORV.GG.PLX.IBMXLSUB
IF ('&S2' EQ 'REVSUB  ') 1015 INCLUDE ORV.GG.PLX.IBMXRVSB
IF ('&S2' EQ 'SCOUNT  ') 1016 INCLUDE ORV.GG.PLX.IBMXSCOU
IF ('&S2' EQ 'REVSCAN ') 1017 INCLUDE ORV.GG.PLX.IBMXREVS
IF ('&S2' EQ 'READW   ') 1018 INCLUDE ORV.GG.PLX.IBMXREAW
IF ('&S2' EQ 'WRITEW  ') 1019 INCLUDE ORV.GG.PLX.IBMXWRIW
IF ('&S2' EQ 'READE   ') 1020 INCLUDE ORV.GG.PLX.IBMXREAE
IF ('&S2' EQ 'HIGHKEY ') 1050 INCLUDE ORV.GG.PLX.IBMXHIGH
IF ('&S2' EQ 'SCREEN  ') 1050 INCLUDE ORV.GG.PLX.IBMXSCRE
IF ('&S2' EQ 'READB   ') 1018 INCLUDE ORV.GG.PLX.IBMXREAB
IF (SUBSTR(S2,1,5) EQ 'READV') 1053 INCLUDE ORV.GG.PLX.IBMXRDVB
IF (SUBSTR(S2,1,6) EQ 'WRITEV') 1054 INCLUDE ORV.GG.PLX.IBMXWRVB
IF (CURRENT EQ W9) EXEC 321 ; NOTHING FOUND
POINT &W9 NOL
EXEC 324
