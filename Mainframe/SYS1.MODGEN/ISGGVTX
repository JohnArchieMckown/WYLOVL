*        %GOTO GVTXPLS1;                                             /* 00009900
         MACRO                                                          00017300
         ISGGVTX                                                        00024700
**/                                                                     00032100
*%GVTXPLS1:;                                                            00039600
*/* Start of Specifications ******************************************* 00089600
*                                                                       00639600
*01* Descriptive Name:  GRS VECTOR TABLE EXTENSION                      00689600
*02*  Acronym:  GVTX                                                    00739600
*                                                                       00789600
*01* Proprietary Statement =                                            00793700
*                                                                       00797800
*    LICENSED MATERIALS - PROPERTY OF IBM                               00801900
*    THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                        00806000
*    5647-A01 (C) COPYRIGHT IBM CORP. 1980, 1999                        00810100
*                                                                       00814200
*01* Status = HBB6608                                                   00818300
*                                                                       00822400
*01* External Classification:  DMTI                                     00826500
*01* End of External Classification                                     00830600
*                                                                       00834700
*01* Macro Name:  ISGGVTX                                               00839600
*01* Macro Date:  05/07/98                                              00889600
*                                                                       00946000
*01* DSECT Name:  GVTX                                                  00970500
*                                                                       00995000
*01* Component:  Global Resource Serialization (SCSDS)                  01019500
*                                                                       01044000
*01* Eye-Catcher:  GVTX                                                 01068500
*02*  Offset:  0                                                        01093000
*02*  Length:  4                                                        01117500
*                                                                       01142000
*01* Storage Attributes:                                                01166500
*02*  Subpool:  229                                                     01191000
*02*  Key:  0                                                           01215500
*                                                                       01380700
*                                                                       01465300
*01* Deleted by:  THE GVTX IS NEVER DELETED.                            01507600
*                                                                       01550000
*                                                                       01665400
*01* Size:  772 BYTES                                             @LMC  01680800
*                                                                       01696200
*01* Created by:  THE GVTX IS CREATED BY ISGNCBIM IN SQA AND BY         01711600
*                 ISGNASIM IN THE GRS ADDRESS SPACE.                    01727000
*                                                                       01742400
*01* Pointed to by:  The GVTGVTX field of the GVT data area             01757800
*                                                                       01773200
*01* Serialization:                                                     01780800
*02*   GRS LOCAL LOCK -   GLOBAL SAVE AREA                              01788400
*                         GLOBAL SMPL                                   01796000
*                         GLOBAL WORK AREA                              01803600
*                         ISGGFRR1 SAVE AREA                   @ZA78010 01811200
*02*   CMS ENQ/DEQ LOCK - LOCAL SAVE AREA                               01818800
*                         LOCAL SMPL                                    01826400
*                         LOCAL WORK AREA                               01834000
*                         SRB COUNT                                     01841600
*                                                                       01850000
*                                                                       01850900
*01* Function:                                                          01851800
*02* THE GVTX CONTAINS INFORMATION RELATIVE TO THE                      01852700
*    GRS ADDRESS SPACE.                                                 01853600
*                                                                       01854500
*01* Method of Access:                                                  01855400
*02*  PLS:   DECLARE GVTXPTR PTR(31)                                    01856300
*            %INCLUDE SYSLIB(ISGGVTX)                                   01857200
*            BAL - DSECT IS PRODUCED REQUIRING                          01858100
*            A USING ON THE GVTX                                        01859000
*                                                                       01859900
*01* Change Activity:                                                   01860800
*                       SUPPORTS THE FOLLOWING PTMS:                    01862200
*                         PBB0203 - MAKE THE BAL VERSION AND   @ZMB0203 01868400
*                                   PLS VERSION COMPATIBLE     @ZMB0203 01875800
*     $P1=PC40790 ,HBB3310,870320,PD11:   Correct GRS control block     01877600
*                                         size indicator to full word   01879400
*                                                                  @P1A 01881200
*     $P2=PCG0004 ,JBB3311,880122,PDAH:   legal statement updated  @P2A 01882200
*     $P3=PCG0040 ,JBB3311,880309,PD1L:   field GVTXCVGL           @P3A 01882700
*     $P4=PSD0463 ,JBB6602,951013,PDBD:   ShowHdr                       01883000
*     $P5=PSD0905 ,JBB6602,960229,PDXB:   upper case assember           01883300
*     $P6=PSD0917 ,JBB6602,960404,PDBN:   GQSCAN work area              01883600
*     $P7=PSD0955 ,JBB6602,960321,PDEL:   ISGTTRAC work area            01883900
*     $P8=PSD0954 ,JBB6602,960327,PDAW:   Move flag from MCA            01884200
*     $P9=PSD1004 ,JBB6602,960327,PDAW:   Add GVTX_StarMig_Population   01884500
*     $PA=PSD0953 ,JBB6602,960404,PDBN:   Delete CN_TERMECB, CNTCB@     01884800
*     $PB=PWA0016 ,JBB6607,980511,PDSL:   Add GVTX_IOSVDSTF,            01884900
*                                         GVTX_ISG348EDOMID        @PBA 01885000
*                                                                       01885100
*     SUPPORTS THE FOLLOWING PRODUCTS:                                  01886000
*     $L1=GRSRAS  ,JBB1326,810128,PDWR:   auto restart             @L1A 01888800
*                                                                       01894400
*     $L2=CBABVELN,JBB2220,850612,PDP7:   QCB, QEL, QXB, PQCB ABOVE     01894500
*                                         16-M LINE.                    01894600
*                                         ADD FIELDS GVTXERQS,          01894700
*                                         GVTXERQA, GVTXEBMP, GVTXEBML, 01894800
*                                         GVTXEBTM                 @L2A 01894900
*                                                                       01895300
*     $L3=GRSPF   ,JBB3311,871115,PDAH: GRS Performance enhancements.   01895400
*         Support added for Fast DEQ function.                     @L3A 01895500
*                                                                       01895600
*     $L4=GRSW1   ,HBB4410,880823,PDDX: GRS XCF Exploitation            01895700
*         Added declares for GVTXMSP (entry point of ISGMIMSP),         01895800
*         GVTXBSM (entry point of ISGBSM), GVTXBRM (entry point of      01895900
*         ISGBRM)                                                  @L4A 01896000
*                                                                       01896100
*     $L5=GRSW1   ,HBB4410,890206,PDDR: GRS XCF Exploitation            01896200
*         Support for use of CTRACE.                               @L5A 01896300
*                                                                       01896400
*     $L6=DRNL    ,HBB4410,890105,PDEL: Dynamic RNL support        @L6A 01896500
*                                                                       01896600
*     $L7=GRSW1   ,HBB4410,890105,PDDM: Bufsend/QMerge             @L7A 01896700
*                                                                       01896800
*     $L8=POSIXGRS,HBB4430,920208,PDDV: GRS latch manager          @L8A 01896900
*                                                                       01897100
*     $L9=POSIXGRS,HBB4430,920208,PDXB: GRS latch manager          @L9A 01897300
*                                                                       01897500
*     $LA=GRS32   ,JBB6602,920925,PDNW: GRS Star                   @LAA 01897700
*     $LB=GRS32   ,JBB6602,930716,PDBD: GRS Star                   @LBA 01898100
*     $LC=GRS32   ,JBB6602,931209,PDNV: GRS Star                   @LCA 01898500
*     $LD=GRS32   ,JBB6602,940301,PDEL: GRS Star                   @LDA 01898900
*     $LE=GRS32   ,JBB6602,950606,PDRM: GRS Star - Remove               01899300
*                                       references to XCT and CCT  @LEA 01899700
*     $LF=GRS32   ,JBB6602,950719,PDAW: GRS Star Migration         @LFA 01900100
*     $LG=GRS32   ,JBB6602,950802,PDRM: GRS Star                   @LGA 01900500
*     $LH=GRS32   ,JBB6602,951026,PDBN: GRS Star                   @LHA 01900900
*     $LI=GRS32   ,JBB6602,951026,PDRM: GRS Star                   @LIA 01901300
*     $LJ=GRS32   ,JBB6602,951026,PDBD: GRS Star                        01901700
*                                       Add pointer to ISGGERTS         01902100
*     $LK=GRS32   ,JBB6602,951115,PDBD: GRS Star                        01902500
*     $LL=GRS32   ,JBB6602,951130,PDBN: GRS Star                        01902900
*     $LM=GRS32   ,JBB6602,960111,PDBN: GRS Star                        01903300
*     $LN=GRS32   ,JBB6602,951214,PDZU: GRS Star                        01903700
*     $LO=GRS32   ,JBB6602,960117,PDZU: GRS Star                        01904100
*     $LP=WLMPESM ,HBB6603,960605,PDEL: SYSEVENT Interface Changes      01904300
*     $LQ=Shark   ,HBB6608,980910,PDBD: Increase size of GVTX_WorkArea  01904400
*                                                                       01904500
*     SUPPORTS THE FOLLOWING APARS:                                     01904900
*        OZ78010 - 1) SPLIT ISGGFRR0 - ISGGFRR0 SPLIT TO ISGGFRR0 AND   01905300
*                     ISGGREPR AND PLACED ABOVE THE 16-M LINE. ISGGREPR 01905700
*                     CONTAINS ALL THE REPAIR FUNCTIONS ONCE CONTAINED  01906100
*                     IN ISGGFRR0. THE GLUE MODULE - ISGGFRR1           01906500
*                     (AMODE=24) WAS ALSO SUPPORTED.                    01906900
*                  2) QWAQWBHS WAS SET IN ISGGNQDQ BEFORE IT WAS        01907300
*                     INITIALIZED BY ISGGQWBI.                          01907700
*                  3) ISGLNQDQ MOVED THE ADDRESS OF QWBPEL TO QWAQWBHS  01908100
*                     INSTEAD OF THE ADDRESS IN GVTSQWB. IT SET         01908500
*                     QWAQWBHS BEFORE THE QWB WAS INITIALIZED, AND IT   01908900
*                     USED REG 0 ON THE SETFRRS CAUSING ISGGFRR0 TO     01909300
*                     BE ENTERED IN 24-BIT MODE.               @ZA78010 01909700
*        OY02661 - GRS TRACE SPE                               @YA02661 01910100
*                                                                       01910500
*        OY13087 - GRS RAS/OPERATIONS SPE                      @YA13087 01910900
*                                                                       01911300
*                     Added declares for GVTXSIVT, GVTXQWBV,            01911700
*                     GVTXQWBD and GVTXMIAR.                            01912100
*                                                                       01913100
*     $01=OW29396 ,HBB6605,971031,PDBD: GVTX_KWorkAreaSize              01914100
*        =OW37982 ,HBB6608,990513,PDBD: Drag for OW37982                01914800
*     $02=OW36597 ,HBB6608,990127,PDBD:  GVTX_WorkArea@                 01915500
*     $03=OW47453 ,HBB7703,001211,PDBD: Move ISGXSRBW addressability    01915700
*                                       from RSVX                       01915900
*                                                                       01916200
*** End of Specifications ********************************************/ 01933000
*/*A000000-999999                                            @G383P13*/ 01950000
*        %GOTO GVTXPLS2;                                             /* 01951600
GVTX     DSECT                   GRS VECTOR TABLE EXTENSION             01956400
         DS    0D                                                       01957500
GVTXID   DS    CL4               CONTROL BLOCK ACRONYM (GVTX)           01958600
*********************************************************************** 01959700
*                                                                     * 01960800
*   ENTRY POINTS                                                      * 01961900
*                                                                     * 01963000
*********************************************************************** 01964100
GVTXEPTS DS    0F                ENTRY POINT SECTION                    01964600
GVTXBBE  DS    A                 ENTRY POINT OF ISGBBE -                01964900
*                                GRS RING PROCESSING BACK END ROUTINE   01965200
*                                (ENTRY POINT IN ISGBSR)                01965500
GVTXBCI  DS    A                 ENTRY POINT OF ISGBCI -                01965800
*                                GRS RING PROCESSING COMMAND INTERFACE  01966100
*                                MODULE                                 01966400
GVTXBRIN DS    A                 ENTRY POINT OF ISGBSRIN -              01966700
*                                CONVERTS SYSID TO SYSNAME ROUTINE      01967000
*                                (ENTRY POINT IN ISGBSR)                01967200
GVTXBRNI DS    A                 ENTRY POINT OF ISGBSRNI -              01967400
*                                CONVERTS SYSNAME TO SYSID ROUTINE      01967600
*                                (ENTRY POINT IN ISGBSR)                01967800
GVTXCRCV DS    A                 ENTRY POINT OF ISGCRCV -               01968000
*                                GRS COMMAND RECOVERY MODULE            01968200
GVTXDEQP DS    A                 ENTRY POINT OF ISGGDEQP -              01968400
*                                RESOURCE PURGE MODULE                  01968600
GVTXMSG  DS    A                 ENTRY POINT OF ISGMSG00 -              01968800
*                                GRS MESSAGE MODULE                     01969000
GVTXQWB1 DS    A                 ENTRY POINT OF ISGGQWB1 -              01969200
*                                BUILD QWB FROM RSA ROUTINE             01969400
*                                (ENTRY POINT IN ISGGQWB0)              01969600
GVTXQWBO DS    A                 Entry point address of                 01969800
*                                ISGGQWBO - Obtain QWBs                 01970000
*                                (Entry point in ISGGQWB0)         @L7C 01970200
GVTXTRM2 DS    A                 Entry point address of            @LGC 01970400
*                                ISGGTRM2 - Termination Resource        01970600
*                                Manager                                01970800
GVTXQWB4 DS    A                 ENTRY POINT OF ISGGQWB4 -              01971000
*                                BUILD DEQUEUE QWB FROM QEL ROUTINE     01971200
*                                (ENTRY POINT IN ISGGQWB0)              01971400
GVTXQWB5 DS    A                 ENTRY POINT OF ISGGQWB5 -              01971600
*                                BUILD SYSID DEQUEUE QWB ROUTINE        01971800
*                                (ENTRY POINT IN ISGGQWB0)              01972000
GVTXQWBF DS    A                 ENTRY POINT OF ISGGQWBF -              01972200
*                                FREE QWB ROUTINE                       01972400
*                                (ENTRY POINT IN ISGGQWB0)              01972600
GVTXRET1 DS    A                 ENTRY POINT OF ISGCRET1 -              01972800
*                                ERRET MODULE FOR XM-POST OF A          01973000
*                                COMMAND REQUESTOR'S ECB                01973200
GVTXMSP  DS    A                 ENTRY POINT OF ISGMIMSP -         @L4A 01973400
*                                GRS MESSAGE PROCESSOR INTENDED TO      01973500
*                                REPLACE ISGMSG00                       01973600
GVTXBSM  DS    A                 Entry point of ISGBSM - RSA Send  @L4A 01973800
*                                Module.                                01974000
GVTXBRM  DS    A                 Entry point of ISGBRM - RSA       @L4A 01974200
*                                Receive module.                        01974400
*********************************************************************** 01974600
*                                                                     * 01975100
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS                * 01976200
*   TRACE MODULE.                                                     * 01976300
*                                                             @YA02661* 01976400
*********************************************************************** 01976500
GVTXTR   DS    0D                GRS TRACE SECTION             @YA02661 01976600
         DS    CL4               RESERVED                          @L5C 01976700
GVTXTRAC DS    A                 ENTRY POINT OF ISGTTRAC -              01976900
*                                GRS TRACE MODULE.             @YA02661 01977000
*********************************************************************** 01977100
*                                                                     * 01977200
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS                * 01977300
*   RING PROCESSING MODULES.                                          * 01977400
*                                                                     * 01977500
*********************************************************************** 01977600
GVTXRING DS    0D                RING PROCESSING SECTION                01977700
GVTXBRSV DS    A                 ADDRESS OF RING PROCESSING SYSTEM      01977800
*                                VECTOR TABLE                           01977900
GVTXBECB DS    F                 ECB USED BY ISGBTC TO WAIT FOR    @L1C 01978000
*                                UNUSUAL EVENTS TO OCCUR                01978100
GVTXSIVT DS    A                 POINTER TO THE SYSID VALIDATION        01978200
*                                TABLE - A 256 BYTE TABLE THAT IS USED  01978300
*                                FOR VALIDATING THE QWBHSYID FIELD IN   01978400
*                                QWB'S INSYS COPIED FROM THE RSA, AND   01978500
*                                QWB'S TAKEN OFF THE PROCESS QUEUE.     01978600
*                                THIS TABLE IS ALSO USED FOR ASSIGNING  01978700
*                                A SYSID TO A SYSTEM JOINING THE        01978800
*                                COMPLEX.                      @YA13087 01978900
GVTXMIAR DS    F                 MESSAGE-ID OF AUTO-REJOIN MESSAGE      01979000
*                                OR ZERO.  THIS ID CAN BE USED TO       01979100
*                                DELETE MESSAGE ISG028E.       @YA13087 01979200
*********************************************************************** 01979300
*                                                                     * 01979400
*   THE FOLLOWING FIELD IS USED PRIMARILY BY THE GRS                  * 01979500
*   CTC-DRIVER.                                                       * 01979600
*                                                                     * 01979700
*********************************************************************** 01979800
GVTXCTCS DS    0D                CTC-DRIVER SECTION                     01980000
GVTXJGCV DS    A                 ADDRESS OF THE GRS CTC-DRIVER          01981000
*                                VECTOR TABLE                           01981100
*********************************************************************** 01981500
*                                                                     * 01981600
*   THE FOLLOWING FIELD IS USED BY COMMAND-ROUTER TASK AND            * 01981700
*   RING PROCESSING EXCEPTION-HANDLER TASK                            * 01981800
*                                                                     * 01981900
*********************************************************************** 01982000
GVTXCVGL DS    F                 COUNT OF VARY-ONLINE OPERATIONS        01982100
*                                FOR GRS LINKS                     @P3C 01982200
*********************************************************************** 01982300
*                                                                     * 01982400
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS                * 01982500
*   GLOBAL RESOURCE PROCESSOR                                         * 01982600
*                                                                     * 01982700
*********************************************************************** 01982800
GVTXGRPS DS    0D                GLOBAL RESOURCE PROCESSOR SECTION      01982900
*                                                              @YA13087 01983000
GVTXQWBV DS    A                 ADDRESS OF THE QWB THAT IS CURRENTLY   01983100
*                                BEING VALIDITY CHECKED BY ISGGRP00     01983200
*                                                              @YA13087 01983300
GVTXQWBD DS    A                 QUEUE HEAD TO A CHAIN OF QWB'S THAT    01983500
*                                WERE DETERMINED BY ISGGRP00 TO BE      01983700
*                                DAMAGED.  THIS CHAIN IS FOR DEBUGGING  01983900
*                                PURPOSES.                     @YA13087 01984100
*********************************************************************** 01984300
*                                                                     * 01984500
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS                * 01984700
*   INITIALIZATION MODULES.                                           * 01986100
*                                                                     * 01987200
*********************************************************************** 01988300
GVTXINIT DS    0D                GRS INITIALIZATION SECTION             01989400
GVTXECB0 DS    F                 IN RING-MODE, ECB USED BY ISGNAR       01989600
*                                TO WAIT FOR ISGCMDR TO TERMINATE       01989800
*                                (NORMAL OR ABNORMAL).                  01990000
*                                IN STAR-MODE, ECB USED BY              01990200
*                                ISGNST TO WAIT FOR ISGCMDR TO          01990400
*                                TERMINATE (NORMAL OR ABNORMAL)    @LCC 01990600
GVTXECB1 DS    F                 IN RING-MODE, ECB USED BY ISGNAR       01990800
*                                TO WAIT FOR ISGGRP00 TO COMPLETE       01991000
*                                INITIALIZATION.                        01991200
*                                IN NONE-MODE, ECB USED BY ISGNASIM     01991400
*                                TO WAIT FOR ISGGRP00 TO COMPLETE       01991600
*                                INITIALIZATION.                   @L8C 01991800
GVTXECB2 DS    F                 IN RING-MODE, ECB USED BY ISGNAR       01992000
*                                TO WAIT FOR ISGGRP00 TO TERMINATE      01992200
*                                (NORMAL OR ABNORMAL).                  01992400
*                                IN NONE-MODE, ECB USED BY ISGNASIM     01992600
*                                TO WAIT FOR ISGGRP00 TO TERMINATE      01992800
*                                (NORMAL OR ABNORMAL).             @L8C 01993000
GVTXECB3 DS    F                 IN RING-MODE, ECB USED BY ISGNAR       01993200
*                                TO WAIT FOR ISGBTC TO COMPLETE         01993400
*                                INITIALIZATION.                   @L8C 01993600
GVTXECB4 DS    F                 IN RING-MODE, ECB USED BY ISGNAR       01993800
*                                TO WAIT FOR ISGBTC TO TERMINATE        01994000
*                                (NORMAL OR ABNORMAL).             @L8C 01994200
GVTXECB5 DS    F                 IN RING-MODE, ECB USED BY ISGNAR       01994400
*                                TO WAIT FOR ISGNGRSP TO TERMINATE      01994600
*                                (NORMAL OR ABNORMAL)              @L8C 01994800
         DS    F                                                   @LDC 01995000
GVTXGCBS DS    F                 SIZE OF GRS CONTROL BLOCKS             01997900
*                                (GVTX, LQHT, RPT, GQHT, SAHT)          01998000
*                                                                  @LDC 01998100
GVTXERQS DS    F                 SIZE OF GRS EXTENDED RESOURCE     @L2A 01998300
*                                QUEUE AREA                             01998400
         DS    CL4               RESERVED                          @L2C 01998500
*********************************************************************** 01998600
*                                                                     * 01998800
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS                * 01999600
*   STORAGE MANAGEMENT MODULES.                                       * 02000400
*                                                                     * 02001200
*********************************************************************** 02002000
GVTXSMGS DS    0D                GRS STORAGE MANAGER SECTION            02002800
         DS    A                                                   @LDC 02003600
         DS    A                                                   @LDC 02004400
         DS    A                                                   @LDC 02005200
GVTXGQHT DS    A                 ADDRESS OF GLOBAL QUEUE HASH TABLE     02006300
GVTXLQHT DS    A                 ADDRESS OF LOCAL QUEUE HASH TABLE      02007000
GVTXSAHT DS    A                 ADDRESS OF SYSTEM/ASID HASH TABLE      02007700
GVTXGRPT DS    A                 ADDRESS OF GLOBAL RESOURCE POOL TABLE  02008800
         DS    A                                                   @LDC 02010000
GVTXGSAR DS    CL72              GLOBAL SAVE AREA (SERIALIZED BY GRS    02011200
*                                LOCAL LOCK)                            02012400
GVTXLSAR DS    CL72              LOCAL SAVE AREA (SERIALIZED BY CMS     02013600
*                                ENQ/DEQ CLASS LOCK)                    02014800
GVTXGSMP DS    CL16              GLOBAL STORAGE MANAGEMENT PARAMETER    02016800
*                                LIST (SERIALIZED BY GRS LOCAL LOCK)    02017600
GVTXLSMP DS    CL16              LOCAL STORAGE MANAGEMENT PARAMETER     02018600
*                                LIST (SERIALIZED BY CMS ENQ/DEQ        02019600
*                                CLASS LOCK)                            02020600
GVTXLWK@ DS    A                 ADDRESS OF WORK AREA USED BY ISGSALC   02020800
*                                AND ISGSDAL. THIS AREA IS SERIALIZED   02021000
*                                BY THE GRS LOCAL LOCK.            @LCC 02021200
GVTXTTR@ DS    A                 ADDRESS OF WORK AREA USED IN ISGTTRAC  02021400
*                                WHEN CALLED BY ISGSALC. THIS AREA IS   02021600
*                                SERIALIZED BY CMSEQDQ CLASS LOCK).     02021800
*                                                                  @P7A 02022000
         DS    CL8               RESERVED                          @P7C 02022200
GVTXCWK@ DS    A                 ADDRESS OF WORK AREA USED BY ISGSALC   02022400
*                                AND ISGSDAL. THIS AREA IS SERIALIZED   02022600
*                                BY THE GRS CMS ENQ/DEQ LOCK       @LCC 02022800
*********************************************************************** 02023200
*                                                                     * 02023600
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY SYSEVENT               * 02024000
*   FUNCTION (for non-ASA callers)                                @LPA* 02024400
*                                                                     * 02024800
*********************************************************************** 02025200
GVTX_GSEHE@ DS A                 ADDRESS OF ISGGSEHE (NON-ASA)     @LPA 02025600
GVTX_GSERE@ DS A                 ADDRESS OF ISGGSERE (NON-ASA)     @LPA 02026000
         DS    CL4               RESERVED                          @LPC 02026400
GVTXSRB  DS    A                 ADDRESS OF SRB FOR ISGSPRLS            02026800
GVTXSRBW DS    A                 ISGXSRBW, SRB TIMED WAIT          @03C 02030090
         DS    F                                                   @LDC 02033000
GVTXERQA DS    A                 ADDRESS OF GRS EXTENDED RESOURCE  @L2C 02038000
*                                QUEUE AREA                             02038700
GVTXEBMP DS    A                 POINTER TO ERQA BIT MAP           @L2A 02039400
GVTXEBML DS    F                 LENGTH OF ERQA BIT MAP IN BYTES   @LDC 02040200
GVTXF1SA DS    CL72              ISGGFRR1 SAVE AREA (SERIALIZED BY GRS  02041100
*                                LOCAL LOCK)                   @ZA78010 02042000
*********************************************************************** 02042300
*                                                                     * 02042600
*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE FAST DEQ           * 02042900
*   FUNCTION                                                      @L3A* 02043200
*                                                                     * 02043500
*********************************************************************** 02043800
GVTXFD   DS    0D                FAST DEQ SECTION                  @L3A 02044100
GVTXSTAD DS    A                 ADDRESS OF THE FAST DEQ SLOT TABLE     02044400
*                                                                  @L3A 02044700
GVTXFDEQ DS    A                 ENTRY POINT OF ISGGFDEQ - FAST DEQ     02045000
*                                GATE ROUTINE                      @L3A 02045300
*********************************************************************** 02045400
*                                                                     * 02045500
*      DECLARATION FOR DYNAMIC RNL SECTION                            * 02045600
*                                                                     * 02045700
*********************************************************************** 02045800
GVTXDRNL DS    0D                Dynamic RNL section               @L6A 02045900
GVTXCRES DS    A                 Entry point of ISGCREST -              02046000
*                                  GRS command recovery module for      02046100
*                                  dynamic RNL support             @L6A 02046200
GVTXMAS DS     A                 Master A.S. ASCB address          @L6A 02046300
*                                                                  @L8A 02046400
GVTXLMVT DS    A                 addr of latch manager vector tbl  @L8A 02046500
*                                                                  @LAA 02046600
          DS   A                 Reserved                          @LAA 02046700
*********************************************************************** 02046800
*                                                                     * 02046900
*      Declaration for Star mode Section                              * 02047000
*                                                                     * 02047100
*********************************************************************** 02047200
GVTX_STAR DS  0D                    Star mode Section              @LCC 02047300
*********************************************************************** 02047400
*                                                                     * 02047500
*   The following fields are used as anchors for control blocks       * 02047600
*   associated with major GRS functions.                              * 02047700
*                                                                     * 02047800
*********************************************************************** 02047900
GVTX_QVT@ DS   A                     Address of the GRS Queue Scan      02048000
*                                    Vector Table (QVT) owned by the    02048100
*                                    GRS Queue Scan task           @LBC 02048200
GVTX_SST@ DS   A                     Address of System Server Table     02048300
*                                    (SST) owned by the System Server   02048400
*                                    task                          @LAA 02048500
GVTX_GGT@ DS   A                     Address of GRS Group Table (GGT)   02048600
*                                    owned by the GRS Group Exit        02048700
          DS   A                                                   @LEC 02048800
*                                                                       02048900
          DS   A                                                   @LEC 02049000
*                                                                       02049100
GVTX_LSCT@ DS   A                    Address of the Lock Structure      02049200
*                                    Control Table(LSCT)           @LAA 02049300
           DS   A                                                  @LIC 02049400
*                                                                       02049500
GVTX_GGTREBUILDAREA@ DS A            Address of the GGT rebuild area    02049600
*                                                                  @LAA 02049700
          DS   3F                    Reserved                      @LAA 02049800
*********************************************************************** 02049900
*                                                                     * 02050000
*   TCB addresses of all the primary tasks in Star-mode.              * 02050100
*                                                                     * 02050200
*********************************************************************** 02050300
GVTX_SSTCB@   DS  A                  Address of System Server TCB. @LAA 02050400
GVTX_GQTCB@   DS  A                  Address of GQSCAN Server TCB. @LCC 02050500
              DS  A                  Reserved                      @PAC 02050600
GVTX_CMDRTCB@ DS  A                  Address of Command Router TCB @LAA 02050700
*********************************************************************** 02050800
*                                                                     * 02050900
*   ECBS used in Star-Mode.                                           * 02051000
*                                                                     * 02051100
*********************************************************************** 02051200
                 DS  2F              Reserved                      @PAC 02051300
GVTX_GQ_TERMECB  DS   F              In Star-mode, ECB used             02051400
*                                    by ISGNST to wait for the GQSCAN   02051500
*                                    Server task to terminate either    02051600
*                                    normally or abnormally.       @LCC 02051700
GVTX_SS_TERMECB  DS   F              In Star-mode, ECB used             02051800
*                                    by ISGNST to wait for the System   02051900
*                                    Server task to terminate either    02052000
*                                    normally or abnormally.       @LCC 02052100
*********************************************************************** 02052200
*                                                                     * 02052300
*   Star Mode hash tables                                             * 02052400
*                                                                     * 02052500
*   In addition to the hash tables defined below, the GVTXLQHT hash   * 02052600
*   table is also used when running in Star mode.                     * 02052700
*                                                                     * 02052800
*********************************************************************** 02052900
GVTXSGHT DS    A                     Address of System Global Hash      02053000
*                                    Table. Only global resource        02053100
*                                    requests initiated on this         02053200
*                                    system are queued to this          02053300
*                                    table.                        @LAA 02053400
*********************************************************************** 02053500
*                                                                     * 02053600
*   Pointers to Star Mode specific routines                       @LJA* 02053700
*                                                                     * 02053800
*********************************************************************** 02053900
GVTX_GERTS DS  A                     Address of ISGGERTS, the Star mode 02054000
*                                    ENQ RET=TEST routine.         @LJC 02054100
         DS    A                     Reserved                      @LJC 02054200
**********************************************************************  02054300
*                                                                    *  02054400
*   Cell Pool IDs for Dynamic areas and Workareas used by GRS        *  02054500
*                                                                    *  02054600
**********************************************************************  02054700
GVTX_R24WORKAREA1_CPID  DS F         Cell pool ID for workareas         02054800
*                                    below the 16M line. These cells    02054900
*                                    are intended for use by any module 02055000
*                                    that requires a workarea below the 02055100
*                                    16M line for use other than for    02055200
*                                    local working storage.        @LAA 02055300
GVTX_R31WORKAREA1_CPID  DS F         Cell pool ID for workareas         02055400
*                                    above the 16M line. These cells    02055500
*                                    are intended for use by any module 02055600
*                                    that requires a workarea above the 02055700
*                                    16M line for use other than for    02055800
*                                    local working storage.        @LAA 02055900
GVTX_R24DYNAREA1_CPID  DS F          Cell pool ID for dynamic areas     02056000
*                                    below the 16M line. These cells    02056100
*                                    are intended for use only by       02056200
*                                    modules running in SRB mode which  02056300
*                                    require a local storage area       02056400
*                                    below the 16M line.           @LAA 02056500
GVTX_R31DYNAREA1_CPID  DS F          Cell pool ID for dynamic areas     02056600
*                                    above the 16M line. These cells    02056700
*                                    are intended for use only by       02056800
*                                    modules running in SRB mode which  02056900
*                                    require a local storage area       02057000
*                                    above the 16M line.           @LAA 02057100
GVTX_R31DYNAREA2_CPID  DS F          Cell pool ID for large dynamic     02057200
*                                    areas above the 16M line.  These   02057300
*                                    cells are intended to be used as   02057400
*                                    stack storage for ASA linkage      02057500
*                                    modules.                      @LBA 02057600
         DS    2F                    Reserved words for additional      02057700
*                                    cell pool ids.                @LBC 02057800
**********************************************************************  02057900
*                                                                    *  02058000
*   GRS Module Table Vector Table                                    *  02058100
*                                                                    *  02058200
**********************************************************************  02058300
GVTXMTVT DS    20A                   Vector table used for linkage.     02058400
*                                    Points to the module tables        02058500
*                                    for each of the GRS subcomponents  02058600
*                                    that use ASA linkage.         @LAA 02058700
**********************************************************************  02058800
*                                                                    *  02059000
*   Storage used for mapping the SYSEVENT parameters for reporting   *  02059200
*   ENQHOLD and ENQRLSE to SRM.  This storage is obtained and page   *  02059400
*   fixed by ISGNASIM.                                               *  02059600
*                                                                @LPC*  02059800
**********************************************************************  02060000
GVTX_GLOBALHRPARMLIST@ DS A          Address of the SYSEVENT parameter  02060200
*                                    list used for global resources.    02060400
*                                    Serialized by the GRS local lock.  02060600
*                                                                  @LPA 02060800
GVTX_LOCALHRPARMLIST@ DS A           Address of the SYSEVENT parameter  02061000
*                                    list used for local resources.     02061200
*                                    Serialized by the CMSEQDQ lock.    02061400
*                                                                  @LPA 02061600
GVTX_CNVT@ DS  A                     Address of the contention          02061800
*                                      notification vector table   @LMC 02062000
GVTX_WORKAREA@ DS  A                 Address of a work block,           02062200
*                                      available for use by anyone      02062400
*                                      holding the CMSEQDQ lock.   @02C 02062500
*********************************************************************** 02062600
*                                                                     * 02062700
*   Storage associated with SYNCHRES processing                   @PBA* 02062800
*                                                                     * 02062900
*********************************************************************** 02063000
GVTX_IOSVDSTF@ DS  A                 Address of IOSVDSTF (SynchRes      02063100
*                                      processing)                 @PBA 02063200
GVTX_ISG348EDOMID DS F               DOMID for ISG348E             @PBA 02063300
*******************************************************************     02063600
*                                                                 *     02063800
*  Maximum size answer area needed when querying the entire       *     02064000
*  GRS group in Star mode.                                        *     02064200
*                                                                 *     02064400
*******************************************************************     02064600
GVTX_MAXANSWERAREASIZE   DS F        Maximum answer area size for       02064800
*                                    querying the whole GRS group. @LAA 02065000
********************************************************************    02065200
*                                                                  *    02065400
*   GRS Star Migration area (for migration from Ring mode)         *    02065600
*                                                                  *    02065800
********************************************************************    02066000
GVTX_STAR_MIGRATION_ECB  DS F       ECB waited on by ISGNAR             02066200
*                                   and posted by ISGCIMS/ISGCPMS to    02066400
*                                   terminate Ring mode.  ISGNAR will   02066600
*                                   return to ISGNASIM, which then      02066800
*                                   calls ISGNST to initialize Star     02067000
*                                   mode.                          @LFA 02067200
GVTX_STAR_MODE_READY_ECB  DS F      ECB to notify ISGNMIG               02067400
*                                   that all old QWBs from Ring mode    02067600
*                                   are on the system server process    02067800
*                                   queue, and new requests can now     02068000
*                                   be processed.                  @LFA 02068200
GVTX_MIG_FLAGS           DC XL1'00' Migration Bit Flags            @LFA 02068400
GVTX_STARMIGRATIONINPROGRESS EQU BIT0                              @LFA 02068600
GVTX_STARMIGINITIATOR    EQU BIT1   The migration to Star mode was      02068800
*                                   initiated on this system.      @LFA 02069000
GVTX_SYSFAILUREINMIGRATION   EQU BIT2 During migration a                02069200
*                                    system failed.  Reconciliation     02069400
*                                    must be called.               @LFA 02069600
GVTX_NO_STARMIG_BACKOFF EQU BIT3     Star migration cannot be           02069800
*                                    cancelled.  If any migration       02070000
*                                    failure occurs, it will cause a    02070200
*                                    wait state.                   @LFA 02070400
GVTX_STARMIG_LEFT_SYSGRS EQU BIT4    During migration to Star           02070600
*                                    mode, marks the point when the     02070800
*                                    IXCLEAVE has been done        @P8A 02071000
GVTX_STARMIG_POPULATION EQU BIT5     Migration is currently populating  02071200
*                                    the lock structure with requests   02071400
*                                    from the ring                 @P9A 02071600
                         DS CL3      Reserved                      @LFA 02071800
*                                                                 8@LMD 02072000
*********************************************************************** 02072200
*                                                                     * 02072400
*   GRS Star Dynamic RNL Area (for command SET GRSRNL)            @LNA* 02072600
*                                                                     * 02072800
*********************************************************************** 02073000
GVTX_STARSETGRSRNLAREA  DS  0F                                     @LNA 02073200
GVTX_RCAS@              DS  A        Pointer to the star-mode RCA       02073400
*                                    extension (RCAS).  Valid in        02073600
*                                    star-mode only.               @LNA 02073800
GVTX_RNLCHANGEECB       DS  F        ECB used to communicate between    02074000
*                                    the SET GRSRNL command processor   02074200
*                                    and ISGGRNX/ISGXMX during message  02074400
*                                    broadcast.  Post reasons are       02074600
*                                    defined in ISGYRCAS.          @LOA 02074800
GVTX_RNLSUMMARYECB      DS  F        ECB used to communicate between    02075000
*                                    the SET GRSRNL command processor   02075200
*                                    and ISGGRNX/ISGXMX during message  02075400
*                                    broadcast.  Post reasons are       02075600
*                                    defined in ISGYRCAS.          @LOA 02075800
GVTX_RNLCANCELECB       DS  F        ECB used to notify the SET GRSRNL  02076000
*                                    command processor of cancel        02076200
*                                    request from other systems in      02076400
*                                    the sysplex.  Post reasons are     02076600
*                                    defined in ISGYRCAS.          @LOA 02076800
GVTX_STARSETGRSRNLID    DS  F        Command ID used to uniquely        02077000
*                                    identify a SET GRSRNL command.     02077200
*                                    This value plus one gives the      02077400
*                                    next available command ID.    @LNA 02077600
GVTX_STARSETGRSRNLFLAGS DC  XL1'00'  Dynamic RNL flags             @LNA 02077800
GVTX_STARSETGRSRNLINPROGRESS EQU BIT0 RNL change is in progress    @LNA 02078000
GVTX_STARSETGRSRNLINITIATOR  EQU BIT1 The RNL change process was        02078200
*                                    initiated on this system      @LNA 02078400
GVTX_READYTOCUTOVER EQU BIT2         The initiating system is ready     02078600
*                                    to cutover to the new RNLs -       02078800
*                                    no delay reasons exist in the      02079000
*                                    sysplex                       @LNA 02079200
GVTX_CANCELBYINITIATOR EQU BIT3      SET GRSRNL has been cancelled      02079400
*                                    by the initiating system      @LNA 02079600
                        DS  CL3      Reserved                      @LNA 02079800
*                                                                  @LOC 02080000
GVTXEND  DS    0F                END OF GVTX                            02080200
         MEND                                                           02080400
**/                                                                     02080600
*%GVTXPLS2:;                                                            02081800
*DECLARE                                                                02116000
*  1 GVTX BASED(GVTXPTR) BDY(DWORD), /* GRS VECTOR TABLE EXTENSION   */ 02150200
*    3 GVTXID CHAR(4),            /* CONTROL BLOCK ACRONYM (GVTX)    */ 02184400
*/********************************************************************/ 02218600
*/*                                                                  */ 02252800
*/*   ENTRY POINTS                                                   */ 02286000
*/*                                                                  */ 02319200
*/********************************************************************/ 02352400
*    3 GVTXEPTS BDY(WORD),        /* ENTRY POINT SECTION             */ 02385600
*      5 GVTXBBE PTR(31),         /* ENTRY POINT OF ISGBBE -            02395600
*                                    GRS RING PROCESSING BACK END       02405600
*                                    ROUTINE (ENTRY POINT IN ISGBSR) */ 02415600
*      5 GVTXBCI PTR(31),         /* ENTRY POINT OF ISGBCI -            02425600
*                                    GRS RING PROCESSING COMMAND        02435600
*                                    INTERFACE MODULE                */ 02445600
*      5 GVTXBRIN PTR(31),        /* ENTRY POINT OF ISGBSRIN -          02455600
*                                    CONVERTS SYSID TO SYSNAME          02465600
*                                    ROUTINE (ENTRY POINT IN ISGBSR) */ 02471700
*      5 GVTXBRNI PTR(31),        /* ENTRY POINT OF ISGBSRNI -          02477800
*                                    CONVERTS SYSNAME TO SYSID          02483900
*                                    ROUTINE (ENTRY POINT IN ISGBSR) */ 02490000
*      5 GVTXCRCV PTR(31),        /* ENTRY POINT OF ISGCRCV -           02496100
*                                    GRS COMMAND RECOVERY MODULE     */ 02502200
*      5 GVTXDEQP PTR(31),        /* ENTRY POINT OF ISGGDEQP -          02508300
*                                    RESOURCE PURGE MODULE           */ 02514400
*      5 GVTXMSG PTR(31),         /* ENTRY POINT OF ISGMSG00 -          02520500
*                                    GRS MESSAGE MODULE              */ 02526600
*      5 GVTXQWB1 PTR(31),        /* ENTRY POINT OF ISGGQWB1 -          02532700
*                                    BUILD QWB FROM RSA ROUTINE         02538800
*                                    (ENTRY POINT IN ISGGQWB0)       */ 02544900
*      5 GVTXQWBO PTR(31),        /* Entry point address of             02553400
*                                    ISGGQWBO - Obtain QWBs             02561900
*                                    (Entry point in ISGGQWB0)   @L7C*/ 02570400
*      5 GVTXTRM2 PTR(31),        /* Entry point address of             02574700
*                                    ISGGTRM2 - Termination Resource    02579000
*                                    Manager                     @LGC*/ 02583300
*      5 GVTXQWB4 PTR(31),        /* ENTRY POINT OF ISGGQWB4 -          02587600
*                                    BUILD DEQUEUE QWB FROM QEL ROUTINE 02593700
*                                    (ENTRY POINT IN ISGGQWB0)       */ 02599800
*      5 GVTXQWB5 PTR(31),        /* ENTRY POINT OF ISGGQWB5 -          02605900
*                                    BUILD SYSID DEQUEUE QWB ROUTINE    02612000
*                                    (ENTRY POINT IN ISGGQWB0)       */ 02618100
*      5 GVTXQWBF PTR(31),        /* ENTRY POINT OF ISGGQWBF -          02624200
*                                    FREE QWB ROUTINE                   02630300
*                                    (ENTRY POINT IN ISGGQWB0)       */ 02636400
*      5 GVTXRET1 PTR(31),        /* ENTRY POINT OF ISGCRET1 -          02642500
*                                    ERRET MODULE FOR XM-POST OF A      02650600
*                                    COMMAND REQUESTOR'S ECB         */ 02658700
*      5 GVTXMSP PTR(31),         /* ENTRY POINT OF ISGMIMSP -          02662200
*                                    GRS MESSAGE PROCESSOR intended     02664500
*                                    to replace ISGMSG00         @L4A*/ 02666800
*      5 GVTXBSM PTR(31),         /* Entry point of ISGBSM -RSA Send    02668000
*                                    Module.                     @L4A*/ 02669200
*      5 GVTXBRM PTR(31),         /* Entry point of ISGBRM -RSA         02670400
*                                    Receive Module.             @L4A*/ 02671600
*/********************************************************************/ 02673000
*/*                                                                  */ 02679100
*/*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS             */ 02685200
*/*   TRACE MODULE.                                                  */ 02685700
*/*                                                          @YA02661*/ 02686200
*/********************************************************************/ 02686700
*    3 GVTXTR   BDY(DWORD),       /* GRS TRACE SECTION           @L5C*/ 02687200
*      5 *        CHAR(4),        /* RESERVED                    @L5C*/ 02687900
*      5 GVTXTRAC PTR(31),        /* ENTRY POINT OF ISGTTRAC -          02688700
*                                    GRS TRACE MODULE.       @YA02661*/ 02689200
*/********************************************************************/ 02689700
*/*                                                                  */ 02690200
*/*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS             */ 02690700
*/*   RING PROCESSING MODULES.                                       */ 02691300
*/*                                                                  */ 02697400
*/********************************************************************/ 02703500
*    3 GVTXRING BDY(DWORD),       /* RING PROCESSING SECTION         */ 02709600
*      5 GVTXBRSV PTR(31),        /* ADDRESS OF RING PROCESSING         02716700
*                                    SYSTEM VECTOR TABLE             */ 02723800
*      5 GVTXBECB FIXED(31),      /* ECB USED BY ISGBTC TO WAIT FOR     02730900
*                                    UNUSUAL EVENTS TO OCCUR     @L1C*/ 02733900
*      5 GVTXSIVT PTR(31),        /* POINTER TO THE SYSID VALIDATION    02734400
*                                    TABLE - A 256 BYTE TABLE THAT IS   02734900
*                                    USED FOR VALIDATING THE QWBHSYID   02735400
*                                    FIELD IN QWB'S INSYS COPIED FROM   02735900
*                                    THE RSA, AND QWB'S TAKEN OFF THE   02736400
*                                    PROCESS QUEUE.  THIS TABLE IS ALSO 02736900
*                                    USED FOR ASSIGNING A SYSID TO A    02737400
*                                    SYSTEM JOINING THE COMPLEX.        02737900
*                                                            @YA13087*/ 02738400
*      5 GVTXMIAR FIXED(31),      /* MESSAGE-ID OF AUTO-REJOIN MESSAGE  02738700
*                                    OR ZERO.  THIS ID CAN BE USED TO   02739000
*                                    DELETE MESSAGE ISG028E.            02739300
*                                                            @YA13087*/ 02739600
*/********************************************************************/ 02740100
*/*                                                                  */ 02746200
*/*   THE FOLLOWING FIELD IS USED PRIMARILY BY THE GRS               */ 02752300
*/*   CTC-DRIVER MODULES.                                            */ 02758400
*/*                                                                  */ 02764500
*/********************************************************************/ 02770600
*    3 GVTXCTCS BDY(DWORD),       /* CTC-DRIVER SECTION              */ 02776700
*      5 GVTXJGCV PTR(31),        /* ADDRESS OF THE GRS CTC-DRIVER      02782800
*                                    VECTOR TABLE                    */ 02788900
*/********************************************************************/ 02807200
*/*                                                                  */ 02813400
*/*   THE FOLLOWING FIELD IS USED BY COMMAND-ROUTER TASK AND         */ 02815500
*/*   RING PROCESSING EXCEPTION-HANDLER TASK                         */ 02817600
*/*                                                                  */ 02819700
*/********************************************************************/ 02821800
*    3 GVTXCVGL FIXED(31),        /* COUNT OF VARY-ONLINE OPERATIONS    02823900
*                                    FOR GRS LINKS               @P3A*/ 02826000
*/********************************************************************/ 02828100
*/*                                                                  */ 02830200
*/* THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS               */ 02833100
*/* GLOBAL RESOURCE PROCESSOR                                        */ 02852800
*/*                                                                  */ 02872500
*/********************************************************************/ 02892200
*    3 GVTXGRPS BDY(DWORD),       /* GLOBAL RESOURCE PROCESSOR SECTION  02911900
*                                                            @YA13087*/ 02931600
*      5 GVTXQWBV PTR(31),        /* ADDRESS OF THE QWB THAT IS         02951300
*                                    CURRENTLY BEING VALIDITY           02971000
*                                    CHECKED BY ISGGRP00     @YA13087*/ 02990700
*      5 GVTXQWBD PTR(31),        /* QUEUE HEAD TO A CHAIN OF QWB'S     03010400
*                                    THAT WERE DETERMINED BY ISGGRP00   03030100
*                                    TO BE DAMAGED.  THIS CHAIN IS      03049800
*                                    FOR DEBUGGING PURPOSES. @YA13087*/ 03069500
*/********************************************************************/ 03089200
*/*                                                                  */ 03108900
*/*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS             */ 03128600
*/*   INITIALIZATION MODULES.                                        */ 03149200
*/*                                                                  */ 03182400
*/********************************************************************/ 03215600
*    3 GVTXINIT BDY(DWORD),       /* GRS INITIALIZATION SECTION      */ 03248800
*      5 GVTXECB0 FIXED(31),      /* IN RING-MODE, ECB USED BY          03254900
*                                    ISGNAR TO WAIT FOR ISGCMDR TO      03261000
*                                    TERMINATE (NORMAL OR ABNORMAL).    03267100
*                                    IN STAR-MODE, ECB USED             03273200
*                                    BY ISGNST TO WAIT FOR ISGCMDR      03279300
*                                    TO TERMINATE (NORMAL OR            03285400
*                                    ABNORMAL).                  @LCC*/ 03291500
*      5 GVTXECB1 FIXED(31),      /* IN RING-MODE, ECB USED BY          03297600
*                                    ISGNAR TO WAIT FOR ISGGRP00        03303700
*                                    TO COMPLETE INITIALIZATION.        03309800
*                                    IN NONE-MODE, ECB USED BY          03315900
*                                    ISGNASIM TO WAIT FOR ISGGRP00      03322000
*                                    TO COMPLETE INITIALIZATION. @L8C*/ 03328100
*      5 GVTXECB2 FIXED(31),      /* IN RING-MODE, ECB USED BY          03334200
*                                    ISGNAR TO WAIT FOR ISGGRP00        03340300
*                                    TO TERMINATE (NORMAL OR            03346400
*                                    ABNORMAL).                         03352500
*                                    IN NONE-MODE, ECB USED BY          03358600
*                                    ISGNASIM TO WAIT FOR ISGGRP00      03364700
*                                    TO TERMINATE (NORMAL OR            03370800
*                                    ABNORMAL).                  @L8C*/ 03376900
*      5 GVTXECB3 FIXED(31),      /* IN RING-MODE, ECB USED BY          03383000
*                                    ISGNAR TO WAIT FOR ISGBTC          03389100
*                                    TO COMPLETE INITIALIZATION. @L8C*/ 03395200
*      5 GVTXECB4 FIXED(31),      /* IN RING-MODE, ECB USED BY          03401300
*                                    ISGNAR TO WAIT FOR ISGBTC          03407400
*                                    TO TERMINATE (NORMAL OR            03413500
*                                    ABNORMAL).                  @L8C*/ 03419600
*      5 GVTXECB5 FIXED(31),      /* IN RING-MODE, ECB USED BY          03425700
*                                    ISGNAR TO WAIT FOR ISGNGRSP        03431800
*                                    TO TERMINATE (NORMAL OR            03437900
*                                    ABNORMAL).                  @L8C*/ 03444000
*      5 *        FIXED(31),      /*                             @LDC*/ 03450100
*      5 GVTXGCBS FIXED(31),      /* SIZE OF GRS CONTROL BLOCKS         03458500
*                                    (GVTX,LQHT,RPT,GQHT,SAHT)          03464700
*                                                                @LDC*/ 03470900
*      5 GVTXERQS FIXED(31),      /* SIZE OF GRS EXTENDED RESOURCE      03477300
*                                    QUEUE AREA                  @L2A*/ 03483600
*      5 *      CHAR(4),          /* RESERVED                    @L2C*/ 03489900
*/********************************************************************/ 03496200
*/*                                                                  */ 03546200
*/*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE GRS             */ 03596200
*/*   STORAGE MANAGEMENT MODULES.                                    */ 03646200
*/*                                                                  */ 03696200
*/********************************************************************/ 03746200
*    3 GVTXSMGS BDY(DWORD),       /* GRS STORAGE MANAGER SECTION     */ 03796200
*      5 *        PTR(31),        /*                             @LDC*/ 03840800
*      5 *        PTR(31),        /*                             @LDC*/ 03885400
*      5 *        PTR(31),        /*                             @LDC*/ 03930000
*      5 GVTXGQHT PTR(31),        /* ADDRESS OF GLOBAL QUEUE HASH       03974700
*                                    TABLE                           */ 04010400
*      5 GVTXLQHT PTR(31),        /* ADDRESS OF LOCAL QUEUE HASH        04046100
*                                    TABLE                           */ 04081800
*      5 GVTXSAHT PTR(31),        /* ADDRESS OF SYSTEM/ASID HASH        04093600
*                                    TABLE                           */ 04105400
*      5 GVTXGRPT PTR(31),        /* ADDRESS OF GLOBAL RESOURCE POOL    04117500
*                                    TABLE                           */ 04153200
*      5 *        PTR(31),        /*                             @LDC*/ 04203200
*      5 GVTXGSAR CHAR(72),       /* GLOBAL SAVE AREA (SERIALIZED BY    04260300
*                                    GRS LOCAL LOCK)                 */ 04296000
*      5 GVTXLSAR CHAR(72),       /* LOCAL SAVE AREA (SERIALIZED BY     04331700
*                                    CMS ENQ/DEQ CLASS LOCK)         */ 04367400
*      5 GVTXGSMP CHAR(16),       /* GLOBAL STORAGE MANAGEMENT          04411000
*                                    PARAMETER LIST (SERIALIZED         04454600
*                                    BY GRS LOCAL LOCK)              */ 04498200
*      5 GVTXLSMP CHAR(16),       /* LOCAL STORAGE MANAGEMENT           04541800
*                                    PARAMETER LIST (SERIALIZED BY      04585400
*                                    CMS ENQ/DEQ CLASS LOCK)         */ 04629000
*      5 GVTXLWK@ PTR(31),        /* ADDRESS OF THE WORK AREA USED BY   04646400
*                                    ISGSALC AND ISGSDAL. THIS AREA IS  04663800
*                                    SERIALIZED BY THE GRS LOCAL LOCK   04681200
*                                                                @LCC*/ 04698600
*      5 GVTXTTR@ PTR(31),        /* ADDRESS OF WORK AREA USED IN       04716000
*                                    ISGTTRAC WHEN CALLED BY ISGSALC.   04733400
*                                    THIS AREA IS SERIALIZED BY         04750800
*                                    CMSEQDQ  CLASS LOCK).       @P7A*/ 04768200
*      5 *        CHAR(8),        /* RESERVED                    @P7C*/ 04785600
*      5 GVTXCWK@ PTR(31),        /* ADDRESS OF THE WORK AREA USED BY   04803000
*                                    ISGSALC AND ISGSDAL. THIS AREA IS  04820400
*                                    SERIALIZED BY THE GRS CMS ENQ/DEQ  04837800
*                                    LOCK                        @LCC*/ 04855200
*      5 GVTX_GSEHE@  PTR(31),    /* ADDRESS OF ISGGSEHE         @LPA*/ 04864000
*      5 GVTX_GSERE@  PTR(31),    /* ADDRESS OF ISGGSERE         @LPA*/ 04872800
*      5 *        CHAR(4),        /* RESERVED                    @LPC*/ 04881600
*      5 GVTXSRB PTR(31),         /* ADDRESS OF SRB FOR ISGSPRLS     */ 04890600
*      5 GVTXSRBW PTR(31),        /* ISGXSRBW, SRB TIMED WAIT    @03C*/ 04960590
*      5 *        FIXED(31),      /*                             @LDC*/ 04990600
*      5 GVTXERQA PTR(31),        /* ADDRESS OF GRS EXTENDED RESOURCE   05232100
*                                    QUEUE AREA                  @L2C*/ 05240000
*      5 GVTXEBMP PTR(31),        /* POINTER TO ERQA BIT MAP     @L2A*/ 05247900
*      5 GVTXEBML FIXED(32),      /* LENGTH OF ERQA BIT MAP IN BYTES    05255900
*                                                                @LDC*/ 05263900
*      5 GVTXF1SA CHAR(72),       /* ISGGFRR1 SAVE AREA (SERIALIZED BY  05272000
*                                    GRS LOCAL LOCK)         @ZA78010*/ 05284100
*/********************************************************************/ 05285100
*/*                                                                  */ 05286100
*/*   THE FOLLOWING FIELDS ARE USED PRIMARILY BY THE FAST DEQ        */ 05287100
*/*   FUNCTION                                                   @L3A*/ 05288100
*/*                                                                  */ 05289100
*/********************************************************************/ 05290100
*    3 GVTXFD  BDY(DWORD),        /* FAST DEQ SECTION            @L3A*/ 05291100
*      5 GVTXSTAD PTR(31),          /* ADDRESS OF THE FAST DEQ SLOT     05292100
*                                    TABLE                       @L3A*/ 05293100
*      5 GVTXFDEQ PTR(31),          /* ENTRY POINT OF ISGGFDEQ - FAST   05294100
*                                    DEQ GATE ROUTINE            @L3A*/ 05295100
*/********************************************************************/ 05295200
*/*                                                                  */ 05295300
*/*      DECLARATION FOR DYNAMIC RNL SECTION                         */ 05295400
*/*                                                                  */ 05295500
*/********************************************************************/ 05295600
*    3 GVTXDRNL BDY(DWORD),       /* Dynamic RNL section         @L8C*/ 05295700
*      5 GVTXCRES PTR(31),        /* Entry point of ISGCREST -          05295800
*                                    GRS command recovery module for    05295900
*                                    dynamic RNL support         @L6A*/ 05296000
*      5 GVTXMAS PTR(31),          /* Master A.S. ASCB address   @L6A*/ 05308500
*    3 GVTXLMVT PTR(31),          /* addr latch mngr vector tbl  @L8A*/ 05316800
*    3 *        PTR(31),          /* Reserved                    @LAA*/ 05316900
*/********************************************************************/ 05317000
*/*                                                                  */ 05317100
*/*      Declaration for Star mode Section                           */ 05317200
*/*                                                                  */ 05317300
*/********************************************************************/ 05317400
*    3 GVTX_STAR BDY(DWORD),       /* Star mode Section          @LCC*/ 05317500
*/********************************************************************/ 05317600
*/*                                                                  */ 05317700
*/*   The following fields are used as anchors for control blocks    */ 05317800
*/*   associated with major GRS functions.                           */ 05317900
*/*                                                                  */ 05318000
*/********************************************************************/ 05318100
*      5 GVTX_QVT@ PTR(31),       /* Address of the GRS Queue Scan      05318200
*                                    Vector Table (QVT) owned by the    05318300
*                                    GRS Queue Scan Task         @LBC*/ 05318400
*      5 GVTX_SST@ PTR(31),       /* Address of System Server Table     05318500
*                                    (SST) owned by the System Server   05318600
*                                    task                        @LAA*/ 05318700
*      5 GVTX_GGT@ PTR(31),       /* Address of GRS Group Table (GGT)   05318800
*                                    owned by the GRS Group Exit @LAA*/ 05318900
*      5 *         PTR(31),       /*                             @LEC*/ 05319000
*      5 *         PTR(31),       /*                             @LEC*/ 05319100
*      5 GVTX_LSCT@ PTR(31),      /* Address of the Lock Structure      05319200
*                                    Control Table(LSCT)         @LAA*/ 05319300
*      5 *          PTR(31),      /*                             @LIC*/ 05319400
*                                                                       05319500
*      5 GVTX_GGTRebuildArea@ PTR(31), /* Address of GGT Rebuild Area   05319600
*                                                                @LAA*/ 05319700
*      5 * CHAR(12),              /* Reserved                    @LAA*/ 05319800
*/********************************************************************/ 05319900
*/*                                                                  */ 05320000
*/*   TCB addresses of all the primary tasks in Star-mode.           */ 05320100
*/*                                                                  */ 05320200
*/********************************************************************/ 05320300
*      5 GVTX_SSTCB@   PTR(31),    /* Address of System Server TCB.     05320400
*                                                                @LAA*/ 05320500
*      5 GVTX_GQTCB@   PTR(31),    /* Address of GQSCAN Server TCB.     05320600
*                                                                @LCC*/ 05320700
*      5 * CHAR(4),                /* Reserved                   @PAC*/ 05320800
*      5 GVTX_CMDRTCB@ PTR(31),    /* Address of Command Router TCB     05320900
*                                                                @LAA*/ 05321000
*/********************************************************************/ 05321100
*/*                                                                  */ 05321200
*/*   ECBs used in Star-Mode.                                        */ 05321300
*/*                                                                  */ 05321400
*/********************************************************************/ 05321500
*      5 *                CHAR(8),   /* Reserved                 @PAC*/ 05321600
*      5 GVTX_GQ_TERMECB  FIXED(31), /* In Star-mode, ECB               05321700
*                                    used by ISGNST to wait for the     05321800
*                                    GQSCAN Server task to terminate    05321900
*                                    either normally or abnormally.     05322000
*                                                                @LCC*/ 05322100
*      5 GVTX_SS_TERMECB  FIXED(31), /* In Star-mode, ECB               05322200
*                                    used by ISGNST to wait for the     05322300
*                                    System Server task to terminate    05322400
*                                    either normally or abnormally.     05322500
*                                                                @LCC*/ 05322600
*/********************************************************************/ 05322700
*/*                                                                  */ 05322800
*/*   Central-Server-Mode Hash Tables.                               */ 05322900
*/*                                                                  */ 05323000
*/*   In addition to the hash tables defined below, the GVTXLQHT     */ 05323100
*/*   hash table is also used when running in Central Server mode.   */ 05323200
*/*                                                                  */ 05323300
*/********************************************************************/ 05323400
*      5 GVTXSGHT  PTR(31),       /* Address of System Global Hash      05323500
*                                    Table. Only global resource        05323600
*                                    requests initiated on this         05323700
*                                    system are queued to this          05323800
*                                    table.                      @LAA*/ 05323900
*/********************************************************************/ 05324000
*/*                                                                  */ 05324100
*/*   Pointers to Star Mode specific routines                    @LJA*/ 05324200
*/*                                                                  */ 05324300
*/********************************************************************/ 05324400
*      5 GVTX_GERTS PTR(31),      /* Address of ISGGERTS, the Star      05324500
*                                    mode ENQ RET=TEST routine.  @LJC*/ 05324600
*      5 * PTR(31),               /* Reserved                    @LJC*/ 05324700
*/********************************************************************/ 05324800
*/*                                                                  */ 05324900
*/*   Cell Pool IDs for Dynamic areas and Workareas used by GRS      */ 05325000
*/*                                                                  */ 05325100
*/********************************************************************/ 05325200
*      5 GVTX_R24WORKAREA1_CPID PTR(32), /* Cell pool ID for workareas  05325300
*                                    below the 16M line. These cells    05325400
*                                    are intended for use by any module 05325500
*                                    that requires a workarea below the 05325600
*                                    16M line for use other than for    05325700
*                                    local working storage.      @LAA*/ 05325800
*      5 GVTX_R31WORKAREA1_CPID PTR(32), /* Cell pool ID for workareas  05325900
*                                    above the 16M line. These cells    05326000
*                                    are intended for use by any module 05326100
*                                    that requires a workarea above the 05326200
*                                    16M line for use other than for    05326300
*                                    local working storage.      @LAA*/ 05326400
*      5 GVTX_R24DYNAREA1_CPID PTR(32), /* Cell pool ID for dynamic     05326500
*                                    areas below the 16M line. These    05326600
*                                    cells are intended for use only by 05326700
*                                    modules running in SRB mode which  05326800
*                                    require a local storage area       05326900
*                                    below the 16M line.         @LAA*/ 05327000
*      5 GVTX_R31DYNAREA1_CPID PTR(32), /* Cell pool ID for dynamic     05327100
*                                    areas above the 16M line. These    05327200
*                                    cells are intended for use only by 05327300
*                                    modules running in SRB mode which  05327400
*                                    require a local storage area       05327500
*                                    above the 16M line.         @LAA*/ 05327600
*      5 GVTX_R31DYNAREA2_CPID PTR(32), /* Cell pool ID for large       05327700
*                                    dynamic areas above the 16M line.  05327800
*                                    These cells are intended to be     05327900
*                                    used as stack storage for ASA      05328000
*                                    linkage modules.            @LBA*/ 05328100
*      5 *       CHAR(8),         /* Reserved words for additional      05328200
*                                    cell pool ids.              @LBC*/ 05328300
*/********************************************************************/ 05328400
*/*                                                                  */ 05328500
*/*   GRS Module Table Vector Table                                  */ 05328600
*/*                                                                  */ 05328700
*/********************************************************************/ 05328800
*      5 GVTXMTVT(1:20) PTR(31),  /* Vector table used for linkage.     05328900
*                                    Points to the module tables        05329000
*                                    for each of the GRS subcomponents  05329100
*                                    that use ASA linkage.       @LAA*/ 05329200
*/********************************************************************/ 05329300
*/*                                                                  */ 05329600
*/* Storage used for mapping the SYSEVENT parameters for reporting   */ 05329700
*/* ENQHOLD and ENQRLSE to SRM.  This storage is obtained and page   */ 05329800
*/* fixed by ISGNASIM.                                               */ 05329900
*/*                                                              @LPC*/ 05330000
*/********************************************************************/ 05330100
*      5 GVTX_GlobalHRParmList@ ptr(31), /* Address of the SYSEVENT     05330200
*                                    parameter list used for global     05330300
*                                    resources.  Serialized by the      05330400
*                                    GRS local lock.             @LPC*/ 05330500
*      5 GVTX_LocalHRParmList@ ptr(31), /* Address of the SYSEVENT      05330600
*                                    parameter list used for local      05330700
*                                    resources.  Serialized by the      05330800
*                                    CMSEQDQ lock.               @LPC*/ 05330900
*      5 GVTX_CNVT@ PTR(31),      /* Address of the contention          05331000
*                                    notification vector table   @LMC*/ 05331100
*      5 GVTX_WorkArea@ PTR(31),  /* Address of a work block,           05331200
*                                    available for use by anyone        05331300
*                                    holding the CMSEQDQ lock.   @02C*/ 05331400
*/********************************************************************/ 05331500
*/*                                                                  */ 05331600
*/* Storage associated with SYNCHRES processing                  @PBA*/ 05331700
*/*                                                                  */ 05331800
*/********************************************************************/ 05331900
*      5 GVTX_IOSVDSTF@ PTR(31),  /* Address of IOSVDSTF (SynchRes      05332000
*                                      processing)               @PBA*/ 05332100
*      5 GVTX_ISG348EDOMID FIXED(32), /* DOMID for ISG348E       @PBA*/ 05332200
*/********************************************************************/ 05332300
*/*                                                                  */ 05332400
*/*   Maximum size answer area needed when querying the entire       */ 05332500
*/*   GRS group in Star mode.                                        */ 05332600
*/*                                                                  */ 05332700
*/********************************************************************/ 05332800
*      5 GVTX_MaxAnswerAreaSize FIXED(32), /* Maximum answer area       05332900
*                                    size for querying the entire       05333000
*                                    GRS group.                  @LAA*/ 05333100
*/********************************************************************/ 05333200
*/*                                                                  */ 05333300
*/*   GRS Star Migration area (for migration from Ring mode)         */ 05333400
*/*                                                              @LFA*/ 05333500
*/********************************************************************/ 05333600
*      5 GVTX_Star_Migration_ECB FIXED(32), /* ECB waited on by ISGNAR  05333700
*                                    and posted by ISGCIMS/ISGCPMS to   05333800
*                                    terminate Ring mode.  ISGNAR will  05333900
*                                    return to ISGNASIM, which then     05334000
*                                    calls ISGNST to initialize Star    05334100
*                                    mode.                       @LFA*/ 05334200
*      5 GVTX_Star_Mode_Ready_ECB FIXED(32), /* ECB to notify ISGNMIG   05334300
*                                    that all old QWBs from Ring mode   05334400
*                                    are on the system server process   05334500
*                                    queue, and new requests can now    05334600
*                                    be processed.               @LFA*/ 05334700
*      5 GVTX_Mig_Flags Bit(8),   /* Migration Bit Flags         @LFA*/ 05334800
*        7 GVTX_StarMigrationInProgress bit(1), /*               @LFA*/ 05334900
*        7 GVTX_StarMigInitiator bit(1), /* The migration to Star mode  05335000
*                                    was initiated on this system.      05335100
*                                                                @LFA*/ 05335200
*        7 GVTX_SysFailureInMigration bit(1), /* During migration a     05335300
*                                    system failed.  Reconciliation     05335400
*                                    must be called.             @LFA*/ 05335500
*        7 GVTX_No_StarMig_Backoff bit(1), /* Star migration cannot be  05335600
*                                    cancelled.  If any migration       05335700
*                                    failure occurs, it will cause a    05335800
*                                    wait state.                 @LFA*/ 05335900
*        7 GVTX_StarMig_Left_SYSGRS bit(1), /* During migration to Star 05336000
*                                    mode, marks the point when the     05336100
*                                    IXCLEAVE has been done      @P8A*/ 05336200
*        7 GVTX_StarMig_Population bit(1), /* Migration is currently    05336300
*                                    populating the lock structure with 05336400
*                                    requests from the ring      @P9A*/ 05336500
*        7 * bit(2),              /* Reserved                    @P9C*/ 05336600
*      5 * Char(3),              /* Reserved                     @LFA*/ 05336700
*                                /*                             8@LMD*/ 05336800
*/********************************************************************/ 05336900
*/*                                                                  */ 05337000
*/*   GRS Star Dynamic RNL Area (for command SET GRSRNL)         @LNA*/ 05337100
*/*                                                                  */ 05337200
*/********************************************************************/ 05337300
*    3 GVTX_StarSETGRSRNLArea bdy(word),                      /* @LNA*/ 05337400
*      5 GVTX_RCAS@ ptr(31),         /* Pointer to the star-mode RCA    05337500
*                                       extension (RCAS).  Valid only   05337600
*                                       in star-mode.            @LNA*/ 05337700
*      5 GVTX_RNLChangeECB fixed(32), /* ECB used to communicate        05337800
*                                       between the SET GRSRNL command  05337900
*                                       processor and ISGGRNX/ISGXMX    05338000
*                                       during message broadcast.       05338100
*                                       Post reasons are defined in     05338200
*                                       ISGYRCAS.                @LOA*/ 05338300
*      5 GVTX_RNLSummaryECB fixed(32), /* ECB used to communicate       05338400
*                                       between the SET GRSRNL command  05338500
*                                       processor and ISGGRNX/ISGXMX    05338600
*                                       during message broadcast.       05338700
*                                       Post reasons are defined in     05338800
*                                       ISGYRCAS.                @LOA*/ 05338900
*      5 GVTX_RNLCancelECB fixed(32), /* ECB used to notify the         05339000
*                                       SET GRSRNL command processor    05339100
*                                       of cancel request from other    05339200
*                                       systems in the sysplex.  Post   05339300
*                                       reasons are defined in          05339400
*                                       ISGYRCAS.                @LOA*/ 05339500
*      5 GVTX_StarSETGRSRNLID fixed(32), /* Command ID used to uniquely 05339600
*                                       identify a SET GRSRNL command.  05339700
*                                       This value plus one gives the   05339800
*                                       next available command ID.      05339900
*                                                                @LNA*/ 05340000
*      5 GVTX_StarSETGRSRNLFlags bit(8), /* Dynamic RNL flags    @LNA*/ 05340100
*        7 GVTX_StarSETGRSRNLInProgress bit(1), /* RNL change is in     05340200
*                                       progress                 @LNA*/ 05340300
*        7 GVTX_StarSETGRSRNLInitiator bit(1), /* The RNL change        05340400
*                                       process was initiated on this   05340500
*                                       system                   @LNA*/ 05340600
*        7 GVTX_ReadyToCutover bit(1), /* The initiating system is      05340700
*                                       ready to cutover to the new     05340800
*                                       RNLs - no delay reasons exist   05340900
*                                       in the sysplex           @LNA*/ 05341000
*        7 GVTX_CancelByInitiator bit(1), /* SET GRSRNL has been        05341100
*                                       cancelled by the initiating     05341200
*                                       system                   @LNA*/ 05341300
*        7 * bit(4),                 /* Reserved                 @LNA*/ 05341400
*      5 * char(3),                  /* Reserved                 @LNA*/ 05341500
*                                                             /* @LOC*/ 05341600
*    3 GVTXEND CHAR(0) BDY(WORD); /* END OF GVTX                     */ 05341700
*@SPACE(3);                                                             05346200
*/********************************************************************/ 05396200
*/*                                                                  */ 05446200
*/*      DECLARATION OF THE RQA BIT MAP                              */ 05496200
*/*                                                                  */ 05546200
*/********************************************************************/ 05596200
*  DECLARE                                                              05646200
*   GVTXEBTM (*) BIT(32) BDY(WORD) BASED(GVTXEBMP); /*GRS ERQA BIT MAP  05846200
*                                    (SERIALIZED BY COMPARE AND SWAP    05896200
*                                    LOGIC)                      @L2A*/ 05946200
*  dcl                                                                  05996200
*     GVTX_kWorkAreaSize constant(4096*3) /* Size of work area          06046200
*                                    addressed by GVTX_WorkArea@ @02C*/ 06096200
*    ;                                                                  06146200
*/********************************************************************/ 06147200
*/*                     ISGXSRBW DECLARE                         @03A*/ 06148200
*/********************************************************************/ 06149200
*                                                                       06150200
*   DCL                                                                 06151200
*     ISGXSRBW ENTRY(CHAR(8) BYADDR) BASED(GVTXSRBW) VALRG(*)           06152200
*     OPTIONS(AMODE(31),RMODE(ANY)); /* SRB TIMED WAIT SERVICE   @03C*/ 06153200
