*  /* $MAC(IECOIEXL) COMP(SC1D1) PROD(DMS-Z): DCB OPEN INSTALLATION  */ 00050000
*  /*                                         EXIT PARAMETER LIST    */ 00100000
*/*PROPRIETARY V3 STATEMENT                                          */ 00125000
*/*LICENSED MATERIALS - PROPERTY OF IBM                              */ 00150000
*/*"RESTRICTED MATERIALS OF IBM"                                     */ 00175000
*/*5695-DF1                                                          */ 00200000
*/*(C) COPYRIGHT 1981  IBM CORP.                                     */ 00225000
*/*END PROPRIETARY V3 STATEMENT                                      */ 00262500
*  /* CHANGE ACTIVITY SUMMARY -                                      */ 00300000
*  /*    VERSION 1, RELEASE 1   JDM1137                              */ 00350000
*  /*    $L1=OIEX,JDM1137,TXXXXXX,STLRRB: DCB OPEN INSTALLATION EXIT */ 00400000
*/*$L2=DFP/XA,HDP2210,84115,STLRGB: NEW COPYRIGHT MACRO          @L2A*/ 00416600
*/*$01=OY65376,JDZ1110,930702,SJPLRCW: MSGIEV044 EXPANDING MACRO @01A*/ 00424900
.*                                                                      00433200
*%GOTO   OIEXPLS;                                                       00450000
         MACRO                                                          00500000
&LABEL   IECOIEXL &DSECT=YES                                            00550000
.** START OF SPECIFICATIONS ******************************************* 00600000
.*                                                                      00650000
.* IECOIEXL                                                             00700000
.*                                                                      00750000
.* DESCRIPTIVE-NAME = DCB OPEN INSTALLATION EXIT PARAMETER LIST MAPPING 00800000
.*                    MACRO                                             00850000
.*                                                                      00900000
.* STATUS = RELEASE 1, LEVEL 0                                          01050000
.*                                                                      01100000
.* FUNCTION = THIS MACRO MAPS THE PARAMETER LIST PASSED BY OPEN TO THE  01150000
.*            INSTALLATION EXIT MODULE, IFG0EX0B,                       01200000
.*                                                                      01250000
.* NOTES = NONE                                                         01300000
.*                                                                      01350000
.* PATCH-LABEL = NOT APPLICABLE                                         01400000
.*                                                                      01450000
.* MODULE-TYPE = MACRO                                                  01500000
.*                                                                      01550000
.*   PROCESSOR = PLS OR BAL                                             01600000
.*                                                                      01650000
.*   ATTRIBUTES = MAPPING MACRO                                         01700000
.*                                                                      01750000
.* ENTRY-POINT = N/A                                                    01800000
.*                                                                      01850000
.*   PURPOSE = SEE FUNCTION ABOVE.                                      01900000
.*                                                                      01950000
.*   LINKAGE = PLS -  INCLUDE IECOIEXL                                  02000000
.*             IF THE MACRO VARIABLE, OIEXPRM, IS SET TO 'YES',         02050000
.*             THE OIEXL WILL NOT BE DECLARED BASED.                    02100000
.*             OTHERWISE IT IS BASED ON OIEXPTR.                        02150000
.*                                                                      02200000
.*             BAL -  LABEL  IECOIEXL DSECT=NO | DSECT=YES              02250000
.*                                                                      02300000
.*   INPUT   = PLS - NONE                                               02350000
.*             BAL - 'LABEL' WILL CAUSE THE DSECT OR DS STATEMENT       02400000
.*                   TO HAVE THE SUPPLIED LABEL INSTEAD OF 'OIEXL'.     02450000
.*                   DSECT=NO RESULTS IN A DS INSTEAD OF A DSECT        02500000
.*                   TO BE GENERATED.                                   02550000
.*                                                                      02600000
.*   OUTPUT = DCB OPEN INSTALLTAION EXIT PARAMETER LIST MAPPING.        02650000
.*                                                                      02700000
.* EXIT-NORMAL = MEND STATEMENT                                         02750000
.*                                                                      02800000
.* EXIT-ERROR = INVALID SPECIFICATION OF DSECT KEYWORD.                 02850000
.*                                                                      02900000
.* EXTERNAL-REFERENCES = N/A                                            02950000
.*                                                                      03000000
.* TABLES = NONE                                                        03050000
.*                                                                      03100000
.* MACROS = NONE                                                        03150000
.*                                                                      03200000
.*** END OF SPECIFICATIONS ******************************************** 03250000
         LCLC  &L                      DEFINE LOCAL CHAR VARIABLE       03300000
&L       SETC  'OIEXL'                                                  03350000
         AIF   ('&LABEL' EQ '').CDSECT                                  03400000
&L       SETC  '&LABEL'                                                 03450000
.CDSECT  ANOP                                                           03500000
         SPACE 1                                                        03550000
*********************************************************************** 03600000
*        DCB OPEN INSTALLATION EXIT PARAMETER LIST                      03650000
*********************************************************************** 03700000
         SPACE 1                                                        03750000
         AIF   ('&DSECT' EQ 'NO').NDSECT1                               03800000
         AIF   ('&DSECT' EQ 'YES').DSECT1                               03850000
         MNOTE 12,'***  IHB001 INVALID OPERAND - DSECT=&DSECT'          03900000
         AGO   .FINISH                                                  03950000
.DSECT1  ANOP                                                           04000000
&L       DSECT                         DCB OPEN INSTALLATION EXIT PLIST 04050000
         DS    0F                                                       04100000
         AGO   .PL                                                      04150000
.NDSECT1 ANOP                                                           04200000
&L       DS    0F                      DCB OPEN INSTALLATION EXIT PLIST 04250000
.PL      ANOP                                                           04300000
OIEXOOPT DS    X                       OPEN OPTION (LAST 4 BITS).       04350000
OIEXRSVD EQU   X'F0'                   FIRST 4 BITS RESERVED.           04400000
OIEXOOUT EQU   15                      OUTPUT VALUE OF OIEXOOPT         04450000
OIEXOOIN EQU   7                       OUTIN VALUE OF OIEXOOPT          04500000
OIEXOUPD EQU   4                       UPDATE VALUE OF OIEXOOPT         04550000
OIEXOINO EQU   3                       INOUT VALUE OF OIEXOOPT          04600000
OIEXORDB EQU   1                       RDBACK VALUE OF OIEXOOPT         04650000
OIEXOINP EQU   0                       INPUT VALUE OF OIEXOOPT          04700000
OIEXUKEY DS    X                       USER PROTECT KEY. KEY OF USER   *04750000
                                       DCB                              04800000
OIEXLTH  DS    H                       LENGTH OF OIEX LIST              04850000
OIEXUDCB DS    A                       ADDRESS OF USER DCB IN USER     *04900000
                                       PROTECT KEY (OIEXUKEY)           04950000
OIEXPDCB DS    A                       ADDRESS OF PROTECTED COPY OF    *05000000
                                       DCB USED BY OPEN                 05050000
OIEXJFCB DS    A                       ADDRESS OF JFCB                  05100000
OIEXDSCB DS    A                       ADDRESS OF DATA PORTION (LAST   *05150000
                                       96 BYTES) OF FORMAT 1 DSCB IF   *05200000
                                       DASD                             05250000
OIEXTIOT DS    A                       ADDRESS OF TIOT ENTRY            05300000
OIEXUCB  DS    A                       ADDRESS OF UCB                   05350000
OIEXLN   EQU   *-&L                    LENGTH OF OIEXL            @01C  05400000
.FINISH  MEND                                                           05450000
**********************************************************************/ 05500000
*%OIEXPLS: ;                                                            05550000
*                                                                       05600000
*/********************************************************************/ 05650000
*/*      DCB OPEN INSTALLATION EXIT PARAMETER LIST                   */ 05700000
*/********************************************************************/ 05750000
*                                                                       05800000
* DCL 1 OIEXL BDY(WORD)                                                 05850000
*%IF OIEXPRM='YES' %THEN %GOTO OIEX1;                                   05900000
*                      BASED(OIEXPTR)                                   05950000
*%OIEX1:;                                                               06000000
*                                , /* DCB OPEN INSTALLATION EXIT        06050000
*                                     PARAMETER LIST                 */ 06100000
*      2 *          BIT(8),                                             06150000
*        3 OIEXRSVD BIT(4),        /*FIRST 4 BITS RESERVED           */ 06200000
*        3 OIEXOOPT BIT(4),        /*OPEN OPTION. SEE VALUES BELOW   */ 06250000
*      2 OIEXUKEY   FIXED(8),      /*USER PROTECT KEY. KEY OF USER      06300000
*                                    DCB                             */ 06350000
*      2 OIEXLTH    FIXED(15),     /*LENGTH OF OIEX LIST             */ 06400000
*      2 OIEXUDCB   PTR(31),       /*ADDRESS OF USER DCB IN USER        06450000
*                                    PROTECT KEY (OIEXUKEY)          */ 06500000
*      2 OIEXPDCB   PTR(31),       /*ADDRESS OF PROTECTED COPY OF       06550000
*                                    DCB USED BY OPEN                */ 06600000
*      2 OIEXJFCB   PTR(31),       /*ADDRESS OF JFCB                 */ 06650000
*      2 OIEXDSCB   PTR(31),       /*ADDRESS OF DATA PORTION (LAST 96   06700000
*                                    BYTES) OF FORMAT 1 DSCB IF DASD */ 06750000
*      2 OIEXTIOT   PTR(31),       /*ADDRESS OF TIOT ENTRY           */ 06800000
*      2 OIEXUCB    PTR(31);       /*ADDRESS OF UCB                  */ 06850000
*/*              LENGTH OF OIEXL                                     */ 06900000
* DCL  OIEXLN CONSTANT(LENGTH(OIEXL));  /*LENGTH OF OIEXL            */ 06950000
*/*              VALUES OF OIEXOOPT                                  */ 07000000
* DCL  OIEXOOP  CONSTANT('1111'B) BIT(4); /*OUTPUT VALUE OF OIEXOOPT */ 07050000
* DCL  OIEXOOIN CONSTANT('0111'B) BIT(4); /*OUTIN VALUE OF OIEXOOPT  */ 07100000
* DCL  OIEXOUPD CONSTANT('0100'B) BIT(4); /*UPDATE VALUE OF OIEXOOPT */ 07150000
* DCL  OIEXOINO CONSTANT('0011'B) BIT(4); /*INOUT VALUE OF OIEXOOPT  */ 07200000
* DCL  OIEXORDB CONSTANT('0001'B) BIT(4); /*RDBACK VALUE OF OIEXOOPT */ 07250000
* DCL  OIEXOINP CONSTANT('0000'B) BIT(4); /*INPUT VALUE OF OIEXOOPT  */ 07300000
*/********************************************************************/ 07350000
