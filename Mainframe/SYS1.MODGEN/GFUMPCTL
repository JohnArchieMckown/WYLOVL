*/********************************************************************/ 00050000
*/*                                                                  */ 00100000
*/* $MAC(GFUMPCTL) COMP(DF185):                                      */ 00150000
*/*                                                                  */ 00200000
*/*  MACRO NAME: GFUMPCTL                                            */ 00250000
*/*                                                                  */ 00300000
*/*  DESCRIPTION: HFS interfaces for vfs_pfsctl operations           */ 00350000
*/*                                                                  */ 00400000
*/*  STATUS: Version 1 Release 5.0                                   */ 00450000
*/*                                                                  */ 00500000
*/********************************************************************/ 00550000
*/*                                                                  */ 00600000
*/*PROPRIETARY V3 STATEMENT                                          */ 00650000
*/*LICENSED MATERIALS - PROPERTY OF IBM                              */ 00729990
*/*"RESTRICTED MATERIALS OF IBM"                                     */ 00759980
*/*5647-A01                                                          */ 00800000
*/*(C) COPYRIGHT 1993  IBM CORP.                                     */ 00850000
*/*END PROPRIETARY V3 STATEMENT                                      */ 01100000
*/*                                                                  */ 01150000
*/********************************************************************/ 01200000
*/*                                                                  */ 01250000
*/*  FUNCTION: Defines the commands and buffer area mappings         */ 01261300
*/*            for the following functions supported by HFS via the  */ 01272600
*/*            vfs_pfsctl operation:                                 */ 01283900
*/*                DisplayBufferLimits                               */ 01295200
*/*                ChangeBufferLimits                                */ 01306500
*/*                DisplayGlobalStats                                */ 01317800
*/*                DisplayFSStats                                    */ 01329100
*/*                ExtendFS                                          */ 01340400
*/*                                                                  */ 01352300
*/*  DESCRIPTION OF COMMANDS:                                        */ 01352400
*/*                                                                  */ 01352500
*/*  o DisplayBufferLimits command ('40000001'x)                     */ 01352600
*/*                                                                  */ 01352700
*/*      FUNCTION:                                                   */ 01352800
*/*      The vfs_pfsctl operation with the DisplayBufferLimits       */ 01352900
*/*      command will return the storage limits (specifically, the   */ 01353000
*/*      VMAX and FMIN values) for HFS buffers currently in effect.  */ 01353100
*/*                                                                  */ 01353200
*/*      INPUT:                                                      */ 01353300
*/*      The buffer address supplied by the input User_IO_Structure  */ 01353400
*/*      must point to an area of storage large enough to hold the   */ 01353500
*/*      area mapped by the PCTL_BFRLIMITS_TYPE structure.           */ 01353600
*/*                                                                  */ 01353700
*/*      For additional INPUTs and OUTPUTs, refer to the vfs_pfsctl  */ 01353800
*/*      operation description found in the publication              */ 01353900
*/*      OS/390 UNIX System Services File System Interface Reference.*/ 01354000
*/*                                                                  */ 01354100
*/*      NOTES:                                                      */ 01354200
*/*      - This command does not require the caller to be authorized.*/ 01354300
*/*      - The VMAX and FMIN values are in MBs.                      */ 01354400
*/*                                                                  */ 01354500
*/*                                                                  */ 01354600
*/*  o ChangeBufferLimits command ('00000002'x)                      */ 01354700
*/*                                                                  */ 01354800
*/*      FUNCTION:                                                   */ 01354900
*/*      The vfs_pfsctl operation with the ChangeBufferLimits        */ 01355000
*/*      command will modify the storage limits (specifically, the   */ 01355100
*/*      VMAX and FMIN values) for HFS buffers as requested.         */ 01355200
*/*                                                                  */ 01355300
*/*      INPUT:                                                      */ 01355400
*/*      The buffer address supplied by the input User_IO_Structure  */ 01355500
*/*      must point to an area of storage large enough to hold the   */ 01355600
*/*      area mapped by the PCTL_BFRLIMITS_TYPE structure.           */ 01355700
*/*      The following fields must be set within this structure:     */ 01355800
*/*      - Set the pctl_bl_action flag.                              */ 01355900
*/*      - To modify VMAX, set the pctl_bl_vmax flag and specify     */ 01356000
*/*        the new VMAX value in the field pctl_bl_vmax_val.         */ 01356100
*/*      - To modify FMIN, set the pctl_bl_fmin flag and specify     */ 01356200
*/*        the new FMIN value in the field pctl_bl_fmin_val.         */ 01356300
*/*                                                                  */ 01356400
*/*      For additional INPUTs and OUTPUTs, refer to the vfs_pfsctl  */ 01356500
*/*      operation description found in the publication              */ 01356600
*/*      OS/390 UNIX System Services File System Interface Reference.*/ 01356700
*/*                                                                  */ 01356800
*/*      NOTES:                                                      */ 01356900
*/*      - This command requires the caller to be authorized.        */ 01357000
*/*      - A request to modify both VMAX and FMIN may be made in     */ 01357100
*/*        one call.                                                 */ 01357200
*/*      - The VMAX and FMIN values are in megabytes (MB).           */ 01357300
*/*                                                                  */ 01357400
*/*  o DisplayGlobalStats command ('40000003'x)                      */ 01357500
*/*                                                                  */ 01357600
*/*      FUNCTION:                                                   */ 01357700
*/*      The vfs_pfsctl operation with the DisplayGlobalStats        */ 01357800
*/*      command will return HFS global system level statistics.     */ 01357900
*/*                                                                  */ 01358000
*/*      INPUT:                                                      */ 01358100
*/*      The buffer address supplied by the input User_IO_Structure  */ 01358200
*/*      must point to an area of storage large enough to hold the   */ 01358300
*/*      area mapped by the PCTL_GLOBALSTATS_TYPE structure.         */ 01358400
*/*                                                                  */ 01358500
*/*      For additional INPUTs and OUTPUTs, refer to the vfs_pfsctl  */ 01358600
*/*      operation description found in the publication              */ 01358700
*/*      OS/390 UNIX System Services File System Interface Reference.*/ 01358800
*/*                                                                  */ 01358900
*/*      NOTES:                                                      */ 01359000
*/*      - This command does not require the caller to be authorized.*/ 01359100
*/*                                                                  */ 01359200
*/*                                                                  */ 01359300
*/*  o DisplayFSStats command ('40000004'x)                          */ 01359400
*/*                                                                  */ 01359500
*/*      FUNCTION:                                                   */ 01359600
*/*      The vfs_pfsctl operation with the DisplayFSStats command    */ 01359700
*/*      will return HFS file system level statistics.  The values   */ 01359800
*/*      returned for file system statistics are associated with the */ 01359900
*/*      current mount of the specified file system.                 */ 01360000
*/*                                                                  */ 01360100
*/*      INPUT:                                                      */ 01360200
*/*      The buffer address supplied by the input User_IO_Structure  */ 01360300
*/*      must point to an area of storage large enough to hold the   */ 01360400
*/*      area mapped by the PCTL_FSSTATS_TYPE structure.  The file   */ 01360500
*/*      system name must be supplied as input in the field          */ 01360600
*/*      pctl_fs_name within the PCTL_FSSTATS_TYPE structure.        */ 01360700
*/*                                                                  */ 01360800
*/*      For additional INPUTs and OUTPUTs, refer to the vfs_pfsctl  */ 01360900
*/*      operation description found in the publication              */ 01361000
*/*      OS/390 UNIX System Services File System Interface Reference.*/ 01361100
*/*                                                                  */ 01361200
*/*      NOTES:                                                      */ 01361300
*/*      - This command does not require the caller to be authorized.*/ 01361400
*/*                                                                  */ 01361500
*/*                                                                  */ 01361600
*/*  o ExtendFS command ('00000005'x)                                */ 01361700
*/*                                                                  */ 01361800
*/*      FUNCTION:                                                   */ 01361900
*/*      The vfs_pfsctl operation with the ExtendFS command will     */ 01362000
*/*      attempt to extend (allocate disk space) the specified file  */ 01362100
*/*      system by the requested amount.                             */ 01362200
*/*                                                                  */ 01362300
*/*      INPUT:                                                      */ 01362400
*/*      The buffer address supplied by the input User_IO_Structure  */ 01362500
*/*      must point to an area of storage large enough to hold the   */ 01362600
*/*      area mapped by the PCTL_EXTENDFS_TYPE structure.            */ 01362700
*/*      The following fields must be set within this structure:     */ 01362800
*/*      - Set pctl_ext_fsname to the name of the file system        */ 01362900
*/*        to be extended.                                           */ 01363000
*/*      - If the request is to allocate space on a new volume, set  */ 01363100
*/*        the pctl_ext_new_vol flag.                                */ 01363200
*/*      - Set pctl_ext_unit to one of the following units by        */ 01363300
*/*        which to extend:                                          */ 01363400
*/*          - ExtendFS_unit_MB indicates that the amount to extend  */ 01363500
*/*            is in megabytes                                       */ 01363600
*/*          - ExtendFS_unit_trk indicates that the amount to extend */ 01363700
*/*            is in tracks                                          */ 01363800
*/*          - ExtendFS_unit_cyl indicates that the amount to extend */ 01363900
*/*            is in cylinders                                       */ 01364000
*/*      - Set pctl_ext_amt to the amount to be extended.            */ 01364100
*/*                                                                  */ 01364200
*/*      For additional INPUTs and OUTPUTs, refer to the vfs_pfsctl  */ 01364300
*/*      operation description found in the publication              */ 01364400
*/*      OS/390 UNIX System Services File System Interface Reference.*/ 01364500
*/*                                                                  */ 01364600
*/*      NOTES:                                                      */ 01364700
*/*      - This command requires the caller to be authorized.        */ 01364800
*/*      - If the flag pctl_ext_new_vol = off, an attempt to         */ 01364900
*/*        obtain additional space is only made on the last volume   */ 01365000
*/*        of the HFS. The HFS will not be extended to a new volume. */ 01365100
*/*      - If the flag pctl_ext_new_vol = on, an attempt to          */ 01365200
*/*        obtain additional space is only made on a new volume.     */ 01365300
*/*        In this case, candidate volumes must exist for the HFS,   */ 01365400
*/*        and the candidate volumes must have existed at the time   */ 01365500
*/*        of the current mount of the HFS.                          */ 01365600
*/*      - If a secondary space amount exists for the HFS, it is     */ 01365700
*/*        ignored.                                                  */ 01365800
*/*      - If the entire amount requested cannot be obtained, the    */ 01365900
*/*        operation is failed.                                      */ 01366000
*/*                                                                  */ 01366100
*/********************************************************************/ 01366200
*/*  RETURN AND REASON CODES:                                        */ 01366300
*/********************************************************************/ 01366400
*/*                                                                  */ 01366500
*/*    Following is a list of return and reason codes which may      */ 01366600
*/*    be returned:                                                  */ 01366700
*/*                                                                  */ 01366800
*/*    RETURN CODE  REASON CODE                                      */ 01366900
*/*      0            0            successful completion             */ 01367000
*/*      EINVAL       5B360106     rsn_unsupported_extend_unit       */ 01367100
*/*                                  (ExtendFS only)                 */ 01373000
*/*                   5B360108     rsn_zero_extend_amount            */ 01374500
*/*                                  (ExtendFS only)                 */ 01374900
*/*      EFAULT       5B360102     rsn_unsupported_command           */ 01375000
*/*                   5B360103     rsn_zero_buffer_address           */ 01375100
*/*                   5B360107     rsn_unauthorized_caller           */ 01375200
*/*      EMVSERR      5B360101     rsn_add_rcvy_failed               */ 01375300
*/*      ENOBUFS      5B360104     rsn_buffer_too_short              */ 01377600
*/*      ENOENT       5B360105     rsn_file_system_not_mounted       */ 01379900
*/*                                  (DisplayFSStats, ExtendFS only) */ 01382200
*/*      ENOSPC       5B27C005     rsns_dadsm_no_space_avail         */ 01384500
*/*                                  (ExtendFS only)                 */ 01386800
*/*      EIO          5B27C00A     rsns_dadsm_IO_error_VTOC          */ 01389100
*/*                                  (ExtendFS only)                 */ 01391400
*/*      EMVSPFSPERM  5B27xxxx     unexpected error encountered      */ 01393700
*/*                                  (ExtendFS only)                 */ 01396000
*/*                   5BB3xxxx     unexpected error encountered      */ 01396200
*/*                                  (ChangeBufferLimits only)       */ 01396400
*/*      EMVSPARM     5B36000E     hfs_rsn_vmax_below_minimum        */ 01396600
*/*                                  -> vmax set to minimum          */ 01396800
*/*                                  (ChangeBufferLimits only)       */ 01397000
*/*                   5B36000F     hfs_rsn_fmin_exceeded_vmax        */ 01397200
*/*                                  -> fmin set to vmax             */ 01397400
*/*                                  (ChangeBufferLimits only)       */ 01397600
*/*                   5B360010     hfs_rsn_fmin_atmax_available      */ 01397800
*/*                                  -> fmin set to max              */ 01398000
*/*                                  (ChangeBufferLimits only)       */ 01398200
*/*                   5B360014     hfs_rsn_vmax_below_fmin           */ 01398400
*/*                                  -> vmax set to fmin             */ 01398600
*/*                                  (ChangeBufferLimits only)       */ 01398800
*/*                                                                  */ 01400000
*/********************************************************************/ 01450000
*/*                                                                  */ 01750000
*/*  NOTES:                                                          */ 01800000
*/*    DEPENDENCIES: None                                            */ 01850000
*/*    RESTRICTIONS: None                                            */ 01950000
*/*                                                                  */ 02000000
*/*  MACRO:                                                          */ 02050000
*/*    PROCESSOR: PL/X, Assembler                                    */ 02100000
*/*    DISTRIBUTION LIBRARY: AMACLIB                                 */ 02150000
*/*    ATTRIBUTES: Bilingual                                         */ 02200000
*/*                                                                  */ 02300000
*/*  LINKAGE:                                                        */ 02350000
*/*    ASSEMBLER: GFUMPCTL                                           */ 02366600
*/*    PL/X     : %INCLUDE SYSLIB(GFUMPCTL)                          */ 02383200
*/*                                                                  */ 02400000
*/*                                                                  */ 02650000
*/*  CHANGE ACTIVITY:                                                */ 02700000
*/*                                                                  */ 02750000
*/* $L0=PERFRES,JDZ11D1,970312,SJPLCC:  Performance Restructure      */ 02800000
*/* $P0=KGU0189,HDZ11E0,980610,SJPLWJK: Add statistics for FAMS call */ 02825000
*/* $01=OW38302,HDZ11E0,990330,SJPLRAW: Add ASM stmts for bilingual  */ 02837500
*/* $02=OW47836,HDZ11F0,010119,SJPLMB:  Correct PPS for External     */ 02841490
*/*                                     Distribution.                */ 02845480
*/********************************************************************/ 02850000
*/*                                                                  */ 02900000
*/* BILINGUAL GFUMPCTL MAPPING MACRO                                 */ 02950000
*      %GOTO PCTLPLX;                                                   03000000
               MACRO                                                    03050000
               GFUMPCTL                                                 03100000
*/*                                                                  */ 03150000
*********************************************************************** 03200000
**  The following defines the supported HFS commands for the            03250000
**  vfs_pfsctl operation.                                               03300000
*********************************************************************** 03350000
DisplayBufferLimits  EQU   X'40000001'  No authorization required       03400000
ChangeBufferLimits   EQU   X'00000002'  Requires authorization          03450000
DisplayGlobalStats   EQU   X'40000003'  No authorization required       03500000
DisplayFSStats       EQU   X'40000004'  No authorization required       03550000
ExtendFS             EQU   X'00000005'  Requires authorization          03600000
*                                                                       03650000
*                                                                       03700000
*********************************************************************** 03750000
**  The PCTL_BFRLIMIT_TYPE structure maps the user buffer area          03800000
**  passed on the vfs_pfsctl operation for HFS commands:                03850000
**    DisplayBufferLimits and ChangeBufferLimits                        03900000
*********************************************************************** 03950000
pctl_bfrlimits_type  DSECT                                              04000000
                     DS    0D                                           04050000
pctl_bl_flgs         DS    XL1      Flags                               04100000
pctl_bl_action       EQU   B'10000000'   Off: display values            04150000
*                                        On:  modify values             04200000
pctl_bl_limit        DS    XL1      Limits to be modified               04250000
pctl_bl_vmax         EQU   B'10000000'   VMAX to be modified            04300000
pctl_bl_fmin         EQU   B'01000000'   FMIN to be modified            04350000
                     DS    CL2      Reserved                            04400000
pctl_bl_vmax_val     DS    F        VMAX value (in Megabytes)           04450000
pctl_bl_fmin_val     DS    F        FMIN value (in Megabytes)           04500000
                     DS    CL16     Reserved                      @P0A  04550000
pctl_bl_end          EQU    *                                           04600000
*                                                                       04650000
*                                                                       04700000
*********************************************************************** 04750000
**  The PCTL_GLOBALSTATS_TYPE structure maps the user buffer area       04800000
**  passed on the vfs_pfsctl operation for HFS command:                 04850000
**    DisplayGlobalStats                                                04900000
*********************************************************************** 04950000
pctl_GlobalStats_type DSECT                                             05000000
                     DS    0D                                           05050000
pctl_gs_curr_time    DS    CL8      Current GMT TOD timestamp           05100000
                     DS    CL8      Reserved                            05150000
pctl_gs_totvirt      DS    F        Combined total virtual storage      05200000
*                                    in use by all buffer pools         05250000
*                                    (in pages)                         05300000
pctl_gs_totfix       DS    F        Combined total perm fixed storage   05350000
*                                    in use by all buffer pools         05400000
*                                    (in pages)                         05450000
*  Statistics for buffer pool 1                                         05500000
pctl_gs_bp1          DS    0XL28    Statistics for buffer pool 1        05550000
pctl_gs_bp1_bfrsize  DS    H        Size of each buffer (in pages)      05600000
pctl_gs_bp1_dscnt    DS    H        Number of data spaces in pool       05650000
pctl_gs_bp1_totvirt  DS    F        Virtual storage used by this pool   05700000
*                                    (in pages)                         05750000
pctl_gs_bp1_totfix   DS    F        Perm fixed storage use by this pool 05800000
*                                    (in pages)                         05850000
pctl_gs_bp1_fixd_y   DS    CL8      Times buffer was already fixed      05900000
*                                    prior to an I/O request            05950000
pctl_gs_bp1_fixd_n   DS    CL8      Times buffer was NOT already fixed  06000000
*                                    prior to an I/O request            06050000
*  Statistics for buffer pool 2                                         06100000
pctl_gs_bp2          DS    0XL28    Statistics for buffer pool 2        06150000
pctl_gs_bp2_bfrsize  DS    H        Size of each buffer (in pages)      06200000
pctl_gs_bp2_dscnt    DS    H        Number of data spaces in pool       06250000
pctl_gs_bp2_totvirt  DS    F        Virtual storage used by this pool   06300000
*                                    (in pages)                         06350000
pctl_gs_bp2_totfix   DS    F        Perm fixed storage use by this pool 06400000
*                                    (in pages)                         06450000
pctl_gs_bp2_fixd_y   DS    CL8      Times buffer was already fixed      06500000
*                                    prior to an I/O request            06550000
pctl_gs_bp2_fixd_n   DS    CL8      Times buffer was NOT already fixed  06600000
*                                    prior to an I/O request            06650000
*  Statistics for buffer pool 3                                         06700000
pctl_gs_bp3          DS    0XL28    Statistics for buffer pool 3        06750000
pctl_gs_bp3_bfrsize  DS    H        Size of each buffer (in pages)      06800000
pctl_gs_bp3_dscnt    DS    H        Number of data spaces in pool       06850000
pctl_gs_bp3_totvirt  DS    F        Virtual storage used by this pool   06900000
*                                    (in pages)                         06950000
pctl_gs_bp3_totfix   DS    F        Perm fixed storage use by this pool 07000000
*                                    (in pages)                         07050000
pctl_gs_bp3_fixd_y   DS    CL8      Times buffer was already fixed      07100000
*                                    prior to an I/O request            07150000
pctl_gs_bp3_fixd_n   DS    CL8      Times buffer was NOT already fixed  07200000
*                                    prior to an I/O request            07250000
*  Statistics for buffer pool 4                                         07300000
pctl_gs_bp4          DS    0XL28    Statistics for buffer pool 4        07350000
pctl_gs_bp4_bfrsize  DS    H        Size of each buffer (in pages)      07400000
pctl_gs_bp4_dscnt    DS    H        Number of data spaces in pool       07450000
pctl_gs_bp4_totvirt  DS    F        Virtual storage used by this pool   07500000
*                                    (in pages)                         07550000
pctl_gs_bp4_totfix   DS    F        Perm fixed storage use by this pool 07600000
*                                    (in pages)                         07650000
pctl_gs_bp4_fixd_y   DS    CL8      Times buffer was already fixed      07700000
*                                    prior to an I/O request            07750000
pctl_gs_bp4_fixd_n   DS    CL8      Times buffer was NOT already fixed  07800000
*                                    prior to an I/O request            07850000
*  Additional global statistics                                         07900000
*                                                                       07950000
pctl_gs_meta_y       DS    CL8      Times metadata in cache on          08000000
*                                    a lookup                           08050000
pctl_gs_meta_n       DS    CL8      Times metadata NOT in cache on      08100000
*                                    a lookup                           08150000
pctl_gs_rpn0_y       DS    CL8      Times RPN0 in cache on r/w          08200000
pctl_gs_rpn0_n       DS    CL8      Times RPN0 NOT in cache on r/w      08250000
                     DS    CL32     Reserved                            08300000
pctl_gs_end          EQU    *                                           08350000
*                                                                       08400000
*                                                                       08450000
*********************************************************************** 08500000
**  The PCTL_FSSTATS_TYPE structure maps the user buffer area           08550000
**  passed on the vfs_pfsctl operation for HFS command:                 08600000
**    DisplayFSStats                                                    08650000
*********************************************************************** 08700000
pctl_FSStats_type    DSECT                                              08750000
                     DS    0D                                           08800000
pctl_fs_name         DS    CL44     File system name                    08850000
pctl_fs_flags        DS    0XL4     Flags                          @P0C 08900000
pctl_fs_rfs_mtab_flags DS  XL1      Mount mode for FS              @P0A 08950000
pctl_fs_rfs_flags    DS    XL1      RFS flags (internal)           @P0A 09000000
pctl_fs_rfs_sync_err DS    XL1      RFS error flags (internal)     @P0A 09050000
                     DS    XL1      Reserved                       @P0A 09100000
pctl_fs_curr_time    DS    CL8      Current GMT TOD timestamp           09150000
pctl_fs_mount_time   DS    CL8      Mount GMT TOD timestamp             09200000
pctl_fs_sync         DS    H        Sync interval (in seconds)          09250000
                     DS    CL2      Reserved                            09300000
pctl_fs_size         DS    F        File system size (in pages)         09350000
pctl_fs_used         DS    F        Num pages used in FS                09400000
pctl_fs_AD_alloc     DS    F        Num pages allocated to AD in FS     09450000
pctl_fs_seq_io       DS    CL8      Num seq I/O reqs for data           09500000
pctl_fs_random_io    DS    CL8      Num random I/O reqs for data        09550000
pctl_fs_meta_y       DS    CL8      Times metadata in cache on          09600000
*                                    a lookup                           09650000
pctl_fs_meta_n       DS    CL8      Times metadata NOT in cache on      09700000
*                                    a lookup                           09750000
pctl_fs_rpn0_y       DS    CL8      Times RPN0 in cache on r/w          09800000
pctl_fs_rpn0_n       DS    CL8      Times RPN0 NOT in cache on r/w      09850000
pctl_fs_ix_tops      DS    CL8      Num index new tops                  09900000
pctl_fs_ix_splits    DS    CL8      Num index splits                    09950000
pctl_fs_ix_joins     DS    CL8      Num index joins                     10000000
pctl_fs_ix_rdhit     DS    CL8      Num of index page read hits         10050000
pctl_fs_ix_rdmiss    DS    CL8      Num of index page read misses       10100000
pctl_fs_ix_wrhit     DS    CL8      Num of index page write hits        10150000
pctl_fs_ix_wrmiss    DS    CL8      Num of index page write misses      10200000
pctl_fs_pgs_cached   DS    CL4      Num of data bfr pages cached        10250000
*                                    by this file system                10300000
pctl_fs_hfrfn        DS    CL4      High formatted RFN             @P0A 10350000
pctl_fs_mem_cnt      DS    F        Number of nodes in FS          @P0A 10400000
                     DS    CL32     Reserved                       @P0A 10450000
pctl_fs_end          EQU    *                                           10500000
*                                                                       10550000
*                                                                       10600000
*********************************************************************** 10650000
**  The PCTL_EXTENDFS_TYPE structure maps the user buffer area          10700000
**  passed on the vfs_pfsctl operation for HFS command:                 10750000
**    ExtendFS                                                          10800000
*********************************************************************** 10850000
pctl_ExtendFS_type   DSECT                                              10900000
                     DS    0D                                           10950000
pctl_ext_fsname      DS    CL44     File system name                    11000000
pctl_ext_flgs        DS    XL1      Flags                               11050000
pctl_ext_new_vol     EQU   B'10000000'   Extend to new volume           11100000
pctl_ext_unit        DS    CL1      Unit of amount to extend            11150000
                     DS    CL2      Reserved                            11200000
pctl_ext_amt         DS    F        Amount to be extended               11250000
                     DS    CL16     Reserved                       @P0A 11300000
pctl_ext_end         EQU        *                                       11350000
*                                                                       11400000
*  Extend units supported                                               11450000
ExtendFS_unit_MB     EQU   C'M'     Megabytes (MB)                      11500000
ExtendFS_unit_trk    EQU   C'T'     Tracks                              11550000
ExtendFS_unit_cyl    EQU   C'C'     Cylinders                           11600000
*                                                                       11650000
         MEND                                                           11700000
**********************************************************************/ 11750000
*%PCTLPLX:;                                                             11800000
*/********************************************************************/ 11850000
*/* The following defines the supported HFS commands for the         */ 11900000
*/* vfs_pfsctl operation.                                            */ 11950000
*/********************************************************************/ 12000000
*Declare                                                                12050000
*  DisplayBufferLimits   fixed  constant(40000001X),                    12100000
*                                        !No authorization required     12150000
*  ChangeBufferLimits    fixed  constant(00000002X),                    12200000
*                                        !Requires authorization        12250000
*  DisplayGlobalStats    fixed  constant(40000003X),                    12300000
*                                        !No authorization required     12350000
*  DisplayFSStats        fixed  constant(40000004X),                    12400000
*                                        !No authorization required     12450000
*  ExtendFS              fixed  constant(00000005X);                    12500000
*                                        !Requires authorization        12550000
*                                                                       12600000
*/********************************************************************/ 12650000
*/* The PCTL_BFRLIMIT_TYPE structure maps the user buffer area       */ 12700000
*/* passed on the vfs_pfsctl operation for HFS commands:             */ 12750000
*/*   DisplayBufferLimits and ChangeBufferLimits                     */ 12800000
*/********************************************************************/ 12850000
*Declare                                                                12900000
* 1 pctl_BfrLimits_type    type bdy(dword),                             12950000
*   3 pctl_bl_flgs         char(1),      !Flags                         13000000
*     5 pctl_bl_action     bit(1),       !off: display values           13050000
*                                        !on:  modify values            13100000
*   3 pctl_bl_limit        char(1),      !Limits to be modified         13150000
*     5 pctl_bl_vmax       bit(1),       !VMAX to be modified           13200000
*     5 pctl_bl_fmin       bit(1),       !FMIN to be modified           13250000
*   3 *                    char(2),      !Reserved                      13300000
*   3 pctl_bl_vmax_val     fixed,        !VMAX value (in Megabytes)     13350000
*   3 pctl_bl_fmin_val     fixed,        !FMIN value (in Megabytes)     13400000
*   3 *                    char(16),     !Reserved                 @P0A 13450000
*   3 pctl_bl_end          char(0) bdy(word);                           13500000
*                                                                       13550000
*/********************************************************************/ 13600000
*/* The PCTL_GLOBALSTATS_TYPE structure maps the user buffer area    */ 13650000
*/* passed on the vfs_pfsctl operation for HFS command:              */ 13700000
*/*   DisplayGlobalStats                                             */ 13750000
*/********************************************************************/ 13800000
*Declare                                                                13850000
* 1 pctl_GlobalStats_type   type bdy(dword),                            13900000
*   3 pctl_gs_curr_time     char(8),   !Current GMT TOD timestamp       13950000
*   3 *                     char(8),   !Reserved                        14000000
*   3 pctl_gs_totvirt       fixed,     !Combined total virtual storage  14050000
*                                      ! in use by all buffer pools     14100000
*                                      ! (in pages)                     14150000
*   3 pctl_gs_totfix        fixed,     !Combined total perm fixed stg   14200000
*                                      ! in use by all buffer pools     14250000
*                                      ! (in pages)                     14300000
*   3 pctl_gs_bp1,                     !Statistics for buffer pool 1    14350000
*     5 pctl_gs_bp1_bfrsize fixed(16), !Size of each buffer (in pages)  14400000
*     5 pctl_gs_bp1_dscnt   fixed(16), !Number of data spaces in pool   14450000
*     5 pctl_gs_bp1_totvirt fixed,     !Virtual storage used by this    14500000
*                                      ! pool (in pages)                14550000
*     5 pctl_gs_bp1_totfix  fixed,     !Perm fixed stg used by this     14600000
*                                      ! pool (in pages)                14650000
*     5 pctl_gs_bp1_fixd_y  char(8),   !Times bfr was already fixed     14700000
*                                      ! prior to an I/O request        14750000
*     5 pctl_gs_bp1_fixd_n  char(8),   !Times bfr was NOT already fixed 14800000
*                                      ! prior to an I/O request        14850000
*   3 pctl_gs_bp2,                     !Statistics for buffer pool 2    14900000
*     5 pctl_gs_bp2_bfrsize fixed(16), !Size of each buffer (in pages)  14950000
*     5 pctl_gs_bp2_dscnt   fixed(16), !Number of data spaces in pool   15000000
*     5 pctl_gs_bp2_totvirt fixed,     !Virtual storage used by this    15050000
*                                      ! pool (in pages)                15100000
*     5 pctl_gs_bp2_totfix  fixed,     !Perm fixed stg used by this     15150000
*                                      ! pool (in pages)                15200000
*     5 pctl_gs_bp2_fixd_y  char(8),   !Times bfr was already fixed     15250000
*                                      ! prior to an I/O request        15300000
*     5 pctl_gs_bp2_fixd_n  char(8),   !Times bfr was NOT already fixed 15350000
*                                      ! prior to an I/O request        15400000
*   3 pctl_gs_bp3,                     !Statistics for buffer pool 3    15450000
*     5 pctl_gs_bp3_bfrsize fixed(16), !Size of each buffer (in pages)  15500000
*     5 pctl_gs_bp3_dscnt   fixed(16), !Number of data spaces in pool   15550000
*     5 pctl_gs_bp3_totvirt fixed,     !Virtual storage used by this    15600000
*                                      ! pool (in pages)                15650000
*     5 pctl_gs_bp3_totfix  fixed,     !Perm fixed stg used by this     15700000
*                                      ! pool (in pages)                15750000
*     5 pctl_gs_bp3_fixd_y  char(8),   !Times bfr was already fixed     15800000
*                                      ! prior to an I/O request        15850000
*     5 pctl_gs_bp3_fixd_n  char(8),   !Times bfr was NOT already fixed 15900000
*                                      ! prior to an I/O request        15950000
*   3 pctl_gs_bp4,                     !Statistics for buffer pool 4    16000000
*     5 pctl_gs_bp4_bfrsize fixed(16), !Size of each buffer (in pages)  16050000
*     5 pctl_gs_bp4_dscnt   fixed(16), !Number of data spaces in pool   16100000
*     5 pctl_gs_bp4_totvirt fixed,     !Virtual storage used by this    16150000
*                                      ! pool (in pages)                16200000
*     5 pctl_gs_bp4_totfix  fixed,     !Perm fixed stg used by this     16250000
*                                      ! pool (in pages)                16300000
*     5 pctl_gs_bp4_fixd_y  char(8),   !Times bfr was already fixed     16350000
*                                      ! prior to an I/O request        16400000
*     5 pctl_gs_bp4_fixd_n  char(8),   !Times bfr was NOT already fixed 16450000
*                                      ! prior to an I/O request        16500000
*   3 pctl_gs_meta_y        char(8),   !Times metadata in cache on      16550000
*                                      ! a lookup                       16600000
*   3 pctl_gs_meta_n        char(8),   !Times metadata NOT in cache on  16650000
*                                      ! a lookup                       16700000
*   3 pctl_gs_rpn0_y        char(8),   !Times RPN0 in cache on r/w      16750000
*   3 pctl_gs_rpn0_n        char(8),   !Times RPN0 NOT in cache on r/w  16800000
*   3 *                     char(32),  !Reserved                   @P0A 16850000
*   3 pctl_gs_end           char(0) bdy(word);                          16900000
*                                                                       16950000
*/********************************************************************/ 17000000
*/* The PCTL_FSSTATS_TYPE structure maps the user buffer area        */ 17050000
*/* passed on the vfs_pfsctl operation for HFS command:              */ 17100000
*/*   DisplayFSStats                                                 */ 17150000
*/********************************************************************/ 17200000
*Declare                                                                17250000
* 1 pctl_FSStats_type      type bdy(dword),                             17300000
*   3 pctl_fs_name         char(44),   !File system name                17350000
*   3 pctl_fs_flags        bit(32),    !Flags                      @P0C 17400000
*     4 pctl_fs_rfs_mtab_flags bit(8), !Mount mode for FS          @P0A 17450000
*     4 pctl_fs_rfs_flags      bit(8), !RFS flags (internal)       @P0A 17500000
*     4 pctl_fs_rfs_sync_err   bit(8), !RFS error flags (internal) @P0A 17550000
*     4 *                      bit(8), !Reserved                   @P0A 17600000
*   3 pctl_fs_curr_time    char(8),    !Current GMT TOD timestamp       17650000
*   3 pctl_fs_mount_time   char(8),    !Mount GMT TOD timestamp         17700000
*   3 pctl_fs_sync         fixed(16),  !Sync interval (in seconds)      17750000
*   3 *                    char(2),    !Reserved                        17800000
*   3 pctl_fs_size         fixed,      !File system size (in pages)     17850000
*   3 pctl_fs_used         fixed,      !Num pages used in FS            17900000
*   3 pctl_fs_AD_alloc     fixed,      !Num pages allocated to AD in FS 17950000
*   3 pctl_fs_seq_io       char(8),    !Num seq I/O reqs for data       18000000
*   3 pctl_fs_random_io    char(8),    !Num random I/O reqs for data    18050000
*   3 pctl_fs_meta_y       char(8),    !Times metadata in cache on      18100000
*                                      ! a lookup                       18150000
*   3 pctl_fs_meta_n       char(8),    !Times metadata NOT in cache on  18200000
*                                      ! a lookup                       18250000
*   3 pctl_fs_rpn0_y       char(8),    !Times RPN0 in cache on r/w      18300000
*   3 pctl_fs_rpn0_n       char(8),    !Times RPN0 NOT in cache on r/w  18350000
*   3 pctl_fs_ix_tops      char(8),    !Num index new tops              18400000
*   3 pctl_fs_ix_splits    char(8),    !Num index splits                18450000
*   3 pctl_fs_ix_joins     char(8),    !Num index joins                 18500000
*   3 pctl_fs_ix_rdhit     char(8),    !Num of index page read hits     18550000
*   3 pctl_fs_ix_rdmiss    char(8),    !Num of index page read misses   18600000
*   3 pctl_fs_ix_wrhit     char(8),    !Num of index page write hits    18650000
*   3 pctl_fs_ix_wrmiss    char(8),    !Num of index page write misses  18700000
*   3 pctl_fs_pgs_cached   char(4),    !Num of data bfr pages cached    18750000
*                                      ! by this file system            18800000
*   3 pctl_fs_hfrfn        char(4),    !High formatted RFN         @P0A 18850000
*   3 pctl_fs_mem_cnt      fixed(32),  !Number of nodes in FS      @P0A 18900000
*   3 *                    char(32),   !Reserved                   @P0A 18950000
*   3 pctl_fs_end          char(0) bdy(word);                           19000000
*                                                                       19050000
*/********************************************************************/ 19100000
*/* The PCTL_EXTENDFS_TYPE structure maps the user buffer area       */ 19150000
*/* passed on the vfs_pfsctl operation for HFS command:              */ 19200000
*/*   ExtendFS                                                       */ 19250000
*/********************************************************************/ 19300000
*Declare                                                                19350000
* 1 pctl_ExtendFS_type     type bdy(dword),                             19400000
*   3 pctl_ext_fsname      char(44),     !File system name              19450000
*   3 pctl_ext_flgs        char(1),      !Flags                         19500000
*     5 pctl_ext_new_vol   bit(1),       !Extend to new volume          19550000
*   3 pctl_ext_unit        char(1),      !Unit of amount to extend      19600000
*   3 *                    char(2),      !Reserved                      19650000
*   3 pctl_ext_amt         fixed,        !Amount to be extended         19700000
*   3 *                    char(16),     !Reserved                 @P0A 19750000
*   3 pctl_ext_end         char(0) bdy(word);                           19800000
*                                                                       19850000
*Declare                                 !Extend units supported        19900000
*  ExtendFS_unit_MB        char(1) constant('M'),  !Megabytes (MB)      19950000
*  ExtendFS_unit_trk       char(1) constant('T'),  !Tracks              20000000
*  ExtendFS_unit_cyl       char(1) constant('C');  !Cylinders           20050000
*                                                                       20100000
