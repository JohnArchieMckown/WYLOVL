*%GOTO DSE1;              /*                                            00050000
         MACRO                                                          00100000
         IOSDDSE                                                        00150000
         SPACE 1            */                                          00200000
*%DSE1  : ;                                                             00250000
*/*START OF SPECIFICATIONS *******************************************/ 00300000
*/*                                                                  */ 00600000
*/*01* PROPRIETARY STATEMENT =                                       */ 00637900
*/*                                                                  */ 00675800
*/*         Licensed materials - Property of IBM                     */ 00713700
*/*         This macro is "RESTRICTED MATERIALS OF IBM"              */ 00751600
*/*         5655-068 (C) Copyright IBM Corporation 1986, 1994        */ 00789500
*/*                                                                  */ 00865300
*/*01*   STATUS = HBB5520                                            */ 00903300
*/*                                                                  */ 00906600
*/*01*   DESCRIPTIVE NAME = DSE - Device Service Exit function       */ 00909900
*/*                               codes parameter mappings.          */ 00913200
*/*02*    ACRONYM: DSE                                               */ 00916500
*/*                                                                  */ 00919800
*/*01* EXTERNAL CLASSIFICATION: NONE                                 */ 00920600
*/*01* END OF EXTERNAL CLASSIFICATION:                               */ 00921400
*/*                                                                  */ 00922200
*/*01*   MACRO NAME:  IOSDDSE                                        */ 00923100
*/*                                                                  */ 00926400
*/*01*   DSECT NAME: DSEPARM                                         */ 00929700
*/*                  DSE0                                        @08A*/ 00931300
*/*                  DSE1                                            */ 00933000
*/*                  DSE1BFR                                         */ 00936300
*/*                  DSE2                                            */ 00939600
*/*                  DSE3                                            */ 00942900
*/*                  DSE4                                            */ 00946200
*/*                  DSE5                                            */ 00949500
*/*                  DSE7                                            */ 00952800
*/*                                                                  */ 00956100
*/*                                                                  */ 00959400
*/*01*   COMPONENT:  IOS (SC1C3)                                     */ 00962700
*/*                                                                  */ 00966000
*/*01*   EYE-CATCHER: None                                           */ 00969300
*/*02*     OFFSET: N/A                                               */ 00970400
*/*02*     LENGTH: N/A                                               */ 00971500
*/*                                                                  */ 00972600
*/*01*   STORAGE ATTRIBUTES:                                         */ 00975900
*/*02*    SUBPOOL: caller-provided                                   */ 00978300
*/*02*    KEY: caller-provided                                       */ 00980700
*/*02*    RESIDENCY: caller-provided                                 */ 00983100
*/*                                                                  */ 00985800
*/*01*   POINTED-TO-BY: N/A                                          */ 00989100
*/*                                                                  */ 00992400
*/*01*   CREATED-BY: Caller of DSE                                   */ 00995700
*/*                                                                  */ 01000000
*/*01*   FUNCTION = Maps the DSE function code entries               */ 01050000
*/*                                                                  */ 01100000
*/*01*   DEPENDENCIES =                                              */ 01120000
*/*      - DSE function code 0 is required to obtain a list of all   */ 01123300
*/*        supported functions provided by this DSE.  This list is   */ 01126600
*/*        returned as a 32 byte variable (with each bit             */ 01129900
*/*        corresponding to a supported DSE function).           @08A*/ 01133200
*/*                                                                  */ 01136500
*/*      - DSE function codes 1 and 8 are both required to set the   */ 01140000
*/*        self-description bit (UCBSELFD) when the DSE determines   */ 01160000
*/*        that the device supports self-description.                */ 01180000
*/*                                                                  */ 01200000
*/*      - DSE function code 1 is required to verify that the        */ 01201800
*/*        logical and physical device type characteristics are the  */ 01203600
*/*        same.  If they are not, DSE function code 1 must return   */ 01205400
*/*        a return code 12.                                         */ 01207200
*/*                                                                  */ 01207300
*/*      - DSE function code 1 is required to set the UCBIOT bit     */ 01207400
*/*        in the UCB to indicate that the device support code       */ 01207500
*/*        for this device supports I/O timing functions if the      */ 01207600
*/*        Unit Information Module (UIM) for this device did not     */ 01207700
*/*        set the UCBIOT bit.                                   @06A*/ 01207800
*/*                                                                  */ 01207900
*/*      - If a device supports intermediate ERP processing, DSE     */ 01208000
*/*        function code 1 is required to indicate this by           */ 01208100
*/*        setting flag UCBLERP on.                              @07C*/ 01208200
*/*                                                                  */ 01209000
*/*01*   RESTRICTIONS =                                              */ 01211100
*/*        To determine if the message buffer is available, users    */ 01222200
*/*        of this control block must not check the message buffer   */ 01233300
*/*        token for zero as this field is not available in down     */ 01244400
*/*        level versions and users may interrogate unavailable      */ 01255500
*/*        storage.  To determine if the token is useable and        */ 01266600
*/*        non-zero, users must interrogate the DSE1MBFF flag.       */ 01277700
*/*        If on, the message buffer token is available for use.     */ 01288800
*/*                                                                  */ 01291600
*/*        This mapping is for DSE function codes 1-8.  Function     */ 01294400
*/*        codes 9-255 are mapped by the macro IOSCLDSE.         @P2A*/ 01297200
*/*                                                                  */ 01300000
*/*01*   SIZE: See Assembler Listing                                 */ 01316600
*/*                                                                  */ 01333200
*/*01*   SERIALIZATION = None                                        */ 01350000
*/*                                                                  */ 01360000
*/*01*   METHOD-OF-ACCESS:                                           */ 01370000
*/*02*    ASM: IOSDDSE                                               */ 01380000
*/*02*    PL/AS: %INCLUDE SYSLIB(IOSDDSE)                            */ 01390000
*/*                                                                  */ 01400000
*/*01*   MODULE TYPE = Control block                                 */ 01450000
*/*                                                                  */ 01500000
*/*01*   PROCESSOR = PLS3 Compiler and assembler H                   */ 01550000
*/*                                                                  */ 01600000
*/*01*   CHANGE ACTIVITY =                                           */ 01650000
*/*                                                                  */ 01700000
*/* $MAC(IOSDDSE),COMP(SC1C3): DSE entry layouts                     */ 01750000
*/*                                                                  */ 01800000
*/* $L0=OZ88053  JBB2125 860105 PDLE: New macro                      */ 01850000
*/* $L1=VERS     HBB3310 860416 PDLE: Versioning macro into product  */ 01900000
*/* $L2=DYNAM    HBB4410 891231 PDLG: Add function code 7 interface  */ 01910000
*/* $L3=DYNAM    HBB4420 900226 PDLA: Add new function code 1        */ 01920000
*/*                                   interface for error messages,  */ 01930000
*/*                                   and function code 8.       @L3A*/ 01940000
*/* $L4=PRSMM    HBB4430 920108 PDLS: MIF support                @L4A*/ 01945000
*/* $L5=PAVS     HBB5520 940210 PDMB: PAV Support.  Added bit    @L5A*/ 01946600
*/*                                   for Alias/Base init.       @L5A*/ 01948200
*/* $01=OY11315  HBB3310 870501 PDLR: Add user exit interface and    */ 01950000
*/*                                   reserve function code six. @01A*/ 02000000
*/* $02=OY18228  HBB3310 880501 PDLR: Add UCB common address to      */ 02050000
*/*                                   DSE function code 5        @02A*/ 02100000
*/* $03=OY25194  HBB3310 890901 PDLZ: Add subfunctions to DSE4   @03A*/ 02112500
*/* $04=OY28803  JBB2220 900125 PDLB: DSE1, VARY DEVICE/PATH.    @04A*/ 02131200
*/* $05=OY28666  HBB3310 900115 PDLL: Expand DSE function code 1     */ 02137400
*/*                                   interface                  @05A*/ 02143600
*/* $06=OY38424  HBB3310 910301 PDLK: I/O Timing SPE             @06A*/ 02144800
*/* $07=OY39007  JBB2220 910331 PDLL: Update dependency on DSE 1 to  */ 02146000
*/*                                   set flag UCBLERP, comment      */ 02147200
*/*                                   change only.               @07A*/ 02148400
*/* $08=OW06778  HBB4430 950210 PDMC: Add DSE 0 mapping          @08A*/ 02148500
*/* $09=OW10841  HBB4420 950515 PDMC: Correct mapping of area        */ 02148600
*/*                                   addresses by DSE1BFRP.     @09A*/ 02148700
*/* $0A=OW18624  HBB5510 960730 PDLZ: DDR Swap for shared DASD   @0AA*/ 02148800
*/* $0B=OW25260  HBB4430 970331 PDNO: 3590 support for OS/390 R3 @0BA*/ 02148900
*/* $0C=OW37980  HBB6603 990531 PDNO: Dynamic PAV support        @0CA*/ 02149000
*/* $0D=OW38541  HBB6603 990430 PDLE: FICON Support              @0DA*/ 02149100
*/*                                                                  */ 02149200
*/* $P1=PKB0335  HBB4430 920205 PDNO: Added continuation characters  */ 02149300
*/*                                   to comment blocks.         @P1A*/ 02149400
*/* $P2=PN70530  HBB5520 940505 PDLL: Parallel Access Volume         */ 02149600
*/*                                   Support, updated doc.      @P2A*/ 02149800
*/* $P3=PWA0208  JBB6607 980630 PDNO: Remove obsolete copyright      */ 02156100
*/*                                   statement                  @P3A*/ 02162400
*/*                                                                  */ 02168700
*/*                                                                  */ 02175000
*/*END OF SPECIFICATIONS *********************************************/ 02200000
*%GOTO DSE1B; /*                                                        02250000
*********************************************************************** 02300000
***  DSE parameter area mapping - BAL                                ** 02350000
*********************************************************************** 02400000
DSEPARM  DSECT                     DSE parameter area map               02450000
DSEPFUNC DS    CL1                 DSE function code                    02500000
DSEPEXIT DS    CL1                 DSE exit user field                  02550000
DSEPXINT DS    CL1                 DSE exit interface field        @01A 02600000
DSEPRESV DS    CL1                 Reserved                        @01C 02650000
DSEPADDR DS    A                   Function code parameter address      02700000
DSEPARML EQU   *-DSEPARM           Length of parameter list             02750000
*********************************************************************** 02800000
*** DSEPADDR field :                                                 ** 02850000
***  Function code 0: Pointer to the DSE available functions         ** 02866600
***                   parameter area (mapped by DSE0)            @08A** 02883200
***  Function code 1: Pointer to the device initialization           ** 02900000
***                   parameter area (mapped by DSE1)                ** 02950000
***  Function code 2: Pointer to the swap support parameter area     ** 03000000
***                   (mapped by DSE2)                               ** 03050000
***  Function code 3: Pointer to the recording information parameter ** 03100000
***                   area (mapped by DSE3)                          ** 03150000
***  Function code 4: Pointer to the sense data analysis parameter   ** 03200000
***                   area (mapped by DSE4)                          ** 03250000
***  Function code 5: Pointer to the CCW supported / Device state    ** 03300000
***                   info parameter area (mapped by DSE5)       @0AC** 03350000
***  Function code 6: Pointer to the user defined parameter area.    ** 03400000
***                   Mapped independent of the IOSDDSE macro.       ** 03450000
***                   There is no IOS support for function code six  ** 03500000
***                   other than IOS will not use function code six. ** 03550000
***  Function code 7: Pointer to configuration change parameter area.** 03560000
***  Function code 8: Pointer to the device initialization           ** 03570000
***                   parameter area used for defined offline devices** 03580000
***                   (mapped by DSE1).                              ** 03590000
***  Function code 9: Mapped by macro IOSCLDSE.                  @0BC** 03590900
***  Function code 10: Pointer to the parameter area.  Used after    ** 03591800
***                   a device is assigned to allow the device       ** 03592700
***                   support code to set the mode controls.         ** 03593600
***                   (mapped by DSE1).                          @0BA** 03594500
***  Function code 11-255 are mapped by macro IOSCLDSE.          @0BC** 03595400
***                                                                  ** 03596600
*********************************************************************** 03600000
DSEAVAIL EQU   X'00'               Available DSE functions         @08A 03625000
DSEINIT  EQU   X'01'               Device initialization function       03650000
DSESWAP  EQU   X'02'               Swap function                        03700000
DSERECI  EQU   X'03'               Recording information function       03750000
DSESENS  EQU   X'04'               Sense data analysis function         03800000
DSECCWS  EQU   X'05'               CCWs supported / device state info   03833300
*                                                                  @0AC 03866600
DSEUSER  EQU   X'06'               Reserved for user definition.   @01A 03900000
DSECONF  EQU   X'07'               Configuration change function   @L2A 03908300
DSEDFOFF EQU   X'08'               Defined offline devices              03916600
*                                  initialization function.  Uses  @P1C 03924900
*                                  the same parameter list as      @P1C 03933200
*                                  function code 1.                @P1C 03941500
DSESMODE EQU   X'0A'               Device set mode controls function.   03941600
*                                  Uses the same parameter list as      03941700
*                                  function code 1.                @0BA 03941800
*********************************************************************** 03941900
***  DSE function code 0 - Available DSE functions parameter mapping ** 03942300
***                                                              @08A** 03942700
*********************************************************************** 03943100
DSE0     DSECT                     DSE parameter area map        @08A   03943500
DSE0FNC0 DS    CL4                 DSE function bitmap - word 0  @08A   03943900
DSE0F000 EQU   X'80000000'         DSE function code 0 supported @08A   03944300
DSE0F001 EQU   X'40000000'         DSE function code 1 supported @08A   03944700
DSE0F002 EQU   X'20000000'         DSE function code 2 supported @08A   03945100
DSE0F003 EQU   X'10000000'         DSE function code 3 supported @08A   03945500
DSE0F004 EQU   X'08000000'         DSE function code 4 supported @08A   03945900
DSE0F005 EQU   X'04000000'         DSE function code 5 supported @08A   03946300
DSE0F006 EQU   X'02000000'         Reserved - user defined       @08A   03946700
DSE0F007 EQU   X'01000000'         DSE function code 7 supported @08A   03947100
DSE0F008 EQU   X'00800000'         DSE function code 8 supported @08A   03947500
DSE0F009 EQU   X'00400000'         DSE function code 9 supported @08A   03947900
DSE0F010 EQU   X'00200000'         DSE func code 10 supported    @0BA   03948100
DSE0F011 EQU   X'00100000'         DSE func code 11 supported    @0CA   03948300
*        EQU   X'000FFFFF'         Reserved                      @0CC   03948500
DSE0FNCX DS    CL28                DSE function bitmap - words 1        03948700
*                                  through 7                     @08A   03949100
DSE0L    EQU   *-DSE0              Length of DSE0 parameters     @08A   03949500
*********************************************************************** 03950000
*** DSE function code 1/8/10 device initialization parameter mapping ** 04000000
*********************************************************************** 04050000
DSE1     DSECT                     DSE parameter area map               04100000
DSE1ID   DS    CL4                 DSE1 identifier                      04150000
DSE1FLAG DS    B                   DSE1 flag field                      04200000
DSE1DIC  EQU   X'80'               Device Initialization caller bit     04250000
*                                  0  =  IPL entry.                     04300000
*                                  1  =  Vary entry                     04350000
*                                  (FC1 and FC8 only).             @0BA 04352700
DSE1PATH EQU   X'40'               When DSE1DIC = 1, VARY is described. 04355400
*                                  0  =  Vary device.                   04360800
*                                  1  =  Vary path.                @04A 04366200
*                                  (FC1 and FC8 only).             @0BA 04368900
DSE1MBFF EQU   X'20'               If 0, message buffer is not used in  04371600
*                                  this call.  If 1, the message        04377200
*                                  buffer is supplied as part of the    04390800
*                                  interface.                      @L3A 04404400
DSE1SIDP EQU   X'10'               Sense-ID data supplied (DSE1SNSD)    04408500
*                                   Non-DASD devices only          @L3C 04412600
*                                  (FC1 and FC8 only).             @0BA 04413100
DSE1BASI EQU   X'08'               Base or Alias Initialization    @L5A 04413600
*                                  0 = Base                        @L5A 04414600
*                                  1 = Alias                       @L5A 04415600
DSE1DDRA EQU   X'04'               DDR Swap active for the device  @0AA 04420000
DSE1MSI  EQU   X'02'               Qualifies meaning of DSE1DIC flag.   04421500
*                                  When on, indicates that DSE was      04423000
*                                  entered during Master Scheduler      04424500
*                                  Initialization (MSI)            @0CA 04426000
DSE1NCF  EQU   X'01'               The Nullification-control facility   04427000
*                                  is supported                    @0DA 04428000
DSE1RES0 DS    CL1                 Reserved                             04429000
DSE1BFRL DS    CL2                 Length of area pointed to by the     04500000
*                                  DSE1BFRP field                       04550000
DSE1BFRP DS    A                   pointer to field used by exit        04600000
*                                  to build device initialization       04650000
*                                  channel program and data read-in     04700000
*                                  area.  field is on double word       04750000
*                                  boundary in subpool 245, key 0,      04800000
*                                  fixed global storage.                04850000
*                                  Field initialized to zeros.          04900000
DSE1UCBC DS    A                   pointer to UCB common field          04950000
DSE1ADRF DS    A                   On 1st call, set to zeros.           05000000
*                                  On subsequent calls, pointer to      05050000
*                                  callers IOSB that was used to        05100000
*                                  issue the channel program.           05150000
DSE1AEWA DS    A                   Address of EWA, if one was created.  05160000
*                                  Otherwise, zero.                @05C 05170000
DSE1DREQ DS    CL1                 IOS processing requested by the DSE. 05180000
*                                                                  @05C 05190000
DSE1DGDP EQU   X'80'               The DSE requested guaranteed device  05200000
*                                  path processing (GDP).          @05A 05210000
*                                  (FC1 and FC8 only).             @0BA 05215000
DSE1NULL EQU   X'40'               The device is bypassing the          05218700
*                                  nullification window            @0DA 05222400
*        EQU   X'3F'               Reserved                        @0DC 05226100
DSE1DLPM DS    CL1                 The DSE requested logical path mask  05230000
*                                  (LPM) to be used by IOS for GDP      05240000
*                                  processing.                     @05A 05250000
         DS    CL2                 Reserved                        @05A 05260000
DSE1MBFR DS    A                   Token to message buffer.  This       05270000
*                                  field may be interrogated only if    05280000
*                                  flag DSE1MBFF is on.            @L3A 05290000
DSE1SNSD DS    A                   Address of sense-id data returned    05292000
*                                  by the device.  Valid only if        05294000
*                                  flag DSE1SIDP is on                  05296000
*                                  (Non-DASD devices only)         @L3A 05298000
*                                  (FC1 and FC8 only).             @0BA 05299000
DSE1L    EQU   *-DSE1              Length of DSE1 parameters            05300000
*/********************************************************************/ 05350000
*/*  DSE function code 1 - Channel Program and data read-in mapping  */ 05400000
*/********************************************************************/ 05450000
DSE1BFR   DSECT                    640 byte work area              @09C 05500000
          DS   0D                  Alignment on DW boundry.        @01A 05550000
DSE1BFRA  DS   CL640                                               @09C 05600000
*********************************************************************** 05650000
***  DSE function code 2 - Swap support parameter mapping            ** 05700000
*********************************************************************** 05750000
DSE2     DSECT                     DSE parameter area map               05800000
DSE2TUCB DS    A                   Pointer to the TO UCB common area    05850000
DSE2FUCB DS    A                   Pointer to the FROM UCB common       05900000
*                                  area.                                05950000
DSE2L    EQU   *-DSE2              Length of DSE2 parameters            06000000
*********************************************************************** 06050000
***  DSE function code 3 - Recording LOGREC Information  mapping     ** 06100000
*********************************************************************** 06150000
DSE3     DSECT                     DSE parameter area map               06200000
DSE3UCBC DS    A                   Pointer to the UCB common area       06250000
DSE3INFL DS    XL4                 Length of information area           06300000
DSE3INFO DS    0X                  Start of recording information       06350000
DSE3UTYP DS    CL4                 UCB TYP field to be stored in        06400000
*                                  LOGREC entry (equivalent to bytes    06450000
*                                  10-13 in UCB common).                06500000
DSE3CHAN DS    CL2                 Device Number to be associated       06550000
*                                  with LOGREC entry (HEX)              06600000
DSE3RSV1 DS    CL2                 Reserved                             06650000
DSE3L    EQU   *-DSE3              Length of DSE2 parameters            06700000
*/********************************************************************/ 06714200
*/*  DSE function code 4 - Sense Data Analysis -                     */ 06728400
*/*                                                                  */ 06742600
*/*    Sub function 0 - Reset Event analysis                         */ 06756800
*/*                0 - A reset event was detected                    */ 06771000
*/*                8 - A reset event was not detected                */ 06785200
*/*                                                                  */ 06799400
*/*    Sub function 1 - Reserve/release analysis                     */ 06813600
*/*         Return codes:                                            */ 06827800
*/*                0 - Reserve/release is supported                  */ 06842000
*/*                8 - Reserve/release is not supported              */ 06856200
*/*                                                              @03A*/ 06870400
*/********************************************************************/ 06884600
DSE4     DSECT                     DSE parameter area map               06900000
DSE4UCBC DS    A                   Pointer to the UCB common area       06950000
DSE4SNSA DS    A                   Pointer to the sense data area       07000000
DSE4FUNC DS    XL1                 Sub-function for sense analysis @03A 07008300
DSE4RSTE EQU   X'00'               . Reset event analysis          @03A 07016600
DSE4RR   EQU   X'01'               . Reserve/release analysis      @03A 07024900
         DS    XL3                 Reserved                        @03A 07033200
         DS    CL8                 Reserved                        @03A 07041500
DSE4L    EQU   *-DSE4              Length of DSE4 parameter             07050000
*********************************************************************** 07100000
***  DSE function code 5 - CCWs supported / Device state info     @0AC* 07150000
*********************************************************************** 07200000
DSE5     DSECT                     DSE parameter area map               07250000
DSE5UCBC DS    A                   UCB common address              @02A 07300000
DSE5CCWS DS    0F                  CCWs Supported mask word             07350000
DSE5CCW1 DS    XL1                 CCWs Supported mask byte 1           07400000
DSE5UR   EQU   X'80'               . Unconditional Reserve CCW         X07450000
                                     supported                          07500000
DSE5RSTA EQU   X'40'               . Reset Allegiance CCW              X07550000
                                     supported                          07600000
DSE5RSV1 EQU   X'3F'               . Reserved                           07650000
DSE5CCW2 DS    XL1                 CCWs Supported mask byte 2           07700000
DSE5CCW3 DS    XL1                 CCWs Supported mask byte 3           07750000
DSE5DEVS DS    XL1                 Device state information       @0AC  07770000
DSE5PPRC EQU   X'80'               . Device in PPRC pair          @0AA  07790000
DSE5XRC  EQU   X'40'               . Device in XRC pair           @0AA  07810000
DSE5RSV4 EQU   X'3F'               . Reserved                     @0AA  07830000
DSE5L    EQU   *-DSE5              Length of DSE5 parameter             07850000
*********************************************************************** 07900000
***  DSE function code 6 - Reserved for user definitions.            ** 07950000
*********************************************************************** 08000000
*********************************************************************** 08001600
***  DSE function code 7 - Configuration change parameter            ** 08003200
***                        mapping.                              @L2A** 08004800
*********************************************************************** 08006400
DSE7     DSECT                     DSE parameter area map          @L2A 08008000
DSE7UCBA DS    A                   UCB address                     @L2A 08009600
DSE7FUNC DS    XL1                 Function to be performed        @L2A 08011200
DSE7TCC  DS    XL1                 Type of configuration change    @L2A 08012800
DSE7PMSK DS    XL1                 Path mask containing paths that      08014400
*                                  are being deleted. Maps to UCBCHPID  08016000
*                                  array. Valid only if DSE7TCC=        08017600
*                                  DSE7TDP. Otherwise, 0.          @L2A 08019200
         DS    CL1                 Reserved                             08020800
DSE7L    EQU   *-DSE7              Length of DSE7 parameters       @L2A 08022400
*********************************************************************** 08024000
***  DSE function code 7 - Configuration change parameter            ** 08025600
***                        mapping.                              @L2A** 08027200
*********************************************************************** 08028800
*********************************************************************** 08030400
***  Values for DSE7FUNC.                                        @L2A** 08032000
*********************************************************************** 08033600
DSE7FPFD EQU   X'01'               Prepare for delete              @L2A 08035200
DSE7FCCR EQU   X'02'               Configuration change rejected   @L2A 08036800
*********************************************************************** 08038400
***  Values for DSE7TCC.                                         @L2A** 08040000
*********************************************************************** 08041600
DSE7TDP  EQU   X'01'               Delete path request to delete the    08043200
*                                  paths in DSE7PMSK               @L2A 08044800
DSE7TDD  EQU   X'02'               Delete device request           @L2A 08046400
DSE7TDDA EQU   X'03'               Delete partition access from    @L4A 08047600
*                                  device request                  @L4A 08048800
          MEND  ,  */                                                   08050000
*%DSE1B : ;                                                             08100000
*/********************************************************************/ 08150000
*/*  DSE parameter area mapping                                      */ 08200000
*/********************************************************************/ 08250000
*DECLARE                                                                08300000
* 1 DSEPARM BDY(WORD) BASED   , /* DSE parameter area map            */ 08350000
*  3 DSEPFUNC         CHAR(01), /* DSE function code                 */ 08400000
*  3 DSEPEXIT         CHAR(01), /* DSE exit user field               */ 08450000
*  3 DSEPXINT         CHAR(01), /* DSE exit interface field      @01A*/ 08500000
*  3 DSEPRESV         CHAR(01), /* Reserved                      @01C*/ 08550000
*  3 DSEPADDR          PTR(31); /* Function code parameter address   */ 08600000
*/********************************************************************/ 08650000
*/* DSEPADDR field :                                                 */ 08700000
*/*  Function code 0: Pointer to the DSE available functions         */ 08716600
*/*                   parameter area (mapped by DSE0)            @08A*/ 08733200
*/*  Function code 1: Pointer to the device initialization           */ 08750000
*/*                   parameter area (mapped by DSE1)                */ 08800000
*/*  Function code 2: Pointer to the swap support parameter area     */ 08850000
*/*                   (mapped by DSE2)                               */ 08900000
*/*  Function code 3: Pointer to the recording LOGREC information    */ 08950000
*/*                   parameter area (mapped by DSE3)                */ 09000000
*/*  Function code 4: Pointer to the sense data analysis parameter   */ 09050000
*/*                   area (mapped by DSE4)                          */ 09100000
*/*  Function code 5: Pointer to the CCWs supported / Device state   */ 09150000
*/*                   info parameter area (mapped by DSE5)       @0AC*/ 09200000
*/*  Function code 6: Pointer to the user defined parameter area.    */ 09250000
*/*                   Mapped independent of the IOSDDSE macro.       */ 09300000
*/*                   There is no IOS support for function code six  */ 09350000
*/*                   other than IOS will not use function code six. */ 09400000
*/*  Function code 7: Pointer to configuration change parameter area.*/ 09410000
*/*  Function code 8: Pointer to the device initialization           */ 09420000
*/*                   parameter area used for defined offline devices*/ 09430000
*/*                   (mapped by DSE1).                              */ 09440000
*/*  Function code 9: Mapped by macro IOSCLDSE.                  @0BC*/ 09440900
*/*  Function code 10: Pointer to the parameter area. Used after     */ 09441800
*/*                   a device is assigned to allow the device       */ 09442700
*/*                   support code to set the mode controls.         */ 09443600
*/*                   (mapped by DSE1).                          @0BA*/ 09444500
*/*  Function code 11-255 are mapped by macro IOSCLDSE.          @0BC*/ 09445400
*/*                                                                  */ 09446600
*/********************************************************************/ 09450000
*DECLARE                                                                09500000
*  DSEAVAIL BIT(8) CONSTANT('00'X),/* Available DSE functions    @08A*/ 09525000
*  DSEINIT BIT(8) CONSTANT('01'X), /* Device Initialization function */ 09550000
*  DSESWAP BIT(8) CONSTANT('02'X), /* Swap Function                  */ 09600000
*  DSERECI BIT(8) CONSTANT('03'X), /* Recording Information function */ 09650000
*  DSESENS BIT(8) CONSTANT('04'X), /* Sense data analysis function   */ 09700000
*  DSECCWS BIT(8) CONSTANT('05'X), /* CCWs supported / device state     09720800
*                                     info function              @0AC*/ 09741600
*  DSEUSER BIT(8) CONSTANT('06'X), /* Resvd for user definition. @01A*/ 09762500
*  DSECONF BIT(8) CONSTANT('07'X), /* Configuration change function     09775000
*                                                                @P1C*/ 09787500
*  DSEDFOFF BIT(8) CONSTANT('08'X), /* Defined offline devices          09800000
*                                     initialization function.  Uses    09812500
*                                     the same parameter list as        09825000
*                                     function code 1.           @0BC*/ 09827100
*  DSESMODE BIT(8) CONSTANT('0A'X); /* Device set mode controls         09829200
*                                     function.  Uses the same          09831300
*                                     parameter list as function        09833400
*                                     code 1.                    @0BA*/ 09835500
*/********************************************************************/ 09838000
*/*  DSE function code 0 - Available DSE functions parameter mapping */ 09838500
*/*                                                              @08A*/ 09839000
*/********************************************************************/ 09839500
*DECLARE                                                                09840000
* 1 DSE0    BDY(WORD) BASED,    /* DSE parameter area map        @08A*/ 09840500
*    3 DSE0FNC0 CHAR(4),        /* DSE function bitmap - word 0  @08A*/ 09841000
*       5 DSE0F000 BIT(1),      /* DSE function code 0 supported @08A*/ 09841500
*       5 DSE0F001 BIT(1),      /* DSE function code 1 supported @08A*/ 09842000
*       5 DSE0F002 BIT(1),      /* DSE function code 2 supported @08A*/ 09842500
*       5 DSE0F003 BIT(1),      /* DSE function code 3 supported @08A*/ 09843000
*       5 DSE0F004 BIT(1),      /* DSE function code 4 supported @08A*/ 09843500
*       5 DSE0F005 BIT(1),      /* DSE function code 5 supported @08A*/ 09844000
*       5 DSE0F006 BIT(1),      /* Reserved - user defined       @08A*/ 09844500
*       5 DSE0F007 BIT(1),      /* DSE function code 7 supported @08A*/ 09845000
*       5 DSE0F008 BIT(1),      /* DSE function code 8 supported @08A*/ 09845500
*       5 DSE0F009 BIT(1),      /* DSE function code 9 supported @08A*/ 09846000
*       5 DSE0F010 BIT(1),      /* DSE func code 10 supported    @0BA*/ 09846300
*       5 DSE0F011 BIT(1),      /* DSE func code 11 supported    @0CA*/ 09846500
*       5 *        BIT(20),     /* Reserved                      @0CC*/ 09846700
*    3 DSE0FNCX CHAR(28);       /* DSE function bitmap - words 1        09847000
*                                  through 7                     @08A*/ 09847500
*/********************************************************************/ 09850000
*/*  DSE function code 1 - device initialization parameter mapping   */ 09900000
*/********************************************************************/ 09950000
*DECLARE                                                                10000000
* 1 DSE1    BDY(WORD) BASED   , /* DSE parameter area map            */ 10050000
*  3 DSE1ID           CHAR(04), /* DSE1 identifier                   */ 10100000
*  3 DSE1FLAG          BIT(08), /* DSE1 flag field                   */ 10150000
*    5 DSE1DIC         BIT(01), /* Device Initialization caller bit     10200000
*                                  0  =  IPL entry.                     10250000
*                                  1  =  Vary entry                     10267800
*                                  (FC1 and FC8 only).           @0BC*/ 10285600
*    5 DSE1PATH        BIT(01), /* When DSE1DIC = 1, VARY is described. 10303400
*                                  0  =  Vary device.                   10306800
*                                  1  =  Vary path.                     10309000
*                                  (FC1 and FC8 only).           @0BC*/ 10311200
*    5 DSE1MBFF        BIT(01), /* If 0, message buffer is not used in  10313600
*                                  this call.  If 1, the message buffer 10327200
*                                  is supplied as part of the interface 10340800
*                                                                @L3A*/ 10354400
*    5 DSE1SIDP        BIT(01), /* Sense-id data is present             10359300
*                                  (DSE1SNSD points to sense-ID data)   10364200
*                                  Non-DASD and display devices only    10367400
*                                  (FC1 and FC8 only).           @0BC*/ 10369800
*    5 DSE1BASI        BIT(01), /* Base or Alias Initialization         10372200
*                                  0 = Base                             10373800
*                                  1 = Alias                     @L5A*/ 10375400
*    5 DSE1DDRA        BIT(01), /* DDR Swap active for device    @0AA*/ 10376600
*    5 DSE1MSI         BIT(01), /* Qualifies meaning of DSE1DIC         10376900
*                                  flag. When on, indicates that        10377200
*                                  DSE entered during Master            10377500
*                                  Scheduler Initialization (MSI)       10377800
*                                                                @0CC*/ 10378100
*    5 DSE1NCF         BIT(01), /* The Nullification-control facility   10378400
*                                  is supported                  @0DA*/ 10378700
*  3 DSE1RES0         CHAR(01), /* Reserved                          */ 10379000
*  3 DSE1BFRL         CHAR(02), /* Length of area pointed to by the     10450000
*                                  DSE1BFRP field                    */ 10500000
*  3 DSE1BFRP          PTR(31), /* pointer to field used by exit        10550000
*                                  to build device initialization       10600000
*                                  channel program and data read-in     10650000
*                                  area.  field is on double word       10700000
*                                  boundary in subpool 245, key 0,      10750000
*                                  fixed global storage.                10800000
*                                  Field initialized to zeros.       */ 10850000
*  3 DSE1UCBC          PTR(31), /* pointer to UCB common field       */ 10900000
*  3 DSE1ADRF          PTR(31), /* On 1st call, set to zeros.           10950000
*                                  On subsequent calls, pointer to      11000000
*                                  callers IOSB that was used to        11050000
*                                  issue the channel program.        */ 11100000
*  3 DSE1AEWA          PTR(31), /* Address of the EWA, if one was       11110700
*                                  created.  Otherwise, zero.    @05C*/ 11121400
*  3 DSE1DREQ         CHAR(01), /* IOS processing requested by the DSE. 11132100
*                                                                @05C*/ 11142800
*    5 DSE1DGDP        BIT(01), /* DSE requested guaranteed device      11153500
*                                  path (GDP) processing.               11160600
*                                  (FC1 and FC8 only).           @0BC*/ 11167700
*    5 DSE1NULL        BIT(01), /* The device is bypassing the          11172100
*                                  nullification window          @0DA*/ 11176500
*    5 *               BIT(06), /* Reserved.                     @0DC*/ 11180900
*  3 DSE1DLPM         CHAR(01), /* DSE requested logical path mask for  11185600
*                                  the GDP request.              @05A*/ 11196300
*  3 *                CHAR(02), /* Reserved.                     @05A*/ 11207000
*  3 DSE1MBFR         PTR(31),  /* Token to the message buffer.  This   11217700
*                                  field may be interrogated only if    11228400
*                                  flag DSE1MBFF is on.          @L3A*/ 11239100
*  3 DSE1SNSD         PTR(31);  /* Address of sense-id data returned    11241200
*                                  by the device.  Valid only if        11243300
*                                  flag DSE1SIDP is on.                 11245400
*                                  (Non-DASD devices only)              11246900
*                                  (FC1 and FC8 only).           @0BC*/ 11248400
*/********************************************************************/ 11250000
*/* DSE function code 1/8 - Channel Program and data read-in mapping */ 11300000
*/********************************************************************/ 11350000
*DECLARE                                                                11400000
* 1 DSE1BFR BDY(DWORD) BASED(DSE1BFRP) CHAR(640),  /*            @09C*/ 11450000
*  3 *                     ;    /* 640 byte area, Subpool 245, key 0,   11500000
*                                  fixed storage, above 16M line     */ 11550000
*/********************************************************************/ 11600000
*/*  DSE function code 2 - Swap support parameter mapping            */ 11650000
*/********************************************************************/ 11700000
*DECLARE                                                                11750000
* 1 DSE2    BDY(WORD) BASED   , /* DSE parameter area map            */ 11800000
*  3 DSE2TUCB          PTR(31), /* Pointer to the TO UCB common area */ 11850000
*  3 DSE2FUCB          PTR(31); /* Pointer to the FROM UCB common       11900000
*                                  area.                             */ 11950000
*/********************************************************************/ 12000000
*/*  DSE function code 3 - Recording LOGREC Information  mapping     */ 12050000
*/********************************************************************/ 12100000
*DECLARE                                                                12150000
* 1 DSE3    BDY(WORD) BASED   , /* DSE parameter area map            */ 12200000
*  3 DSE3UCBC          PTR(31), /* Pointer to the UCB common area    */ 12250000
*  3 DSE3INFL         CHAR(04), /* length of information area        */ 12300000
*  3 DSE3INFO                 , /* Start of recording information    */ 12350000
*    5 DSE3UTYP       CHAR(04), /* UCB TYP field to be stored in        12400000
*                                  LOGREC entry (equivalent to bytes    12450000
*                                  10-13 in UCB common).             */ 12500000
*    5 DSE3CHAN       CHAR(02), /* Device number to be associated with  12550000
*                                  LOGREC entry (HEX value)          */ 12600000
*    5 DSE3RSV1       CHAR(02); /* Reserved                          */ 12650000
*/********************************************************************/ 12700000
*/*  DSE function code 4 - Sense Data Analysis -                     */ 12750000
*/*                                                                  */ 12754500
*/*    Sub function 0 - Reset Event analysis                         */ 12759000
*/*                0 - A reset event was detected                    */ 12763500
*/*                8 - A reset event was not detected                */ 12768000
*/*                                                                  */ 12772500
*/*    Sub function 1 - Reserve/release analysis                     */ 12777000
*/*         Return codes:                                            */ 12781500
*/*                0 - Reserve/release is supported                  */ 12786000
*/*                8 - Reserve/release is not supported              */ 12790500
*/*                                                              @03A*/ 12795000
*/********************************************************************/ 12800000
*DECLARE                                                                12850000
* 1 DSE4    BDY(WORD) BASED   , /* DSE parameter area map            */ 12900000
*  3 DSE4UCBC          PTR(31), /* Pointer to the UCB common area    */ 12950000
*  3 DSE4SNSA          PTR(31), /* Pointer to the sense data area    */ 12962500
*  3 DSE4FUNC         FIXED(8), /* Sub-function for sense analysis      12975000
*                                                                @03A*/ 12987500
*  3 *                CHAR(11); /* Reserved                      @03A*/ 13000000
* DCL                            /* Values for DSE4FUNC          @03A*/ 13012500
*  DSE4RSTE FIXED(8) CONSTANT(0),/* Reset event analysis         @03A*/ 13025000
*  DSE4RR   FIXED(8) CONSTANT(1);/* Reserve/release analysis     @03A*/ 13037500
*/********************************************************************/ 13050000
*/*  DSE function code 5 - CCWs Supported / Device State info    @0AC*/ 13100000
*/********************************************************************/ 13150000
*DECLARE                        /*                                   */ 13200000
* 1 DSE5    BDY(WORD) BASED   , /* DSE parameter area map            */ 13250000
*  3 DSE5UCBC          PTR(31), /* UCB common address            @02A*/ 13300000
*  3 DSE5CCWS          BIT(32), /* CCWs supported word               */ 13350000
*    5 DSE5CCW1        BIT(8),  /* CCWs supported mask byte 1        */ 13400000
*      7 DSE5UR        BIT(1),  /* Unconditional reserve CCW            13450000
*                                  supported                         */ 13500000
*      7 DSE5RSTA      BIT(1),  /* Reset Allegiance CCW                 13550000
*                                  supported                         */ 13600000
*      7 DSE5RSV1      BIT(6),  /* Reserved                          */ 13650000
*    5 DSE5CCW2        BIT(8),  /* CCWs supported mask byte 2        */ 13700000
*    5 DSE5CCW3        BIT(8),  /* CCWs supported mask byte 3        */ 13750000
*    5 DSE5DEVS        BIT(8),  /* Device state info             @0AC*/ 13770000
*      7 DSE5PPRC      BIT(1),  /* Device is in PPRC pair        @0AA*/ 13790000
*      7 DSE5XRC       BIT(1),  /* Device is in XRC pair         @0AA*/ 13810000
*      7 *             BIT(6);  /* Reserved                      @0AA*/ 13830000
*/********************************************************************/ 13850000
*/*  DSE function code 6 - Reserved for user definitions.            */ 13900000
*/*                        Mapped independent of the IOSDDSE macro.  */ 13950000
*/********************************************************************/ 14000000
*/********************************************************************/ 14050000
*/*  DSE function code 7 - Configuration change parameter            */ 14100000
*/*                        mapping.                              @L2A*/ 14150000
*/********************************************************************/ 14200000
*DECLARE                                                                14250000
* 1 DSE7    BDY(WORD) BASED,    /* DSE parameter area map        @L2A*/ 14300000
*  3 DSE7UCBA PTR(31),          /* UCB address                   @L2A*/ 14350000
*  3 DSE7FUNC FIXED(8),         /* Function to be performed      @L2A*/ 14400000
*  3 DSE7TCC  FIXED(8),         /* Type of configuration change  @L2A*/ 14450000
*  3 DSE7PMSK FIXED(8),         /* Path mask containing paths that      14500000
*                                  are being deleted. Maps to UCBCHPID  14550000
*                                  array. Valid only if DSE7TCC=        14600000
*                                  DSE7TDP. Otherwise, 0.        @L2A*/ 14650000
*  3 * CHAR(1);                 /* Reserved                      @L2A*/ 14700000
*/********************************************************************/ 14750000
*/*  Values for DSE7FUNC.                                        @L2A*/ 14800000
*/********************************************************************/ 14850000
*DCL                                                                    14900000
* DSE7FPFD FIXED(8) CONSTANT(1), /* Prepare for delete           @L2A*/ 14950000
* DSE7FCCR FIXED(8) CONSTANT(2); /* Configuration change                15000000
*                                   rejected                     @L2A*/ 15050000
*/********************************************************************/ 15100000
*/*  Values for DSE7TCC.                                         @L2A*/ 15150000
*/********************************************************************/ 15200000
*DCL                                                                    15250000
* DSE7TDP FIXED(8) CONSTANT(1),  /* Delete path request to delete the   15300000
*                                   path(s) in DSE7PMSK          @L2A*/ 15350000
* DSE7TDD FIXED(8) CONSTANT(2),  /* Delete device request        @L4C*/ 15400000
* DSE7TDDA FIXED(8) CONSTANT(3); /* Delete partition access from        15450000
                                    device request               @L4A*/ 15500000
