*        %GOTO IGF010;  /*                                              00050000
         MACRO                                                          00100000
         IGFDDPRM ,     */                                              00150000
*%IGF010: ;                                                             00600000
*/** START OF SPECIFICATIONS *****************************************  00621300
*                                                                    *  00642600
*01*  MACRO-NAME = IGFDDPRM                                          *  00663900
*                                                                    *  00685200
*01*  DESCRIPTIVE-NAME = DDR EXIT PARAMETER LIST                     *  00706500
*                                                                    *  00727800
*02*    ACRONYM: DDPLIST                                             *  00749100
*                                                                    *  00770400
*01*    DSECT-NAME: DDPLIST                                          *  00791700
*                                                                    *  00813000
*01*    COPYRIGHT =                                                  *  00834300
*           5740-XC6                                                 *  00855600
*           THIS MACRO IS "RESTRICTED MATERIALS OF IBM"              *  00876900
*           (C) COPYRIGHT IBM CORP. 1981, 1986                       *  00898200
*           LICENSED MATERIALS - PROPERTY OF IBM                     *  00919500
*                                                                    *  00940800
*01*    STATUS = JBB2220                                             *  00962100
*                                                                    *  00983400
*01* COMPONENT: DDR (BB1CS)                                          *  01004700
*                                                                    *  01026000
*01* EYE-CATCHER: DDP                                                *  01047300
*02*   OFFSET: 0                                                     *  01068600
*02*   LENGTH: 4                                                     *  01089900
*                                                                    *  01111200
*01* STORAGE ATTRIBUTES:                                             *  01132500
*02*   SUBPOOL:  caller-provided                                     *  01153800
*02*   KEY:  caller-provided                                         *  01175100
*02*   RESIDENCY: caller-provided                                    *  01196400
*                                                                    *  01217700
*01* Size:  See assembler listing.                                   *  01239000
*                                                                    *  01260300
*01* Created by: IGFDI1, IGFDL1, IGFDT2, IGFDV0                      *  01281600
*                                                                    *  01302900
*01* Pointed to by: Register 1                                       *  01324200
*                                                                    *  01345500
*01* Serialization: None                                             *  01366800
*                                                                    *  01388100
*01*   METHOD-OF-ACCESS:                                             *  01409400
*02*    ASM: IGFDDPRM                                                *  01430700
*02*    PL/AS: %INCLUDE SYSLIB(IGFDDPRM)                             *  01452000
*                                                                    *  01473300
*01* External Classification: None                                   *  01494600
*01* End of External Classification:                                 *  01515900
*                                                                    *  01537200
*01*  FUNCTION = MAPS THE PARAMETER LIST PASSED BY DDR TO THE        *  01558500
*                DDR EXIT                                            *  01579800
*                                                                    *  01601100
*01*  MODULE-TYPE = MACRO                                            *  01622400
*                                                                    *  01643700
*02*    PROCESSOR = ASSEMBLER AND PLAS                               *  01665000
*                                                                    *  01686300
*01* NOTES                                                           *  01707600
*                                                                    *  01728900
*    PLAS - THIS MACRO WILL NOT EXPAND AS BASED UNLESS %IGFPLBS='YES'*  01750200
*          IS SET PRIOR TO THE INCLUDE FOR THIS MACRO.               *  01771500
*          IF %IGFPLBS='YES' IS SPECIFIED, THIS CONTROL              *  01792800
*          BLOCK WILL EXPAND WITH  THE BASED ATTRIBUTE.     @ZMB0320 *  01814100
*    BAL - A DSECT WILL ALWAYS BE PRODUCED                           *  01835400
*                                                                    *  01856700
*01*  DEPENDENCIES = THE DDR EXIT MUST NOT CHANGE ANY FIELDS IN      *  01878000
*                    THIS PARAMETER LIST EXCEPT FOR DDPEXITD AND     *  01899300
*                    DDPVFMSK.                                       *  01920600
*                                                                    *  01941900
* $MAC(IGFDDPRM),COMP(BB1CS): DDR exit parameter list.               *  01963200
*                                                                    *  01984500
*     NEW COMPONENT 5752-BB1CS                                       *  02005800
*                                                                    *  02027100
*01*  CHANGE ACTIVITY =                                              *  02048400
*        A-000000-999999                                    @G384PLT *  02069700
*                                                                    *  02091000
* PN  REASON   RLSE     DATE   ORG   COMMENTS                        *  02112300
*                                                                    *  02133600
* $H1=3480     JBB2125  830431 PDLT: INCLUDE IOSB IN DDR EXIT        *  02154900
*                                    PARAMETER LIST AND ALLOW DDR    *  02176200
*                                    EXIT TO BYPASS I/O ERROR TYPE   *  02197500
*                                    CHECKS.                     @H1A*  02218800
* $L1=VERS     HBB3310  860416 PDLB: Versioning module into          *  02240100
*                                    CHECKS.                     @H1A*  02261400
* $P1=PWK0895  HBB6608  990406 PDIU: Set external classification to  *  02282700
*                                    'NONE' and made SHOWHDR         *  02304000
*                                    compliant                   @P1A*  02325300
* $01=OY20319  JBB2220  890130 PDLB: Add support for two validation  *  02346600
*                                    passes because new devices have *  02367900
*                                    multiple criteria for "TO"      *  02389200
*                                    device requirements.        @01A*  02410500
* $02=OW36129  HBB6603  990331 PDFJ: Add fields to contain and flag  *  02431800
*                                    the P/DAS-Swap WTOR option  @02A*  02453100
*                                                                    *  02474400
*     OZ60625                        PUT OUT WARNING MESSAGE IF      *  02495700
*                                    DENSITIES OF 'TO' AND 'FROM'    *  02517000
*                                    DEVICES ARE DIFFERENT           *  02538300
*                                                                    *  02559600
*                                                                    *  02580900
*                                                                    *  02602200
****END OF SPECIFICATIONS *******************************************/  02623500
*%GOTO IGF020; /*                                                       02650000
DDPLIST  DSECT                                                          02700000
DDPID    DS    CL4                 ACRONYM 'DDP'                        02750000
DDPENTRY DS    XL1                 INDICATES SWAP PROCESSING FROM WHICH 02800000
*                                  THE DDR EXIT IS BEING ENTERED        02850000
DDPVFRM  EQU   X'01'               THIS ENTRY IS MADE PRIOR TO DEVICE   02900000
*                                  DEPENDENT 'FROM' VALIDATION.         02950000
*                                  VALID RETURN CODES FOR THIS ENTRY    03000000
*                                  ARE:                                 03050000
*                                     0 - DO DDR 'FROM' VALIDATION.     03100000
*                                         IF THIS RETURN CODE IS USED,  03150000
*                                         THE DDR EXIT CAN ELECT        03200000
*                                         TO BYPASS CERTAIN 'FROM'      03250000
*                                         VALIDATIONS CHECKS BY SETTING 03300000
*                                         DDPVFMSK (SEE BELOW FOR       03350000
*                                         A DESCRIPTION OF THIS FIELD.  03400000
*                                     4 - DDR EXIT COMPLETED FROM       03450000
*                                         VALIDATION AND THE DEVICE     03500000
*                                         CAN BE SWAPPED. DO NOT DO     03550000
*                                         DDR'S 'FROM' VALIDATION       03600000
*                                         CHECKS.                       03650000
*                                    16 - DDR EXIT DETERMINED THAT      03700000
*                                         THE SWAP SHOULD BE CANCELLED. 03750000
DDPVTO   EQU   X'02'               THIS ENTRY IS MADE PRIOR TO DEVICE   03800000
*                                  DEPENDENT 'TO' COMPATIBILITY         03850000
*                                  VALIDATION.                          03900000
*                                  VALID RETURN CODES FOR THIS ENTRY    03950000
*                                  ARE:                                 04000000
*                                     0 - DO DDR 'TO' VALIDATION.       04050000
*                                     4 - DDR EXIT COMPLETED 'TO'       04100000
*                                         VALIDATION AND THE DEVICE     04150000
*                                         CAN BE SWAPPED TO. DO NOT     04200000
*                                         DO DDR'S 'TO' VALIDATION      04250000
*                                     8 - THE DDR EXIT DETERMINED       04300000
*                                         THAT THIS DEVICE COULD NOT    04350000
*                                         BE USED TO SWAP TO.           04400000
DDPOPREJ EQU   X'03'               THIS ENTRY IS MADE WHEN THE OPERATOR 04450000
*                                  REJECTS A VALIDATED 'TO' DEVICE.     04500000
*                                  THE ONLY VALID RETURN CODE FOR THIS  04550000
*                                  ENTRY IS ZERO.                       04600000
DDPPRSW  EQU   X'04'               THIS ENTRY IS MADE AFTER DDR HAS     04650000
*                                  TAKEN CONTROL OF THE DEVICE (I.E.,   04700000
*                                  UCBDDRSW TURNED ON AND UCB LEVEL     04750000
*                                  SET)                        @G860PLM 04800000
*                                  AND BEFORE THE 'REWIND/UNLOAD' IF    04850000
*                                  TAPE AND PRIOR TO SWAPPING UCBS.     04900000
*                                  VALID RETURN CODES FOR THIS ENTRY    04950000
*                                  ARE:                                 05000000
*                                     0 - CONTINUE SWAP.                05050000
*                                    16 - DDR EXIT ENCOUNTERED          05100000
*                                         UNRECOVERABLE ERRORS,         05150000
*                                         CANCEL SWAP.                  05200000
DDPMOUNT EQU   X'05'               THIS ENTRY IS MADE PRIOR TO THE I/O  05250000
*                                  TO VERIFY MOUNT FOR TAPE DEVICES.    05300000
*                                  THE DDR EXIT MAY ELECT TO DO ITS     05350000
*                                  OWN LABEL VERIFICATION AND DATA      05400000
*                                  REPOSITIONING WHEN CALLED WITH THIS  05450000
*                                  CODE SET.                            05500000
*                                  VALID RETURN CODES FOR THIS ENTRY    05550000
*                                  ARE:                                 05600000
*                                     0 - EXIT DID NOT DO VOLUME        05650000
*                                         VERIFICATION OR DATA          05700000
*                                         POSITIONING, SWAP SHOULD BE   05750000
*                                         CONTINUED. IF THIS RETURN     05800000
*                                         CODE IS SET DDR WILL PROCEED  05850000
*                                         WITH ITS OWN ROUTINES FOR     05900000
*                                         VOLUME VERIFICATION.          05950000
*                                         NOTE: THIS RETURN CODE CAN    06000000
*                                         BE USED ONLY IF RETURN CODE   06050000
*                                         0 WAS USED WHEN ENTERED FOR   06100000
*                                         'FROM' VALIDATION AND         06150000
*                                         THE DDR EXIT DID NOT SET      06200000
*                                         DDPMILBL, DDPMERP, DDRMMTPD   06250000
*                                         OR DDPMOCEV.                  06300000
*                                     4 - DDR EXIT DID VOLUME           06350000
*                                         VERIFICATION AND DATA         06400000
*                                         POSITIONING SUCCESSFULLY.     06450000
*                                     8 - DURING DDR EXIT PROCESSING,   06500000
*                                         THE EXIT DETERMINED THAT THE  06550000
*                                         VOLUME COULD NOT BE SWAPPED   06600000
*                                         TO THE SELECTED 'TO' DEVICE   06650000
*                                         BECAUSE OF DEVICE ERRORS      06700000
*                                         (E.G. I/O ERRORS) AND         06750000
*                                         ANOTHER 'TO' DEVICE SHOULD    06800000
*                                         BE SELECTED. IF THIS RETURN   06850000
*                                         CODE IS SET, DDR WILL         06900000
*                                         CONTINUE BY PUTTING OUT A     06950000
*                                         MESSAGE TO THE OPERATOR       07000000
*                                         'ERROR ON XXX, SELECT A NEW   07050000
*                                         DEVICE'.                      07100000
*                                    12 - DURING DDR EXIT PROCESSING,   07150000
*                                         THE EXIT DID NOT READ THE     07200000
*                                         CORRECT VOL SER AFTER FIVE    07250000
*                                         ATTEMPTS TO DO SO. IF THIS    07300000
*                                         RETURN CODE IS SET, DDR       07350000
*                                         WILL CONTINUE WITH            07400000
*                                         REQUESTING THE OPERATOR       07450000
*                                         TO SELECT A NEW 'TO' DEVICE.  07500000
*                                    16 - THE EXIT ENCOUNTERED AN       07550000
*                                         UNRECOVERABLE ERROR WHICH     07600000
*                                         CANNOT BE CORRECTED BY        07650000
*                                         TRYING A NEW 'TO' DEVICE.     07700000
*                                         FORCE A PERMANENT ERROR ON    07750000
*                                         THE DEVICE BEING SWAPPED.     07800000
DDPREMNT EQU   X'06'               THIS ENTRY IS MADE WHEN DDR REQUESTS 07850000
*                                  A REMOUNT FOR TAPE DEVICES DUE TO A  07900000
*                                  WRONG VOLSER BEING MOUNTED.          07950000
*                                  THE ONLY VALID RETURN CODE FOR THIS  08000000
*                                  ENTRY IS ZERO.                       08050000
DDPREPOS EQU   X'07'               THIS ENTRY IS MADE AFTER VOLUME      08100000
*                                  VERIFICATION BY DDR AND PRIOR TO     08150000
*                                  DATA REPOSITIONING. THE EXIT CAN     08200000
*                                  ELECT TO DO ITS OWN DATA RE-         08250000
*                                  REPOSITIONING HERE.                  08300000
*                                  VALID RETURN CODES FOR THIS ENTRY    08350000
*                                  ARE:                                 08400000
*                                     0 - EXIT DID NOT DO               08450000
*                                         REPOSITIONING. SWAP SHOULD    08500000
*                                         BE CONTINUED. IF THIS RETURN  08550000
*                                         CODE IS SET DDR WILL PROCEED  08600000
*                                         WITH ITS OWN ROUTINES FOR     08650000
*                                         DATA POSITIONING.             08700000
*                                         NOTE: THIS RETURN CODE CAN    08750000
*                                         BE USED ONLY IF RETURN CODE   08800000
*                                         0 WAS USED WHEN ENTERED FOR   08850000
*                                         'FROM' VALIDATION AND         08900000
*                                         THE DDR EXIT DID NOT SET      08950000
*                                         ANY FIELDS IN DDPVFMSK.       09000000
*                                     4 - DDR EXIT DID DATA             09050000
*                                         POSITIONING SUCCESSFULLY.     09100000
*                                     8 - DURING DDR EXIT PROCESSING,   09150000
*                                         THE EXIT DETERMINED THAT THE  09200000
*                                         VOLUME COULD NOT BE SWAPPED   09250000
*                                         TO THE SELECTED 'TO' DEVICE   09300000
*                                         BECAUSE OF DEVICE ERRORS      09350000
*                                         (E.G. I/O ERRORS) AND         09400000
*                                         ANOTHER 'TO' DEVICE SHOULD    09450000
*                                         BE SELECTED. IF THIS RETURN   09500000
*                                         CODE IS SET, DDR WILL         09550000
*                                         CONTINUE BY PUTTING OUT A     09600000
*                                         MESSAGE TO THE OPERATOR       09650000
*                                         'ERROR ON XXX, SELECT A NEW   09700000
*                                         DEVICE'.                      09750000
*                                    16 - THE EXIT ENCOUNTERED AN       09800000
*                                         UNRECOVERABLE ERROR WHICH     09850000
*                                         CANNOT BE CORRECTED BY        09900000
*                                         TRYING A NEW 'TO' DEVICE.     09950000
*                                         FORCE A PERMANENT ERROR ON    10000000
*                                         THE DEVICE BEING SWAPPED.     10050000
DDPUCLN  EQU   X'08'               THIS INDICATES THE EXIT IS BEING     10100000
*                                  ENTERED FOR CLEANUP OF AN            10150000
*                                  UNSUCCESSFUL SWAP OR DUE TO AN       10200000
*                                  ABNORMAL TERMINATION. RESOURCES      10250000
*                                  OBTAINED BY THE EXIT SHOULD BE       10300000
*                                  FREED.                               10350000
*                                  THE ONLY VALID RETURN CODE FOR THIS  10400000
*                                  ENTRY IS ZERO.                       10450000
DDPSCLN  EQU   X'09'               THIS INDICATES THE EXIT IS BEING     10500000
*                                  ENTERED FOR CLEANUP OF A SUCCESSFUL  10550000
*                                  SWAP. ANY RESOURCES OBTAINED BY THE  10600000
*                                  EXIT SHOULD BE FREED.                10650000
*                                  THE ONLY VALID RETURN CODE FOR THIS  10700000
*                                  ENTRY IS ZERO.                       10750000
DDP2PASS EQU   X'0A'               After the exit has rejected all      10756200
*                                  devices on "TO" validation calls     10762400
*                                  (DDPVTO), this entry is made for a   10768600
*                                  second pass at the same devices.     10774800
*                                  Valid only if DDP2PXIT = ON.         10781000
*                                  Return codes are the same as for     10787200
*                                  DDPVTO.                         @01A 10793400
DDPVFMSK DS    XL1                 THIS FIELD CAN BE SET BY THE EXIT    10800000
*                                  WHEN CALLED WITH DDPENTRY=DDPVFRM    10850000
*                                  TO INDICATE TO DDR WHICH OF DDR'S    10900000
*                                  'FROM' VALIDATION CHECKS ARE NOT TO  10950000
*                                  BE DONE. (ONLY VALID IF RC=0 IS USED 11000000
*                                  WHEN DDPENTRY=DDPVFRM.) INITIALIZED  11050000
*                                  TO ZERO BY DDR. IF LEFT ZERO, ALL OF 11100000
*                                  DDR'S FROM VALIDATION CHECKS         11150000
*                                  ARE DONE.                            11200000
DDPMOCEV EQU   X'80'             FOR TAPE, BYPASS OPEN, CLOSE, EOV CHKS 11250000
DDPMERP  EQU   X'40'             FOR TAPE, BYPASS ERP IN PROGRESS CHKS  11300000
DDPMMTPD EQU   X'20'             FOR TAPE, BYPASS MOUNT PENDING CHECKS  11350000
DDPMILBL EQU   X'10'             FOR TAPE, BYPASS LABEL TYPE VALIDATION 11400000
DDPMBLCT EQU   X'08'             FOR TAPE, BYPASS BLOCK COUNT CHECKS    11450000
DDPMERTP EQU   X'04'             FOR TAPE, BYPASS I/O ERROR TYPE CHECKS 11500000
*                                DONE FOR SYSTEM INITIATED SWAP    @H1A 11550000
DDPMRSV  EQU   X'03'             RESERVED MASK BITS                @H1C 11600000
DDPXFLGS DS    XL1               FLAGS SET BY DDR EXIT ROUTINE. ZEROED  11650000
*                                BY DDR PRIOR TO EACH CALL TO THE EXIT  11700000
*                                                              @ZA60625 11750000
DDPDENDF EQU   X'80'             DENSITY OF TO AND FROM DEVICES ARE     11800000
*                                COMPATIBLE BUT DIFFERENT. DURING 'TO'  11850000
*                                VALIDATION (DDPENTRY=DDPVTO), IF THE   11900000
*                                DDR DEVICE DEPENDENT EXIT DETERMINES   11950000
*                                THAT THE 'TO' DEVICE CAN BE SWAPPED    12000000
*                                TO (RETURN CODE=4) BUT THE DENSITY IF  12050000
*                                THE 'TO' DEVICE IS DIFFERENT THAN THE  12100000
*                                'FROM' DEVICE, THE EXIT MUST TURN THIS 12150000
*                                BIT ON. THIS WILL RESULT IN THE        12200000
*                                ISSUING OF MESSAGE IGF501I (WARNING    12250000
*                                TO OPERATOR THAT DIFFERENT DENSITIES   12300000
*                                ARE BEING USED).              @ZA60625 12350000
DDPLEVEL DS    X                   LEVEL TO BE USED BY EXIT WHEN I/O    12400000
*                                  IS TO BE DONE TO DEVICES INVOLVED    12450000
*                                  IN THE SWAP. THE LEVEL PASSED MAY    12500000
*                                  CHANGE ON EACH CALL TO THE EXIT.     12550000
*                                  IF THE EXIT INTENDS TO DO I/O        12600000
*                                  AGAINST A DEVICE INVOLVED IN THE     12650000
*                                  SWAP DURING A CALL FROM DDR, IT MUST 12700000
*                                  UPDATE THE APPROPRIATE IOSB FIELD    12750000
*                                  (IOSLEVEL) WITH THIS VALUE. @G860PLM 12800000
DDPEXITD DS    XL4                 EXIT DATA. THIS FIELD IS FOR USE BY  12850000
*                                  THE EXIT AND WILL BE MAINTAINED      12900000
*                                  ACROSS ENTRIES BY DDR. THIS FIELD IS 12950000
*                                  INITIALLY SET TO ZERO BY DDR.        13000000
DDPFMUCB DS    A                   FROM UCB ADDRESS                     13050000
DDPTOUCB DS    A                   TO UCB ADDRESS                       13100000
DDPUTAPE DS    0XL14               USER INFORMATION - VALID ONLY IF     13150000
*                                  SWAP IS FOR TAPE                     13200000
DDPUTCB  DS    A                   USER'S TCB ADDRESS                   13250000
DDPUDEB  DS    A                   USER'S DEB ADDRESS                   13300000
DDPUDCB  DS    A                   USER'S DCB ADDRESS NOTE: SINCE THIS  13350000
*                                  IS THE USER'S DCB AND CAN CHANGE AT  13400000
*                                  ANY TIME DURING THE SWAP THE EXIT    13450000
*                                  MUST VALIDATE THE DCB BEFORE USING   13500000
*                                  IT.                                  13550000
DDPUASID DS    XL2                 USER'S ASID. NOTE THAT DDR MAY       13600000
*                                  NOT BE RUNNING IN THE ADDRESS SPACE  13650000
*                                  ASSOCIATED WITH THE I/O ERROR AND    13700000
*                                  THAT IF USER INFORMATION IS          13750000
*                                  REQUIRED, IT MUST BE OBTAINED FROM   13800000
*                                  THE ADDRESS SPACE ASSOCIATED WITH    13850000
*                                  THE ASID INDICATED HERE.             13900000
DDPMSG   DS    0XL38                                                    13950000
DDPMSGLN DS    XL1                 MESSAGE LENGTH (EXCLUDING ANY        14000000
*                                  TRAILING BLANKS). MAXIMUM LENGTH     14050000
*                                  IS 37.                               14100000
DDPMSGTX DS    CL37                MESSAGE TEXT. TERMINATION REASON     14150000
*                                  TO BE USED IN IGF512I MESSAGE.       14200000
*                                  ONLY APPLICABLE IF EXIT CANCELLED    14250000
*                                  SWAP.                                14300000
DDPIOSB  DS    A                   USER'S IOSB ADDRESS OR ZERO.         14350000
*                                  VALID ONLY ON FROM VALIDATION CALL   14400000
*                                  (DDPENTRY=DDRVFRM).                  14450000
*                                  ON THE FROM VALIDATION CALL: IF THE  14500000
*                                  SWAP IS AN OPERATOR SWAP THIS FIELD  14550000
*                                  WILL BE ZERO, OTHERWISE, THE SWAP IS 14600000
*                                  A SYSTEM SWAP AND THIS FIELD WILL    14650000
*                                  CONTAIN THE USER'S IOSB ADDRESS @H1A 14700000
DDPFLAG  DS    X                   Flags.                          @01C 14705200
*********************************************************************** 14710400
*    These bits set when DDR and/or the exit support 2 pass logic.    * 14715600
*    Two pass logic is used only when supported by the exit and DDR.  * 14720800
*********************************************************************** 14726000
DDP2PXIT EQU   X'80'               Set by exit when called for "TO"     14731200
*                                  device verification. Tells DDR       14736400
*                                  to make second pass if 1st pass      14741600
*                                  criteria fails.                 @01A 14746800
DDP2PDDR EQU   X'40'               Set by DDR when calling the exit to  14752000
*                                  verify the "TO" device (DDPVTO).     14757200
*                                  Tells the exit that DDR supports     14762400
*                                  two pass device verification.   @01A 14767600
DDPPDASV EQU   X'20'               PDASoption= spec'd on SWAP cmd. @02A 14770700
*        EQU   X'1F'               Available.                      @02A 14773800
DDPPDAS  DS    CL1                 PDASoption byte from SWAP cmd.       14776900
*                                  (When DDPPDASV is on.)          @02A 14780000
         DS    CL2                 Available.                      @01A 14783200
         DS    A                   Available.                      @01A 14788400
         DS    A                   Available.                      @01A 14793600
         MEND       */                                                  14800000
*%IGF020: ;                                                             14850000
*DECLARE                                                                14900000
*%IF IGFPLBS~='YES'  %THEN                                              14950000
*    %GOTO IGF030;                                                      15000000
*    1  DDPLIST     BASED ,               /* PARAMETER LIST PASSED      15050000
*                                           TO THE DDR EXIT          */ 15100000
*%GOTO IGF040;                                                          15150000
*%IGF030: ;                                                             15200000
*    1  DDPLIST     BDY(WORD),           /* PARAMETER LIST PASSED       15250000
*                                           TO THE DDR EXIT          */ 15300000
*%IGF040: ;                                                             15350000
*       3  DDPID    CHAR(4),       /* ACRONYM 'DDP '                 */ 15400000
*       3  DDPENTRY FIXED(8),      /* INDICATES SWAP PROCESSING FROM    15450000
*                                     WHICH THE DDR EXIT IS BEING       15500000
*                                     ENTERED.                       */ 15550000
*       3  DDPVFMSK,               /* THIS FIELD CAN BE SET BY THE EXIT 15600000
*                                     WHEN CALLED WITH DDPENTRY=DDPVFRM 15650000
*                                     TO INDICATE TO DDR WHICH OF DDR'S 15700000
*                                     'FROM' VALIDATION CHECKS ARE NOT  15750000
*                                     TO BE DONE. (ONLY VALID IF RC=0   15800000
*                                     IS USED WHEN DDPENTRY = DDPVFRM.) 15850000
*                                     INITIALIZED TO ZERO BY DDR.       15900000
*                                     IF LEFT ZERO, ALL OF DDR'S        15950000
*                                     VALIDATION ROUTINES ARE DONE.  */ 16000000
*       5 DDPMOCEV BIT(1),/* FOR TAPE,BYPASS OPEN, CLOSE, EOV CHECKS */ 16050000
*       5 DDPMERP  BIT(1),/* FOR TAPE,BYPASS ERP IN PROGRESS CHECKS */  16100000
*       5 DDPMMTPD BIT(1),/* FOR TAPE,BYPASS MOUNT PENDING CHECKS */    16150000
*       5 DDPMILBL BIT(1),/* FOR TAPE,BYPASS LABEL TYPE VALIDATION */   16200000
*       5 DDPMBLCT BIT(1),/* FOR TAPE,BYPASS BLOCK COUNT CHECKS         16250000
*                                     VALIDATION                     */ 16300000
*        5 DDPMERTP BIT(1),     /* FOR TAPE, BYPASS I/O ERROR TYPE      16350000
*                                  CHECKS DONE FOR SYSTEM INITIATED     16400000
*                                  SWAP                          @H1A*/ 16450000
*        5 DDPMRSV  BIT(2),     /* RESERVED MASK BITS            @H1C*/ 16500000
*       3  DDPXFLGS BIT(8),     /* FLAGS SET BY DDR EXIT ROUTINE.       16550000
*                                  ZEROED BY DDR PRIOR TO EACH CALL TO  16600000
*                                  THE EXIT.                 @ZA60625*/ 16650000
*        5 DDPDENDF BIT(1),     /* DENSITY OF TO AND FROM DEVICES ARE   16700000
*                                  COMPATIBLE BUT DIFFERENT. DURING     16750000
*                                  'TO' VALIDATION (DDPENTRY=DDPVTO),   16800000
*                                  IF THE DDR DEVICE DEPENDENT EXIT     16850000
*                                  DETERMINES THAT THE 'TO' DEVICE CAN  16900000
*                                  BE SWAPPED TO (RETURN CODE=4) BUT    16950000
*                                  THE DENSITY OF THE 'TO' DEVICE IS    17000000
*                                  IS DIFFERENT THAN THE 'FROM' DEVICE, 17050000
*                                  THE EXIT MUST TURN THIS BIT ON.      17100000
*                                  THIS WILL RESULT IN THE ISSUING OF   17150000
*                                  MESSAGE IGF501I (WARNING TO OPERATOR 17200000
*                                  THAT DIFFERENT DENSITIES ARE BEING   17250000
*                                  USED).                    @ZA60625*/ 17300000
*        5 *   BIT(7),          /* RESERVED                  @ZA60625*/ 17350000
*       3  DDPLEVEL CHAR(1),       /* LEVEL TO BE USED BY EXIT WHEN     17400000
*                                     I/O IS TO BE DONE TO DEVICES      17450000
*                                     INVOLVED IN THE SWAP. THE LEVEL   17500000
*                                     PASSED MAY CHANGE ON EACH CALL    17550000
*                                     TO THE EXIT. IF THE EXIT INTENDS  17600000
*                                     TO DO I/O AGAINST A DEVICE        17650000
*                                     INVOLVED IN THE SWAP DURING A     17700000
*                                     CALL FROM DDR, IT MUST UPDATE     17750000
*                                     THE APPROPRIATE IOSB FIELD        17800000
*                                     (IOSLEVEL) WITH THIS VALUE.       17850000
*                                                            @G860PLM*/ 17900000
*       3  DDPEXITD PTR(31),       /* EXIT DATA. THIS FIELD IS FOR      17950000
*                                     USE BY THE EXIT AND WILL BE       18000000
*                                     MAINTAINED ACROSS ENTRIES BY      18050000
*                                     DDR. THIS FIELD IS INITIALLY      18100000
*                                     SET TO ZERO BY DDR.            */ 18150000
*       3  DDPFMUCB PTR(31),       /* FROM UCB ADDRESS               */ 18200000
*       3  DDPTOUCB PTR(31),       /* TO UCB ADDRESS                 */ 18250000
*       3  DDPUTAPE,               /* USER INFORMATION - VALID ONLY     18300000
*                                     IF SWAP IS FOR TAPE            */ 18350000
*          5  DDPUTCB    PTR(31),  /* USER'S TCB ADDRESS             */ 18400000
*          5  DDPUDEB    PTR(31),  /* USER'S DEB ADDRESS             */ 18450000
*          5  DDPUDCB    PTR(31),  /* USER'S DCB ADDRESS. NOTE: SINCE   18500000
*                                     THIS IS THE USER'S DCB AND CAN    18550000
*                                     CHANGE AT ANY TIME DURING THE     18600000
*                                     SWAP THE EXIT MUST VALIDATE THE   18650000
*                                     DCB BEFORE USING IT.           */ 18700000
*          5  DDPUASID  FIXED(15), /* USER'S ASID. NOTE THAT DDR MAY    18750000
*                                  NOT BE RUNNING IN THE ADDRESS SPACE  18800000
*                                  ASSOCIATED WITH THE I/O ERROR AND    18850000
*                                  THAT IF USER INFORMATION IS          18900000
*                                  REQUIRED, IT MUST BE OBTAINED FROM   18950000
*                                  THE ADDRESS SPACE ASSOCIATED WITH    19000000
*                                  THE ASID INDICATED HERE. */          19050000
*       3  DDPMSG,                                                      19100000
*          5  DDPMSGLN  FIXED(8),  /* MESSAGE LENGTH (EXCLUDING ANY     19150000
*                                     TRAILING BLANKS). MAXIMUM LENGTH  19200000
*                                     IS 37.                         */ 19250000
*          5  DDPMSGTX  CHAR(37),  /* MESSAGE TEXT. TERMINATION REASON  19300000
*                                     TO BE USED IN IGF512I MESSAGE.    19350000
*                                     ONLY APPLICABLE IF EXIT CANCELLED 19400000
*                                     SWAP (RETURN CODES 16 OR 20).  */ 19450000
*       3  DDPIOSB PTR(31),        /* USER'S IOSB ADDRESS OR ZERO.      19500000
*                                   VALID ONLY ON FROM VALIDATION CALL  19550000
*                                   (DDPENTRY=DDRVFRM).                 19600000
*                                   ON THE FROM VALIDATION CALL: IF THE 19650000
*                                   SWAP IS AN OPERATOR SWAP THIS FIELD 19700000
*                                   WILL BE ZERO, OTHERWISE, THE SWAP   19750000
*                                   IS A SYSTEM SWAP AND THIS FIELD     19800000
*                                   WILL CONTAIN THE USER'S IOSB        19850000
*                                   ADDRESS                      @H1A*/ 19900000
*       3  DDPFLAG  BIT(8),        /* Flags.                     @01C*/ 19905200
*/********************************************************************/ 19910400
*/*  These bits set when DDR and/or the exit support 2 pass logic.   */ 19915600
*/*  Two pass logic is used when supported by both the exit and DDR. */ 19920800
*/********************************************************************/ 19926000
*        5 DDP2PXIT BIT(1),     /* Set by exit when called for "TO"     19931200
*                                  device verification. Tells DDR       19936400
*                                  to make second pass if 1st pass      19941600
*                                  criteria fails.               @01A*/ 19946800
*        5 DDP2PDDR BIT(1),     /* Set by DDR when calling the exit to  19952000
*                                  verify the "TO" device (DDPVTO).     19957200
*                                  Tells the exit that DDR supports     19962400
*                                  two pass device verification. @01A*/ 19967600
*        5 DDPPDASV BIT(1),     /* PDASoption= spec'd on SWAP cmd.      19970200
*                                                                @02A*/ 19972800
*        5  *       BIT(5),        /* Available.                 @02A*/ 19975400
*       3  DDPPDAS  CHAR(1),    /* PDASoption byte from SWAP cmd.       19978000
*                                  (When DDPPDASV is on.)        @02A*/ 19980600
*       3  *        CHAR(2),       /* Available.                 @01A*/ 19983200
*       3  *        PTR(31),       /* Available.                 @01A*/ 19988400
*       3  *        PTR(31);       /* Available.                 @01A*/ 19993600
* /*******************************************************************/ 20000000
* /*                                                                 */ 20050000
* /*     CONSTANTS FOR DDPENTRY                                      */ 20100000
* /*                                                                 */ 20150000
* /*******************************************************************/ 20200000
*  DCL DDPVFRM  FIXED(8) CONSTANT(01); /* THIS ENTRY IS MADE PRIOR      20250000
*                                           TO DEVICE DEPENDENT 'FROM'  20300000
*                                           VALIDATION.                 20350000
*                                  VALID RETURN CODES FOR THIS ENTRY    20400000
*                                  ARE:                                 20450000
*                                     0 - DO DDR 'FROM' VALIDATION.     20500000
*                                         IF THIS RETURN CODE IS USED,  20550000
*                                         THE DDR EXIT CAN ELECT        20600000
*                                         TO BYPASS CERTAIN 'FROM'      20650000
*                                         VALIDATIONS CHECKS BY SETTING 20700000
*                                         DDPVFMSK (SEE ABOVE FOR       20750000
*                                         A DESCRIPTION OF THIS FIELD). 20800000
*                                     4 - DDR EXIT COMPLETED FROM       20850000
*                                         VALIDATION AND THE DEVICE     20900000
*                                         CAN BE SWAPPED. DO NOT DO     20950000
*                                         DDR'S 'FROM' VALIDATION       21000000
*                                         CHECKS.                       21050000
*                                    16 - DDR EXIT DETERMINED THAT      21100000
*                                         THE SWAP SHOULD BE CANCELLED. 21150000
*                                                                    */ 21200000
*  DCL DDPVTO   FIXED(8) CONSTANT(02); /* THIS ENTRY IS MADE PRIOR      21250000
*                                           TO DEVICE DEPENDENT 'TO'    21300000
*                                           COMPATIBILITY VALIDATION    21350000
*                                  VALID RETURN CODES FOR THIS ENTRY    21400000
*                                  ARE:                                 21450000
*                                     0 - DO DDR 'TO' VALIDATION.       21500000
*                                     4 - DDR EXIT COMPLETED 'TO'       21550000
*                                         VALIDATION AND THE DEVICE     21600000
*                                         CAN BE SWAPPED TO. DO NOT     21650000
*                                         DO DDR'S 'TO' VALIDATION      21700000
*                                     8 - THE DDR EXIT DETERMINED       21750000
*                                         THAT THIS DEVICE COULD NOT    21800000
*                                         BE USED TO SWAP TO. */        21850000
*  DCL DDPOPREJ FIXED(8) CONSTANT(03); /* THIS ENTRY IS MADE WHEN       21900000
*                                           THE OPERATOR REJECTS A      21950000
*                                           VALIDATED 'TO' DEVICE.      22000000
*                                  THE ONLY VALID RETURN CODE FOR THIS  22050000
*                                  ENTRY IS ZERO. */                    22100000
*  DCL DDPPRSW  FIXED(8) CONSTANT(04); /* THIS ENTRY IS MADE AFTER      22150000
*                                           DDR HAS TAKEN CONTROL OF    22200000
*                                           THE DEVICE (I.E., UCBDDRSW  22250000
*                                           TURNED ON AND UCB LEVEL     22300000
*                                           SET)               @G860PLM 22350000
*                                           AND BEFORE THE 'REWIND/     22400000
*                                           UNLOAD' IF TAPE AND PRIOR   22450000
*                                           TO SWAPPING UCBS.           22500000
*                                  VALID RETURN CODES FOR THIS ENTRY    22550000
*                                  ARE:                                 22600000
*                                     0 - CONTINUE SWAP.                22650000
*                                    16 - DDR EXIT ENCOUNTERED          22700000
*                                         UNRECOVERABLE ERRORS,         22750000
*                                         CANCEL SWAP.                  22800000
*                                    20 - DDR EXIT ENCOUNTERED ERRORS   22850000
*                                         WHICH WOULD RESULT IN LOSS    22900000
*                                         OF DATA OR DATA INTEGRITY.    22950000
*                                         CANCEL SWAP AND BOX THE       23000000
*                                         DEVICE. NOTE: THIS RETURN     23050000
*                                         CODE SHOULD ONLY BE USED ON   23100000
*                                         OPERATOR INITIATED SWAPS      23150000
*                                         (SINCE ON SYSTEM INITIATED    23200000
*                                         SWAPS, THE USER IS NOTIFIED   23250000
*                                         OF A PERMANENT ERROR IF THE   23300000
*                                         SWAP FAILS). IF THE EXIT      23350000
*                                         USES THIS RETURN CODE, IT     23400000
*                                         MUST ALSO SUPPLY THE MESSAGE  23450000
*                                         TEXT IN DDPMSG.            */ 23500000
*  DCL DDPMOUNT FIXED(8) CONSTANT(05); /* THIS ENTRY IS MADE PRIOR      23550000
*                                           TO THE I/O TO VERIFY MOUNT  23600000
*                                           FOR TAPE DEVICES. THE DDR   23650000
*                                           EXIT MAY ELECT TO DO ITS    23700000
*                                           OWN LABEL VERIFICATION      23750000
*                                           AND DATA REPOSITIONING      23800000
*                                           WHEN CALLED WITH THIS CODE  23850000
*                                           SET.                        23900000
*                                  VALID RETURN CODES FOR THIS ENTRY    23950000
*                                  ARE:                                 24000000
*                                     0 - EXIT DID NOT DO VOLUME        24050000
*                                         VERIFICATION OR DATA          24100000
*                                         POSITIONING, SWAP SHOULD BE   24150000
*                                         CONTINUED. IF THIS RETURN     24200000
*                                         CODE IS SET DDR WILL PROCEED  24250000
*                                         WITH ITS OWN ROUTINES FOR     24300000
*                                         VOLUME VERIFICATION.          24350000
*                                         NOTE: THIS RETURN CODE CAN    24400000
*                                         BE USED ONLY IF RETURN CODE   24450000
*                                         0 WAS USED WHEN ENTERED FOR   24500000
*                                         'FROM' VALIDATION AND         24550000
*                                         THE DDR EXIT DID NOT SET      24600000
*                                         DDPMILBL, DDPMERP, DDRMMTPD   24650000
*                                         OR DDPMOCEV.                  24700000
*                                     4 - DDR EXIT DID VOLUME           24750000
*                                         VERIFICATION AND DATA         24800000
*                                         POSITIONING SUCCESSFULLY.     24850000
*                                     8 - DURING DDR EXIT PROCESSING,   24900000
*                                         THE EXIT DETERMINED THAT THE  24950000
*                                         VOLUME COULD NOT BE SWAPPED   25000000
*                                         TO THE SELECTED 'TO' DEVICE   25050000
*                                         BECAUSE OF DEVICE ERRORS      25100000
*                                         (E.G. I/O ERRORS) AND         25150000
*                                         ANOTHER 'TO' DEVICE SHOULD    25200000
*                                         BE SELECTED. IF THIS RETURN   25250000
*                                         CODE IS SET, DDR WILL         25300000
*                                         CONTINUE BY PUTTING OUT A     25350000
*                                         MESSAGE TO THE OPERATOR       25400000
*                                         'ERROR ON XXX, SELECT A NEW   25450000
*                                         DEVICE'.                      25500000
*                                    12 - DURING DDR EXIT PROCESSING,   25550000
*                                         THE EXIT DID NOT READ THE     25600000
*                                         CORRECT VOL SER AFTER FIVE    25650000
*                                         ATTEMPTS TO DO SO. IF THIS    25700000
*                                         RETURN CODE IS SET, DDR       25750000
*                                         WILL CONTINUE WITH            25800000
*                                         REQUESTING THE OPERATOR       25850000
*                                         TO SELECT A NEW 'TO' DEVICE.  25900000
*                                    16 - THE EXIT ENCOUNTERED AN       25950000
*                                         UNRECOVERABLE ERROR WHICH     26000000
*                                         CANNOT BE CORRECTED BY        26050000
*                                         TRYING A NEW 'TO' DEVICE.     26100000
*                                         FORCE A PERMANENT ERROR ON    26150000
*                                         THE DEVICE BEING SWAPPED.     26200000
*                                    20 - DDR EXIT ENCOUNTERED ERRORS   26250000
*                                         WHICH WOULD RESULT IN LOSS    26300000
*                                         OF DATA OR DATA INTEGRITY.    26350000
*                                         CANCEL SWAP AND BOX THE       26400000
*                                         DEVICE. NOTE: THIS RETURN     26450000
*                                         CODE SHOULD ONLY BE USED ON   26500000
*                                         OPERATOR INITIATED SWAPS      26550000
*                                         (SINCE ON SYSTEM INITIATED    26600000
*                                         SWAPS, THE USER IS NOTIFIED   26650000
*                                         OF A PERMANENT ERROR IF THE   26700000
*                                         SWAP FAILS). IF THE EXIT      26750000
*                                         USES THIS RETURN CODE, IT     26800000
*                                         MUST ALSO SUPPLY THE MESSAGE  26850000
*                                         TEXT IN DDPMSG.            */ 26900000
*  DCL DDPREMNT FIXED(8) CONSTANT(06); /* THIS ENTRY IS MADE WHEN DDR   26950000
*                                           REQUESTS A REMOUNT FOR TAPE 27000000
*                                           DEVICES DUE TO A WRONG      27050000
*                                           VOLSER BEING MOUNTED.       27100000
*                                  THE ONLY VALID RETURN CODE FOR THIS  27150000
*                                  ENTRY IS ZERO. */                    27200000
*  DCL DDPREPOS FIXED(8) CONSTANT(07); /* THIS ENTRY IS MADE AFTER      27250000
*                                           VOLUME VERIFICATION BY      27300000
*                                           DDR AND PRIOR TO DATA       27350000
*                                           REPOSITIONING. THE EXIT     27400000
*                                           CAN ELECT TO DO ITS OWN     27450000
*                                           DATA REPOSITIONING HERE.    27500000
*                                  VALID RETURN CODES FOR THIS ENTRY    27550000
*                                  ARE:                                 27600000
*                                     0 - EXIT DID NOT DO               27650000
*                                         REPOSITIONING. SWAP SHOULD    27700000
*                                         BE CONTINUED. IF THIS RETURN  27750000
*                                         CODE IS SET DDR WILL PROCEED  27800000
*                                         WITH ITS OWN ROUTINES FOR     27850000
*                                         DATA POSITIONING.             27900000
*                                         NOTE: THIS RETURN CODE CAN    27950000
*                                         BE USED ONLY IF RETURN CODE   28000000
*                                         0 WAS USED WHEN ENTERED FOR   28050000
*                                         'FROM' VALIDATION AND         28100000
*                                         THE DDR EXIT DID NOT SET      28150000
*                                         ANY FIELDS IN DDPVFMSK.       28200000
*                                     4 - DDR EXIT DID DATA             28250000
*                                         POSITIONING SUCCESSFULLY.     28300000
*                                     8 - DURING DDR EXIT PROCESSING,   28350000
*                                         THE EXIT DETERMINED THAT THE  28400000
*                                         VOLUME COULD NOT BE SWAPPED   28450000
*                                         TO THE SELECTED 'TO' DEVICE   28500000
*                                         BECAUSE OF DEVICE ERRORS      28550000
*                                         (E.G. I/O ERRORS) AND         28600000
*                                         ANOTHER 'TO' DEVICE SHOULD    28650000
*                                         BE SELECTED. IF THIS RETURN   28700000
*                                         CODE IS SET, DDR WILL         28750000
*                                         CONTINUE BY PUTTING OUT A     28800000
*                                         MESSAGE TO THE OPERATOR       28850000
*                                         'ERROR ON XXX, SELECT A NEW   28900000
*                                         DEVICE'.                      28950000
*                                    16 - THE EXIT ENCOUNTERED AN       29000000
*                                         UNRECOVERABLE ERROR WHICH     29050000
*                                         CANNOT BE CORRECTED BY        29100000
*                                         TRYING A NEW 'TO' DEVICE.     29150000
*                                         FORCE A PERMANENT ERROR ON    29200000
*                                         THE DEVICE BEING SWAPPED.     29250000
*                                    20 - DDR EXIT ENCOUNTERED ERRORS   29300000
*                                         WHICH WOULD RESULT IN LOSS    29350000
*                                         OF DATA OR DATA INTEGRITY.    29400000
*                                         CANCEL SWAP AND BOX THE       29450000
*                                         DEVICE. NOTE: THIS RETURN     29500000
*                                         CODE SHOULD ONLY BE USED ON   29550000
*                                         OPERATOR INITIATED SWAPS      29600000
*                                         (SINCE ON SYSTEM INITIATED    29650000
*                                         SWAPS, THE USER IS NOTIFIED   29700000
*                                         OF A PERMANENT ERROR IF THE   29750000
*                                         SWAP FAILS). IF THE EXIT      29800000
*                                         USES THIS RETURN CODE, IT     29850000
*                                         MUST ALSO SUPPLY THE MESSAGE  29900000
*                                         TEXT IN DDPMSG.            */ 29950000
*  DCL DDPUCLN  FIXED(8) CONSTANT(08); /* THIS INDICATES THE EXIT    IS 30000000
*                                           BEING ENTERED FOR CLEANUP   30050000
*                                           OF AN UNSUCCESSFUL SWAP     30100000
*                                           OR DUE TO AN ABNORMAL       30150000
*                                           TERMINATION.                30200000
*                                  THE ONLY VALID RETURN CODE FOR THIS  30250000
*                                  ENTRY IS ZERO. */                    30300000
*  DCL DDPSCLN  FIXED(8) CONSTANT(09); /* THIS INDICATES THE EXIT    IS 30350000
*                                           BEING ENTERED FOR CLEANUP   30400000
*                                           OF A SUCCESSFUL SWAP. ANY   30450000
*                                           RESOURCES OBTAINED BY THE   30500000
*                                           EXIT SHOULD BE FREED.       30550000
*                                  THE ONLY VALID RETURN CODE FOR THIS  30600000
*                                  ENTRY IS ZERO. */                    30650000
*   DECLARE                                                             30655500
*     DDP2PASS FIXED(8)             /* After the exit has rejected   */ 30661000
*         CONSTANT(10);             /* all devices on "TO" validation   30666500
*                                      calls (DDPVTO), this entry is    30672000
*                                      made for a second pass at the    30677500
*                                      same devices. Used only if       30683000
*                                      DDP2PXIT = ON. Return codes are  30688500
*                                      the same as for DDPVTO.   @01A*/ 30694000
* %DEACT IGFPLBS;                                                       30700000
