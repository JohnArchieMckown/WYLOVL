         MACRO                                                          00050000
         ICHRSMXP                                                       00100000
RSMPL    DSECT                                                          00150000
*********************************************************************** 00178100
*                                                                     * 00206200
*  MODULE NAME: ICHRSMXP                                          @P1C* 00209300
*                                                                     * 00212400
*  DESCRIPTIVE NAME: RACF Report Writer Exit Parameter List Mapping   * 00217000
*                                                                     * 00221700
*  COPYRIGHT: 5740-XXH CONTAINS RESTRICTED MATERIALS OF IBM.          * 00224800
*             (C) COPYRIGHT IBM CORP. 1987.                           * 00227900
*             LICENSED MATERIALS - PROPERTY OF IBM                    * 00231000
*             REFER TO COPYRIGHT INSTRUCTIONS FORM G120-2083          * 00234100
*                                                                     * 00237200
*  STATUS: RACF VERSION 1, RELEASE 9, MODIFICATION 0              @P1C* 00240300
*                                                                     * 00243400
*  FUNCTION: This is a mapping of the list of addresses passed to     * 00246500
*            the RACF Report Writer installation exit.                * 00249600
*                                                                     * 00252700
*  MODULE TYPE: MACRO                                                 * 00258900
*                                                                     * 00265100
*  INVOCATION: BAL - ICHRSMXP (DSECT is produced)                     * 00269700
*                                                                     * 00274400
*  CHANGE ACTIVITY:                                                   * 00277500
*             $L8=HRF1802,RACF/180,870526,CNTDSD:                 @L8A* 00279500
*  $P1=PGU0893  HRF1902 890517  PDMJN1: MVS B1 SECURITY           @P1A* 00281500
*                                                                     * 00283700
*  CHANGE DESCRIPTIONS:                                               * 00285000
*    A000000-999999 ORIGINAL CODE                                 @L8A* 00286300
*    A - PTM PGU0893 - BASE CODE -CORRECT MODULE NAME IN PROLOG   @P1A* 00287600
*********************************************************************** 00289100
*                                                                       00300000
*    On entry to ICHRSMFE register 1 contains the address of            00350000
*    the following area:                                                00400000
*                                                                       00450000
RSMCALLR DS    A                   Reason code address:                 00550000
*                                  points to a fullword containing      00600000
*                                  the reason for this call:            00650000
*                                                                       00700000
RSMPRES  EQU   X'00000000'             X'00000000' - Prerecord          00750000
*                                                    selection          00800000
*                                                                       00850000
RSMPOSTS EQU   X'00000004'             X'00000004' - Postrecord         00900000
*                                                    selection          00950000
*                                                                       01000000
RSMEOF   EQU   X'00000008'             X'00000008' - End-of-file        01050000
*                                                                       01100000
RSMDSTRA DS    A                   Data string address:                 01150000
*                                  points to an area having the         01200000
*                                  following format:                    01250000
*                                                                       01300000
*                                  0    4    Address of DATA string     01350000
*                                                                       01400000
*                                  4    2    Length of DATA string      01450000
*                                                                       01500000
*                                  6    1    1-byte flag field.  If     01550000
*                                            bit 0 is on, DATA was      01600000
*                                            specified on the RACFRW    01650000
*                                            command.                   01700000
*                                                                       01750000
RSMSWTCH DS    A                   Switch address:                      01800000
*                                  points to a 1-byte field             01850000
*                                  containing switches indicating       01900000
*                                  whether the RACF report writer       01950000
*                                  will select or reject the record,    02000000
*                                  based on the existing                02050000
*                                  selection/rejection criteria.        02100000
*                                  The format of these switches is:     02150000
*                                                                       02200000
RSMSLECT EQU   B'00000000'         0...  ....  If 0, the record is      02250000
*                                              selected.  For RACF      02300000
*                                              records with reason      02350000
*                                              code = 0, this bit is    02400000
*                                              0 because no             02450000
*                                              selection criterion      02500000
*                                              has yet been applied.    02550000
*                                                                       02600000
RSMRJECT EQU   B'10000000'         1...  ....  If 1, the record is      02650000
*                                              rejected.  For           02700000
*                                              non-RACF records,        02750000
*                                              this bit is 1 because    02800000
*                                              non-RACF records are     02850000
*                                              passed to this exit      02900000
*                                              routine for              02950000
*                                              inspection only.         03000000
*                                                                       03050000
*                                                                       03100000
RSMREFRS EQU   B'00000000'         .0..  ....  If 0, the record is a    03150000
*                                              reformatted RACF SMF     03200000
*                                              record.  For more        03250000
*                                              information about        03300000
*                                              these records, see       03350000
*                                              "Reformatted RACF SMF    03400000
*                                              Records" in Chapter      03450000
*                                              11 of SPL: RACF.         03500000
*                                                                       03550000
RSMNONRS EQU   B'01000000'         .1..  ....  If 1, the record is a    03600000
*                                              non-RACF SMF record.     03650000
*                                                                       03700000
*                                  ..00  0000  Reserved.                03750000
*                                                                       03800000
RSMRCD   DS    A                   Record address:                      03850000
*                                  points to the non-RACF SMF record    03900000
*                                  or the reformatted RACF SMF          03950000
*                                  record under inspection.  For        04000000
*                                  reason code X'00000008', this        04050000
*                                  address is set to zero.              04100000
*                                                                       04150000
RSMPRDCB DS    A                   SYSPRINT DCB address:                04200000
*                                  points to an area containing the     04250000
*                                  SYSPRINT DCB that has been           04300000
*                                  opened.  The SYSPRINT DCB            04350000
*                                  parameters are:  DSORG=PS,           04400000
*                                  RECFM=FA, MACRF=PM, and              04450000
*                                  LRECL=133.                           04500000
*                                                                       04550000
RSMCOMM  DS    A                   Communication area address:          04600000
*                                  points to a fullword                 04650000
*                                  communication area that can be       04700000
*                                  used by the exit routine.            04750000
*                                  Initially, this field is set to      04800000
*                                  zero.                                04850000
*                                                                       04900000
         MEND                                                           04950000
*                                                                       05000000
RSMCALLR DS    A                   Reason code address:                 05050000
*                                  points to a fullword containing      05100000
*                                  the reason for this call:            05150000
*                                                                       05200000
RSMPRES  EQU   X'00000000'             X'00000000' - Prerecord          05250000
*                                                    selection          05300000
*                                                                       05350000
RSMPOSTS EQU   X'00000004'             X'00000004' - Postrecord         05400000
*                                                    selection          05450000
*                                                                       05500000
RSMEOF   EQU   X'00000008'             X'00000008' - End-of-file        05550000
*                                                                       05600000
RSMDSTRA DS    A                   Data string address:                 05650000
*                                  points to an area having the         05700000
*                                  following format:                    05750000
*                                                                       05800000
*                                  0    4    Address of DATA string     05850000
*                                                                       05900000
*                                  4    2    Length of DATA string      05950000
*                                                                       06000000
*                                  6    1    1-byte flag field.  If     06050000
*                                            bit 0 is on, DATA was      06100000
*                                            specified on the RACFRW    06150000
*                                            command.                   06200000
*                                                                       06250000
RSMSWTCH DS    A                   Switch address:                      06300000
*                                  points to a 1-byte field             06350000
*                                  containing switches indicating       06400000
*                                  whether the RACF report writer       06450000
*                                  will select or reject the record,    06500000
*                                  based on the existing                06550000
*                                  selection/rejection criteria.        06600000
*                                  The format of these switches is:     06650000
*                                                                       06700000
RSMSLECT EQU   B'00000000'         0...  ....  If 0, the record is      06750000
*                                              selected.  For RACF      06800000
*                                              records with reason      06850000
*                                              code = 0, this bit is    06900000
*                                              0 because no             06950000
*                                              selection criterion      07000000
*                                              has yet been applied.    07050000
*                                                                       07100000
RSMRJECT EQU   B'10000000'         1...  ....  If 1, the record is      07150000
*                                              rejected.  For           07200000
*                                              non-RACF records,        07250000
*                                              this bit is 1 because    07300000
*                                              non-RACF records are     07350000
*                                              passed to this exit      07400000
*                                              routine for              07450000
*                                              inspection only.         07500000
*                                                                       07550000
*                                                                       07600000
RSMREFRS EQU   B'00000000'         .0..  ....  If 0, the record is a    07650000
*                                              reformatted RACF SMF     07700000
*                                              record.  For more        07750000
*                                              information about        07800000
*                                              these records, see       07850000
*                                              "Reformatted RACF SMF    07900000
*                                              Records" in Chapter      07950000
*                                              11 of SPL: RACF.         08000000
*                                                                       08050000
RSMNONRS EQU   B'01000000'         .1..  ....  If 1, the record is a    08100000
*                                              non-RACF SMF record.     08150000
*                                                                       08200000
*                                  ..00  0000  Reserved.                08250000
*                                                                       08300000
RSMRCD   DS    A                   Record address:                      08350000
*                                  points to the non-RACF SMF record    08400000
*                                  or the reformatted RACF SMF          08450000
*                                  record under inspection.  For        08500000
*                                  reason code X'00000008', this        08550000
*                                  address is set to zero.              08600000
*                                                                       08650000
RSMPRDCB DS    A                   SYSPRINT DCB address:                08700000
*                                  points to an area containing the     08750000
*                                  SYSPRINT DCB that has been           08800000
*                                  opened.  The SYSPRINT DCB            08850000
*                                  parameters are:  DSORG=PS,           08900000
*                                  RECFM=FA, MACRF=PM, and              08950000
*                                  LRECL=133.                           09000000
*                                                                       09050000
RSMCOMM  DS    A                   Communication area address:          09100000
*                                  points to a fullword                 09150000
*                                  communication area that can be       09200000
*                                  used by the exit routine.            09250000
*                                  Initially, this field is set to      09300000
*                                  zero.                                09350000
*                                                                       09400000
         MEND                                                           09450000
