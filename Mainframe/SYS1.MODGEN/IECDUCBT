*        %GOTO UCBMT1;                /* Bilingual mapping              00050000
         MACRO                                                          00100000
         IECDUCBT &COMMENT                                              00150000
         GBLC  &SYSUCBD               UCB common segment DSECT name     00200000
         GBLB  &DCUCB(6)              Device classes to be mapped    */ 00250000
*%UCBMT1 : ;                                                            00300000
*/********************************************************************/ 00350000
*/*                                                                  */ 00400000
*/*$MAC(IECDUCBT): UCB Magnetic Tape Device Dependent Segment    @L1C*/ 00433300
*/*                and Extension mappings                        @L1A*/ 00466600
*/*                                                                  */ 00500000
*/*PROPRIETARY V3 STATEMENT                                          */ 00521400
*/*LICENSED MATERIALS - PROPERTY OF IBM                              */ 00542800
*/*"RESTRICTED MATERIALS OF IBM"                                     */ 00564200
*/*5695-DF1                                                          */ 00585600
*/*(C) COPYRIGHT 1987,1995  IBM CORP.                                */ 00607000
*/*END PROPRIETARY V3 STATEMENT                                      */ 00628400
*/*                                                                  */ 00650000
*/*  STATUS =  DFSMS 1.3.0                                       @L1C*/ 00700000
*/*                                                                  */ 00750000
*/*  MODULE TYPE = Bilingual                                         */ 00800000
*/*                                                                  */ 00850000
*/*  DEPENDENCIES = None                                             */ 00900000
*/*                                                                  */ 00950000
*/*  RESTRICTIONS = For IEFUCBOB use only                            */ 01000000
*/*                                                                  */ 01050000
*/*  PROCESSOR = PL/S-3 Compiler/PLAS Compiler/Assembler-H           */ 01100000
*/*                                                                  */ 01150000
*/*  INVOCATION = This macro is invoked by IEFUCBOB to map the   @L1R*/ 01157100
*/*               Magnetic Tape (Device) Dependent Segment       @L1R*/ 01164200
*/*               (TDS) and its Extension (TDE).  Refer to the   @L1C*/ 01171300
*/*               UCB mapping macro (IEFUCBOB) prolog for more   @L1A*/ 01178400
*/*               details on expanding this macro.               @L1R*/ 01185500
*/*                                                              @L1R*/ 01192600
*/*               All symbols in the Tape Dependent Segment AND  @L1A*/ 01199700
*/*               in the Tape Dependent Extension are now        @L1A*/ 01206800
*/*               addressible via the USING on UCBOB.  This is   @L1A*/ 01213900
*/*               because the TDE has been made contiguous with  @L1A*/ 01221000
*/*               the Segment so that the extension will be      @L1A*/ 01228100
*/*               captured if the TDS is captured.               @L1A*/ 01235200
*/*                                                              @L1A*/ 01242300
*/*               To maintain compatibility for non-IBM vendor   @L1A*/ 01249400
*/*               code that uses UCBs genned below the line,     @L1A*/ 01256500
*/*               the 24 bit pointer at the end of the TDS,      @L1A*/ 01263600
*/*               UCBXTNB, which points to the TDE, will be      @L1A*/ 01270700
*/*               valid if the UCB is genned below the 16 Meg    @L1A*/ 01277800
*/*               line (not captured, but actually genned).      @L1A*/ 01284900
*/*                                                              @L1A*/ 01292000
*/*               If the UCB is a 31 bit UCB (genned above the   @L1A*/ 01299100
*/*               16 Meg line) then this 24 bit pointer will be  @L1A*/ 01306200
*/*               zero.  One last caveat, the basing             @L1A*/ 01313300
*/*               expression for the TDE (BASED (UCBXNTB)) is    @L1A*/ 01320400
*/*               being removed from the PLX code.  Also, any    @L1A*/ 01327500
*/*               basing expressions referencing UCBXTN or       @L1A*/ 01334600
*/*               UCBXNTB should be removed from PLx code.       @L1A*/ 01341700
*/*                                                              @L1A*/ 01348800
*/*               It is the responsibility of the user of this   @L1A*/ 01355900
*/*               macro, and specifically the user of fields in  @L1A*/ 01363000
*/*               the TDE to ensure that they have               @L1A*/ 01370100
*/*               addressibility.                                @L1A*/ 01377200
*/*                                                              @L1A*/ 01384300
*/*               Zeroing of UCBXTNB for 31 bit UCBs is being    @L1A*/ 01391400
*/*               effected through the UIM, CBDUS005, and its    @L1A*/ 01398500
*/*               interaction with HCD and IOS. The change is    @L1A*/ 01405600
*/*               to check for an above the line UCB (31 bit     @L1A*/ 01412700
*/*               UCB) and if it IS a 31 bit UCB then UCBXTNB    @L1A*/ 01419800
*/*               will be zeroed, otherwise the field will be    @L1A*/ 01426900
*/*               filled in with the address of the TDE, which   @L1A*/ 01434000
*/*               is in contiguous storage.                      @L1A*/ 01441100
*/*                                                                  */ 01450000
*/*  NOTES = All new field names defined in this mapping macro must  */ 01500000
*/*          begin with the characters UCBT.                         */ 01550000
*/*          Device owners have control over the UCBTBYT1, UCBTBYT2, */ 01600000
*/*          and UCBTBYT4 fields within the UCBTYP word.             */ 01650000
*/*                                                                  */ 01700000
*/*  CHANGE ACTIVITY =                                               */ 01750000
*/*                                                                  */ 01800000
*/*  $L0=UCB,HDP2230,,STLRJM:    NEW MACRO                           */ 01820000
*/*  $H1=9348,JDP2231,STLGSJ:    CHANGES DUE TO 3424 AND 9348 SUPPORT*/ 01840000
*/*  $H2=3480X,JDP3311,STLGSJ:   3480 COMPACTION FEATURE             */ 01860000
*/*  $01=OY24931,JDP3311,C/TKNH: NEW BIT UCBBLP FOR O/C/EOV          */ 01880000
*/*  $02=OY25849,HDP3320,C/TKNH: UCBVOPT FIELD MISSING               */ 01886600
*/*  $H3=OY39232,HDP3330,STLGSJ: 3490 SUPPORT                        */ 01893200
*/*  $H4=THRUSH,JDZ1110,SJPLMTL: 3423 support                        */ 01894500
*/*  $l1=UCBVSCR,HDZ11C0,SJPLLRU: Merge Tape Dependent Segment   @L1A*/ 01895800
*/*                               its extension so that the      @L1A*/ 01897100
*/*                               extension is also captured.    @L1A*/ 01898400
*/* $H5=OW21347,HDZ11C0,SJPLLRU: 3590 SUPPORT                    @H5A*/ 01898900
*/* $P1=SAMGT32,HDZ11F0,SJPLGSJ: SAM GREATER THAN 32K SUPPORT.       */ 01899200
*/*                              COMMENT CHANGE ONLY (ON UCBSIO) @P1A*/ 01899500
*/*                                                                  */ 01900000
*/********************************************************************/ 02150000
*/*                                                                  */ 02200000
*/*     Magnetic tape device dependent segment   (IECDUCBT)          */ 02250000
*/*                                                                  */ 02300000
*/*       UCBVOLI, UCBSTAB and UCBDMCT are the same in the tape      */ 02350000
*/*       segment as in the direct access segment                    */ 02400000
*/*                                                                  */ 02450000
*/********************************************************************/ 02500000
*%GOTO UCBMT2;                     /*                                   02550000
&SYSUCBD DSECT                                                          02600000
         ORG   UCBDEV              Device dependent segment             02650000
UCBFSCT  DS    H                   Data set sequence count              02700000
UCBFSEQ  DS    H                   Data set sequence number             02750000
         AIF   (&DCUCB(4) EQ 1).DAUCB1                                  02800000
UCBVOLI  DS    CL6                 Volume serial number                 02850000
UCBSTAB  DS    BL1                 Volume status                        02900000
UCBBSVL  EQU   X'80'               Volume demountable by data           02950000
*                                  management (direct access)           03000000
UCBDVSHR EQU   X'80'               Device not shareable among several   03050000
*                                  CPUs  (3420 magnetic tape devices    03100000
*                                  only)                                03150000
UCBPGFL  EQU   X'40'               UCB is open and is being used as a   03200000
*                                  page file                            03250000
UCBPRSRS EQU   X'20'               During volume attribute processing   03300000
*                                  this bit is used both to denote      03350000
*                                  UCBs that were marked permanently    03400000
*                                  resident prior to getting control    03450000
*                                  and to identify devices that were    03500000
*                                  selected by the operator for         03550000
*                                  mounting volumes  (direct access)    03600000
UCBBALB  EQU   X'20'               Additional volume label processing   03650000
*                                  (tape)                               03700000
UCBBPRV  EQU   X'10'               Private - volume use status          03750000
UCBBPUB  EQU   X'08'               Public - volume use status           03800000
UCBBSTR  EQU   X'04'               Storage - volume use status          03850000
*                                  (direct access)                      03900000
*                                  The volume mounted has an American   03950000
*                                  National Standard Label  (tape)      04000000
UCBSHAR  EQU   X'02'               Volume shareable among job steps     04050000
UCBBNUL  EQU   X'01'               Control volume - A catalog data set  04100000
*                                  is on this volume  (direct access).  04150000
*                                  If the multiple console support      04200000
*                                  option is in the system, demount or  04250000
*                                  mount messages have been issued and  04300000
*                                  the message ID's are at offsets 40   04350000
*                                  through 45.  Open will delete the    04400000
*                                  messages and turn this bit off.      04450000
*                                  (tape)                               04500000
UCBDMCT  DS    XL1                 Volume use byte                      04550000
UCBMOUNT EQU   X'80'               If 0, a mount verification has been  04600000
*                                  performed.  If 1, a mount request    04650000
*                                  has been issued.  (direct access)    04700000
*                                  For tape, the following meanings     04750000
*                                  apply.                               04800000
*                                  Normal scheduler processing - If 0,  04850000
*                                  no volume has been mounted.  If 1,   04900000
*                                  a volume has been mounted but no     04950000
*                                  volume label processing has been     05000000
*                                  performed.                           05050000
*                                  SL open routine - If 0, standard     05100000
*                                  volume label and correct serial      05150000
*                                  number have been verified.  If 1,    05200000
*                                  volume label is not standard format  05250000
*                                  or serial number is not correct.     05300000
*                                  (A mount message has been issued.)   05350000
*                                  NSL open routine - If 0,             05400000
*                                  non-standard volume label has been   05450000
*                                  verified.  If 1, volume label is not 05500000
*                                  standard format.  (Control passes to 05550000
*                                  the processing program's             05600000
*                                  non-standard label processing        05650000
*                                  routine.)  Volume label is standard  05700000
*                                  format.  (Control remains with the   05750000
*                                  open routine.  A mount message has   05800000
*                                  been issued.)                        05850000
*                                  BLP open routine - If 0, volume      05900000
*                                  label has not been processed.        05950000
UCBDMC   EQU   X'7F'               Number of DCB's open for this volume 06000000
*                                                                       06050000
SRTEVOLI EQU   UCBVOLI             Alias                                06100000
SRTESTAB EQU   UCBSTAB             Alias                                06150000
SRTEBSVL EQU   UCBBSVL             Alias                                06200000
SRTEBALB EQU   UCBBALB             Alias                                06250000
SRTEBPRV EQU   UCBBPRV             Alias                                06300000
SRTEBPUB EQU   UCBBPUB             Alias                                06350000
SRTEBSTR EQU   UCBBSTR             Alias                                06400000
SRTEASCI EQU   UCBBSTR             Alias                                06450000
UCBASCI  EQU   SRTEASCI            Alias                                06500000
SRTEBVQS EQU   SRTEBSTR            Alias                                06550000
SRTEBNUL EQU   UCBBNUL             Alias                                06600000
SRTEDMCT EQU   UCBDMCT             Alias                                06650000
         AGO   .DAUCB2                                                  06700000
.DAUCB1  ANOP                                                           06750000
         DS    CL8                 UCBVOLI, UCBSTAB and UCBDMCT as in   06800000
*                                  direct access segment                06850000
.DAUCB2  ANOP                                                           06900000
SRTEFSCT EQU   UCBFSCT             Alias                                06950000
SRTEFSEQ EQU   UCBFSEQ             Alias                                07000000
UCBFSER  DS    CL6                 Before open, message IDs.  See       07050000
*                                  UCBSTAB bit 7.  After open, data     07100000
*                                  set serial number                    07150000
UCBTFL2  DS    B                   Flag byte                       @H2C 07162500
UCBTXMS  EQU   X'80'               Extended mode set supported     @H2A 07175000
UCBTPSF  EQU   X'40'               Perform Subsystem Function      @H2A 07187500
*                                  command supported               @H2A 07200000
UCBTVCMP EQU   X'20'               Volume contains compacted data  @H2A 07212500
UCBTLPOS EQU   X'10'               ERP detected permanent error -  @H2A 07225000
*                                  tape position unknown           @H2A 07237500
UCBTFL1  DS    B                   Flag byte                            07250000
UCBNLTP  EQU   X'80'               Tape volume does not contain         07300000
*                                  labels                               07350000
UCBNSLTP EQU   X'40'               Tape contains non-standard           07400000
*                                  labels                               07450000
UCBDQDSP EQU   X'20'               Dequeue tape volume when demounted   07500000
UCBTFL1S EQU   X'18'               UCBTFL1 bits swapped by DDR          07550000
UCBRV005 EQU   X'10'               Unused                          @H1C 07600000
UCBCSL   EQU   X'08'               ACL feature present                  07650000
*                                  swapped by DDR                       07700000
UCBCSLAC EQU   X'04'               ACL active                           07750000
UCBLKAHP EQU   X'02'               Lookahead mount pending              07800000
UCBBLP   EQU   X'01'               Bypass label processing         @01C 07850000
UCBXTN   DS    0A -                ADDRESS OF THE MAGNETIC TAPE UCB     07856800
*                                  EXTENSION                            07863600
*  UCBVOPT MAPPING ADDED WITH APAR OY25849                         @02A 07870400
UCBVOPT  DS    BL1 -               VOLUME STATISTICS OPTION BITS        07877200
UCBESV   EQU   X'80' -             ERROR STATISTICS BY VOLUME (ESV)     07884000
*                                  RECORDS KEPT                         07890800
UCBEVA   EQU   X'40' -             ERROR VOLUME ANALYSIS (EVA) RECORDS  07897600
*                                  KEPT                                 07904400
UCBESVC  EQU   X'20' -             IF 0, ESV RECORDS SENT TO SYS1.MAN   07911200
*                                  (X OR Y) DATA SET.                   07918000
*                                  IF 1, ESV RECORDS SENT TO CONSOLE.   07924800
*                                                                       07931600
UCBERPC  EQU   X'10' -             AN ERROR RECOVERY PROCEDURE HAS      07938400
*                                  CONTROL                              07945200
UCBESVE  EQU   X'08' -             AN ESV RECORD HAS BEEN ISSUED FOR    07952000
*                                  THIS VOLUME BECAUSE OF AN EOV        07958800
*                                  CONDITION                            07965600
UCBPERR  EQU   X'04' -             ERP DETECTED PERM ERROR. TAPE        07972400
*                                  POSITION UNKNOWN.                    07979200
UCBRSV21 EQU   X'02',,C'X' -       RESERVED                             07986000
UCBRSV22 EQU   X'01',,C'X' -       RESERVED                             07992800
UCBXTNB  DS    AL3                 Address of the Segment Extension     08006400
*                                  ..This pointer is valid if the  @L1A 08020000
*                                  ..UCB is genned below the line. @L1A 08040000
*                                  ..Otherwise the pointer will be @L1A 08060000
*                                  ..zero.                         @L1A 08080000
*                                                                       08100000
*********************************************************************** 08102000
*          Magnetic Tape (device) Dependent Segment Extension         * 08104000
*                                                                 @L1A* 08106000
*     This extension mapping has been moved to render the TDS     @L1A* 08108000
*     and the TDE contiguous.  For details see INVOCATION in      @L1A* 08110000
*     the prologue.                                               @L1A* 08112000
*                                                                 @L1A* 08114000
*********************************************************************** 08116000
*                                                                       08118000
UCBMT    DS    0H                  UCBXTNB -> UCBMT (ONLY if UCB   @L1C 08120000
*                                  ..is genned below the line.     @L1A 08122000
*                                  ..Otherwise the pointer is 0    @L1A 08124000
UCBCTD   DS    H                   Serial number in binary of tape      08126000
*                                  drive upon which the volume was      08128000
*                                  created                              08130000
UCBOBRID DS    FL1                 Outboard recorder ID            @H1A 08132000
UCBMDRID DS    FL1                 Miscellaneous data record ID    @H1A 08134000
UCBTR    DS    FL1                 The number (binary) of temporary     08136000
*                                  read errors that have occurred       08138000
         ORG   UCBTR               Used for tape drives that have       08140000
*                                  message display - usage during       08142000
*                                  dismount processing only             08144000
UCBMTFL1 DS    B                   MSGDISP dismount request             08146000
UCBMTDSM EQU   X'80'                 DISP=D (dismount)                  08148000
UCBMTKEP EQU   X'40'                 DISP=K (keep)                      08150000
UCBMTRET EQU   X'20'                 DISP=R (retain)                    08152000
UCBTW    DS    FL1                 The number (binary) of temporary     08154000
*                                  write errors that have occurred      08156000
UCBSIO   DS    H                   The number (binary) of start I/O     08158000
*                                  operations that have occurred.       08158400
*                                  A new 4-byte field has been created  08158800
*                                  in the Tape Device Class Extension   08159200
*                                  mapped by IECUCBCX.  The UCBSIO      08159600
*                                  field tends to overflow on higher    08160000
*                                  capacity tape drives.  The new       08160400
*                                  field is UCBCX_SIO.  Both fields     08160800
*                                  are incremented by the Tape Trap     08161200
*                                  exit (IECTTRAP).                @P1C 08161600
UCBPR    DS    FL1                 The number (binary) of permanent     08162000
*                                  read errors that have occurred       08164000
UCBPW    DS    FL1                 The number (binary) of permanent     08166000
*                                  write errors that have occurred      08168000
UCBSER   DS    0CL6                Used for tape drives that have a     08170000
*                                  message display - Usage during       08172000
*                                  dismount processing only -           08174000
*                                  serial of dismounted volume          08176000
UCBNB    DS    FL1                 The number (binary) of noise blocks  08178000
*                                  that have been encountered           08180000
UCBMS    DS    CL1                 Mode set operation code for data     08182000
*                                  blocks on a 3420 magnetic tape unit  08184000
UCBERG   DS    H                   The number (binary) of erase gaps    08186000
*                                  that have been encountered           08188000
UCBCLN   DS    H                   The number (binary) of cleaner       08190000
*                                  actions that have occurred           08192000
*                                                                       08194000
         AGO   .UCB001                                               */ 08196000
*%UCBMT2 : ;                                                            08200000
*DECLARE                           /*                            @L1R*/ 08250000
*  1 UCBOBS02 DEF(UCBDEV) BDY(WORD), /*                          @L1R*/ 08300000
*   2 UCBFSCT     FIXED(15),       /* Data set sequence count        */ 08350000
*   2 UCBFSEQ     FIXED(15),       /* Data set sequence number       */ 08400000
*%IF IHAUCBAC ~= 'NO' %THEN        /* already mapped                 */ 08450000
*    %GOTO DAUCB3;                                                      08500000
*%IF IHAUCBDA = 'YES' %THEN                                             08550000
*    %GOTO DAUCB3;                 /* already mapped by dasd         */ 08600000
*   2 UCBVOLI     CHAR(6) BDY(WORD),/* Volume serial number          */ 08650000
*   2 UCBSTAB     BIT(8),          /* Volume status                  */ 08700000
*    3 UCBBSVL  BIT(1),            /* Volume demountable by data        08750000
*                                     management (direct access)     */ 08800000
*     4 UCBDVSHR BIT(1),           /* Device not shareable among        08850000
*                                     several CPUs  (3420 magnetic      08900000
*                                     tape devices only)             */ 08950000
*    3 UCBPGFL  BIT(1),            /* UCB is open and is being used     09000000
*                                     as a page file                 */ 09050000
*    3 UCBPRSRS BIT(1),            /* During volume attribute           09100000
*                                     processing this bit is used       09150000
*                                     both to denote UCBs that were     09200000
*                                     marked permanently resident       09250000
*                                     prior to getting control and      09300000
*                                     to identify devices that were     09350000
*                                     selected by the operator for      09400000
*                                     mounting volumes                  09450000
*                                     (direct access)                */ 09500000
*     4 UCBBALB  BIT(1),           /* Additional volume label           09550000
*                                     processing  (tape)             */ 09600000
*    3 UCBBPRV  BIT(1),            /* Private - volume use status    */ 09650000
*    3 UCBBPUB  BIT(1),            /* Public - volume use status     */ 09700000
*    3 UCBBSTR  BIT(1),            /* Storage - volume use status       09750000
*                                     (direct access)                   09800000
*                                     The volume mounted has an         09850000
*                                     American National Standard        09900000
*                                     Label (tape)                   */ 09950000
*    3 UCBSHAR  BIT(1),            /* Volume shareable among job        10000000
*                                     steps                          */ 10050000
*    3 UCBBNUL  BIT(1),            /* Control volume - A catalog data   10100000
*                                     set is on this volume             10150000
*                                     (direct access)                   10200000
*                                     If the multiple console support   10250000
*                                     option is in the system,          10300000
*                                     demount or mount messages have    10350000
*                                     been issued and the message       10400000
*                                     ID's are at offsets 40 through    10450000
*                                     45.  Open will delete the         10500000
*                                     messages and turn this bit off.   10550000
*                                     (tape)                         */ 10600000
*   2 UCBDMCT     CHAR(1),         /* Volume use byte                */ 10650000
*    3 UCBMOUNT BIT(1),            /* Mounted or request issued         10700000
*                                     (off means mount verified)     */ 10750000
*    3 UCBDMC   BIT(7),            /* Number of DCB's open for this     10800000
*                                     volume                         */ 10850000
*    %GOTO DAUCB4;                                                      10900000
*%DAUCB3 : ;                                                            10950000
*   2 *           CHAR(8),         /* UCBVOLI, UCBSTAB and UCBDMCT as   11000000
*                                     in direct access segment       */ 11050000
*%DAUCB4 : ;                                                            11100000
*   2 UCBFSER     CHAR(6),         /* Before open, message IDs.         11150000
*                                     See UCBSTAB bit 7.  After open,   11200000
*                                     data set serial number         */ 11250000
*   2 UCBTFL2     BIT(8),          /* Flag byte - swapped by DDR @H2C*/ 11261100
*    3 UCBTXMS    BIT(1),          /* Extended modeset supported @H2A*/ 11272200
*    3 UCBTPSF    BIT(1),          /* Perform Subsystem Function        11283300
*                                     command supported          @H2A*/ 11294400
*    3 UCBTVCMP   BIT(1),          /* Volume has compacted data  @H2A*/ 11305500
*    3 UCBTLPOS   BIT(1),          /* ERP detected permanent error -    11316600
*                                     tape position unknown      @H2A*/ 11327700
*    3    *       BIT(4),          /* Unused                         */ 11338800
*   2 UCBTFL1     BIT(8),          /* Flag byte                      */ 11350000
*    3 UCBNLTP  BIT(1),            /* Tape volume does not contain      11400000
*                                     labels                         */ 11450000
*    3 UCBNSLTP BIT(1),            /* Tape contains non-standard        11500000
*                                     labels                         */ 11550000
*    3 UCBDQDSP BIT(1),            /* Dequeue tape volume when          11600000
*                                     demounted                      */ 11650000
*    3 UCBTFL1S BIT(2),            /* UCBTFL1 bits swapped by DDR    */ 11700000
*      4 UCBRV005 BIT(1),          /* Unused                     @H1C*/ 11750000
*      4 UCBCSL   BIT(1),          /* ACL feature present - swapped by  11800000
*                                       DDR                          */ 11850000
*    3 UCBCSLAC BIT(1),            /* ACL active                     */ 11900000
*                                  /* available                      */ 11950000
*    3 UCBLKAHP BIT(1),            /* Lookahead mount pending        */ 12000000
*    3 UCBBLP   BIT(1),            /* Bypass label processing    @01C*/ 12050000
*   2 UCBXTN      PTR(31),         /* ADDRESS OF THE MAGNETIC TAPE      12056500
*                                     UCB EXTENSION                  */ 12063000
*/*  UCBVOPT MAPPING ADDED WITH APAR OY25849                     @02A*/ 12069500
*    3 UCBVOPT     BIT(8),         /* VOLUME STATISTICS OPTION BITS     12076000
*                                                                    */ 12082500
*     4 UCBESV   BIT(1),           /* ERROR STATISTICS BY VOLUME        12089000
*                                     (ESV) RECORDS KEPT             */ 12095500
*     4 UCBEVA   BIT(1),           /* ERROR VOLUME ANALYSIS (EVA)       12102000
*                                     RECORDS KEPT                   */ 12108500
*     4 UCBESVC  BIT(1),           /* IF 0, ESV RECORDS SENT TO         12115000
*                                     SYS1.MAN (X OR Y) DATA SET.       12121500
*                                     IF 1, ESV RECORDS SENT TO         12128000
*                                     CONSOLE.                       */ 12134500
*     4 UCBERPC  BIT(1),           /* AN ERROR RECOVERY PROCEDURE HAS   12141000
*                                     CONTROL                        */ 12147500
*     4 UCBESVE  BIT(1),           /* AN ESV RECORD HAS BEEN ISSUED     12154000
*                                     FOR THIS VOLUME BECAUSE OF AN     12160500
*                                     EOV CONDITION                  */ 12167000
*     4 UCBPERR  BIT(1),           /* ERP DETECTED PERM ERROR. TAPE     12173500
*                                     POSITION UNKNOWN.              */ 12180000
*     4 UCBRSV21 BIT(1),           /* RESERVED                       */ 12186500
*     4 UCBRSV22 BIT(1),           /* RESERVED                       */ 12193000
*    3 UCBXTNB     PTR(24),        /* Address of the Segment Extension  12243000
*                                     ..This pointer is valid if the    12293000
*                                     ..UCB is genned below the line.   12343000
*                                     ..Otherwise the pointer will be   12393000
*                                     ..zero.                    @L1A*/ 12443000
*                                                                       13050000
*/********************************************************************* 13100000
*          Magnetic Tape (device) Dependent Segment Extension         * 13150000
*                                                                 @L1A* 13200000
*     This extension mapping has been moved to render the TDS     @L1A* 13250000
*     and the TDE contiguous.  For details see INVOCATION in      @L1A* 13300000
*     the prologue.                                               @L1A* 13350000
*                                                                 @L1A* 13400000
*     Note that the levels in this portion of the macro are       @L1A* 13408300
*     increased by one over the same level in the above portion   @L1A* 13416600
*     of the macro, ie, level 3 here corresponds to level 2       @L1A* 13424900
*     above.                                                      @L1A* 13433200
*                                                                 @L1A* 13441500
**********************************************************************/ 13450000
*                                                                       14850000
*   2 UCBMT,                       /* This portion of the control block 14900000
*                                     ..is contiguous with the Tape     14950000
*                                     ..Dependent Segment        @L1A*/ 15000000
*    3 UCBCTD     FIXED(16),       /* Serial number in binary of tape   15050000
*                                      drive upon which the volume      15100000
*                                      was created                   */ 15150000
*    3 UCBOBRID   FIXED(8),        /* Outboard recorder ID       @H1A*/ 15200000
*    3 UCBMDRID   FIXED(8),        /* Misc data record ID        @H1A*/ 15250000
*    3 UCBTR      FIXED(8) BDY(WORD),/* The number (binary) of          15300000
*                                      temporary read errors that have  15350000
*                                      occurred                      */ 15400000
*     4 UCBMTFL1 BIT(8),           /* MSGDISP dismount request -        15450000
*                                      used for tape drives that have   15500000
*                                      a message display - usage during 15550000
*                                      dismount processing only      */ 15600000
*      5 UCBMTDSM BIT(1),          /* DISP=D (dismount)              */ 15650000
*      5 UCBMTKEP BIT(1),          /* DISP=K (keep)                  */ 15700000
*      5 UCBMTRET BIT(1),          /* DISP=R (retain)                */ 15750000
*    3 UCBTW      FIXED(8),        /* The number (binary) of            15800000
*                                      temporary write errors that      15850000
*                                      have occurred                 */ 15900000
*    3 UCBSIO     FIXED(16),       /* The number (binary) of start      15950000
*                                      I/O operations that have         16000000
*                                      occurred.  A new 4-byte field    16010000
*                                      has been created in the Tape     16020000
*                                      Device Class Extension mapped    16030000
*                                      by IECUCBCX.  The UCBSIO field   16040000
*                                      tends to overflow on higher      16050000
*                                      capacity tape drives.  The new   16060000
*                                      field is UCBCX_SIO.  Both        16070000
*                                      fields are incremented by the    16080000
*                                      Tape Trap Exit (IECTTRAP) @P1C*/ 16090000
*    3 UCBPR      FIXED(8) BDY(WORD),/* The number (binary) of          16100000
*                                      permanent read errors that have  16150000
*                                      occurred                      */ 16200000
*    3 UCBPW      FIXED(8),        /* The number (binary) of            16250000
*                                      permanent write errors that      16300000
*                                      have occurred                 */ 16350000
*    3 UCBSER     CHAR(6) BDY(WORD,3), /* Used for tape drives that     16400000
*                                      have a message display -         16450000
*                                      Usage during dismount processing 16500000
*                                      only - serial of dismounted      16550000
*                                      volume                        */ 16600000
*     4 UCBNB     FIXED(8),        /* The number (binary) of noise      16650000
*                                      blocks that have been            16700000
*                                      encountered                   */ 16750000
*     4 UCBMS     CHAR(1),         /* Mode set operation code for       16800000
*                                      data blocks on a 3420 magnetic   16850000
*                                      tape unit                     */ 16900000
*     4 UCBERG    FIXED(16) BDY(WORD),/* The number (binary) of erase   16950000
*                                      gaps that have been              17000000
*                                      encountered                   */ 17050000
*     4 UCBCLN     FIXED(16);      /* The number (binary) of cleaner    17100000
*                                     actions that have occurred     */ 17200000
*%GOTO  UCBMT3;                    /*                                   17250000
*                                                                       17300000
.UCB001  ANOP                                                           17350000
*                                                                    */ 17400000
*%UCBMT3 : ;                                                            17450000
*/********************************************************************/ 17500000
*/*                                                                  */ 17550000
*/*        Magnetic tape UCBTYP flags and values  (IECDUCBT)         */ 17600000
*/*                                                                  */ 17650000
*/*       These flags and values are valid only when UCBDVCLS        */ 17700000
*/*       (UCBTBYT3) is set to UCB3TAPE.                             */ 17750000
*/*                                                                  */ 17800000
*/*                                                                  */ 17850000
*/********************************************************************/ 17900000
*%GOTO UCBMT4;                     /*                                   17950000
*                                                                       18000000
*        UCBTBYT1 flags                                                 18050000
*                                                                       18100000
UCBD1600 EQU   X'04'               1600 BPI                             18150000
UCBD6250 EQU   X'02'               6250 BPI                             18200000
*                                                                       18250000
*                                                                       18300000
*        UCBTBYT2 flags                                                 18350000
*                                                                       18400000
UCBDUDN1 EQU   X'20'               Dual density 800/1600 BPI            18450000
UCBDUDN2 EQU   X'10'               Dual density 1600/6250 BPI           18500000
UCBRWTAU EQU   X'08'               Read/write tape control              18550000
UCBCOMPA EQU   X'04' -             Compaction feature              @H2A 18575000
*                                                                       18600000
*                                                                       18650000
*        UCBTBYT4 (UCBUNTYP) values                                     18700000
*                                                                       18750000
UCB3400  EQU   X'03'               3400 magnetic tape                   18800000
UCB3423  EQU   X'82'               3423 magnetic tape              @H4A 18825000
UCB3480  EQU   X'80'               3480 magnetic tape                   18850000
UCB3490  EQU   X'81'               3490 magnetic tape              @H3A 18875000
UCB3591  EQU   X'83'               3590 magnetic tape              @H5A 18887500
*                                                                       18900000
         MEND                                                        */ 18950000
*%UCBMT4 : ;                                                            19000000
*/********************************************************************/ 19050000
*/*                      UCBTYP Mapping                              */ 19100000
*/********************************************************************/ 19150000
* DCL 1 UCBTYPMT DEF(UCBTYP),        /* Magnetic tape model bits and    19200000
*                                       option flags                 */ 19250000
*       3 * BIT(8),                  /* UCBTBYT1 model bits          */ 19300000
*         5 * BIT(5),                                                   19350000
*         5 UCBD1600 BIT(1),         /* 1600 BPI                     */ 19400000
*         5 UCBD6250 BIT(1),         /* 6250 BPI                     */ 19450000
*       3 * BIT(8),                  /* UCBTBYT2 option flags        */ 19500000
*         5 * BIT(2),                                                   19550000
*         5 UCBDUDN1 BIT(1),         /* Dual density 800/1600 BPI    */ 19600000
*         5 UCBDUDN2 BIT(1),         /* Dual density 1600/6250 BPI   */ 19650000
*         5 UCBRWTAU BIT(1),         /* Read/write tape control      */ 19700000
*         5 UCBCOMPA BIT(1),         /* Compaction feature       @H2A*/ 19725000
*       3 * BIT(8),                  /* UCBTBYT3 class flags         */ 19750000
*       3 * BIT(8);                  /* UCBTBYT4 type flags          */ 19800000
*                                                                       19850000
*/*      *------------------------------------------------*      @H5A*/ 19900000
*/*      *                 UCBTBYT4 values                *      @H5A*/ 19950000
*/*      *------------------------------------------------*      @H5A*/ 20000000
*                                                                       20050000
* DCL UCB3400 FIXED(8) CONSTANT(3);  /* 3400 magnetic tape           */ 20100000
* DCL UCB3480 FIXED(8) CONSTANT(128);/* 3480 magnetic tape           */ 20150000
* DCL UCB3490 FIXED(8) CONSTANT(129);/* 3490 magnetic tape           */ 20200000
* DCL UCB3591 BIT(8) CONSTANT('83'X);/* 3590 magnetic tape       @H5A*/ 20250000
