*      %GOTO LWAPRO;  /*                                                00001000
          MACRO                                                         00002000
          IKJEFLWA                                                      00003000
.*/ %LWAPRO: ;                                                          00004000
*/* Start of Specifications ******************************************* 00005000
*                                                                     * 00006000
*01* Descriptive Name: TSO/E Logon Work Area                          * 00007000
*02*  Acronym: LWA                                                    * 00008000
*                                                                     * 00009000
*                                                                     * 00010000
*    NOTE: Any changes to this macro which cause new fields to be     * 00011000
*          added will require changes to the TSODATA IPCS exit.       * 00012000
*          Module IKJVELES contains a model of the LWA that will      * 00013000
*          need to be updated to contain the new fields.              * 00014000
*                                                             @ZA96793* 00015000
*    NOTE: Any changes to this macro which cause offsets to change    * 00016000
*          will require changes to:                                   * 00017000
*          IKJSRWA, IKJAUTO, IKJEFT0I, IKJTTRM0                       * 00018000
*                                                             @E21D2G9* 00019000
***01* PROPRIETARY STATEMENT=                                         * 00020000
***PROPRIETARY_STATEMENT******************************************@N1C*
*                                                                     *
* Licensed Materials - Property of IBM                                *
*                                                                     *
* 5645-001                                                            *
*                                                                     *
* (C) Copyright IBM Corp. 1976, 1997                                  *
*                                                                     *
* US Government Users Restricted Rights - Use, duplication or         *
* disclosure restricted by GSA ADP Schedule Contract with             *
* IBM Corp.                                                           *
*                                                                     *
* STATUS = HTE26D2                                                    *
*                                                                     *
***END_OF_PROPRIETARY_STATEMENT***********************************@N1C*
*                                                                     * 00032000
*01* Macro Name: IKJEFLWA                                             * 00033000
*                                                                     * 00034000
*01* DSECT Name: LWA                                                  * 00035000
*                                                                     * 00036000
*01* Component:  TSO/E Scheduler (28502)                              * 00037000
*                                                                     * 00038000
*01* Eye-Catcher: LWA                                                 * 00039000
*02*  Offset: 0                                                       * 00040000
*02*  Length: 4                                                       * 00041000
*                                                                     * 00042000
*01* Storage Attributes:                                              * 00043000
*02*  Subpool: 253                                                    * 00044000
*02*  Key: 0                                                          * 00045000
*02*  Residency: below 16M                                            * 00046000
*02*  Main Storage:                                                   * 00047000
*02*  Auxiliary Storage:                                              * 00048000
*02*  Virtual Storage:                                                * 00049000
*                                                                     * 00050000
*01* Size: 472 bytes                                                  * 00051000
*                                                                     * 00052000
*01* Created by: IKJEFLA, IKJTSOEV and a TMP                          * 00053000
*                                                                     * 00054000
*01* Pointed to by: ASXBLWA field of ASXB                             * 00055000
*                   JSXL communication field of JSXL                  * 00056000
*                                                                     * 00057000
*01* Serialization: responsibility of a TMP                           * 00058000
*                                                                     * 00059000
*01* Function:                                                        * 00060000
*02*  The Logon Work Area (LWA) contains information which is         * 00061000
*     necessary for the LOGON/LOGOFF processing routines.  It         * 00062000
*     contains control block pointers, entrance linsts and parameter  * 00063000
*     lists.                                                          * 00064000
*                                                                     * 00065000
*                                                                     * 00066000
*01* Method of Access:                                                * 00067000
*02*  ASM:  IKJEFLWA                                                  * 00068000
*                                                                     * 00069000
*02*  PL/AS:                                                          * 00070000
*     %LWAB = 'NOTBASED'       TO GENERATE DYNAMIC STORAGE    @E1502S5* 00071000
*                              OR TO ALLOW PL/AS TO BASE      @E1502S5* 00072000
*                              THE LWA WHEN IT IS PASSED      @E1502S5* 00073000
*                              AS A PARAMETER.                @E1502S5* 00074000
*     %LWAB = ''               TO GENERATE DYNAMIC STORAGE    @E1502S5* 00075000
*                              BASED ON LWAPTR (DEFAULT).     @E1502S5* 00076000
*     %LWAB = 'BASED(??????)'  TO BASE THE MAPPING ON A       @E1502S5* 00077000
*                              DIFFERENT POINTER.             @E1502S5* 00078000
*                                                             @E1502S5* 00079000
*     %INCLUDE SYSLIB(IKJEFLWA)                               @E1502S5* 00080000
*                                                                     * 00081000
*01* External Classification:                                         * 00082000
*02* DMTI: BASE                                                       * 00083000
*02* GUPI: FIELDS                                                     * 00084000
*          LWAPASCB LWAPECT LWAPSCB                                   * 00085000
*01* End of External Classification:                                  * 00086000
*                                                                     * 00087000
*01* Change Activity:                                                 * 00088000
*                                                                     * 00089000
*   SUPPORT FOR OPTIONAL FULL-SCREEN LOGON                    @OZ65807* 00090000
*   @ZTY0009 - SUPPORT FOR AUTHORIZED COMMAND AND PROGRAM     @E121324* 00091000
*              TABLES-SEE TSO/E2 370 @PAS0086                 @E121324* 00092000
*   @ZTY0050 - MISSING SEMICOLON                              @E121324* 00093000
*   @ZTY0366 - ADDED LEVEL OF THE LWA                         @E2267FZ* 00094000
*   @E2267I2 - TSO/E RELEASE-2.1 SUPPORT (VSCR)               @E2267I2* 00095000
*   @OZ86847 - MOVE LWAIOBUF AND LWABLK TO CORRECT OFFSETS    @ZA86847* 00096000
*   OZ87103  - ADD TWO LWA FIELDS.  ONE FIELD WILL CONTAIN THE        * 00097000
*              ATTENTION ECB TO BE POSTED.  AND THE OTHER FIELD       * 00098000
*              CONTAINS THE ADDRESS OF THE LWC.  THIS IS FOR THE      * 00099000
*              OPERATOR CANCEL COMMAND SUPPORT.               @ZA87103* 00100000
*   @OZ91353 - DECLARE THE LWAFSTXT BIT                       @ZA91353* 00101000
*   PBY0221  - FLAG FIELD TO TELL IKJEFLD USER EXIT IF AN             * 00102000
*              ABEND OCCURRED                                 @PBY0221* 00103000
*   PBY0251  - PASSWORD SECURITY OPTIONAL SUPPORT             @PBY0251* 00104000
*   PBY0306  - ADD ADDRESS OF THE TABLE OF AUTHORIZED         @PBY0306* 00105000
*              PROGRAMS (IKJEFTAP). MERGE OF APAR OZ96882     @PBY0306* 00106000
*   @OZ96793 - ADD NOTE IN PROLOGUE TO INDICATE THAT ANY      @ZA96793* 00107000
*              NEW FIELDS ADDED TO THE LWA WILL REQUIRE       @ZA96793* 00108000
*              CHANGE TO THE TSODATA IPCS EXIT MODULE         @ZA96793* 00109000
*              IKJVELES WHICH CONTAINS A MODEL OF THE LWA.    @ZA96793* 00110000
*   OY01377 -  CLIST/COMMAND SCAN PERFORMANCE ENHANCEMENT -   @YA01377* 00111000
*              UPDATE LWA TO HAVE POINTERS TO COMMAND SCAN'S  @YA01377* 00112000
*              AND CLIST PHASE 2 DYNAMIC STORAGE.             @YA01377* 00113000
*   E1402C1 - CLIST DBCS SUPPORT FOR TSO/E XA REL. 4          @E1402C1* 00114000
*   E1402H1 - LOGON/RACF SUPPORT FOR TSO/E XA REL. 4          @E1402H1* 00115000
*   PD70042 - ADD FLAG FOR ROUTER TO NOT SEARCH LIBRARIES FOR         * 00116000
*             EXIT LOAD MODULES                               @PD70042* 00117000
*   PD70274 - MOVE LWANOUA, LWAIPLWO AND LWAROUTN OUT OF THE          * 00118000
*             LWACTLS STRUCTURE.  THESE BITS WERE BEING               * 00119000
*             OVERWRITTEN BY IKJEFLI.                         @PD70274* 00120000
*   OY03605 -  DEFINE LWAFSTXT TO BE SET BY IKJLJ1 IN IKJEFLJ         * 00121000
*              TO INDICATE THE PSCB IS IN SUBPOOL 252, THE UPT        * 00122000
*              AND RELOGON BUFFER ARE IN SUBPOOL 250.         @YA03605* 00123000
*   PD70359 - ADD FIELDS LWARTRAS AND LWARTRUS WHICH POINT TO THE     * 00124000
*             AUTHORIZED AND UNAUTHORIZED EXIT ROUTER DYNAMIC         * 00125000
*             AREAS.  IN ADDITION, REMOVE LWAROUTN SINCE IT IS        * 00126000
*             NO LONGER NEEDED.                               @PD70359* 00127000
*   OY06845 -  ADD INDICATORS FOR IKJEFLJA, IKJEFLJH, IKJEFLJU ,      * 00128000
*              IKJEFLPA AND IKJEFLIO WHEN THEY ARE IN CONTROL @YA06845* 00129000
*   E1502C1 - I/O SERVICE RESTRUCTURE FOR TSO/E V2R1          @PEI0253* 00130000
*   E1502S5 - TSO/E R5 LOGON AUTHORIZED EXITS SUPPORT.        @E1502S5* 00131000
*             MADE THE FOLLOWING CHANGES:                     @E1502S5* 00132000
*             - ADDED CONTROL BITS TO THE LWACTLS STRUCTURE   @E1502S5* 00133000
*               FOR THE AUTHORIZED LOGON PRE-PROMPT EXIT.     @E1502S5* 00134000
*             - CREATED LWACTLS2 TO HOLD THE LAST 8 EXIT      @E1502S5* 00135000
*               CONTROL BITS.  THIS WAS DONE BECAUSE LWATSOLV @E1502S5* 00136000
*               WAS ERRONEOUSLY PLACED IN LWACTLS.            @E1502S5* 00137000
*   PEI0011 - RETRANSMIT WITH LOGON AUTHORIZED EXIT           @PEI0011* 00138000
*             INFORMATION.                                    @PEI0011* 00139000
*   E21D2G9 - TSO/E V2R1      REXX SUPPORT                    @PEI0253* 00140000
*   @E1502I7 - Add following fields for PARMLIB Command processor     * 00141000
*              support:                                               * 00142000
*                LWATAPLN - Length of TAP                     @E1502I7* 00143000
*                LWATNSLN - Length of TNS                     @E1502I7* 00144000
*                LWATE2LN - Length of TE2                     @E1502I7* 00145000
*                LWATE8LN - Length of TE8                     @E1502I7* 00146000
*                LWATAPST - Parmlib Indicator for TAP         @E1502I7* 00147000
*                LWATNSST - Parmlib Indicator for TNS         @E1502I7* 00148000
*                LWATE2ST - Parmlib Indicator for TE2         @E1502I7* 00149000
*                LWATE8ST - Parmlib Indicator for TE8         @E1502I7* 00150000
*                LWAGENER - Parmlib Generation Count          @E1502I7* 00151000
*   @DEI0031 - Add following fields for LOGON RECONNECT processing    * 00152000
*              support:                                               * 00153000
*                LWARECON - LOGON Reconnect was specified.    @DEI0031* 00154000
*   @PEI0324 - Add following fields for JTE21D0 Primary       @PEI0324* 00155000
*              Application support:                           @PEI0324* 00156000
*                LWAPANUM - User's Primary application number @PEI0324* 00157000
*                LWAUTNUM - User's Usertype number            @PEI0324* 00158000
*   @PEI0253 - Change comments                                @PEI0253* 00159000
*   @PEI0434 - Added field for IKJTBLSR savearea pointer      @PEI0434* 00160000
*   @PEI0524 - TSO/E V2 R1 Performance Enhancements           @PEI0524* 00161000
*   @PEI0493 - Save address of jobstep TCB under which the    @PEI0493* 00162000
*              Jobstep TCB was getmained.                     @PEI0493* 00163000
*   @PEI0791 - Added field for IKJCT44X savearea pointer      @PEI0791* 00164000
*   @PEI0904 - Removed fields LWAPANUM and LWAUTNUM           @PEI0904* 00165000
*   @PEI0934 - Added LOCK area to stack validation table for  @PEI0934* 00166000
*              I/O Service serialization support.             @PEI0934* 00167000
*   @E21X2B1 - TSO/E 2.1.1 Security Enhancements              @E21X2B1* 00168000
*   OY17858 - Add ERROR bit for use by IKJEFLE when detecting         * 00169000
*             an invalid UADS entry.                          @YA17858* 00170000
*   OY20253 - MultiTasking restructure                        @YA20253* 00171000
*   OY22390 - Add code to support STACK ENVIRON=CREATE        @YA22390* 00172000
*             and STACK ENVIRON=DESTROY in a multitasking     @YA22390* 00173000
*             environment                                     @YA22390* 00174000
*   OY26357 - Individual Stack Serialization                  @YA26357* 00175000
*   OY28059 - Added ALTLIB and VLF fields                     @YA28059* 00176000
*   @E22D2D3 - TSO/E 2.2.0 CONSOLE support                    @E22D2D3* 00177000
*   @E22D2SC - TSO/E 2.2.0 CONSOLE support                    @E22D2SC* 00178000
*   @DG10015 - TSO/E 2.2.0 Performance Support:               @DG10015* 00179000
*             - Add new fields for Storage Stack              @DG10015* 00180000
*             - Eliminate key 8 SRWA fields                   @DG10015* 00181000
*   @PG10091  Declare exit control flags for NLS support.     @PG10091* 00182000
*   OY32365 - Added LWASESSM to indicate that session manager @YA32365* 00183000
*             was used in this session                        @YA32365* 00184000
*   OY34251 - Backed off APAR OY32365 - removed LWASESSM      @YA34251* 00185000
*   OY34939 - Correct equates for exit flags                  @YA34939* 00186000
*   OY34047 - Add LWANOSAV for pre-prompt exit                @YA34047* 00187000
*   @E23D2DB - TSO/E 2.3.0 TSO Environment Service support    @E23D2DB* 00188000
*   @E23D2D5 - TSO/E 2.3.0 Performance Enhancement            @E23D2D5* 00189000
*              - TSO/E Exit Avoidance                         @E23D2D5* 00190000
*              Add LWANETL indicator indicating               @E23D2D5* 00191000
*              whether any of the TSO/E exits were            @E23D2D5* 00192000
*              found in SETPLIB or LINKLIST                   @E23D2D5* 00193000
*   @E23D2I6 - TSO/E 2.3.0 TSO Authorized Command/Program     @E23D2I6* 00194000
*              Invocation Platform Support                    @E23D2I6* 00195000
*   OY35424 - Add LWA622AB flag for signaling a 622 ABEND     @YA35424* 00196000
*   PMH0160 - Update prolog for SHOWHDR                       @PMH0160* 00197000
*   E25D2JC - Added LWADTSEG and LWAISPDT fields.             @E25D2JC* 00198000
*   E25D2JC - Added LWADYSEG and LWADYPCN fields.             @E25D2JC* 00199000
*   KO10185 - Changes to support a system-wide rather than    @KO10185* 00200000
*             a non-system-wide PC for IKJCMDPC:              @KO10185* 00201000
*                                                             @KO10185* 00202000
*             1.  Remove LWADYPCN.  The PC number is now      @KO10185* 00203000
*                 contained in TSVTPCN2.                      @KO10185* 00204000
*   OW17901 - New constant added for message IKJ56421 that is         * 00204200
*             displayed with additional text saying that the          * 00204400
*             new password is reset.                          @WA17901* 00204600
*                                                                 @L1A* 00204660
* FLAG     REASON   RELEASE DATE   ORIGIN                         @L1A* 00204720
* ----     -------- ------- ------ ------                         @L1A* 00204780
* $L1=     TSO/GR   HTE25D2 960510 BHBR  : Multi-Sysplex support  @L1A* 00204870
*                                                                 @L2A* 00204900
* $L2=     TSO/EN   HTE25D2 961025 VG : KX00010 text see IGC0006A @L2A* 00204930
*                                                                     * 00204940
*   OW24252 - Added field LWANEWPW to indicate when a new password    * 00204950
*             has been entered by a user.                     @WA24252* 00204960
*                                                                     * 00204970
* $N1= COPYRITE HTE26D2 19970218 VOHS: Insert/Update Copyright    @N1A*
*                                                                     * 00205000
*** End of Specifications ********************************************/ 00206000
*      %GOTO LWAPLS;  /*                                                00207000
LWA       DSECT                                                         00208000
         DS  0D                         FORCE TO DWORD BDY    @E2267I2  00209000
LWAPPTR  DS  A                          ADDRESS OF THE LOGON WORK       00210000
*                                       AREA                            00211000
LWALWA   DS  CL8                        EBCDIC '  LWA   '               00212000
LWATEST  DS  A                          PTR FOR TEST     @ZA06226       00213000
LWAPASCB DS  A                          ADDRESS OF ASCB                 00214000
*                                       FOR USER MEMORY                 00215000
LWAACCT  DS  A                          OFFSET TO ACCT FIELD IN         00216000
*                                       UADS                            00217000
LWAPSCB  DS  A                          ADDRESS OF THE PROTECTED        00218000
*                                       STEP CONTROL BLOCK              00219000
LWAJSEL  DS  A                          ADDRESS OF THE JOB              00220000
*                                       SCHEDULING ENTRANCE LIST        00221000
LWAPECT  DS  A                          ADDRESS OF THE ECT              00222000
LWAAECB  DS  A                          EVENT CONTROL BLOCK FOR         00223000
*                                       THE LOGON/LOGOFF                00224000
*                                       PROMPTING TASK                  00225000
*        BIT(24)                        NOT REFERENCED BY LOGON/        00226000
         ORG LWAAECB+3                  LOGOFF CODE                     00227000
LWAABCE  DS  X                          COMPLETION CODE BYTE            00228000
LWAPECB  DS  F                          COMMUNICATIONS ECB              00229000
*                                       FOR COMMUNICATION FROM          00230000
*                                       THE PROMPTING TASK TO           00231000
*                                       THE SCHEDULING TASK             00232000
*        BIT(24)                        NOT REFERENCED BY LOGON/        00233000
         ORG LWAPECB+3                  LOGOFF CODE                     00234000
LWAPBCE  DS  X                          COMPLETION CODE BYTE            00235000
LWASECB  DS  F                          COMMUNICATIONS ECB              00236000
*                                       FOR COMMUNICATION FROM          00237000
*                                       THE SCHEDULING TASK TO          00238000
*                                       THE PROMPTING TASK              00239000
*        BIT(24)                        NOT REFERENCED BY LOGON/        00240000
         ORG LWASECB+3                  LOGOFF CODE                     00241000
LWASBCE  DS  X                          COMPLETION CODE BYTE            00242000
LWALPCNT DS  F                          LOOP CONTROL FOR                00243000
*                                       STAI EXIT RETRY.                00244000
*                                       WHEN COUNTER REACHES            00245000
*                                       GIVEN VALUE, SESSION            00246000
*                                       IS TERMINATED.                  00247000
LWAPDCB  DS  A                          ADDRESS OF UADS                 00248000
*                                       DCB - USED BY STAI              00249000
*                                       RETRY.                          00250000
LWAFLGS  DS 0F                          FLAGS FOR USE BY LOGON          00251000
         DS  X                                                          00252000
LWALA    EQU X'80'                      IKJEFLA INDICATOR               00253000
LWALB    EQU X'40'                      IKJEFLB INDICATOR               00254000
LWALC    EQU X'20'                      IKJEFLC INDICATOR               00255000
LWALE    EQU X'10'                      IKJEFLE INDICATOR               00256000
LWALEA   EQU X'08'                      IKJEFLEA INDICATOR              00257000
LWALI    EQU X'04'                      IKJEFLI INDICATOR               00258000
LWALH    EQU X'02'                      IKJEFLH INDICATOR               00259000
LWALL    EQU X'01'                      IKJEFLL INDICATOR               00260000
         DS  X                                                          00261000
LWALGM   EQU X'80'                      IKJEFLGM INDICATOR              00262000
LWALJ    EQU X'40'                      IKJEFLJ INDICATOR               00263000
LWALK    EQU X'20'                      IKJEFLK INDICATOR               00264000
LWALG    EQU X'10'                      IKJEFLG INDICATOR               00265000
LWALGB   EQU X'08'                      IKJEFLGB INDICATOR              00266000
LWALS    EQU X'04'                      IKJEFLS INDICATOR               00267000
LWAFSLGN EQU X'02'                      FSCRN LOGON           @ZMT0005  00268000
LWAFSRAC EQU X'01'                      FSCRN RACF            @ZMT0005  00269000
         DS  X                                                          00270000
LWAABFLD EQU X'80'                      ABEND OCCURRED        @PBY0221  00271000
LWARACF  EQU X'40'                      -> USER IS...      @Z40RQKC     00272000
*                                       ...RACF DEFINED                 00273000
LWAVTAM  EQU X'20'                      -> VTAM/SNA        @Z40DQKC     00274000
LWAPHASE EQU X'10'                      CONTROL SWITCH                  00275000
*                                       FOR STAI EXIT.                  00276000
*                                       IF 0 - PHASE I                  00277000
*                                       ACTIVE. IF 1 -                  00278000
*                                       PHASE II ACTIVE                 00279000
LWAPSW   EQU X'08'                      IF 1, LAST ABEND IN             00280000
*                                        PROMPTER WAS PSW RESTART       00281000
LWAPCK   EQU X'04'                      IF 1, LAST ABEND IN             00282000
*                                       PROMPTER WAS PGM CHECK          00283000
LWAMCK   EQU X'02'                      IF 1, LAST ABEND IN             00284000
*                                       PROMPTER WAS MACH CHECK         00285000
LWABND   EQU X'01'                      IF 1, LAST ABEND IN             00286000
*                                       PROMPTER WAS OTHER THAN PROG    00287000
*                                       CHK, PSW RESTART OR MACH CHK    00288000
LWAFLGS4 DS  X                                                          00289000
LWAFSTXT EQU X'80'                      PSCB IS IN SP252 UPT AND        00290000
*                                       RELOGON BUFFER ARE IN           00291000
*                                       SUBPOOL 250            @YA03605 00292000
LWANORDR EQU X'40'                      USER ON TERMINAL                00293000
*                                       THAT DOES NOT                   00294000
*                                       SUPPORT OIDCARD                 00295000
*                                       READER      @G32OPKU            00296000
LWAQTIP  EQU X'20'                      SET BY SIC SO LOGON             00297000
*                                       WILL DO QTIP 24 IN              00298000
*                                       IKJEFLK     @ZA02119            00299000
LWASICSP EQU X'10'                      SET BY LOGON IN                 00300000
*                                       IKJEFLJ AND SET                 00301000
*                                       TO 0 IN IKJEFLK                 00302000
*                                       TELLS SICS NOT TO DO            00303000
*                                       QTIP 24     @ZA02119            00304000
LWALTBC  EQU X'08'                      LIST BC IN CONTROL              00305000
LWATNBT  EQU X'04'                      USED TO INDICATE CANCEL         00306000
*                                       BY THE ATTENTION EXIT           00307000
*                                       ROUTINE.                        00308000
LWAINX1  EQU X'02'                      INSTALLATION EXIT               00309000
*                                       ROUTINE IN CONTROL              00310000
LWAILGN  EQU X'01'                      INITIAL LOGON INDICATOR         00311000
LWAPTID  DS  A                          PROMPTING TASK IDENTIFIER       00312000
*                                       RETURNED BY ATTACH              00313000
LWACTLS  DS  BL3                        CONTROL BIT STRING FOR          00314000
*                                       LOGON PROMPTING TASK   @E1502S5 00315000
         ORG LWACTLS                    1ST CONTROL BYTE       @E1502S5 00316000
*                                                                       00317000
LWAUFAI  EQU X'80'                      INDICATES UNSUCCESSFUL ENQ      00318000
*                                       ON THE RESOURCE ' SYSUADS       00319000
*                                       USERID '                        00320000
LWARACI  EQU X'40'                      IF 1, INSTALLATION DOES NOT     00321000
*                                       WANT LOGON TO DO THE RACINIT    00322000
*                                                              @E1502S5 00323000
LWAFAIL  EQU X'20'                      INDICATES AN UNSUCCESSFUL       00324000
*                                       ATTEMPT TO OBTAIN A SYSTEM      00325000
*                                       RESOURCE.IDENTIFIED BY ANY      00326000
*                                       OTHER BIT.                      00327000
LWADISC  EQU X'10'                      INDICATES THAT LOGON IS TO      00328000
*                                       TERMINATE AND DISCONNECT        00329000
*                                       THE TERMINAL.                   00330000
LWANOPR  EQU X'08'                     IF BIT IS ONE AN INSTALLATION    00331000
*                                      EXIT ROUTINE HAS                 00332000
*                                      PROVIDED USERID,PASSWORD,        00333000
*                                      ACCOUNT,PROCEDURE CHARACTER      00334000
*                                      STRINGS, A REGION                00335000
*                                      SIZE, AND A PERFORMANCE          00336000
*                                      GROUP FOR USE IN                 00337000
*                                      SCHEDULING A TERMINAL JOB        00338000
LWANUAD  EQU X'04'                     IF THIS BIT IS ONE AND THE       00339000
*                                      BIT LWANOPR IS ALSO ONE NO       00340000
*                                      ACCESS OF THE UADS SHOULD        00341000
*                                      BE MADE FOR THIS TERMINAL JOB    00342000
LWAJJCL  EQU X'02'                     JCL FOR TERMINAL JOB WAS         00343000
*                                      SUPPLIED BY AN INSTALLATION      00344000
*                                      EXIT ROUTINE.                    00345000
LWANUADE EQU X'01'                 IF THIS BIT IS ONE AND THE  @E1113KS 00346000
*                                  BIT LWANOPR IS ALSO ONE AND @E1113KS 00347000
*                                  BIT LWANUAD IS ALSO ONE     @E1113KS 00348000
*                                  THEN THE INSTALLATION EXIT  @E1113KS 00349000
*                                  HAS GRANTED PERMISSION TO   @E1113KS 00350000
*                                  READ THE UADS, BUT ONLY     @E1113KS 00351000
*                                  THE UADSDRBA FIELD          @E1113KS 00352000
         ORG LWACTLS+1                  2ND CONTROL BYTE       @E1502S5 00353000
         DS  X                                                          00354000
LWAATR1  EQU X'80'                     INFORMATION FOR THE ATR1         00355000
*                                      FIELD OF THE PSCB WAS SUPPLIED   00356000
*                                      BY AN INSTALLATION               00357000
*                                      EXIT ROUTINE.                    00358000
LWAATR2  EQU X'40'                     INFORMATION FOR THE ATR2         00359000
*                                      FIELD OF THE PSCB WAS SUPPLIED   00360000
*                                      BY AN INSTALLATION               00361000
*                                      EXIT ROUTINE.                    00362000
LWAUNIT  EQU X'20'                     INFORMATION FOR PSCBGPNM         00363000
*                                      FIELD OF THE PSCB WAS SUPPLIED   00364000
*                                      BY AN INSTALLATION               00365000
*                                      EXIT ROUTINE.                    00366000
LWABUPT  EQU X'10'                     INFORMATION FOR USER PROFILE     00367000
*                                      TABLE WAS SUPPLIED BY            00368000
*                                      AN INSTALLATION EXIT RTN.        00369000
LWANONQ  EQU X'08'                     LOGON WILL NOT MAINTAIN AN       00370000
*                                      ENQ ON THE RESOURCE'SYSUAD       00371000
*                                      USERID' DURING THE USER'S        00372000
*                                      SESSION.                         00373000
LWADEST  EQU X'04'                     IF 1, INSTALLATION               00374000
*                                      EXIT HAS SUPPLIED                00375000
*                                      DEFAULT DEST.                    00376000
LWABEND  EQU X'02'                     IF 1, INSTALLATION               00377000
*                                      EXIT IS GETTING                  00378000
*                                      CONTROL AFTER ABEND              00379000
LWAMAIL  EQU X'01'                     IF 1, INSTALLATION               00380000
*                                      EXIT REQUESTED NO MAIL  @OZ65807 00381000
         ORG LWACTLS+2                  3RD CONTROL BYTE       @E1502S5 00382000
         DS  X                         FLAGS                   @OZ65807 00383000
LWANOTC  EQU X'80'                     IF 1, INSTALLATION EXIT          00384000
*                                      REQUESTED NO NOTICES    @OZ65807 00385000
LWAOID   EQU X'40'                     IF 1, INSTALLATION               00386000
*                                      EXIT REQUESTED NO OID   @OZ65807 00387000
LWANFSL  EQU X'20'                     IF 1, INSTALLATION EXIT DOES     00388000
*                                      NOT WANT FULLSCREEN LOGON        00389000
LWASPASS EQU X'10'                     IF 1, INSTALLATION EXIT WANTS    00390000
*                                      PASSWORD STORED IN THE TSB       00391000
LWASUBH  EQU X'08'                     IF 1, INSTALLATION HAS           00392000
*                                      SUPPLIED SUBMIT HOLD CLASS       00393000
*                                                              @E1502S5 00394000
LWASUBC  EQU X'04'                     IF 1, INSTALLATION HAS           00395000
*                                      SUPPLIED SUBMIT CLASS   @E1502S5 00396000
LWASUBM  EQU X'02'                     IF 1, INSTALLATION HAS           00397000
*                                      SUPPLIED SUBMIT MESSAGE CLASS    00398000
*                                                              @E1502S5 00399000
LWASOUT  EQU X'01'                     IF 1, INSTALLATION HAS           00400000
*                                      SUPPLIED SYSOUT CLASS   @E1502S5 00401000
LWATSOLV DS  X                         INDICATE LEVEL OF LWA   @ZTY0366 00402000
LWARTCD  DS  F                         RETURN CODE SET BY IKJEFLK       00403000
LWANAME  DS  0F                        EPLOC FOR ATTACH/XCTL            00404000
*                                      NAME                             00405000
LWARNML  DS  CL1                       USED FOR MINOR                   00406000
*                                      RESOURCE NAME                    00407000
*                                      LENGTH TO ENQ/DEQ                00408000
LWARNM   DS  CL7                       USED FOR MINOR                   00409000
*                                      RESOURCE NAME                    00410000
*                                      IMAGE                            00411000
LWANQDQ  DS  CL12                      USED FOR ENQ/DEQ                 00412000
*                                      PARAMETER LIST                   00413000
LWAELST  DS  0F                        ECB LIST HEADER                  00414000
LWAAECBP DS  F                         PTR TO LWAAECB                   00415000
LWAPECBP DS  F                         PTR TO LWAPECB                   00416000
LWAEOEL  EQU X'80'                     END OF LIST BIT                  00417000
LWARCDE  DS  F                         RTN CODE SET BY IKJEFLJ          00418000
LWATCPU  DS  F                         2 WORDS USED FOR                 00419000
LWATCPU1 DS  F                         TOTAL CPU TIME USED              00420000
*                                      FOR THIS ACCOUNTING              00421000
*                                      PERIOD.                          00422000
LWATSRU  DS  F                         2 WORDS USED FOR                 00423000
LWATSRU1 DS  F                         TOTAL SERVICE UNITS              00424000
*                                      USED DURING THIS                 00425000
*                                      ACCT PERIOD.                     00426000
LWATCON  DS  F                         2 WORDS USED FOR                 00427000
LWATCON1 DS  F                         TOTAL CONNECT TIME               00428000
*                                      USED DURING THIS                 00429000
*                                      ACCT PERIOD.                     00430000
LWASTCB  DS  A                         TCB ADDR IKJEFLA                 00431000
LWADEST2 DS  CL8                       USERID FOR SYSOUT                00432000
*                                      TO REMOTE ENTRY-                 00433000
*                                      STATION.                         00434000
LWAGBWKA DS  A                         POINTER TO WORK                  00435000
*                                      AREA FOR IKJEFLGB                00436000
LWASWKA  DS  A                         POINTER TO WORK                  00437000
*                                      AREA FOR IKJEFLS                 00438000
LWAXXXX  DS  A                         AREA RESERVED FOR TSO   @ZA37653 00439000
*                                      SESSION MGR SUPPORT     @ZA37653 00440000
LWASPF   DS  A                         POINTER TO WORK         @ZA30872 00441000
*                                      AREA FOR SPF SUPPORT    @ZA30872 00442000
LWATCB02 DS  A                         POINTER TO TCB          @OZ41376 00443000
*                                      FOR IKJEFT02            @OZ41376 00444000
LWASVAL  DS  A                         POINTER TO I/O SERVICES @E1502S4 00445000
*                                      STACK VALIDATION TABLE  @E1502S4 00446000
LWASRWA  DS  A                         POINTER TO SERVICE      @E1116F4 00447000
*                                      ROUTINE WORK AREA       @E1116F4 00448000
LWATAP   DS  A                         TABLE OF AUTHORIZED PROGRAMS     00449000
*                                      SUPPORTED BY THE TSO             00450000
*                                      SERVICE FACILITY        @OZ96882 00451000
LWALACT  DS  F                         OFFSET ACCT OFFSET  BLK @E1113KJ 00452000
LWALPRC  DS  F                         OFFSET ACCT OFFSET BLK  @E1113KJ 00453000
LWALRGN  DS  F                         LOGON REGION SIZE       @E1113KJ 00454000
LWALPGN  DS  H                         LOGON PERFORMANCE GROUP @E1113KJ 00455000
LWALGCMD DS  CL80                      LOGON DISPLAY COMMAND   @E1113KJ 00456000
LWAFLGS5 DS  X                         FLAGS FOR USE BY LOGON  @YA06845 00457000
LWALPA   EQU X'80'                     IKJEFLPA IS IN CONTROL  @YA06845 00458000
LWALJA   EQU X'40'                     IKJEFLJA IS IN CONTROL  @YA06845 00459000
LWALJH   EQU X'20'                     IKJEFLJH IS IN CONTROL  @YA06845 00460000
LWALJU   EQU X'10'                     IKJEFLJU IS IN CONTROL  @YA06845 00461000
LWALIO   EQU X'08'                     IKJEFLIO IS IN CONTROL  @YA06845 00462000
LWACHECK EQU X'04'                     FLE detected bad UADS   @YA17858 00463000
LWATSOGR EQU X'02'                     TSO/GR Reconnect in use @WA24252 00463690
LWARSVD4 DS  X                         RESERVED BYTE           @YA06845 00464000
LWATMPW3 DS  A                         PTR TO TMP WORK AREA 3  @E1213G8 00465000
LWASRWAA DS  CL52                      SRWA AREA               @E1213F4 00466000
         ORG LWASRWAA                                          @E1213F4 00467000
*********************************************************************** 00468000
***                                                                   * 00469000
*** DECLARE -                                                         * 00470000
***     ADDRESSES OF DYNAMIC AREAS IN THE SRWA.                       * 00471000
***                                                                   * 00472000
**************************************************************@E2267I2* 00473000
LWAEFT30 DS  A                         PTR TO IKJEFT30 STORAGE @E1213F4 00474000
LWAEFT40 DS  A                         PTR TO IKJEFT40 STORAGE @E1213F4 00475000
LWAEFT45 DS  A                         PTR TO IKJEFT45 STORAGE @E1213F4 00476000
LWAEFT52 DS  A                         PTR TO IKJEFT52 STORAGE @E1213F4 00477000
LWAEFT53 DS  A                         PTR TO IKJEFT53 STORAGE @E1213F4 00478000
LWARSV1  DS  A                         RESERVED FOR FUTURE USE @DG10015 00479000
LWAEFT55 DS  A                         PTR TO IKJEFT55 STORAGE @E1213F4 00480000
LWAEFT56 DS  A                         PTR TO IKJEFT56 STORAGE @E1213F4 00481000
LWARBBMC DS  A                         PTR TO IKJRBBMC STORAGE @E1213F4 00482000
LWACT440 DS  A                         PTR TO IKJCT440 STORAGE @E1213F4 00483000
**********************************************************************  00484000
***                                                                  *  00485000
*** DECLARE -                                                        *  00486000
***      ADDRESSES OF THE COMMAND AND PROGRAM TABLES.                *  00487000
***        TO ADDRESS THE FIRST COMMAND OR PROGRAM                   *  00488000
***         ENTRY OF ANY OF THE FOLLOWING TABLES,                    *  00489000
***         YOU MUST ADD A DISPLACMENT OF 16 TO THE                  *  00490000
***         POINTER.                                                 *  00491000
***                                                                  *  00492000
*************************************************************@E2267I2*  00493000
LWATNS   DS  A                         PTR TO IKJEFTNS         @E2267I2 00494000
LWATE2   DS  A                         PTR TO IKJEFTE2         @ZTY0009 00495000
LWATE8   DS  A                         PTR TO IKJEFTE8         @E1213F4 00496000
**********************************************************************  00497000
***                                                                  *  00498000
*** DECLARE -                                                        *  00499000
***     ADDRESSES OF LAR SAVEAREAS IN THE SRWA.                      *  00500000
***                                                                  *  00501000
*************************************************************@E2267I2*  00502000
LWARSV2  DS  A         RESERVED FOR FUTURE USE                 @DG10015 00503000
LWARSV3  DS  A         RESERVED FOR FUTURE USE                 @DG10015 00504000
LWARSV4  DS  A         RESERVED FOR FUTURE USE                 @DG10015 00505000
LWASTCK  DS  A         ADDRESS OF STACK   LAR SAVEAREA         @E2267I2 00506000
LWAPUTL  DS  A         ADDRESS OF PUTLINE LAR SAVEAREA         @E2267I2 00507000
LWAPTGT  DS  A         ADDRESS OF PUTGET  LAR SAVEAREA         @E2267I2 00508000
LWAGETL  DS  A         ADDRESS OF GETLINE LAR SAVEAREA         @E2267I2 00509000
LWAC441  DS  A         ADDRESS OF CLIST VARIABLE LAR SAVEAREA  @E2267I2 00510000
LWAPHAS2 DS  A         ADDRESS OF CLIST PHASE2 WORKAREA        @YA01377 00511000
LWARSV5  DS  A         RESERVED FOR FUTURE USE                 @DG10015 00512000
LWARSV6  DS  A         RESERVED FOR FUTURE USE                 @DG10015 00513000
*************************************************************@E2267I2*  00514000
LWAIOBUF DS  A                         PTR TO I/O BUFFER USED BY        00515000
*                                      LOGON FOR THE READING AND        00516000
*                                      WRITING OF SYS1.UADS    @ZA86847 00517000
LWABLK   DS  CL1                       INDICATES WHICH BLOCK OF DATA    00518000
*                                      IN SYS1.UADS THAT LWAIOBUF       00519000
*                                      POINTS TO               @ZA86847 00520000
LWARESV4 DS  CL3                                               @ZA86847 00521000
LWALWC   DS  A                         POINTS TO LWC           @ZA87103 00522000
LWAECBA  DS  A                         ECB POINTER FOR COMMUNICATION    00523000
*                                      BETWEEN IKJEFLG (ATTENTION       00524000
*                                      ROUTINE) AND OTHER MODULES       00525000
*                                                              @ZA87103 00526000
LWACTDBC DS  A                         POINTER TO IKJCTDBC     @E1402C1 00527000
LWARAP   DS  A                         POINTER TO TSO RACF PARAMETER    00528000
*                                      LIST                    @E1402H1 00529000
LWAEXITP DS  A                         POINTER TO LOCAL EXITS/TABLES    00530000
*                                      VECTOR                  @E1402H1 00531000
LWAWHOIF DS  F                         INDICATES WHO OBTAINED THE LOGON 00532000
*                                      DEFAULT INFORMATION     @E1402H1 00533000
LWALACCT DS  CL40                      ACCOUNT NUMBER USER LOGGED ON    00534000
*                                      WITH                    @E1402H1 00535000
LWALPROC DS  CL8                       PROCEDURE NAME USER LOGGED ON    00536000
*                                      WITH                    @E1402H1 00537000
LWAFLAG1 DS  BL1                       CONTROL FLAGS           @E1502S5 00538000
*                                                              @PD70274 00539000
LWANOUA  EQU X'80'                     INDICATES THAT THE UADS DO NOT   00540000
*                                      EXIST                   @PD70274 00541000
LWAIPLWO EQU X'40'                     1 - INDICATES TO ISSUE WTO       00542000
*                                                              @PD70274 00543000
LWARECON EQU X'20'                     1 - LOGON RECONNECT              00544000
*                                          SPECIFIED.          @DEI0031 00545000
LWARFLEA EQU X'10'                     1 - LOGON RECONNECT specified    00546000
*                                          for line mode logon @DEI0031 00547000
LWANETL  EQU X'08'                     1 - No exits were found in       00548000
*                                          STEPLIB or LINKLST  @E23D2D5 00549000
LWA622AB EQU X'04'                     1 - ABEND 622 occurred           00550000
*                                                              @YA35424 00551000
LWANEWPW EQU X'02'                     1 - User specified new password  00551300
*                                                              @WA24252 00551600
LWAFLAG2 DS  BL2                       RESERVED                @E1502S5 00552000
*                                                              @E1502S5 00553000
LWACTLS2 DS  BL1                       LAST BYTE OF THE CONTROL BIT     00554000
*                                      STRING FOR THE PRE-PROMPT        00555000
*                                      INSTALLATION EXIT       @E1502S5 00556000
LWACMD   EQU X'80'                     1- EXIT SUPPLIED A FIRST         00557000
*                                      COMMAND                 @E1502S5 00558000
LWARBA   EQU X'40'                     1- EXIT SUPPLIED AN RBA          00559000
*                                                              @E1502S5 00560000
LWASECLB EQU X'20'                     1- EXIT SUPPLIED A SECLABEL      00561000
*                                                              @YA34939 00562000
LWACNPR  EQU X'10'                     1- EXIT SUPPLIED A CONSOLE       00563000
*                                      PROFILE                 @YA34939 00564000
LWAPLANG EQU X'08'                     1- EXIT SUPPLIED A PRIMARY       00565000
*                                      LANGUAGE                @PG10091 00566000
LWASLANG EQU X'04'                     1- EXIT SUPPLIED A SECONDARY     00567000
*                                      LANGUAGE                @PG10091 00568000
LWANOSAV EQU X'02'                     1- EXIT DOES NOT WANT FULL       00569000
*                                      SCREEN FIELDS SAVED IN THE TSO   00570000
*                                      SEGMENT                 @YA34047 00571000
* 1 BIT RESERVED FOR INSTALLATION EXIT INTERFACES ONLY         @YA34047 00572000
*                                                              @PD70274 00573000
LWARTRAS DS A                        AUTHORIZED DYNAMIC STORAGE ADDRESS 00574000
*                                       FOR EXIT ROUTER        @PD70359 00575000
LWARSV7  DS  A                         RESERVED FOR FUTURE USE @DG10015 00576000
LWASRWA1 DS  A                         POINTER TO THE KEY 1 AREA        00577000
*                                      OF THE SRWA             @E1502S4 00578000
LWARSV8  DS  A                         RESERVED FOR FUTURE USE @DG10015 00579000
LWADCBCT DS  A                         COUNT OF OPEN DCBS      @E1502S3 00580000
LWAT441R DS  A                         PTR TO IKJCT441 STORAGE @E21D2G9 00581000
LWARSV9  DS  A                         RESERVED FOR FUTURE USE @DG10015 00582000
LWARSV10 DS  A                         RESERVED FOR FUTURE USE @DG10015 00583000
*                                                                       00584000
LWAPROSP DS  1A                        ADDR of KEY 1 stack     @E21D2G9 00585000
*                                                                       00586000
LWAPRMLB DS 0F                         PARMLIB FLAGS           @E1502I7 00587000
         DS X                                                  @E1502I7 00588000
LWATAPST EQU X'80'                     1 - INDICATES TAP CAME FROM      00589000
*                                          STEPLIB             @E1502I7 00590000
LWATNSST EQU X'40'                     1 - INDICATES TNS CAME FROM      00591000
*                                          STEPLIB             @E1502I7 00592000
LWATE2ST EQU X'20'                     1 - INDICATES TE2 CAME FROM      00593000
*                                          STEPLIB             @E1502I7 00594000
LWATE8ST EQU X'10'                     1 - INDICATES TE8 CAME FROM      00595000
*                                          STEPLIB             @E1502I7 00596000
         DS 3X                                                 @PEI0253 00597000
*                                                              @PEI0253 00598000
LWATAPLN DS H                        LENGTH OF TAP             @E1502I7 00599000
*                                                                       00600000
LWATNSLN DS H                        LENGTH OF TNS             @E1502I7 00601000
*                                                                       00602000
LWATE2LN DS H                        LENGTH OF TE2             @E1502I7 00603000
*                                                                       00604000
LWATE8LN DS H                        LENGTH OF TE8             @E1502I7 00605000
*                                                                       00606000
LWAGENER DS H                        PARMLIB GENERATION COUNT  @E1502I7 00607000
LWASECL  DS CL8                      SECLABEL                  @E21X2B1 00608000
         DS CL8                      RESERVED FIELD            @PEI0904 00609000
LWARSVD1 DS H                        FOR DOUBLEWORD BOUNDARY   @E21D2G9 00610000
LWA00026 DS  A                       PTR TO IGX00026 STORAGE   @PEI0524 00611000
LWA00027 DS  A                       PTR TO IGX00027 STORAGE   @PEI0524 00612000
LWACT429 DS  A                       PTR TO IKJCT429 STORAGE   @PEI0524 00613000
LWARSV11 DS  A                       RESERVED FOR FUTURE USE   @DG10015 00614000
LWARSV12 DS  A                       RESERVED FOR FUTURE USE   @DG10015 00615000
LWASVTAD DS  A                       Address of Stack Validation        00616000
*                                    Jobstep TCB               @PEI0493 00617000
LWASTGST DS  A                       Ptr to key 8 Storage Stack Data    00618000
*                                    Area                      @DG10015 00619000
LWASTGEN DS  A                       End Address of Key 8 Storage Stack 00620000
*                                    storage Area              @DG10015 00621000
LWACNCCB DS  A                       Pointer to CONSOLE control block   00622000
*                                    CNCCB                     @E22D2D3 00623000
LWACNPRF DS  CL24                    CONSOLE profile at logon time      00624000
*                                                              @E22D2D3 00625000
LWATERM  DS  F                       Parameter returned from GTTERM     00626000
*                                    during LOGON              @E22D2SC 00627000
LWATOKEN DS  CL8                     Stack token value         @YA26357 00628000
LWAADVLF DS  A                       Points to ALTLIB and VLF           00629000
*                                    segment                   @YA28059 00630000
LWAVCPPL DS  A                       Address of CPPL created by         00631000
*                                    TSO Environment Service   @E23D2DB 00632000
LWAVECBP DS  A                       Address of ECB created by          00633000
*                                    TSO Environment Service   @E23D2DB 00634000
LWAVJST  DS  A                       Address of JOBSTEP TCB             00635000
*                                    that owns the TSO env.    @E23D2DB 00636000
LWAVFLGS DS  X                       Flags for TSO Environment          00637000
*                                    Service                   @E23D2DB 00638000
LWATSENV EQU X'80'                   Indicates a non-TMP TSO            00639000
*                                    environment created       @E23D2DB 00640000
LWASYSIN EQU X'40'                   Indicates SYSTSIN allocated        00641000
*                                    by IKJPCENV as DUMMY      @E23D2DB 00642000
LWASYSPR EQU X'20'                   Indicates SYSTSPRT allocated       00643000
*                                    by IKJPCENV as DUMMY      @E23D2DB 00644000
LWAVBKGD EQU X'10'                   Tso environment initialized        00645000
*                                    with background mode      @E23D2DB 00646000
LWATE2LD EQU X'08'                   IKJEFTE2 loaded           @E23D2DB 00647000
LWATE8LD EQU X'04'                   IKJEFTE8 loaded           @E23D2DB 00648000
LWATAPLD EQU X'02'                   IKJEFTAP loaded           @E23D2DB 00649000
LWATNSLD EQU X'01'                   IKJEFTNS loaded           @E23D2DB 00650000
         DS  3X                      Reserved                  @E23D2DB 00651000
LWATSLEN DS  F                       TSO Tables length if they were     00652000
*                                    copied from STEPLIB       @E23D2DB 00653000
LWATMPPB DS   A                      Address of TMP Platform   @E23D2I6 00654000
*                                    Block                     @E23D2I6 00655000
LWADYSEG DS   A                      Address of the IKJDYSEG            00656000
*                                    segment                   @E25D2JC 00657000
LWADTSEG DS   A                      Pointer to the DT segment @E25D2JC 00658000
LWAISPDT DS   A                      Pointer reserved for               00659000
LWAMSRM@ DS   A                      Address of IKJMSRM0 ...       @L1A 00659300
*                                    ... control Block           @L1A   00659600
*                                    ISPF DT support.          @E25D2JC 00660000
LWATSTTR DS   A                      Ptr to SVQ (used for TEST cmd @L2A 00661580
LWAFREE  DS 6A                       Reserved room for later use   @L2C 00661670
*                                                              @KO10185 00662000
********************************************************************    00664000
         DS  0D        END AT A DOUBLEWORD BOUNDRY             @E2267I2 00665000
********************************************************************    00666000
LENLWA   EQU *-LWA                     LENGTH OF LWA                    00667000
LWALVTSO EQU 60                        LWA FOR TSO/E V2R2      @E22D2SC 00668000
**********************************************************************  00669000
*      CONSTANTS FOR WHO OBTAINED THE LOGON DEFAULT            @E1402H1 00670000
*      INFORMATION (LWAWHOIF).                                 @E1402H1 00671000
**********************************************************************  00672000
*                                                                       00673000
LWAWHOIN EQU 0                 USED IN INITIALIZING THE LOGON DEFAULT   00674000
*                                              INFORMATION   @E1402H1   00675000
LWAWHORA EQU 10                RACF SUPPLIED THE LOGON DEFAULT          00676000
*                                              INFORMATION   @E1402H1   00677000
LWAWHOUA EQU 20                UADS SUPPLIED THE LOGON DEFAULT          00678000
*                                              INFORMATION   @E1402H1   00679000
**********************************************************************  00680000
***                                                                  *  00681000
***    I K J E F L J  R E T U R N  C O D E S                         *  00682000
***                                                                  *  00683000
**********************************************************************  00684000
LWASWAR EQU 4                          SWA MANAGER ERROR                00685000
LWAMSPE EQU 16                         MULTI-STEP PROC                  00686000
**********************************************************************  00687000
***                                                                  *  00688000
***    P O S T  C O D E S  F O R  P E C B  E C B                     *  00689000
***                                                                  *  00690000
**********************************************************************  00691000
INITDONE EQU 4                         INIT PHASE DONE POST CODE        00692000
NQUSERID EQU 8                         ENQ ON USERID POST CODE          00693000
DQUSERID EQU 12                        DQ ON USERID                     00694000
SCHEDULE EQU 16                        PHASE ONE PROMPTING DONE POST    00695000
BCDONE   EQU 20                        MSG BRODCASTING DONE POST CODE   00696000
TERMINAT EQU 24                        TERMINATE THE JOB POST CODE      00697000
**********************************************************************  00698000
***                                                                  *  00699000
***         P O S T  C O D E S  F O R  S E C B  E C B                *  00700000
***                                                                  *  00701000
**********************************************************************  00702000
NQDQ0    EQU 0                         ENQ DEQUE RETURN CODES           00703000
NQDQ4    EQU 4                         DITTO                            00704000
NQDQ8    EQU 8                         DITTO                            00705000
STARTP2  EQU 16                        START PHASE TWO PROMPTING        00706000
INITRDY  EQU 20                        INIT READY TO POST               00707000
ENDTASK  EQU 24                        TERMINATE PROMPTING TASK         00708000
*                                                                       00709000
*                                                                       00710000
**/                                                                     00711000
         MEND                                                           00712000
* %LWAPLS:   ;                                                          00713000
* %IF TSOGR_CONST = 'ONLY' %THEN      /* Invoker needs constanst @L1A*/ 00713300
*    %GOTO TSOGR_CONSTDCL;            /* Branch to constants     @L1A*/ 00713600
*@EJECT;                                                                00714000
*/*                                                                  */ 00715000
*? DOCUMENT TITLE(CHANGE ACTIVITY);                                     00716000
*? DOCUMENT TITLE(#05: @Z40DQKC)                                        00717000
*  TEXT(SUPPORT FOR SNA. IF LWAVTAM=YES=1 THEN EXTENDED LOGON, IKTXINIT,00718000
*    SUCCESSFULLY RETURNED TO IKJEFLA.                                  00719000
*    FOR LWAVTAM=YES IKJEFLB AND IKJEFLS WILL CALL EXTENDED LOGOFF-     00720000
*    IKTLOGFF);                                                         00721000
*? DOCUMENT TITLE(#05: @Z40RQKC)                                        00722000
*  TEXT(SUPPORT FOR VS2 RELEASE 4 RACF. THE LOGON WORK AREA INDICATES   00723000
*    WHETHER THE USER IS RACF DEFINED OR NOT--LWARACF);                 00724000
*? DOCUMENT TITLE(#05: @OZ41376)                                        00725000
*  TEXT(SUPPORT FOR TSO I/O SERVICE ROUTINES INTEGRITY);                00726000
*? DOCUMENT TITLE(#05: @E1113KS)                                        00727000
*  TEXT(ADDITION OF LWANUADE FLAG);                                     00728000
*? DOCUMENT TITLE(#05: @E1213G8)                                        00729000
*  TEXT(SUPPORT FOR TMP INTEGRITY. LWATMPW3 - PTR TO TMP WORK AREA 3    00730000
*    - ADDED);                                                          00731000
*? DOCUMENT TITLE(#05: @E1213F4)                                        00732000
*  TEXT(ADDITION OF SRWA FOR TSO/E RELEASE 2);                          00733000
*? DOCUMENT TITLE(#05: @ZTS0046)                                        00734000
*  TEXT(CHANGE LENLWA TO BE FIXED(31) FOR TSO/E RELEASE 2);             00735000
*                                       /*                   @ZTY0050*/ 00736000
*? DOCUMENT TITLE(#05: @ZTY0009)                                        00737000
*  TEXT(ADD LWATE2 AND LWATE8 FOR TSO/E RELEASE 2);                     00738000
*? DOCUMENT TITLE(#05: @ZTY0366)                                        00739000
*  TEXT(ADDED LEVEL OF LWA FOR TSO/E RELEASE 2);                        00740000
*? DOCUMENT TITLE(#05: @E2267I2)                                        00741000
*  TEXT(JBB2267  TSO/E RELEASE-2.1 FOR VSCR  12/7/84);                  00742000
*? DOCUMENT TITLE(#05: @OZ74786)                                        00743000
*  TEXT(SUPPORT FOR TSO I/O SERVICE ROUTINES INTEGRITY);                00744000
*? DOCUMENT TITLE(#05: @OZ91353)                                        00745000
*  TEXT(DECLARE THE LWAFSTXT BIT );                                     00746000
*? DOCUMENT TITLE(#05: OY03605)                                         00747000
*  TEXT(THE LWAFSTXT BIT WILL BE SET BY IKJLJ1 IN IKJEFLJ TO INDICATE   00748000
*    THE PSCB IS IN SP252, THE UPT AND RELOGON BUFFER ARE IN SP250);    00749000
*? DOCUMENT TITLE(#05: OY06845)                                         00750000
*  TEXT(ADD INDICATORS FOR IKJEFLJA, IKJEFLJH, IKJEFLJU, IKJEFLPA AND   00751000
*    IKJEFLIO SET WHEN THEY ARE IN CONTROL)                             00752000
*  POSITION(END);                       /*                    @YA06845*/00753000
*                                                         /* @E1502S5*/ 00754000
* %IF LWAB = '' %THEN                                     /* @E1502S5*/ 00755000
*    %LWAB = 'BASED(LWAPTR)';                             /* @E1502S5*/ 00756000
* %IF LWAB = 'NOTBASED' %THEN                             /* @E1502S5*/ 00757000
*    %LWAB = '';                                          /* @E1502S5*/ 00758000
*                                                         /* @E1502S5*/ 00759000
*        DECLARE                                                        00760000
*        1    LWA  LWAB BDY(DWORD),                        /*@E1502S5*/ 00761000
*             2    LWAPPTR POINTER,    /*   ADDRESS OF THE LOGON WORK*/ 00762000
*                                      /*   AREA                     */ 00763000
*             2    LWALWA CHAR(8),     /*   EBCDIC '  LWA   '  Y02669*/ 00764000
*             2    LWATEST  POINTER,   /*   PTR FOR TEST     @ZA06226*/ 00765000
*             2    LWAPASCB POINTER,   /*   ADDRESS OF ASCB    Y02669*/ 00766000
*                                      /*   FOR USER MEMORY    Y02669*/ 00767000
*             2    LWAACCT POINTER,    /*   OFFSET TO ACCT FIELD IN  */ 00768000
*                                      /*   UADS                     */ 00769000
*             2    LWAPSCB POINTER,    /*   ADDRESS OF THE PROTECTED */ 00770000
*                                      /*   STEP CONTROL BLOCK       */ 00771000
*             2    LWAJSEL POINTER,    /*   ADDRESS OF THE JOB       */ 00772000
*                                      /*   SCHEDULING ENTRANCE LIST */ 00773000
*             2    LWAPECT POINTER,    /*   ADDRESS OF THE ECT       */ 00774000
*             2    LWAAECB BDY(WORD),  /*   EVENT CONTROL BLOCK FOR  */ 00775000
*                                      /*   THE LOGON/LOGOFF         */ 00776000
*                                      /*   PROMPTING TASK           */ 00777000
*                  3    * BIT(24),     /*   NOT REFERENCED BY LOGON/ */ 00778000
*                                      /*   LOGOFF CODE              */ 00779000
*                  3    LWAABCE BIT(8),/*   COMPLETION CODE BYTE     */ 00780000
*             2    LWAPECB BDY(WORD),  /*   COMMUNICATIONS ECB       */ 00781000
*                                      /*   FOR COMMUNICATION FROM   */ 00782000
*                                      /*   THE PROMPTING TASK TO    */ 00783000
*                                      /*   THE SCHEDULING TASK      */ 00784000
*                  3    * BIT(24),     /*   NOT REFERENCED BY LOGON/ */ 00785000
*                                      /*   LOGOFF CODE              */ 00786000
*                  3    LWAPBCE BIT(8),/*   COMPLETION CODE BYTE     */ 00787000
*             2    LWASECB BDY(WORD),  /*   COMMUNICATIONS ECB       */ 00788000
*                                      /*   FOR COMMUNICATION FROM   */ 00789000
*                                      /*   THE SCHEDULING TASK TO   */ 00790000
*                                      /*   THE PROMPTING TASK       */ 00791000
*                  3    * BIT(24),     /*   NOT REFERENCED BY LOGON/ */ 00792000
*                                      /*   LOGOFF CODE              */ 00793000
*                  3    LWASBCE BIT(8),/*   COMPLETION CODE BYTE     */ 00794000
*             2    LWALPCNT FIXED(31), /*   LOOP CONTROL FOR   Y02653*/ 00795000
*                                      /*   STAI EXIT RETRY.   Y02653*/ 00796000
*                                      /*WHEN COUNTER REACHES  Y02653*/ 00797000
*                                      /*GIVEN VALUE, SESSION  Y02653*/ 00798000
*                                      /*IS TERMINATED.        Y02653*/ 00799000
*             2    LWAPDCB POINTER,    /*   ADDRESS OF UADS    Y02653*/ 00800000
*                                      /*   DCB - USED BY STAI Y02653*/ 00801000
*                                      /*   RETRY.             Y02653*/ 00802000
*             2    LWAFLGS BIT(32),    /*   FLAGS FOR USE BY LOGON   */ 00803000
*                  3    * BIT(8),                                       00804000
*                       4 LWALA BIT(1),/* IKJEFLA INDICATOR    Y02669*/ 00805000
*                       4 LWALB BIT(1),/* IKJEFLB INDICATOR    Y02669*/ 00806000
*                       4 LWALC BIT(1),/* IKJEFLC INDICATOR    Y02669*/ 00807000
*                       4 LWALE BIT(1),/* IKJEFLE INDICATOR    Y02669*/ 00808000
*                       4 LWALEA BIT(1),/* IKJEFLEA INDICATOR  Y02669*/ 00809000
*                       4 LWALI BIT(1),/* IKJEFLI INDICATOR    Y02669*/ 00810000
*                       4 LWALH BIT(1),/* IKJEFLH INDICATOR    Y02669*/ 00811000
*                       4 LWALL BIT(1),/* IKJEFLL INDICATOR    Y02669*/ 00812000
*                  3    * BIT(8),                                       00813000
*                       4 LWALGM BIT(1),/* IKJEFLGM INDICATOR  Y02669*/ 00814000
*                       4 LWALJ BIT(1),/* IKJEFLJ INDICATOR    Y02669*/ 00815000
*                       4 LWALK BIT(1),/* IKJEFLK INDICATOR    Y02669*/ 00816000
*                       4 LWALG BIT(1),/* IKJEFLG INDICATOR    Y02669*/ 00817000
*                       4 LWALGB BIT(1),/* IKJEFLGB INDICATOR  Y02669*/ 00818000
*                       4 LWALS BIT(1),/* IKJEFLS INDICATOR    Y02669*/ 00819000
*                       4 LWAFSLGN BIT(1), /* FSCRN LOGON     @E1113KJ*/00820000
*                       4 LWAFSRAC BIT(1), /* FSCRN RACF      @E1113KJ*/00821000
*                  3    * BIT(8),                                       00822000
*                       4  LWAABFLD BIT(1), /* ABEND OCCURRED @PBY0221*/00823000
*                       4  LWARACF  BIT(1), /* -> USER IS... @Z40RQKC*/ 00824000
*                                           /* ...RACF DEFINED       */ 00825000
*                       4  LWAVTAM  BIT(1), /* -> VTAM/SNA   @Z40DQKC*/ 00826000
*                       4  LWAPHASE BIT(1), /*CONTROL SWITCH  Y02653*/  00827000
*                                           /*FOR STAI EXIT.  Y02653*/  00828000
*                                           /*IF 0 - PHASE I  Y02653*/  00829000
*                                           /*ACTIVE. IF 1 -  Y02653*/  00830000
*                                           /*PHASE II ACTIVE Y02653*/  00831000
*                       4  LWAPSW BIT(1),   /*IF 1, LAST      Y02653*/  00832000
*                                           /*ABEND IN        Y02653*/  00833000
*                                           /*PROMPTER WAS    Y02653*/  00834000
*                                           /*PSW RESTART.    Y02653*/  00835000
*                       4  LWAPCK BIT(1),   /*IF 1, LAST      Y02653*/  00836000
*                                           /*ABEND IN        Y02653*/  00837000
*                                           /*PROMPTER WAS    Y02653*/  00838000
*                                           /*PROGRAM CHECK.  Y02653*/  00839000
*                       4  LWAMCK BIT(1),   /*IF 1, LAST      Y02653*/  00840000
*                                           /*ABEND IN        Y02653*/  00841000
*                                           /*PROMPTER WAS    Y02653*/  00842000
*                                           /*MACHINE CHECK.  Y02653*/  00843000
*                       4  LWABND BIT(1),   /*IF 1, LAST      Y02653*/  00844000
*                                           /*ABEND IN        Y02653*/  00845000
*                                           /*PROMPTER WAS    Y02653*/  00846000
*                                           /*OTHER THAN PROG Y02653*/  00847000
*                                           /*CHK, PSW RESTRT Y02653*/  00848000
*                                           /*OR MACHINE CHK. Y02653*/  00849000
*                  3    LWAFLGS4 BIT(8),                                00850000
*                       4    LWAFSTXT BIT(1), /* PSCB IS IN SP252 UPT   00851000
*                                                AND RELOGON BUFFER ARE 00852000
*                                             IN SUBPOOL 250 @YA03605*/ 00853000
*                       4    LWANORDR BIT(1), /* USER ON TERMINAL    */ 00854000
*                                             /* THAT DOES NOT       */ 00855000
*                                             /* SUPPORT OIDCARD     */ 00856000
*                                             /* READER      @G32OPKU*/ 00857000
*                       4    LWAQTIP BIT(1),  /* SET BY SIC SO LOGON */ 00858000
*                                             /* WILL DO QTIP 24 IN  */ 00859000
*                                             /* IKJEFLK     @ZA02119*/ 00860000
*                                                                       00861000
*                       4    LWASICSP BIT(1), /* SET BY LOGON IN ... */ 00862000
*                                             /* ...IKJEFLJ AND SET..*/ 00863000
*                                             /* ...TO 0 IN IKJEFLK. */ 00864000
*                                             /* TELLS SICS NOT TO DO*/ 00865000
*                                             /* QTIP 24     @ZA02119*/ 00866000
*                       4    LWALTBC BIT(1),/* LIST BC IN CONTROL    */ 00867000
*                       4    LWATNBT BIT(1),/*USED TO INDICATE CANCEL*/ 00868000
*                                           /*BY THE ATTENTION EXIT  */ 00869000
*                                           /*ROUTINE.               */ 00870000
*                       4    LWAINX1 BIT(1),/*INSTALLATION EXIT      */ 00871000
*                                           /*ROUTINE IN CONTROL     */ 00872000
*                       4    LWAILGN BIT(1),/*INITIAL LOGON INDICATOR*/ 00873000
*             2    LWAPTID POINTER,      /* PROMPTING TASK IDENTIFIER*/ 00874000
*                                        /* RETURNED BY ATTACH       */ 00875000
*             2    LWACTLS BIT(24),      /* CONTROL BIT STRING FOR      00876000
*                                           LOGON PROMPTING TASK        00877000
*                                                            @E1502S5*/ 00878000
*                                                                       00879000
*                  3    LWAUFAI BIT(1),  /*INDICATES UNSUCCESSFUL ENQ*/ 00880000
*                                        /*ON THE RESOURCE ' SYSUADS */ 00881000
*                                        /*USERID '                  */ 00882000
*                  3    LWARACI BIT(1),  /*IF ONE, INSTALLATION DOES */ 00883000
*                                        /*NOT WANT LOGON TO DO A    */ 00884000
*                                        /*RACINIT           @E1502S5*/ 00885000
*                  3    LWAFAIL BIT(1),  /*INDICATES AN UNSUCCESSFUL */ 00886000
*                                        /*ATTEMPT TO OBTAIN A SYSTEM*/ 00887000
*                                        /*RESOURCE.IDENTIFIED BY ANY*/ 00888000
*                                        /*OTHER BIT.                */ 00889000
*                  3    LWADISC BIT(1),  /*INDICATES THAT LOGON IS TO*/ 00890000
*                                        /*TERMINATE AND DISCONNECT  */ 00891000
*                                        /*THE TERMINAL.             */ 00892000
*                  3    LWANOPR BIT(1),  /*IF BIT IS ONE AN INSTALLA-*/ 00893000
*                                        /*TION EXIT ROUTINE HAS     */ 00894000
*                                        /*PROVIDED USERID,PASSWORD, */ 00895000
*                                        /*ACCOUNT,PROCEDURE CHARAC- */ 00896000
*                                        /*TER STRINGS, A REGION     */ 00897000
*                                        /*SIZE, AND A PERFORMANCE   */ 00898000
*                                        /*GROUP FOR USE IN          */ 00899000
*                                        /*SCHEDULING A TERMINAL JOB.*/ 00900000
*                  3    LWANUAD BIT(1),  /*IF THIS BIT IS ONE AND THE*/ 00901000
*                                        /*BIT LWANOPR IS ALSO ONE NO*/ 00902000
*                                        /*ACCESS OF THE UADS SHOULD */ 00903000
*                                        /*BE MADE FOR THIS TERMINAL */ 00904000
*                                        /*JOB.                      */ 00905000
*                  3    LWAJJCL BIT(1),  /*JCL FOR TERMINAL JOB WAS  */ 00906000
*                                        /*SUPPLIED BY AN INSTALLA-  */ 00907000
*                                        /*TION EXIT ROUTINE.        */ 00908000
*                  3    LWANUADE BIT(1), /*IF EQUAL TO '1'B AND         00909000
*                                          LWANOPR = '1'B AND           00910000
*                                          LWANUAD = '1'B THEN THE      00911000
*                                          INSTALLATION EXIT HAS GIVEN  00912000
*                                          PERMISSION TO READ THE UADS  00913000
*                                          BUT ONLY THE UADSDRBA        00914000
*                                          FIELD             @E1113KS*/ 00915000
*                  3    LWAATR1 BIT(1),  /*INFORMATION FOR THE ATR1  */ 00916000
*                                        /*FIELD OF THE PSCB WAS SUP-*/ 00917000
*                                        /*PLIED BY AN INSTALLATION  */ 00918000
*                                        /*EXIT ROUTINE.             */ 00919000
*                  3    LWAATR2 BIT(1),  /*INFORMATION FOR THE ATR2  */ 00920000
*                                        /*FIELD OF THE PSCB WAS SUP-*/ 00921000
*                                        /*PLIED BY AN INSTALLATION  */ 00922000
*                                        /*EXIT ROUTINE.             */ 00923000
*                  3    LWAUNIT BIT(1),  /*INFORMATION FOR PSCBGPNM  */ 00924000
*                                        /*FIELD OF THE PSCB WAS SUP-*/ 00925000
*                                        /*PLIED BY AN INSTALLATION  */ 00926000
*                                        /*EXIT ROUTINE.             */ 00927000
*                  3    LWABUPT BIT(1),  /*INFORMATION FOR USER PRO- */ 00928000
*                                        /*FILE TABLE WAS SUPPLIED BY*/ 00929000
*                                        /*AN INSTALLATION EXIT RTN. */ 00930000
*                  3    LWANONQ BIT(1),  /*LOGON WILL NOT MAINTAIN AN*/ 00931000
*                                        /*ENQ ON THE RESOURCE'SYSUAD*/ 00932000
*                                        /*USERID' DURING THE USER'S */ 00933000
*                                        /*SESSION.                  */ 00934000
*                  3    LWADEST BIT(1),  /*IF 1, INSTALLATION  Y02664*/ 00935000
*                                        /*EXIT HAS SUPPLIED   Y02664*/ 00936000
*                                        /*DEFAULT DEST.       Y02664*/ 00937000
*                  3    LWABEND BIT(1),  /*IF 1, INSTALLATION  Y02653*/ 00938000
*                                        /*EXIT IS GETTING     Y02653*/ 00939000
*                                        /*CONTROL AFTER ABEND Y02653*/ 00940000
*                  3    LWAMAIL BIT(1),  /* 1=NOMAIL RQST    @E1113KJ*/ 00941000
*                  3    LWANOTC BIT(1),  /* 1=NONOTICE RQST  @E1113KJ*/ 00942000
*                  3    LWAOID  BIT(1),  /* 1=NOOID RQST     @E1113KJ*/ 00943000
*                  3    LWANFSL BIT(1),  /* 1=NO FULLSCREEN LOGON       00944000
*                                                            @OZ65807*/ 00945000
*                  3    LWASPASS BIT(1), /* 1=PASSWORD STORED IN TSB    00946000
*                                                            @PBY0251*/ 00947000
*                  3    LWASUBH BIT(1),  /* 1=EXIT SUPPLIED SUBMIT      00948000
*                                           HOLD CLASS        @1502S5*/ 00949000
*                  3    LWASUBC BIT(1),  /* 1=EXIT SUPPLIED SUBMIT      00950000
*                                           CLASS             @1502S5*/ 00951000
*                  3    LWASUBM BIT(1),  /* 1=EXIT SUPPLIED SUBMIT      00952000
*                                           MESSAGE CLASS     @1502S5*/ 00953000
*                  3    LWASOUT BIT(1),  /* 1=EXIT SUPPLIED SYSOUT      00954000
*                                           CLASS             @1502S5*/ 00955000
*             2    LWATSOLV FIXED(8),    /* LWA LEVEL        @E1502S5*/ 00956000
*             2    LWARTCD FIXED(31),    /*RETURN CODE SET BY IKJEFLK*/ 00957000
*             2    LWANAME BDY(WORD),     /* EPLOC FOR ATTACH/XCTL    */00958000
*                                        /* NAME                     */ 00959000
*                  3    LWARNML CHAR(1), /* USED FOR MINOR           */ 00960000
*                                        /*   RESOURCE NAME          */ 00961000
*                                        /*   LENGTH TO ENQ/DEQ      */ 00962000
*                  3    LWARNM CHAR(7),  /*   USED FOR MINOR         */ 00963000
*                                        /*   RESOURCE NAME          */ 00964000
*                                        /*   IMAGE                  */ 00965000
*             2    LWANQDQ CHAR(12),     /*   USED FOR ENQ/DEQ       */ 00966000
*                                        /*   PARAMETER LIST         */ 00967000
*             2    LWAELST,              /* ECB LIST HEADER          */ 00968000
*                  3    LWAAECBP PTR(31), /* PTR TO LWAAECB          */ 00969000
*                  3    LWAPECBP PTR(31), /* PTR TO LWAPECB          */ 00970000
*                       4    LWAEOEL BIT(1), /* END OF LIST BIT      */ 00971000
*             2    LWARCDE FIXED(31),    /* RTN CODE SET BY IKJEFLJ  */ 00972000
*             2    LWATCPU FIXED(32),    /*2 WORDS USED FOR    Y02669*/ 00973000
*             2    LWATCPU1 FIXED(32),   /*TOTAL CPU TIME USED Y02669*/ 00974000
*                                        /*FOR THIS ACCOUNTING Y02669*/ 00975000
*                                        /*PERIOD.             Y02669*/ 00976000
*             2    LWATSRU FIXED(32),    /*2 WORDS USED FOR    Y02669*/ 00977000
*             2    LWATSRU1 FIXED(32),   /*TOTAL SERVICE UNITS Y02669*/ 00978000
*                                        /*USED DURING THIS    Y02669*/ 00979000
*                                        /*ACCT PERIOD.        Y02669*/ 00980000
*             2    LWATCON FIXED(32),    /*2 WORDS USED FOR    Y02669*/ 00981000
*             2    LWATCON1 FIXED(32),   /*TOTAL CONNECT TIME  Y02669*/ 00982000
*                                        /*USED DURING THIS    Y02669*/ 00983000
*                                        /*ACCT PERIOD.        Y02669*/ 00984000
*             2    LWASTCB PTR(31),      /*TCB ADDR IKJEFLA    Y02669*/ 00985000
*             2    LWADEST2 CHAR(8),     /*USERID FOR SYSOUT-  Y02664*/ 00986000
*                                        /*TO REMOTE ENTRY-    Y02664*/ 00987000
*                                        /*STATION.            Y02664*/ 00988000
*             2    LWAGBWKA PTR(31),     /*POINTER TO WORK     Y02669*/ 00989000
*                                        /*AREA FOR IKJEFLGB   Y02669*/ 00990000
*             2    LWASWKA PTR(31),      /*POINTER TO WORK     Y02669*/ 00991000
*                                        /*AREA FOR IKJEFLS    Y02669*/ 00992000
*             2    LWAXXXX PTR(31),      /*AREA RESERVED FOR @ZA37653*/ 00993000
*                                        /*TSO SESSON MGR    @ZA37653*/ 00994000
*             2    LWASPF  PTR(31),      /*POINTER TO WORK   @ZA30872*/ 00995000
*                                        /*AREA FOR SPF      @ZA30872*/ 00996000
*             2    LWATCB02  PTR(31),    /*POINTER TO TCB    @OZ41376*/ 00997000
*                                        /*FOR IKJEFT02      @OZ41376*/ 00998000
*             2    LWASVAL  PTR(31),     /*POINTER TO I/O SERVICES      00999000
*                                          STACK VALIDATION TABLE       01000000
*                                                            @E1502S4*/ 01001000
*                3 LWASER BIT(1),        /* STACK TABLE SERIALIZATION   01002000
*                                           BIT              @E1502S4*/ 01003000
*             2    LWASRWA PTR(31),      /*POINTER TO SERVIC @E1213F4*/ 01004000
*                                        /*ROUTINE WORK AREA @E1213F4*/ 01005000
*             2    LWATAP PTR(31),       /* TABLE OF AUTHORIZED         01006000
*                                           PROGRAMS SUPPORTED BY       01007000
*                                           THE TSO SERVICE FACILITY    01008000
*                                                            @OZ96882*/ 01009000
*             2    LWALACT PTR(31),      /* OFFSET ACCT      @E1113KJ*/ 01010000
*                                        /* OFFSET BLOCK     @E1113KJ*/ 01011000
*             2    LWALPRC PTR(31),      /* OFFSET PROC NAME @E1113KJ*/ 01012000
*                                        /* OFFSET BLOCK     @E1113KJ*/ 01013000
*             2    LWALRGN FIXED(31),    /* LOGON REGION     @E1113KJ*/ 01014000
*                                        /* SIZE             @E1113KJ*/ 01015000
*             2    LWALPGN FIXED(15),    /* PERFORMANCE      @E1113KJ*/ 01016000
*                                        /* GROUP            @E1113KJ*/ 01017000
*             2    LWALGCMD CHAR(80),    /*LOGON COMMAND     @E1113KJ*/ 01018000
*             2 LWAFLGS5 BIT(8),  /* LOGON INDICATORS        @YA06845*/ 01019000
*               3 LWALPA BIT(1),  /* IKJEFLPA IS IN CONTROL  @YA06845*/ 01020000
*               3 LWALJA BIT(1),  /* IKJEFLJA IS IN CONTROL  @YA06845*/ 01021000
*               3 LWALJH BIT(1),  /* IKJEFLJH IS IN CONTROL  @YA06845*/ 01022000
*               3 LWALJU BIT(1),  /* IKJEFLJU IS IN CONTROL  @YA06845*/ 01023000
*               3 LWALIO BIT(1),  /* IKJEFLIO IS IN CONTROL  @YA06845*/ 01024000
*               3 LWACHECK BIT(1),  /* FLE detected bad UADS @YA17858*/ 01025000
*               3 LWATSOGR BIT(1),  /* Indicates TSO/GR path of         01026190
*                                      "Reconnect in use"        @L1A*/ 01026380
*               3 *      BIT(1),    /* RESERVED                  @L1C*/ 01026570
*             2 LWARSVD4 BIT(8),  /* RESERVED                @YA06845*/ 01027000
*             2 LWATMPW3 PTR(31), /* PTR TO TMP WORK AREA 3  @E1213G8*/ 01028000
*             2 LWASRWAA BDY(WORD), /* SRWA AREA             @E1213F4*/ 01029000
*/********************************************************************/ 01030000
*/*                                                                  */ 01031000
*/* DECLARE -                                                        */ 01032000
*/*     ADDRESSES OF DYNAMIC AREAS IN THE SRWA.                      */ 01033000
*/*                                                                  */ 01034000
*/***********************************************************@E2267I2*/ 01035000
*             3 LWAEFT30 PTR(31), /* PTR TO IKJEFT30 STORAGE @E1213F4*/ 01036000
*             3 LWAEFT40 PTR(31), /* PTR TO IKJEFT40 STORAGE @E1213F4*/ 01037000
*             3 LWAEFT45 PTR(31), /* PTR TO IKJEFT45 STORAGE @E1213F4*/ 01038000
*             3 LWAEFT52 PTR(31), /* PTR TO IKJEFT52 STORAGE @E1213F4*/ 01039000
*             3 LWAEFT53 PTR(31), /* PTR TO IKJEFT53 STORAGE @E1213F4*/ 01040000
*             3 LWARSV1  PTR(31), /* RESERVED FOR FUTURE USE @DG10015*/ 01041000
*             3 LWAEFT55 PTR(31), /* PTR TO IKJEFT55 STORAGE @E1213F4*/ 01042000
*             3 LWAEFT56 PTR(31), /* PTR TO IKJEFT56 STORAGE @E1213F4*/ 01043000
*             3 LWARBBMC PTR(31), /* PTR TO IKJRBBMC STORAGE @E1213F4*/ 01044000
*             3 LWACT440 PTR(31), /* PTR TO IKJCT440 STORAGE @E1213F4*/ 01045000
*/********************************************************************/ 01046000
*/*                                                                  */ 01047000
*/* DECLARE -                                                        */ 01048000
*/*      ADDRESSES OF THE COMMAND AND PROGRAM TABLES.                */ 01049000
*/*        TO ADDRESS THE FIRST COMMAND OR PROGRAM                   */ 01050000
*/*         ENTRY OF ANY OF THE FOLLOWING TABLES,                    */ 01051000
*/*         YOU MUST ADD A DISPLACMENT OF 16 TO THE                  */ 01052000
*/*         POINTER.                                                 */ 01053000
*/*                                                                  */ 01054000
*/***********************************************************@E2267I2*/ 01055000
*             3 LWATNS   PTR(31), /* PTR TO IKJEFTNS         @E2267I2*/ 01056000
*             3 LWATE2   PTR(31), /* PTR TO IKJEFTE2         @E121324*/ 01057000
*             3 LWATE8   PTR(31), /* PTR TO IKJEFTE8         @E121324*/ 01058000
*/********************************************************************/ 01059000
*/*                                                                  */ 01060000
*/* DECLARE -                                                        */ 01061000
*/*     ADDRESSES OF LAR SAVEAREAS IN THE SRWA.                      */ 01062000
*/*                                                                  */ 01063000
*/***********************************************************@E2267I2*/ 01064000
*             3 LWARSV2  PTR(31),                                       01065000
*                 /* RESERVED FOR FUTURE USE                 @DG10015*/ 01066000
*             3 LWARSV3  PTR(31),                                       01067000
*                 /* RESERVED FOR FUTURE USE                 @DG10015*/ 01068000
*             3 LWARSV4  PTR(31),                                       01069000
*                 /* RESERVED FOR FUTURE USE                 @DG10015*/ 01070000
*             3 LWASTCK  PTR(31),                                       01071000
*                 /* ADDRESS OF STACK   LAR SAVEAREA         @E2267I2*/ 01072000
*             3 LWAPUTL  PTR(31),                                       01073000
*                 /* ADDRESS OF PUTLINE LAR SAVEAREA         @E2267I2*/ 01074000
*             3 LWAPTGT  PTR(31),                                       01075000
*                 /* ADDRESS OF PUTGET  LAR SAVEAREA         @E2267I2*/ 01076000
*             3 LWAGETL  PTR(31),                                       01077000
*                 /* ADDRESS OF GETLINE LAR SAVEAREA         @E2267I2*/ 01078000
*             3 LWAC441  PTR(31),                                       01079000
*                 /* ADDRESS OF CLIST VARIABLE LAR SAVEAREA  @E2267I2*/ 01080000
*             3 LWAPHAS2 PTR(31),                                       01081000
*                 /*  ADDRESS OF CLIST PHASE2 WORKAREA       @YA01377*/ 01082000
*             3 LWARSV5  PTR(31),                                       01083000
*                 /* RESERVED FOR FUTURE USE                 @DG10015*/ 01084000
*             3 LWARSV6  PTR(31),                                       01085000
*                 /* RESERVED FOR FUTURE USE                 @DG10015*/ 01086000
*/***********************************************************@E2267I2*/ 01087000
*             3 LWAIOBUF PTR(31),  /* PTR TO I/O BUFFER USED BY         01088000
*                                     LOGON FOR THE READING AND         01089000
*                                     WRITING OF SYS1.UADS   @E2267I2*/ 01090000
*             3 LWABLK   CHAR(1),  /* INDICATES WHICH BLOCK OF DATA     01091000
*                                     IN SYS1.UADS THAT LWAIOBUF        01092000
*                                     POINTS TO              @E2267I2*/ 01093000
*             3 LWARESV4 CHAR(3),  /* RESERVED               @E2267I2*/ 01094000
*             3 LWALWC   PTR(31),  /* POINTS TO LWC          @ZA87103*/ 01095000
*             3 LWAECBA  PTR(31),  /* ECB POINTER FOR COMMUNICATION     01096000
*                                    BETWEEN IKJEFLG (ATTENTION         01097000
*                                    ROUTINE) AND OTHER MODULES         01098000
*                                                            @ZA87103*/ 01099000
*             3 LWACTDBC PTR(31),  /* POINTER TO SRWA        @E1402C1*/ 01100000
*                                  /* STORAGE FOR IKJCTDBC   @E1402C1*/ 01101000
*             3 LWARAP   PTR(31),  /* POINTER TO THE TSO RACF           01102000
*                                      PARAMETER LIST        @E1402H1*/ 01103000
*             3 LWAEXITP   PTR(31),/* POINTER TO LOCAL EXITS/TABLES     01104000
*                                      VECTOR                @E1402H1*/ 01105000
*             3 LWAWHOIF FIXED(31),/* INDICATES WHO OBTAINED THE LOGON  01106000
*                                     DEFAULT INFORMATION - LWAWHOXX    01107000
*                                     FOR LIST OF CONSTANTS  @E1402H1*/ 01108000
*             3 LWALACCT CHAR(40), /* ACCOUNT NUMBER USER LOGGED ON     01109000
*                                     WITH                   @E1402H1*/ 01110000
*             3 LWALPROC CHAR(8),  /* PROCEDURE NAME USER LOGGED ON     01111000
*                                     WITH                   @E1402H1*/ 01112000
*             3 LWAFLAG1 BIT(8),   /* CONTROL FLAGS          @PD70274*/ 01113000
*                  4    LWANOUA BIT(1),  /* 1 - INDICATES THAT THE      01114000
*                                        UADS DATA SET DOES NOT EXIST   01115000
*                                                            @PD70274*/ 01116000
*                  4    LWAIPLWO BIT(1), /* 1 - INDICATES TO ISSUE      01117000
*                                               WTO          @PD70274*/ 01118000
*                  4    LWARECON BIT(1), /* 1 - LOGON RECONNECT         01119000
*                                        SPECIFIED.          @DEI0031*/ 01120000
*                  4    LWARFLEA BIT(1), /* 1 - LOGON RECONNECT issued  01121000
*                                     during line mode logon @DEI0031*/ 01122000
*                  4    LWANETL  BIT(1), /* 1 - No exits were found     01123000
*                                     in STEPLIB or LINKLIST @E23D2D5*/ 01124000
*                  4    LWA622AB BIT(1), /* 1 - 622 abend occurred      01125000
*                                                            @YA35424*/ 01126000
*                  4    LWANEWPW BIT(1), /* 1 - User specified new      01127190
*                                               password     @WA24252*/ 01127380
*                  4    *        BIT(1), /* RESERVED         @WA24252*/ 01127570
*             3 LWAFLAG2 BIT(16),  /* FOR FUTURE USE         @E1502S5*/ 01128000
*             3 LWACTLS2 BIT(8),   /* REMAINING CONTROL FLAGS FOR THE   01129000
*                                     PRE-PROMPT EXIT        @E1502S5*/ 01130000
*                  4    LWACMD  BIT(1),  /* 1 - INSTALLATION SUPPLIED   01131000
*                                        A FIRST COMMAND     @E1502S5*/ 01132000
*                  4    LWARBA  BIT(1),  /* 1 - INSTALLATION SUPPLIED   01133000
*                                               AN RBA       @E1502S5*/ 01134000
*                  4    LWASECLB BIT(1), /* 1- EXIT SUPPLIED A SECLABEL 01135000
*                                                            @PG10091*/ 01136000
*                  4    LWACNPR BIT(1),  /* 1 - INSTALLATION EXIT       01137000
*                                           SUPPLIED CONSOLE PROFILE    01138000
*                                                            @YA34939*/ 01139000
*                  4    LWAPLANG BIT(1), /*  1- EXIT SUPPLIED A PRIMARY 01140000
*                                           LANGUAGE         @PG10091*/ 01141000
*                  4    LWASLANG BIT(1), /*  1- EXIT SUPPLIED A         01142000
*                                           SECONDARY LANGUAGE          01143000
*                                                            @PG10091*/ 01144000
*                  4    LWANOSAV BIT(1), /*  1- EXIT DOES NOT WANT FULL 01145000
*                                           SCREEN FIELDS SAVED IN THE  01146000
*                                           TSO SEGMENT      @YA34047*/ 01147000
*                  4    *       BIT(1),  /* RESERVED FOR USE BY FLD1    01148000
*                                           INSTALLATION EXIT INTER-    01149000
*                                           FACES ONLY       @YA34047*/ 01150000
*             3 LWARTRAS PTR(31),  /* AUTHORIZED DYNAMIC STORAGE ADDR   01151000
*                                     FOR EXIT ROUTER        @PD70359*/ 01152000
*             3 LWARSV7    PTR(31),/* RESERVED FOR FUTURE USE           01153000
*                                                            @DG10015*/ 01154000
*             3 LWASRWA1   PTR(31),/* POINTER TO THE KEY 1 AREA OF      01155000
*                                     THE SRWA               @E1502S4*/ 01156000
*             3 LWARSV8    PTR(31),/* RESERVED FOR FUTURE USE           01157000
*                                                            @DG10015*/ 01158000
*             3 LWADCBCT   PTR(31),/* NUMBER OF DCBS CURRENTLY OPEN     01159000
*                                                            @E1502S3*/ 01160000
*             3 LWAT441R    PTR(31), /* PTR TO IKJCT441 STORAGE         01161000
*                                                            @E21D2G9*/ 01162000
*             3 LWARSV9     PTR(31),    /* RESERVED FOR FUTURE USE      01163000
*                                                            @DG10015*/ 01164000
*             3 LWARSV10    PTR(31),    /* RESERVED FOR FUTURE USE      01165000
*                                                            @DG10015*/ 01166000
*             3 LWAPROSP PTR(31),       /* ADDR of key 1 stack          01167000
*                                                            @E21D2G9*/ 01168000
*             3 LWAPRMLB PTR(31),       /* PARMLIB FLAGS     @E1502I7*/ 01169000
*                  4    LWATAPST BIT(1), /* 1 - INDICATES TAP CAME FROM 01170000
*                                        STEPLIB             @E1502I7*/ 01171000
*                  4    LWATNSST BIT(1), /* 1 - INDICATES TNS CAME FROM 01172000
*                                        STEPLIB             @E1502I7*/ 01173000
*                  4    LWATE2ST BIT(1), /* 1 - INDICATES TE2 CAME FROM 01174000
*                                        STEPLIB             @E1502I7*/ 01175000
*                  4    LWATE8ST BIT(1), /* 1 - INDICATES TE8 CAME FROM 01176000
*                                        STEPLIB             @E1502I7*/ 01177000
*             3 LWATAPLN FIXED(15), /* LENGTH OF TAP         @E1502I7*/ 01178000
*             3 LWATNSLN FIXED(15), /* LENGTH OF TNS         @E1502I7*/ 01179000
*             3 LWATE2LN FIXED(15), /* LENGTH OF TE2         @E1502I7*/ 01180000
*             3 LWATE8LN FIXED(15), /* LENGTH OF TE8         @E1502I7*/ 01181000
*             3 LWAGENER FIXED(15), /* PARMLIB GENERATION COUNT         01182000
*                                                            @E1502I7*/ 01183000
*             3 LWALSECL    CHAR(8), /* SECLABEL             @E21X2B1*/ 01184000
*             3 *        CHAR(8),   /* RESERVED FIELD        @PEI0904*/ 01185000
*             3 LWARSVD1 FIXED(15), /* For doubleword boundary          01186000
*                                                            @E21D2G9*/ 01187000
*             3 LWA00026    PTR(31), /* PTR TO IGX00026 STORAGE         01188000
*                                                            @PEI0524*/ 01189000
*             3 LWA00027    PTR(31), /* PTR TO IGX00027 STORAGE         01190000
*                                                            @PEI0524*/ 01191000
*             3 LWACT429    PTR(31), /* PTR TO IKJCT429 STORAGE         01192000
*                                                            @PEI0524*/ 01193000
*             3 LWARSV11    PTR(31), /* RESERVED FOR FUTURE USE         01194000
*                                                            @DG10015*/ 01195000
*             3 LWARSV12    PTR(31), /* RESERVED FOR FUTURE USE         01196000
*                                                            @DG10015*/ 01197000
*             3 LWASVTAD    PTR(31), /* ADDRESS OF STACK VALIDATION     01198000
*                                       TABLE JOBSTEP TCB STORAGE       01199000
*                                                            @PEI0493*/ 01200000
*             3 LWASTGST    PTR(31), /* ADDRESS OF KEY 8 STORAGE STACK  01201000
*                                       DATA AREA            @DG10015*/ 01202000
*             3 LWASTGEN    PTR(31), /* END ADDRESS OF KEY 8 STORAGE    01203000
*                                      STACK STORAGE AREA    @DG10015*/ 01204000
*             3 LWACNCCB    PTR(31),  /* POINTER TO THE CONSOLE CONTROL 01205000
*                                       BLOCK (CNCCB)        @E22D2D3*/ 01206000
*             3 LWACNPRF    CHAR(24), /* CONSOLE PROFILE AT LOGON       01207000
*                                       TIME                 @E22D2D3*/ 01208000
*             3 LWATERM     PTR(31),  /* PARAMETER RETURNED FROM GTTERM 01209000
*                                       DURING LOGON         @E22D2SC*/ 01210000
*             3 LWATOKEN    CHAR(8) BDY(WORD), /* Stack token value     01211000
*                                                            @YA26357*/ 01212000
*             3 LWAADVLF    PTR(31), /* Points to ALTLIB and VLF        01213000
*                                       segment              @YA28059*/ 01214000
*             3 LWAVCPPL    PTR(31),  /* ADDRESS OF CPPL CREATED BY     01215000
*                                       TSO ENV. SERVICE     @E23D2DB*/ 01216000
*             3 LWAVECBP    PTR(31),  /* ADDRESS OF ECB CREATED BY      01217000
*                                       TSO ENV. SERVICE     @E23D2DB*/ 01218000
*             3 LWAVJST     PTR(31),  /* ADDRESS OF JOBSTEP TCB THAT    01219000
*                                       OWNS THE TSO ENV.    @E23D2DB*/ 01220000
*             3 LWAVFLGS    PTR(32),  /* FLAGS FOR TSO ENVIRONMENT      01221000
*                                       SERVICE              @E23D2DB*/ 01222000
*                5 LWATSENV BIT(1),   /* INDICATES NON-TMP TSO          01223000
*                                       CREATED              @E23D2DB*/ 01224000
*                5 LWASYSIN BIT(1),   /* INDICATES SYSTSIN ALLOCATED    01225000
*                                       BY IKJPCENV AS DUMMY @E23D2DB*/ 01226000
*                5 LWASYSPR BIT(1),   /* INDICATES SYSTSPRT ALLOCATED   01227000
*                                       BY IKJPCENV AS DUMMY @E23D2DB*/ 01228000
*                5 LWAVBKGD BIT(1),   /* TSO ENVIRONMENT INITIALIZED    01229000
*                                       WITH BACKGROUND MODE @E23D2DB*/ 01230000
*                5 LWATE2LD BIT(1),   /* IKJEFTE2 LOADED     @E23D2DB*/ 01231000
*                5 LWATE8LD BIT(1),   /* IKJEFTE8 LOADED     @E23D2DB*/ 01232000
*                5 LWATAPLD BIT(1),   /* IKJEFTAP LOADED     @E23D2DB*/ 01233000
*                5 LWATNSLD BIT(1),   /* IKJEFTNS LOADED     @E23D2DB*/ 01234000
*             3 LWATSLEN  FIXED(32),  /* TSO TABLES LENGTH IF THEY WERE 01235000
*                                       COPIED FROM STEPLIB  @E23D2DB*/ 01236000
*             3 LWATMPPB    PTR(31), /* ADDRESS OF TMP PLATFORM BLOCK   01237000
*                                                            @E23D2I6*/ 01238000
*             3 LWADYSEG    PTR(31), /* Address of the IKJDYSEG         01239000
*                                       segment              @E25D2JC*/ 01240000
*             3 LWADTSEG    PTR(31), /* Pointer to the                  01241000
*                                       DT segment           @E25D2JC*/ 01242000
*             3 LWAISPDT    PTR(31), /* Pointer reserved for            01243000
*                                       ISPF DT support.     @E25D2JC*/ 01244000
*             3 LWAMSRM@    PTR(31), /* Address of IKJMSRM0             01245390
*                                       control Block            @L1A*/ 01245780
*             3 LWATSTTR    PTR(31), /* Address of SVQ (used            01246260
                                        by TEST command)         @L2A*/ 01246350
*             3 LWAFREE(6)  PTR(31), /* Reserved room for later use     01246440
*                                                                @L2C*/ 01246530
*/***********************************************************@E2267I2*/ 01247000
*        2 * CHAR(0) BDY(DWORD);/* FORCE DOUBLEWORD BOUNDRY  @E2267I2*/ 01248000
*                                                                       01249000
*                                                                       01250000
* DCL LENLWA FIXED(31) CONSTANT(LENGTH(LWA));   /* LENGTH OF THE LWA    01251000
*                                                            @ZTS0046*/ 01252000
* DCL LWALVTSO FIXED(8) CONSTANT(60);           /* INDICATE THIS IS     01253000
*                                                  LWA LEVEL TSO/E      01254000
*                                                  V2 R2     @E22D2SC*/ 01255000
*/********************************************************************/ 01256000
*/*    CONSTANTS FOR WHO OBTAINED THE LOGON DEFAULT          @E1402H1*/ 01257000
*/*    INFORMATION (LWAWHOIF).                               @E1402H1*/ 01258000
*/********************************************************************/ 01259000
*                                                                       01260000
* DCL LWAWHOIN FIXED(31) CONSTANT(0),/*USED IN INITIALIZING THE         01261000
*                                LOGON DEFAULT INFORMATION   @E1402H1*/ 01262000
*     LWAWHORA FIXED(31) CONSTANT(10), /*RACF SUPPLIED THE              01263000
*                                LOGON DEFAULT INFORMATION   @E1402H1*/ 01264000
*     LWAWHOUA FIXED(31) CONSTANT(20); /*UADS SUPPLIED THE              01265000
*                                LOGON DEFAULT INFORMATION   @E1402H1*/ 01266000
*@EJECT;                                                                01267000
*/********************************************************************/ 01268000
*/*                                                                  */ 01269000
*/*    I K J E F L J  R E T U R N  C O D E S                         */ 01270000
*/*                                                                  */ 01271000
*/********************************************************************/ 01272000
*                             /* SWA MANAGER ERROR                   */ 01273000
*LWASWAR:    GEN(EQU   4);                                              01274000
*                             /* MULTI-STEP PROC                     */ 01275000
*LWAMSPE:    GEN(EQU   16);                                             01276000
*/********************************************************************/ 01277000
*/*                                                                  */ 01278000
*/*    P O S T  C O D E S  F O R  P E C B  E C B                     */ 01279000
*/*                                                                  */ 01280000
*/********************************************************************/ 01281000
*                             /* INIT PHASE DONE POST CODE           */ 01282000
*INITDONE:   GEN(EQU  4);                                               01283000
*                             /* ENQ ON USER ID POST CODE            */ 01284000
*NQUSERID:   GEN(EQU  8);                                               01285000
*                             /* DQ ON USER ID                       */ 01286000
*DQUSERID:   GEN(EQU  12);                                              01287000
*                             /* PHASE ONE PRONPTING DONE POST CODE  */ 01288000
*SCHEDULE:   GEN(EQU  16);                                              01289000
*                             /* MESSAGE BROADCASTING DONE POST CODE */ 01290000
*BCDONE:     GEN(EQU  20);                                              01291000
*                             /* TERMINATE THE JOB POST CODE         */ 01292000
*TERMINAT:   GEN(EQU  24);                                              01293000
*/********************************************************************/ 01294000
*/*                                                                  */ 01295000
*/*         P O S T  C O D E S  F O R  S E C B  E C B                */ 01296000
*/*                                                                  */ 01297000
*/********************************************************************/ 01298000
*                             /* NQDQ RETURN CODES                   */ 01299000
*NQDQ0:      GEN(EQU  0);                                               01300000
*                             /* NQDQ RETURN CODES                   */ 01301000
*NQDQ4:      GEN(EQU  4);                                               01302000
*                             /* NQDQ RETURN CODES                   */ 01303000
*NQDQ8:      GEN(EQU  8);                                               01304000
*                             /* START PHASE 2 PROMPTING             */ 01305000
*STARTP2:    GEN(EQU  16);                                              01306000
*                             /* INITATOR READY TO POST              */ 01307000
*INITRDY:    GEN(EQU  20);                                              01308000
*                             /* TERMINATE PROMPTING TASK            */ 01309000
*ENDTASK:    GEN(EQU  24);                                              01310000
*                                                                       01311000
* DECLARE (               /* DECLARE THE ABOVE LABELS        @E2267I2*/ 01312000
*          LWASWAR,                                        /*@E2267I2*/ 01313000
*          LWAMSPE,                                        /*@E2267I2*/ 01314000
*          INITDONE,                                       /*@E2267I2*/ 01315000
*          NQUSERID,                                       /*@E2267I2*/ 01316000
*          DQUSERID,                                       /*@E2267I2*/ 01317000
*          SCHEDULE,                                       /*@E2267I2*/ 01318000
*          BCDONE,                                         /*@E2267I2*/ 01319000
*          TERMINAT,                                       /*@E2267I2*/ 01320000
*          NQDQ0,                                          /*@E2267I2*/ 01321000
*          NQDQ4,                                          /*@E2267I2*/ 01322000
*          NQDQ8,                                          /*@E2267I2*/ 01323000
*          STARTP2,                                        /*@E2267I2*/ 01324000
*          INITRDY,                                        /*@E2267I2*/ 01325000
*          ENDTASK                                         /*@E2267I2*/ 01326000
*         ) LABEL;                                         /*@E2267I2*/ 01327000
*                                                                       01328000
* ? DOCUMENT TITLE(DECLARE) POSITION(BOTH) TEXT(LOGON VARIABLES);       01329000
*                                                                       01330000
* DECLARE                                                               01331000
*   SYSIKJUA CONSTANT('SYSIKJUA')    /* Major name for ...      @L1C*/  01332680
*            CHAR(8),                                                   01333000
*   LOGONTCB CHAR(1) BASED;          /* USED FOR ENQ/DEQ ...        */  01334490
*                                    /* ... WITH TCB OPTION         */  01335000
* ? DOCUMENT TITLE(DECLARE) POSITION(BOTH) TEXT(MESSAGE NUMBERS);       01336000
*                                                                       01337000
* DECLARE                  /*                                    @L1A*/ 01337500
*  MSG56413 CONSTANT(15),  /* RACINIT FAILED BY RACINIT      @Z40RQKC*/ 01338000
*                          /* INSTALLATION EXIT        RC=24 @Z40RQKC*/ 01339000
*  MSG56414 CONSTANT(13),  /* NEW-PSWD FOR RACINIT INVALID   @Z40RQKC*/ 01340000
*                          /*                          RC=16 @Z40RQKC*/ 01341000
*  MSG56415 CONSTANT(52),  /* PSWD EXPIRED AND NO NEW-PSWD   @Z40RQKC*/ 01342000
*                          /*                          RC=12 @Z40RQKC*/ 01343000
*  MSG56416 CONSTANT(53),  /* RACINIT ERROR            RC=XX @Z40RQKC*/ 01344000
*                                                                       01345000
*  MSG56417 CONSTANT(54),  /* GROUP NOT DEFINED TO USER      @Z40RQKC*/ 01346000
*                          /*                          RC=20 @Z40RQKC*/ 01347000
*  MSG56419 CONSTANT(55),  /* GROUP, NEW PSWD IGNORED        @Z40RQKC*/ 01348000
*                          /* FOR NON RACF USER              @Z40RQKC*/ 01349000
*  MSG56421 CONSTANT(8),   /* PSWD NOT AUTHORIZED      RC= 8 @Z40RQKC*/ 01350270
*  MSG56421X CONSTANT(111),  /* PSWD NOT AUTHORIZED -  new password     01350380
*                               reset                        @WA17901*/ 01350570
*                                                                       01351000
*  MSG56425 CONSTANT(51),  /* RACINIT TEMPORARILY NOT        @Z40RQKC*/ 01352000
*                          /* ALLOWING USER TO LOGON   RC=28 @Z40RQKC*/ 01353000
*  MSG56426 CONSTANT(56),  /* GROUP/NEWPSWD IGNORED          @Z40NQKC*/ 01354000
*                          /* RACF NOT IN SYSTEM             @Z40NQKC*/ 01355000
*                                                                       01356000
*  /* FOLLOWING MESSAGES ARE FOR RACF V2  8/30/76     */                01357000
*                                                                       01358000
*  MSG56431 CONSTANT(57),  /* LOGON TERMINATED. NOT AUTH     @G32OPKU*/ 01359000
*                          /* TO THIS TERMINAL               @G32OPKU*/ 01360000
*  MSG56432 CONSTANT(58),  /* RECONNECT REJECTED - NOT       @G32OPKU*/ 01361000
*                          /* AUTHORIZED TO THIS TERMINAL    @G32OPKU*/ 01362000
*  MSG56433 CONSTANT(59),  /* OIDCARD IS NOT AUTHORIZED      @G32OPKU*/ 01363000
*  MSG56434 CONSTANT(60),  /* OIDCARD IS REQUIRED            @G32OPKU*/ 01364000
*  MSG56435 CONSTANT(61),  /* NOT A VALID OIDCARD            @G32OPKU*/ 01365000
*  MSG56436 CONSTANT(62),  /* LOGON TERMINATED- OIDCARD NOT  @G32OPKU*/ 01366000
*                          /* SUPPORTED FOR THIS TERMIN TYPE @G32OPKU*/ 01367000
*  MSG56437 CONSTANT(63),  /* ENTER OIDCARD                  @G32OPKU*/ 01368000
*  MSG56438 CONSTANT(64),  /* USE OF GROUP HAS BEEN REVOKED  @G32OPKU*/ 01369000
*  MSG56439 CONSTANT(65),  /* ENTER NEW GROUP NAME           @G32OPKU*/ 01370000
*  MSG56440 CONSTANT(66),  /* RECONNECT REJECTED- PSWD       @G32OPKU*/ 01371000
*                          /* INVALID FOR RACF               @G32OPKU*/ 01372000
*  MSG56441 CONSTANT(67),  /* RECONNECT REJECTED- GROUP NOT  @G32OPKU*/ 01373000
*                          /* AUTHORIZED                     @G32OPKU*/ 01374000
*  MSG56442 CONSTANT(68),  /* RECONNECT REJECTED BY RACF     @G32OPKU*/ 01375000
*                          /* INSTALLATION EXIT              @G32POKU*/ 01376000
*  MSG56443 CONSTANT(69),  /* RECONNECT REJECTED- USER ACCESS@G32OPKU*/ 01377000
*                          /* REVOKED BY RACF                @G32OPKU*/ 01378000
*  MSG56444 CONSTANT(70),  /* RECONNECT REJECTED- USE OF     @G32OPKU*/ 01379000
*                          /* GROUP HAS BEEN REJECTED        @G32OPKU*/ 01380000
*  MSG610   CONSTANT(81),  /* RACF INACTIVE MESSAGE          @E1402H1*/ 01381000
*  MSG611   CONSTANT(82),  /* TSOLOGON TERMINATED RACF ERROR @E1402H1*/ 01382000
*  MSG56488 CONSTANT(84),  /* USER ID NOT AUTHORIZED         @E1402H1*/ 01383000
*  MSG56489 CONSTANT(85),  /* PERFORMANCE GROUP IS NOT DEFINED          01384000
*                                                            @E1402H1*/ 01385000
*  MSG56490 CONSTANT(86),  /* PERFORMANCE GROUP IS NOT AUTHORIZED       01386000
*                                                            @E1402H1*/ 01387000
*  MSG56493 CONSTANT(87),  /* RECONNECT FAIL - TERMINAL CAN NOT BE      01388000
*                             USED                           @E1402H1*/ 01389000
*  MSG56494 CONSTANT(88),  /* LOGON FAILED - TERMINAL CAN NOT BE        01390000
*                             USED                           @E1402H1*/ 01391000
*  MSG612   CONSTANT(89),  /* TSOLOGON TERMINATED USER XXX IS NOT       01392000
*                             DEFINED TO ANY PROCEDURE NAMES @E1402H1*/ 01393000
*  MSG613   CONSTANT(91),  /* TSOLOGON TERMINATED.  RACHECK ERROR WHILE 01394000
*                             PROCESSING CLASS XXX, RETURN CODE XXX,    01395000
*                             REASON CODE XXX, USER XXX      @E1402H1*/ 01396000
*  MSG614   CONSTANT(94),  /* UPT MIGRATION FROM UADS TO RACF FAILED    01397000
*                             FOR XXXXXXX, REASON CODE XXX   @PD70409*/ 01398000
*  MSG56498 CONSTANT(95),  /* RECONNECT FAILED - USER XXXXXXX CAN NOT   01399000
*                             ACCESS SYSTEM AT THIS TIME     @PD70448*/ 01400000
*  MSG56499 CONSTANT(96),  /* LOGON FAILED - USER XXXXXXX CAN NOT       01401000
*                             ACCESS SYSTEM AT THIS TIME     @PD70448*/ 01402000
*  MSG56471 CONSTANT(97);  /* Invalid SECLABEL               @E21X2B1*/ 01403000
* %IF TSOGR_CONST ~= 'YES' %THEN    /* Invoker needs constants   @L1A*/ 01403030
*    %GOTO TSOGR_AFTER;             /* Branch after constants    @L1A*/ 01403060
*%TSOGR_CONSTDCL:;                  /* TSO/GR Constants label    @L1A*/ 01403090
*@EJECT;                            /*                           @L1A*/ 01403120
*        /* Title: TSO/GR Messages                               @L1A*/ 01403150
* DCL                               /*T: TSO/GR Constants        @L1A*/ 01403180
*  MSG620   CONSTANT(112)         , /* Index 112 into IKJEFLGN   @L1A*/ 01403210
*  MSG620B  CONSTANT(116)         , /* msg:  JESXCF downlevel    @L1A*/ 01403220
*  MSG620C  CONSTANT(117)         , /* msg:  local JES downlevel @L1A*/ 01403230
*  MSG621   CONSTANT(113)         , /* Index 113 into IKJEFLGN   @L1A*/ 01403240
*  MSG622   CONSTANT(114)         , /* Index 114 into IKJEFLGN   @L1A*/ 01403270
*  MSG56467 CONSTANT(115)         ; /* Index 115 into IKJEFLGN   @L1A*/ 01403300
*                                                                       01403330
*        /* Title: TSO/GR Abend and Abend Reason Codes           @L1A*/ 01403360
*                                   /*                           @L1A*/ 01403390
* DCL                               /*T: Constants for Abend     @L1A*/ 01403420
*  ABND_CODE66D    BIT(32)          /*  - TSO/E abend code of 66D@L1A*/ 01403450
*                  CONSTANT('0000066D'X)                                01403480
*                                 ; /*                           @L1A*/ 01403510
* DCL                               /*T: TSO/GR Constants        @L1A*/ 01403540
*  MSR_ABND_RSN81  FIXED(31)        /*  - Decimal reason code for@L1A*/ 01403570
*                  CONSTANT(81)   , /*    invalid key/state      @L1A*/ 01403600
*  MSR_ABND_RSN82  FIXED(31)        /*  - Decimal reason code for@L1A*/ 01403630
*                  CONSTANT(82)   , /*    ESTAE setup failed     @L1A*/ 01403660
*  MSR_ABND_RSN83  FIXED(31)        /*  - Decimal reason code for@L1A*/ 01403690
*                  CONSTANT(83)   , /*    Invalid OS/390 Level   @L1A*/ 01403720
*  MSR_ABND_RSN84  FIXED(31)        /*  - Decimal reason code for@L1A*/ 01403750
*                  CONSTANT(84)   ; /*    Invalid requestor      @L1A*/ 01403780
*                                   /*                           @L1A*/ 01403810
*    %GOTO TSOGR_AFTER;             /* Branch after constants    @L1A*/ 01403840
*%TSOGR_AFTER:;                     /* After TSO/GR constants    @L1A*/ 01403870
* %IF TSOGR_CONST = 'ONLY' %THEN      /* Skip rest of cb         @L1A*/ 01403900
*    %GOTO NOADVLF;                   /* Branch to the end       @L1A*/ 01403930
*  @EJECT;                       /*                          @OZ41376*/ 01404000
*  %IF SVAL~='YES' %THEN %GOTO NOSVAL;                                  01405000
*                                                                       01406000
* ? DOCUMENT TITLE(DECLARE) POSITION(BOTH)                              01407000
*   TEXT(STACK VALIDATION TABLE);                                       01408000
*                                                                       01409000
*DCL 1 VALID_STACK_TABLE BASED,          /* MAPPING OF TABLE OF VALID   01410000
*                                         ADDRESSES          @YA20253*/ 01411000
*    2 STACK_TABLE_HEADER,          /* TABLE HEADER          @E1502S4*/ 01412000
*      3 NUMBER_OF_STACKS_IN_USE PTR,/* VALID STACK ADDRESS  @E1502S4*/ 01413000
*      3 NEXT_VALID_STACK_TABLE PTR,  /* Pointer to next Stack          01414000
*                                       Validation Table in             01415000
*                                       the chain            @YA20253*/ 01416000
*    2 VALID_STACKS CHAR(*);         /* Table to store the valid stacks 01417000
*                                                            @YA20253*/ 01418000
*                                                                       01419000
* DECLARE                                                               01420000
*       TABLE_DIM   FIXED(31) CONSTANT(14);  /* DIMENSION OF TABLE      01421000
*                                                            @YA26357*/ 01422000
* DECLARE                                                               01423000
*       TOTAL_SPACES_IN_TABLE FIXED(31) CONSTANT(25);  /* Number of     01424000
*                                    stack spots per table   @YA20253*/ 01425000
* DECLARE                                                               01426000
*    1 VALID_STACK BASED,            /* Map of valid stack element      01427000
*                                                            @YA20253*/ 01428000
*/********************************************************** @YA22390*/ 01429000
*/*  Note:  When adding new fields, be sure to update                */ 01430000
*/*         TABLE_DIM.  IGX00027 will GETMAIN storage                */ 01431000
*/*         based on this value.                                     */ 01432000
*/********************************************************** @YA22390*/ 01433000
*      3 TCB_ADDRESS PTR(31),        /* TCB address          @YA20253*/ 01434000
*      3 STACK_ADDRESS PTR(31),      /* Stack address        @YA20253*/ 01435000
*      3 ECT_ADDRESS PTR(31),        /* ECT address          @YA20253*/ 01436000
*      3 ECTEXT_ADDRESS PTR(31),     /* Address of the ECT Extension    01437000
*                                       and any contiguous storage      01438000
*                                       gotten at the                   01439000
*                                       same time.           @YA22390*/ 01440000
*      3 STK_ELEM_LOCK (10) PTR(31); /* Individual stack element lock   01441000
*                                       storage for serialization       01442000
*                                                            @YA26357*/ 01443000
*                                                                       01444000
*   %IF IOS_PARM_BASE ='' %THEN                                         01445000
*      %DO;                                               /* @YA20253*/ 01446000
*         %IOS_PARM_BASE = 'BASED(IOS_PARM_PTR)'; /* Default @YA20253*/ 01447000
*         DCL IOS_PARM_PTR PTR(31); /* Base for IOS data     @YA20253*/ 01448000
*      %END;                                              /* @YA20253*/ 01449000
*                                                                       01450000
*   DCL 1 IOS_PARM_DATA IOS_PARM_BASE, /* IOS Call information to be    01451000
*                                     passed to the services @YA20253*/ 01452000
*        3 CALLER_KEY      PTR,    /* Key of IGX00027's caller          01453000
*                                                            @YA20253*/ 01454000
*        3 CALLER_AMODE    PTR,    /* AMODE of IGX00027's caller        01455000
*                                                            @YA20253*/ 01456000
*        3 IOS_FOOTPRINT_ADDRESS PTR,/* Address of I/O Services         01457000
*                                       footprint area       @YA20253*/ 01458000
*        3 STVT_FLAGS BIT(32),     /* Fullword of flags                 01459000
*                                                            @YA20253*/ 01460000
*          5 STVT_VALIDATING_ACCESS BIT(1), /* Indicates I/O Service    01461000
*                                     code is validating access to      01462000
*                                     caller's storage. If a protection 01463000
*                                     exception (0C4) occurs while this 01464000
*                                     bit is on, it indicates that the  01465000
*                                     storage being validated was NOT   01466000
*                                     accessible to the caller, (i.e.   01467000
*                                     FETCH PROTECTED).      @YA20253*/ 01468000
*          5 STVT_STK_LOCK_OBTAINED BIT(1), /* Indicates STK lock was   01469000
*                                     obtained, and will need to be     01470000
*                                     freed later            @YA26357*/ 01471000
*          5 STVT_NEW_LOCK_OBTAINED BIT(1), /* Indicates NEW lock was   01472000
*                                     obtained, and will need to be     01473000
*                                     freed later            @YA26357*/ 01474000
*          5 STVT_STK_LOCK_FREED BIT(1), /* Indicates STK lock was      01475000
*                                     freed and needs to be obtained    01476000
*                                     when control returns   @YA26357*/ 01477000
*          5 * BIT(28),            /* Reserved               @YA26357*/ 01478000
*        3 CALLER_ECTPTR   PTR,    /* Address of caller's ECT           01479000
*                                                            @YA20253*/ 01480000
*          5 *            PTR(8),  /* For 31-BIT ECT         @YA20253*/ 01481000
*          5 CALLER_ECTLO PTR(24), /* For 24-BIT ECT         @YA20253*/ 01482000
*        3 STVT_STK_ELEMENT_LOCK@ PTR(31), /* Address of Sval table     01483000
*                                     entry lockarea         @YA26357*/ 01484000
*        3 STVT_GX27_ELEMENT_LOCK@ PTR(31), /* Address of local lock    01485000
*                                     element in IGX00027's dynamic     01486000
*                                     storage                @YA26357*/ 01487000
*        3 STVT_CREATE_ELEMENT_LOCK@ PTR(31), /* Address of Sval table  01488000
*                                     entry lockarea for newly          01489000
*                                     CREATEd stack          @YA26357*/ 01490000
*        3 STVT_NEW_ELEMENT_LOCK@ PTR(31), /* Address of local lock     01491000
*                                     element in IGX00027's dynamic     01492000
*                                     storage for IKJEFT30   @YA26357*/ 01493000
*        3 STVT_ADCAPTR   PTR(31); /* Address of the ALTLIB             01494000
*                                     communication area obtained in    01495000
*                                     IGX00027.              @YA28059*/ 01496000
* %NOSVAL: ;                                                            01497000
*  %IF ADVLF~='YES' %THEN %GOTO NOADVLF;                  /* @YA28059*/ 01498000
*                                                                       01499000
* ? DOCUMENT TITLE(DECLARE) POSITION(BOTH)                              01500000
*   TEXT(ALTLIB AND VLF SEGMENT);                         /* @YA28059*/ 01501000
*                                                                       01502000
*DCL 1 ALTLIB_VLF_SEGMENT BASED(LWAADVLF), /* Maps the storage          01503000
*                                        associated with the VLF token  01504000
*                                        and the anchor to the ALTLIB   01505000
*                                        chains.             @YA28059*/ 01506000
*      3 ADVLF_ADVLF_FLAGS BIT(32),   /* Flags associated with          01507000
*                                        VLF and ALTLIB                 01508000
*                                        processing.         @YA28059*/ 01509000
*        5 ADVLF_VLF_AVAILABLE                                          01510000
*                          BIT(1),    /* ON - IDENTIFY has              01511000
*                                        successfully completed for     01512000
*                                        DDNAME SYSPROC.  VLF           01513000
*                                        processing can start with      01514000
*                                        issuing a RETRIEVE macro.      01515000
*                                        OFF - IDENTIFY and possibly    01516000
*                                        a DEFINE need to be            01517000
*                                        done.               @YA28059*/ 01518000
*        5 *               BIT(31),   /* Reserved            @YA28059*/ 01519000
*      3 ADVLF_SYSPROC_TOKEN CHAR(16),   /* Token passed to the         01520000
*                                        VLF services for the           01521000
*                                        system level CLIST library,    01522000
*                                        DDNAME=SYSPROC      @YA28059*/ 01523000
*      3 ADVLF_ALTLIB_ALLPTR PTR(31), /* Pointer to a linked list       01524000
*                                        of ALTLIB tables               01525000
*                                        gotten with the IKJADTAB       01526000
*                                        program (zero if no linked     01527000
*                                        list exists)        @YA28059*/ 01528000
*      3 ADVLF_ALTLIB_DDNPTR PTR(31), /* Pointer to a linked list       01529000
*                                        of DDNAMEs and use counts      01530000
*                                        defined with the ALTLIB        01531000
*                                        command (zero if no linked     01532000
*                                        list exists)        @YA28059*/ 01533000
*      3 ADVLF_IKJEFT0I_DYNAREA_PTR                                     01534000
*                          PTR(31),   /* Pointer to dynamic storage     01535000
*                                        for subsequent routines        01536000
*                                        invoked from the IKJEFT0I      01537000
*                                        TERMINATE_ALTLIB               01538000
*                                        subroutine.         @YA28059*/ 01539000
*      3 ADVLF_LOCKAREA CHAR(40) BDY(DWORD), /* Used by                 01540000
*                                       ALTLIB, IKJADTAB, and EXEC      01541000
*                                       to provide serialization. RXLOC 01542000
*                                       and RXUNLOCK services are used  01543000
*                                       to provide the locking service. 01544000
*                                       This area is mapped by RXENVT.  01545000
*                                                            @YA28059*/ 01546000
*      3 *                 PTR(31),   /* Reserved to reach a            01547000
*                                        DWORD boundary      @YA28059*/ 01548000
*      3 *                 PTR(31);   /* Reserved to reach a            01549000
*                                        DWORD boundary      @YA28059*/ 01550000
*                                                                       01551000
* %NOADVLF: ;                                             /* @YA28059*/ 01552000
