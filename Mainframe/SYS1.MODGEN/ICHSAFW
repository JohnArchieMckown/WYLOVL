*        %GOTO ICH_SAFW1;                              /*               00050000
         MACRO                                                          00100000
         ICHSAFW &DSECT=YES                                             00150000
         AGO   .SAFWL2A                                */               00200000
*%ICH_SAFW1: ;                                                          00250000
*% ;                                                  /*                00300000
.SAFWL2A ANOP                                         */                00350000
*/********************************************************************/ 00400000
*/*                                                                  */ 00450000
*/*       $MAC(ICHSAFW) COMP(SC1BN) PROD(SAF):                       */ 00500000
*/*                                                                  */ 00550000
*/*       MODULE NAME = ICHSAFW                                      */ 00600000
*/*                                                                  */ 00650000
*/*       COPYRIGHT:                                                 */ 00691600
*/*         5685-001                                                 */ 00733200
*/*         THIS MACRO IS "RESTRICTED MATERIALS OF IBM"              */ 00774800
*/*         (C) COPYRIGHT IBM CORP 1980, 1989                        */ 00816400
*/*         LICENSED MATERIALS - PROPERTY OF IBM                     */ 00858000
*/*                                                                  */ 00900000
*/*       DESCRIPTIVE NAME = SAF ROUTER WORK AREA MAPPING            */ 00950000
*/*                                                                  */ 01000000
*/*       STATUS:                                                    */ 01033300
*/*         HBB4420                                                  */ 01066600
*/*                                                                  */ 01100000
*/*       FUNCTION =                                                 */ 01150000
*/*         DESCRIPTOR FOR SAF ROUTER AND RACF ROUTER WORK AREAS,    */ 01200000
*/*         GENERATED BY THE RACROUTE MACRO USER                     */ 01250000
*/*                                                                  */ 01300000
*/*       METHOD OF ACCESS =                                         */ 01350000
*/*         PL/S - %INCLUDE SYSLIB(ICHSAFW)                          */ 01400000
*/*                DECLARE SAFWPTR PTR(31)                           */ 01450000
*/*                                                                  */ 01500000
*/*         BAL -  INVOKE THE MACRO ICHSAFW.  NORMALLY, THE          */ 01550000
*/*                MACRO GENERATES A DSECT, TO BE  BASED ON          */ 01600000
*/*                A REGISTER AS SHOWN BELOW.  IF THIS IS            */ 01650000
*/*                NOT DESIRABLE, SPECIFY THE VALUE NO FOR           */ 01700000
*/*                THE DSECT KEYWORD.                                */ 01750000
*/*                                                                  */ 01800000
*/*                L       REG,SAFWPTR                               */ 01850000
*/*                USING   SAFW,REG                                  */ 01900000
*/*                                                                  */ 01950000
*/*                WHERE REG IS ANY REGISTER EXCEPT ZERO,            */ 02000000
*/*                USED FOR ADDRESSING ALL FIELDS.                   */ 02050000
*/*                                                                  */ 02100000
*/*       NOTES =                                                @01A*/ 02105000
*/*         THE MISCELLANEOUS AREA MAPPED BY SAFWMWA CAN BE USED @01A*/ 02110000
*/*         FOR DYNAMIC STORAGE BY MODULES THAT DON'T REQUIRE    @01A*/ 02115000
*/*         ANY MORE THAN THE DEFINED SIZE OF SAFWMWA WHEN THEY  @01A*/ 02120000
*/*         CAN'T GET THEIR OWN STORAGE. IF MULTIPLE MODULES     @01A*/ 02125000
*/*         OCCUR IN SUCCESSION THAT REQUIRE THIS AREA, THEN     @01A*/ 02130000
*/*         THERE WILL HAVE TO BE COORDINATION BETWEEN THESE     @01A*/ 02135000
*/*         MODULES TO DISTRIBUTE PIECES OF THIS AREA PROPERLY.  @01A*/ 02140000
*/*                                                                  */ 02145000
*/*       MACROS =                                                   */ 02150000
*/*         IEZBITS USED IN THE ASSEMBLER VERSION OF ICHSAFW         */ 02200000
*/*                 TO DEFINE BIT POSITIONS WITHIN A BYTE.           */ 02250000
*/*                                                                  */ 02300000
*/*                                                                  */ 02350000
*/*       CHANGE ACTIVITY:                                           */ 02400000
*/*         $T0=UZ90211,SAF/RF15,811014,CNTDSD:                  @T0A*/ 02450000
*/*         UZ90283                                          @ZA90283*/ 02500000
*/*         UZ90284                                          @ZA90284*/ 02550000
*/*         UZ90285                                          @ZA90285*/ 02600000
*/*         $M1=SP313   RACF/190 880615 PDI_H1: MVS/SP 3.1.3     @M1A*/ 02612500
*/*         $P1=PGP0452 RACF/190 890816 PDRTS1: MVS/SP 3.1.3     @P1A*/ 02625000
*/*         $01=OY34429 RACF/190 900823 PDRTS1: APAR OY34429     @01A*/ 02628100
*/*                                                                  */ 02650000
*/*       CHANGE DESCRIPTIONS:                                       */ 02660000
*/*       A000000-999999                                         @T0A*/ 02670000
*/*       A- ADD MISCELLANEOUS WORK AREA                         @M1A*/ 02680000
*/*       D- REMOVE RESERVED WORK AREA FOR SAF MODULES THAT GET  @P1A*/ 02683300
*/*          THEIR OWN DYNAMIC AREA.                             @P1A*/ 02686600
*/*       C- MAKE ENTIRE MISCELLANEOUS WORK AREA USEABLE TO      @01A*/ 02687700
*/*          REQUESTS THAT DO NOT GET THEIR OWN DYNAMIC AREA.    @01A*/ 02688800
*/*                                                                  */ 02690000
*/********************************************************************/ 02700000
*%;                                                                  /* 02750000
         AGO   .SAFWL4               */                                 02800000
*%GOTO ICH_SAFW3;                    /*                                 02850000
.SAFWL4  ANOP                                                           02900000
         AIF   ('&DSECT' EQ 'NO').SAFWL5                                02950000
SAFW     DSECT                                                          03000000
         AGO   .SAFWL5A                                                 03050000
.SAFWL5  ANOP                                                           03100000
SAFW     DS    0F                                                       03150000
.SAFWL5A ANOP                                                           03200000
         IEZBITS  ,                                                     03250000
SAFWCTF1 DS    BL1                 STATUS FLAGS                         03300000
SAFWEXEF EQU   BIT0                ON IF ICHRTX00 IS PRESENT            03350000
SAFWEXAF EQU   BIT1                ON IF ICHRTX00 IS CURRENTLY          03400000
*                                  EXECUTING                            03450000
SAFWRFAF EQU   BIT2                ON IF ICHRFR00 IS PRESENT            03500000
SAFWRFFP EQU   BIT3                ON IF ICHRFR00 IS CURRENTLY          03550000
*                                  EXECUTING                            03600000
*                                  (BITS 4-7 RESERVED)                  03650000
         DS    XL3                 RESERVED                             03700000
SAFWRC   DS    F                   ICHRTX00 RETURN CODE                 03750000
SAFWRSC  DS    F                   ICHRTX00 REASON CODE                 03800000
         DS    XL4                 RESERVED                             03850000
SAFWSWA  DS    CL88                SAF ROUTER WORKAREA                  03900000
SAFWRWA  DS    CL152               RACF ROUTER/ INSTALLATION EXIT       03950000
*                                  WORKAREA                             04000000
SAFWMWA  DS    CL220               RACF MISCELANOUS WORK AREA   @01C    04026000
SAFWMWA1 DS    CL24                ADDITIONAL SAF ROUTER WORKA  @M1A    04071000
         DS    CL12                RESERVED                     @M1A    04085200
         DS    0F                                                       04100000
SAFWLEN  EQU   *-SAFW                                                   04150000
         MEND                                                           04200000
*        */                                                             04250000
*%ICH_SAFW3: ;                                                          04300000
*   DCL                                                                 04350000
*     1 SAFW BASED(SAFWPTR) BDY(WORD),                                  04400000
*      2 SAFWCTF1 BIT(8),           /* STATUS FLAGS                  */ 04450000
*       3 SAFWEXEF BIT(1),          /* ON IF ICHRTX00 IS PRESENT     */ 04500000
*       3 SAFWEXAF BIT(1),          /* ON IF ICHRTX00 IS CURRENTLY      04550000
*                                      EXECUTING                     */ 04600000
*       3 SAFWRFAF BIT(1),          /* ON IF ICHRFR00 IS PRESENT     */ 04650000
*       3 SAFWRFFP BIT(1),          /* ON IF ICHRFR00 IS CURRENTLY      04700000
*                                      EXECUTING                     */ 04750000
*       3 * BIT(4),                 /* RESERVED                      */ 04800000
*      2 * CHAR(3),                 /* RESERVED                      */ 04850000
*      2 SAFWRC FIXED(31),          /* ICHRTX00 RETURN CODE          */ 04900000
*      2 SAFWRSC FIXED(31),         /* ICHRTX00 REASON CODE          */ 04950000
*      2 * CHAR(4),                 /* RESERVED                      */ 05000000
*      2 SAFWSWA CHAR(88),          /* SAF ROUTER WORKAREA           */ 05050000
*      2 SAFWRWA CHAR(152),         /* RACF ROUTER/ INSTALLATION EXIT   05100000
*                                      WORKAREA                      */ 05150000
*      2 SAFWMWA CHAR(220),         /* RACF MISCELLANOUS WORK AREA      05161100
*                                                                @01C*/ 05172200
*      2 SAFWMWA1 CHAR(24),         /* ADDITIONAL SAF ROUTER WORKA      05216600
*                                                                @M1A*/ 05227700
*      2 * CHAR(12),                /* RESERVED                  @M1C*/ 05238800
*      2 * CHAR(0) BDY(WORD);                                           05250000
*                                                                       05300000
*   DCL                                                                 05350000
*     SAFWLEN FIXED(31) CONSTANT(LENGTH(SAFW));                         05400000
