*%GOTO SCRWAPL1;                                         /*     @L6C*/  00005500
* /*                                                                */  00011000
* /*   PLS VERSION OF THE SCRATCH WORK AREA FOR MODULE IGG029AA.    */  00016500
* /*                                                                */  00022000
* /*   TO ACCESS THE PLS VERSION OF THE SCRATCH WORKAREA, CODE:     */  00027500
* /*                                                                */  00033000
* /*       %INCLUDE SYSLIB(IECSCRWA);                               */  00038500
* /*                                                                    00044000
         MACRO                                                          00050000
&LABEL   IECSCRWA &EP,&F4,&D1=(0),&D2=(0),&ADT=NO                  @L6C 00100000
.**** START OF SPECIFICATIONS ***************************************** 00150000
.*                                                                      00250000
.* $MAC(IECSCRWA):    DADSM SCRATCH WORK AREA ADDRESSING MACRO          00300000
.*                                                                      00400000
.* DESCRIPTIVE NAME = DADSM SCRATCH WORK AREA ADDRESSING MACRO          00550000
.*                                                                      00600000
* */                                                                    00616600
*/*PROPRIETARY V3 STATEMENT                                          */ 00624900
*/*LICENSED MATERIALS - PROPERTY OF IBM                              */ 00633200
*/*"RESTRICTED MATERIALS OF IBM"                                     */ 00641500
*/*5695-DF1                                                          */ 00649800
*/*(C) COPYRIGHT 1980,1991  IBM CORP.                                */ 00658100
*/*END PROPRIETARY V3 STATEMENT                                      */ 00670700
* /*                                                                    00683300
.*                                                                      00700000
.* STATUS: DFSMS/MVS 1.6.0                                            * 00750000
.*                                                                      00800000
.* FUNCTION = DADSM SCRATCH MACRO WHICH PROVIDES ADDRESSABILITY         00850000
.*            TO THE WORK AREA USED BY THE MODULES IN THE SCRATCH  @L6C 00900000
.*            SUBCOMPONENT.                                        @L6C 00950000
.*                                                                      01050000
.* NOTES = THIS MACRO IS AN INTERNAL MACRO USED IN THE FOLLOWING        01100000
.*         DADSM FUNCTIONS:                                             01150000
.*                                                                      01200000
.*             SCRATCH                                                  01250000
.*                                                                      01300000
.*         TO REFERENCE THIS WORK AREA WITHIN THE FUNCTIONS LISTED      01350000
.*         ABOVE, CODE A USING STATEMENT ON THE LABEL 'SCRTHWKA'.       01400000
.*                                                                      01450000
.*      DEPENDENCIES = THIS MACRO IS DESIGNED TO BE USED OPTIONALLY     01500000
.*                     WITH THE IECSDSL1 DSCB MAPPING MACRO, THE        01550000
.*                     PREFIX MACRO (DEFINED IN THE IECDSECS MACRO)     01600000
.*                     WHICH DEFINES THE 8 WORD WORK AREA PREFIX,       01650000
.*                     THE 20 WORD EXTENDED WORK AREA PREFIX, AND       01700000
.*                     THE 4 WORD DADSM WTG TABLE, AND THE DSMADT       01750000
.*                     MACRO (ALSO DEFINED IN THE IECDSECS MACRO)       01800000
.*                     WHICH DEFINES THE 8 WORD DADSM AUDIT TRAIL. @L8C 01850000
.*                                                                      01870000
.*                     THE SCRATCH AND RENAME WORK AREAS           @L6C 01920000
.*                     (ADDRESSED RESPECTIVELY BY MAPPING MACROS   @L6C 01970000
.*                     IECSCRWA AND IECRENWA) ARE MAPPED           @L6C 02020000
.*                     IDENTICALLY FROM 8 WORD PREFIX THROUGH      @L6C 02070000
.*                     FIELD 'INDSCB'.                             @L6C 02120000
.*                     REFER TO MACRO 'IECRENWA' AND MODULE        @L4A 02172500
.*                     'IGG0290F' TO VERIFY THAT THESE DEPENDENCIES@L4A 02175000
.*                     ARE OBSERVED.                               @L4A 02177500
.*                                                                 @L4A 02177800
.*                     THE SAF PARAMETER LIST LENGTH DEFINED BELOW @L4A 02178100
.*                     ('SAFPLIST') IS DEPENDENT ON THE LENGTHS OF @L4A 02178400
.*                     CERTAIN RACF MACROS - SEE THE DETAILED NOTES@L4A 02178700
.*                     FOLLOWING 'SAFPLIST' FOR A FULL DESCRIPTION.@L4A 02179000
.*                                                                 @L4A 02179300
.*                                                                      02180000
.*      RESTRICTIONS = NONE                                             02350000
.*                                                                      02400000
.*      REGISTER CONVENTIONS = NOT APPLICABLE                           02450000
.*                                                                      02500000
.* PATCH LABEL = NOT APPLICABLE                                         02550000
.*                                                                      02600000
.* MODULE TYPE = MACRO                                                  02650000
.*                                                                      02700000
.*      PROCESSOR = ASSEMBLER LANGUAGE                                  02750000
.*                                                                      02800000
.*      MODULE SIZE = SEE ASSEMBLER LISTING                        @L6C 02850000
.*                                                                      02900000
.*      ATTRIBUTES = NOT APPLICABLE                                     02950000
.*                                                                      03000000
.* ENTRY POINT = SCRPREFX                                               03050000
.*                                                                      03100000
.*      PURPOSE = THIS MACRO IS CALLED AT ASSEMBLY TIME BY THE          03150000
.*                FUNCTIONS LISTED UNDER 'NOTES' TO EXPAND THE          03200000
.*                SCRATCH WORK AREA.                                    03250000
.*                                                                      03300000
.*      LINKAGE =                                                       03350000
.*                                                                      03400000
.*                LABEL IECSCRWA EP,F4,D1=(N),D2=(N),ADT=YES            03450000
.*                                                                      03500000
.*      INPUT =                                                         03550000
.*                                                                      03600000
.*                OPTIONAL LABEL SPECIFIED AS AN ACCEPTABLE ASSEMBLER   03650000
.*                LABEL WHICH CAN BE USED BY THE CALLING CSECT TO       03700000
.*                ESTABLISH ADDRESSABILITY TO THE ENTIRE WORK AREA.     03750000
.*                                                                      03800000
.*                EP IS THE FIRST POSITIONAL PARAMETER, SPECIFYING      03850000
.*                THAT THE LABELS FOR EACH OF THE FIELDS IN THE 8       03900000
.*                WORD PREFIX, THE 20 WORD EXTENDED PREFIX, AND THE 4   03950000
.*                WORD DADSM WTG TABLE ARE TO BE EXPANDED.  IF THESE    04000000
.*                FIELDS ARE NOT TO BE DEFINED, A COMMA MUST BE CODED   04050000
.*                TO INDICATE THE ABSENCE OF THIS PARAMETER.            04100000
.*                                                                      04150000
.*                F4 IS THE SECOND POSITIONAL PARAMETER, SPECIFYING     04200000
.*                THAT THE FIELDS OF THE FORMAT 4 DSCB ARE TO BE        04250000
.*                EXPANDED USING THE IECSDSL1 DSCB MAPPING MACRO.       04300000
.*                IF THESE FIELDS ARE NOT TO BE DEFINED AND A           04350000
.*                KEYWORD PARAMETER FOLLOWS, A COMMA MUST BE            04400000
.*                CODED TO INDICATE THE ABSENCE OF THIS PARAMETER.      04450000
.*                                                                      04500000
.*                D1=(N) IS A KEYWORD PARAMETER THAT SPECIFIES THE      04550000
.*                FORMAT(S) OF THE DSCB(S) TO BE EXPANDED IN THE        04600000
.*                FIRST 140 BYTE DSCB AREA, USING THE IECSDSL1 MACRO.   04650000
.*                N CAN BE A NUMBER FROM 0 - 6.  IF N IS 0 OR 4 OR      04700000
.*                IF THIS KEYWORD IS OMITTED, NO LABELS ARE EXPANDED.   04750000
.*                IF N IS 1, 2, 3, 5, OR 6, THE CORRESPONDING FORMAT    04800000
.*                OF THE DSCB WILL BE EXPANDED.  MORE THAN ONE DSCB     04850000
.*                FORMAT CAN BE MAPPED IN THE FIRST 140 BYTE DSCB       04900000
.*                AREA BY SEPARATING THE FORMAT NUMBERS BY COMMAS.      04950000
.*                                                                      05000000
.*                D2=(N) IS A KEYWORD PARAMETER THAT SPECIFIES          05050000
.*                THE FORMAT(S) OF THE DSCB(S) TO BE EXPANDED IN THE    05100000
.*                SECOND 140 BYTE DSCB AREA, USING THE IECSDSL1 MACRO.  05150000
.*                N CAN BE A NUMBER FROM 0 - 6.  IF N IS 0 OR 4 OR      05200000
.*                IF THIS KEYWORD IS OMITTED, NO LABELS ARE EXPANDED.   05250000
.*                IF N IS 1, 2, 3, 5, OR 6, THE CORRESPONDING FORMAT    05300000
.*                OF THE DSCB WILL BE EXPANDED.  MORE THAN ONE DSCB     05350000
.*                FORMAT CAN BE MAPPED IN THE SECOND 140 BYTE DSCB      05400000
.*                AREA BY SEPARATING THE FORMAT NUMBERS BY COMMAS.      05450000
.*                                                                      05500000
.*                ADT=YES IS A KEYWORD PARAMETER WHICH SPECIFIES THAT   05550000
.*                THE LABELS FOR EACH OF THE FIELDS WITHIN THE 8   @L8C 05600000
.*                WORD DADSM AUDIT TRAIL ARE TO BE EXPANDED.       @L8C 05650000
.*                                                                      05700000
.*      OUTPUT = DADSM SCRATCH WORK AREA EXPANSION                      05750000
.*                                                                      05800000
.* EXIT-NORMAL = MEND STATEMENT                                         05850000
.*                                                                      05900000
.* EXIT-ERROR = ERROR MESSAGES:                                         05950000
.*                                                                      06000000
.*      MNOTE 12,***  IHB002 INVALID EP OPERAND SPECIFIED-&EP           06050000
.*      MNOTE 12,***  IHB002 INVALID F4 OPERAND SPECIFIED-&F4           06100000
.*      MNOTE 12,***  IHB002 INVALID ADT OPERAND SPECIFIED-&ADT         06150000
.*                                                                      06200000
.*      THE MACRO EXPANSION CONTINUES AS IF THE INVALID PARAMETER       06250000
.*      WERE NOT SPECIFIED.                                             06300000
.*                                                                      06350000
.* EXTERNAL REFERENCES = NONE                                           06400000
.*                                                                      06450000
.*      ROUTINES = NONE                                                 06500000
.*                                                                      06550000
.*      DATA AREAS = SCRATCH WORK AREA                                  06600000
.*                                                                      06650000
.*      CONTROL BLOCKS = DSCB, ECB, IOB, DCB, DEB                       06700000
.*                                                                      06750000
.* TABLES = NONE                                                        06800000
.*                                                                      06850000
.* MACROS = IECDSECS DSMADT                                             06900000
.*          IECDSECS PREFX                                              06950000
.*          IECSDSL1                                                    07000000
.*          IHBERMAC                                                    07050000
.*          ICVAFPL                                                     07060000
.*          ICVAFBFL                                                    07070000
.*          IECIEXPL                                                    07080000
.*          IECVRFDA                                                    07090000
.*          ICVEDT02                                               @L9A 07093300
.*          LSPACE                                                 @L9A 07096600
.*          IOSDIOBE                 set indicators for EXCP       @09A 07098300
.*                                                                      07100000
.* CHANGE ACTIVITY -                                                    07114200
.*$L1=IXVTOC,JDM1134,T790227,STLRJM: MODIFIED MACRO                @L1A 07128400
.*$01=OZ49516,JDM1134,80283,STLRJM: ADD BADPTR BIT TO IXFLAG       @01A 07142600
.*$L2=ICFCAT,JDM1113,T790073,STLMRD: ICF MACRO CHANGES             @L2A 07156800
.*$02=OZ67804,HDP1102,,STLBS:       ADD DORACDEF BIT TO SISW2      @02A 07171000
.*$L3=MVS/XA,JDP1111,,STLBS:        SAF/RACF ALWAYS CALL SUPPORT   @L3A 07185200
.*$L4=MVS/XA,HDP2210,,STLBC:        ERASE ON SCRATCH SUPPORT       @L4A 07192600
.*$P1=KKC0196,HDP2210,,STLAM:       RACDEF PARM LIST LENGTH CHANGE @P1A 07196300
.*$L5=MVS/XA,HDP2230,T85060,STLMC:  DADSM VSCR                     @L5A 07197200
.*$P2=KPZ0314,HDP2230,T85311,STLMC: RACF UPDATES                   @P2A 07198100
.*$P3=KPZ0566,HDP2230,,STLAM:       CHANGE SWAREQ TO LOCATE ALL    @P3A 07199000
.*$L6=MVS/XA,HDP3310,T86251,STLKAA: DADSM SUPPORT FOR THE STORAGE  @L6A 07199300
.*                                  MANAGEMENT SUBSYSTEM (SMS)     @L6A 07199600
.*$P4=KJA0869,HDP3310,T86329,STLKAA: GDG ROLLOFF AND EXPIRATION    @P4A 07199700
.*                                   DATE PROCESSING               @P4A 07199800
.*$L7=MVS/XA,HDP3310,T87124,STLKAA:  SUPPORT FOR THE VIRTUAL       @L7A 07212300
.*                                    LOOKASIDE FACILITY           @L7A 07224800
.*$03=OY18651,HDP3310,89074,STLJEB:  RETURN NEW VOLUME STATUS, IN  @03A 07227900
.*                                   NEW BYTE, TO INDICATE         @03A 07231000
.*                                   RACF PROTECTED DATA SET       @03A 07234100
.*$P5=KET3407,HDP3320,89242,SJPLJEB: SUPPORT FOR THE DATA LOOKASIDE@P5A 07235100
.*                                   FACILITY (DLF)                @P5A 07236100
.*$04=OY24492,HDP3310,T89209,SJPLJEB: BYPASS FMT1 SMS FLAG CHECK - @04A 07236500
.*                                    FOR CLEANUP                  @04A 07236900
.*$L8=DYNAMIC,HDP3330,T89207,SJPLJDY: UPDATE AUDIT TRAIL TABLE     @L8A 07237000
.*                                    FOR DYNAMIC  DEVICE SUPPORT  @L8A 07237100
.*$P6=KC10879,HDP3330,T900921,SJPLJDY: ENSURE DSMADT ALIGNMENT     @P6A 07237200
.*$L9=DFSMS,JDZ1110,T920415,SJPLNWF: 64KTRACK DEVICE SUPPORT       @L9A 07241400
.*$05=OW06564,HDZ11B0,940815,SJPLRAT: ASSY ERRORS (ICVEDT02)       @05A 07243500
.*$06=OW14839,HDZ11C0,950817,SJPLGAP: UCB VSCR PERFORMANCE         @06A 07244500
.*$07=OW16158,HDZ11C0,951006,SJPLJEB: DUMP BROKEN VTOC             @07A 07245000
.*$08=OW29642,HDZ11D0,97Oct26,SJPLRPS: IXFP support                @08A 07245300
.*$09=OW34136,HDZ11E0,98Jul01,SJPLRPS: Fiber channel io support    @09A 07246200
.*    NOTE: if Scratch gets changed to no longer issue EXCP,       @09A 07247100
.*          the code added by this apar should be removed.         @09A 07248000
.*                                                                      07248900
.**** END OF SPECIFICATIONS ******************************************* 07250000
.*                                                                      07300000
         LCLA  &C                                                       07350000
&LABEL   DSECT                                                          07400000
*********************************************************************** 07450000
*        COMMON SCRATCH PREFIX                                        * 07500000
*********************************************************************** 07650000
SCRPREFX DS    0CL32                    WORK AREA PREFIX                07666600
         DS    8F        DIMENSION=(8)                                  07683200
         SPACE 1                                                        07700000
SCRTHWKA DS    0D                       SCRATCH WORK AREA               07725000
*********************************************************************** 07750000
* SCRATCH/RENAME COMMON AREA -                                        * 07770000
*   THE FOLLOWING VARIABLES, THROUGH FIELD 'INDSCB', ARE              * 07790000
*   MAPPED IDENTICALLY IN BOTH THE SCRATCH AND RENAME WORK            * 07810000
*   AREAS (IECSCRWA AND IECRENWA, RESPECTIVELY)                   @L6A* 07830000
*********************************************************************** 07850000
SCRRENFS DS    0CL752                   SCRATCH/RENAME COMMON FLDS @L6A 07850700
SCREXTPR DS    0CL80                    EXTENDED PREFIX                 07851400
         DS    20F       DIMENSION=(20)                                 07852100
SCRWTGTB DS    0CL16                    DADSM WTG TABLE                 07852800
         DS    4F        DIMENSION=(4)                                  07853500
SCRDIAGX DS    0F                       DIAGNOSTIC INFORMATION          07854200
SCRERCDX DS    XL1                      ERROR CODE                      07854900
SCRSFIDX DS    XL1                      SUBFUNCTION ID                  07855600
SCRSFRTX DS    XL1                      SUBFUNCTION RETURN CODE         07856300
SCRSFRSX DS    XL1                      SUBFUNCTION REASON CODE         07857000
SCREXTPT DS    A                        POINTER TO WORK AREA EXTENT     07857700
SCRADTPT DS    A                        POINTER TO AUDIT TRAIL          07858400
SCRXCPPT DS    A                        POINTER TO EXCP WORK AREA       07859100
*********************************************************************** 07859800
* SCRATCH/RENAME COMMON AREA -                                        * 07860500
*   REQUEST INFORMATION                                               * 07861200
*********************************************************************** 07861900
SCRREQST DS    0CL28                    REQUEST INFORMATION             07862600
SRQBREPL DS    A                        BRANCH ENTRY PARAMETER LIST     07863300
SRQDSNMP DS    A                        ADDRESS OF DATA SET NAME        07864000
SRQVOLLP DS    A                        ADDRESS OF VOLUME LIST          07864700
SRQPUCBP DS    A                        ADDRESS OF PRIMARY UCB          07865400
SRQREFDT DS    CL3                      LAST REFERENCED DATE (DFHSM)    07866100
         DS    CL1                      RESERVED                        07866800
SRQFLG01 DS    XL1                      SMS FLAG BYTE                   07867500
SR1SMSMG EQU   B'10000000'              SMS MANAGED DATA SET            07868200
SR1UNCAT EQU   B'01000000'              DELETE UNCATALOGED DATA SETS   X07868900
                                        ONLY                            07869600
SRQFLG02 DS    XL1                      AUTHORIZED REQUEST FLAGS PART 1 07870300
SR2FAUTH EQU   B'10000000'              FUNCTIONAL AUTHORIZATION       X07871000
                                        VERIFIED BY CALLER              07871700
SR2SAUTH EQU   B'01000000'              SECURITY AUTHORIZATION         X07872400
                                        GUARANTEED BY CALLER            07873100
SR2PROFM EQU   B'00100000'              RACF PROFILE MANAGED BY CALLER  07873800
SR2BTIOT EQU   B'00010000'              BYPASS SYSZTIOT ENQUEUE         07874500
SR2BDSN  EQU   B'00001000'              BYPASS SYSDSN ENQUEUE           07875200
SR2BDEB  EQU   B'00000100'              BYPASS DEB CHECK DCB NOT OPEN   07875900
SR2NVALL EQU   B'00000010'              DON'T DYNAMIC ALLOCATE VOLUMES  07876600
SR2NERAS EQU   B'00000001'              DO NOT ERASE ANY EXTENTS        07877300
SRQFLG03 DS    XL1                      UNAUTHORIZED REQUEST FLAGS      07878000
SR3OVRPD EQU   B'10000000'              OVERRIDE PURGE DATE             07878700
SR3VRFRD EQU   B'01000000'              VERIFY LAST REFERENCED DATE    X07879400
                                        UNCHANGED (DFHSM)               07880100
SR3ERASE EQU   B'00100000'              ERASE ALL EXTENTS               07880800
SRQFLG04 DS    XL1                      AUTHORIZED REQUEST FLAGS PART 2 07881100
SR4VOLMT EQU   B'10000000'              CALLER GUARANTEES VOLUME IS    X07881400
                                        ALREADY MOUNTED                 07881700
SR4BYSMS EQU   B'00100000'              BYPASS SMS FMT1 CHECK -    @04AX07881800
                                        FOR CLEANUP                @04A 07881900
         DS    CL4                      RESERVED                        07882200
*********************************************************************** 07882900
* SCRATCH/RENAME COMMON AREA -                                        * 07883600
*   INTERNAL PROCESSING FLAGS                                         * 07884300
*********************************************************************** 07885000
SCRFLG01 DS    0XL1                     FLAG BYTE (SISW1)               07885700
SISW1    DS    XL1                      SECURITY/INTEGRITY SWITCHES     07886400
TIOTENQ  EQU   B'10000000'              ENQ ON SYSZTIOT ISSUED          07887100
DSNENQ   EQU   B'01000000'              ENQ ON SYSDSN ISSUED            07887800
VOLENQ   EQU   B'00100000'              ENQ ON SYSZVOLS ISSUED          07888500
VOLDEQ   EQU   B'00010000'              DEQ ON SYSZVOLS ISSUED          07889200
UCBALLOC EQU   B'00001000'              UCB DYNAMICALLY ALLOCATED       07889900
DEBSRCH  EQU   B'00000100'              DEB SEARCH REQUIRED INDICATOR   07890600
NOSMFRCD EQU   B'00000010'              NO SMF RECORD INDICATOR         07891300
VOLRACHK EQU   B'00000001'              VOL RACHECKED OK                07892000
SCRFLG02 DS    0XL1                     FLAG BYTE (SISW2)               07892700
SISW2    DS    XL1                      SECURITY/INTEGRITY SWITCHES     07893400
DEMNTSW  EQU   B'10000000'              VOLUME DEMOUNT INDICATOR        07894100
MOUNTSW  EQU   B'01000000'              VOLUME MOUNT/VERIFY INDICATOR   07894800
VERIFYSW EQU   B'00100000'              VOLUME VERIFY INDICATOR         07895500
UCBFNDSW EQU   B'00010000'              ALLOCATED UCB FOUND INDICATOR   07896200
VIRTMNT  EQU   B'00001000'              VIRTUAL MOUNT ISSUED            07896900
DSNENQCV EQU   B'00000100'              ENQ ON SYSCTLG.V                07897600
DORACDEF EQU   B'00000010'              DO A RACDEF TYPE=DELETE         07898300
ERASERTN EQU   B'00000001'              IGG0290A REENTRY FROM 299A     X07899000
                                        AFTER ERASE PROCESSING IN      X07899700
                                        IGG029ER IS COMPLETED           07900400
SCRFLG03 DS    0XL1                     FLAG BYTE (SISW3)               07901100
SISW3    DS    XL1                      SECURITY/INTEGRITY SWITCHES     07901800
PRESUMEA EQU   B'10000000'              GENERIC AUTHORITY PRESUMED      07902500
PRESUMEF EQU   B'01000000'              GENERIC AUTH PRESUMED FAILED    07903200
ERASEREQ EQU   B'00100000'              RACF INDICATED ERASE REQUESTED  07903900
ERASIOER EQU   B'00010000'              I/O ERROR OCCURRED WHILE       X07904600
                                        ERASING TRACKS                  07905300
PRESUMED EQU   B'00001000'              DASDVOL AUTHORITY PRESUMED @03A 07905500
RACFPROT EQU   B'00000100'              RACF PROTECTED DATA SET    @03A 07905700
CAPTUCB  EQU   B'00000010'              UCB CAPTURED FLAG          @06A 07905800
SCRFLG04 DS    0XL1                     FLAG BYTE (SISW4)               07906000
SISW4    DS    XL1                      PROCESS CONTROL SWITCHES        07906700
SCRFLG05 DS    0XL1                     FLAG BYTE (STYPEFLG)            07908800
STYPEFLG DS    XL1                      SCRATCH SWITCHES                07909500
ERXTENT  EQU   B'10000000'              OVERLAPPING EXTENTS FOUND       07910200
VTOCENQ  EQU   B'01000000'              RESERVE ON SYSVTOC ISSUED       07910900
VIOBIT   EQU   B'00100000'              VIO DATA SET INDICATOR          07911600
NOMNTDEV EQU   B'00010000'              NO VOLUME MOUNTED AND NO       X07912300
                                        DEVICE ALLOCATED                07913000
SHRCYL   EQU   B'00001000'              SHARED CYLINDERS (SPLIT        X07913700
                                        CYLINDER EXTENT)                07914400
PSWDCHKD EQU   B'00000100'              PASSWORD CHECKED FOR PASSWORD  X07915100
                                        PROTECTED DATA SET              07915800
DOSPACK  EQU   B'00000010'              DOS VOLUME INDICATOR            07916500
EXITBIT  EQU   B'00000001'              EXIT INDICATOR (LAST VOLUME    X07917200
                                        LIST ENTRY PROCESSED)           07917900
SCRFLG06 DS    0XL1                     FLAG BYTE (IXFLAG)              07918600
IXFLAG   DS    XL1                      INDEXED VTOC FLAG               07919300
IXVTOC   EQU   B'10000000'              INDEXED VTOC SWITCH (0 = OS)    07920000
PREXIT   EQU   B'01000000'              PRE PROCESSING EXIT SWITCH      07920700
VRFWR    EQU   B'00100000'              VRF DATA WRITTEN                07921400
REJECT   EQU   B'00010000'              INSTALLATION EXIT REJECTED REQ  07922100
BADPTR   EQU   B'00001000'              BAD F2/F3 POINTER               07922800
PDSDS    EQU   B'00000100'              DATA SET IS PARTITIONED    @L7A 07923000
VSAMDS   EQU   B'00000010'              DATA SET IS VSAM           @P5A 07923100
         DS    XL1                      RESERVED                        07923300
SAVERRID DS    XL1                      SAVED SUBFUNCTION ID            07923800
SAVDIAGX DS    XL4                      SAVED DIAGNOSTIC INFO           07924300
*********************************************************************** 07924900
* SCRATCH/RENAME COMMON AREA -                                        * 07925600
*   SAVE AREA FOR BRANCH ENTRY MODULE REGISTERS                       * 07926300
*********************************************************************** 07927000
BRESAVE  DS    0CL56                    SAVE AREA                       07927700
         DS    14F       DIMENSION=(14)                                 07928400
*********************************************************************** 07929100
* SCRATCH/RENAME COMMON AREA -                                        * 07929800
*   PARAMETER LIST AND PARAMETERS USED BY RESERVE/ENQ/DEQ             * 07930500
*********************************************************************** 07931200
ENQTCBA  DS    A                        TCB ADDR FOR ENQUEUE            07931900
ENQAREA  DS    0CL16                    ENQUEUE PARAMETER LIST          07932600
DEQAREA  DS    CL16                     DEQUEUE PARAMETER LIST          07933300
MJNAME   DS    CL8                      MAJOR ELEMENT NAME              07934000
MINAME   DS    CL6                      MINOR ENQ/DEQ RESOURCE NAME     07934700
         DS    CL6                      RESERVED                        07935400
*********************************************************************** 07936100
* SCRATCH/RENAME COMMON AREA -                                        * 07936800
*   THE FOLLOWING CONTROL BLOCKS ARE USED TO READ AND WRITE           * 07937500
*   DSCBS                                                             * 07938200
*********************************************************************** 07938900
EXCPWKA  DS    0CL224                   EXCP WORK AREA                  07939600
WKADEB   DS    0CL48                    DEB (SCRATCH)                   07940300
XDEBTCBA DS    A                        TCB ADDRESS                     07941000
DCB      DS    0CL28                    DCB                             07941700
         DS    CL20                                                     07942400
XDEBDCBA DS    A                        DCB ADDRESS                     07943100
XDEBAPPA DS    A                        I/O APPENDAGE VECTOR TABLE      07943800
XDEBUCBA DS    A                        UCB ADDRESS                     07944500
         DS    CL2                                                      07945200
XDEBSTEX DS    CL4                      START OF EXTENT LIMIT           07945900
         DS    CL6                                                      07946600
DEBPTR   DS    A                        DCB POINTER TO DEB              07947300
ECB      DS    0F                       ECB                             07948000
ECBCC    DS    XL1                                                 @08C 07948500
ECBNORM  EQU   X'7F'                    NORMAL I/O OPERATION       @08C 07949000
ECBPOST  EQU   X'40'                    Event has completed        @08A 07949300
ECBPERR  EQU   X'41'                    PERMANENT I/O ERROR        @08M 07949600
         DS    CL3                                                      07950100
XIOB     DS    0CL32                    IOB                             07950800
         DS    CL2                                                      07951500
XIOBSENS DS    CL2                      IOB SENSE BYTES                 07952200
XIOBECBP DS    A                        IOB ECB ADDRESS                 07952900
XIOBCSW  DS    0CL8                     IOB CHANNEL STATUS WORD         07953600
         DS    CL5                                                      07954300
XIOBCHST DS    CL1                      IOB CHANNEL STATUS BYTE         07955000
         DS    CL2                                                      07955700
XIOBSTRT DS    A                        IOB CHANNEL PROGRAM START       07956400
         DS    CL12                                                     07957100
SEEK     DS    CL8                      IOB SEEK ADDRESS                07957800
MBBCCHHR DS    CL8                      VTOC ADDRESS                    07958500
*********************************************************************** 07959200
* SCRATCH/RENAME COMMON AREA -                                        * 07959900
*   COMMON SCRATCH CHANNEL CONTROL WORDS AREA                         * 07960600
*********************************************************************** 07961300
CHANPRGM DS    0CL120                   CHANNEL PROGRAM                 07962000
CCW1     DS    CL8                                                      07962700
CCW2     DS    CL8                                                      07963400
CCW3     DS    CL8                                                      07964100
CCW4     DS    CL8                                                      07964800
CCW5     DS    CL8                                                      07965500
CCW6     DS    CL8                                                      07966200
CCW7     DS    CL8                                                      07966900
CCW8     DS    CL8                                                      07967600
CCW9     DS    CL8                                                      07968300
CCW10    DS    CL8                                                      07969000
CCW11    DS    CL8                                                      07969700
CCW12    DS    CL8                                                      07970400
CCW13    DS    CL8                                                      07971100
CCW14    DS    CL8                                                      07971800
CCW15    DS    CL8                                                      07972500
*********************************************************************** 07973200
* SCRATCH/RENAME COMMON AREA -                                        * 07973900
*   MISCELLANEOUS VARIABLES                                           * 07974600
*********************************************************************** 07975300
FIELD1   DS    CL8                      PASSWORD WORK AREA FIELD        07976000
PRUCBPTR DS    A                        PRIMARY (DEMOUNTABLE) UCB ADDR  07976700
VOLPTR   DS    A                        NEXT VOLUME LIST ENTRY ADDRESS  07977400
TCBADDR  DS    A                        POINTER TO THE TCB              07978100
DSABADDR DS    A                        DSAB ADDRESS OF CURRENT VOLUME  07978800
PRDSABAD DS    A                        DSAB ADDRESS OF PRIMARY UCB     07979500
VOLNUM   DS    H                        NUMBER OF VOLUMES REMAINING     07980200
ENQASID  DS    CL2                      ASID                            07980900
DSABQDB  DS    A                        DSAB QDB ADDRESS                07981600
VOLMINOR DS    CL6                      VOLSER FOR DEQ ON SYSZVOLS      07982300
ERCODE   DS    H                        ERROR RETURN CODE               07983000
PVOLSER  DS    CL6                      VOLSER IN PROTECTED STORAGE     07983700
         DS    CL2                      RESERVED                        07984400
*********************************************************************** 07985100
* SCRATCH/RENAME COMMON AREA -                                        * 07985800
*   DSCB AREAS                                                        * 07986500
*********************************************************************** 07987200
VTOCDSCB DS    CL96                     F4 DSCB AREA                    07987900
INDSCB   DS    CL140                    DSCB WORK AREA                  07988600
*********************************************************************** 07989300
* END OF SCRATCH/RENAME COMMON AREA                                   * 07990000
*********************************************************************** 07990700
*********************************************************************** 07991400
*        OUTPUT SCRATCH DSCB AREA                                     * 07992100
*********************************************************************** 07992800
OUTDSCB  DS    CL140                    DSCB WORK AREA                  07993500
*********************************************************************** 07994200
*        VRF DATA AREA                                                * 07994900
*********************************************************************** 07995600
SCRVRFDA DS    CL(VRFDAEND-VRFWA)       LENGTH OF VRFDA            @L9C 07996300
*********************************************************************** 07997000
*   COMMON DADSM EXTENT TABLE                                      @06C 07997500
*        +-------------------------------------------+             @06C 07998000
*        | ICVEDT02                                  |             @06C 07998500
*      8 +-------------------------------------------+             @06C 07999000
*        | LENGTH              | LEV | FLG |  # F0   |             @06C 07999500
*     16 +-------------------------------------------+             @06C 08000000
*        | CCHHR CURSOR              |   RESERVED    |             @06C 08000500
*     24 +-------------------------------------------+             @06C 08001000
*        | RTA CURSOR          |       RESERVED      |             @06C 08001500
*     32 +-------------------------------------------+             @06C 08002000
*        |  NUMER OF ENTRIES   |       RTA           |             @06C 08002500
*        +-------------------------------------------+             @06C 08003000
*        |         RTA+1       |       RTA           |             @06C 08003500
*        +-------------------------------------------+             @06C 08004000
*        |---------------------+---------------------|             @06C 08004500
*        |---------------------+---------------------|             @06C 08005000
*        +-------------------------------------------+             @06C 08005500
*        |         RTA+1       |                                   @06C 08006000
*        +----------------------                                   @06C 08006500
*        NO OF ENTRIES = NUMBER OF ENTRIES WITHIN DADSM TABLE.     @06C 08007000
*        RTA = THE STARTING TRACK OF THE ALLOCATED EXTENT.         @06C 08007500
*        RTA+1 = THE STARTING TRACK OF THE NEXT EXTENT.            @06C 08008000
*********************************************************************** 08009600
.*                                                                5@L9D 08011700
*********************************************************************** 08013800
*        PRE/POST EXIT PARAMETER LIST                                 * 08014500
*********************************************************************** 08015200
SCRIEXPL DS    CL(IEXLNGTH)             EXIT PARMLIST              @L9C 08015900
*********************************************************************** 08016600
*        CVAF PARAMETER LIST                                          * 08017300
*********************************************************************** 08018000
SCRCVPL  DS    CL68                     CVAF PARMLIST                   08018700
*********************************************************************** 08019400
*        CVAF BUFFER LIST                                             * 08020100
*********************************************************************** 08020800
SCRBFHDR DS    CL8                      BUFFER HEADER                   08021500
SCRBFLE  DS    CL12                     BUFFER ENTRY                    08022200
*********************************************************************** 08022900
*        COPY OF CALLER'S VOLUME LIST IF 10 VOLUMES OR LESS           * 08023600
*********************************************************************** 08024300
SAVDVOLL DS    0CL136                   COPY OF CALLER'S VOLUME LIST   X08025000
                                        IF 10 ENTRIES OR LESS           08025700
VOLLHDR  DS    CL16                     IGGDAVLL HEADER                 08026400
VOLLENTS DS    10CL12    DIMENSION=(10)  10 VOLUME ENTRIES              08027100
*********************************************************************** 08027800
*        SCRATCH MISCELLANEOUS WORK AREAS                             * 08028500
*********************************************************************** 08029200
         DS    0D                       DOUBLE WORD ALIGNMENT      @L9A 08029500
SCRMISC  DS    0CL134                   VARIOUS WORK AREAS              08029900
PDSNAME  DS    CL44                     DATA SET NAME IN PROTECTED     X08030600
                                        STORAGE                         08031300
INTFLG01 DS    XL1                      MISCELLANEOUS FLAGS        @P4A 08031400
SMSEXPDT EQU   B'10000000'              EXPIRATION DATE SAVED FROM     X08031500
                                        FIRST PART OF A MULTIVOLUME    X08031600
                                        SMS MANAGED DATA SET       @P4A 08031700
SAVEXPDT DS    CL3                      SAVED EXPIRATION DATE OF FIRST X08031800
                                        PART OF A MULTIVOLUME SMS      X08031900
                                        MANAGED DATA SET           @P4A 08032000
VTOCADR  DS    CL5                      ADDRESS OF F4                   08032700
DADSMADR DS    CL5                      ADDRESS OF F5 OR F7        @L9C 08033400
INCCHHR  DS    CL5                      WORKING ADDRESS                 08034100
OUTCCHHR DS    CL5                      WORKING ADDRESS                 08034800
HOLD     DS    CL5                      WORKING ADDRESS                 08035500
NEXTDADS DS    CL5                      NEXT F5 OR F7 ADDRESS      @L9C 08036200
INLINESK DS    CL6                      IN LINE SEEK VALUE              08036900
ARHDPTR  DS    0A                       PTR TO ICBACREL LIST HEAD       08037600
RELQADR  DS    A                        PTR TO ICBACREL LIST            08038300
OLDPLIST DS    0CL20                    OLD FORMAT PARMLIST             08039000
OLDOPTS  DS    CL4                      SCRATCH OPTIONS                 08039700
PDSNADDR DS    A                        PTR TO PROTECTED COPY OF       X08040400
                                        DSNAME                          08041100
         DS    A                        RESERVED                        08041800
VOLISTAD DS    A                        PTR TO PROTECTED COPY OF       X08042500
                                        VOLUME LIST                     08043200
BREPLPTR DS    A                        PTR TO CALLER'S COPY OF        X08043900
                                        DASCR                           08044600
PVOLADDR DS    A                        PTR TO FIRST VOLUME ENTRY IN   X08045300
                                        PROTECTED COPY OF VOLUME LIST   08046000
PVOLNUM  DS    H                        NUMBER OF VOLUMES               08046700
         DS    H                        RESERVED                        08047400
DAVLLPTR DS    A                        PTR TO PROTECTED COPY OF       X08048100
                                        DAVLL                           08048800
*********************************************************************** 08049500
*        FOR SCRATCH, THE EXTENT TABLE MUST BE LOCATED THROUGH        * 08050200
*        VARIABLE ENTRYADD ONLY. THE ACTUAL EXTENT TABLE              * 08050900
*        MAY BE IN VARIABLE ENTRIES IN MACRO DADSMTBL, OR IN          * 08051600
*        SCRATCH VARIABLE ALTXTNT.                                    * 08052300
*********************************************************************** 08053000
ENTRYADD DS    A                        PTR TO EXTENT TBL               08053700
ARPLPTR  DS    A                        CURRENT A/R PARML               08054400
AREXTPTR DS    A                        CURRENT A/R XTNT                08055100
MSSXCTR  DS    H                        NUMBER MSS XTNT                 08055800
REGXCTR  DS    H                        NUMBER NONMSS XTNT              08056500
TBLINDEX DS    A                        CURRENT XTNT ENTRY              08057200
ERCCHHR  DS    CL5                      CCHHR IN ERROR                  08057900
MSGCODE  DS    XL1                      ERROR CODE FOR MSG              08058600
         DS    CL2                      RESERVED, UNUSED                08059300
         DS    A                        RESERVED                        08060000
CURVOLST DS    A                        CURRENT VOL ENTRY               08060700
SCRVLINF EQU   *-ERCCHHR                LENGTH OF VOLUME INFO RESET@L6AX08061400
                                        ON SETUP OF NEXT VOLUME IN LIST 08062100
*                                                                10@L9D 08062400
*********************************************************************** 08062800
*        DEFINE F5 AND F7 EXTENT WORK AREAS USING THE DT2 FORMAT.  @L9C 08063600
*        THERE WILL BE TWO WORK AREAS, ONE FOR THE INPUT DSCB AND  @L9C 08064400
*        ONE FOR THE OUTPUT DSCB. THE WORK AREAS ARE LARGE         @L9C 08065200
*        ENOUGH TO CONTAIN 26 RTA/RTA+1 PAIRS.                     @L9C 08066000
*********************************************************************** 08067000
*        ICVEDT02 DSECT=NO,ENTRY=26,DT2PRE=FSI                     @L9A 08068100
&LABEL   DSECT                                                     @05A 08068600
         ICVEDT02 DSECT=NO,ENTRY=26,DT2PRE=FSI                     @L9A 08069200
&LABEL   DSECT                                                     @05A 08069700
*        ICVEDT02 DSECT=NO,ENTRY=26,DT2PRE=FSO                     @L9A 08070300
&LABEL   DSECT                                                     @05A 08070800
         ICVEDT02 DSECT=NO,ENTRY=26,DT2PRE=FSO                     @L9A 08071400
&LABEL   DSECT                                                     @05A 08071900
DADTSWK  DS    CL(10*L'DT6RTAST)        IGGDADTS WORK AREA         @L9A 08072500
*********************************************************************** 08072700
*        IGGDADMP    DUMP MODULE PARAMETER LIST                    @07A 08072900
*********************************************************************** 08073100
*        IGGDADMP                       SDUMP MODULE PARAMTER LIST @07A 08073300
DEBUGPL  IGGDADMP                                                  @07A 08073500
*                                                                  @07A 08073700
SCRRACRT DS    0D                       RACF CLASS VAR, SAFPLIST & @L9CX08074000
                                        SAFWAREA                        08074700
RACFCLSS DS    CL8                      HOLDS RACF CLASS REQUEST        08080300
*********************************************************************** 08081000
*                                                                       08081700
*        SAF PARAMETER LIST AND SAF/ERASE WORK AREA:               @L4C 08082400
*                                                                       08083100
*********************************************************************** 08083800
.*                                                                 @L4A 08084500
.* NOTE - THE LENGTH SPECIFIED ABOVE MUST ACCOMMODATE:             @L4A 08085200
.*        (A) LENGTH OF RACROUTE PARAMETER LIST                    @L4A 08085900
.*        PLUS                                                     @L4A 08086600
.*        (B) THE GREATER OF:                                      @L4A 08087300
.*            LENGTH OF RACHECK PARAMETER LIST                     @L4A 08088000
.*            LENGTH OF RACDEF PARAMETER LIST                      @L4A 08088700
.*        FOR THE LATEST RACF RELEASE SUPPORTED.                   @L4A 08089400
.*                                                                 @L4A 08090100
.*        FOR RACF RELEASE 1.7, THE CURRENT LENGTHS AND ASSOCIATED @L4A 08090800
.*        PARAMETER LIST MAPPING MACROS ARE:                       @L4A 08091500
.*                                                                 @L4A 08092200
.*        MACRO     LENGTH    MAPPING MACRO                        @L4A 08092900
.*        ------    ------    -------------                        @L4A 08093600
.*        RACROUTE    40      ICHSAFP                              @L4A 08094300
.*        RACHECK     60      ICHACHKL                             @L4A 08095000
.*        RACDEF     104      ICHRDDFL                             @P1C 08095700
.*                                                                 @L4A 08096400
.* *****  A CHANGE TO THE LENGTH OF SAFPLIST IN ANY SUBSEQUENT     @L4A 08097100
.*        VERSION/RELEASE/MODIFICATION LEVEL OF DFP AND/OR RACF    @L4A 08097800
.*        WILL REQUIRE, AT A MINIMUM, RE-ASSEMBLY OF ALL MODULES   @L4A 08098500
.*        IN THIS COMPONENT WHICH REFERENCE/UPDATE THE AUDIT TRAIL @L4A 08099200
.*        AREA WHICH FOLLOWS.                                      @L4A 08099900
.*                                                                 @L4A 08100600
*********************************************************************** 08101300
SAFPLIST DS    CL144                    SAF PARAMETER LIST AREA         08102000
         DS    0D                       FORCE TO DOUBLEWORD BNDY   @L9A 08102300
SAFWAREA DS    CL512                    RACF ROUTER SAF WORKAREA        08102700
SCREXINF EQU   *-SCRRACRT               LENGTH OF SAF AND RACF     @L9CX08104100
                                        INFORMATION RESET ON SETUP @L6AX08105500
                                        OF NEXT VOLUME IN LIST     @L6A 08106900
*******************************************************************@L8A 08107000
*                                                                  @L8A 08107100
*        UCB PIN/UCB LOOK PARAMETER LISTS                          @L8A 08107200
*                                                                  @L8A 08107300
*******************************************************************@L8A 08107400
         DS    0D                                                  @L8A 08107500
*        UCBPIN MF=(L,PINLIST)          UCBPIN PARAMETER LIST      @L9A 08107600
         UCBPIN MF=(L,PINLIST)                                     @L9C 08107700
         DS    0D                                                  @L8A 08107800
*        UCBLOOK MF=(L,LOOKLIST)        UCBLOOK PARAMETER LIST     @L9A 08107900
         UCBLOOK MF=(L,LOOKLIST)                                   @L9C 08108000
LOOKLEN  EQU *-LOOKLIST                                            @L8A 08108100
SCRCMSWA DS    0F                       COMMON SERVICES WORK AREA       08108300
CMSRVCEP DS    A                        CMS ENTRY POINT                 08109700
CMSPLIST DS    0F                       CMS PARAMETER LIST              08110400
CMSPLWKA DS    A                        CMS WORK AREA ADDR              08111100
CMSPLOPT DS    A                        CMS OPTIONS ADDRESS             08111800
CMSPLDSB DS    A                        CMS DSAB ADDRESS                08112500
CMSPLDSN DS    A                        CMS DSNAME ADDRESS              08113200
CMSPLUCB DS    A                        CMS UCB ADDRESS                 08113900
CMSPLVLS DS    A                        CMS VOL LIST ADDR               08114600
CMSOPTNS DS    0F                       CMS OPTIONS                     08115300
CMSFNCID DS    XL1                      CMS FUNCTION ID                 08116000
CMSFNC01 EQU   X'01'                                                    08116700
CMSFNC02 EQU   X'02'                                                    08117400
CMSFNC03 EQU   X'03'                                                    08118100
         DS    XL3                      RESERVED                        08118800
CMSWKALN EQU   116                      LENGTH OF CMS WORK AREA    @P3C 08119500
CMSWORKA DS    XL(CMSWKALN)             CMS WORK AREA                   08120200
*********************************************************************** 08120300
*        LSPACE PARAMETER LIST FOR EXPANDED MESSAGE AREA           @L9A 08120400
*********************************************************************** 08120500
         DS    0F                                                  @L9A 08120600
*        LSPACE MF=L,EXPMSG=0,SMF=YES   LSPACE PARAMETER LIST      @L9A 08120700
LSPA     LSPACE MF=L,EXPMSG=0,SMF=YES   LSPACE PARAMETER LIST      @L9A 08120800
*******************************************************************@06A 08120900
*        IOSCAPU PARAMETER LIST (TO CAPTURE AND UNCAPTURE UCBS)    @06A 08121000
*******************************************************************@06A 08121100
IOSCAPPL IOSCAPU MF=(L,IOSCAPPA)                                   @06A 08121200
         EJECT                                                     @06A 08121300
*                                                                       08121400
HOLENUM  EQU   DT5SMNUM+1               NUMBER OF HOLES            @L9A 08121500
*                                                                       08121600
         ORG   ENQASID                                                  08121700
TIOTMNR  DS    CL6                      ASID/DSAB QDB ADDRESS           08121800
         ORG   SAFWAREA                                                 08121900
ERASEPL  DS    0CL466                                                   08122000
ERASEXPL DS    A                        ADDR OF IECIEXPL                08122100
ERASCLOS DS    A                        ADDR OF CLOSE WORKAREA          08122200
ERASDEVC DS    A                        ADDR OF TRKS/CYL FOR DEV        08122300
ERASWAPT DS    A                        ADDR OF 450 BYTE WORKAREA       08122400
ERASEWA  DS    CL450                    WORKAREA FOR ERASE ROUTINE      08122500
         SPACE 2                                                        08122600
*********************************************************************** 08122700
*        SCRATCH W/A EXTENSION AREA                                  *  08123200
*********************************************************************** 08123700
SCREXTNT DSECT                          SCRATCH WORK AREA EXTENSION     08124000
SCRRMAIN DS    0CL74                    SCRATCH WORK AREA EXTENSION@09C 08124300
SCR_IOBE DS    CL(IOBEEND-IOBE)         Stg for IOSDIOBE mapping   @09A 08124600
SIOBEPTR DS    A                        Pointer to SCR_IOBE        @09A 08124900
IOBEPTR  DS    A                        Pointer to IOBE            @09A 08125200
*********************************************************************** 08125800
*        COMMON SCRATCH RECOVERY ROUTINE AUDIT TRAIL AREA             * 08126500
*        ( MUST BE LAST THING IN WORK AREA, AND MUST END ON A      @P6C 08126700
*          DOUBLE WORD BOUNDARY )                                  @P6A 08126900
*********************************************************************** 08127200
         DS    0D                       ENSURE ALIGNMENT           @P6A 08127500
SCRADTRL DS    0CL40                    SCRATCH AUDIT TRAIL WORDS  @07C 08128100
         DS    10F       DIMENSION=(10)                            @07C 08128700
*                                                                       08129300
&LABEL   DSECT                                                          08130000
         AIF   ('&EP' EQ 'EP').SCR0010                                  08150000
         AIF   ('&EP' EQ '').SCR0020                                    08200000
         IHBERMAC 1001,EP,&EP                                           08250000
         AGO   .SCR0020                                                 08300000
.SCR0010 ANOP                                                           08350000
         ORG   SCRPREFX                                                 08400000
         MNOTE '         IECDSECS PREFX,EXPAND=YES'                     08450000
         IECDSECS PREFX,EXPAND=YES                                      08500000
.SCR0020 ANOP                                                           08550000
         SPACE 1                                                        08600000
         AIF   ('&F4' EQ 'F4').SCR0030                                  08900000
         AIF   ('&F4' EQ '').SCR0040                                    08950000
         IHBERMAC 1001,F4,&F4                                           09000000
         AGO   .SCR0040                                                 09050000
.SCR0030 ANOP                                                           09100000
         ORG   VTOCDSCB                                                 09150000
         MNOTE '         IECSDSL1 (4)'                                  09200000
         IECSDSL1 (4)                                                   09250000
.SCR0040 ANOP                                                           09300000
         SPACE 1                                                        09350000
&C       SETA  1                                                        09650000
.SCR0050 AIF   (&C GT N'&D1).SCR0060                                    09700000
         AIF   (&D1(&C) EQ 0 OR &D1(&C) EQ 4).SCR0055                   09750000
         ORG   INDSCB                                                   09800000
         MNOTE '         IECSDSL1 (&D1(&C))'                            09850000
         IECSDSL1 (&D1(&C))                                             09900000
.SCR0055 ANOP                                                           09950000
&C       SETA  &C+1                                                     10000000
         AGO   .SCR0050                                                 10050000
.SCR0060 ANOP                                                           10100000
         SPACE 1                                                        10150000
&C       SETA  1                                                        10650000
.SCR0070 AIF   (&C GT N'&D2).SCR0080                                    10700000
         AIF   (&D2(&C) EQ 0 OR &D2(&C) EQ 4).SCR0075                   10750000
         ORG   OUTDSCB                                                  10800000
         MNOTE '         IECSDSL1 (&D2(&C))'                            10850000
         IECSDSL1 (&D2(&C))                                             10900000
.SCR0075 ANOP                                                           10950000
&C       SETA  &C+1                                                     11000000
         AGO   .SCR0070                                                 11050000
.SCR0080 ANOP                                                           11100000
         SPACE 1                                                        11150000
         AIF   ('&ADT' EQ 'YES').SCR0090                                17850000
         AIF   ('&ADT' EQ 'NO').SCR0100                                 17900000
         IHBERMAC 1001,ADT,&ADT                                         17950000
         AGO   .SCR0100                                                 18000000
.SCR0090 ANOP                                                           18050000
SCREXTNT DSECT                                                          18075000
         ORG   SCRADTRL                                                 18100000
         MNOTE '         IECDSECS DSMADT,EXPAND=YES'                    18150000
         IECDSECS DSMADT,EXPAND=YES                                     18200000
.SCR0100 ANOP                                                           18250000
         SPACE 1                                                   @L9A 18262500
*        IGGDADS7 DSECT=YES             FORMAT 7 DSCB MAPPING      @L9A 18275000
         IGGDADS7 DSECT=YES                                        @L9A 18287500
&LABEL   DSECT                                                          18300000
         ORG   SCRIEXPL                                                 18350000
         IECIEXPL DSECT=NO                                         @L1A 18520000
         ORG   SCRCVPL                                                  18520400
         ICVAFPL DSECT=NO                                          @L1A 18520800
         ORG   SCRBFHDR                                                 18521200
BUFLWA   ICVAFBFL DSECT=NO                                         @L1A 18521600
         ORG   SCRVRFDA                                                 18522000
VRFWA    IECVRFDA DSECT=NO,FUNCT=SCRATCH                           @L1A 18522400
         SPACE 2                                                   @L9A 18561900
*********************************************************************** 18563900
*        DSCB EXTENTS MAPPING                                      @L9A 18565900
*********************************************************************** 18567900
ALLOC_EXTENT DSECT                      F1 AND F3 EXTENT MAPPING   @L9A 18569900
ALLOC_TYPE DS  XL1                      EXTENT TYPE INDICATOR      @L9A 18571900
ALLOC_SEQ  DS  XL1                      EXTENT SEQUENCE NUMBER     @L9A 18573900
ALLOC_LOW  DS  XL4                      LOWER LIMIT (CCHH)         @L9A 18575900
ALLOC_HIGH DS  XL4                      UPPER LIMIT (CCHH)         @L9A 18577900
ALLOC_EXTENT_LENGTH EQU *-ALLOC_EXTENT  LENGTH OF ALLOCATED EXTENT @L9A 18579900
*                                                                  @L9A 18581900
FREE_EXTENT DSECT                       F5 EXTENT MAPPING          @L9A 18583900
F5_RTA       DS XL2                     RELATIVE TRACK ADDR        @L9A 18585900
F5_FREE_CYL  DS XL2                     NUMBER OF UNUSED CYLINDERS @L9A 18587900
F5_FREE_TRKS DS XL1                     NUMBER OF ADDITIONAL UNUSED    X18589900
                                        TRACKS                     @L9A 18591900
FREE_EXTENT_LENGTH EQU *-FREE_EXTENT    LENGTH OF FREE EXTENT      @L9A 18593900
         IOSDIOBE                       IOSBE mapping              @09A 18595600
         MEND                                                           18597400
*        */                                                             18647400
*%SCRWAPL1:;                                                 /* @L6C*/  18697400
*/* REMOVED INCLUDE STATEMENTS FOR IECIEXPL, ICVAFPL,           @L6D*/  18747400
*/* ICVAFBFL                                                    @L6D*/  18797400
*                                                                       18850000
*/********************************************************************/ 18860200
*/*                                                                  */ 18870400
*/* SCRATCH WORK AREA                                                */ 18880600
*/*                                                                  */ 18890800
*/********************************************************************/ 18901000
*@SPACE;                                                                18911200
*DECLARE                                                                18921400
*    /****************************************************************/ 18931600
*    /* COMMON SCRATCH PREFIX                                        */ 18941800
*    /****************************************************************/ 18952000
*   1 SCRPREFX BASED(ADDR(SCRTHWKA)-32), /* WORK AREA PREFIX         */ 18962200
*    2 *        (8) FIXED(31);                                          18972400
*@SPACE;                                                                18982600
*%DCL WABASE CHAR INTERNAL;                                             18992800
*%WABASE = 'BASED(SCRWAPTR)';           /* SET DEFAULT FOR BASE */      19003000
*%IF SCRBASE = 'N' %THEN                                                19013200
*   %WABASE = '';                                                       19023400
*%IF SCRBASE = 'NO' %THEN                                               19033600
*   %WABASE = '';                                                       19043800
*DECLARE                                                                19054000
*   1 SCRTHWKA WABASE BDY(DWORD),                                       19064200
*    /****************************************************************/ 19074400
*    /* SCRATCH/RENAME COMMON AREA -                                 */ 19084600
*    /*   THE FOLLOWING VARIABLES ARE MAPPED IDENTICALLY IN BOTH     */ 19094800
*    /*   THE SCRATCH AND RENAME WORK AREAS (IECSCRWA AND IECRENWA,  */ 19105000
*    /*   RESPECTIVELY)                                          @L6A*/ 19115200
*    /****************************************************************/ 19125400
*    2 SCRRENFS,                    /* SCRATCH/RENAME COMMON FIELDS  */ 19135600
*    /****************************************************************/ 19145800
*    /* EXTENDED PREFIX, AND WTG TABLE AREA                          */ 19156000
*    /****************************************************************/ 19166200
*     3 SCREXTPR,                   /* EXTENDED PREFIX               */ 19176400
*      4 *       (20) FIXED(31),                                        19186600
*     3 SCRWTGTB,                   /* DADSM WTG TABLE               */ 19196800
*      4 *       (4) FIXED(31),                                         19207000
*     3 SCRDIAGX FIXED(32),         /* DIAGNOSTIC INFORMATION        */ 19217200
*      4 SCRERCDX FIXED(8),         /* ERROR CODE                    */ 19227400
*      4 SCRSFIDX FIXED(8),         /* SUBFUNCTION ID                */ 19237600
*      4 SCRSFRTX FIXED(8),         /* SUBFUNCTION RETURN CODE       */ 19247800
*      4 SCRSFRSX FIXED(8),         /* SUBFUNCTION REASON CODE       */ 19258000
*     3 SCREXTPT PTR(31),           /* POINTER TO WORK AREA EXTENT   */ 19268200
*     3 SCRADTPT PTR(31),           /* POINTER TO AUDIT TRAIL        */ 19278400
*     3 SCRXCPPT PTR(31),           /* POINTER TO EXCP WORK AREA     */ 19288600
*    /****************************************************************/ 19298800
*    /* REQUEST INFORMATION                                          */ 19309000
*    /****************************************************************/ 19319200
*     3 SCRREQST,                   /* REQUEST INFORMATION           */ 19329400
*      4 SRQBREPL PTR(31),          /* BRANCH ENTRY PARAMETER LIST   */ 19339600
*      4 SRQDSNMP PTR(31),          /* ADDRESS OF DATA SET NAME      */ 19349800
*      4 SRQVOLLP PTR(31),          /* ADDRESS OF VOLUME LIST        */ 19360000
*      4 SRQPUCBP PTR(31),          /* ADDRESS OF PRIMARY UCB        */ 19370200
*      4 SRQREFDT CHAR(3),          /* LAST REFERENCED DATE (DFHSM)  */ 19380400
*      4 *       CHAR(1),           /* RESERVED                      */ 19390600
*      4 SRQFLG01 BIT(8),           /* SMS FLAG BYTE                 */ 19400800
*       5 SR1SMSMG BIT(1),          /* SMS MANAGED DATA SET          */ 19411000
*       5 SR1UNCAT BIT(1),          /* DELETE UNCATALOGED DATA SETS     19421200
*                                       ONLY                         */ 19431400
*       5 *       BIT(6),           /* RESERVED                      */ 19441600
*      4 SRQFLG02 BIT(8),           /* AUTHORIZED REQUEST FLAGS -       19448400
*                                      PART 1                        */ 19455200
*       5 SR2FAUTH BIT(1),          /* FUNCTIONAL AUTHORIZATION         19462000
*                                       VERIFIED BY CALLER           */ 19472200
*       5 SR2SAUTH BIT(1),          /* SECURITY AUTHORIZATION           19482400
*                                       GUARANTEED BY CALLER         */ 19492600
*       5 SR2PROFM BIT(1),          /* RACF PROFILE MANAGED BY CALLER*/ 19502800
*       5 SR2BTIOT BIT(1),          /* BYPASS SYSZTIOT ENQUEUE       */ 19513000
*       5 SR2BDSN BIT(1),           /* BYPASS SYSDSN ENQUEUE         */ 19523200
*       5 SR2BDEB BIT(1),           /* BYPASS DEB CHECK-DCB NOT OPEN */ 19533400
*       5 SR2NVALL BIT(1),          /* DON'T DYNAMIC ALLOCATE VOLUMES*/ 19543600
*       5 SR2NERAS BIT(1),          /* DO NOT ERASE ANY EXTENTS      */ 19553800
*      4 SRQFLG03 BIT(8),           /* UNAUTHORIZED REQUEST FLAGS    */ 19564000
*       5 SR3OVRPD BIT(1),          /* OVERRIDE PURGE DATE           */ 19574200
*       5 SR3VRFRD BIT(1),          /* VERIFY LAST REFERENCED DATE      19584400
*                                       UNCHANGED (DFHSM)            */ 19594600
*       5 SR3ERASE BIT(1),          /* ERASE ALL EXTENTS             */ 19604800
*       5 *       BIT(5),           /* RESERVED                      */ 19615000
*      4 SRQFLG04 BIT(8),           /* AUTHORIZED REQUEST FLAGS -       19618400
*                                      PART 2                        */ 19621800
*       5 SR4VOLMT BIT(1),          /* CALLER GUARANTEES VOLUME IS      19625200
*                                      ALREADY MOUNTED               */ 19628600
*       5 *        BIT(1),          /* RESERVED                  @04A*/ 19629900
*       5 SR4BYSMS BIT(1),          /* BYPASS FMT1 SMS CHECK -   @04A*/ 19631200
*                                   /* FOR CLEANUP               @04A*/ 19632500
*       5 *        BIT(5),          /* RESERVED                  @04C*/ 19633800
*      4 *       CHAR(4),           /* RESERVED                      */ 19635400
*    /****************************************************************/ 19645600
*    /* INTERNAL PROCESSING FLAGS                                    */ 19655800
*    /****************************************************************/ 19666000
*     3 SCRFLG01 BIT(8),            /* FLAG BYTE (SISW1)             */ 19676200
*      4 SISW1   BIT(8),            /* SECURITY/INTEGRITY SWITCHES   */ 19686400
*       5 TIOTENQ BIT(1),           /* ENQ ON SYSZTIOT ISSUED        */ 19696600
*       5 DSNENQ  BIT(1),           /* ENQ ON SYSDSN ISSUED          */ 19706800
*       5 VOLENQ  BIT(1),           /* ENQ ON SYSZVOLS ISSUED        */ 19717000
*       5 VOLDEQ  BIT(1),           /* DEQ ON SYSZVOLS ISSUED        */ 19727200
*       5 UCBALLOC BIT(1),          /* UCB DYNAMICALLY ALLOCATED     */ 19737400
*       5 DEBSRCH BIT(1),           /* DEB SEARCH REQUIRED INDICATOR */ 19747600
*       5 NOSMFRCD BIT(1),          /* NO SMF RECORD INDICATOR       */ 19757800
*       5 VOLRACHK BIT(1),          /* VOL RACHECKED OK              */ 19768000
*     3 SCRFLG02 BIT(8),            /* FLAG BYTE (SISW2)             */ 19778200
*      4 SISW2   BIT(8),            /* SECURITY/INTEGRITY SWITCHES   */ 19788400
*       5 DEMNTSW BIT(1),           /* VOLUME DEMOUNT INDICATOR      */ 19798600
*       5 MOUNTSW BIT(1),           /* VOLUME MOUNT/VERIFY INDICATOR */ 19808800
*       5 VERIFYSW BIT(1),          /* VOLUME VERIFY INDICATOR       */ 19819000
*       5 UCBFNDSW BIT(1),          /* ALLOCATED UCB FOUND INDICATOR */ 19829200
*       5 VIRTMNT BIT(1),           /* VIRTUAL MOUNT ISSUED          */ 19839400
*       5 DSNENQCV BIT(1),          /* ENQ ON SYSCTLG.V------        */ 19849600
*       5 DORACDEF BIT(1),          /* DO A RACDEF TYPE=DELETE       */ 19859800
*       5 ERASERTN BIT(1),          /* IGG0290A REENTRY FROM 299A       19870000
*                                       AFTER ERASE PROCESSING IN       19880200
*                                       IGG029ER IS COMPLETED        */ 19890400
*     3 SCRFLG03 BIT(8),            /* FLAG BYTE (SISW3)             */ 19900600
*      4 SISW3   BIT(8),            /* SECURITY/INTEGRITY SWITCHES   */ 19910800
*       5 PRESUMEA BIT(1),          /* GENERIC AUTHORITY PRESUMED    */ 19921000
*       5 PRESUMEF BIT(1),          /* GENERIC AUTH PRESUMED FAILED  */ 19931200
*       5 ERASEREQ BIT(1),          /* RACF INDICATED ERASE REQUESTED*/ 19941400
*       5 ERASIOER BIT(1),          /* I/O ERROR OCCURRED WHILE         19951600
*                                       ERASING TRACKS               */ 19961800
*       5 PRESUMED BIT(1),          /* DASDVOL AUTHORITY PRESUMED@03A*/ 19966900
*       5 RACFPROT BIT(1),          /* RACF PROTECTED DATA SET   @03A*/ 19972000
*       5 CAPTUCB BIT(1),           /* UCB CAPTURED FLAG         @06A*/ 19975400
*       5 *       BIT(1),           /* RESERVED                  @06C*/ 19978800
*     3 SCRFLG04 BIT(8),            /* FLAG BYTE (SISW4)             */ 19982200
*      4 SISW4   BIT(8),            /* PROCESS CONTROL SWITCHES      */ 19992400
*       5 VERFFAIL BIT(1),          /* SMS OR LAST REFERENCE DATE       20002600
*                                       VERIFICATION FAILED          */ 20012800
*       5 *       BIT(7),           /* RESERVED                      */ 20023000
*     3 SCRFLG05 BIT(8),            /* FLAG BYTE (STYPEFLG)          */ 20033200
*      4 STYPEFLG BIT(8),           /* SCRATCH SWITCHES              */ 20043400
*       5 ERXTENT BIT(1),           /* OVERLAPPING EXTENTS FOUND     */ 20053600
*       5 VTOCENQ BIT(1),           /* RESERVE ON SYSVTOC ISSUED     */ 20063800
*       5 VIOBIT  BIT(1),           /* VIO DATA SET INDICATOR        */ 20074000
*       5 NOMNTDEV BIT(1),          /* NO VOLUME MOUNTED AND            20084200
*                                       NO DEVICE ALLOCATED          */ 20094400
*       5 SHRCYL  BIT(1),           /* SHARED CYLINDERS (SPLIT          20104600
*                                       CYLINDER EXTENT)             */ 20114800
*       5 PSWDCHKD BIT(1),          /* PASSWORD CHECKED FOR             20125000
*                                       PASSWORD-PROTECTED DATA SET  */ 20135200
*       5 DOSPACK BIT(1),           /* DOS VOLUME INDICATOR          */ 20145400
*       5 EXITBIT BIT(1),           /* EXIT INDICATOR (LAST VOLUME      20155600
*                                       LIST ENTRY PROCESSED)        */ 20165800
*     3 SCRFLG06 BIT(8),            /* FLAG BYTE (STYPEFLG)          */ 20176000
*      4 IXFLAG  BIT(8),            /* INDEXED VTOC FLAG             */ 20186200
*       5 IXVTOC  BIT(1),           /* INDEXED VTOC SWITCH (0 = OS)  */ 20196400
*       5 PREXIT  BIT(1),           /* PRE-PROCESSING EXIT SWITCH    */ 20206600
*       5 VRFWR   BIT(1),           /* VRF DATA WRITTEN              */ 20216800
*       5 REJECT  BIT(1),           /* INSTALLATION EXIT REJECTED REQ*/ 20227000
*       5 BADPTR  BIT(1),           /* BAD F2/F3 POINTER             */ 20237200
*       5 PDSDS   BIT(1),           /* DATA SET IS PARTITIONED   @L7A*/ 20243100
*       5 VSAMDS  BIT(1),           /* DATA SET IS VSAM          @P5A*/ 20247000
*       5 *       BIT(1),           /* RESERVED                  @P5C*/ 20250900
*     3 *       BIT(8),             /* RESERVED                      */ 20255000
*     3 SAVERRID  FIXED(8),         /* SAVED SUBFUNCTION ID          */ 20262600
*     3 SAVDIAGX  FIXED(32),        /* SAVED DIAGNOSTIC INFO         */ 20270200
*    /****************************************************************/ 20278000
*    /* SAVE AREA FOR BRANCH ENTRY MODULE REGISTERS                  */ 20288200
*    /****************************************************************/ 20298400
*     3 BRESAVE,                    /* SAVE AREA                     */ 20308600
*      4 *       (14) FIXED(31),                                        20318800
*    /****************************************************************/ 20329000
*    /* PARAMETER LIST AND PARAMETERS USED BY RESERVE/ENQ/DEQ        */ 20339200
*    /****************************************************************/ 20349400
*     3 ENQTCBA PTR(31),            /* TCB ADDR FOR ENQUEUE          */ 20359600
*     3 ENQAREA BDY(WORD),          /* ENQUEUE PARAMETER LIST        */ 20369800
*      4 DEQAREA CHAR(16),          /* DEQUEUE PARAMETER LIST        */ 20380000
*     3 MJNAME CHAR(8),             /* MAJOR ELEMENT NAME            */ 20390200
*     3 MINAME CHAR(6),             /* MINOR ENQ/DEQ RESOURCE NAME   */ 20400400
*     3 *     CHAR(6),              /* RESERVED                      */ 20410600
*    /****************************************************************/ 20420800
*    /* THE FOLLOWING CONTROL BLOCKS ARE USED TO READ AND WRITE DSCBS*/ 20431000
*    /****************************************************************/ 20441200
*     3 EXCPWKA BDY(DWORD),         /* EXCP WORK AREA                */ 20451400
*      4 WKADEB CHAR(48) BDY(WORD), /* DEB                           */ 20461600
*       5 XDEBTCBA PTR(31),         /* TCB ADDRESS                   */ 20471800
*       5 DCB BDY(WORD),            /* DCB                           */ 20482000
*        6 *       CHAR(20),                                            20492200
*        6 XDEBDCBA PTR(31),        /* DCB ADDRESS                   */ 20502400
*        6 XDEBAPPA PTR(31),        /* I/O APPENDAGE VECTOR TABLE    */ 20512600
*       5 XDEBUCBA PTR(31),         /* UCB ADDRESS                   */ 20522800
*       5 *       CHAR(2),                                              20533000
*       5 XDEBSTEX CHAR(4),         /* START OF EXTENT LIMIT         */ 20543200
*       5 *        CHAR(6),         /*                           @L9A*/ 20548300
*      4 DEBPTR  PTR(31),           /* DCB POINTER TO DEB            */ 20553400
*      4 ECB     FIXED(31),         /* ECB                           */ 20563600
*       5 ECBCC   BIT(8),           /*                           @08C*/ 20573800
*        6 *      BIT(1),                                               20584000
*        6 ECBNORM BIT(7),          /* NORMAL I/O OPERATION          */ 20594200
*      4 XIOB    CHAR(32) BDY(DWORD), /* IOB                         */ 20604400
*       5 *       CHAR(2),                                              20614600
*       5 XIOBSENS CHAR(2),         /* IOB SENSE BYTES               */ 20624800
*       5 XIOBECBP PTR(31),         /* IOB ECB ADDRESS               */ 20635000
*       5 XIOBCSW CHAR(8),          /* IOB CHANNEL STATUS WORD       */ 20645200
*        6 *       CHAR(5),                                             20655400
*        6 XIOBCHST CHAR(1),        /* IOB CHANNEL STATUS BYTE       */ 20665600
*        6 *        CHAR(2),        /*                           @L9A*/ 20670700
*       5 XIOBSTRT PTR(31),         /* IOB CHANNEL PROGRAM START     */ 20675800
*      4 SEEK    CHAR(8) BDY(DWORD), /* IOB SEEK ADDRESS             */ 20686000
*      4 MBBCCHHR CHAR(8),          /* VTOC ADDRESS                  */ 20696200
*     /***************************************************************/ 20706400
*     /* SCRATCH/RENAME COMMON CHANNEL CONTROL WORDS AREA        @L6C*/ 20716600
*     /***************************************************************/ 20726800
*      4 CHANPRGM BDY(DWORD),       /* CHANNEL PROGRAM               */ 20737000
*       5 CCW1    CHAR(8),                                              20747200
*       5 CCW2    CHAR(8),                                              20757400
*       5 CCW3    CHAR(8),                                              20767600
*       5 CCW4    CHAR(8),                                              20777800
*       5 CCW5    CHAR(8),                                              20788000
*       5 CCW6    CHAR(8),                                              20798200
*       5 CCW7    CHAR(8),                                              20808400
*       5 CCW8    CHAR(8),                                              20818600
*       5 CCW9    CHAR(8),                                              20828800
*       5 CCW10   CHAR(8),                                              20839000
*       5 CCW11   CHAR(8),                                              20849200
*       5 CCW12   CHAR(8),                                              20859400
*       5 CCW13   CHAR(8),                                              20869600
*       5 CCW14   CHAR(8),                                              20879800
*       5 CCW15   CHAR(8),                                              20890000
*    /****************************************************************/ 20900200
*    /* SCRATCH/RENAME MISCELLANEOUS VARIABLES                   @L6C*/ 20910400
*    /****************************************************************/ 20920600
*     3 FIELD1     CHAR(8),         /* PASSWORD WORK AREA FIELD      */ 20930800
*                                                              /*@L6D*/ 20941000
*     3 PRUCBPTR   PTR(31),         /* PRIMARY (DEMOUNTABLE) UCB ADDR*/ 20951200
*     3 VOLPTR     PTR(31),         /* NEXT VOLUME LIST ENTRY ADDRESS*/ 20961400
*     3 TCBADDR    PTR(31),         /* POINTER TO THE TCB            */ 20971600
*     3 DSABADDR   PTR(31),         /* DSAB ADDRESS OF CURRENT VOLUME*/ 20981800
*     3 PRDSABAD   PTR(31),         /* DSAB ADDRESS OF PRIMARY UCB   */ 20992000
*     3 VOLNUM     FIXED(15),       /* NUMBER OF VOLUMES REMAINING   */ 21002200
*     3 ENQASID    CHAR(2),         /* ASID                          */ 21012400
*     3 DSABQDB    PTR(31),         /* DSAB QDB ADDRESS              */ 21022600
*     3 VOLMINOR   CHAR(6),         /* VOLSER FOR DEQ ON SYSZVOLS    */ 21032800
*     3 ERCODE     FIXED(15),       /* ERROR RETURN CODE             */ 21043000
*     3 PVOLSER    CHAR(6),         /* VOLSER IN PROTECTED STORAGE   */ 21053200
*     3 *          CHAR(2),         /* RESERVED                      */ 21063400
*    /****************************************************************/ 21073600
*    /* SCRATCH/RENAME COMMON DSCB AREAS                         @L6C*/ 21083800
*    /****************************************************************/ 21094000
*     3 VTOCDSCB   CHAR(96),        /* F4 DSCB AREA              @L2A*/ 21104200
*     3 INDSCB     CHAR(140),       /* DSCB WORK AREA            @L2A*/ 21114400
*    /****************************************************************/ 21124600
*    /* SCRATCH OUTPUT DSCB AREA                                     */ 21134800
*    /****************************************************************/ 21145000
*    2 OUTDSCB     CHAR(140),       /* DSCB WORK AREA            @L2A*/ 21155200
*    /****************************************************************/ 21165400
*    /* VRF DATA AREA                                                */ 21175600
*    /****************************************************************/ 21185800
*    2 SCRVRFDA CHAR(LENGTH(VRFDA) + /* VRF HEADER               @L9C*/ 21190900
                     (10 * LENGTH(VRFF3PTR)) +                          21196000
                     LENGTH(VRFEDTS)),                                  21201100
*/********************************************************************/ 21206200
*/* COMMON DADSM EXTENT TABLE                                    @06C*/ 21215900
*/*      +-------------------------------------------+           @06C*/ 21225600
*/*      | ICVEDT02                                  |           @06C*/ 21235300
*/*    8 +-------------------------------------------+           @06C*/ 21245000
*/*      | LENGTH              | LEV | FLG |  # F0   |           @06C*/ 21254700
*/*   16 +-------------------------------------------+           @06C*/ 21264400
*/*      | CCHHR CURSOR              |   RESERVED    |           @06C*/ 21274100
*/*   24 +-------------------------------------------+           @06C*/ 21283800
*/*      | RTA CURSOR          |       RESERVED      |           @06C*/ 21293500
*/*   32 +-------------------------------------------+           @06C*/ 21303200
*/*      |  NUMER OF ENTRIES   |       RTA           |           @06C*/ 21312900
*/*      +-------------------------------------------+           @06C*/ 21322600
*/*      |         RTA+1       |       RTA           |           @06C*/ 21332300
*/*      +-------------------------------------------+           @06C*/ 21342000
*/*      |---------------------+---------------------|           @06C*/ 21351700
*/*      |---------------------+---------------------|           @06C*/ 21361400
*/*      +-------------------------------------------+           @06C*/ 21371100
*/*      |         RTA+1       |                                 @06C*/ 21380800
*/*      +----------------------                                 @06C*/ 21390500
*/*      NO OF ENTRIES = NUMBER OF ENTRIES WITHIN DADSM TABLE.   @06C*/ 21400200
*/*      RTA = THE STARTING TRACK OF THE ALLOCATED EXTENT.       @06C*/ 21409900
*/*      RTA+1 = THE STARTING TRACK OF THE NEXT EXTENT.          @06C*/ 21419600
*/*                                                             2@06D*/ 21429300
*/********************************************************************/ 21440800
*                                                            /* 5@L9D*/ 21471400
*    /****************************************************************/ 21502000
*    /* PRE/POST EXIT PARAMETER LIST                                 */ 21512200
*    /****************************************************************/ 21522400
*    2 SCRIEXPL CHAR(56) BDY(WORD), /* EXIT PARMLIST             @L9C*/ 21532600
*    /****************************************************************/ 21542800
*    /* CVAF PARAMETER LIST                                          */ 21553000
*    /****************************************************************/ 21563200
*    2 SCRCVPL  CHAR(68) BDY(WORD), /* CVAF PARMLIST             @L2A*/ 21573400
*    /****************************************************************/ 21583600
*    /* CVAF BUFFER LIST                                             */ 21593800
*    /****************************************************************/ 21604000
*    2 SCRBFHDR CHAR(8)  BDY(WORD), /* BUFFER HEADER             @L2A*/ 21614200
*    2 SCRBFLE  CHAR(12) BDY(WORD), /* BUFFER ENTRY              @L2A*/ 21624400
*    /****************************************************************/ 21634600
*    /* COPY OF CALLER'S VOLUME LIST IF 10 VOLUMES OR LESS           */ 21644800
*    /****************************************************************/ 21655000
*    2 SAVDVOLL BDY(WORD),          /* COPY OF CALLER'S VOLUME LIST IF  21665200
*                                      10 ENTRIES OR LESS        @L6A*/ 21675400
*     3 VOLLHDR  CHAR(16),          /*  IGGDAVLL HEADER          @L6A*/ 21685600
*     3 VOLLENTS(10) CHAR(12),       /* 10 VOLUME ENTRIES        @L6A*/ 21695800
*    /****************************************************************/ 21706000
*    /* SCRATCH MISCELLANEOUS WORK AREAS                             */ 21716200
*    /****************************************************************/ 21726400
*    2 SCRMISC  BDY(DWORD),         /* VARIOUS WORK AREAS        @L6C*/ 21736600
*     3 PDSNAME    CHAR(44),        /* DATA SET NAME IN PROTECTED       21746800
*                                      STORAGE                       */ 21757000
*     3 INTFLG01   BIT(8),          /* MISCELLANEOUS FLAGS       @P4A*/ 21759200
*      4 SMSEXPDT  BIT(1),          /* EXPIRATION DATE SAVED FROM       21761400
*                                      FIRST PART OF A MULTIVOLUME      21763600
*                                      SMS MANAGED DATA SET      @P4A*/ 21765800
*      4 *         BIT(7),          /* RESERVED                  @P4A*/ 21768000
*     3 SAVEXPDT   CHAR(3),         /* SAVED EXPIRATION DATE OF FIRST   21770200
*                                      PART OF A MULTIVOLUME SMS        21772400
*                                      MANAGED DATA SET          @P4A*/ 21774600
*     3 VTOCADR    CHAR(5),         /* ADDRESS OF F4             @L2A*/ 21777400
*     3 DADSMADR CHAR(5),           /* ADDRESS OF F5 OR F7       @L9C*/ 21787600
*     3 INCCHHR    CHAR(5),         /* WORKING ADDRESS           @L2A*/ 21797800
*     3 OUTCCHHR CHAR(5),           /* WORKING ADDRESS           @L2A*/ 21808000
*     3 HOLD     CHAR(5) BDY(WORD), /* WORKING ADDRESS           @L2A*/ 21818200
*     3 NEXTDADS CHAR(5),           /* NEXT F5 ADDRESS           @L2A*/ 21828400
*     3 INLINESK CHAR(6),           /* IN-LINE SEEK VALUE        @L2A*/ 21838600
*     3 ARHDPTR    PTR(31),         /* PTR TO ICBACREL LIST HEAD @L6C*/ 21848800
*      4 RELQADR   PTR(31),         /* PTR TO ICBACREL LIST      @L6C*/ 21859000
*     3 OLDPLIST,                   /* OLD FORMAT SCRATCH PLIST  @L6C*/ 21869200
*      4 OLDOPTS   CHAR(4),         /* SCRATCH OPTIONS           @L2A*/ 21879400
*      4 PDSNADDR PTR(31),          /* PTR TO PROTECTED          @L2A*/ 21889600
*                                   /* COPY OF DSNAME            @L5A*/ 21899800
*      4 *        PTR(31),          /* RESERVED                  @L5A*/ 21910000
*      4 VOLISTAD PTR(31),          /* PTR TO PROTECTED          @L5A*/ 21920200
*                                   /* COPY OF VOL LIST          @L5A*/ 21930400
*      4 BREPLPTR PTR(31),          /* PTR TO CALLER'S COPY OF   @L6A*/ 21940600
*                                   /* DASCR                     @L6A*/ 21950800
*     3 PVOLADDR PTR(31),           /* PTR TO FIRST VOLUME ENTRY @L6A*/ 21961000
*                                   /* IN PROTECTED COPY OF      @L6A*/ 21971200
*                                   /* VOLUME LIST               @L6A*/ 21981400
*     3 PVOLNUM    FIXED(15),       /* NUMBER OF VOLUMES         @L2A*/ 21991600
*     3 *          FIXED(15),       /* RESERVED                  @L5A*/ 22001800
*     3 DAVLLPTR PTR(31),           /* PTR TO PROTECTED COPY OF  @L6A*/ 22012000
*                                   /* DAVLL                     @L6A*/ 22022200
*                                                              /*@L6D*/ 22032400
*    /****************************************************************/ 22042600
*    /*  FOR SCRATCH, THE EXTENT TABLE MUST BE LOCATED THROUGH   @L6C*/ 22052800
*    /*  VARIABLE ENTRYADD ONLY.  THE ACTUAL EXTENT TABLE        @L6C*/ 22063000
*    /*  MAY BE IN VARIABLE ENTRIES IN MACRO DADSMTBL, OR IN     @L6C*/ 22073200
*    /*  SCRATCH VARIABLE ALTXTNT.                               @L6C*/ 22083400
*    /****************************************************************/ 22093600
*     3 ENTRYADD PTR(31),           /* PTR TO EXTENT TBL         @L2A*/ 22103800
*     3 ARPLPTR    PTR(31),         /* CURRENT A/R PARML         @L2A*/ 22114000
*     3 AREXTPTR PTR(31),           /* CURRENT A/R XTNT          @L2A*/ 22124200
*     3 MSSXCTR    FIXED(15),       /* NUMBER MSS XTNT           @L2A*/ 22134400
*     3 REGXCTR    FIXED(15),       /* NMBER NONMSS XTNT         @L2A*/ 22144600
*     3 TBLINDEX PTR(31),           /* CURRENT XTNT ENTRY        @L2A*/ 22154800
*     3 ERCCHHR  CHAR(5),           /* CCHHR IN ERROR            @L2A*/ 22165000
*     3 MSGCODE  FIXED(8),          /* ERROR CODE FOR MSG        @L2A*/ 22175200
*     3 *        CHAR(2),           /* RESERVED, UNUSED          @L2A*/ 22185400
*     3 *        PTR(31),           /* RESERVED                  @L5A*/ 22195600
*     3 CURVOLST PTR(31),           /* CURRENT VOL ENTRY         @L2A*/ 22205800
*    /*                                                         8@L9D*/ 22210900
*    /****************************************************************/ 22216000
*    /*  DEFINE F5 AND F7 EXTENT WORK AREAS USING THE DT2 FORMAT.@L9C*/ 22228200
*    /*  THERE WILL BE TWO WORK AREAS, ONE FOR THE INPUT DSCB    @L9C*/ 22240400
*    /*  AND ONE FOR THE OUTPUT DSCB. THE WORK AREAS ARE LARGE   @L9C*/ 22252600
*    /*  ENOUGH TO CONTAIN 26 RTA/RTA+1 PAIRS.                   @L9C*/ 22264800
*    /****************************************************************/ 22277200
*     3 FSIAREDT CHAR(LENGTH(DT2X7HDR) + /* INPUT DSCB WK AREA   @L9C*/ 22290500
*                   (26 * LENGTH(DT2EXT))) BDY(WORD),                   22303800
*     3 FSOAREDT CHAR(LENGTH(DT2X7HDR) + /* OUTPUT DSCB WK AREA  @L9A*/ 22317100
*                   (26 * LENGTH(DT2EXT))) BDY(WORD),                   22330400
*     3 DADTSWK  CHAR(10 * LENGTH(DT2RTAST)),/* IGGDADTS WK AREA @L9A*/ 22343700
*                                       /*                      1@L9D*/ 22357000
*    /****************************************************************/ 22359700
*    /*  SDUMP MODULE PARAMETER LIST WORK AREA                   @07A*/ 22362400
*    /****************************************************************/ 22365100
*     3 DEBUGPL  CHAR(LENGTH(DADMP)),  /* SDUMP MODULE PARM LIST @07A*/ 22367800
*    /****************************************************************/ 22370900
*    /* WORK AREA FIELDS USED BY RACF RACROUTE                       */ 22372800
*    /****************************************************************/ 22374700
*     3 SCRRACRT BDY(DWORD),        /* RACROUTE WORK AREAS       @L9C*/ 22376600
*      4 RACFCLSS CHAR(8),          /* HOLDS RACF CLASS REQUEST      */ 22378500
*    /****************************************************************/ 22380400
*    /*  THE LENGTH SPECIFIED FOR SAFPLIST MUST ACCOMMODATE:     @L4A*/ 22382300
*    /*  (A) LENGTH OF RACROUTE PARAMETER LIST                   @L4A*/ 22384200
*    /*  PLUS                                                    @L4A*/ 22386100
*    /*  (B) THE GREATER OF:                                     @L4A*/ 22388000
*    /*      LENGTH OF RACHECK PARAMETER LIST                    @L4A*/ 22389900
*    /*      LENGTH OF RACDEF PARAMETER LIST                     @L4A*/ 22391800
*    /*  FOR THE LATEST RACF RELEASE SUPPORTED.                  @L4A*/ 22393700
*    /*                                                          @L4A*/ 22395600
*    /*  FOR RACF RELEASE 1.7, THE CURRENT LENGTHS AND ASSOCIATED@L4A*/ 22397500
*    /*  PARAMETER LIST MAPPING MACROS ARE:                      @L4A*/ 22399400
*    /*                                                          @L4A*/ 22401300
*    /*  MACRO     LENGTH    MAPPING MACRO                       @L4A*/ 22403200
*    /*  ------    ------    -------------                       @L4A*/ 22405100
*    /*  RACROUTE    40      ICHSAFP                             @L4A*/ 22407000
*    /*  RACHECK     60      ICHACHKL                            @L4A*/ 22408900
*    /*  RACDEF     104      ICHRDDFL                            @P1C*/ 22410800
*    /****************************************************************/ 22412700
*      4 SAFPLIST CHAR(144) BDY(WORD), /* SAF PARM LIST AREA     @P1C*/ 22414600
*      4 SAFWAREA CHAR(512) BDY(DWORD),/* RACF ROUTER SAF WKA    @L9C*/ 22416500
*    /***********************************************************@L8A*/ 22416700
*    /* UCB PIN/UCB LOOK PARAMETER LISTS                         @L8A*/ 22416900
*    /***********************************************************@L8A*/ 22417100
*     3 SCRPINL  CHAR(LENGTH(PINLIST))   /* UCBPIN PARM LIST     @L8A*/ 22417300
*                BDY(DWORD),                                   /*@L8A*/ 22417500
*     3 SCRLOOKL CHAR(LENGTH(LOOKLIST))  /* UCBLOOK PARM LIST    @L8A*/ 22417700
*                BDY(DWORD),                                   /*@L8A*/ 22417900
*    /****************************************************************/ 22418400
*    /* DADSM COMMON SERVICES WORK AREA                              */ 22420300
*    /****************************************************************/ 22422200
*     3 SCRCMSWA BDY(WORD),         /* COMMON SERVICES WORK AREA @L6A*/ 22424100
*      4 CMSRVCEP PTR(31),                 /* CMS ENTRY POINT    @P2A*/ 22426000
*      4 CMSPLIST,                         /* CMS PARAMETER LIST @P2A*/ 22427900
*       5 CMSPLWKA PTR(31),                /* CMS WORK AREA ADDR @P2A*/ 22429800
*       5 CMSPLOPT PTR(31),                /* CMS OPTIONS ADDRESS@P2A*/ 22431700
*       5 CMSPLDSB PTR(31),                /* CMS DSAB ADDRESS   @P2A*/ 22433600
*       5 CMSPLDSN PTR(31),                /* CMS DSNAME ADDRESS @P2A*/ 22435500
*       5 CMSPLUCB PTR(31),                /* CMS UCB ADDRESS    @P2A*/ 22437400
*       5 CMSPLVLS PTR(31),                /* CMS VOL LIST ADDR  @P2A*/ 22439300
*      4 CMSOPTNS CHAR(4),                 /* CMS OPTIONS        @P2A*/ 22441200
*       5 CMSFNCID CHAR(1),                /* CMS FUNCTION ID    @L6A*/ 22443100
*       5 *      CHAR(3),                  /* RESERVED           @L6A*/ 22445000
*      4 CMSWORKA CHAR(116),               /* CMS WORK AREA      @L9C*/ 22445800
*    /****************************************************************/ 22446600
*    /*      LSPACE PARAMETER LIST FOR EXPANDED MSG AREA         @L9A*/ 22447400
*    /****************************************************************/ 22448200
*     3 LSPA      CHAR(24) BDY(WORD),      /* LSPACE PLIST       @L9A*/ 22448600
*     3 SCRCAPL  CHAR(LENGTH(IOSCAPPA))  /* IOSCAPU PARM LIST    @06A*/ 22449000
*                BDY(DWORD);                                   /*@06A*/ 22449400
*                                                              /*@L5D*/ 22450000
*DECLARE                                                                22462500
*   HOLENUM CHAR(2) BASED(ADDR(DT1SMNUM)+1); /* NUMER OF HOLES   @L9A*/ 22475000
*                                                                       22487500
*DECLARE                                                                22500000
*    /****************************************************************/ 22550000
*    /* ENQUEUE AREA FOR SYSZTIOT MINOR NAME                         */ 22600000
*    /****************************************************************/ 22650000
*   TIOTMNR CHAR(6) BASED(ADDR(ENQASID)); /* SYSZTIOT ENQUEUE AREA  */  22700000
*DECLARE                                                                22750000
*    /****************************************************************/ 22800000
*    /* WORK AREA FIELDS USED BY ERASE                               */ 24150000
*    /****************************************************************/ 24200000
*   1 ERASEPL   BASED(ADDR(SAFWAREA)) BDY(WORD),               /*@L6A*/ 24250000
*    2 ERASEXPL PTR(31),            /* ADDR OF IECIEXPL          @L6A*/ 24300000
*    2 ERASCLOS PTR(31),            /* ADDR OF CLOSE WORKAREA    @L6A*/ 24350000
*    2 ERASDEVC PTR(31),            /* ADDR OF TRKS/CYL FOR DEV  @L6A*/ 24400000
*    2 ERASWAPT PTR(31),            /* ADDR OF 450-BYTE WORKAREA @L6A*/ 24450000
*    2 ERASEWA CHAR(450);           /* WORKAREA FOR ERASE ROUTINE@L6A*/ 24500000
*    /****************************************************************/ 24600000
*    /* DADSM COMMON SERVICES FUNCTION ID'S                          */ 25450000
*    /****************************************************************/ 25500000
*DECLARE                                                                25550000
*   CMSFNC01  BIT(8) CONSTANT('01'X);      /*                    @L6A*/ 25600000
*DECLARE                                                                25650000
*   CMSFNC02  BIT(8) CONSTANT('02'X);      /*                    @L6A*/ 25700000
*DECLARE                                                                25750000
*   CMSFNC03  BIT(8) CONSTANT('03'X);      /*                    @L6A*/ 25800000
*DECLARE                                                                25850000
*    /****************************************************************/ 25900000
*    /* COMMON SCRATCH WORK EXTENSION                                */ 25950000
*    /****************************************************************/ 26000000
*   1 SCRRMAIN BASED(SCREXTPT),     /* SCRATCH WORK AREA EXTENT      */ 26050000
*    2 SCR_IOBE CHAR(LENGTH(IOBE)), /* IOBE area IOSDIOBE        @09A*/ 26062500
*    2 SIOBEPTR PTR(31),            /* Pointer to SCR_IOBE       @09A*/ 26075000
*    2 IOBEPTR PTR(31),             /* Pointer to IOBE           @09A*/ 26087500
*    /****************************************************************/ 26100000
*    /* COMMON SCRATCH RECOVERY ROUTINE AUDIT TRAIL AREA             */ 26150000
*    /*   (MUST BE LAST THING IN WORK AREA & ON DWORD BDRY)      @L8A*/ 26175000
*    /****************************************************************/ 26200000
*    2 SCRADTRL BDY(DWORD),         /* SCRATCH AUDIT TRAIL WORDS @09C*/ 26239500
*     3 *        CHAR(40);                    /*                 @07C*/ 26279100
*                                                                       26308300
*%VRFDA_BASE = 'BASED(ADDR(SCRVRFDA))';      /* SET BASING       @L9A*/ 26316600
*%EDT_ENTRY = '133';                         /* NUM OF ENTRIES   @L9A*/ 26324900
*%INCLUDE SYSLIB(IECVRFDA);                  /* INCLUDE VRF MAP  @L9A*/ 26333200
*                                                                       26341500
*DECLARE                                                                26350000
*    /****************************************************************/ 26400000
*    /* WORK AREA CONSTANTS                                          */ 26450000
*    /****************************************************************/ 26500000
*   SCRRMNLN FIXED(31) INIT(LENGTH(SCRRMAIN)),                          26550000
*   SCRXPRLN FIXED(31) INIT(LENGTH(SCREXTPR)),                          26581200
*   ECBPOST  FIXED(8) CONSTANT('40'X),       /*                  @08A*/ 26612500
*   ECBPERR  FIXED(8) CONSTANT('41'X);       /*                  @08A*/ 26637500
*DECLARE                                                                26650000
*   /*****************************************************************/ 26700000
*   /* WORK AREA EXTENT STARTS AT THE END OF THE PRIMARY WORK AREA   */ 26750000
*   /*****************************************************************/ 26800000
*   SCREXTNT CHAR(0) AUTO GEND;     /* START OF WORK AREA EXTENT     */ 26850000
*@SPACE (2);                                                            26900000
*GENERATE DATA DEFS(SCREXTNT); /*                                       26950000
*SCREXTNT DS   0D                                                       27000000
*@ENDGEN; */                                                            27050000
*/***************************************************************@L8A*/ 27100000
*/* INCLUDE UCBPIN AND UCBLOOK MAPPINGS OVERLAYING WORK AREA     @L8A*/ 27150000
*/***************************************************************@L8A*/ 27200000
    ? UCBPIN MF(L,PINLIST,BASED(ADDR(SCRPINL)));               /*@L8A*/ 27250000
    ? UCBLOOK MF(L,LOOKLIST,BASED(ADDR(SCRLOOKL)));            /*@L8A*/ 27300000
*/***************************************************************@09A*/ 27308300
*/* INCLUDE IOBE mapping                                         @09A*/ 27316600
*/***************************************************************@09A*/ 27324900
*%IOBEBASE = 'BASED(IOBEPTR)';                              /*   @09A*/ 27333200
*%INCLUDE SYSLIB(IOSDIOBE);                                 /*   @09A*/ 27341500
    ? IOSCAPU MF(L,IOSCAPPA,BASED(ADDR(SCRCAPL)));             /*@06A*/ 27350000
*/***************************************************************@07A*/ 27400000
*/* INCLUDE SDUMP MODULE (IGG032DB) PARAMETER LIST MAPPING       @07A*/ 27450000
*/***************************************************************@07A*/ 27500000
*%INCLUDE SYSLIB(IGGDADMP);           /* SDUMP MODULE PARM LIST  @07A*/ 27550000
