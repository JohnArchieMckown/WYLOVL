*%       GOTO  SLFPPLS1;            /*                                  00050000
         MACRO                                                          00100000
         IHASLFP ,                                                   */ 00150000
*%SLFPPLS1:;                                                            00200000
*/**START OF SPECIFICATIONS*******************************************/ 00250000
*/*                                                                  */ 00300000
*/*01* MACRO NAME:  IHASLFP                                      @P1A*/ 00350000
*/*                                                                  */ 00450000
*/*01* DESCRIPTIVE NAME:  RTM SLIP FRR Parameter Area            @P1A*/ 00475000
*/*01* ACRONYM:  SLFP                                            @P1A*/ 00500000
*/*01* EXTERNAL CLASSIFICATION: DMTI                             @P1A*/ 00525000
*/*01*  END OF EXTERNAL CLASSIFICATION:                          @P1A*/ 00550000
*/*                                                                  */ 00575000
*/*01* PROPRIETARY STATEMENT:                                    @P1A*/ 00600000
*/***PROPRIETARY_STATEMENT********************************************/ 00625000
*/*                                                                  */ 00650000
*/*                                                                  */ 00675000
*/* LICENSED MATERIALS - PROPERTY OF IBM                             */ 00700000
*/* THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                      */ 00725000
*/* 5645-001 (C) COPYRIGHT IBM CORP. 1980, 1996                      */ 00750000
*/* SEE COPYRIGHT INSTRUCTIONS                                       */ 00775000
*/*                                                                  */ 00800000
*/* STATUS= HBB6601                                                  */ 00850000
*/*                                                                  */ 00900000
*/***END_OF_PROPRIETARY_STATEMENT*************************************/ 00950000
*/*                                                                  */ 01050000
*/*                                                                  */ 01053200
*/*01* DSECT NAME:  SLFP                                         @P1A*/ 01056400
*/*                                                                  */ 01059600
*/*01* COMPONENT:  SLIP (SCSLP)                                  @D2C*/ 01062800
*/*                                                                  */ 01066000
*/*01* EYE-CATCHER:  None                                        @P1A*/ 01069200
*/*                                                                  */ 01072400
*/*                                                                  */ 01075600
*/*01* STORAGE ATTRIBUTES:                                       @P1A*/ 01078800
*/*02*   SUBPOOL:  239                                           @P1A*/ 01082000
*/*02*   KEY:  0                                                 @P1A*/ 01085200
*/*02*   RESIDENCY:  ANY                                         @P1A*/ 01088400
*/*                                                                  */ 01091600
*/*01* SIZE: 24 bytes                                            @P1A*/ 01094800
*/*                                                                  */ 01098000
*/*01* CREATED BY:  IEAVTSLP                                     @P1A*/ 01101200
*/*                                                                  */ 01104400
*/*01* FUNCTION:                                                 @P1A*/ 01107600
*/*                                                                  */ 01110800
*/*02*  FRR parameter area used by the SLIP action processor.    @P1C*/ 01114000
*/*                                                                  */ 01117200
*/*01*  METHOD OF ACCESS:                                        @P1A*/ 01120400
*/*      No special actions need by taken                        @P1A*/ 01123600
*/*                                                                  */ 01126800
*/*01* POINTED TO BY:  None                                      @P1A*/ 01130000
*/*                                                                  */ 01133200
*/*01* SERIALIZATION:  None                                      @P1A*/ 01136400
*/*                                                                  */ 01139600
*/*01* CHANGE ACTIVITY=                                              */ 01142800
*/*                                                                  */ 01146000
*/*       $L1= RAPRAS,JBB2110,820324,PD2F: REASON KEYWORD SUPPORT    */ 01150000
*/*       $L2= RTM1REC,JBB2125,830201,PDPY: RTM RECURSION ENHANCEMENT*/ 01200000
*/*       $L3= RASENH ,JBB2220,830901,PDXB: PVTMOD/XM                */ 01250000
*/*       $L4 =  AR    HBB3310 850901 PDXB: AR SUPPORT               */ 01300000
*/*       $L5=DATASPAC HBB3310 851001 PDXB: DATASPACE SUPPORT        */ 01325000
*/*       $L6= RTMRAS  HBB3310 860105 PDXB: RESTRUCTURE SLFP         */ 01337500
*/*       $L7= MSLIP   HBB4410 890201 PDXB:                          */ 01343700
*/*       $L8=SHPCS    HBB5510 930304 PDCS: Multisystem slip         */ 01345800
*/*                                         enhancements             */ 01347900
*/*       $P1=PIG2276  HBB5510 930915 PDCS: Showhdr corrections      */ 01348900
*/*       $L9=SERV2S   HBB5520 940106 PDCS: Serviceability           */ 01349200
*/*       $LA=SERV2S   HBB5520 940210 PDCS: Serviceability           */ 01349500
*/*       $D1=DCR0034  HBB5520 940414 PDCS: Storage Refresh          */ 01349700
*/*       $D2=DR20001  HBB6601 950908 PDCS: Change component id      */ 01349800
*/*                                                                  */ 01350000
*/***END OF SPECIFICATIONS********************************************/ 01400000
*%       GOTO  SLFPPLS2;            /*                                  01500000
         SPACE 1                                                        01550000
SLFP     DSECT                                                          01600000
SLFPFLGS DS    0BL6                ERROR RECOVERY AUDIT TRAIL FLAGS     01650000
SLFPFLG1 DS    BL1                                                      01700000
SLFPRTS  EQU   X'80'               RTS ENVIRONMENT                      01750000
SLFPRT2  EQU   X'40'               RT2 ENVIRONMENT                      01800000
SLFPPER  EQU   X'20'               PER ENVIRONMENT                 @L6C 01850000
SLFPRTM  EQU   X'10'               RTM ENVIRONMENT                      01900000
SLFPSM   EQU   X'08'               SYSTEM MASK MUST BE RESTORED         01950000
SLFPRST  EQU   X'04'               RESTART LOCKWORD MUST BE RELEASED    02000000
SLFPVAL  EQU   X'02'               SLIP FRR PARM AREA COMPLETE     @L6C 02050000
SLFPFRR  EQU   X'01'               THE FRR IS IN CONTROL                02100000
SLFPFLG2 DS    BL1                 MATCH ROUTINE IN CONTROL             02150000
SLFPFLG3 DS    BL1                                                      02600000
SLFPCHDU EQU   X'80'               CHNGDUMP ROUTINE IS IN CONTROL       02650000
SLFPDU   EQU   X'40'               DUMPIT ROUTINE IS IN CONTROL         02700000
SLFPDETR EQU   X'20'               DETRMODE ROUTINE IS IN CONTROL       02750000
SLFPADR  EQU   X'10'               IEAVTADR IS IN CONTROL               02800000
SLFPFPR  EQU   X'08'               FLOATING POINT REGISTER MUST BE     X02850000
                                   RESTORED                             03450000
SLFPSDLK EQU   X'04'               FOR DUMPIT SUBROUTINE, INDICATES    X03500000
                                   THE SDUMP 4K BUFFER HAS BEEN LOCKED  03600000
SLFPMTCH EQU   X'02'               MATCHING SLIP TRAP HAS BEEN FOUND    03625000
SLFPLOCK EQU   X'01'               LOCAL LOCK IS HELD                   03650000
SLFPFLG4 DS    BL1                                                      03675000
SLFPMAIN EQU   B'11000000'         CURRENT MAINLINE SLIP MODULE IN     X03700000
                                   CONTROL                              03750000
SLFPTSLP EQU   B'00000000'         IEAVTSLP IS IN CONTROL               03800000
SLFPTSLB EQU   B'01000000'         IEAVTSLB IS IN CONTROL               03850000
SLFPTSLE EQU   B'10000000'         IEAVTSLE IS IN CONTROL               03900000
         SPACE 1                                                        03950000
SLFPMRTN EQU   B'00110000'         CURRENT MATCH ROUTINE MODULE IN     X04000000
                                   CONTROL                              04050000
SLFPMRNL EQU   B'00000000'         NO MATCH ROUTINE IS IN CONTROL       04100000
SLFPTSL1 EQU   B'00010000'         IEAVTSL1 IS IN CONTROL               04150000
SLFPTSL2 EQU   B'00100000'         IEAVTSL2 IS IN CONTROL               04200000
SLFPTSL3 EQU   B'00110000'         IEAVTSL3 IS IN CONTROL          @L6A 04225000
         SPACE 1                                                        04250000
SLFPSRTN EQU   B'00001000'         IEAVTSLS IS IN CONTROL               04300000
         SPACE 1                                                        04350000
SLFPFLG5 DS    BL1                                             @G385P1F 04375000
SLFPINST EQU   X'80'               INSTRUCTION CAUSING PER INTERRUPT   X04400000
                                   IS BEING EXAMINED                    04425000
SLFPUDA  EQU   X'40'               USER DATA IS BEING RETRIEVED         04450000
SLFPSAEX EQU   X'20'               INSTRUCTION CAUSING PER INTERRUPT   X04475000
                                   IS BEING EXAMINED IN ASIDSA         X04500000
                                   SUBROUTINE                  @G385P1F 04550000
SLFPCMTS EQU   X'10'              CMSET SSARTO ISSUED IN IEAVTSLS      X04600000
                                                               @G385P1F 04700000
SLFPCMT2 EQU   X'08'              CMSET SSARTO ISSUED IN IEAVTSL2      X04750000
                                                               @G385P1F 04800000
SLFPCMD1 EQU   X'04'              CMSET SET ISSUED IN DSSA ROUTINE     X04850000
                                  IN IEAVTSL1                      @L5A 05450000
SLFPCMP2 EQU   X'02'              CMSET DONE IN PVTMOD SEGMENT IN       05456200
                                  IEAVTSL2                         @L3A 05462400
SLFPCM2S EQU   X'01'              CMSET SET ISSUED IN ASIDLST ROUTINE  X05468600
                                  IN IEAVTSLS                      @L4A 05474800
SLFPFLG6 DS    BL1                                                 @L4A 05481000
SLFPCMT1 EQU   X'80'              CMSET SET ISSUED IN ASIDSA ROUTINE   X05487200
                                  IN IEAVTSL1                      @L4A 05493400
SLFPJC3  EQU   X'40'              Asvt access without serialization    X05495400
                                  in IEAVTSL3                      @L8A 05497400
SLFPVALK EQU   X'10'              SCVA DUMP LOCK WAS OBTAINED      @L6A 05499600
SLFPSVCD EQU   X'08'              SVCD WAS ISSUED                  @L6A 05505800
SLFPNRST EQU   X'04'              INTERRUPTED WORK WAS STOPPED AND     X05512000
                                  NEEDS TO BE RESET                @L6A 05518200
SLFPCPU  EQU   X'02'              CPU LOCK OBTAINED FOR CALLING        X05524400
                                  IEAVXAAC                         @L6A 05530600
SLFPCML  EQU   X'01'              SLIP HAS OBTAINED CML LOCK, ASCB     X05536800
                                  ADDRESS IS IN SLWAPASC           @L3A 05543000
SLFPFLG7 DS    BL1                Recovery flags                   @L8A 05544700
         SPACE 1                                               @G385P1F 05550000
         DS    CL1                 RESERVED                       @L8C  05600000
SLFPISTK DS    1F                  ADDRESS OF INTERRUPTED STACK THAT   X05650000
                                   WAS CURRENT ON ENTRY TO IEAVTSLP     05700000
SLFPLSTW DS    1F                  WORK AREA ADDR (PASSED IN SLPLLSTW)  05750000
SLFPSCE  DS    1F                  POINTER TO FIRST SCE THAT DOES NOT  X05800000
                                   NEED THE USE COUNT DECREMENTED       05850000
SLFPSA   DS    1F                  POINTER TO SAVE AREA PASSED TO      X05900000
                                   IEAVTSLP                             05950000
         MEND  ,                                                     */ 06000000
*%SLFPPLS2:;                                                            06050000
*                                                                       06100000
*   DECLARE                                                             06150000
*     1 SLFP BASED,                                                     06200000
*      2 SLFPFLGS,                  /* ERROR RECOVERY AUDIT TRAIL       06250000
*                                      FLAGS                         */ 06300000
*       3 SLFPFLG1 BIT(8),                                              06350000
*        4 SLFPRTS BIT(1),          /* RTS ENVIRONMENT               */ 06400000
*        4 SLFPRT2 BIT(1),          /* RT2 ENVIRONMENT               */ 06450000
*        4 SLFPPER BIT(1),          /* PER ENVIRONMENT           @L6M*/ 06500000
*        4 SLFPRTM BIT(1),          /* RTM ENVIRONMENT               */ 06600000
*        4 SLFPSM BIT(1),           /* SYSTEM MASK MUST BE RESTORED  */ 06650000
*        4 SLFPRST BIT(1),          /* RESTART LOCKWORD MUST BE         06700000
*                                      RELEASED                      */ 06750000
*        4 SLFPVAL BIT(1),          /* SLIP FRR PARAMETER AREA          06783300
*                                      COMPLETE                  @L6M*/ 06816600
*        4 SLFPFRR BIT(1),          /* THE FRR IS IN CONTROL         */ 06850000
*       3 SLFPFLG2 BIT(8),          /* MATCH ROUTINE IN CONTROL      */ 06900000
*       3 SLFPFLG3 BIT(8),                                              07350000
*        4 SLFPCHDU BIT(1),         /* CHNGDUMP ROUTINE IS IN CONTROL*/ 07365000
*        4 SLFPDU BIT(1),           /* DUMPIT ROUTINE IS IN CONTROL  */ 07380000
*        4 SLFPDETR BIT(1),         /* DETRMODE ROUTINE IS IN CONTROL*/ 07395000
*        4 SLFPADR BIT(1),          /* IEAVTADR IS IN CONTROL        */ 07410000
*        4 SLFPFPR BIT(1),          /* FLOATING POINT REGISTER MUST     07425000
*                                      BE RESTORED                   */ 07440000
*        4 SLFPSDLK BIT(1),         /* FOR DUMPIT SUBROUTINE,           07455000
*                                      INDICATES THE SDUMP 4K BUFFER    07470000
*                                      HAS BEEN LOCKED               */ 07485000
*        4 SLFPMTCH BIT(1),         /* MATCHING SLIP TRAP HAS BEEN      07500000
*                                      FOUND                         */ 07550000
*        4 SLFPLOCK BIT(1),         /* LOCAL LOCK IS HELD            */ 07600000
*       3 SLFPFLG4 BIT(8),                                              07850000
*        4 SLFPMAIN BIT(2),         /* CURRENT MAINLINE SLIP MODULE     08550000
*                                      IN CONTROL                    */ 08600000
*        4 SLFPMRTN BIT(2),         /* CURRENT MATCH ROUTINE MODULE     08650000
*                                      IN CONTROL                    */ 08700000
*        4 SLFPSRTN BIT(1),         /* IEAVTSLS IS IN CONTROL        */ 08750000
*        4 SlfpMsg992Obtained BIT(1), /* Msg IEA992I info area has      08768700
*                                      been obtained             @LAA*/ 08787400
*        4 * BIT(2),                /* RESERVED                  @LAC*/ 08806100
*       3 SLFPFLG5 BIT(8),          /*                       @G385P1F*/ 08825000
*        4 SLFPINST BIT(1),         /* INSTRUCTION CAUSING PER          08850000
*                                      INTERRUPT IS BEING EXAMINED   */ 08875000
*        4 SLFPUDA BIT(1),          /* USER DATA IS BEING RETRIEVED  */ 08900000
*        4 SLFPSAEX BIT(1),         /* INSTRUCTION CAUSING PER          08925000
*                                     INTERRUPT IS BEING EXAMINED IN    08950000
*                                     ASIDSA SUBROUTINE      @G385P1F*/ 09000000
*        4 SLFPCMTS BIT(1),         /* CMSET SSARTO ISSUED IN           09050000
*                                     IEAVTSLS               @G385P1F*/ 09200000
*        4 SLFPCMD1 BIT(1),         /* CMSET IN DSSA ROUTINE            09250000
*                                      WITHIN IEAVTSL1           @L5A*/ 09300000
*        4 SLFPCMT2 BIT(1),         /* CMSET SSARTO ISSUED IN           09350000
*                                     IEAVTSL2               @G385P1F*/ 09400000
*        4 SLFPCMP2 BIT(1),         /* CMSET DONE IN PVTMOD SEGMENT     09450000
*                                     IN IEAVTSL2                @L3C*/ 09500000
*        4 SLFPCM2S BIT(1),         /* CMSET IN ASIDLST ROUTINE         09750000
*                                      WITHIN IEAVTSLS           @L4A*/ 09800000
*       3 SLFPFLG6 BIT(8),          /* RECOVERY FLAGS            @L4A*/ 09825000
*        4 SLFPCMT1 BIT(1),         /* CMSET IN ASIDSA ROUTINE          09850000
*                                      WITHIN IEAVTSL1           @L4A*/ 09900000
*        4 SLFPJC3  BIT(1),         /* ASVT accessed without            09912000
*                                      serialization in IEAVTSL3 @L8A*/ 09924000
*        4 SLFPWALK BIT(1),         /* Wait area lock obtained   @L7A*/ 09936200
*        4 SLFPVALK BIT(1),         /* SCVA DUMP LOCK OBTAINED   @L6A*/ 09954400
*        4 SLFPSVCD BIT(1),         /* SVCD ISSUED               @L6A*/ 09981600
*        4 SLFPNRST BIT(1),         /* INTERRUPTED WORK WAS STOPPED     10008800
*                                      AND NEEDS TO BE RESET     @L6A*/ 10036000
*        4 SLFPCPU  BIT(1),         /* CPU LOCK OBTAINED FOR            10063200
*                                      CALLING SERVICE           @L6A*/ 10090400
*        4 SLFPCML  BIT(1),         /* CML LOCK OBTAINED, ASCB ADDRESS  10117600
*                                     IS IN SLWAPASC             @L3C*/ 10144800
*       3 SLFPFLG7 BIT(8),           /* Recovery flags           @L8A*/ 10154000
*        4 SLFPJCT BIT(1),          /* ASVT accessed without            10163200
*                                      serialization in IEAVTSLT @L8A*/ 10172400
*        4 SlfpCmsetInSldRange BIT(1), /* Issued CMSET in IEAVTSLD for  10173900
*                                       range keyword                 */10175400
*        4 SlfpCmsetInSldPvtmod BIT(1), /* Issued CMSET in IEAVTSLD for 10176900
*                                      pvtmod keyword                */ 10178400
*        4 SlfpAsvtAccessedInSld BIT(1), /* Accessing Asvt without      10179900
*                                      serialization in IEAVTSLD @L9A*/ 10181400
*        4 SlfpSceSerializedTwice BIT(1), /* Sce chain was serialized   10182900
*                                      on  (a second time)       @L9A*/ 10184400
*        4 SlfpSldInControl BIT(1), /* Indicates that we are in         10185900
*                                      module IEAVTSLD           @L9A*/ 10187400
*        4 SlfpLowCoreProtectionRemoved BIT(1), /* Indicates that low   10188000
*                                      core protection has been removed 10188600
*                                                                @D1A*/ 10189200
*        4 SlfpCmsetInSl3 BIT(1),   /* Indicates we are issuing a       10189700
*                                      CMSET SSARTO in IEAVTSL3  @D1A*/ 10190200
*      2 * CHAR(1),                 /* RESERVED                  @L8C*/ 10190800
*      2 SLFPISTK PTR(31),          /* ADDRESS OF INTERRUPTED STACK     10200000
*                                      THAT WAS CURRENT ON ENTRY TO     10250000
*                                      IEAVTSLP                      */ 10300000
*      2 SLFPLSTW PTR(31),          /* WORK AREA ADDR (PASSED IN        10350000
*                                      SLPLLSTW)                     */ 10400000
*      2 SLFPSCE PTR(31),           /* POINTER TO FIRST SCE THAT DOES   10450000
*                                      NOT NEED THE USE COUNT           10500000
*                                      DECREMENTED                   */ 10550000
*      2 SLFPSA PTR(31);            /* POINTER TO SAVE AREA PASSED TO   10600000
*                                      IEAVTSLP                      */ 10650000
*                                                                       10700000
*   DECLARE                         /* SLFPMAIN DEFINITIONS          */ 10750000
*     SLFPTSLP BIT(2) CONSTANT('00'B),/* IEAVTSLP IS IN CONTROL      */ 10800000
*     SLFPTSLB BIT(2) CONSTANT('01'B),/* IEAVTSLB IS IN CONTROL      */ 10850000
*     SLFPTSLE BIT(2) CONSTANT('10'B);/* IEAVTSLE IS IN CONTROL      */ 10900000
*                                                                       10950000
*   DECLARE                         /* SLFPMRTN DEFINITIONS          */ 11000000
*     SLFPMRNL BIT(2) CONSTANT('00'B),/* NO MATCH ROUTINE MODULE IS     11050000
*                                      IN CONTROL                    */ 11100000
*     SLFPTSL1 BIT(2) CONSTANT('01'B),/* IEAVTSL1 IS IN CONTROL      */ 11150000
*     SLFPTSL2 BIT(2) CONSTANT('10'B),/* IEAVTSL2 IS IN CONTROL      */ 11200000
*     SLFPTSL3 BIT(2) CONSTANT('11'B);/* IEAVTSL3 IS IN CONTROL  @L6A*/ 11250000
