*        %GOTO PLSQWA;                                               /* 00050000
         MACRO                                                          00074900
         ISGQWA                                                         00112400
**/                                                                     00150000
*%PLSQWA: ;                                                             00200000
*/* Start of Specifications ******************************************* 00209000
*                                                                       00300000
*01*  DESCRIPTIVE-NAME: QUEUE WORK AREA                                 00333300
*02*  Acronym:  QWA                                                     00366600
*                                                                       00400000
*01* Proprietary Statement =                                            00403000
*                                                                       00406000
*    LICENSED MATERIALS - PROPERTY OF IBM                               00409000
*    THIS MACRO IS "RESTRICTED MATERIALS OF IBM                         00412000
*    5647-A01 (C) COPYRIGHT IBM CORP. 1980, 1999                        00415000
*                                                                       00418000
*01* Status = JBB6607                                                   00421000
*                                                                       00424000
*01* External Classification: DMTI                                      00427000
*01* End of External Classification:                                    00430000
*                                                                       00433200
*01*  MACRO-NAME: ISGQWA                                                00450000
*                                                                       00500000
*01*  Macro Date: 04/14/2000                                            00649990
*                                                                       00821000
*01*  DSECT Name:  QWA                                                  00835200
*                                                                       00850000
*01* Component:  Global Resource Serialization (SCSDS)                  00854800
*                                                                       00859600
*01* Eye-Catcher:  Local QWA  - LQWA                                    00864400
*                  Global QWA - GQWA                                    00869200
*02*  Offset:  0                                                        00874000
*02*  Length:  4                                                        00878800
*                                                                       00883600
*01* Storage Attributes:                                                00888400
*02*    SUBPOOL:   245                                                  00893200
*02*    KEY:       0                                                    00898000
*02*    Residency: Below 16M line                                       00902800
*                                                                       00907600
*01* Size: 1200 BYTES                                              @L6C 00912400
*                                                                       00917200
*01*  CREATED-BY:  THE LOCAL/GLOBAL QWA-S HAVE BEEN DEFINED BY THE      00922000
*                  GRS RIM, ISGNCBIM.                                   00926800
*                                                                       00931600
*01*  DELETED-BY:  LOCAL QWA  - NOT DELETED.                            00936400
*                  GLOBAL QWA - NOT DELETED.                            00941200
*                  SVRB QWA   - DELETED AT RB TERMINATION.              00946000
*                                                                       00950800
*01*  POINTED-TO-BY:  LOCAL QWA  - GVTLQWA                              00955600
*                     GLOBAL QWA - GVTGQWA                              00960400
*                                                                       00965200
*01*  SERIALIZATION:  LOCAL QWA  - CMS ENQ/DEQ CLASS LOCK.              00970000
*                     GLOBAL QWA - GRS LOCAL LOCK.                      00974800
*                     SVRB QWA   - REQUESTOR'S LOCAL LOCK.              00979600
*                                                                       00984400
*01*  FUNCTION:                                                         00989200
*02*             USED AS A COMMON WORK AREA FOR THE ENQ/DEQ/RESERVE     00994000
*                PROCESSING ROUTINES.                                   01000000
*                NOTE THAT THE QWA MAY BE MAPPED TO THE FOLLOWING       01100000
*                STORAGE AREAS.                                         01150000
*                1. LOCAL QWA   - USED WHEN PROCESSING A                01200000
*                                 LOCAL RESOURCE.                       01250000
*                2. GLOBAL QWA  - USED WHEN PROCESSING A                01300000
*                                 GLOBAL RESOURCE.                      01350000
*                3. SVRB QWA    - USED DURING COMPLETION                01400000
*                                 PROCESSING. THIS AREA                 01450000
*                                 MAPS TO THE RB EXTENDED               01500000
*                                 SAVEAREA.                             01550000
*                                                                       01600000
*01*  METHOD-OF-ACCESS = BAL - DSECT IS PRODUCED REQUIRING A USING      01650000
*                              ON THE QWA.                              01700000
*                        PLS - QWA DECLARED AS A BASED STRUCTURE.       01750000
*                              QWAPTR MUST BE DECLARED.                 01800000
*                                                                       01850000
*01*  CHANGE-ACTIVITY:                                                  01900000
*                                                                       02663800
* Supports the following products:                                      02669300
*                                                                       02674800
* $L1=GRSRAS  ,JBB1326,810424,PD1M: GRS END OF TASK                @L1A 02680300
* $L3=MASIDENQ,JBB2125,820411,PD1L: MASID/MTCB ENQ/RESERVE         @L3A 02685900
* $L4=IPLDFRNL,JBB2125,820411,PD1L: IPL WITH DEFAULT RNLS          @L4A 02688600
* $L5=GRSPF   ,JBB3311,871115,PDAH: GRS PERFORMANCE ENHANCEMENTS.  @L5A 02690900
* $L6=4DGIT   ,HBB5510,930304,PD00DM: Add field for address of UCB      02691100
*                                     prefix                       @L6A 02691300
* $L7=GRSCS   ,HBB5510,940611,PDDX: Add bit QWA8DCVT               @L7A 02691400
* $L8=GRS32   ,JBB6602,951026,PDBN: GRS Star - contention notification  02691500
*                                     changes                      @L8A 02691600
* $L9=GRS32   ,JBB6602,951026,PDBD: GRS Star                            02691700
*                                   Star Mode ENQ RET=TEST              02691800
*                                                                       02691900
* Supports the following PTMs:                                          02692000
*                                                                       02692100
* $P1=PMM0378 ,JBB1326,810507,PD1M: PREVENT COMPILER INFORMATIONAL      02692200
*                                   MESSAGE IKE0405I               @P1A 02692300
*                                                                       02692400
* $P2=PCG0034 ,JBB3311,880302,PDDM: Remove redundant bit QWAFDTRY.      02692500
*                                   Add QWAFDQS for consistency with    02692600
*                                   QWBHFDQS.                      @P2A 02692700
*                                                                       02692800
* $P3=PCG0093 ,JBB3311,880425,PDDM: Name bit QWAMFGS to match QWB  @P3A 02692900
*                                                                       02693000
* $P4=PIG2268 ,HBB5510,930909,PD00DM: SHOWHDR support              @P4A 02693100
*                                                                       02693200
* $P5=Pxxxxxx ,JBB6602,940420,PDDX: From PIG3380.                       02693300
*              Combine QWASMC and QWARMC bits, and use the left over    02693400
*              bit for QWAMTDQ. This replaces the use of the            02693500
*              high-order bit of QWBHGRES for this information,         02693600
*              and removes the need for QWA6MTDQ.                  @P5C 02693700
* $P6=PWA0016 ,JBB6607,980511,PDSL: Add ISGGRSVS parmlist so            02693800
*                                   ISGGNQDQ can pass it QELPTR,        02693900
*                                   QWBPtr, and PELPtr.            @P6A 02694000
*                                                                       02694100
* Supports the following DCRs:                                          02694200
*                                                                       02694300
* $D1=208     ,HBB3310,870409,PDAH: ADD INDICATOR FOR LIST TYPE OF @D1A 02694400
*                                   REQUEST ON ORIGINATING SYSTEM  @D1A 02694500
*                                                                       02694600
* Supports the following APARs:                                         02694700
*                                                                       02694800
* OY08322 - GRS ENHANCEMENTS FOR SERVICE ADDRESS SPACES:                02694900
*            A) GQSCAN OBTAINS REQUESTORS ASID FROM THE SERVICE         02695000
*               ADDRESS SPACE                                           02695100
*            B) DISPLAY GRS COMMAND DISPLAYS REQUESTORS JOBNAME         02696300
*               AND ASID                                       @YA08322 02697500
*                                                                       02698700
* OY13087 - GRS RAS/OPERATIONS SPE                                      02698800
*                                                                       02698900
*           The QWARQDMG flag is defined to indicate if the             02699000
*           corresponding QWB is damaged.  This damage is detected      02699100
*           from an invalid QWBHSYID field.                    @YA13087 02699200
*                                                                       02699300
* OY56081 - Move QWBs above the line to avoid running out of space      02699400
*           during Queue Merge in a large or busy complex.              02699500
*                                                              @YA56081 02699600
*    =OW37982 ,HBB6608,990513,PDBD: Drag for OW37982                    02699700
* $01=OW49779 ,HBB6608,001127,PDLG: Wildcard support                    02699750
*                                                                       02699800
*                                                                       02699900
**** END OF SPECIFICATIONS **                                        */ 02700000
*/*A000000-999999                                            @G381PYC*/ 02750000
*        %GOTO PLSQWA1;                                              /* 02800000
QWA      DSECT                    QUEUE WORK AREA                       02850000
         DS    0D                                                       02900000
QWAID    DS    CL4                CONTROL BLOCK IDENTIFIER              02924900
QWABASIC DS    CL48               QWA BASIC SECTION - THIS IS THE       02950000
*                                 ONLY SECTION OF THE QWA THAT CAN BE   03000000
*                                 MAPPED TO THE RB EXTENDED SAVEAREA    03050000
*                                 OR THE RMPL WORK AREA                 03074900
         ORG   QWABASIC                                                 03100000
QWAPELA  DS    A                  INPUT PEL ADDRESS                     03300000
QWAKEY   DS    X                  REQUESTOR-S KEY                       03302900
QWARETRY DS    X                  ID FOR RETRY ADDRESS                  03305800
QWARSVD3 DS    2C                 RESERVED                              03308700
QWAPT1   DS    F                  PT OPERAND 1                          03311600
QWAPT2   DS    F                  PT OPERAND 2                          03314500
QWARSA   DS    CL28               REQUEST SAVE AREA - THIS AREA IS      03317400
*                                 MOVED TO THE QWBHRSA WHEN A GLOBAL    03319300
*                                 RESOURCE IS REQUESTED.                03321200
         ORG   QWARSA                                                   03323100
QWAMRBQ  DS    A                  POINTER TO FIRST MESSAGE IN MRB       03325000
*                                 QUEUE                                 03326900
QWAERR   DS    X                  FIRST DIGIT OF ABEND CODE             03329000
QWAMFGS  DS    B                  MISC FLAG BITS                 @P3C*/ 03329700
QWAFFDM  EQU   X'80'              FAST-DEQ-MARK-FLAG.  IF 1, BEING      03330400
*                                 PERFORMED ON BEHALF OF A TASK WHICH   03331100
*                                 RECEIVED A RETCODE OF ZERO WHEN IT    03331800
*                                 ISSUED A DEQ.  THE DEQ WAS HANDLED    03332500
*                                 BY FAST-DEQ                    @L5A*/ 03333200
QWAFDQS  EQU   X'40'              FAST-DEQ-QWB-SEEN FLAG. WHEN 1,       03333300
*                                 THIS FAST DEQ REQUEST-S QWB HAS BEEN  03333400
*                                 SEEN BY ISGGRP00 AND CAN BE FREED BY  03333500
*                                 ISGGNQDQ BACK-END OR HAS BEEN SEEN    03333600
*                                 BY ISGGNQDQ BACK-END AND CAN BE       03333700
*                                 FREED BY ISGGRP00              @P2A*/ 03333800
*                                                                @L5D*/ 03333900
QWAPFLGS DS    H                  SAVED PEL FLAGS                       03334800
         ORG   QWAPFLGS                                                 03336000
QWAPLAST DS    B                  SAVED PELLAST FLAG BYTE               03337200
QWAEOL   EQU   X'80'              PELEOL                       @ZMB0308 03338400
QWAIGNOR EQU   X'40'              PELIGNOR                     @ZMB0308 03338500
QWARES1  EQU   X'20'              PELRES1                      @ZMB0308 03338600
QWASHR   EQU   X'10'              PELSHR                       @ZMB0308 03338700
QWASAVE  EQU   X'08'              PELSAVE                      @ZMB0308 03338800
QWAGEN1  EQU   X'04'              PELGEN1                      @ZMB0308 03338900
QWAGEN2  EQU   X'02'              PELGEN2                      @ZMB0308 03339000
QWATCBF  EQU   X'01'              PELTCBF                      @ZMB0308 03339100
         ORG   QWAPFLGS+1                                               03339200
QWAPFLAG DS    B                  SAVED PELFLAG FLAG BYTE               03339300
QWASHARE EQU   X'80'              PELSHARE                     @ZMB0308 03339400
QWASCPE1 EQU   X'40'              PELSCPE1                     @ZMB0308 03339500
QWASYSMC EQU   X'20'              PELSYSMC                     @ZMB0308 03339600
QWASTPMC EQU   X'10'              PELSTPMC                     @ZMB0308 03339700
QWASCPE2 EQU   X'08'              PELSCPE2                     @ZMB0308 03339800
QWARET1  EQU   X'04'              PELRET1                      @ZMB0308 03339900
QWARET2  EQU   X'02'              PELRET2                      @ZMB0308 03340000
QWARET3  EQU   X'01'              PELRET3                      @ZMB0308 03340100
*                                                                       03341100
* THE FOLLOWING FLAGS ARE INITIALIZED IN THE QWA BY THE ENQ/DEQ/RESERVE 03344400
* MAINLINE ROUTINE. WHEN A GLOBAL RESOURCE REQUEST IS PROCESSED         03347700
* BY THE GRP, THIS DATA IS MOVED TO THE QWB HEADER (QWBHFLG1). WHEN     03351000
* THE ENQ/DEQ/RESERVE SVRB IS POSTED, THE INFORMATION IS MOVED BACK     03354600
* TO THE QWA. THEREFORE THE BIT DEFINITIONS OF QWBHFLG1 MUST MATCH      03358800
* THE BIT DEFINITIONS OF QWAFLAG1.                                      03363000
*                                                                       03367200
QWAFLAG1 DS    B                  QWA PROCESS FLAGS                     03371300
QWASTLC  EQU   X'80'              STEAL PROCESSING IS NOW COMPLETE,     03375600
*                                 I.E., STEAL QWB(S) HAVE BEEN PLACED   03379800
*                                 ON THE REQUEST QUEUE IF NECESSARY.    03384000
QWASMC   EQU   X'40'              SET SMC STATUS (on ENQ request        03385400
*                                 only)                            @P5C 03386800
QWARMC   EQU   X'40'              RESET SMC STATUS (on DEQ or purge     03388200
*                                 request only)                    @P5C 03389600
QWAMTDQ  EQU   X'20'              MASID-target DEQ.  A QEL was          03391000
*                                 DEQ-ed while it is the target         03392400
*                                 of another QEL that has a             03393800
*                                 non-zero QELMASID.               @P5M 03395200
QWASPOST EQU   X'10'              SPOST IS NECESSARY                    03396600
QWAINT   EQU   X'08'              AN INTERNALLY GENERATED               03400800
*                                 REQUEST                               03405000
QWALNGWT EQU   X'04'              A LONG-WAIT IS NECESSARY              03409200
QWAPC    EQU   X'02'              PC HAS BEEN ISSUED                    03412300
QWAPURG  EQU   X'01'              INDICATE ISGGDEQP HAS PURGED THE      03415400
*                                 QWB THAT WAS MAPPED TO THIS QWA.      03418500
*                                                                       03421800
* THE FOLLOWING FLAGS ARE INITIALIZED IN THE QWA BY THE                 03426000
* ENQ/DEQ/RESERVE MAINLINE ROUTINE. WHEN A GLOBAL RESOURCE IS           03430200
* REQUESTED, MAINLINE FRONT-END PROCESSING WILL MOVE THIS FLAG          03434400
* BYTE TO QWBHFLG2. THEREFORE THE BIT DEFINITIONS OF QWAFLAG2           03438600
* MUST MATCH THE BIT DEFINITIONS OF QWBHFLG2.                           03442800
*                                                                       03447000
QWAFLAG2 DS    B                  QWA STATUS FLAGS                      03451200
QWAMIXR  EQU   X'80'              MIXED RESOURCE REQUEST                03455400
QWATCBFA EQU   X'40'              REQUESTING TASK WAS ABENDING WHEN     03459600
*                                 THE REQUEST WAS RECEIVED              03463800
QWAAUTH  EQU   X'20'              REQUESTOR IS AUTHORIZED               03468000
QWAGLBL  EQU   X'10'              GLOBAL RESOURCES DEFINED IN THE QWB   03472200
QWAECBF  EQU   X'08'              ECB= SPECIFIED                        03476400
QWASVC56 EQU   X'04'              ENQ/RESERVE REQUEST                   03480600
QWAABDMC EQU   X'02'              THE TASK OR ADDRESS SPACE HAS         03484800
*                                 TERMINATED IN MC                      03486200
QWASYNCC EQU   X'01'              SYNCHRONIZATION COMPLETE              03487600
QWAGRES  DS    H                  FOR ENQ REQUESTS, THE NUMBER     @L1A 03488000
*                                 OF GLOBAL RESOURCES FOR WHICH         03488400
*                                 NO QEL WAS PUT IN QUEUE.              03488800
*                                 FOR DEQ REQUESTS, THE NUMBER OF       03489200
*                                 OF GLOBAL RESOURCES FOR WHICH         03489600
*                                 A QEL WAS REMOVED FROM QUEUE.         03490000
QWAECBA  DS    A                  ECB ADDRESS -  THIS FIELD IS          03490400
*                                 REPLACED BY QWAQWBA WHEN THE QWABASIC 03490500
*                                 SECTION MAPS TO THE SVRB EXTENDED     03490600
*                                 SAVEAREA                              03490700
         ORG   QWAECBA                                                  03490800
QWAQWBA  DS    A                  DUAL USE FIELD. THIS FIELD WILL ONLY  03490900
*                                 EXIST IN THE SVRB QWA WHEN AN ENQ/DEQ 03491000
*                                 REQUESTOR IS SUSPENDED. IF A LOCAL    03491100
*                                 RESOURCE IS BEING PROCESSED, THIS     03491200
*                                 FIELD CONTAINS ZEROES. IF A GLOBAL    03491300
*                                 RESOURCE IS BEING PROCESSED THIS      03491400
*                                 FIELD CONTAINS THE ADDRESS OF THE     03491500
*                                 FIRST QWB DEFINING THE REQUEST. THIS  03491600
*                                 ENSURES THE QWB ADDRESS IS MADE       03491700
*                                 AVAILABLE TO THE MAINLINE ESTAE       03491800
*                                 ROUTINE SHOULD AN ERROR OCCUR OVER    03491900
*                                 THE GLOBAL SUSPENSION.                03492000
QWATCBA  DS    A                  REQUESTOR-S (OR DIRECTED) TCB ADDRESS 03492100
QWASVRBA DS    A                  SVRB ADDRESS FOR THIS REQUEST         03492200
QWAQXB   DS    A                  ADDRESS OF QXB                        03492900
*                                                                       03493200
*     END OF RSA SECTION                                                03494500
*                                                                       03495800
QWAFLAG3 DS    B                  REQUEST PROCESSING FLAGS - THESE      03497100
*                                 FLAGS ARE NOT TRANSPOSED TO THE QWB   03498400
QWACMS   EQU   X'80'              CMS LOCK HELD                         03500000
QWAFRR   EQU   X'40'              FRR ESTABLISHED                       03550000
QWAREQLL EQU   X'20'              REQUESTOR-S LOCAL LOCK                03600000
QWAGRSLL EQU   X'10'              GRS LOCAL LOCK                        03650000
QWA3ERSQ EQU   X'08'              EARLY-RESERVE-QUEUE FLAG.  IF 1,      03681800
*                                 THE ENQ/DEQ REQUEST HAS A GLOBAL      03713600
*                                 RESOURCE WITH THE SAME NAME AS        03724200
*                                 AN EARLY-RESERVE LOCAL RESOURCE.      03734800
*                                 EVERY QWB OF THE REQUEST MUST         03745400
*                                 BE PLACED ON THE                      03756000
*                                 EARLY-RESERVE QUEUE.             @L4A 03766600
QWARQDMG EQU   X'04'              REQUEST DAMAGED FLAG.  IF 1, THE      03771800
*                                 QWB FOR THIS REQUEST WAS DAMAGED      03777000
*                                 SINCE THE QWBHSYID FIELD DID NOT      03782200
*                                 CONTAIN A VALID SYSID.  IF THE        03787400
*                                 REQUEST REPRESENTS AN ENQ, THE        03792600
*                                 ENQ PROCESSING ROUTINE WILL SET       03797800
*                                 THE QCBNOENQ FLAG IN EACH             03803000
*                                 REQUESTED QCB AND WILL ADD A QEL      03808200
*                                 TO THE QCB CHAIN.            @YA13087 03813400
QWA3RSV2 EQU   X'02'              RESERVED                         @P2C 03826400
QWALSTRQ EQU   X'01'              LIST REQUEST - IF 1, REQUEST WAS @D1C 03839400
*                                 PART OF A MULTIPLE RESOURCE      @D1C 03844600
*                                 REQUEST FROM THIS SYSTEM         @D1C 03849800
QWAFLAG4 DS    B                  REQUEST PROCESSING FLAGS - THESE      03855200
*                                 FLAGS ARE NOT TRANSPOSED TO THE       03894000
*                                 QWB                                   03933200
QWABADML EQU   X'80'              BAD MINOR LENGTH SPECIFIED            03950000
QWADMGE  EQU   X'40'              TRIGGERS Q-DAMAGE MESSAGE             04000000
QWAWAITN EQU   X'20'              WAITING QEL FOUND (NOT ECB)           04050000
QWA1DEQ  EQU   X'10'              AT LEAST 1 QEL DEQUEUED               04100000
QWA4RSV1 EQU   X'08'              RESERVED                     @ZMB0676 04150000
QWAWAIT  EQU   X'04'              WAIT WITHIN ENQ/DEQ                   04200000
QWAMVCP  EQU   X'02'              ISSUE MVCP - EITHER USER IS NOT       04250000
*                                 AUTHORIZED OR THE INPUT PEL COULD     04266600
*                                 NOT BE CONTAINED IN THE SQA QWB       04283200
QWANOENQ EQU   X'01'              TURN OFF ALL ENQ-S                    04300000
QWAFLAG5 DS    B                  REQUEST PROCESSING FLAGS - THESE      04317800
*                                 FLAGS ARE NOT TRANSPOSED TO THE       04335600
*                                 QWB                                   04353400
QWAGLBLQ EQU   X'80'              THE GLOBAL ASCB QEL QUEUE IS BEING    04371200
*                                 SEARCHED                              04389000
QWARMFP  EQU   X'40'              RMF HAS BEEN CALLED                   04406800
QWAHOLD  EQU   X'20'              ISSUE ENQHOLD SYSEVENT                04422700
QWAQXBO  EQU   X'10'              QXB OBTAINED                          04446500
QWACSYID EQU   X'08'              REQUEST WAS INITIATED FROM THE        04470400
*                                 CURRENT SYSTEM                        04495400
QWAPHLDR EQU   X'04'              QSCAN PLACE-HOLDER QCB IS BEING       04520400
*                                 PURGED                                04545400
QWAMOD24 EQU   X'02'              REQUEST WAS INITIATED IN 24-BIT       04595400
*                                 AMODE                        @G860PWE 04645400
QWAGBLRS EQU   X'01'              TASK OWNS GLOBAL RESOURCES       @L1A 04695400
QWAFLAG6 DS    B                  QWA STATUS FLAGS                 @L1A 04745400
QWAR15SW EQU   X'80'              NON-ZERO RETURN CODE PRESENT     @L1A 04795400
QWA6ECBZ EQU   X'40'              ECB-ZERO FLAG.  ECB-OPERAND WAS  @L3C 04814100
*                                 SPECIFIED, WITH ECB-ADDRESS OF   @L3A 04832800
*                                 ZERO.  SET FLAG QELECBZ.         @L3A 04851500
QWA6GERT EQU   X'20'              Global ENQ RET=TEST PELs exist   @L9C 04882800
*                                 for this request                 @L9C 04914100
QWA6ARV5 EQU   X'10'              RESERVED                         @L1A 04945400
QWA6ARV4 EQU   X'08'              RESERVED                         @L1A 04995400
QWA6ARV3 EQU   X'04'              RESERVED                         @L1A 05045400
QWA6ARV2 EQU   X'02'              RESERVED                         @L1A 05095400
QWA6ARV1 EQU   X'01'              RESERVED                         @L1A 05145400
QWAEND1  EQU   *                  END BASIC SECTION                     05270000
*                                                                       05310000
*   NOTE THAT THE FOLLOWING FIELDS ARE NOT INCLUDED IN THE SVRB QWA     05350000
*                                                                       05390000
QWARDA   DS    CL140              REQUEST DATA AREA            @ZMB0308 05392600
         ORG   QWARDA                                                   05395200
QWARSA2  DS    CL16               SECOND REQUEST SAVE AREA (MOVED TO    05397900
*                                 THE QWB)                              05399200
         ORG   QWARSA2                                                  05400500
QWAJOBNM DS    CL8                JOBNAME/USERID OF REQUESTOR           05401800
QWAORIGN DS    F                  ORIGIN OF REQUESTOR                   05403300
         ORG   QWAORIGN                                                 05404200
QWASYSID DS    H                  SYSID OF REQUESTOR                    05405100
QWAASID  DS    H                  ASID OF REQUESTOR                     05406000
QWAASCB  DS    A                  IF ENQ/DEQ/RESERVE, ADDRESS OF        05406100
*                                 REQUESTOR-S ASCB. NOTE THAT IF THE    05406200
*                                 HIGH-ORDER BIT IS SET, AN ISGQSCAN    05406300
*                                 INFORMATION ROUTINE EXISTS FOR THE    05406400
*                                 ADDRESS SPACE. IF A PURGE REQUEST,    05406500
*                                 ADDRESS OF TARGET ASCB.               05406600
*                                                                       05406700
*                                                                       05406800
*                                                                       05406900
*                                                                       05407000
*                                                                       05407100
*     END OF RSA2 SECTION                                               05407200
*                                                                       05407300
QWALOCLR DS    F                  COUNT OF LOCAL RESOURCES REQUESTED    05407400
QWAGLBLR DS    F                  COUNT OF GLOBAL RESOURCES REQUESTED   05407500
QWAQWBS  DS    F                  COUNT OF QWB-S REQUIRED TO CONTAIN    05407600
*                                 A GLOBAL RESOURCE REQUEST.            05407700
QWAFREEC DS    F                  COUNT OF QCB/QEL/QXB-S TO BE FREED    05407800
QWACPELR DS    F                  COUNT OF PEL ENTRIES REMAINING TO     05407900
*                                 BE MOVED TO THE PRIVATE AREA QWB(S)   05408000
QWAPRMSZ DS    F                  TOTAL SIZE OF INPUT PEL               05408100
QWANMESZ DS    F                  TOTAL SIZE OF QNAME/RNAME-S IN PEL    05408900
QWAQWBSZ DS    H                  AVAILABLE BYTES IN A PRIVATE AREA     05412200
*                                 QWB                                   05413300
QWACSYS  DS    H                  CURRENT SYSID (0 FOR A LOCAL RESOURCE 05414400
*                                 REQUEST)                              05414700
QWAQWBHS DS    A                  ADDRESS OF THE QWB HEADER AND SMPL.   05415100
*                                 IF A LOCAL RESOURCE IS BEING          05415800
*                                 PROCESSED, CONTAINS THE ADDRESS       05416500
*                                 OF THE SQA QWB. IF A GLOBAL RESOURCE  05417200
*                                 IS BEING PROCESSED, CONTAINS          05417900
*                                 THE ADDRESS OF A PRIVATE AREA QWB.    05418600
QWAQWBF  DS    A                  ADDRESS OF FIRST QWB ON THE           05419700
*                                 REQUEST HOLD QUEUE                    05420400
QWAQWBL  DS    A                  ADDRESS OF LAST QWB ON THE AVAILABLE  05421100
*                                 HOLD QUEUE                            05421800
QWAFQEL  DS    A                  ADDRESS OF FIRST INITIALIZED QEL      05423500
*                                 FOR THE CURRENT REQUEST               05423800
QWACOQWB DS    A                  CURRENT OUTPUT QWB ADDRESS - I.E. THE 05424300
*                                 PRIVATE AREA QWB(S) TO CONTAIN THE    05425100
*                                 GLOBAL RESOURCE(S).                   05425900
QWACIQWB DS    A                  CURRENT INPUT QWB ADDRESS, I.E., THE  05426700
*                                 SQA QWB OR SQA QWB EXTENSIONS.        05427200
QWANSLOT DS    A                  NEXT QWB SLOT                         05427700
QWAHASH  DS    A                  HASH TABLE SLOT OF INPUT RESOURCE     05450400
*                                 NAME                                  05457800
QWAFQWB  DS    A                  ADDRESS OF FIRST QWB DEFINING THE     05459000
*                                 GLOBAL REQUEST                        05460200
QWAPPELE DS    A                  PREVIOUS PEL ENTRY                    05462600
QWAGSA   DS    A                  ADDRESS OF LOCAL OR GLOBAL GSA        05463100
QWADPL   DS    CL20               DEQ PURGE LIST                        05463200
QWACNFY@ DS    CL4                Address of contention notification    05463300
*                                   parameter list                 @L8C 05463400
QWANQAR@ DS    A                  Pointer to copy of QWA, SQA QWB, and  05463510
QWAEXITS DS    B                  Exit processing indicators       @01A 05463520
QWACKEX  EQU   X'80'              When set, exits have been checked     05463530
*                                                                  @01A 05463540
QWANXNQ  EQU   X'40'              When set, there is an ISGNQXIT exit   05463550
*                                 routine                          @01A 05463560
QWANXBX  EQU   X'20'              When set, there is an ISGNQXITBATCH   05463570
*                                 exit routine                     @01A 05463580
QWANXQ1X EQU   X'10'              When set, there is an ISGNQXITQUEUED1 05463590
*                                 exit routine                     @01A 05463600
*        EQU   X'08'              Reserved                         @01A 05463610
QWANXLQD EQU   X'04'              When set, there is an ISGENDOFLQCB    05463620
*                                 exit routine                     @01A 05463630
*        EQU   X'03'              Reserved                         @01A 05463640
         DS    CL3                Reserved                         @01A 05463650
QWAGVTAD DS    A                  ADDRESS OF GVT                   @L3A 05463700
QWARSVSP DS    CL12               ISGGRSVS Parameter List          @P6C 05463800
         ORG   QWARSVSP                                                 05463900
QWAQWB@  DS    A                  Pointer to QWA                   @P6A 05464000
QWAQEL@  DS    A                  Pointer to QEL                   @P6A 05464100
QWAPEL@  DS    A                  Pointer to PEL                   @P6A 05464200
QWAEND2  EQU   *                  END OF AREA CLEARED                   05464300
QWAWORK1 DS    F                  GENERAL PURPOSE WORKAREA     @ZMB0308 05464400
*                                                                       05464500
*  SAVEAREAS FOLLOW. NOTE THE FOLLOWING PROTOCOL FOR USE OF THESE       05464600
*  SAVEAREAS. SAVEAREAS 1-3 CAN BE USED BY ANY ROUTINE WITH CORRECT     05464700
*  SERIALIZATION BUT CANNOT BE USED BETWEEN MODULES.  (ISGGNQDQ,   @L3C 05464800
*  ISGGQWBC, AND ISGGPGRP ARE COUNTED AS ONE MODULE IN APPLYING    @L3C 05464900
*  THIS RULE.)                                                     @L3A 05465000
*  ISGGNQDQ PLACES THE ADDRESS OF QWASAVE1 IN REGISTER 13 BEFORE   @L3A 05465100
*  CALLING ISGGQWBC OR ISGGPGRP.  THESE MODULES MUST NOT USE       @L3A 05465200
*  QWASAVE1.                                                       @L3A 05465300
*  SAVEAREA 4 IS USED BY ISGGRP00 TO INTERFACE WITH ISGGNQDQ            05465400
*                          AND ISGGDEQP, AND BY ISGGNQDQ TO        @L3A 05465500
*                          CALL ISGGQWBI.                          @L3A 05465600
*       (NOTE: THE SAVEAREA IS USED FOR ISGGQWBI IN THE            @L3A 05465700
*                FRONT-END OF ISGGNQDQ, AND IS USED BY ISGGRP00    @L3A 05465800
*                IN THE BACK-END PROCESSING DONE BY ISGGNQDQ.)     @L3A 05465900
*  SAVEAREA 5 IS USED BY ISGGDEQP TO INTERFACE WITH ISGGNQDQ            05466400
*             AND BY ISGGQWBI IN CALLING EXTERNAL ROUTINES.        @L3C 05467000
*  (ISGGDEQP PLACES THE ADDRESS OF QWASAVE5 IN REGISTER 13 BEFORE       05467400
*  CALLING ENTRY-POINT ISGGDQ00 OF ISGGNQDQ.  ISGGQWBI IS NOT           05467900
*  CALLED ON THIS PATH, WHICH IS BACK-END PROCESSING.)             @L3C 05468400
*                                                                       05468900
QWASAVE1 DS    18F                SAVE AREA 1 - LEVEL 1 S.A.            05469400
QWASAVE2 DS    18F                SAVE AREA 2 - LEVEL 2 S.A.            05469900
QWASAVE3 DS    18F                SAVE AREA 3 - LEVEL 3 S.A.            05470400
QWASAVE4 DS    18F                SAVE AREA 4 - FOR GRP00 AND GQWBI     05470900
QWASAVE5 DS    18F                SAVEAREA 5 - USED ONLY BY ISGGDEQP    05471900
*                                 AND ISGGQWBI                          05472000
QWAS1R14 DS    A                  REGISTER 14 SUBROUTINE SAVEAREA 1     05472100
QWAS2R14 DS    A                  REGISTER 14 SUBROUTINE SAVEAREA 2     05472200
QWAS3R14 DS    A                  REGISTER 14 SUBROUTINE SAVEAREA 3     05472300
QWAS4R14 DS    A                  REGISTER 14 SUBROUTINE SAVEAREA 4     05472400
QWAE1R13 DS    A                  REGISTER 13 ENTRY POINT SAVEAREA 1    05472500
QWAGRP13 DS    A                  SAVEAREA TO CONTAIN THE SAVEAREA      05472600
*                                 ADDRESS  PROVIDED BY THE ATTACH OF    05472700
*                                 GRP.                                  05472800
QWATRMRM DS    CL52               ENQ/DEQ TERMINATION RESOURCE          05472900
*                                 MANAGER WORK AREA.                    05473000
         ORG   QWATRMRM                                                 05473100
QWASTPNM DS    CL8                STEPNAME OF TERMINATING TASK          05473200
QWARMFLG DS    B                  RESOURCE MANAGER FLAGS                05473300
QWAJSTEP EQU   X'80'              WHEN 1, JOBSTEP IS TERMINATING        05473400
QWARMRV7 EQU   X'40'              RESERVED                              05473500
QWARMRV6 EQU   X'20'              RESERVED                              05473600
QWARMRV5 EQU   X'10'              RESERVED                              05473700
QWARMRV4 EQU   X'08'              RESERVED                              05473800
QWARMRV3 EQU   X'04'              RESERVED                              05473900
QWARMRV2 EQU   X'02'              RESERVED                              05474000
QWARMRV1 EQU   X'01'              RESERVED                              05474100
QWARMR01 DS    CL3                RESERVED                              05474200
QWACCODE DS    CL4                COMPLETION CODE                       05474300
         ORG   QWACCODE                                                 05474400
QWACOMPC DS    CL3                SYSTEM COMPLETION CODE IS FIRST 12    05474500
*                                 BITS.                                 05474600
*                                 USER COMPLETION CODE IS LAST 12 BITS. 05474700
QWACCRV1 DS    CL1                RESERVED                              05474800
QWARB    DS    A                  CURRENT RB                            05474900
QWARUBTM DS    CL32               REGISTER UPDATE BLOCK FOR ISGGTRM1    05475000
*                                 RECOVERY                              05475100
QWAPGRWA DS    CL64               WORK-AREA USED BY ISGGPGRP       @L3A 05475200
QWAPGROA DS    CL12               OUTPUT AREA PRODUCED BY ISGGPGRP.@L3A 05475300
         ORG   QWAPGROA                                            @L3A 05475400
QWAFLAG7 DS    BL1                FIRST FLAG-BYTE FROM ISGGPGRP.   @L3A 05475500
QWA7OWNR EQU   X'80'              REQUESTOR OWNS RESORCE, OR       @L3A 05475600
*                                      REQUESTOR IS NOT ON         @L3A 05475700
*                                      QEL-CHAIN BUT WILL OWN      @L3A 05475800
*                                      RESOURCE WHEN ITS QEL IS    @L3A 05475900
*                                      ADDED TO THE QEL-CHAIN      @L3A 05476000
QWA7AURC EQU   X'40'              ADJUST-UCB-RESERVE-COUNT.        @L3A 05477400
*                                      IF 1, THE CALLER SHOULD     @L3A 05478800
*                                      INCREASE THE UCB-RESERVE    @L3A 05479000
*                                      COUNT (ENQ/RESERVE) OR      @L3A 05479200
*                                      REDUCE THE COUNT (DEQ).     @L3A 05479400
*                                      (THIS ADJUSTMENT SHOULD BE  @L3A 05479600
*                                      DONE ONLY IF THE CALLER     @L3A 05479800
*                                      FINDS THAT THE              @L3A 05480000
*                                      RESERVE-CONVERSION RNLE     @L3A 05480200
*                                      DOES NOT SUPPRESS THE       @L3A 05480400
*                                      RESERVE).  VALID ONLY IN    @L3A 05480500
*                                      ORIGINATING SYSTEM.         @L3A 05480600
QWA7CHGA EQU   X'20'              EXCLUSIVE-CONTROL ALLOWED.  IF   @L3A 05480700
*                                      ENQ RET=CHNG: THE MATCH-QEL @L3A 05480800
*                                      IS THE ONLY QEL THAT OWNS   @L3A 05480900
*                                      THE RESOURCE. IF MASID-ENQ: @L3A 05481000
*                                      EXCLUSIVE-CONTROL IS        @L3A 05481100
*                                      ALLOWED IMMEDIATELY.        @L3A 05481200
*                                      IF MASID-ENQ CASE: VALID    @L3A 05481300
*                                      ONLY IN ORIGINATING SYSTEM. @L3A 05481400
QWA7HOLD EQU   X'10'              ISSUE SYSEVENT-HOLD(S).          @L3A 05481500
QWA7POST EQU   X'08'              POST A QEL OR QELS.              @L3A 05481600
QWA7RLSE EQU   X'04'              ISSUE SYSEVENT-RLSE(S).          @L3A 05481700
QWA7COEX EQU   X'02'              COEXISTENCE RETURN-CODE FLAG.    @L3A 05481800
*                                      IF 1, THIS SYSTEM COULD NOT @L3A 05481900
*                                      HONOR AN EXCLUSIVE ENQ      @L3A 05482000
*                                      WITH MASID OPERAND BECAUSE  @L3A 05482100
*                                      THE RESOURCE IS SHARED.     @L3A 05482200
*                                      VALID ONLY IN               @L3A 05482300
*                                      ORIGINATING SYSTEM.         @L3A 05482400
QWA7ABMR EQU   X'01'              MASID-RESTRICTION VIOLATED.      @L3A 05482500
*                                      ENQ WITH MASID VIOLATES A   @L3A 05482600
*                                      RESTRICTION, OR DEQ         @L3A 05482700
*                                      RELEASES A RESOURCE USED    @L3A 05482800
*                                      AS A MASID TARGET.          @L3A 05482900
*                                      VALID ONLY IN               @L3A 05483000
*                                      ORIGINATING SYSTEM.         @L3A 05483100
QWAFLAG8 DS    BL1                SECOND FLAG-BYTE FROM ISGGPGRP.  @L3A 05483200
QWA8EXSH EQU   X'80'              EXC/SHR.  1 MEANS RC=8 ENQ       @L3A 05483300
*                                      SHOULD REPORT SHR CONTROL   @L3A 05483400
*                                      VALID ONLY IN               @L3A 05483500
*                                      ORIGINATING SYSTEM.         @L3A 05483600
QWA8DCVT EQU   X'40'              Delayed convert request being POSTed. 05483700
*                                 Indicates that the QEL pointed to     05483800
*                                 by QWAPSTAD is a MASID convert-to     05483900
*                                 exclusive that can now be given       05484000
*                                 access to the resource without        05484100
*                                 actually owning it.              @L7A 05484200
QWA8CNST EQU   X'20'              Start of contention              @L8C 05484300
QWA8CNCH EQU   X'10'              Change in contention             @L8C 05484400
QWA8CNEN EQU   X'08'              End of contention                @L8C 05484500
QWA8RSV3 EQU   X'04'              RESERVED.                        @L3A 05484600
QWA8RSV2 EQU   X'02'              RESERVED.                        @L3A 05484700
QWA8RSV1 EQU   X'01'              RESERVED.                        @L3A 05484800
QWAGPMAS DS    H                   MASID-VALUE TO BE PLACED IN     @L3A 05484900
*                                  NEW QEL (IF ANY).               @L3A 05485000
QWAMQLAD DS    A                   ADDRESS OF MATCH-QEL (OUTPUT    @L3A 05485100
QWADSTAD DS    A                   DEFERRED-STEAL ADDRESS.         @L3A 05485200
*                                  ADDRESS OF A QEL THAT CAN NOW   @L3A 05485500
*                                  BE STOLEN WHEN A MASIDQEL IS    @L3A 05486000
*                                  DEQ-ED.                         @L3A 05486500
*                                  VALID ONLY IN                   @L3A 05486600
*                                  ORIGINATING SYSTEM.             @L3A 05486700
*    END OF ISGGPGRP OUTPUT AREA                                   @L3A 05487000
*                                                                  @L3A 05487500
QWAPGRFN DS    AL1                 FUNCTION-CODE FOR ISGGPGRP      @L3A 05488000
QWAPGFMS EQU   X'01'               FUNCTION MASID-SCAN             @L3A 05488100
QWAPGFEQ EQU   X'02'               FUNCTION ENQ                    @L3A 05488200
QWAPGFDQ EQU   X'03'               FUNCTION DEQ                    @L3A 05488300
QWARSVD5 DS    CL1                RESERVED                         @L3A 05488500
QWAFMTVL DS    H                  VALUE OF FORMAT-BYTE THAT        @L3A 05489900
*                                 PRECEDES FIRST PEL, OR ZERO.     @L3A 05490100
QWASEHCT DS    F                   COUNT OF SYSEVENT-HOLDS TO BE   @L3A 05496900
*                                  ISSUED.                         @L3A 05503700
QWAPSTCT DS    F                   COUNT OF POSTS TO BE ISSUED.    @L3A 05504000
QWASERCT DS    F                   COUNT OF SYSEVENT-RLSES TO BE   @L3A 05504300
*                                  ISSUED.                         @L3A 05504600
QWASEHAD DS    A                   ADDRESS OF FIRST QEL TO BE      @L3A 05505100
*                                  TARGET OF SYSEVENT-HOLD.        @L3A 05505800
QWAPSTAD DS    A                   ADDRESS OF FIRST QEL TO BE      @L3A 05508600
*                                  TARGET OF POST.                 @L3A 05509300
QWASERAD DS    A                   ADDRESS OF FIRST QEL TO BE      @L3A 05512800
*                                  TARGET OF SYSEVENT-RLSE.        @L3A 05513500
QWACLR2B DS    CL32               BEGINNING OF SECOND QWA SECTION  @L3C 05522000
*                                 THAT IS CLEARED AT BEGINNING OF  @L3A 05522100
*                                 ENQ OR DEQ REQUEST               @L3A 05522200
         ORG   QWACLR2B                                            @L3A 05522400
QWANWPEL DS    CL24                BEGINNING OF PARAMETERS FROM    @L3A 05522600
*                                  NEW-FORMAT PEL-PREFIX.  THIS    @L3A 05522800
*                                  FIELD IS SENT TO OTHER SYSTEMS  @L3A 05523000
*                                  IN FIELDS QWBXRSA3 AND QWBXR3LN @L3A 05523200
*                                  OF MAPPING MACRO ISGQWB.        @L3A 05523400
         ORG   QWANWPEL                                            @L3A 05524000
QWANPTCB DS    A                   TCB-ADDRESS OR ZERO             @L3A 05524700
QWANPECB DS    A                   ECB-ADDRESS OR ZERO             @L3A 05525400
QWANPMAS DS    F                   MASID-OPERAND OR ZERO           @L3A 05526100
QWANPMTC DS    A                   MTCB-OPERAND OR ZERO            @L3A 05526800
QWARSVC4 DS    CL8                 RESERVED.                       @L3A 05527500
QWANPEND DS    0A                  END OF PARAMETERS FROM          @L3A 05528200
*                                      NEW-FORMAT PEL-PREFIX.      @L3A 05528900
*                                                                       05530100
*     END OF QWANWPEL SECTION                                           05531300
*                                                                       05532500
QWAFLAG9 DS    BL1                FLAG-BYTE                        @L3A 05532600
QWA9CNPP EQU   X'80'              COPY NEW-FORMAT PEL-PREFIX FLAG.      05532700
*                                 USED BY ISGGQWBI.                @L3A 05532800
QWA9DSTL EQU   X'40'              DEFERRED-STEAL NEEDED.  USED BY       05533000
*                                 XDEQQEL SUBROUTINE OF ISGGNQDQ.  @L3A 05533200
QWA9RSV6 EQU   X'20'              RESERVED.                        @L3A 05533600
QWA9RSV5 EQU   X'10'              RESERVED.                        @L3A 05534100
QWA9RSV4 EQU   X'08'              RESERVED.                        @L3A 05534200
QWA9RSV3 EQU   X'04'              RESERVED.                        @L3A 05534300
QWA9RSV2 EQU   X'02'              RESERVED.                        @L3A 05534400
QWA9RSV1 EQU   X'01'              RESERVED.                        @L3A 05534500
QWARSVD6 DS    CL7                RESERVED                         @L3A 05534600
*                                                                       05534700
*     END OF QWACLR2B SECTION                                           05534800
*                                                                       05534900
         DS    CL408               Reserved                        @01C 05537990
QWACMSXM DS    CL12                XMSAVE area for CMSET           @01A 05540980
QWAUCBP@ DS    A                   UCB prefix address - used for        05546600
*                                  DEQ of a RESERVE                @L6A 05547100
QWARSNCD DS    F                   QWAERR REASON CODE              @01A 05547690
         DS    CL4                 Reserved                        @01C 05547780
QWAEND3  DS    0D                 END QWA                          @L3C 05548100
QWA_KLENGTH EQU QWAEND3-QWA                                        @01A 05549000
         MEND                                                           05550000
*                                                                    */ 05600000
*%PLSQWA1: ;                                                            05650000
* DCL 1 QWA BASED(QWAPTR) BDY(DWORD), /* QUEUE WORK AREA             */ 05700000
*       3 QWAID    CHAR(4) BDY(DWORD), /* CONTROL BLOCK IDENTIFIER   */ 05750000
*       3 QWABASIC CHAR(48) BDY(WORD), /* QWA BASIC SECTION - THIS IS   05800000
*                                      THE ONLY  SECTION THAT CAN MAP   05850000
*                                      TO THE RB EXTENDED SAVEAREA      05900000
*                                      OR THE RMPL WORK AREA         */ 05950000
*         5 QWAPELA  PTR(31),       /* INPUT PEL ADDRESS             */ 06100000
*         5 QWAKEY   FIXED(8),      /* REQUESTOR-S KEY               */ 06102600
*         5 QWARETRY FIXED(8),      /* ID FOR RETRY ADDRESS          */ 06105200
*         5 QWARSVD3 CHAR(2),       /* RESERVED                      */ 06107800
*         5 QWAPT1   PTR(31),       /* PT OPERAND 1                  */ 06110400
*         5 QWAPT2   PTR(31),       /* PT OPERAND 2                  */ 06113000
*         5 QWARSA CHAR(28) BDY(WORD), /* REQUEST SAVE AREA - THIS AREA 06115600
*                                      IS MOVED TO THE QWBHRSA WHEN A   06117100
*                                      GLOBAL RESOURCE IS REQUESTED  */ 06118600
*           7 QWAMRBQ  PTR(31),     /* POINTER TO FIRST MESSAGE IN      06120100
*                                      MRB QUEUE                     */ 06121600
*           7 QWAERR   FIXED(8),    /* FIRST DIGIT OF ABEND CODE     */ 06123400
*           7 QWAMFGS  BIT(8),      /* MISC FLAG BITS            @P3C*/ 06124000
*             9 QWAFFDM   BIT(1),   /* FAST-DEQ-MARK-FLAG.  IF 1,       06124600
*                                      BEING PERFORMED ON BEHALF OF A   06125200
*                                      TASK WHICH RECEIVES A RETCODE OF 06125800
*                                      OF ZERO WHEN IT ISSUED A DEQ.    06126400
*                                      THE DEQ WAS HANDLED BY FAST-DEQ. 06127000
*                                                                @L5A*/ 06127600
*             9 QWAFDQS   BIT(1),   /* FAST-DEQ-QWB-SEEN FLAG. WHEN 1,  06127700
*                                      THIS FAST DEQ REQUEST-S QWB HAS  06127800
*                                      BEEN SEEN BY ISGGRP00 AND CAN    06127900
*                                      BE FREED BY ISGGNQDQ BACK-END    06128000
*                                      OR HAS BEEN SEEN BY ISGGNQDQ     06128100
*                                      BACK-END AND CAN BE FREED BY     06128200
*                                      ISGGRP00                  @P2A*/ 06128300
*             9 *         BIT(6),   /* RESERVED                  @P2C*/ 06128400
*           7 QWAPFLGS FIXED(16),   /* SAVED PEL FLAGS               */ 06128900
*             9 QWAPLAST FIXED(8),  /* SAVED PELLAST FLAG BYTE       */ 06129800
*               11 QWAEOL BIT(1),   /* PELEOL                @ZMB0308*/ 06130700
*               11 QWAIGNOR BIT(1), /* PELIGNOR              @ZMB0308*/ 06130900
*               11 QWARES1  BIT(1), /* PELRES1               @ZMB0308*/ 06131100
*               11 QWASHR   BIT(1), /* PELSHR                @ZMB0308*/ 06131300
*               11 QWASAVE  BIT(1), /* PELSAVE               @ZMB0308*/ 06131500
*               11 QWAGEN1  BIT(1), /* PELGEN1               @ZMB0308*/ 06131700
*               11 QWAGEN2  BIT(1), /* PELGEN2               @ZMB0308*/ 06131900
*               11 QWATCBF  BIT(1), /* PELTCBF               @ZMB0308*/ 06132100
*             9 QWAPFLAG FIXED(8),  /* SAVED PELFLAG FLAG BYTE       */ 06132300
*               11 QWASHARE BIT(1), /* PELSHARE              @ZMB0308*/ 06132500
*               11 QWASCPE1 BIT(1), /* PELSCPE1              @ZMB0308*/ 06132700
*               11 QWASYSMC BIT(1), /* PELSYSMC              @ZMB0308*/ 06132900
*               11 QWASTPMC BIT(1), /* PELSTPMC              @ZMB0308*/ 06133100
*               11 QWASCPE2 BIT(1), /* PELSCPE2              @ZMB0308*/ 06133300
*               11 QWARET1  BIT(1), /* PELRET1               @ZMB0308*/ 06133500
*               11 QWARET2  BIT(1), /* PELRET2               @ZMB0308*/ 06133700
*               11 QWARET3  BIT(1), /* PELRET3               @ZMB0308*/ 06133900
*           7 QWAFLAG1 BIT(8),      /* QWA PROCESS FLAGS             */ 06134100
*/*                                                                  */ 06136000
*/* THE FOLLOWING FLAGS ARE INITIALIZED IN THE QWA BY THE            */ 06140000
*/* ENQ/DEQ/RESERVE MAINLINE ROUTINE. WHEN A GLOBAL RESOURCE REQUEST */ 06144000
*/* IS PROCESSED BY THE GRP, THE DATA IS MOVED TO THE QWB HEADER     */ 06148000
*/* (QWBHFLG1). WHEN THE ENQ/DEQ/RESERVE SVRB IS POST'D, THE         */ 06152000
*/* INFORMATION IS MOVED BACK TO THE QWA. THEREFORE THE BIT          */ 06156000
*/* DEFINITIONS OF QWBHFLG1 MUST MATCH THE BIT DEFINITION OF         */ 06160000
*/* QWAFLAG1.                                                        */ 06164000
*/*                                                                  */ 06168000
*             9 QWASTLC  BIT(1),    /* STEAL PROCESSING IS NOW          06172000
*                                      COMPLETE, I.E., STEAL QWB(S)     06176000
*                                      HAVE BEEN PLACED ON THE          06180000
*                                      REQUEST QUEUE IF NECESSARY    */ 06184000
*             9 QWASMC   BIT(1),    /* INDICATES SET SMC STATUS (on     06185200
*                                      ENQ request only)         @P5C*/ 06186400
*               11 QWARMC   BIT(1), /* INDICATES RESET SMC STATUS (on   06187600
*                                      DEQ or purge request only)       06188800
*                                                                @P5C*/ 06190000
*             9 QWAMTDQ BIT(1),     /* MASID-target DEQ.  A QEL was     06191200
*                                      DEQ-ed while it is the target    06192400
*                                      of another QEL that has a        06193600
*                                      non-zero QELMASID.        @P5M*/ 06194800
*             9 QWASPOST BIT(1),    /* INDICATES SPOST IS NECESSARY  */ 06196000
*             9 QWAINT   BIT(1),    /* INDICATES AN INTERNALLY          06200000
*                                      GENERATED REQUEST             */ 06204000
*             9 QWALNGWT BIT(1),    /* A LONG-WAIT IS NECESSARY      */ 06208000
*             9 QWAPC    BIT(1),    /* PC HAS BEEN ISSUED            */ 06216000
*             9 QWAPURG  BIT(1),    /* INDICATE ISGGDEQP HAS PURGED     06217000
*                                      THE QWB THAT WAS MAPPED TO       06218000
*                                      THIS QWA                      */ 06219000
*           7 QWAFLAG2  BIT(8),     /* QWA STATUS FLAGS              */ 06220000
*/*                                                                  */ 06224000
*/* THE FOLLOWING FLAGS ARE INITIALIZED IN THE QWA BY THE            */ 06228000
*/* ENQ/DEQ/RESERVE MAINLINE ROUTINE. WHEN A GLOBAL RESOURCE IS      */ 06232000
*/* REQUESTED, MAINLINE FRONT-END PROCESSING WILL MOVE THIS FLAG     */ 06236000
*/* BYTE TO QWBHFLG2. THEREFORE THE BIT DEFINITIONS OF QWAFLAG2      */ 06240000
*/* MUST MATCH THE BIT DEFINITIONS OF QWBHFLG2.                      */ 06244000
*/*                                                                  */ 06248000
*             9 QWAMIXR  BIT(1),    /* MIXED RESOURCE REQUEST        */ 06256000
*             9 QWATCBFA BIT(1),    /* REQUESTING TASK WAS ABENDING     06260000
*                                      WHEN THE REQUEST WAS RECEIVED */ 06264000
*             9 QWAAUTH  BIT(1),    /* REQUESTOR IS AUTHORIZED       */ 06268000
*             9 QWAGLBL  BIT(1),    /* GLOBAL RESOURCES DEFINED IN      06272000
*                                      THE QWB                       */ 06276000
*             9 QWAECBF  BIT(1),    /* ECB= SPECIFIED                */ 06278100
*             9 QWASVC56 BIT(1),    /* ENQ/RESERVE REQUEST           */ 06280200
*             9 QWAABDMC BIT(1),    /* THE TASK OR ADDRESS SPACE HAS    06282300
*                                      TERMINATED WHILE IN MUST         06282900
*                                      COMPLETE                      */ 06283500
*             9 QWASYNCC BIT(1),    /* SYNCHRONIZATION COMPLETE      */ 06284100
*           7 QWAGRES FIXED(16),    /* FOR ENQ REQUESTS, THE            06284200
*                                      NUMBER OF GLOBAL RESOURCES       06284300
*                                      FOR WHICH NO QEL WAS PUT IN      06284400
*                                      QUEUE. FOR DEQ REQUESTS, THE     06284500
*                                      NUMBER OF GLOBAL RESOURCES       06284600
*                                      FOR WHICH A QEL WAS REMOVED      06284700
*                                      FROM QUEUE                @L1A*/ 06284800
*           7 QWAECBA  PTR(31),     /* ECB ADDRESS - THIS FIELD IS      06285400
*                                      REPLACED BY QWAQWBA WHEN THE     06285500
*                                      QWABASIC SECTION MAPS TO THE     06285600
*                                      SVRB EXTENDED SAVEAREA.       */ 06285700
*             9 QWAQWBA PTR(31),    /* DUAL USE FIELD. THIS FIELD WILL  06285800
*                                      ONLY EXIST IN THE SVRB QWA       06285900
*                                      WHEN AN ENQ/DEQ REQUESTOR IS     06286000
*                                      SUSPENDED. IF A LOCAL RESOURCE   06286100
*                                      IS BEING PROCESSED, THIS FIELD   06286200
*                                      CONTAINS ZEROES. IF A GLOBAL     06286300
*                                      RESOURCE IS BEING PROCESSED THIS 06286400
*                                     FIELD CONTAINS THE ADDRESS OF THE 06286500
*                                     FIRST QWB DEFINING THE REQUEST.   06286600
*                                     THIS ENSURES THE QWB ADDRESS IS   06286700
*                                     MADE AVAILABLE TO THE MAINLINE    06286800
*                                     ESTAE ROUTINE SHOULD AN ERROR     06286900
*                                     OCCUR OVER THE GLOBAL             06287000
*                                     SUSPENSION.                    */ 06287100
*           7 QWATCBA  PTR(31),     /* REQUESTOR-S (OR DIRECTED) TCB    06287200
*                                      ADDRESS                       */ 06287300
*           7 QWASVRBA PTR(31),     /* SVRB ADDRESS FOR THIS REQUEST */ 06287400
*           7 QWAQXB   PTR(31),     /* ADDRESS OF QXB                */ 06287500
*/*                                                                  */ 06287600
*/*     END OF RSA SECTION                                           */ 06288600
*/*                                                                  */ 06290700
*         5 QWAFLAG3 BIT(8),        /* REQUEST PROCESSING FLAGS -       06292800
*                                      THESE FLAGS ARE NOT TRANSPOSED   06294900
*                                      TO THE QWB.                   */ 06297000
*           7 QWACMS   BIT(1),      /* CMS LOCK HELD                 */ 06300000
*           7 QWAFRR   BIT(1),      /* FRR ESTABLISHED               */ 06350000
*           7 QWAREQLL BIT(1),      /* REQUESTOR-S LOCAL LOCK        */ 06375000
*           7 QWAGRSLL BIT(1),      /* GRS LOCAL LOCK                */ 06400000
*           7 QWA3ERSQ BIT(1),      /* EARLY-RESERVE-QUEUE FLAG.  IF 1, 06462500
*                                      THE ENQ/DEQ REQUEST HAS A GLOBAL 06475000
*                                      RESOURCE WITH THE SAME NAME AS   06487500
*                                      AN EARLY-RESERVE LOCAL RESOURCE. 06500000
*                                      EVERY QWB OF THE REQUEST MUST    06512500
*                                      BE PLACED ON THE                 06525000
*                                      EARLY-RESERVE QUEUE.      @L4A*/ 06537500
*           7 QWARQDMG BIT(1),      /* REQUEST DAMAGED FLAG.  IF 1, THE 06537700
*                                      QWB FOR THIS REQUEST WAS DAMAGED 06537900
*                                      SINCE THE QWBHSYID FIELD DID NOT 06538100
*                                      CONTAIN A VALID SYSID.  IF THE   06538300
*                                      REQUEST REPRESENTS AN ENQ, THE   06538500
*                                      ENQ PROCESSING ROUTINE WILL SET  06538700
*                                      THE QCBNOENQ FLAG IN EACH        06538900
*                                      REQUESTED QCB AND WILL ADD A QEL 06539100
*                                      TO THE QCB CHAIN.     @YA13087*/ 06539300
*           7 QWA3RSV2 BIT(1),      /* RESERVED                  @P2C*/ 06539900
*           7 QWALSTRQ BIT(1),      /* LIST REQUEST - IF 1, REQUEST     06540600
*                                      WAS PART OF A MULTIPLE RESOURCE  06543700
*                                      REQUEST FROM THIS SYSTEM  @D1A*/ 06546800
*         5 QWAFLAG4 BIT(8),        /* REQUEST PROCESSING FLAGS -       06650000
*                                      THESE FLAGS ARE NOT TRANSPOSED   06683300
*                                      TO THE QWB.                   */ 06716600
*           7 QWABADML BIT(1),      /* BAD MINOR LENGTH SPECIFIED    */ 06750000
*           7 QWADMGE  BIT(1),      /* TRIGGERS Q-DAMAGE MESSAGE     */ 06800000
*           7 QWAWAITN BIT(1),      /* WAITING QEL FOUND (NOT ECB)   */ 06850000
*           7 QWA1DEQ  BIT(1),      /* AT LEAST 1 QEL DEQUEUED       */ 06900000
*           7 QWA4RSV1 BIT(1),      /* RESERVED              @ZMB0676*/ 06950000
*           7 QWAWAIT  BIT(1),      /* WAIT WITHIN ENQ/DEQ           */ 07000000
*           7 QWAMVCP  BIT(1),      /* ISSUE MVCP - EITHER USER IS NOT  07050000
*                                      AUTHORIZED OR THE INPUT PEL      07062500
*                                      COULD NOT BE CONTAINED IN THE    07075000
*                                      SQA QWB                       */ 07087500
*           7 QWANOENQ BIT(1),      /* TURN OFF ALL ENQ-S            */ 07100000
*         5 QWAFLAG5 BIT(8),        /* REQUEST PROCESSING FLAGS -       07150000
*                                      THESE FLAGS ARE NOT TRANSPOSED   07197600
*                                      TO THE QWB                    */ 07245200
*           7 QWAGLBLQ BIT(1),      /* THE GLOBAL ASCB QEL QUEUE IS     07292800
*                                      BEING SEARCHED                */ 07340400
*           7 QWARMFP  BIT(1),      /* RMF HAS BEEN CALLED           */ 07388000
*           7 QWAHOLD  BIT(1),      /* ISSUE ENQHOLD SYSEVENT        */ 07435600
*           7 QWAQXBO  BIT(1),      /* QXB OBTAINED                  */ 07483200
*           7 QWACSYID BIT(1),      /* REQUEST WAS INITIATED FROM THE   07530800
*                                      CURRENT SYSTEM                */ 07555800
*           7 QWAPHLDR BIT(1),      /* QSCAN PLACE-HOLDER QCB IS        07580800
*                                      BEING PURGED.                 */ 07605800
*           7 QWAMOD24 BIT(1),      /* REQUEST WAS INITIATED IN 24-BIT  07609900
*                                      AMODE                 @G860PWE*/ 07614000
*           7 QWAGBLRS BIT(1),      /* TASK OWNS GLOBAL RESOURCES       07652200
*                                                                @L1A*/ 07690400
*         5 QWAFLAG6 BIT(8),        /* QWA STATUS FLAGS          @L1A*/ 07728600
*           7 QWAR15SW BIT(1),      /* NON-ZERO RETURN CODE PRESENT     07766800
*                                                                @L1A*/ 07805000
*           7 QWA6ECBZ BIT(1),      /* ECB-ZERO FLAG.  ECB-OPERAND      07817700
*                                      WAS SPECIFIED, WITH ECB-ADDRESS  07830400
*                                      OF ZERO. SET FLAG QELECBZ.       07843100
*                                                               @L3A */ 07855800
*           7 QWA6GERT BIT(1),      /* Global ENQ RET=TEST PELs exist   07877000
*                                      for this request          @L9C*/ 07898200
*           7 QWA6ARV5 BIT(1),      /* RESERVED                  @L1A*/ 07919600
*           7 QWA6ARV4 BIT(1),      /* RESERVED                  @L1A*/ 07957800
*           7 QWA6ARV3 BIT(1),      /* RESERVED                  @L1A*/ 07996000
*           7 QWA6ARV2 BIT(1),      /* RESERVED                  @L1A*/ 08034200
*           7 QWA6ARV1 BIT(1),      /* RESERVED                  @L1A*/ 08072400
*                                   /*                           @P1D*/ 08110600
*         5 QWAEND1  CHAR(0),       /* END BASIC SECTION             */ 08150000
*/*                                                                  */ 08200000
*/*  NOTE THAT THE FOLLOWING FIELDS ARE NOT INCLUDED IN THE SVRB QWA */ 08250000
*/*                                                                  */ 08300000
*       3 QWARDA CHAR(140) BDY(WORD), /* QWA REQUEST DATA AREA          08500000
*                                                            @ZMB0308*/ 08504300
*         5 QWARSA2 CHAR(16) BDY(WORD), /* QWA REQUEST DATA AREA     */ 08508600
*           7 QWAJOBNM CHAR(8),     /* JOBNAME/USERID OF REQUESTOR   */ 08513000
*           7 QWAORIGN FIXED(32),   /* ORIGIN OF REQUESTOR           */ 08519500
*             9 QWASYSID FIXED(16), /* SYSID OF REQUESTOR            */ 08526000
*             9 QWAASID  FIXED(16), /* ASID OF REQUESTOR             */ 08532500
*           7 QWAASCB  PTR(31),     /* IF ENQ/DEQ/RESERVE, ADDRESS OF   08539200
*                                      REQUESTOR-S ASCB. NOTE THAT IF   08540300
*                                      THE HIGH-ORDER BIT IS SET, AN    08541400
*                                      ISGQSCAN INFORMATION ROUTINE     08542500
*                                      EXISTS FOR THE ADDRESS           08543600
*                                      SPACE. IF A PURGE REQUEST,       08544700
*                                      ADDRESS OF TARGET ASCB        */ 08545800
*/*                                                                  */ 08547000
*/*     END OF RSA2 SECTION                                          */ 08547600
*/*                                                                  */ 08548200
*         5 QWALOCLR FIXED(31),     /* COUNT OF LOCAL RESOURCES         08549000
*                                      REQUESTED                     */ 08558800
*         5 QWAGLBLR FIXED(31),     /* COUNT OF GLOBAL RESOURCES        08568600
*                                      REQUESTED                     */ 08578400
*         5 QWAQWBS  FIXED(31),     /* COUNT OF QWB-S REQUIRED TO       08588200
*                                      CONTAIN A GLOBAL RESOURCE        08598000
*                                      REQUEST.                      */ 08607800
*         5 QWAFREEC FIXED(31),     /* COUNT OF QCB/QEL/QXB-S TO BE     08617600
*                                      FREED                         */ 08627400
*         5 QWACPELR FIXED(31),     /* COUNT OF PEL ENTRIES REMAINING   08637200
*                                      TO BE MOVED TO THE PRIVATE AREA  08647000
*                                      QWB(S)                        */ 08656800
*         5 QWAPRMSZ FIXED(31),     /* TOTAL SIZE OF INPUT PEL       */ 08686200
*         5 QWANMESZ FIXED(31),     /* TOTAL SIZE OF QNAME/RNAME-S IN   08696000
*                                      PEL                           */ 08705800
*         5 QWAQWBSZ FIXED(16),     /* AVAILABLE BYTES IN A PRIVATE     08715600
*                                      AREA QWB                      */ 08725400
*         5 QWACSYS  FIXED(16),     /* CURRENT SYSID (0 FOR A LOCAL     08735200
*                                      RESOURCE REQUEST)             */ 08745000
*         5 QWAQWBHS PTR(31),       /* ADDRESS OF THE QWB HEADER AND    08754800
*                                      SMPL. IF A LOCAL RESOURCE IS     08765700
*                                      BEING PROCESSED, CONTAINS THE    08767400
*                                      ADDRESS OF THE SQA QWB. IF A     08769100
*                                      GLOBAL RESOURCE IS BEING         08770800
*                                      PROCESSED, CONTAINS THE ADDRESS  08772500
*                                      OF A PRIVATE AREA QWB.        */ 08774200
*         5 QWAQWBF  PTR(31),       /* ADDRESS OF FIRST QWB ON THE      08776000
*                                      REQUEST HOLD QUEUE            */ 08811100
*         5 QWAQWBL  PTR(31),       /* ADDRESS OF LAST QWB ON THE       08846200
*                                      REQUEST HOLD QUEUE            */ 08881300
*         5 QWAFQEL  PTR(31),       /* ADDRESS OF FIRST INITIALIZED     08916400
*                                      QEL FOR THE CURRENT REQUEST   */ 08951500
*         5 QWACOQWB PTR(31),       /* CURRENT OUTPUT QWB ADDRESS,      08986600
*                                      I.E., THE PRIVATE AREA QWB(S)    09021700
*                                      TO CONTAIN THE GLOBAL            09056800
*                                      RESOURCE(S)                   */ 09091900
*         5 QWACIQWB PTR(31),       /* CURRENT INPUT QWB ADDRESS,       09127000
*                                      I.E., THE SQA QWB OR SQA         09162100
*                                      QWB EXTENSION                 */ 09197200
*         5 QWANSLOT PTR(31),       /* NEXT QWB SLOT                 */ 09232300
*         5 QWAHASH  PTR(31),       /* HASH TABLE SLOT OF INPUT         09267400
*                                      RESOURCE NAME                 */ 09302500
*         5 QWAFQWB  PTR(31),       /* ADDRESS OF FIRST QWB DEFINING    09337600
*                                      THE GLOBAL REQUEST.           */ 09372700
*         5 QWAPPELE PTR(31),       /* PREVIOUS PEL ENTRY            */ 09407800
*         5 QWAGSA   PTR(31),       /* ADDRESS OF LOCAL OR GLOBAL GSA*/ 09442900
*         5 QWADPL CHAR(20),        /* DEQ PURGE LIST                */ 09460400
*         5 QWACNFY@ PTR(31),       /* Address of contention            09460800
*                                      notification parameter           09461200
*                                      list                      @L8C*/ 09461600
*         5 QWANQAR@ PTR(31),       /* Pointer to copy of QWA, SQA      09462010
*                                      QWB, ISGGRX dynamic area, in     09462020
*                                      the user address space    @01A*/ 09462030
*         5 QWAEXITS BIT(8),        /* Exit processing indicators       09462040
*                                                                @01A*/ 09462050
*           7 QWACKEX BIT(1),       /* When set, exits have been        09462060
*                                      checked                   @01A*/ 09462070
*           7 QWANXNQ BIT(1),       /* When set, there is an ISGNQXIT   09462080
*                                      exit routine              @01A*/ 09462090
*           7 QWANXBX BIT(1),       /* When set, there is an            09462100
*                                      ISGNQXITBATCH exit routine       09462110
*                                                                @01A*/ 09462120
*           7 QWANXQ1X BIT(1),      /* When set, there is an            09462130
*                                      ISGNQXITQUEUED1 exit routine     09462140
*                                                                @01A*/ 09462150
*           7 * BIT(1),             /* Reserved                  @01A*/ 09462160
*           7 QWANXLQD BIT(1),      /* When set, there is an            09462170
*                                      ISGENDOFLQCB exit routine @01A*/ 09462180
*           7 * BIT(2),             /* Reserved                  @01A*/ 09462190
*         5 *        CHAR(3),       /* Reserved                  @01C*/ 09462200
*         5 QWAGVTAD PTR(31),       /* ADDRESS OF GVT            @L3A*/ 09462400
*         5 QWARSVSP CHAR(12) BDY(WORD), /* ISGGRSVS Parm List   @P6C*/ 09462600
*           7 QWAQWB@  PTR(31),     /* Pointer to QWA            @P6A*/ 09462800
*           7 QWAQEL@  PTR(31),     /* Pointer to QEL            @P6A*/ 09463000
*           7 QWAPEL@  PTR(31),     /* Pointer to PEL            @P6A*/ 09463200
*         5 QWAEND2  CHAR(0),       /* END OF AREA CLEARED           */ 09463600
*       3 QWAWORK1 FIXED(31),       /* GENERAL PURPOSE WORKAREA         09463800
*                                                            @ZMB0308*/ 09464000
*/*                                                                  */ 09464200
*/* SAVEAREAS FOLLOW. NOTE THE FOLLOWING PROTOCOL FOR USE OF THESE   */ 09464400
*/* SAVEAREAS. SAVEAREAS 1-3 CAN BE USED BY ANY ROUTINE WITH CORRECT */ 09464600
*/* SERIALIZATION BUT CANNOT BE USED BETWEEN MODULES.  (ISGGNQDQ,    */ 09464800
*/* ISGGQWBC, AND ISGGPGRP ARE COUNTED AS ONE MODULE IN APPLYING @L3C*/ 09465000
*/* THIS RULE.)                                                      */ 09465200
*/* ISGGNQDQ PLACES THE ADDRESS OF QWASAVE1 IN REGISTER 13 BEFORE    */ 09465400
*/* CALLING ISGGQWBC OR ISGGPGRP.  THESE MODULES MUST NOT USE    @L3C*/ 09465600
*/* QWASAVE1.                                                    @L3C*/ 09465800
*/* SAVEAREA 4 IS USED BY ISGGRP00 TO INTERFACE WITH ISGGNQDQ        */ 09466000
*/*                           AND ISGGDEQP, AND BY ISGGNQDQ TO   @L3C*/ 09466100
*/*                           CALL ISGGQWBI.                     @L3A*/ 09466200
*/*     (NOTE: THE SAVEAREA IS USED FOR ISGGQWBI IN THE          @L3C*/ 09466300
*/*              FRONT-END OF ISGGNQDQ, AND IS USED BY ISGGRP00  @L3C*/ 09466400
*/*              IN THE BACK-END PROCESSING DONE BY ISGGNQDQ.)   @L3C*/ 09466500
*/* SAVEAREA 5 IS USED BY ISGGDEQP TO INTERFACE WITH ISGGNQDQ        */ 09466600
*/*          AND BY ISGGQWBI IN CALLING EXTERNAL ROUTINES.       @L3C*/ 09466700
*/* (ISGGDEQP PLACES THE ADDRESS OF QWASAVE5 IN REGISTER 13 BEFORE   */ 09466800
*/*   CALLING ENTRY-POINT ISGGDQ00 OF ISGGNQDQ.  ISGGQWBI IS NOT     */ 09467000
*/*   CALLED ON THIS PATH, WHICH IS BACK-END PROCESSING.)            */ 09467200
*/*                                                                  */ 09467400
*       3 QWASAVE1 CHAR(72),        /* SAVEAREA 1 - LEVEL 1 S.A.     */ 09467600
*       3 QWASAVE2 CHAR(72),        /* SAVEAREA 2 - LEVEL 2 S.A.     */ 09467800
*       3 QWASAVE3 CHAR(72),        /* SAVEAREA 3 - LEVEL 3 S.A.     */ 09468000
*       3 QWASAVE4 CHAR(72) BDY(WORD), /* SAVEAREA 4 - FOR GRP00     */ 09468200
*       3 QWASAVE5 CHAR(72),        /* SAVEAREA 5 - USED ONLY BY        09470900
*                                      ISGGDEQP AND ISGGQWBI         */ 09471000
*       3 QWAS1R14 PTR(31),         /* REG 14 SUBROUTINE SAVEAREA 1  */ 09471100
*       3 QWAS2R14 PTR(31),         /* REG 14 SUBROUTINE SAVEAREA 2  */ 09471200
*       3 QWAS3R14 PTR(31),         /* REG 14 SUBROUTINE SAVEAREA 3  */ 09471300
*       3 QWAS4R14 PTR(31),         /* REG 14 SUBROUTINE SAVEAREA 4  */ 09471400
*       3 QWAE1R13 PTR(31),         /* REG 13 ENTRY POINT SAVEAREA 1 */ 09471500
*       3 QWAGRP13 PTR(31),         /* SAVEAREA TO CONTAIN THE          09471600
*                                      SAVEAREA ADDRESS PROVIDED BY     09471700
*                                      THE ATTACH OF GRP.            */ 09471800
*       3 QWATRMRM CHAR(52) BDY(WORD), /* ENQ/DEQ TERMINATION RESOURCE  09471900
*                                      MANAGER WORK AREA.            */ 09472000
*         5 QWASTPNM CHAR(8),       /* STEPNAME OF TERMINATING TASK  */ 09472100
*         5 QWARMFLG BIT(8),        /* RESOURCE MANAGER FLAGS        */ 09472200
*           7 QWAJSTEP BIT(1),      /* WHEN 1, JOBSTEP IS TERMINATING*/ 09472300
*           7 QWARMRV7 BIT(1),      /* RESERVED                      */ 09472400
*           7 QWARMRV6 BIT(1),      /* RESERVED                      */ 09472500
*           7 QWARMRV5 BIT(1),      /* RESERVED                      */ 09472600
*           7 QWARMRV4 BIT(1),      /* RESERVED                      */ 09472700
*           7 QWARMRV3 BIT(1),      /* RESERVED                      */ 09472800
*           7 QWARMRV2 BIT(1),      /* RESERVED                      */ 09472900
*           7 QWARMRV1 BIT(1),      /* RESERVED                      */ 09473000
*         5 QWARMR01 CHAR(3),       /* RESERVED                      */ 09473100
*         5 QWACCODE CHAR(4),       /* COMPLETION CODE               */ 09473200
*           7 QWACOMPC BIT(24),     /* SYSTEM COMPLETION CODE IS        09473300
*                                      FIRST 12 BITS.                   09473400
*                                      USER COMPLETION CODE IS LAST     09473500
*                                      12 BITS.                      */ 09473600
*           7 QWACCRV1 BIT(8),      /* RESERVED                      */ 09473700
*         5 QWARB PTR(31),          /* CURRENT RB                    */ 09473800
*         5 QWARUBTM CHAR(32),      /* REGISTER UPDATE BLOCK FOR        09473900
*                                      ISGGTRM1 RECOVERY             */ 09474000
*       3 QWAPGRWA CHAR(64) BDY(DWORD), /* WORK-AREA USED BY            09474100
*                                          ISGGPGRP.            @L3A */ 09474200
*       3 QWAPGROA CHAR(12) BDY(WORD),  /* OUTPUT AREA PRODUCED BY      09474300
*                                          ISGGPGRP.            @L3A */ 09474400
*         5 QWAFLAG7 BIT(8),        /* FIRST FLAG-BYTE FROM             09474600
*                                      ISGGPGRP.                 @L3A*/ 09474800
*           7 QWA7OWNR BIT(1),      /* REQUESTOR OWNS RESOURCE, OR      09475000
*                                      REQUESTOR IS NOT ON              09475200
*                                      QEL-CHAIN BUT WILL OWN           09475400
*                                      RESOURCE WHEN ITS QEL IS         09475600
*                                      ADDED TO THE QEL-CHAIN.   @L3A*/ 09475900
*           7 QWA7AURC BIT(1),      /* ADJUST-UCB-RESERVE-COUNT.        09492300
*                                      IF 1, THE CALLER SHOULD          09508800
*                                      INCREASE THE UCB-RESERVE         09509100
*                                      COUNT (ENQ/RESERVE) OR           09509400
*                                      REDUCE THE COUNT (DEQ).          09509700
*                                      (THIS ADJUSTMENT SHOULD BE       09510000
*                                      DONE ONLY IF THE CALLER          09510300
*                                      FINDS THAT THE                   09510600
*                                      RESERVE-CONVERSION RNLE          09510900
*                                      DOES NOT SUPPRESS THE            09511200
*                                      RESERVE)                         09511500
*                                      VALID ONLY IN                    09511800
*                                      ORIGINATING SYSTEM.       @L3A*/ 09512100
*           7 QWA7CHGA BIT(1),      /* EXCLUSIVE-CONTROL ALLOWED.  IF   09512400
*                                      ENQ RET=CHNG: THE MATCH-QEL      09513300
*                                      IS THE ONLY QEL THAT OWNS        09514200
*                                      THE RESOURCE. IF MASID-ENQ:      09515100
*                                      EXCLUSIVE-CONTROL IS             09516000
*                                      ALLOWED IMMEDIATELY.             09516400
*                                      IF MASID-ENQ CASE: VALID ONLY    09516800
*                                      IN ORIGINATING SYSTEM.    @L3C*/ 09517200
*           7 QWA7HOLD BIT(1),      /* ISSUE SYSEVENT-HOLD(S).   @L3C*/ 09517800
*           7 QWA7POST BIT(1),      /* POST A QEL OR QELS.       @L3C*/ 09518700
*           7 QWA7RLSE BIT(1),      /* ISSUE SYSEVENT-RLSE(S).   @L3C*/ 09519600
*           7 QWA7COEX BIT(1),      /* COEXISTENCE RETURN-CODE FLAG.    09520500
*                                      IF 1, THIS SYSTEM COULD NOT      09521400
*                                      HONOR AN EXCLUSIVE ENQ           09522300
*                                      WITH MASID OPERAND BECAUSE       09523200
*                                      THE RESOURCE IS SHARED.          09523600
*                                      VALID ONLY IN                    09524000
*                                      ORIGINATING SYSTEM.       @L3C*/ 09524400
*           7 QWA7ABMR BIT(1),      /* MASID-RESTRICTION VIOLATED.      09525000
*                                      ENQ WITH MASID VIOLATES A        09525900
*                                      RESTRICTION, OR DEQ              09526800
*                                      RELEASES A RESOURCE USED AS      09527700
*                                      A MASID-TARGET.                  09528100
*                                      VALID ONLY IN                    09528500
*                                      ORIGINATING SYSTEM.       @L3C*/ 09528900
*         5 QWAFLAG8 BIT(8),        /* SECOND FLAG-BYTE FROM            09529500
*                                      ISGGPGRP.                 @L3A*/ 09530400
*           7 QWA8EXSH BIT(1),      /* EXC/SHR. 1 MEANS RC=8 ENQ        09531300
*                                      SHOULD REPORT SHR CONTROL.       09531600
*                                      VALID ONLY IN                    09531900
*                                      ORIGINATING SYSTEM.       @L3C*/ 09532200
*           7 QWA8DCVT BIT(1),      /* Delayed convert request being    09532300
*                                      POSTed. Indicates that the QEL   09532400
*                                      pointed to by QWAPSTAD is a      09532500
*                                      MASID convert-to-exclusive       09532600
*                                      request that can now be given    09532700
*                                      access to the resource without   09532800
*                                      actually owning it.       @L7A*/ 09532900
*           7 QWA8CNST BIT(1),      /* Start of contention       @L8C*/ 09534100
*           7 QWA8CNCH BIT(1),      /* Change in contention      @L8C*/ 09535300
*           7 QWA8CNEN BIT(1),      /* End of contention         @L8C*/ 09536500
*           7 QWA8RSV3 BIT(1),      /* RESERVED                  @L3A*/ 09537900
*           7 QWA8RSV2 BIT(1),      /* RESERVED                  @L3A*/ 09558400
*           7 QWA8RSV1 BIT(1),      /* RESERVED                  @L3A*/ 09578900
*         5 QWAGPMAS FIXED(15),     /* MASID-VALUE TO BE PLACED         09581200
*                                      IN NEW QEL (IF ANY).      @L3A*/ 09583500
*         5 QWAMQLAD PTR(31),       /* ADDRESS OF MATCH-QEL.     @L3A*/ 09585800
*         5 QWADSTAD PTR(31),      /* DEFERRED-STEAL ADDRESS.           09588100
*                                     ADDRESS OF A QEL THAT CAN NOW     09590400
*                                     BE STOLEN WHEN A MASIDQEL IS      09592700
*                                     DEQ-ED.                           09593800
*                                     VALID ONLY IN                     09594900
*                                     ORIGINATING SYSTEM.        @L3A*/ 09596000
*       3 QWAPGRFN FIXED(8),        /* ISGGPGRP FUNCTION-CODE    @L3A*/ 09597300
*       3 QWARSVD5 CHAR(1),         /* RESERVED                  @L3A*/ 09599600
*       3 QWAFMTVL FIXED(15),     /* VALUE OF FORMAT-BYTE THAT          09602700
*                                      PRECEDES FIRST PEL,              09603000
*                                      OR ZERO                   @L3A*/ 09603300
*       3 QWASEHCT FIXED(31),       /* COUNT OF SYSEVENT-HOLDS TO       09612000
*                                      BE ISSUED.                @L3A*/ 09620700
*       3 QWAPSTCT FIXED(31),       /* COUNT OF POSTS TO                09623700
*                                      BE ISSUED.                @L3A*/ 09626700
*       3 QWASERCT FIXED(31),       /* COUNT OF SYSEVENT-RLSES TO       09630200
*                                      BE ISSUED.                @L3A*/ 09633700
*       3 QWASEHAD PTR(31),         /* ADDRESS OF FIRST QEL TO BE       09634200
*                                      TARGET OF SYSEVENT-HOLD.  @L3A*/ 09634700
*       3 QWAPSTAD PTR(31),         /* ADDRESS OF FIRST QEL TO BE       09635200
*                                      TARGET OF POST.           @L3A*/ 09635700
*       3 QWASERAD PTR(31),         /* ADDRESS OF FIRST QEL TO BE       09636200
*                                      TARGET OF SYSEVENT-RLSE.  @L3A*/ 09636700
*       3 QWACLR2B CHAR(32) BDY(DWORD), /* BEGINNING OF SECOND          09679600
*                                     QWA SECTION THAT IS CLEARED AT    09687200
*                                     BEGINNING OF ENQ OR DEQ           09694800
*                                     REQUEST                    @L3A*/ 09702400
*         5 QWANWPEL CHAR(24) BDY(WORD), /* BEGINNING OF PARAMETERS     09710000
*                                     FROM NEW-FORMAT PEL-PREFIX.       09748000
*                                     THIS FIELD IS SENT TO OTHER       09786000
*                                     SYSTEMS IN FIELDS QWBXRSA3        09824000
*                                     AND QWBXR3LN OF MAPPING           09862000
*                                     MACRO ISGQWB.              @L3A*/ 09900000
*           7 QWANPTCB PTR(31),     /* TCB-ADDRESS OR ZERO.      @L3A*/ 09938000
*           7 QWANPECB PTR(31),     /* ECB-ADDRESS OR ZERO.      @L3A*/ 09988000
*           7 QWANPMAS PTR(31),     /* MASID-OPERAND OR ZERO.    @L3A*/ 10038000
*           7 QWANPMTC PTR(31),     /* MTCB-OPERAND OR ZERO.     @L3A*/ 10088000
*           7 QWARSVC4 CHAR(8),    /* RESERVED.                  @L3A*/ 10138000
*         5 QWANPEND CHAR(0),       /* END OF PARAMETERS.        @L3A*/ 10188000
*         5 QWAFLAG9 BIT(8),        /* FLAG-BYTE                 @L3A*/ 10189700
*             7 QWA9CNPP BIT(1),    /* COPY NEW-FORMAT PEL-PREFIX       10191400
*                                      FLAG.  USED BY ISGGQWBI.  @L3A*/ 10193100
*             7 QWA9DSTL BIT(1),    /* DEFERRED-STEAL NEEDED.  USED     10195500
*                                      BY XDEQQEL SUBROUTINE OF         10197900
*                                      ISGGNQDQ.                 @L3A*/ 10200300
*             7 QWA9RSV6 BIT(1),    /* RESERVED                  @L3A*/ 10202900
*             7 QWA9RSV5 BIT(1),    /* RESERVED                  @L3A*/ 10207800
*             7 QWA9RSV4 BIT(1),    /* RESERVED                  @L3A*/ 10212700
*             7 QWA9RSV3 BIT(1),    /* RESERVED                  @L3A*/ 10217600
*             7 QWA9RSV2 BIT(1),    /* RESERVED                  @L3A*/ 10222500
*             7 QWA9RSV1 BIT(1),    /* RESERVED                  @L3A*/ 10227400
*         5 QWARSVD6 CHAR(7),       /* RESERVED                  @L3A*/ 10232300
*       3 * char(408),              /* Reserved                  @01C*/ 10437990
*       3 QWACMSXM CHAR(12),        /* XMSAVE area for CMSET     @01A*/ 10637980
*       3 QWAUCBP@ PTR(31),         /* UCB prefix address - used for    10888000
*                                      DEQ of a RESERVE          @L6A*/ 10938000
*       3 QWARSNCD FIXED(32),       /* Reason code for QWAERR    @01A*/ 11047990
*       3 *        CHAR(4),         /* Reserved                  @01C*/ 11107980
*       3 QWAEND3  CHAR(0) BDY(DWORD);  /* END QWA               @L3C*/ 11183200
*                                                                       11208200
* DCL QWAPGFMS CONSTANT(1);           /* QWAPGRFN FUNCTION IS           11233200
*                                        MASID-SCAN              @L3A*/ 11283200
* DCL QWAPGFEQ CONSTANT(2);           /* QWAPGRFN FUNCTION IS           11333200
*                                        ENQ                     @L3A*/ 11383200
* DCL QWAPGFDQ CONSTANT(3);           /* QWAPGRFN FUNCTION IS           11433200
*                                        DEQ                     @L3A*/ 11483200
* dcl QWA_kLength constant(length(QWA));                      /* @01A*/ 11484200
