*                                                                       00000991
* %DCL IHAFSD_INCLUDED CHAR EXT;                                        00001981
* %DEACTIVATE IHAFSD_INCLUDED;                                          00002971
* %IF IHAFSD_INCLUDED = '' %THEN                                        00003961
* %DO;                                                                  00004951
*/* Macro made bi-lingual on 00116. CBGEN compile date 00013         */ 00005941
*% /*                                                                   00006931
         MACRO                                                          00007921
         IHAFSD &DSECT=YES,&LIST=YES,&TITLE=YES,&FSD=YES,&MHR=COND,    *00008911
               &MPIR=COND,&SCR=COND,&MCR=COND,&SCCW=COND                00009901
         GBLC  &IHAFSD_INCLUDED                                         00010891
         GBLC  &ZCBPRINT                                                00011881
&IHAFSD_INCLUDED SETC 'YES'                                             00012871
         AIF   ('&LIST' EQ 'NONE').P0                                   00013861
         AIF   ('&TITLE' EQ 'NO').P5                                    00014851
 TITLE   'IHAFSD  - FICON Switch Data                          '        00015841
.P5      ANOP                                                           00016831
**/ IHAFSD_1:;                                                          00017821
*/* START OF SPECIFICATIONS ******************************************/ 00018811
*/*                                                                  */ 00019801
*/*01* MACRO NAME: IHAFSD                                            */ 00020791
*/*                                                                  */ 00021781
*/*01* DESCRIPTIVE NAME:  FICON Switch Data                          */ 00022771
*/*                                                                  */ 00023761
*/*01* PROPRIETARY STATEMENT=                                        */ 00024751
*/*                                                                  */ 00025741
*/*      LICENSED MATERIALS - PROPERTY OF IBM                        */ 00026731
*/*      THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                 */ 00027721
*/*      5647-A01 (C) COPYRIGHT IBM CORP. 2000                       */ 00028711
*/*                                                                  */ 00029701
*/*01* STATUS: HBB7703                                               */ 00030691
*/*                                                                  */ 00031681
*/*01* EXTERNAL CLASSIFICATION: PI                                   */ 00032671
*/*01* END OF EXTERNAL CLASSIFICATION:                               */ 00033661
*/*                                                                  */ 00034651
*/*01* FUNCTION:                                                     */ 00035641
*/*                                                                  */ 00036631
*/*      Maps the FICON measurement data returned by the IRDVFSD     */ 00037621
*/*      service.                                                    */ 00038611
*/*                                                                  */ 00039601
*/*01* DSECT NAME:                                                   */ 00040591
*/*      FSD  - FICON Switch Data                                    */ 00041581
*/*      MHR  - Monitor Header Record                                */ 00042571
*/*      MPIR - Monitor Port Information Record                      */ 00043561
*/*      SCR  - Statistical Counter Record                           */ 00044551
*/*      MCR  - Monitor Control Record                               */ 00045541
*/*      SCCW - Statistical Counter Control Word                     */ 00046531
*/*                                                                  */ 00047521
*/*01* Component: I/O Supervisor (SC1C3)                             */ 00048511
*/*                                                                  */ 00049501
*/*01* EYE-CATCHER: FSD                                              */ 00050491
*/*02*  Offset: 0                                                    */ 00051481
*/*02*  Length: 4                                                    */ 00052471
*/*                                                                  */ 00053461
*/*01* STORAGE ATTRIBUTES:                                           */ 00054451
*/*02*  SUBPOOL:   User defined                                      */ 00055441
*/*02*  KEY:       Key of user                                       */ 00056431
*/*02*  RESIDENCY: Above 16MB                                        */ 00057421
*/*                                                                  */ 00058411
*/*01* SIZE:  FSD  -- X'0038' bytes                                  */ 00059401
*/*           FSD  -- X'0038' bytes                                  */ 00060391
*/*           MHR  -- X'0010' bytes                                  */ 00061381
*/*           MPIR -- X'0010' bytes                                  */ 00062371
*/*           SCR  -- X'0008' bytes                                  */ 00063361
*/*           MCR  -- X'0100' bytes                                  */ 00064351
*/*           SCCW -- X'0004' bytes                                  */ 00065341
*/*                                                                  */ 00066331
*/*01* CREATED BY: IRDVFSD on callers request                        */ 00067321
*/*                                                                  */ 00068311
*/*01* DELETED BY: Caller of IRDVFSD.                                */ 00069301
*/*                                                                  */ 00070291
*/*01* POINTED TO BY: User specified                                 */ 00071281
*/*                                                                  */ 00072271
*/*01* FREQUENCY: One per call to IRDVFSD.                           */ 00073261
*/*                                                                  */ 00074251
*/*01* SERIALIZATION: None                                           */ 00075241
*/*                                                                  */ 00076231
*/*01* NOTES: None                                                   */ 00077221
*/*                                                                  */ 00078211
*/*01* METHOD OF ACCESS:                                             */ 00079201
*/*                                                                  */ 00080191
*/*02*   ASM: IHAFSD                                                 */ 00081181
*/*                                                                  */ 00082171
*/*02*   PL/AS: %INCLUDE SYSLIB(IHAFSD)                              */ 00083161
*/*                                                                  */ 00084151
*/*01* CHANGE ACTIVITY:                                              */ 00085141
*/* $H0=OW44429  HBB7703 001218 PDHT: Winterpark II Support. In      */ 00086131
*/*                                   support of ESCD apar OW44428   */ 00087121
*/*                                                                  */ 00088111
*/* END OF SPECIFICATIONS ********************************************/ 00089101
*% /*                                                                   00090091
.P0      ANOP                                                           00091081
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00092071
         AIF   ('&LIST' EQ 'YES').P2                                    00093061
.P1      ANOP                                                           00094051
         PUSH  PRINT                                                    00095041
         PRINT OFF                                                      00096031
.P2      ANOP                                                           00097021
*                                                                       00098011
* ********************************************************************  00099001
* *                                                                  *  00099991
* *  FICON Switch Data                                               *  00100981
* *                                                                  *  00101971
* ********************************************************************  00102961
*                                                                       00103951
*                                                                       00104941
         AIF   ('&FSD' EQ 'NO').L0002                                   00105931
         AIF   ('&DSECT' EQ 'YES').L0003                                00106921
         AIF   ('&FSD' NE 'YES').L0002                                  00107911
FSD      DS    0D        FICON Switch Data                              00108901
         AGO   .L0004                                                   00109891
.L0003   ANOP                                                           00110881
FSD      DSECT           FICON Switch Data                              00111871
.L0004   ANOP                                                           00112861
FSDID    DS    1CL0004   FSD ID field                                   00113851
FSDVERS  DS    1FL1      Version                                        00114841
         DS    1CL0002   Reserved                                       00115831
FSDSUBP  DS    1FL1      FSD Subpool                                    00116821
FSDSIZE  DS    1FL4      Total number of bytes of the FSD               00117811
         DS    1CL0002   Reserved                                       00118801
FSDSWCNT DS    1FL2      Total number of FICON Switch Devices          *00119791
                         contained in FSD                               00120781
FSDDEVICE DS   0CL0040   FICON Switch Data                              00121771
FSDDEVN  DS    1CL0002   Device number                                  00122761
FSDFLAGS DS    0CL0002   Flags                                          00123751
FSDSUCC  EQU   X'80'     Data was successfully read                     00124741
FSDONLINE EQU  X'40'     On indicates the device was online             00125731
         ORG   FSDFLAGS+X'00000002'                                     00126721
FSDNED   DS    1CL0032   Device NED                                     00127711
FSDDATAOFFSET DS 1FL4    Offset from FSD of the monitor data for the   *00128701
                         device                                         00129691
FSD_LEN  EQU   *-FSD                                                    00130681
.L0002   ANOP                                                           00131671
*                                                                       00132661
* ********************************************************************  00133651
* *                                                                  *  00134641
* *  Monitor Header Record                                           *  00135631
* *                                                                  *  00136621
* ********************************************************************  00137611
*                                                                       00138601
*                                                                       00139591
         AIF   ('&MHR' EQ 'NO').L0005                                   00140581
         AIF   ('&DSECT' EQ 'YES').L0006                                00141571
         AIF   ('&MHR' NE 'YES').L0005                                  00142561
MHR      DS    0X        Monitor Header Record                          00143551
         AGO   .L0007                                                   00144541
.L0006   ANOP                                                           00145531
MHR      DSECT           Monitor Header Record                          00146521
.L0007   ANOP                                                           00147511
MHRID    DS    1CL0001   MHR ID is x'60'                                00148501
MHRCOUNT DS    1FL1      MHR length in 4-byte words                     00149491
MHRSTATUS DS   0CL0001   Status                                         00150481
MHRELAPSEDTIMEOVERFLOW EQU X'20' Elapsed time overflow                  00151471
MHRCOUNTERSET EQU X'10'  On indicates the complete counter set has     *00152461
                         been read, off indicates that a subset has    *00153451
                         been returned                                  00154441
MHRRECORDTRUNCATED EQU X'08' On indicates that the byte count was not  *00155431
                         sufficient to transfer the entire record, and *00156421
                         the record has been truncated                  00157411
         ORG   MHRSTATUS+X'00000001'                                    00158401
         DS    1CL0003   Reserved                                       00159391
MHRELAPSEDTIMECOUNT DS 1CL0002 Elapsed time counter                     00160381
MHRVERSIONSUPPORTED DS 1CL0001 Version supported                        00161371
MHRVERSIONPRESENTED DS 1CL0001 Version presented                        00162361
         DS    1CL0002   Reserved                                       00163351
MHRSEQUENCENUMBER DS 1CL0004 Sequence Number                            00164341
MHR_LEN  EQU   *-MHR                                                    00165331
.L0005   ANOP                                                           00166321
*                                                                       00167311
* ********************************************************************  00168301
* *                                                                  *  00169291
* *  Monitor Port Information Record                                 *  00170281
* *                                                                  *  00171271
* ********************************************************************  00172261
*                                                                       00173251
*                                                                       00174241
         AIF   ('&MPIR' EQ 'NO').L0008                                  00175231
         AIF   ('&DSECT' EQ 'YES').L0009                                00176221
         AIF   ('&MPIR' NE 'YES').L0008                                 00177211
MPIR     DS    0X        Monitor Port Information record                00178201
         AGO   .L000A                                                   00179191
.L0009   ANOP                                                           00180181
MPIR     DSECT           Monitor Port Information record                00181171
.L000A   ANOP                                                           00182161
MPIRID   DS    1CL0001   MPIR ID is x'61'                               00183151
MPIRCOUNT DS   1FL1      MPIR length in 4-byte words                    00184141
MPIRSTATUS DS  0CL0001   Status                                         00185131
MPIRSTATITCALCOUNTERSPROVIDED EQU X'80' Counters provided               00186121
MPIRLAST EQU   X'40'     Last MPIR                                      00187111
MPIRINTERNALPORT EQU X'10' On indicates an internal port, off          *00188101
                         indicates an external port                     00189091
         ORG   MPIRSTATUS+X'00000001'                                   00190081
         DS    1CL0002   Reserved                                       00191071
MPIRPORTNUMBER DS 1FL1   Port number (always x'FF' for internal ports)  00192061
MPIRPORTADDRESS DS 1FL1  Port address                                   00193051
         DS    1CL0001   Reserved                                       00194041
MPIRPORTDESCRIPTOR DS 1CL0004 Port descriptor                           00195031
         DS    1CL0004   Reserved                                       00196021
MPIR_LEN EQU   *-MPIR                                                   00197011
.L0008   ANOP                                                           00198001
*                                                                       00198991
* ********************************************************************  00199981
* *                                                                  *  00200971
* *  Statistical Counter Record                                      *  00201961
* *                                                                  *  00202951
* ********************************************************************  00203941
*                                                                       00204931
*                                                                       00205921
         AIF   ('&SCR' EQ 'NO').L000B                                   00206911
         AIF   ('&DSECT' EQ 'YES').L000C                                00207901
         AIF   ('&SCR' NE 'YES').L000B                                  00208891
SCR      DS    0F        Statistical Counter Record                     00209881
         AGO   .L000D                                                   00210871
.L000C   ANOP                                                           00211861
SCR      DSECT           Statistical Counter Record                     00212851
.L000D   ANOP                                                           00213841
SCRSTATUS DS   0CL0001   Status                                         00214831
SCRCOUNTERVALID EQU X'80' Counters provided                             00215821
SCRLAST  EQU   X'40'     Last SCR                                       00216811
SCROVERFLOW EQU X'20'    Counter overflowed                             00217801
         ORG   SCRSTATUS+X'00000001'                                    00218791
SCRCOUNT DS    1FL1      SCR length in 4-byte words                     00219781
SCRSTATISTICALCOUNTERID DS 1CL0002 Counter ID                           00220771
SCRSTATISTICALCOUNTERDATA DS 1FL4 Statistical Counter Data              00221761
*                                                                       00222751
* ********************************************************************  00223741
* *                                                                  *  00224731
* *  Performance Counter Identifiers                                 *  00225721
* *                                                                  *  00226711
* ********************************************************************  00227701
*                                                                       00228691
*                                                                       00229681
SCIDNUMBEROFWORDSTRANSMITTED EQU X'0901'                                00230671
SCIDNUMBEROFWORDSRECEIVED EQU X'0902'                                   00231661
SCIDNUMBEROFFRAMESTRANSMITTED EQU X'0903'                               00232651
SCIDNUMBEROFFRAMESRECEIVED EQU X'0904'                                  00233641
SCIDNUMBEROFCLASS2FRAMESRECV EQU X'0905'                                00234631
SCIDNUMBEROFCLASS3FRAMESRECV EQU X'0906'                                00235621
SCIDNUMBEROFLINKCNTLFRAMESR EQU X'0907'                                 00236611
SCIDNUMBEROFMULTICASTFRAMESR EQU X'0908'                                00237601
SCIDFRAMEPACINGTIME EQU X'0909'                                         00238591
*                                                                       00239581
* ********************************************************************  00240571
* *                                                                  *  00241561
* *  Frame Error Counter Identifiers                                 *  00242551
* *                                                                  *  00243541
* ********************************************************************  00244531
*                                                                       00245521
*                                                                       00246511
SCIDNUMBEROFDISPARITYERRORSIN EQU X'0910'                               00247501
SCIDNUMBEROFCRCERRORS EQU X'0911'                                       00248491
SCIDNUMBEROFFRAMESGTFCMAX EQU X'0912'                                   00249481
SCIDNUMBEROFFRAMESLTFCMIN EQU X'0913'                                   00250471
SCIDNUMBEROFFRAMESWITHBADEOF EQU X'0914'                                00251461
SCIDNUMBEROFDISPARITYERRORSOUT EQU X'0915'                              00252451
SCIDNUMBEROFINVALIDORDSETS EQU X'0916'                                  00253441
SCIDNUMBEROFCLASS3FRAMESDISC EQU X'0917'                                00254431
*                                                                       00255421
* ********************************************************************  00256411
* *                                                                  *  00257401
* *  Link Error Counter Identifiers                                  *  00258391
* *                                                                  *  00259381
* ********************************************************************  00260371
*                                                                       00261361
*                                                                       00262351
SCIDNUMBEROFLINKFAILURES EQU X'0920'                                    00263341
SCIDNUMBEROFLOSSOFSYNC EQU X'0921'                                      00264331
SCIDNUMBEROFLOSSOFSIGNAL EQU X'0922'                                    00265321
SCIDNUMBEROFPROTOCOLERRORS EQU X'0923'                                  00266311
SCIDNUMBEROFINVTRANWORDS EQU X'0924'                                    00267301
SCIDNUMBEROFADDRESSIDERRORS EQU X'0925'                                 00268291
SCIDNUMBEROFLRRISSUEDBYPORT EQU X'0926'                                 00269281
SCIDNUMBEROFOLSRECEIVED EQU X'0927'                                     00270271
SCIDNUMBEROFOLSISSUED EQU X'0928'                                       00271261
SCIDERRORSUMMARYCOUNT EQU X'0929'                                       00272251
SCR_LEN  EQU   *-SCR                                                    00273241
.L000B   ANOP                                                           00274231
*                                                                       00275221
* ********************************************************************  00276211
* *                                                                  *  00277201
* *  Monitor Control Record                                          *  00278191
* *                                                                  *  00279181
* ********************************************************************  00280171
*                                                                       00281161
*                                                                       00282151
         AIF   ('&MCR' EQ 'NO').L000E                                   00283141
         AIF   ('&DSECT' EQ 'YES').L000F                                00284131
         AIF   ('&MCR' NE 'YES').L000E                                  00285121
MCR      DS    0F        Monitor control record                         00286111
         AGO   .L0010                                                   00287101
.L000F   ANOP                                                           00288091
MCR      DSECT           Monitor control record                         00289081
.L0010   ANOP                                                           00290071
         DS    1CL0002   Reserved                                       00291061
MCRMC    DS    1CL0001   Monitor control                                00292051
         DS    1CL0001   Reserved                                       00293041
         DS    1CL0004   Reserved                                       00294031
MCRVERSION DS  1CL0001   Version requested                              00295021
         DS    1CL0002   Reserved                                       00296011
MCRSTARTPORT DS 1CL0001  Starting Port Number                           00297001
         DS    1CL0003   Reserved                                       00297991
MCRENDPORT DS  1CL0001   Ending Port Number                             00298981
MCRCCW   DS    1CL0240   Counter control words                          00299971
MCR_LEN  EQU   *-MCR                                                    00300961
.L000E   ANOP                                                           00301951
*                                                                       00302941
* ********************************************************************  00303931
* *                                                                  *  00304921
* *  Statistical Counter Control Word                                *  00305911
* *                                                                  *  00306901
* ********************************************************************  00307891
*                                                                       00308881
*                                                                       00309871
         AIF   ('&SCCW' EQ 'NO').L0011                                  00310861
         AIF   ('&DSECT' EQ 'YES').L0012                                00311851
         AIF   ('&SCCW' NE 'YES').L0011                                 00312841
SCCW     DS    0X        Statistical Counter Control Word (60 maximum)  00313831
         AGO   .L0013                                                   00314821
.L0012   ANOP                                                           00315811
SCCW     DSECT           Statistical Counter Control Word (60 maximum)  00316801
.L0013   ANOP                                                           00317791
SCCWFLAG DS    0CL0001   Flag byte                                      00318781
SCCWLAST EQU   X'80'     Last counter control word                      00319771
         ORG   SCCWFLAG+X'00000001'                                     00320761
         DS    1CL0001   Reserved                                       00321751
SCCWSTATISTICALCOUNTERID DS 1BL2 Statistical Counter ID                 00322741
*                                                                       00323731
* ********************************************************************  00324721
* *                                                                  *  00325711
* *  CCW Op Codes                                                    *  00326701
* *                                                                  *  00327691
* ********************************************************************  00328681
*                                                                       00329671
*                                                                       00330661
FSDSETMONITOR EQU C'•'                                                  00331651
FSDREADPORTSTATISTICS EQU C''                                          00332641
SCCW_LEN EQU   *-SCCW                                                   00333631
.L0011   ANOP                                                           00334621
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 00335611
         AIF   ('&LIST' EQ 'YES').P4                                    00336601
.P3      ANOP                                                           00337591
         POP   PRINT                                                    00338581
.P4      ANOP                                                           00339571
.P_EXIT  ANOP                                                           00340561
         MEND                                                           00341551
**/ IHAFSD_2:;                                                          00342541
* %IHAFSD_INCLUDED = 'YES';                                             00343531
* %DCL ZCBPRINT CHAR EXT;                                               00344521
* %DEACTIVATE ZCBPRINT;                                                 00345511
* %DCL IHAFSD_LIST CHAR EXT;                                            00346501
* %DEACTIVATE IHAFSD_LIST;                                              00347491
* %IF IHAFSD_LIST ~= 'NO' &                                             00348481
*    ZCBPRINT ~= 'NO' %THEN                                             00349471
*   %GOTO IHAFSD_3;                                                     00350461
*   @LIST PUSH NOECHO;                                                  00351451
*   @LIST NOASSEMBLE NOECHO;                                            00352441
*   @LIST OFF C NOECHO;                                                 00353431
* %IHAFSD_3:;                                                           00354421
*/* Start of PL/X Source                                             */ 00355411
*/********************************************************************/ 00356401
*/*                                                                  */ 00357391
*/*  FICON Switch Data                                               */ 00358381
*/*                                                                  */ 00359371
*/********************************************************************/ 00360361
* Dcl 1 FSD BDY(DWORD) BASED,       /* FICON Switch Data             */ 00361351
*      3 FsdId     CHAR(4),         /* FSD ID field                  */ 00362341
*      3 FsdVers   FIXED(8),        /* Version                       */ 00363331
*      3 *         CHAR(2),         /* Reserved                      */ 00364321
*      3 FsdSubp   FIXED(08),       /* FSD Subpool                   */ 00365311
*      3 FsdSize   FIXED(31),       /* Total number of bytes of the     00366301
*                                      FSD                           */ 00367291
*      3 *         CHAR(2),         /* Reserved                      */ 00368281
*      3 FsdSwCnt  FIXED(16),       /* Total number of FICON Switch     00369271
*                                      Devices contained in FSD      */ 00370261
*      3 FsdDevice(*)  BDY(DWORD),  /* FICON Switch Data             */ 00371251
*        5 FsdDevn   CHAR(2),       /* Device number                 */ 00372241
*        5 FsdFlags  CHAR(2),       /* Flags                         */ 00373231
*          7 FsdSucc   BIT(1),       /* Data was successfully read   */ 00374221
*          7 FsdOnline BIT(1),       /* On indicates the device was     00375211
*                                      online                        */ 00376201
*        5 FSDNED      CHAR(32),    /* Device NED                    */ 00377191
*        5 FSDDataOffset Fixed(31); /* Offset from FSD of the monitor   00378181
*                                      data for the device           */ 00379171
*                                                                       00380161
*/********************************************************************/ 00381151
*/*                                                                  */ 00382141
*/*  Monitor Header Record                                           */ 00383131
*/*                                                                  */ 00384121
*/********************************************************************/ 00385111
* Dcl 1 MHR          Char(16) Based, /* Monitor Header Record        */ 00386101
*       3  MhrId     Char(1),       /* MHR ID is x'60'               */ 00387091
*       3  MhrCount  Fixed(8),      /* MHR length in 4-byte words    */ 00388081
*       3  MhrStatus Char(1),       /* Status                        */ 00389071
*          5 *       Bit(2),        /* Reserved                      */ 00390061
*          5 MhrElapsedTimeOverflow Bit(1), /* Elapsed time overflow */ 00391051
*          5 MhrCounterSet Bit(1),  /* On indicates the complete        00392041
*                                      counter set has been read, off   00393031
*                                      indicates that a subset has      00394021
*                                      been returned                 */ 00395011
*          5 MhrRecordTruncated Bit(1), /* On indicates that the byte   00396001
*                                      count was not sufficient to      00396991
*                                      transfer the entire record,      00397981
*                                      and the record has been          00398971
*                                      truncated                     */ 00399961
*          5 *       Bit(3),        /* Reserved                      */ 00400951
*       3  *                   Char(3), /* Reserved                  */ 00401941
*       3  MhrElapsedTimeCount Char(2), /* Elapsed time counter      */ 00402931
*       3  MhrVersionSupported Char(1), /* Version supported         */ 00403921
*       3  MhrVersionPresented Char(1), /* Version presented         */ 00404911
*       3  *                   Char(2), /* Reserved                  */ 00405901
*       3  MhrSequenceNumber   Char(4); /* Sequence Number           */ 00406891
*                                                                       00407881
*/********************************************************************/ 00408871
*/*                                                                  */ 00409861
*/*  Monitor Port Information Record                                 */ 00410851
*/*                                                                  */ 00411841
*/********************************************************************/ 00412831
* Dcl 1 MPIR          Char(16) Based, /* Monitor Port Information       00413821
*                                      record                        */ 00414811
*       3  Mpirid     Char(1),      /* MPIR ID is x'61'              */ 00415801
*       3  MpirCount  Fixed(8),     /* MPIR length in 4-byte words   */ 00416791
*       3  MpirStatus Char(1),      /* Status                        */ 00417781
*          5 MpirStatitcalCountersProvided Bit(1),/* Counters provided  00418771
*                                                                    */ 00419761
*          5 MpirLast Bit(1),       /* Last MPIR                     */ 00420751
*          5 *        Bit(1),       /* Reserved                      */ 00421741
*          5 MpirInternalPort Bit(1), /* On indicates an internal port, 00422731
*                                      off indicates an external        00423721
*                                      port                          */ 00424711
*          5 *        Bit(4),       /* Reserved                      */ 00425701
*       3  *          Char(2),      /* Reserved                      */ 00426691
*       3  MpirPortNumber Fixed(8), /* Port number (always x'FF' for    00427681
*                                      internal ports)               */ 00428671
*       3  MpirPortAddress Fixed(8), /* Port address                 */ 00429661
*       3  *          Char(1),      /* Reserved                      */ 00430651
*       3  MpirPortDescriptor Char(4), /* Port descriptor            */ 00431641
*       3  *          Char(4);      /* Reserved                      */ 00432631
*                                                                       00433621
*/********************************************************************/ 00434611
*/*                                                                  */ 00435601
*/*  Statistical Counter Record                                      */ 00436591
*/*                                                                  */ 00437581
*/********************************************************************/ 00438571
* Dcl 1 SCR          Char(8) Bdy(Word) Based, /* Statistical Counter    00439561
*                                      Record                        */ 00440551
*       3  ScrStatus Char(1),       /* Status                        */ 00441541
*          5 ScrCounterValid Bit(1), /* Counters provided            */ 00442531
*          5 ScrLast Bit(1),        /* Last SCR                      */ 00443521
*          5 ScrOverflow Bit(1),    /* Counter overflowed            */ 00444511
*          5 *       Bit(5),        /* Reserved                      */ 00445501
*       3  ScrCount  Fixed(8),      /* SCR length in 4-byte words    */ 00446491
*       3  ScrStatisticalCounterID Char(2), /* Counter ID            */ 00447481
*       3  ScrStatisticalCounterData Fixed(32); /* Statistical Counter  00448471
*                                      Data                          */ 00449461
*                                                                       00450451
*/********************************************************************/ 00451441
*/*                                                                  */ 00452431
*/*  Performance Counter Identifiers                                 */ 00453421
*/*                                                                  */ 00454411
*/********************************************************************/ 00455401
* Dcl    ScidNumberofWordsTransmitted  Bit(16) CONSTANT('0901'X),       00456391
*        ScidNumberofWordsReceived     Bit(16) CONSTANT('0902'X),       00457381
*        ScidNumberofFramesTransmitted Bit(16) CONSTANT('0903'X),       00458371
*        ScidNumberofFramesReceived    Bit(16) CONSTANT('0904'X),       00459361
*        ScidNumberofClass2FramesRecv  Bit(16) CONSTANT('0905'X),       00460351
*        ScidNumberofClass3FramesRecv  Bit(16) CONSTANT('0906'X),       00461341
*        ScidNumberofLinkCntlFramesR   Bit(16) CONSTANT('0907'X),       00462331
*        ScidNumberofMultiCastFramesR  Bit(16) CONSTANT('0908'X),       00463321
*        ScidFramePacingTime           Bit(16) CONSTANT('0909'X),       00464311
*                                                                       00465301
*/********************************************************************/ 00466291
*/*                                                                  */ 00467281
*/*  Frame Error Counter Identifiers                                 */ 00468271
*/*                                                                  */ 00469261
*/********************************************************************/ 00470251
*        ScidNumberofDisparityErrorsIn  Bit(16) CONSTANT('0910'X),      00471241
*        ScidNumberofCRCerrors          Bit(16) CONSTANT('0911'X),      00472231
*        ScidNumberofFramesGTfcMAX      Bit(16) CONSTANT('0912'X),      00473221
*        ScidNumberofFramesLTfcMIN      Bit(16) CONSTANT('0913'X),      00474211
*        ScidNumberofFrameswithBadEOF   Bit(16) CONSTANT('0914'X),      00475201
*        ScidNumberofDisparityErrorsOut Bit(16) CONSTANT('0915'X),      00476191
*        ScidNumberofInvalidOrdSets     Bit(16) CONSTANT('0916'X),      00477181
*        ScidNumberofClass3FramesDisc   Bit(16) CONSTANT('0917'X),      00478171
*                                                                       00479161
*/********************************************************************/ 00480151
*/*                                                                  */ 00481141
*/*  Link Error Counter Identifiers                                  */ 00482131
*/*                                                                  */ 00483121
*/********************************************************************/ 00484111
*        ScidNumberofLinkFailures      Bit(16) CONSTANT('0920'X),       00485101
*        ScidNumberofLossofSync        Bit(16) CONSTANT('0921'X),       00486091
*        ScidNumberofLossofSignal      Bit(16) CONSTANT('0922'X),       00487081
*        ScidNumberofProtocolErrors    Bit(16) CONSTANT('0923'X),       00488071
*        ScidNumberofInvTranWords      Bit(16) CONSTANT('0924'X),       00489061
*        ScidNumberofAddressIdErrors   Bit(16) CONSTANT('0925'X),       00490051
*        ScidNumberofLRRissuedbyPort   Bit(16) CONSTANT('0926'X),       00491041
*        ScidNumberofOLSreceived       Bit(16) CONSTANT('0927'X),       00492031
*        ScidNumberofOLSissued         Bit(16) CONSTANT('0928'X),       00493021
*        ScidErrorSummaryCount         Bit(16) CONSTANT('0929'X);       00494011
*                                                                       00495001
*/********************************************************************/ 00495991
*/*                                                                  */ 00496981
*/*  Monitor Control Record                                          */ 00497971
*/*                                                                  */ 00498961
*/********************************************************************/ 00499951
* Dcl 1 MCR  CHAR(256) BDY(WORD) BASED, /* Monitor control record    */ 00500941
*       3 *            CHAR(2),     /* Reserved                      */ 00501931
*       3 McrMC        CHAR(1),     /* Monitor control               */ 00502921
*       3 *            CHAR(1),     /* Reserved                      */ 00503911
*       3 *            CHAR(4),     /* Reserved                      */ 00504901
*       3 McrVersion   CHAR(1),     /* Version requested             */ 00505891
*       3 *            CHAR(2),     /* Reserved                      */ 00506881
*       3 McrStartPort CHAR(1),     /* Starting Port Number          */ 00507871
*       3 *            CHAR(3),     /* Reserved                      */ 00508861
*       3 McrEndPort   CHAR(1),     /* Ending Port Number            */ 00509851
*       3 McrCCW       CHAR(240);   /* Counter control words         */ 00510841
*                                                                       00511831
*/********************************************************************/ 00512821
*/*                                                                  */ 00513811
*/*  Statistical Counter Control Word                                */ 00514801
*/*                                                                  */ 00515791
*/********************************************************************/ 00516781
* Dcl 1 SCCW(*)  CHAR(4) BASED,     /* Statistical Counter Control      00517771
*                                      Word (60 maximum)             */ 00518761
*       3 SccwFlag      CHAR(1),    /* Flag byte                     */ 00519751
*         5 SccwLast    BIT(1),     /* Last counter control word     */ 00520741
*         5 *           BIT(7),     /* Reserved                      */ 00521731
*       3 *             CHAR(1),    /* Reserved                      */ 00522721
*       3 SccwStatisticalCounterID Bit(16); /* Statistical Counter ID   00523711
*                                                                    */ 00524701
*                                                                       00525691
*/********************************************************************/ 00526681
*/*                                                                  */ 00527671
*/*  CCW Op Codes                                                    */ 00528661
*/*                                                                  */ 00529651
*/********************************************************************/ 00530641
* Dcl FsdSetMonitor         Char(1) Constant('31'X),                    00531631
*     FsdReadPortStatistics Char(1) Constant('32'X);                    00532621
*/* End of PL/X Source                                               */ 00533611
* %IF IHAFSD_LIST ~= 'NO' &                                             00534601
*    ZCBPRINT ~= 'NO' %THEN                                             00535591
*   %GOTO IHAFSD_4;                                                     00536581
*   @LIST POP NOECHO;                                                   00537571
* %IHAFSD_4:;                                                           00538561
* %END;                                                                 00539551
