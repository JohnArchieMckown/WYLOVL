*%GOTO CIP00;                 /* Bilingual mapping                      00001000
         MACRO                   Control Unit Information Parameters    00002000
         CBDZCIP &DEV=1,&TYPE=                                          00003000
.*                                                                   */ 00004000
*%CIP00:;                                                               00005000
*/*** START OF SPECIFICATIONS ****************************************/ 00006000
*/*                                                                  */ 00007000
*/*  ACRONYM:  CBDZCIP                                               */ 00008000
*/*  EXTERNAL CLASSIFICATION:  PSPI                                  */ 00009000
*/*  END OF EXTERNAL CLASSIFICATION                                  */ 00010000
*/*  MACRO NAME:  CBDZCIP                                            */ 00011000
*/*  DSECT NAME:  CIP                                                */ 00012000
*/*  DESCRIPTIVE NAME:  Control Unit Information Parameters (CIP)    */ 00013000
*/*                                                                  */ 00014000
*/*  PROPRIETARY STATEMENT:                                          */ 00015000
*/*                                                                  */ 00016000
*/*     LICENSED MATERIALS - PROPERTY OF IBM                         */ 00017000
*/*     THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                  */ 00018000
*/*     5647-A01 (C) COPYRIGHT IBM CORP. 1990, 2001                  */ 00019490
*/*                                                                  */ 00020000
*/*  STATUS:  HCS6091                                                */ 00021000
*/*                                                                  */ 00022000
*/*  COMPONENT:  Hardware Configuration Definition (SC1XL)           */ 00023000
*/*  EYE-CATCHER:  CIP                                               */ 00024000
*/*    OFFSET:   0                                                   */ 00025000
*/*    LENGTH:   4                                                   */ 00026000
*/*  STORAGE ATTRIBUTES:                                             */ 00027000
*/*    MAIN STORAGE:   Obtained by UIM                               */ 00028000
*/*    VIRTUAL STORAGE:                                              */ 00029000
*/*    AUXILIARY STORAGE:                                            */ 00030000
*/*    DATA SPACE:                                                   */ 00031000
*/*    SUBPOOL AND KEY:                                              */ 00032000
*/*    SUBPOOL:                                                      */ 00033000
*/*    KEY:                                                          */ 00034000
*/*    RESIDENCY:      Determined by caller                          */ 00035000
*/*  SIZE:          See generated data                               */ 00036000
*/*  CREATED BY:    UIM                                              */ 00037000
*/*  POINTED TO BY: N/A                                              */ 00038000
*/*  SERIALIZATION: None                                             */ 00039000
*/*  FUNCTION:  Maps the Control Unit Information Parameters         */ 00040000
*/*                                                                  */ 00041000
*/*  MODULE TYPE:  Bilingual Mapping Macro                           */ 00042000
*/*                                                                  */ 00043000
*/*  DEPENDENCIES:  None                                             */ 00044000
*/*                                                                  */ 00045000
*/*  RESTRICTIONS:  For HCD and UIM use only                         */ 00046000
*/*                                                                  */ 00047000
*/*  PROCESSOR:  Assembler H and PL/AS Compiler                      */ 00048000
*/*                                                                  */ 00049000
*/*  INVOCATION:                                                     */ 00050000
*/*     PLAS:     %DCL CIPDEF CHAR                                   */ 00051000
*/*               %CIPDEF='value'                                    */ 00052000
*/*                   value = 'BDY(WORD)', 'BASED' or                */ 00053000
*/*                           'BASED(xxxxxxxx)'                      */ 00054000
*/*               %INCLUDE SYSLIB(CBDZCIP)                           */ 00055000
*/*                                                                  */ 00056000
*/*               If CIPDEF is not declared and initialized, the     */ 00057000
*/*               default is 'BDY(WORD)'.                            */ 00058000
*/*                                                                  */ 00059000
*/*     ASSEMBLER:                                                   */ 00060000
*/*                CBDZCIP DEV=1,TYPE=DSECT                          */ 00061000
*/*                DEV (number of attached devices) parameter        */ 00062000
*/*                defaults to one. Must be set to the number of     */ 00063000
*/*                devices to be contained in the attachable device  */ 00064000
*/*                list.                                             */ 00065000
*/*                TYPE=DSECT  causes the generation of the mapping  */ 00066000
*/*                structure for the device attached list            */ 00067000
*/*                                                                  */ 00068000
*/*  CHANGE ACTIVITY:                                                */ 00069000
*/*    $L0=HCD,  ,HCSH101 880324 BOEB: Hardware Configuration Dialog */ 00070000
*/*    $H1=HCD,  ,HCSH101 900530 BOEB: IOC channel support           */ 00071000
*/*    $L3=HCD,  ,HCSH102 900730 BOEB: Additional Validation Rules   */ 00072000
*/*    $L7=HCD,  ,HCSH301 911010 BOEB: Switch support                */ 00073000
*/*    $LD=HCD,  ,HCSH301 911118 BOEB: HCD/VM support                */ 00074000
*/*    $LT=CF,   ,HCSH501 930323 BOEB: Support for Coupling Facility */ 00075000
*/*    $M3=QUAL  ,HCSH501 930915 BOEB: Quality improvement           */ 00076000
*/*    $H3=HCD,  ,HCSH501,930927,BOEB: CBY support, OSA enabling     */ 00077000
*/*    $H4=OSA,  ,HCSH501 940210 BOEB: Open Systems Adapter Support  */ 00078000
*/*    $H5=ISD,  ,HCSH521 941013 BBWA: New hardware support          */ 00079000
*/*    $01=OW18759, HCSH501 960228 BBEI: CIPXHCON flag added         */ 00080000
*/*    $H2=PHOENIX  HCSH521 960320 BKRE: PHOENIX support             */ 00081000
*/*    $L2=ICB   ,HCS6051 971222 BBEI: ICB support                   */ 00082000
*/*    $H6=FIBRE ,HCS6051 980227 BBEI: Fibre Channel Support         */ 00083000
*/*    $H7=OSAEX ,HCS6051 980505 WEID: OSD/OSE Support               */ 00084000
*/*    $H8=PLTR  ,HCS6091 990122 WEID: EIO,DSD Support               */ 00085000
*/*    $H9=PEER  ,HCS6091 991214 BBEI: Peer CF Channel Support       */ 00085200
*/*    $HA=FCMIG ,HCS6091 000217 BBEI: ESCON/FICON intermix support  */ 00085500
*/*    $HB=iQDIO ,HCS6091 000614 BBEI: iQDIO Channel Support         */ 00085790
*/*    $HC=QUAL  ,HCS6091 000901 BBEI: Add new field CIPMXPRT        */ 00085880
*/*                                    (maximum number of logical    */ 00085970
*/*                                    paths on a Control unit port) */ 00086060
*/*    $HD=QUAL  ,HCS6091 010625 BBEI: Add new field CIPMXPFC        */ 00086150
*/*                                    (maximum number of logical    */ 00086240
*/*                                    paths on a FICON control      */ 00086330
*/*                                    unit port)                    */ 00086420
*/*** END OF SPECIFICATIONS ******************************************/ 00087000
*%GOTO CIP01;                         /*                                00088000
         AIF   ('&TYPE' EQ 'DSECT').NOGEN                               00089000
         EJECT                                                          00090000
*********************************************************************** 00091000
*                                                                     * 00092000
*        Control Unit Information Parameters (CIP)                    * 00093000
*                                                                     * 00094000
*********************************************************************WS 00095000
         SPACE 1                                                        00096000
CIP      DS    0F                      CU Information Parameters        00097000
CIPID    DC    CL4'CIP '               CIP identifier ('CIP ')          00098000
CIPVER   DC    AL1(2)                  CIP version number X'01'    @L2C 00099000
         DC    XL3'00'                 Reserved                         00100000
         SPACE 1                                                        00101000
CIPUNMD  DS    0CL12                   Control unit type and model      00102000
CIPUNIT  DC    CL8' '                  Control unit type                00103000
CIPMODL  DC    CL4' '                  Model number (hex zero if not    00104000
*                                      present)                         00105000
CIPGROUP DC    A(0)                    Control Unit grouping            00106000
CIPGDASD EQU   X'80000000'             .. DASD                          00107000
CIPGTAPE EQU   X'40000000'             .. Tape                          00108000
CIPGCLUS EQU   X'20000000'             .. Cluster Controller            00109000
CIPGCOMM EQU   X'10000000'             .. Communication Controller      00110000
CIPGMICR EQU   X'08000000'             .. MICR/OCR                      00111000
CIPGGRPH EQU   X'04000000'             .. Graphics device               00112000
CIPGUR   EQU   X'02000000'             .. Unit Record                   00113000
CIPGOTHR EQU   X'01000000'             .. Other                         00114000
         DC    XL3'00'                 Reserved                         00115000
CIPFLAG  DC    XL1'00'                 Flag byte                        00116000
CIPFCUD  EQU   X'80'                   .. Device and CU are physically  00117000
*                                        the same                       00118000
CIPFDMOD EQU   X'40'                   .. This model is the default     00119000
*                                        model for this CU              00120000
CIPFRAID EQU   X'20'                   .. Reserved                 @H5A 00121000
         DC    XL4'00'                 Reserved                         00122000
         DC    XL12'00'                Reserved                    @M3C 00123000
         SPACE 1                                                        00124000
*********************************************************************** 00125000
*              Special validation flags                               * 00126000
*********************************************************************** 00127000
CIPVALF  DC    XL1'00'                 Validation flags            @M3A 00128000
CIPUAES0 EQU   X'80'                   .. If 1, indicates that the      00129000
*                                        unit address range must start  00130000
*                                        with 00 when the control unit  00131000
*                                        is connected to an ESCON       00132000
*                                        channel path              @M3A 00133000
CIPXHCON EQU   X'40'                   .. If 1, indicates that the      00134000
*                                        control unit can only be       00135000
*                                        connected to one host (LPAR)   00136000
*                                        at a time                 @01A 00137000
CIPNOMIF EQU   X'20'                   .. If 1, indicates that the      00138000
*                                        control unit can not be        00139000
*                                        connected to a shared          00140000
*                                        channel path.             @H6A 00141000
CIPCUSTR EQU   X'10'                   .. If 1, indicates that the      00142000
*                                        control unit needs to be       00143000
*                                        customized, if the link        00144000
*                                        address changes.          @H6A 00145000
CIPFCNMX EQU   X'04'                   .. If 1, indicates that the      00145200
*                                        control unit does not support  00145400
*                                        an intermix of ESCON and       00145600
*                                        native FICON channels     @HAA 00145800
         DC    XL1'00'                 Reserved                    @M3A 00146000
         SPACE 1                                                        00147000
*********************************************************************** 00148000
*              Processing Flags                                       * 00149000
*********************************************************************** 00150000
CIPPRFLG DC    XL1'00'                 Processing flags            @LDA 00151000
CIPPTUDL EQU   X'80'                   .. Update  attachable device     00152000
*                                         list only                     00153000
CIPFINT  EQU   X'40'                   .. if 1, internal CIT to be      00154000
*                                         built                    @LTA 00155000
CIPNOFCV EQU   X'20'                   .. if 1, CNC attachment support  00156000
*                                         is not defaulted to FCV  @H6A 00157000
         DC    XL1'00'                 Reserved                    @LDA 00158000
         SPACE 1                                                        00159000
*********************************************************************** 00160000
*              Attachment Information                                 * 00161000
*********************************************************************** 00162000
         SPACE 1                                                        00163000
CIPMXDEV DC    AL2(0)                  maximum number of devices which  00164000
*                                      can be attached to CU            00165000
*                                      (contains hex zero, if no upper  00166000
*                                      limit is defined)                00167000
CIPRUAN  DC    AL2(0)                  recommended number of            00168000
*                                      unit addresses                   00169000
*                                      (contains hex zero, if no value  00170000
*                                      is defined)                      00171000
CIPATTT  DC    XL2'00'                 Attachment type                  00172000
CIPATBL  EQU   X'8000'                 .. attachable to BlockMPX (par.) 00173000
CIPATBY  EQU   X'4000'                 .. attachable to ByteMPX  (par.) 00174000
CIPATSER EQU   X'2000'                 .. attachable to ESCON channel   00175000
*                                         (TYPE=CNC)                    00176000
CIPATCTC EQU   X'1000'                 .. attachable to ESCON CTC       00177000
CIPATFX  EQU   X'0800'                 .. attachable to ESCON converter*00178000
                                          channel (TYPE=CVC)       @L3C 00179000
CIPATIOC EQU   X'0400'                 .. attachable to IOC channel@H1A 00180000
CIPATIRC EQU   X'0200'                 .. attachable to IRC CHPID  @LTA 00181000
CIPATISC EQU   X'0100'                 .. attachable to ISC CHPID  @LTA 00182000
CIPATCBY EQU   X'0080'                 .. attachable to CBY CHPID  @H3A 00183000
CIPATOSA EQU   X'0040'                 .. attachable to OSA CHPID  @H4A 00184000
CIPATISD EQU   X'0020'                 .. attachable to ISD CHPID  @H2C 00185000
CIPATDSD EQU   X'0010'                 .. attachable to DSD chpid  @H8A 00186000
CIPATFC  EQU   X'0004'                 .. attachable to FC  CHPID  @H6A 00187000
CIPATFCV EQU   X'0002'                 .. attachable to FCV CHPID  @H6A 00188000
*                                                                       00189000
CIPSPROT DC    X'00'                   Supported protocols              00190000
CIPSPINT EQU   X'80'                   .. DC interlock                  00191000
CIPSPSTR EQU   X'40'                   .. Data streaming                00192000
CIPSP4MB EQU   X'20'                   .. 4.5MB data streaming          00193000
*                                                                       00194000
CIPMXCHP DC    AL1(0)                  Maximum number of CHPIDs which   00195000
*                                      can be attached to control unit  00196000
*                                      (contains hex zero, if no value  00197000
*                                       is defined)                @L3C 00198000
         SPACE 1                                                        00199000
*********************************************************************** 00200000
*              Control Unit Type information                          * 00201000
*********************************************************************** 00202000
         SPACE 1                                                        00203000
CIPCUTYP DC    XL2'00'                 CU type                          00204000
CIPCUCTC EQU   X'8000'                 .. CU type = CTC                 00205000
CIPCUSWI EQU   X'4000'                 .. CU type = Switch         @L7A 00206000
CIPCUOSA EQU   X'2000'                 .. CU type = OSA            @H4A 00207000
         DC    XL2'00'                 Reserved                         00208000
         SPACE 1                                                        00209000
*********************************************************************** 00210000
*              Logical CU addressing                                  * 00211000
*********************************************************************** 00212000
         SPACE 1                                                        00213000
CIPLFLGS DC    XL1'00'                 Logical CU addressing flags      00214000
CIPLFRS  EQU   X'80'                   .. allowed range for CUADD       00215000
*                                         specified                     00216000
CIPLFMHC EQU   X'40'                   .. multiple hosts can connect    00217000
*                                         to the same CU address        00218000
CIPLFCUS EQU   X'20'                   .. control unit supports         00219000
*                                         CUADD                         00220000
CIPLMIN  DC    AL1(0)                  Minimum value of allowed CUADD   00221000
CIPLMAX  DC    AL1(0)                  Maximum value of allowed CUADD   00222000
CIPLMXNO DC    AL1(0)                  Maximum number of logical       *00223000
                                       control units supported     @L3C 00224000
*                                      (contains hex zero, if no value  00225000
*                                       is defined)                @L3C 00226000
         SPACE 1                                                        00227000
*********************************************************************** 00228000
*                Default Settings                                     * 00229000
*********************************************************************** 00230000
         SPACE 1                                                        00231000
CIPDIOCL DC    AL1(0)                  Default I/O concurrency level    00232000
CIPDIOT1 EQU   1                       .. one I/O request at a time     00233000
CIPDIOT2 EQU   2                       .. multiple I/O requests         00234000
CIPDIOT3 EQU   3                       .. multiple I/O requests until   00235000
*                                         dedicated allegiance          00236000
CIPDPROT DC    AL1(0)                  Default protocol used            00237000
CIPDPDC  EQU   1                       .. DC interlock protocol         00238000
CIPDPDS  EQU   2                       .. 3.0MB data streaming prot     00239000
CIPDPDS4 EQU   3                       .. 4.5MB data streaming prot     00240000
         DC    XL2'00'                 Reserved                         00241000
         DC    XL8'00'                 Reserved                         00242000
         SPACE 1                                                        00243000
*********************************************************************** 00244000
*            Attachable device information                            * 00245000
*********************************************************************** 00246000
         SPACE 1                                                        00247000
CIPDVLC  DC    A(&DEV.)                Count of device names in list    00248000
CIPDVLP  DC    A(CIPADEV)              Pointer to device list           00249000
         DC    A(0)                    Reserved                         00250000
         SPACE 2                                                        00251000
*********************************************************************** 00252000
*            Unit address/range Rules                                 * 00253000
*                                                                     * 00254000
*   Note: if any of the below values is zero, no policing will be     * 00255000
*         done.                                                       * 00256000
*********************************************************************** 00257000
CIPUADEF DS    0CL8                    Unit address rules for control  *00258000
                                       unit                             00259000
CIPMINUA DC    AL2(0)                  Minimum number of unit addresses 00260000
CIPMAXUA DC    AL2(0)                  Maximum number of unit addresses 00261000
CIPMXUAR DC    AL2(0)                  Maximum number of unit address  *00262000
                                       ranges supported by control unit 00263000
         DC    AL2(0)                  Reserved                         00264000
         SPACE 1                                                        00265000
*********************************************************************** 00266000
*            Logical Path Rules                                       * 00267000
*********************************************************************** 00268000
         SPACE 1                                                        00269000
CIPMXPTH DC    AL2(0)                  Maximum number of logical paths *00270000
                                       supported by the control unit.  *00271000
                                       (contains hex zero if no maximum*00272000
                                       is defined)                 @L7A 00273000
CIPMNGRP DC    AL2(0)                  Minimum group attachment value  *00274000
                                                                   @L7A 00275000
CIPMXPRT DC    AL2(0)                  Maximum number of logical paths *00276090
                                       on a single ESCON control unit  *00276190
                                       port                            *00276200
                                       (contains hex zero if no maximum*00276210
                                       is defined)                 @HCA 00276220
CIPMXPFC DC    AL2(0)                  Maximum number of logical paths *00276230
                                       on a single FICON control unit  *00276240
                                       port                            *00276250
                                       (contains hex zero if no maximum*00276360
                                       is defined)                 @HDA 00276450
         DC    XL4'00'                 Reserved                    @HDC 00276730
         SPACE 1                                                        00277000
*********************************************************************** 00278000
*              Attachment Information Part 2                      @H4A* 00279000
*********************************************************************** 00280000
         SPACE 1                                                        00281000
CIPMINDV DC    AL2(0)                  minimum number of devices which  00282000
*                                      can be connected to CU           00283000
*                                      (contains hex zero, if no lower  00284000
*                                      limit is defined)           @H4A 00285000
CIPRAID  DC    AL2(0)                  Reserved                    @H5A 00286000
CIPNRAID DC    AL2(0)                  Reserved                    @H5A 00287000
         DC    XL2'00'                 Reserved                    @H5C 00288000
         SPACE 1                                                        00289000
*********************************************************************** 00290000
*              Pointer to CIP extension                           @H4A* 00291000
*********************************************************************** 00292000
         SPACE 1                                                        00293000
CIPEXTPT DC    A(CIPEXTAR)             Pointer to extension area   @H4A 00294000
         SPACE 1                                                        00295000
*********************************************************************** 00296000
         SPACE 2                                                        00297000
         DC    XL8'00'                 Reserved                    @H4C 00298000
         EJECT                                                          00299000
*********************************************************************** 00300000
*                                                                     * 00301000
*    The following array maps the attachable device list. If more     * 00302000
*    than one device exists which can be attached to the control unit * 00303000
*    you must code DEV=n on the macro statement where 'n' is the      * 00304000
*    number of devices.                                               * 00305000
*                                                                     * 00306000
*********************************************************************** 00307000
         SPACE 1                                                        00308000
CIPADEV  DS    0F                     Attachable device list            00309000
         DC    &DEV.XL12'00'          Device type/model                 00310000
CIPALENG EQU   *-CIPADEV              Length of attachable device list  00311000
.*                                                                      00312000
         SPACE 2                                                        00313000
*********************************************************************** 00314000
*                                                                     * 00315000
*              CIP Extension Area                                     * 00316000
*                                                                 @H4A* 00317000
*********************************************************************** 00318000
         SPACE 1                                                        00319000
CIPEXTAR DS    0F                      Extension area mapping      @H4A 00320000
CIPVALUA DC    XL32'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF*00321000
               FFFFFFFFFFFFF'          Valid unit addresses        @H4A 00322000
CIPREQUA DC    XL32'00'                Required unit addresses     @H4A 00323000
CIPPROUA DS    0CL17                   Recommended unit addresses  @H4A 00324000
CIPRUARN DC    XL1'00'                 Number of UA ranges         @H4A 00325000
CIPRUARS DC    8XL2'00'                Array of ranges             @H4A 00326000
         ORG   CIPRUARS                                            @H4A 00327000
CIPRUA   DS    XL1                     Starting unit address       @H4A 00328000
CIPRUARF DS    XL1                     Replication factor          @H4A 00329000
         ORG   CIPRUARS+16                                         @H4A 00330000
CIPRUALN EQU   *-CIPRUARS              Length of array             @H4A 00331000
         DC    XL15'00'                Reserved                    @H4A 00332000
CIPCHPAT DC    0XL8'00'                Chpid type attachments      @L2A 00333000
         DC    XL2'0000'               Chpid type attachments 1    @L2A 00334000
CIPATTT2 DC    XL2'0000'               Chpid type attachments 2    @L2A 00335000
CIPATCBR EQU   X'8000'                 .. attachable to CBR chpid  @L2A 00336000
CIPATCBS EQU   X'4000'                 .. attachable to CBS chpid  @L2A 00337000
CIPATICR EQU   X'2000'                 .. attachable to ICR chpid  @L2A 00338000
CIPATICS EQU   X'1000'                 .. attachable to ICS chpid  @L2A 00339000
CIPATOSD EQU   X'0800'                 .. attachable to OSD chpid  @H7A 00340000
CIPATOSE EQU   X'0400'                 .. attachable to OSE chpid  @H7A 00341000
CIPATEIO EQU   X'0200'                 .. attachable to EIO chpid  @H8A 00342000
CIPATCFP EQU   X'0100'                 .. attachable to CFP chpid  @H9A 00342200
CIPATCBP EQU   X'0080'                 .. attachable to CBP chpid  @H9A 00342400
CIPATICP EQU   X'0040'                 .. attachable to ICP chpid  @H9A 00342600
CIPATIQD EQU   X'0020'                 .. attachable to IQD chpid  @HBA 00342700
CIPATFCP EQU   X'0010'                 .. attachable to FCP chpid  @HBA 00342800
         DC    XL4'00000000'           Reserved                    @L2A 00343000
         DC    XL24'00'                Reserved                    @L2C 00344000
CIPEXTLN EQU   *-CIPEXTAR              Length of extension area    @H4A 00345000
.*                                                                      00346000
.NOGEN   ANOP  ,                                                        00347000
         AIF   ('&TYPE' NE 'DSECT').NODSECT                             00348000
         SPACE 2                                                        00349000
*********************************************************************** 00350000
*                                                                     * 00351000
*              Attached Device List Structure                         * 00352000
*                                                                     * 00353000
*********************************************************************** 00354000
         SPACE 1                                                        00355000
CIPADEVS DSECT ,                       Device list                      00356000
CIPADEVT DS    CL8                     Device type                      00357000
CIPADEVM DS    CL4                     Device model                     00358000
CIPADEVL EQU   *-CIPADEVS              Length of one entry in list      00359000
.*                                                                      00360000
.NODSECT ANOP  ,                                                        00361000
         SPACE 2                                                        00362000
         MEND                                                        */ 00363000
*%CIP01:;                                                               00364000
*                                                               @EJECT; 00365000
*/********************************************************************/ 00366000
*/*                                                                  */ 00367000
*/*   Control Unit Information Parameters (CIP)                      */ 00368000
*/*                                                                  */ 00369000
*/*****************************************************************WS*/ 00370000
*                                                            @SPACE(1); 00371000
*DECLARE                                                                00372000
*%IF CIPDEF='' %THEN                                                    00373000
*  %GOTO CIP000;                                                        00374000
* 1 CIP CIPDEF,                     /* CU Information Parameters    */  00375000
*  %GOTO CIP010;                                                        00376000
*%CIP000: ;                                                             00377000
* 1 CIP BDY(WORD),                  /* CU   Information Parameters   */ 00378000
*%CIP010: ;                                                             00379000
*   3 CIP_BASE_AREA  CHAR(LENGTH(CIP_BASE)), /* Area for CIP base part  00380000
*                                                                @H4A*/ 00381000
*   3 CIP_EXT_AREA   CHAR(LENGTH(CIP_EXT)), /* Area for CIP extension   00382000
*                                                                @H4A*/ 00383000
*   3 CIP_AREA_END   CHAR(0);       /* End of the CIP            @H4A*/ 00384000
*                                                            @SPACE(1); 00385000
*/********************************************************************/ 00386000
*/*                                                                  */ 00387000
*/*   CIP Base Part                                                  */ 00388000
*/*                                                              @H4A*/ 00389000
*/********************************************************************/ 00390000
*                                                            @SPACE(1); 00391000
* DECLARE                                                               00392000
* 1 CIP_BASE  BASED(ADDR(CIP_BASE_AREA)), /* CIP Base Section    @H4A*/ 00393000
*                                                            @SPACE(1); 00394000
*  3 CIPID     CHAR(4),             /* CIP identifier        ('CIP ')*/ 00395000
*  3 CIPVER    CHAR(1),             /* CIP version number X'01'      */ 00396000
*  3 *         CHAR(3),             /* Reserved                      */ 00397000
*  3 CIPUNMD,                       /* Control unit type and model   */ 00398000
*   5 CIPUNIT   CHAR(8),            /* Control unit type             */ 00399000
*   5 CIPMODL   CHAR(4),            /* Model number (binary zero if     00400000
*                                      not present)                  */ 00401000
*  3 CIPGROUP  BIT(32),             /* Control Unit grouping         */ 00402000
*    5 CIPGDASD  BIT(1),            /* if 1, DASD                    */ 00403000
*    5 CIPGTAPE  BIT(1),            /* if 1, Tape                    */ 00404000
*    5 CIPGCLUS  BIT(1),            /* if 1, Cluster Controller      */ 00405000
*    5 CIPGCOMM  BIT(1),            /* if 1, Communication Controller*/ 00406000
*    5 CIPGMICR  BIT(1),            /* if 1, MICR/OCR                */ 00407000
*    5 CIPGGRPH  BIT(1),            /* if 1, Graphics device         */ 00408000
*    5 CIPGUR    BIT(1),            /* if 1, Unit Record             */ 00409000
*    5 CIPGOTHR  BIT(1),            /* if 1, Other                   */ 00410000
*    5 *         BIT(24),           /* Reserved                      */ 00411000
*  3 *         CHAR(3),             /* Reserved                      */ 00412000
*  3 CIPFLAG   BIT(8),              /* Flag byte                     */ 00413000
*    5 CIPFCUD   BIT(1),            /* If 1, device and CU are          00414000
*                                      physically the same           */ 00415000
*    5 CIPFDMOD  BIT(1),            /* If 1, this model is the default  00416000
*                                      model for this CU             */ 00417000
*    5 CIPFRAID  BIT(1),            /* Reserved                  @H5A*/ 00418000
*    5 *         BIT(5),            /* Reserved                  @H5C*/ 00419000
*  3 *         CHAR(4),             /* Reserved                      */ 00420000
*  3 *         CHAR(12),            /* Reserved                  @M3C*/ 00421000
*/********************************************************************/ 00422000
*/*            Special validation flags                          @M3A*/ 00423000
*/********************************************************************/ 00424000
*  3 CIPVALF  BIT(8),               /* Validation Flags          @M3A*/ 00425000
*    5 CIPUAES0 BIT(1),             /* If 1, indicates that the         00426000
*                                        unit address range must start  00427000
*                                        with 00 when the control unit  00428000
*                                        is connected to an ESCON       00429000
*                                        channel path            @M3A*/ 00430000
*    5 CIPXHCON BIT(1),             /* If 1, indicates that the         00431000
*                                        control unit can only be       00432000
*                                        connected to one host (LPAR)   00433000
*                                        at a time               @01A*/ 00434000
*    5 CIPNOMIF BIT(1),             /* If 1, indicates that the         00435000
*                                        control unit can not be        00436000
*                                        connected to a shared          00437000
*                                        channel path.           @H6A*/ 00438000
*    5 CIPCUSTR BIT(1),             /* If 1, indicates that the         00439000
*                                        control unit needs some        00440000
*                                        customization effort if the    00441000
*                                        link address is changed @H6A*/ 00442000
*    5 *        BIT(1),             /* Reserved                  @HAA*/ 00443090
*    5 CIPFCNMX BIT(1),             /* If 1, indicates that the         00443180
*                                        control unit does not support  00443270
*                                        an intermix of ESCON and       00443360
*                                        native FICON channels   @HAA*/ 00443450
*    5 *        BIT(2),             /* Reserved                  @HAC*/ 00443540
*  3 *         CHAR(1),             /* Reserved                  @M3A*/ 00444000
*/********************************************************************/ 00445000
*/*            Processing Flags                                      */ 00446000
*/********************************************************************/ 00447000
*  3 CIPPRFLG  BIT(8),              /* Processing flags          @LDA*/ 00448000
*    5 CIPPR_UDL  BIT(1),           /* Update device attachment list    00449000
*                                      only                      @LDA*/ 00450000
*    5 CIPFINT    BIT(1),           /* if 1, internal CIT to be built   00451000
*                                                                @LTA*/ 00452000
*    5 CIPNOFCV   BIT(1),           /* if 1, Support for CNC attachment 00453000
*                                      is not defaulted to FCV          00454000
*                                      attachment also           @H6A*/ 00455000
*  3 *         CHAR(1),             /* Reserved                  @LDA*/ 00456000
*                                                           @SPACE (2); 00457000
*/********************************************************************/ 00458000
*/*            Attachment Information                                */ 00459000
*/********************************************************************/ 00460000
*  3 CIPMXDEV  FIXED(15),           /* max. number of devices which     00461000
*                                      can be attached to CU            00462000
*                                      (contains hex zero, if no upper  00463000
*                                      limit is defined)             */ 00464000
*  3 CIPRUAN   FIXED(15),           /* recommended number of            00465000
*                                      unit addresses                   00466000
*                                      (contains hex zero, if no value  00467000
*                                       is defined)                  */ 00468000
*  3 CIPATTT,                       /* Attachment type               */ 00469000
*    5 CIPATBL   BIT(1),            /* attachable to BlockMPX (par.) */ 00470000
*    5 CIPATBY   BIT(1),            /* attachable to ByteMPX  (par.) */ 00471000
*    5 CIPATSER  BIT(1),            /* attachable to ESCON channel      00472000
*                                      (TYPE=CNC)                @L3C*/ 00473000
*    5 CIPATCTC  BIT(1),            /* attachable to ESCON channel used 00474000
*                                   /  for channel-to-channel    @L3C*/ 00475000
*    5 CIPATFX   BIT(1),            /* attachable to ESCON converter    00476000
*                                      channel (TYPE=CVC)        @L3C*/ 00477000
*    5 CIPATIOC  BIT(1),            /* attachable to IOC channel @H1A*/ 00478000
*    5 CIPATIRC  BIT(1),            /* attachable to IRC channel @LTA*/ 00479000
*    5 CIPATISC  BIT(1),            /* attachable to ISC channel @LTA*/ 00480000
*    5 CIPATCBY  BIT(1),            /* attachable to CBY channel @H3A*/ 00481000
*    5 CIPATOSA  BIT(1),            /* attachable to OSA channel @H4A*/ 00482000
*    5 CIPATISD  BIT(1),            /* attachable to ISD channel @H2C*/ 00483000
*    5 CIPATDSD  BIT(1),            /* attachable to DSD channel @H8C*/ 00484000
*    5 *         BIT(1),            /* Internally used           @H6A*/ 00485000
*    5 CIPATFC   BIT(1),            /* attachable to FC  channel @H6A*/ 00486000
*    5 CIPATFCV  BIT(1),            /* attachable to FCV channel @H6A*/ 00487000
*    5 *         BIT(1),            /* Internally used           @H6A*/ 00488000
*                                                               @SPACE; 00489000
*  3 CIPSPROT,                      /* Supported protocols           */ 00490000
*    5 CIPSPINT  BIT(1),            /* DC interlock                  */ 00491000
*    5 CIPSPSTR  BIT(1),            /* Data streaming                */ 00492000
*    5 CIPSP4MB  BIT(1),            /* 4.5MB data streaming          */ 00493000
*    5 *         BIT(5),            /* Reserved                      */ 00494000
*                                                               @SPACE; 00495000
*  3 CIPMXCHP  FIXED(8),            /* Maximum number of CHPIDs which   00496000
*                                      can be attached to control unit  00497000
*                                      (contains hex zero, if no value  00498000
*                                       is defined)              @L3C*/ 00499000
*                                                               @SPACE; 00500000
*/********************************************************************/ 00501000
*/*            Control Unit Type Information                         */ 00502000
*/********************************************************************/ 00503000
*  3 CIPCUTYP    BIT(16),           /* CU type                       */ 00504000
*    5 CIPCUCTC  BIT(1),            /* CU type = CTC                 */ 00505000
*    5 CIPCUSWI  BIT(1),            /* CU type = Switch          @L7A*/ 00506000
*    5 CIPCUOSA  BIT(1),            /* CU type = OSA             @H4A*/ 00507000
*                                                               @SPACE; 00508000
*  3 *           CHAR(2),           /* Reserved                      */ 00509000
*                                                               @EJECT; 00510000
*/********************************************************************/ 00511000
*/*            Logical CU addressing                                 */ 00512000
*/********************************************************************/ 00513000
*  3 CIPLFLGS    BIT(8),            /* Logical CU addressing flags   */ 00514000
*    5 CIPLFRS   BIT(1),            /* Allowed range for CUADD       */ 00515000
*                                   /* is specified                  */ 00516000
*    5 CIPLFMHC  BIT(1),            /* Multiple host can connect to  */ 00517000
*                                   /* the same CU address           */ 00518000
*    5 CIPLFCUS  BIT(1),            /* Control Unit supports CUADD   */ 00519000
*    5 *         BIT(5),            /* Reserved                      */ 00520000
*  3 CIPLMIN     FIXED(8),          /* Minimum value of allowed CUADD*/ 00521000
*  3 CIPLMAX     FIXED(8),          /* Maximum value of allowed CUADD*/ 00522000
*  3 CIPLMXNO    FIXED(8),          /* Maximum number of logical        00523000
*                                      control units supported          00524000
*                                      (contains hex zero, if no value  00525000
*                                       is defined)              @L3C*/ 00526000
*                                                           @SPACE (2); 00527000
*/********************************************************************/ 00528000
*/*              Default Settings                                    */ 00529000
*/********************************************************************/ 00530000
*  3 CIPDIOCL    FIXED(8),          /* Default I/O concurrency level */ 00531000
*  3 CIPDPROT    FIXED(8),          /* Default protocol used         */ 00532000
*  3 *           CHAR(2),           /* Reserved                      */ 00533000
*  3 *           CHAR(8),           /* Reserved                      */ 00534000
*                                                           @SPACE (2); 00535000
*/********************************************************************/ 00536000
*/*          Attachable device information                           */ 00537000
*/********************************************************************/ 00538000
*  3 CIPDVLC     FIXED(31),         /* Count of device names in list */ 00539000
*  3 CIPDVLP     PTR(31),           /* Pointer to device list        */ 00540000
*  3 *           CHAR(4),           /* Reserved                      */ 00541000
*                                                           @SPACE (2); 00542000
*/********************************************************************/ 00543000
*/*          Unit address/range Rules                                */ 00544000
*/*                                                                  */ 00545000
*/* Note: if any of the below values is zero, no policing will be    */ 00546000
*/*       done.                                                      */ 00547000
*/********************************************************************/ 00548000
*  3 CIPUADEF,                      /* Unit address rules for control   00549000
*                                      unit                          */ 00550000
*    5 CIPMINUA FIXED(15),          /* Minimum number of unit addresses 00551000
*                                                                    */ 00552000
*    5 CIPMAXUA FIXED(15),          /* Maximum number of unit addresses 00553000
*                                                                    */ 00554000
*    5 CIPMXUAR FIXED(15),          /* Maximum number of unit address   00555000
*                                      ranges supported by control unit 00556000
*                                                                    */ 00557000
*    5 *        FIXED(15),          /* Reserved                      */ 00558000
*                                                           @SPACE (2); 00559000
*/********************************************************************/ 00560000
*/*          Logical Path Rules                                      */ 00561000
*/********************************************************************/ 00562000
*                                                               @SPACE; 00563000
*  3 CIPLPATH,                     /* Logical path information   @L7A*/ 00564000
*    5 CIPMXPTH  FIXED(15),        /* max.  number of logical paths     00565000
*                                     supported by the control unit.    00566000
*                                     (contains hex zero if no maximum  00567000
*                                     is defined)                @L7A*/ 00568000
*    5 CIPMNGRP  FIXED(15),         /* Minimum group attachment value   00569000
*                                                                @L7A*/ 00570000
*  3 CIPMXPRT  FIXED(15),           /* Maximum number of logical paths  00571090
*                                     supported on a single ESCON port  00571230
*                                     of the control unit.              00571280
*                                     (contains hex zero if no maximum  00571360
*                                     is defined)                @HCA*/ 00571450
*  3 CIPMXPFC  FIXED(15),           /* Maximum number of logical paths  00571590
*                                     supported on a single FICON port  00571640
*                                     of the control unit.              00571690
*                                     (contains hex zero if no maximum  00571740
*                                     is defined)                @HDA*/ 00571790
*  3 *         CHAR(4),             /* Reserved                  @HDC*/ 00571840
*                                                           @SPACE (2); 00572000
*/********************************************************************/ 00573000
*/*            Attachment Information Part 2                     @H4A*/ 00574000
*/********************************************************************/ 00575000
*                                                           @SPACE (1); 00576000
*  3 CIPMINDV  FIXED(15),           /* minimum number of devices which  00577000
*                                      can be connected to CU           00578000
*                                      (contains hex zero, if no lower  00579000
*                                      limit is defined)         @H4A*/ 00580000
*  3 CIPRAID   FIXED(15),           /* Reserved                  @H5A*/ 00581000
*  3 CIPNRAID  FIXED(15),           /* Reserved                  @H5A*/ 00582000
*  3 *         CHAR(2),             /* Reserved                  @H5C*/ 00583000
*                                                           @SPACE (2); 00584000
*/********************************************************************/ 00585000
*/*            Pointer to Extension Area                         @H4A*/ 00586000
*/********************************************************************/ 00587000
*                                                           @SPACE (1); 00588000
*  3 CIPEXTPT  PTR(31),              /* Pointer to extension area       00589000
*                                                                @H4C*/ 00590000
*                                                           @SPACE (2); 00591000
*/********************************************************************/ 00592000
*  3 *         CHAR(8),             /* Reserved                  @H4C*/ 00593000
*  3 CIPEND    CHAR(0);             /* End of the CIP                */ 00594000
*                                                               @EJECT; 00595000
*/********************************************************************/ 00596000
*/*                                                                  */ 00597000
*/*  The following constants are used to place an identifer and      */ 00598000
*/*  version number in the CIP (CIPID + CIPVER fields)               */ 00599000
*/*                                                                  */ 00600000
*/********************************************************************/ 00601000
*                                                           @SPACE (1); 00602000
*DECLARE                                                                00603000
*  CIPIDNM CHAR(4) CONSTANT('CIP '), /* CIP identifier               */ 00604000
*  CIPVERN BIT(8) CONSTANT('01'X)  , /* CIP version number       @L2C*/ 00605000
*  CIPVER2 BIT(8) CONSTANT('02'X)  , /* CIP version 2            @L2A*/ 00606000
*  CIPVERC BIT(8) CONSTANT('02'X)  ; /* CIP current version      @L2A*/ 00607000
*                                                           @SPACE (4); 00608000
*/********************************************************************/ 00609000
*/*                                                                  */ 00610000
*/*  The following constants are used to define the default I/O      */ 00611000
*/*  concurrency level in field CIPDIOCL                             */ 00612000
*/*                                                                  */ 00613000
*/********************************************************************/ 00614000
*                                                           @SPACE (1); 00615000
*DECLARE                                                                00616000
*    CIPDIOT1 FIXED(8) CONSTANT(1),    /* one I/O request at a time  */ 00617000
*    CIPDIOT2 FIXED(8) CONSTANT(2),    /* multiple I/O requests      */ 00618000
*    CIPDIOT3 FIXED(8) CONSTANT(3);    /* multiple I/O requests until   00619000
*                                         dedicated allegiance       */ 00620000
*                                                           @SPACE (2); 00621000
*/********************************************************************/ 00622000
*/*                                                                  */ 00623000
*/*  The following constants are used to define the default protocol */ 00624000
*/*  used when the control unit attaches to a parallel CHPID         */ 00625000
*/*                                                                  */ 00626000
*/********************************************************************/ 00627000
*                                                           @SPACE (1); 00628000
*DECLARE                                                                00629000
*    CIPDPDC   FIXED(8) CONSTANT(1),   /* DC interlock protocol      */ 00630000
*    CIPDPDS   FIXED(8) CONSTANT(2),   /* 3.0MB data streaming prot  */ 00631000
*    CIPDPDS4  FIXED(8) CONSTANT(3);   /* 4.5MB data streaming prot  */ 00632000
*                                                           @SPACE (2); 00633000
*/********************************************************************/ 00634000
*/*                                                                  */ 00635000
*/*  Device list mapping - this list contains an entry for each      */ 00636000
*/*                        device that can be attached to the CU     */ 00637000
*/*                                                                  */ 00638000
*/********************************************************************/ 00639000
*                                                           @SPACE (1); 00640000
*DECLARE                                                                00641000
*  1 CIPADEV(*)  BASED(CIPDVLP),       /* Device list                */ 00642000
*    3 CIPADEVT  CHAR(8),              /* Device type                */ 00643000
*    3 CIPADEVM  CHAR(4);              /* Device model               */ 00644000
*                                                           @SPACE (2); 00645000
*/********************************************************************/ 00646000
*/*                                                                  */ 00647000
*/*  CIP extension area                                              */ 00648000
*/*                                                              @H4A*/ 00649000
*/********************************************************************/ 00650000
*                                                           @SPACE (1); 00651000
*DECLARE                                                                00652000
*%IF CIPDEF='' %THEN                                                    00653000
*  %GOTO CIP030;                                                        00654000
* 1 CIP_EXT BASED(CIPEXTPT),           /* CIP Extension          @H4A*/ 00655000
*  %GOTO CIP040;                                                        00656000
*%CIP030: ;                                                             00657000
* 1 CIP_EXT BASED(ADDR(CIP_EXT_AREA)), /* CIP Extension          @H4A*/ 00658000
*%CIP040: ;                                                             00659000
*                                                            @SPACE(1); 00660000
*/********************************************************************/ 00661000
*/*          Unit address/range Rules Part 2                     @H4A*/ 00662000
*/********************************************************************/ 00663000
*    3 CIPVALUA  BIT(256),             /* Valid unit addresses   @H4A*/ 00664000
*    3 CIPREQUA  BIT(256),             /* Required unit addresses       00665000
*                                                                @H4A*/ 00666000
*    3 CIPPROUA,                       /* Recommended unit addresses    00667000
*                                                                @H4A*/ 00668000
*      5 CIPRUARN FIXED(8),            /* Number of address ranges in   00669000
*                                         following array        @H4A*/ 00670000
*      5 CIPRUARS(8),                  /* Recommended unit address      00671000
*                                         range structure        @H4A*/ 00672000
*        7 CIPRUA   FIXED(8),          /* Starting unit address  @H4A*/ 00673000
*        7 CIPRUARF FIXED(8),          /* Replication factor: range     00674000
*                                         value - 1              @H4A*/ 00675000
*                                                            @SPACE(1); 00676000
*    3 *         CHAR(15),             /* Reserved               @H4A*/ 00677000
*/********************************************************************/ 00678000
*    3 CIPCHPAT  BIT(64),              /* Chpid type attachments @L2A*/ 00679000
*      5 *       BIT(16),              /* Reserved (do not use)  @L2A*/ 00680000
*      5 CIPATTT2 BIT(16),             /* Reserved               @L2A*/ 00681000
*        7 CIPATCBR BIT(1),            /* Attachable to CBR chp  @L2A*/ 00682000
*        7 CIPATCBS BIT(1),            /* Attachable to CBS chp  @L2A*/ 00683000
*        7 CIPATICR BIT(1),            /* Attachable to ICR chp  @L2A*/ 00684000
*        7 CIPATICS BIT(1),            /* Attachable to ICS chp  @L2A*/ 00685000
*        7 CIPATOSD BIT(1),            /* Attachable to OSD chp  @H7A*/ 00686000
*        7 CIPATOSE BIT(1),            /* Attachable to OSE chp  @H7A*/ 00687000
*        7 CIPATEIO BIT(1),            /* Attachable to EIO chp  @H8A*/ 00688000
*        7 CIPATCFP BIT(1),            /* Attachable to CFP chp  @H9A*/ 00689190
*        7 CIPATCBP BIT(1),            /* Attachable to CBP chp  @H9A*/ 00689380
*        7 CIPATICP BIT(1),            /* Attachable to ICP chp  @H9A*/ 00689570
*        7 CIPATIQD BIT(1),            /* Attachable to IQD chp  @HBA*/ 00689810
*        7 CIPATFCP BIT(1),            /* Attachable to FCP chp  @HBA*/ 00689860
*        7 *        BIT(4),            /* Reserved               @H9C*/ 00689910
*      5 CIPATTT3 BIT(32),             /* Reserved               @L2A*/ 00690000
*    3 *         CHAR(24);             /* Reserved               @L2C*/ 00691000
*                                                           @SPACE (2); 00692000
*%DEACT CIPDEF;                                                         00693000
