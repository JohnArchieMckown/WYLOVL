*   %GOTO TRVTL1;                                                       00025000
*                                                                       00050000
*/*                                                                     00100000
         MACRO                                                          00150000
         IHATRVT  &DSECT=YES                                         */ 00200000
*                                                                       00300000
*%TRVTL1:                                                               00320000
*   ;                                                                   00340000
*                                                                       00360000
*/* ** Start of Specifications for IHATRVT ************************* */ 00380000
*/*                                                                  */ 00400000
*/* $MAC(IHATRVT) COMP(SC142) PROD(HBB7703):                         */ 00450000
*/*                                                                  */ 00500000
*/* DESCRIPTIVE NAME:  System trace vector table (TRVT)              */ 00530000
*/*                                                                  */ 00560000
*/* COMPONENT = System trace (SC142)                                 */ 00580000
*/*                                                                  */ 00600000
*/* Proprietary Statement:                                           */ 00633300
*/*                                                                  */ 00666600
*/*      Licensed materials - Property of IBM                        */ 00699900
*/*      This macro is "RESTRICTED MATERIALS OF IBM"                 */ 00733200
*/*      5647-A01 (C) Copyright IBM Corporation 1982, 2000           */ 00766500
*/*                                                                  */ 00800000
*/* STATUS = HBB7703                                                 */ 00820000
*/*                                                                  */ 00840000
*/*01* EXTERNAL CLASSIFICATION:                                      */ 00852000
*/*02* NOTPI: BASE                                                   */ 00864000
*/*02* PI: INCLUDE                                                   */ 00876000
*/*01* END OF EXTERNAL CLASSIFICATION:                               */ 00888000
*/*                                                                  */ 00900000
*/* FUNCTION = Contain addresses of system trace service routines    */ 00922300
*/* and control blocks.                                              */ 00944600
*/*                                                                  */ 00967100
*/* CREATED BY = Exists as nucleus resident module IEAVETVT          */ 00972800
*/*                                                                  */ 00978500
*/* DELETED BY = Not deleted                                         */ 00984200
*/*                                                                  */ 00989900
*/* POINTED TO BY = PSATRVT                                          */ 00995600
*/*                                                                  */ 01001300
*/* SERIALIZATION = N/A                                              */ 01007000
*/*                                                                  */ 01012700
*/* MACRO NAME: IHATRVT                                              */ 01018400
*/* DSECT NAME: TRVT                                                 */ 01024100
*/* EYE CATCHER: TRVT                                                */ 01029800
*/* OFFSET: 0                                                        */ 01035500
*/* LENGTH: 4                                                        */ 01041200
*/* STORAGE ATTRIBUTES:                                              */ 01046900
*/* MAIN STORAGE:                                                    */ 01052600
*/* VIRTUAL STORAGE:                                                 */ 01058300
*/* AUXILIARY STORAGE:                                               */ 01064000
*/* SUBPOOL: Nucleus                                                 */ 01069700
*/* KEY: 0                                                           */ 01075400
*/* DATA SPACE:                                                      */ 01081100
*/* RESIDENCY: LOC(BELOW)                                            */ 01086800
*/* SIZE:                                                            */ 01092500
*/*                                                                  */ 01100000
*/*  METHOD OF ACCESS =                                              */ 01150000
*/*                                                                  */ 01200000
*/*      INCLUDE THE IHATRVT MAPPING MACRO.                          */ 01250000
*/*                                                                  */ 01300000
*/*      BAL  - DSECT TRVT IS PRODUCED IF &DSECT IS SET              */ 01350000
*/*             TO 'YES' OR DEFAULTED.                               */ 01400000
*/*             USING ON TRVT GIVES ADDRESSABILITY FOR ALL SYMBOLS.  */ 01450000
*/*             STRUCTURE TRVT IS PRODUCED IF &DSECT IS SET TO 'NO'. */ 01500000
*/*      PL/S - INCLUDE IHAPSA FOR TRVT ADDRESSABILITY.              */ 01550000
*/*             BASED STRUCTURE TRVT IS PRODUCED.                    */ 01600000
*/*             TRVT BASE PSATRVT IS DECLARED BY IHAPSA.             */ 01650000
*/*                                                                  */ 01700000
*/*  CHANGE-ACTIVITY =                                               */ 02300000
*/*      G860PXY - SYSTEM TRACE EXTENSIONS                           */ 02350000
*/*                                                                  */ 02450000
*/*     FLAG REASON  RELEASE DATE   ORIGIN  DESCRIPTION              */ 02457100
*/* $L1= TREVENT JBB2125 820823 PDXM  : TRACE PER EVENTS             */ 02461500
*/* $L2= AR      HBB3310 860210 PDR8  : ACCESS REGISTERS             */ 02465900
*/* $L3= RTMRAS  HBB3310 860414 PDR8  : RCVY ENTRY SUPPORT           */ 02470300
*/* $L4= CLOCK   HBB4410 880425 PD88CT: TIME ENTRY SUPPORT           */ 02474700
*/* $L5= CNITG   HBB4410 881127 PD88CT: MODIFIED SS ENTRY            */ 02479100
*/*      SUPPORT FOR CONSOLE INTEGRATION                             */ 02483500
*/* $01= OW38365 JBB6607 981101 PDHT: SIGA support                   */ 02485700
*/* $L6= 64BITTRC HBB7703 980115 PD00XB: MODE TRACING                */ 02487900
*/*    = PXD0809  HBB7703 20000210 PDE1: SHOWHDR compliance          */ 02490200
*/*    = PXD1310  HBB7703 20000215 PDE1: External classification     */ 02491400
*/* $P1= PXD1530 HBB7703 000342 PDHT: Restore TRVTETSA offset to     */ 02491800
*/*                                   OW38365 value              @P1A*/ 02492200
*/*                                                                  */ 02492600
*/* ** END OF SPECIFICATIONS FOR IHATRVT *************************** */ 02521300
*/* A-000000-999999                                          @G860PXY*/ 02550000
*                                                                       02570000
*   %GOTO TRVTL2;                                                       02590000
*                                                                       02610000
*/*                                                                     02630000
         SPACE 1                                                        02650000
         AIF   ('&DSECT' EQ 'NO').TRVTCST                               02700000
.*                                                                      02750000
.*   PRODUCE DSECT VERSION OF TRVT                                      02800000
TRVT     DSECT                         TRACE VECTOR TABLE.              02850000
TRVTID   DS    CL4                     TRVT EBCDIC IDENTIFIER.          02900000
TRVTDATE DS    CL8                     MODULE DATE.                     02950000
TRVTMLVL DS    CL8                     MODULE LEVEL.                    03000000
TRVTBLVL DS    XL1                     CONTROL BLOCK LEVEL NUMBER.      03050000
TRVTRSD1 DS    CL3                     RESERVED.                        03100000
TRVTTOB  DS    A                       ADDRESS OF TRACE OPTION BLOCK.   03150000
TRVTETAT DS    A                       ADDRESS OF ALTRTRC               03200000
*                                      SERVICE INTERFACE.               03250000
TRVTETST DS    A                       ADDRESS OF SNAPTRC               03300000
*                                      SERVICE INTERFACE.               03350000
TRVTETAF DS    A                       ADDRESS OF ASIDTRC               03400000
*                                      SERVICE INTERFACE.               03450000
TRVTETSC DS    A                       ADDRESS OF TRACE STORAGE         03500000
*                                      CHECK RECOVERY ROUTINE.          03550000
TRVTETRR DS    A                       ADDRESS OF TRACE RECEIVING       03600000
*                                      ROUTINE.                         03650000
TRVTETCT DS    A                       ADDRESS OF COPYTRC               03700000
*                                      SERVICE INTERFACE.               03750000
TRVTETTV DS    A                       ADDRESS OF VERFYTRC              03800000
*                                      SERVICE INTERFACE.               03850000
TRVTETFR DS    A                       ADDRESS OF TRACE SERVICES        03900000
*                                      GENERAL FRR.                     03950000
TRVTETTD DS    A                       ADDRESS OF TRACE TIMER           04000000
*                                      DIE ROUTINE.                     04050000
TRVTRSD2 DS    A                       RESERVED.                        04100000
TRVTRSD3 DS    A                       RESERVED.                        04150000
TRVTRPMK DC    XL4'80000000'           REGISTER PAIR INDICATOR MASK.    04200000
TRVTTCW1 DS    XL4                     MASK TO CLEAR THE TRACING        04250000
*                                      CONTROL BITS FROM BITS 32-63     04300000
*                                      OF A CR12 VALUE.                 04350000
*                                      A DUPLICATE OF THIS CONSTANT     04400000
*                                      IS DEFINED IN THE DAT-OFF        04450000
*                                      PROGRAM CHECK FLIH (IEAVEPCO)    04500000
*                                      WHICH MUST CHANGE IF THIS        04550000
*                                      CONSTANT CHANGES.                04600000
TRVTTPSR DS    XL4                     TIME INTERVAL THAT SYSTEM        04650000
*                                      TRACE PROCESSOR STRUCTURE IS     04700000
*                                      RETAINED AFTER ACR OR            04750000
*                                      VARY PROCESSOR OFFLINE.          04800000
*                                      X'00000001' IS                   04850000
*                                      1.048576 SECONDS.                04900000
TRVTETSS DS    A                       ADDRESS OF START SUBCHANNEL      04950000
*                                      TTE CREATION ROUTINE.            05000000
TRVTETMS DS    A                       ADDRESS OF MODIFY SUBCHANNEL     05050000
*                                      TTE CREATION ROUTINE.            05100000
TRVTETHS DS    A                       ADDRESS OF HALT SUBCHANNEL       05150000
*                                      TTE CREATION ROUTINE.            05200000
TRVTETCS DS    A                       ADDRESS OF CLEAR SUBCHANNEL      05250000
*                                      TTE CREATION ROUTINE.            05300000
TRVTETRS DS    A                       ADDRESS OF RESUME SUBCHANNEL     05350000
*                                      TTE CREATION ROUTINE.            05400000
TRVTETEX DS    A                       ADDRESS OF EXTERNAL INTERRUPT    05450000
*                                      TTE CREATION ROUTINE.            05500000
TRVTETSV DS    A                       ADDRESS OF SVC INTERRUPT         05550000
*                                      TTE CREATION ROUTINE.            05600000
TRVTETSR DS    A                       ADDRESS OF SVC RETURN            05650000
*                                      TTE CREATION ROUTINE.            05700000
TRVTETSE DS    A                       ADDRESS OF SVC ERROR             05750000
*                                      TTE CREATION ROUTINE.            05800000
TRVTETPI DS    A                       ADDRESS OF PROGRAM INTERRUPT     05850000
*                                      TTE CREATION ROUTINE.            05900000
TRVTETIO DS    A                       ADDRESS OF I/O INTERRUPT         05950000
*                                      TTE CREATION ROUTINE.            06000000
TRVTETDP DS    A                       ADDRESS OF TASK DISPATCH         06050000
*                                      TTE CREATION ROUTINE.            06100000
TRVTETIS DS    A                       ADDRESS OF INITIAL SRB DISPATCH  06150000
*                                      TTE CREATION ROUTINE.            06200000
TRVTETSB DS    A                       ADDRESS OF SUSPENDED SRB         06250000
*                                      DISPATCH TTE CREATION ROUTINE.   06300000
TRVTETWT DS    A                       ADDRESS OF WAIT TASK DISPATCH    06350000
*                                      TTE CREATION ROUTINE.            06400000
TRVTETMH DS    A                       ADDRESS OF MACHINE CHECK         06450000
*                                      TTE CREATION ROUTINE.            06500000
TRVTETRE DS    A                       ADDRESS OF RESTART               06550000
*                                      TTE CREATION ROUTINE.            06600000
TRVTETAR DS    A                       ADDRESS OF ACR                   06650000
*                                      TTE CREATION ROUTINE.            06700000
TRVTETSU DS    A                       ADDRESS OF SUSPENSION            06750000
*                                      TTE CREATION ROUTINE.            06800000
TRVTETTA DS    A                       ADDRESS OF TRACE ALTERATION      06850000
*                                      TTE CREATION ROUTINE.            06900000
TRVTETUR DS    A                       ADDRESS OF USER EVENT            06950000
*                                      TTE CREATION ROUTINE.            07000000
TRVTETSL DS    A                       ADDRESS OF SLIP/PER EVENT   @L1A 07050000
*                                      TTE CREATION ROUTINE.            07100000
TRVTETSY DS    A                       ADDRESS OF PC OR BRANCH     @L2C 07133300
*                                      ENTERED SYSTEM SERVICE           07166600
*                                      TTE CREATION ROUTINE.            07199900
TRVTETRV DS    A                       ADDRESS OF RCVY             @L3C 07224900
*                                      TTE CREATION ROUTINE.            07249900
TRVTETTM DS    A                       ADDRESS OF TIME             @L4C 07266600
*                                      TTE CREATION ROUTINE             07283300
TRVTETSA DS    A                       ADDR OF SIGA CREATION RTN   @P1M 07284300
TRVTTCTX DS    XL4                     MASK TO PRESERVE ONLY THE        07285300
*                                      TRACE CONTROL BITS FROM A CR12   07285500
*                                      VALUE. THIS IS TRVTTCW1          07285700
*                                      XC'D WITH "-1"              @L6A 07285900
TRVTTCTO DS    XL4                     MASK TO PRESERVE ONLY THE        07286100
*                                      TRACE CONTROL BITS IN THE        07286300
*                                      OPTION WORD.                @L6A 07286500
TRVTTCW0 DS    XL4                     MASK TO CLEAR THE TRACING        07286600
*                                      CONTROL BITS FROM BITS 0-31      07286700
*                                      OF CR12.                         07286800
*                                      A DUPLICATE OF THIS CONSTANT     07286900
*                                      IS DEFINED IN THE DAT-OFF        07287000
*                                      PROGRAM CHECK FLIH (IEAVEPCO)    07287100
*                                      WHICH MUST CHANGE IF THIS        07287200
*                                      CONSTANT CHANGES. ONLY USED      07287300
*                                      IN ESAME                    @P1M 07287400
TRVTRSD8 DS    A                       RESERVED FOR FUTURE USE     @L5A 07288300
TRVTRSD9 DS    A                       RESERVED FOR FUTURE USE     @L5A 07289300
TRVTRSDA DS    A                       RESERVED FOR FUTURE USE     @L5A 07290300
TRVTSPIT DS    A                       ADDRESS OF SERVICE          @L5A 07291300
*                                      PROCESSOR INTERFACE MODULE       07292300
*                                      THAT GATHERS DATA FOR THE        07293300
*                                      SS TYPE ENTRY                    07294300
TRVTRSDB DS    A                       RESERVED FOR FUTURE USE     @L5A 07295300
TRVTRSDC DS    A                       RESERVED FOR FUTURE USE     @L5A 07296300
TRVTRSDD DS    A                       RESERVED FOR FUTURE USE     @L5A 07297300
TRVTRSDE DS    A                       RESERVED FOR FUTURE USE     @L5A 07298300
TRVTEND  DS    0D                      END OF TRVT.                     07300000
TRVTLVLN EQU   X'01'                   TRVT LEVEL NUMBER.               07350000
         MEXIT                                                          07400000
.*                                                                      07450000
.*   PRODUCE RSECT VERSION OF TRVT                                      07500000
.TRVTCST ANOP                                                           07550000
TRVT     DS    0D                      TRACE VECTOR TABLE.              07600000
         SPACE 1                                                        07650000
         EXTRN IEAVETAT,IEAVETST,IEAVETAF,IEAVETSC,IEAVETRR             07700000
         EXTRN IEAVETCT,IEAVETTV,IEAVETFR,IEAVETTD                      07750000
         EXTRN IEAVETSS,IEAVETMS,IEAVETHS,IEAVETCS,IEAVETRS             07800000
         EXTRN IEAVETEX,IEAVETSV,IEAVETSR,IEAVETSE,IEAVETPI             07850000
         EXTRN IEAVETIO,IEAVETDP,IEAVETIS,IEAVETSB,IEAVETWT             07900000
         EXTRN IEAVETMH,IEAVETRE,IEAVETAR,IEAVETSU,IEAVETTA             07950000
         EXTRN IEAVETUR,IEAVETSL,IEAVETSY,IEAVETRV,IEAVETTM        @L4C 08000000
         EXTRN IEAVETSA                                            @01A 08012500
         EXTRN ISNSSTRA                                            @L5A 08025000
         SPACE 1                                                        08050000
TRVTID   DC    CL4'TRVT'               TRVT EBCDIC IDENTIFIER.          08100000
TRVTDATE DC    CL8'&SYSDATE'           MODULE DATE.                     08150000
TRVTMLVL DC    CL8'&SYSPARM '          MODULE LEVEL.                    08200000
TRVTBLVL DC    AL1(TRVTLVLN)           CONTROL BLOCK LEVEL NUMBER.      08250000
TRVTRSD1 DC    XL3'00'                 RESERVED.                        08300000
TRVTTOB  DC    V(IEAVETOB)             ADDRESS OF TRACE OPTION BLOCK.   08350000
TRVTETAT DC    A(X'80000000'+IEAVETAT) ADDRESS OF ALTRTRC               08400000
*                                      SERVICE INTERFACE.               08450000
TRVTETST DC    A(X'80000000'+IEAVETST) ADDRESS OF SNAPTRC               08500000
*                                      SERVICE INTERFACE.               08550000
TRVTETAF DC    A(X'80000000'+IEAVETAF) ADDRESS OF ASIDTRC               08600000
*                                      SERVICE INTERFACE.               08650000
TRVTETSC DC    A(X'80000000'+IEAVETSC) ADDRESS OF TRACE STORAGE         08700000
*                                      CHECK RECOVERY ROUTINE.          08750000
TRVTETRR DC    A(X'80000000'+IEAVETRR) ADDRESS OF TRACE RECEIVING       08800000
*                                      ROUTINE.                         08850000
TRVTETCT DC    A(X'80000000'+IEAVETCT) ADDRESS OF COPYTRC               08900000
*                                      SERVICE INTERFACE.               08950000
TRVTETTV DC    A(X'80000000'+IEAVETTV) ADDRESS OF VERFYTRC              09000000
*                                      SERVICE INTERFACE.               09050000
TRVTETFR DC    A(X'80000000'+IEAVETFR) ADDRESS OF TRACE SERVICES        09100000
*                                      GENERAL FRR.                     09150000
TRVTETTD DC    A(X'80000000'+IEAVETTD) ADDRESS OF TRACE TIMER           09200000
*                                      DIE ROUTINE.                     09250000
TRVTRSD2 DC    A(0)                    RESERVED.                        09300000
TRVTRSD3 DC    A(0)                    RESERVED.                        09350000
TRVTRPMK DC    XL4'80000000'           REGISTER PAIR INDICATOR MASK.    09400000
TRVTTCW1 DC    XL4'7FFFFFFC'           MASK TO CLEAR THE TRACING        09450000
*                                      CONTROL BITS FROM BITS 32-63     09500000
*                                      OF A CR12 VALUE.                 09550000
*                                      A DUPLICATE OF THIS CONSTANT     09600000
*                                      IS DEFINED IN THE DAT-OFF        09650000
*                                      PROGRAM CHECK FLIH (IEAVEPCO)    09700000
*                                      WHICH MUST CHANGE IF THIS        09750000
*                                      CONSTANT CHANGES.                09800000
TRVTTPSR DC    XL4'23C'                TIME INTERVAL THAT SYSTEM        09850000
*                                      TRACE PROCESSOR STRUCTURE IS     09900000
*                                      RETAINED AFTER ACR OR            09950000
*                                      VARY PROCESSOR OFFLINE.          10000000
*                                      X'00000001' IS                   10050000
*                                      1.048576 SECONDS.                10100000
TRVTETSS DC    A(X'80000000'+IEAVETSS) ADDRESS OF START SUBCHANNEL      10150000
*                                      TTE CREATION ROUTINE.            10200000
TRVTETMS DC    A(X'80000000'+IEAVETMS) ADDRESS OF MODIFY SUBCHANNEL     10250000
*                                      TTE CREATION ROUTINE.            10300000
TRVTETHS DC    A(X'80000000'+IEAVETHS) ADDRESS OF HALT SUBCHANNEL       10350000
*                                      TTE CREATION ROUTINE.            10400000
TRVTETCS DC    A(X'80000000'+IEAVETCS) ADDRESS OF CLEAR SUBCHANNEL      10450000
*                                      TTE CREATION ROUTINE.            10500000
TRVTETRS DC    A(X'80000000'+IEAVETRS) ADDRESS OF RESUME SUBCHANNEL     10550000
*                                      TTE CREATION ROUTINE.            10600000
TRVTETEX DC    A(X'80000000'+IEAVETEX) ADDRESS OF EXTERNAL INTERRUPT    10650000
*                                      TTE CREATION ROUTINE.            10700000
TRVTETSV DC    A(X'80000000'+IEAVETSV) ADDRESS OF SVC INTERRUPT         10750000
*                                      TTE CREATION ROUTINE.            10800000
TRVTETSR DC    A(X'80000000'+IEAVETSR) ADDRESS OF SVC RETURN            10850000
*                                      TTE CREATION ROUTINE.            10900000
TRVTETSE DC    A(X'80000000'+IEAVETSE) ADDRESS OF SVC ERROR             10950000
*                                      TTE CREATION ROUTINE.            11000000
TRVTETPI DC    A(X'80000000'+IEAVETPI) ADDRESS OF PROGRAM INTERRUPT     11050000
*                                      TTE CREATION ROUTINE.            11100000
TRVTETIO DC    A(X'80000000'+IEAVETIO) ADDRESS OF I/O INTERRUPT         11150000
*                                      TTE CREATION ROUTINE.            11200000
TRVTETDP DC    A(X'80000000'+IEAVETDP) ADDRESS OF TASK DISPATCH         11250000
*                                      TTE CREATION ROUTINE.            11300000
TRVTETIS DC    A(X'80000000'+IEAVETIS) ADDRESS OF INITIAL SRB DISPATCH  11350000
*                                      TTE CREATION ROUTINE.            11400000
TRVTETSB DC    A(X'80000000'+IEAVETSB) ADDRESS OF SUSPENDED SRB         11450000
*                                      DISPATCH TTE CREATION ROUTINE.   11500000
TRVTETWT DC    A(X'80000000'+IEAVETWT) ADDRESS OF WAIT TASK DISPATCH    11550000
*                                      TTE CREATION ROUTINE.            11600000
TRVTETMH DC    A(X'80000000'+IEAVETMH) ADDRESS OF MACHINE CHECK         11650000
*                                      TTE CREATION ROUTINE.            11700000
TRVTETRE DC    A(X'80000000'+IEAVETRE) ADDRESS OF RESTART               11750000
*                                      TTE CREATION ROUTINE.            11800000
TRVTETAR DC    A(X'80000000'+IEAVETAR) ADDRESS OF ACR                   11850000
*                                      TTE CREATION ROUTINE.            11900000
TRVTETSU DC    A(X'80000000'+IEAVETSU) ADDRESS OF SUSPENSION            11950000
*                                      TTE CREATION ROUTINE.            12000000
TRVTETTA DC    A(X'80000000'+IEAVETTA) ADDRESS OF TRACE ALTERATION      12050000
*                                      TTE CREATION ROUTINE.            12100000
TRVTETUR DC    A(X'80000000'+IEAVETUR) ADDRESS OF USER EVENT            12150000
*                                      TTE CREATION ROUTINE.            12200000
TRVTETSL DC    A(X'80000000'+IEAVETSL) ADDRESS OF SLIP/PER EVENT   @L1A 12250000
*                                      TTE CREATION ROUTINE.            12300000
TRVTETSY DC    A(X'80000000'+IEAVETSY) ADDRESS OF PC OR BRANCH     @L2C 12333300
*                                      ENTERED SYSTEM SERVICE           12366600
*                                      TTE CREATION ROUTINE.            12399900
TRVTETRV DC    A(X'80000000'+IEAVETRV) ADDRESS OF RCVY             @L3C 12411000
*                                      TTE CREATION ROUTINE.            12422100
TRVTETTM DC    A(X'80000000'+IEAVETTM) ADDRESS OF TIME             @L4C 12448000
*                                      TTE CREATION ROUTINE.            12473900
TRVTETSA DC    A(X'80000000'+IEAVETSA) ADDR OF SIGA CREATION RTN   @P1M 12475400
TRVTTCTX DC    XL4'80000003'           MASK TO PRESERVE ONLY THE        12476900
*                                      TRACE CONTROL BITS FROM A CR12   12477200
*                                      VALUE. THIS IS TRVTTCW1          12477500
*                                      XC'D WITH "-1"              @L6A 12477800
TRVTTCTO DC    XL4'80000003'           MASK TO PRESERVE ONLY THE        12478100
*                                      TRACE CONTROL BITS IN THE        12478400
*                                      OPTION WORD. THIS IS DIFFERENT   12478700
*                                      IN ESAME                    @L6A 12479000
TRVTTCW0 DC    XL4'3FFFFFFF'           MASK TO CLEAR THE TRACING        12479200
*                                      CONTROL BITS FROM BITS 0-31      12479400
*                                      OF A CR12 VALUE.                 12479600
*                                      A DUPLICATE OF THIS CONSTANT     12479800
*                                      IS DEFINED IN THE DAT-OFF        12480000
*                                      PROGRAM CHECK FLIH (IEAVEPCO)    12480200
*                                      WHICH MUST CHANGE IF THIS        12480400
*                                      CONSTANT CHANGES. ONLY USED      12480600
*                                      IN ESAME                    @P1M 12480800
TRVTRSD8 DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12481900
TRVTRSD9 DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12483500
TRVTRSDA DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12485100
TRVTSPIT DC    A(X'80000000'+ISNSSTRA) ADDRESS OF SERVICE          @L5A 12486700
*                                      PROCESSOR INTERFACE MODULE       12488300
*                                      THAT GATHERS DATA FOR THE        12489900
*                                      SS TYPE ENTRY                    12491500
TRVTRSDB DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12493100
TRVTRSDC DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12494700
TRVTRSDD DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12496300
TRVTRSDE DC    A(0)                    RESERVED FOR FUTURE USE     @L5A 12497900
TRVTEND  DS    0D                      END OF TRVT.                     12500000
TRVTLVLN EQU   X'01'                   TRVT LEVEL NUMBER.               12550000
         MEND  ,                                                     */ 12600000
*                                                                       12700000
*%TRVTL2:                                                               12750000
*   ;                                                                   12800000
*   DECLARE                                                             12850000
*     1    TRVT     BASED(PSATRVT) BOUNDARY(DWORD), /* TRACE VECTOR     12900000
*                                      TABLE.                        */ 12950000
*       3    TRVTID   CHARACTER(4), /* TRVT EBCDIC IDENTIFIER.       */ 13000000
*       3    TRVTDATE CHARACTER(8), /* MODULE DATE.                  */ 13050000
*       3    TRVTMLVL CHARACTER(8), /* MODULE LEVEL.                 */ 13100000
*       3    TRVTBLVL UNSIGNED BINARY(8), /* CONTROL BLOCK LEVEL        13150000
*                                      NUMBER.                       */ 13200000
*       3    TRVTRSD1 CHARACTER(3), /* RESERVED.                     */ 13250000
*       3    TRVTTOB  POINTER(31),  /* ADDRESS OF TRACE OPTION BLOCK.*/ 13300000
*       3    TRVTETAT POINTER(31),  /* ADDRESS OF ALTRTRC SERVICE       13350000
*                                      INTERFACE.                    */ 13400000
*       3    TRVTETST POINTER(31),  /* ADDRESS OF SNAPTRC SERVICE       13450000
*                                      INTERFACE.                    */ 13500000
*       3    TRVTETAF POINTER(31),  /* ADDRESS OF ASIDTRC SERVICE       13550000
*                                      INTERFACE.                    */ 13600000
*       3    TRVTETSC POINTER(31),  /* ADDRESS OF TRACE STORAGE CHECK   13650000
*                                      RECOVERY ROUTINE.             */ 13700000
*       3    TRVTETRR POINTER(31),  /* ADDRESS OF TRACE RECEIVING       13750000
*                                      ROUTINE.                      */ 13800000
*       3    TRVTETCT POINTER(31),  /* ADDRESS OF COPYTRC SERVICE       13850000
*                                      INTERFACE.                    */ 13900000
*       3    TRVTETTV POINTER(31),  /* ADDRESS OF VERFYTRC SERVICE      13950000
*                                      INTERFACE.                    */ 14000000
*       3    TRVTETFR POINTER(31),  /* ADDRESS OF TRACE SERVICES        14050000
*                                      GENERAL FRR.                  */ 14100000
*       3    TRVTETTD POINTER(31),  /* ADDRESS OF TRACE TIMER DIE       14150000
*                                      ROUTINE.                      */ 14200000
*       3    TRVTRSD2 POINTER(31),  /* RESERVED.                     */ 14250000
*       3    TRVTRSD3 POINTER(31),  /* RESERVED.                     */ 14300000
*       3    TRVTRPMK BIT(32),      /* REGISTER PAIR INDICATOR MASK. */ 14350000
*       3    TRVTTCW1 BIT(32),      /* MASK TO CLEAR THE TRACING        14400000
*                                      CONTROL BITS FROM BITS 32-63     14450000
*                                      OF A CR12 VALUE. A DUPLICATE     14500000
*                                      OF THIS CONSTANT IS DEFINED IN   14550000
*                                      THE DAT-OFF PROGRAM CHECK FLIH   14600000
*                                      (IEAVEPCO) WHICH MUST CHANGE     14650000
*                                      IF THIS CONSTANT CHANGES.     */ 14700000
*       3    TRVTTPSR BIT(32),      /* TIME INTERVAL THAT SYSTEM        14750000
*                                      TRACE PROCESSOR STRUCTURE IS     14800000
*                                      RETAINED AFTER ACR OR VARY       14850000
*                                      PROCESSOR OFFLINE. X'00000001'   14900000
*                                      IS 1.048576 SECONDS.          */ 14950000
*       3    TRVTETSS POINTER(31),  /* ADDRESS OF START SUBCHANNEL      15000000
*                                      TTE CREATION ROUTINE.         */ 15050000
*       3    TRVTETMS POINTER(31),  /* ADDRESS OF MODIFY SUBCHANNEL     15100000
*                                      TTE CREATION ROUTINE.         */ 15150000
*       3    TRVTETHS POINTER(31),  /* ADDRESS OF HALT SUBCHANNEL TTE   15200000
*                                      CREATION ROUTINE.             */ 15250000
*       3    TRVTETCS POINTER(31),  /* ADDRESS OF CLEAR SUBCHANNEL      15300000
*                                      TTE CREATION ROUTINE.         */ 15350000
*       3    TRVTETRS POINTER(31),  /* ADDRESS OF RESUME SUBCHANNEL     15400000
*                                      TTE CREATION ROUTINE.         */ 15450000
*       3    TRVTETEX POINTER(31),  /* ADDRESS OF EXTERNAL INTERRUPT    15500000
*                                      TTE CREATION ROUTINE.         */ 15550000
*       3    TRVTETSV POINTER(31),  /* ADDRESS OF SVC INTERRUPT TTE     15600000
*                                      CREATION ROUTINE.             */ 15650000
*       3    TRVTETSR POINTER(31),  /* ADDRESS OF SVC RETURN TTE        15700000
*                                      CREATION ROUTINE.             */ 15750000
*       3    TRVTETSE POINTER(31),  /* ADDRESS OF SVC ERROR TTE         15800000
*                                      CREATION ROUTINE.             */ 15850000
*       3    TRVTETPI POINTER(31),  /* ADDRESS OF PROGRAM INTERRUPT     15900000
*                                      TTE CREATION ROUTINE.         */ 15950000
*       3    TRVTETIO POINTER(31),  /* ADDRESS OF I/O INTERRUPT TTE     16000000
*                                      CREATION ROUTINE.             */ 16050000
*       3    TRVTETDP POINTER(31),  /* ADDRESS OF TASK DISPATCH TTE     16100000
*                                      CREATION ROUTINE.             */ 16150000
*       3    TRVTETIS POINTER(31),  /* ADDRESS OF INITIAL SRB           16200000
*                                      DISPATCH TTE CREATION ROUTINE.*/ 16250000
*       3    TRVTETSB POINTER(31),  /* ADDRESS OF SUSPENDED SRB         16300000
*                                      DISPATCH TTE CREATION ROUTINE.*/ 16350000
*       3    TRVTETWT POINTER(31),  /* ADDRESS OF WAIT TASK DISPATCH    16400000
*                                      TTE CREATION ROUTINE.         */ 16450000
*       3    TRVTETMH POINTER(31),  /* ADDRESS OF MACHINE CHECK TTE     16500000
*                                      CREATION ROUTINE.             */ 16550000
*       3    TRVTETRE POINTER(31),  /* ADDRESS OF RESTART TTE           16600000
*                                      CREATION ROUTINE.             */ 16650000
*       3    TRVTETAR POINTER(31),  /* ADDRESS OF ACR TTE CREATION      16700000
*                                      ROUTINE.                      */ 16750000
*       3    TRVTETSU POINTER(31),  /* ADDRESS OF SUSPENSION TTE        16800000
*                                      CREATION ROUTINE.             */ 16850000
*       3    TRVTETTA POINTER(31),  /* ADDRESS OF TRACE ALTERATION      16900000
*                                      TTE CREATION ROUTINE.         */ 16950000
*       3    TRVTETUR POINTER(31),  /* ADDRESS OF USER EVENT TTE        17000000
*                                      CREATION ROUTINE.             */ 17050000
*       3    TRVTETSL POINTER(31),  /* ADDRESS OF SLIP PER EVENT TTE    17100000
*                                      CREATION ROUTINE.         @L1A*/ 17150000
*       3    TRVTETSY POINTER(31),  /* ADDRESS OF PC OR BRANCH          17200000
*                                      ENTERED SYSTEM SERVICE TTE       17250000
*                                      CREATION ROUTINE.         @L2C*/ 17300000
*       3    TRVTETRV POINTER(31),  /* ADDRESS OF RCVY TTE CREATION     17350000
*                                      ROUTINE.                  @L3C*/ 17400000
*       3    TRVTETTM POINTER(31),  /* ADDRESS OF TIME TTE CREATION     17450000
*                                      ROUTINE.                  @L4C*/ 17500000
*       3    TRVTETSA POINTER(31),  /* ADDRESS OF SIGA CREATION         17550000
*                                      ROUTINE.                  @P1M*/ 17600000
*       3    TRVTTCTX CHARACTER(4), /* MASK TO PRESERVE ONLY THE        17950000
*                                      TRACE CONTROL BITS FROM A CR12   18000000
*                                      VALUE. THIS IS TRVTTCW1 XC'D     18050000
*                                      WITH "-1"                 @L6A*/ 18100000
*       3    TRVTTCTO CHARACTER(4), /* MASK TO PRESERVE ONLY THE        18150000
*                                      TRACE CONTROL BITS IN THE        18200000
*                                      OPTION WORD. THIS IS DIFFERENT   18250000
*                                      IN ESAME                  @L6A*/ 18300000
*       3    TRVTTCW0 CHARACTER(4), /* MASK TO CLEAR THE TRACING        18311100
*                                      CONTROL BITS FROM BITS 0-31 OF   18322200
*                                      A CR12 VALUE. A DUPLICATE OF     18333300
*                                      THIS CONSTANT IS DEFINED IN      18344400
*                                      THE DAT-OFF PROGRAM CHECK FLIH   18355500
*                                      (IEAVEPCO) WHICH MUST CHANGE     18366600
*                                      IF THIS CONSTANT CHANGES. ONLY   18377700
*                                      USED IN ESAME.            @P1M*/ 18388800
*       3    TRVTRSD8 POINTER(31),  /* RESERVED                  @L5A*/ 18400000
*       3    TRVTRSD9 POINTER(31),  /* RESERVED                  @L5A*/ 18450000
*       3    TRVTRSDA POINTER(31),  /* RESERVED                  @L5A*/ 18500000
*       3    TRVTSPIT POINTER(31),  /* ADDRESS OF THE SERVICE           18550000
*                                      PROCESSOR INTERFACE MODULE       18600000
*                                      THAT GATHERS DATA FOR THE SS     18650000
*                                      TYPE ENTRY                @L5A*/ 18700000
*       3    TRVTRSDB POINTER(31),  /* RESERVED                  @L5A*/ 18750000
*       3    TRVTRSDC POINTER(31),  /* RESERVED                  @L5A*/ 18800000
*       3    TRVTRSDD POINTER(31),  /* RESERVED                  @L5A*/ 18850000
*       3    TRVTRSDE POINTER(31),  /* RESERVED                  @L5A*/ 18900000
*       3    TRVTEND  CHARACTER(0) BOUNDARY(DWORD); /* END OF TRVT.  */ 18950000
*   DECLARE                                                             19000000
*     TRVTLVLN UNSIGNED BINARY(8) CONSTANT(1); /* TRVT LEVEL NUMBER. */ 19050000
*%TRACEC12:                                                             19100000
*   MACRO KEYS(SAVECR12E,SAVECR12,ONLYLOAD,ONLYSET);                    19150000
*   ANSWER('BEGIN;') SKIP NORESCAN;                                     19200000
*   IF INDEX(SAVECR12(1),'(') ~= 0 THEN                                 19250000
*     DO;                                                               19300000
*       CR12STRING = 'CR12_' || MACINDEX;                               19350000
*       CR12ESTRING = 'CR12E_' || MACINDEX;                             19400000
*       ANSWER('DECLARE '||CR12STRING||' CHARACTER(4) BASED(ADDR('||    19450000
*           SAVECR12(1)||')) BOUNDARY(WORD);') SKIP NORESCAN;           19500000
*       ANSWER('DECLARE '||CR12ESTRING||' CHARACTER(8) BASED(ADDR('||   19550000
*           SAVECR12E(1)||')) BOUNDARY(DWORD);') SKIP NORESCAN;         19600000
*     END;                                                              19650000
*   ELSE                                                                19700000
*     DO;                                                               19750000
*       CR12STRING = SAVECR12(1);                                       19800000
*       CR12ESTRING = SAVECR12E(1);                                     19850000
*     END;                                                              19900000
*   ANSWER('IF ?ASAXMAC ESAME; THEN /* ESAME? */'||'DO; /* ESAME */')   19950000
*       SKIP RESCAN;                /*                           @L6A*/ 20000000
*   IF ONLYLOAD = '' THEN                                               20050000
*     DO;                           /* NOT ONLYLOAD                  */ 20100000
*       IF MACLIST(1) = 'OFF' | MACLIST(1) = 'ON' THEN                  20150000
*         DO;                                                           20200000
*           ANSWER(CR12ESTRING||'(1::4) = '||CR12ESTRING||              20250000
*               '(1:4) & TRVTTCW0; '||                                  20300000
*               '/* MASK TO TURN OFF OPTION BITS IN CR12 */') SKIP      20350000
*               NORESCAN;           /*                           @L6A*/ 20400000
*           ANSWER(CR12ESTRING||'(5::4) = '||CR12ESTRING||              20450000
*               '(5::4) & TRVTTCW1; '||                                 20500000
*               '/* MASK TO TURN OFF OPTION BITS IN CR12 */') SKIP      20550000
*               NORESCAN;           /*                           @L6A*/ 20600000
*         END;                                                          20650000
*     END;                          /* NOT ONLYLOAD                  */ 20700000
*   IF MACLIST(1) = 'ON' THEN                                           20750000
*     DO;                                                               20800000
*       IF ONLYLOAD = '' THEN                                           20850000
*         DO;                       /* NOT ONLYLOAD                  */ 20900000
*           ANSWER(CR12ESTRING||'(1:1) = ('||CR12ESTRING||              20950000
*               '(1:1) | TOBTROB0); /* SET OPTION BITS IN CR12 */')     21000000
*               SKIP NORESCAN;      /*                           @L6A*/ 21050000
*           TEMPREG = 'OPT_' || MACINDEX;                               21100000
*           ANSWER('DECLARE '||TEMPREG||' REG(*);') SKIP NORESCAN;      21150000
*           ANSWER(TEMPREG||' = (TOBTROPT & TRVTTCTX);') SKIP NORESCAN; 21200000
*                                   /* WE USE THE REG(*) APPROACH       21250000
*                                      ONLY BECAUSE OTHERWISE IT        21300000
*                                      WANTS A TEMP              @L6A*/ 21350000
*           ANSWER(CR12ESTRING||'(5::4) = '||CR12ESTRING||'(5::4) | '|| 21400000
*               TEMPREG||';'||                                          21450000
*               '/* MASK TO TURN OFF OPTION BITS IN CR12 */') SKIP      21500000
*               NORESCAN;           /*                           @L6A*/ 21550000
*         END;                      /* NOT ONLYLOAD                  */ 21600000
*       IF ONLYSET = '' THEN                                            21650000
*         ANSWER('TBVTC12C=''1''B;   /* SET CR12 CURRENT INDICATOR */') 21700000
*             SKIP NORESCAN;                                            21750000
*     END;                                                              21800000
*   IF ONLYSET = '' THEN                                                21850000
*     ANSWER('  ?IEAMESAM G64(LCTLG,'||CR12ESTRING||                    21900000
*         ') RANGE(12,12) UNCOND;') SKIP RESCAN;                        21950000
*   ANSWER('END; /* ESAME */') SKIP NORESCAN; /*                 @L6A*/ 22000000
*   ANSWER('ELSE DO; /* NOT ESAME */') SKIP NORESCAN; /*         @L6A*/ 22050000
*   IF ONLYLOAD = '' THEN                                               22100000
*     IF MACLIST(1) = 'OFF' | MACLIST(1) = 'ON' THEN                    22150000
*       ANSWER(CR12STRING||' = '||CR12STRING||' & TRVTTCW1; '||         22200000
*           '/* MASK TO TURN OFF OPTION BITS IN CR12 */') SKIP NORESCAN 22250000
*       ;                           /*                           @L6A*/ 22300000
*   IF MACLIST(1) = 'ON' THEN                                           22350000
*     DO;                                                               22400000
*       IF ONLYLOAD = '' THEN                                           22450000
*         ANSWER(CR12STRING||' = '||CR12STRING||' | '||                 22500000
*             '(TOBTROPT & TRVTTCTX);'||                                22550000
*             '/* MASK TO TURN OFF OPTION BITS IN CR12 */') SKIP        22600000
*             NORESCAN;             /*                           @L6A*/ 22650000
*       IF ONLYSET = '' THEN                                            22700000
*         ANSWER('TBVTC12C=''1''B;   /* SET CR12 CURRENT INDICATOR */') 22750000
*             SKIP NORESCAN;                                            22800000
*     END;                                                              22850000
*   IF ONLYSET = '' THEN                                                22900000
*     ANSWER('  LCTL (12,12,'||CR12STRING||');') SKIP NORESCAN;         22950000
*   ANSWER('END; /* NOT ESAME */') SKIP NORESCAN; /*             @L6A*/ 23000000
*   ANSWER('END;') SKIP NORESCAN;                                       23050000
*   %END;                                                               23100000
