         MACRO                                                          00050000
&SADMP   AMDSADM2  &IPL=,&CONSOLE=,&DDSPROMPT=,                        X00100000
               &MSG=,&PROMPT,&MINASID=,                                X00150000
               &DUMP=,&OUTPUT=X,&COMPACT=YES,&REUSEDS=CHOICE       @07C 00200000
*        AGO   .PASTPRO                                        @ZA87036 00250000
*/*  START OF SPECIFICATIONS  ***************************************** 00300000
*                                                                       00350000
*01* MACRO NAME = AMDSADM2                                              00400000
*                                                                       00450000
*01* DESCRIPTIVE NAME = SADMP STAGE 2 DUMP GENERATION MACRO             00500000
*                                                                       00550000
*01* COMPONENT = STAND-ALONE DUMP (SC115)                               00600000
*                                                                       00650000
*01* PROPRIETARY STATEMENT =                                            00700000
*                                                                       00750000
*       LICENSED MATERIALS - PROPERTY OF IBM                            00800000
*       THIS MODULE IS "RESTRICTED MATERIALS OF IBM"                    00850000
*       5645-001 (C) COPYRIGHT IBM CORP. 1982, 1997                @PVC 00900000
*       SEE COPYRIGHT INSTRUCTIONS                                      00950000
*                                                                       01000000
*01* STATUS =   HBB6603                                            @PVC 01050000
*                                                                       01100000
*01* FUNCTION = THIS MACRO GENERATES THE DATA ONLY CSECTS AMDSACCT      01150000
*               AND AMDSADDO. THIS ALLOWS THE INITIAL VALUES OF         01200000
*               THESE DATA AREAS TO CONTAIN INFORMATION SUPPLIED        01250000
*               AT GENERATION TIME.                                @L6C 01300000
*                                                                       01350000
*01* METHOD OF ACCESS:                                                  01400000
*                                                                       01450000
*02*   ASSEMBLER:                                                       01500000
*                                                                       01550000
*      AMDSADM2 IPL=X,CONSOLE=X,MSG=X,MINASID=X,DUMP=X,OUTPUT=X,PROMPT, 01583300
*           COMPACT=X,REUSEDS=X,DDSPROMPT=X                        @07C 01616600
*                                                                       01650000
*02*   PL/S: N/A                                                        01700000
*                                                                       01750000
*01* NOTES =                                                            01800000
*                                                                       01850000
*02*   DEPENDENCIES = EBCDIC CHARACTER CODE                             01900000
*                                                                       01950000
*02*   RESTRICTIONS =                                                   02000000
*                                                                       02050000
*        AMDSACCT = MUST START AT X'200' AND NOT EXTEND BEYOND THE PAGE 02100000
*                   BOUNDARY.                                      @L6A 02150000
*                                                                       02200000
*        AMDSADDO = MUST FIT WITHIN A PAGE                         @L6A 02250000
*                                                                       02300000
*01* STORAGE ATTRIBUTES:                                                02350000
*                                                                       02400000
*        AMDSACCT = 512 BYTES (STARTING AT X'200')                 @L6A 02450000
*                                                                       02500000
*        AMDSADDO = 4096 BYTES (1 PAGE )                           @L6A 02550000
*                                                                       02600000
*01* INPUT = THE JOBSTREAM GENERATED BY MACRO AMDSADMP WILL             02650000
*            CONTAIN THE AMDSADM2 MACRO INVOCATION.                     02700000
*                                                                       02750000
*01* OUTPUT = ASSEMBLER CODE FOR THE CSECTS AMDSACCT AND AMDSADDO.      02800000
*             WILL BE TAILORED TO THE PARTICULAR APPLICATION OF         02850000
*             SADMP INDICATED BY THE KEYWORD VALUES.               @L6C 02900000
*                                                                       02912500
*01* EXTERNAL CLASSIFICATION: OTHER                                     02925000
*01* END OF EXTERNAL CLASSIFICATION                               2@PVC 02937500
*                                                                       02950000
*01* CHANGE-ACTIVITY =                                                  03000000
* A000000-999999                                               @G860P1W 03050000
* $MAC(AMDSADM2),COMP(SC115),PROD(HBB4420): STAGE 2 DUMP GENERATION     03075000
*                                                                       03100000
* FLAG   REASON   RELEASE   DATE   ORIGIN DESCRIPTION                   03200000
* $L1=   SRVADSYM JBB2220  841128  PD1V:  SUPPORT FOR SYMPTOM RECORDS   03203800
*                                         ADD SYMPTOM              @L1A 03207600
* $L2=   AR       HBB3310  851125  PDU6: ACCESS REGISTER SUPPORT   @L2A 03211400
* $L3=   IPCSENH  HBB3310  860709  PDF7: IPCS ENHANCEMENTS.        @L3A 03215200
*                                        (NEW DUMP RECORD PREFIX)  @L3A 03219000
* $L4=   IPCSENH  HBB3310  860709  PDF7: IPCS ENHANCEMENTS.        @L4A 03222800
*                                        (DATA CHAINING REMOVAL)   @L4A 03226600
* $L5=   MACLIB   JBB3313  881028  PDAF: MACRO LIBRARY SUPPORT.    @L5A 03230400
*                                        SHIP FOR IDS UPDATES.     @L5A 03234200
* $L6=   CIHWE    HBB4420  891211  PD1X: DUMP RESTRUCTURE          @L6A 03238000
* $L7=   SDMPD    HBB4430  910813  PD1X: DUMP TO DASD              @07A 03241800
*                                                                       03245600
* $H1=   3480     JBB2125  830608  PD1X:  3480 TAPES                    03250000
* $H2=   3290     JBB2125  830608  PD1X:  3290 INFORMATION PANEL        03300000
* $H3=   SERVPROC JBB2133  830706  PD1X:  SERVICE PROCESSOR             03350000
*                                           ARCHITECTURE SUPPORT        03400000
*                                                                       03405500
* $D1=   DCRR0257 HBB3310  870525  PDBX: 28K BLOCKING.             @D1A 03411000
*                                                                       03416500
* $T0=   OY11014  HBB3310  870915  PDBW: BFY PROCESSING            @T1A 03422000
* $T1=   OY11024  HBB3310  880120  PDBW: REDUCED MINIMAL DUMP      @T1A 03427500
* $T2=   OY23712  HBB3310  890626  PDBX: 3480 MICROCODE            @T2A 03433000
* $T3=   OY23149  HBB3310  890629  PDBX: 33XX DASD.                @T3A 03438500
*                                                                       03444000
* $P1=   PAJ0284  JBB2125  831006  PD1V:  3480 DISPLAY VOLSER WRAP      03450000
* $P2=   PAJ0359  JBB2125  831006  PD1V:  AMDSASAD RETURN CODE          03500000
* $P3=   PAJ0366  JBB2125  831105  PD1V:  PRIME 3480 AT EOT             03600000
* $P4=   PAJ0372  JBB2125  831105  PD1V:  PRIME FILE PROT 3480          03650000
*  ""    OZ69539                          FILE PROTECT DISMOUNT         03700000
* $P5=   PAJ0373  JBB2125  831105  PD1V:  INTRV REQ 3480, NO TU STATUS  03750000
* $P6=   PAJ0392  JBB2125  831105  PD1V:  NO REWIND AFTER DATA CHECK    03800000
* $P7=   PAJ0405  JBB2125  831105  PD1V:  NO UNASSIGN AFTER I/O ERROR   03850000
* $P8=   PAJ0395  JBB2125  831105  PD1V:  3480 IN USE DISPLAY           03900000
* $P9=   PAJ0426  JBB2125  831105  PD1V:  RESTART TAPE DEVICE TYPE      03950000
* $PA=   PAJ0438  JBB2125  831105  PD1V:  3480 MODESET ORDER            04000000
* $PB=   PAJ0449  JBB2125  831105  PD1V:  RESTART UNLOAD DISPLAY        04050000
* $PC=   PAJ0474  JBB2125  831105  PD1V:  CONTINGENT ALLEGIANCE         04100000
* $PD=   PAJ0427  JBB2125  831105  PD1V:  DISPLAY DCC 3 LOOP            04150000
* $PE=   PAJ0477  JBB2125  831209  PD1V:  RESTART WITH INOPER DEVICE    04200000
* $PF=   PAJ0528  JBB2125  831209  PD1V:  ERP IMPROPERLY EXECUTED       04250000
* $PG=   PAE0158  JBB2133  840312  PD1V:  DATA CHECK CCW ADDRESS        04300000
*  ""    OZ79183                          DATA CHECK CCW ADDRESS        04350000
* $PH=   PAE0338  JBB2133  840905  PD1V:  INDICATE STORE STATUS DATA    04351000
*                                         SAVED FOR RESTART             04352000
* $PI=   PA20447  JBB2220  851014  PD1V: DO NOT ERASE THE DUMP TITLE.   04353000
*                                                                  @PIA 04354000
* $PJ=   PA20448  JBB2220  851014  PD1V: ISSUE STAP FOR CPU ADDRESS FOR 04355000
*                                        FIELD PRDPCPU@ FOR IPL CPU     04356000
*                                        (SP2.1.0 BASE PROBLEM).   @PJA 04357000
* $PK=   PA20452  JBB2220  851014  PD1V: CORRECT OFFSET FOR SYMREC DUMP 04358000
*                                        TYPE FIELD.               @PKA 04359000
* $PL=   PC40122  HBB3310  860825  PDF7: SAVE TRACK ZERO CCHHR     @PLA 04360000
*                                        ONLY IF DUMP WAS IPLED    @PLA 04361000
*                                        FROM DASD.                @PLA 04362000
* $PM=   PC41078  HBB3310  870525  PDBX: REDRIVE CURRENT WRITE     @PMA 04363000
*                                        OPERATION AFTER SWITCHING @PMA 04364000
*                                        TAPES.                    @PMA 04365000
* $PN=   PC41200  HBB3310  870715  PDBX: HARD CODE STAM            @PNA 04366000
*                                        INSTRUCTION TO REMOVE     @PNA 04367000
*                                        THE DEPENDENCY ON THE     @PNA 04368000
*                                        ASSEMBLER.                @PNA 04369000
* $PO=   PC42070  HBB3310  880112  PDBX: ENTER A WAIT STATE        @POA 04370000
*                                        STATE INSTEAD OF          @POA 04371000
*                                        OVERFLOWING THE SAVE AREA @POA 04372000
*                                        STACK.                    @POA 04373000
* $PP=   PC41574  HBB3310  880127  PD1X: CHANGE WORDING FOR MESG   @PPA 04374000
*                                        AMD019A FOR 3480 DEVICE.  @PPA 04375000
* $PQ=   PC42329  HBB3310  880224  PDBX: RESET LOCATION COUNTER    @PQA 04376000
*                                        AFTER DRPX.               @PQA 04377000
* $PR=   PC42327  HBB3310  880224  PDBX: SET UP CR14 BEFORE FIRST  @PRA 04378000
*                                        BAL TO OUTPUT.            @PRA 04379000
* $PS=   PC42364  HBB3310  880302  PDBX: CLEAR BUFFER BEFORE READ  @PSA 04380000
*                                        SCPINFO.                  @PSA 04381000
* $PT=   PGP0609  JBB3313  890918  PDBX: COPYRIGHT                 @PTA 04382000
* $PU=   PKB2434  HBB4430  920430  PDIM  CHANGE DEFAULT VALUE OF        04383000
*                                        REUSEDS TO CHOICE.        @PUA 04384000
* $PV=   PQC2167  HBB6603  960904  PDNO: Change External Classification 04385000
*                                        from GUPI to OTHER        @PVA 04386000
*                                                                       04387000
* $01=   OZ67307  JBB2125  831105  PD1V:  DCC 3 NOT RECOGNIZED          04388000
* $02=   OZ79869  JBB2125  840615  PD1V:  3480 SINGLE PATH ASSIGN  @02A 04389000
* $03=   OY08507  HBB3310  880216  PDBX: ENABLE FOR MACHINE CHECKS @03A 04390000
*                                        WHILE PROCESSING REAL     @03A 04391000
*                                        STORAGE.                  @03A 04392000
* $04=   OY14665  HBB3310  890619  PDBX: 3480 ERP                  @04A 04393000
* $05=   OY24730  HBB3310  890825  PDBX: NEW UNIT CHECK ON RUN     @05A 04394000
* $06=   OY40870  HBB4420  900813  PDF7: IDRC SUPPORT              @06A 04395000
* $07=   OW20377  HBB5510  960531  PDNO: Allow a default dump data      04396000
*                                        set name and a dump data set   04397000
*                                        prompt indicator          @07A 04398000
*                                                                       04399000
* @ZA78947        JBB2125  840510 GT4517 ASSEMBLY ERROR DUE TO INVALID  04400000
*                                CONSOLE= PARAMETER FOR CONSOLE TYPE ON 04450000
*                                AMDSADMP MACRO FAILS TO PROVIDE        04500000
*                                SUFFICIENT DOCUMENTATION OF THE CAUSE  04550000
*                                OF THE FAILURE.               @ZA78947 04600000
* @ZA84057        JBB2125  841220  GT4517 AFTER OPERATOR REPLIES UNLOAD 04950000
*                                 TO AMD045I, AMD014I IS ISSUED AND ANY 05000000
*                                 TAPE THAT IS MOUNTED AFTER THAT IS    05050000
*                                 IMMEDIATELY DISMOUNTED.      @ZA84057 05100000
* @ZA87036        JBB2133  850329  GT4517 EYECATCHER THAT IS GENERATED  05150000
*                                 FOR AMDSARDM HAS AN FMID HBB2102      05200000
*                                 INSTEAD OF JBB2133.          @ZA87036 05250000
* @ZA87931        JBB2125  850515  GT4517 WAIT 150900 AFTER AMD003I     05300000
*                                 INTERFACE CONTROL CHECK AFTER A SENSE 05350000
*                                 OF NOT CAPABLE FROM THE OUTPUT TAPE,  05400000
*                                 BECAUSE NO CHECK IS MADE FOR A SENSE  05450000
*                                 OF NOT CAPABLE FROM THE OUTPUT TAPE,  05500000
*                                 NOR IS THE INTERFACE CONTROL CHECK    05550000
*                                 ITSELF HANDLED PROPERLY.     @ZA87931 05600000
*                                                                       07750000
***  END OF SPECIFICATIONS********************************************/ 07800000
.PASTPRO ANOP                                                           07850000
         EJECT                                                          07950000
         AIF   ('&PROMPT' EQ '').NOPRMPT CHECK IF PROMPT DESIRED   @L6A 07966600
         AMDSACCT IPL=&IPL,MSG=&MSG,PROMPT,MINASID=&MINASID,           X07983300
               COMPACT=&COMPACT,REUSEDS=&REUSEDS,                      X08005500
               DDSPROMPT=&DDSPROMPT                                @07C 08027700
         AGO   .DDO             BRANCH AROUND NO PROMPT INVOCATION @L6A 08050000
.NOPRMPT ANOP                   INFORM CCT NO PROMPTING DESIRED    @L6A 08100000
         AMDSACCT IPL=&IPL,MSG=&MSG,MINASID=&MINASID,                  X08133300
               COMPACT=&COMPACT,REUSEDS=&REUSEDS,                      X08155500
               DDSPROMPT=&DDSPROMPT                                @07C 08177700
.DDO     ANOP                   INVOKE AMDSADDO                    @L6A 08200000
         EJECT                                                          08250000
         AMDSADDO CONSOLE=&CONSOLE,OUTPUT=&OUTPUT,DUMP=&DUMP       @L6A 08300000
         MEND                                                           08350000
