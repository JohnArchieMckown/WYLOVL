*        %GOTO MINFPLAS1;    /*                                         00010000
         MACRO                                                          00020000
         CSFMINF                                                        00030000
**/ %MINFPLAS1 : ;                                                      00040000
*/***START OF SPECIFICATIONS******************************************/ 00050000
*/*                                                                  */ 00100000
*/*  $MAC (CSFMINF) COMP(05101) PROD(ICSF/MVS):                      */ 00150000
*/*                                                                  */ 00200000
*/*01* MACRO NAME: CSFMINF                                           */ 00250000
*/*                                                                  */ 00300000
*/*01* DESCRIPTIVE NAME: Information Retrieval Block                 */ 00350000
*/*                                                                  */ 00400000
*/*01* COPYRIGHT:                                                    */ 00450000
*/*                                                                  */ 00500000
*/*    LICENSED MATERIALS - PROPERTY OF IBM                          */ 00550000
*/*    "RESTRICTED MATERIALS OF IBM"                                 */ 00600000
*/*    5655-120 5645-001                                             */ 00650000
*/*    (C) COPYRIGHT IBM CORP. 1990                                  */ 00700000
*/*                                                                  */ 00750000
*/*01* STATUS: HCRP210                                               */ 00800000
*/*                                                                  */ 00812500
*/*01* EXTERNAL CLASSIFICATION: PI                                   */ 00825000
*/*01* END OF EXTERNAL CLASSIFICATION:                               */ 00837500
*/*                                                                  */ 00850000
*/*01* FUNCTION:                                                     */ 00900000
*/*      This block contains information about the current ICSF/MVS  */ 00950000
*/*      environment.  It is meant to be used as a parameter into    */ 01000000
*/*      the ICSF/MVS information retrieval service (CSFINF).        */ 01050000
*/*      It contains:                                                */ 01100000
*/*                                                                  */ 01150000
*/*      - Token length                                              */ 01200000
*/*      - Compatibility mode indicator                              */ 01250000
*/*      - Installation maximum data length                          */ 01300000
*/*      - Length of the installation parameter                      */ 01350000
*/*      - Installation specified parameter                          */ 01400000
*/*                                                                  */ 01450000
*/*01* METHOD OF ACCESS:                                             */ 01500000
*/*                                                                  */ 01550000
*/*02*   PLAS:                                                       */ 01600000
*/*        Use %INCLUDE SYSLIB(CSFMINF) to get a mapping of the INF  */ 01650000
*/*        block. By default, the INF is not based.  If a based      */ 01700000
*/*        structure is desired, use %INFBASE='BASED(XXXXXX)'.       */ 01750000
*/*        By default, the INF_CB is based on INF_CB_PTR.            */ 01800000
*/*        If other basing is desired, use %CBBASE='BASED(XXXXX)'.   */ 01850000
*/*        If the INFCB is to be accessed in another space,          */ 01900000
*/*        specify %CBVIA='VIA(YYYYYY)'.                             */ 01950000
*/*                                                                  */ 02000000
*/*02*   ASSEMBLER:                                                  */ 02050000
*/*        Issue the CSFMINF macro. A DSECT is produced.   A USING   */ 02100000
*/*        on INF provides addressability to all symbols.            */ 02150000
*/*                                                                  */ 02200000
*/*01* POINTED TO BY:                                                */ 02250000
*/*         Generally passed as a parameter from Application Service */ 02300000
*/*         Routines.                                                */ 02350000
*/*                                                                  */ 02400000
*/*01* CHANGE ACTIVITY:                                              */ 02450000
*/* $L0=ICSF/MVS ,HCRP100, 881031, PDF4: Crypto Service Facility     */ 02500000
*/* $C2=CPYRITE  ,HCRP210, 960515, PDKF: Copyright Updates       @C2A*/ 02525000
*/*                                                                  */ 02550000
*/*01* COMPONENT: 05101 (ICSF/MVS)                                   */ 02600000
*/*                                                                  */ 02650000
*/*01* DISTRIBUTION LIBRARY:  AMODGEN                                */ 02700000
*/*                                                                  */ 02750000
*/***END OF SPECIFICATIONS********************************************/ 02800000
*/*                                                                  */ 02850000
*        %GOTO MINFPLAS2;                                            /* 02852000
INF              DSECT                                                  02854000
INF_ID           DS   CL4          EBCDIC ID                            02856000
INF_VERS         DS   CL2          Version of the block                 02858000
INF_LEN          DS   H            Length of the block                  02860000
INF_TOKEN_LEN    DS   F            Length of the token                  02862000
INF_COMPAT       DS   F            Compatibility mode                   02864000
INF_MAX_DATA_LEN DS   F            Installation maximum length          02866000
INF_CB_PTR       DS   A            Pointer to the CB block              02868000
*                                                                       02870000
INF_CB           DSECT                                                  02872000
INF_CB_HEAD      DS   0CL16                                             02874000
INF_CB_ID        DS   CL4          EBCDIC ID                            02876000
INF_CB_VERS      DS   CL2          Version of the block                 02878000
INF_CB_LEN       DS   H            Length of the block including        02880000
*                                  INF_CB_MSG. This is the to use       02882000
*                                  to freemain the INF_CB               02884000
INF_CB_SUBPOOL   DS   F            Subpool number, used to freemain     02886000
*                                  the INF_CB                           02888000
INF_CB_LENGTH    DS   F            Length of installation specified     02890000
*                                  option                               02892000
INF_CB_MSG       DS   0C           Maximum length of the installation   02894000
*                                  option                               02896000
                 MEND                                                */ 02898000
                                                                        02900000
      %MINFPLAS2 : ;                                                    02916600
                                                                        02933200
 %IF INFBASE = '' %THEN %INFBASE = 'BDY(WORD)';                         02950000
 %IF CBBASE = '' %THEN %CBBASE = 'BASED(INF_CB_PTR)';                   03000000
 %IF CBVIA  = '' %THEN %CBVIA  = '';                                    03050000
 DCL 1 INF INFBASE,                    /* Information retrieval block*/ 03100000
      3 INF_ID          CHAR(4),       /* ID of the block            */ 03150000
      3 INF_VERS        CHAR(2),       /* Version of the block       */ 03200000
      3 INF_LEN         FIXED(16),     /* Length of block            */ 03250000
      3 INF_TOKEN_LEN   FIXED(32),     /* Length of the token        */ 03300000
      3 INF_COMPAT      FIXED(32),     /* Compatibility mode         */ 03350000
      3 INF_MAX_DATA_LEN FIXED(32),    /* Installation maximum length*/ 03400000
      3 INF_CB_PTR      PTR(31) ;      /* Pointer to CB block        */ 03450000
                                                                        03500000
 DCL 1 INF_CB  CBBASE CBVIA,            /* Installation specified       03550000
                                           options                  */  03600000
   3 INF_CB_HEAD,                                                       03650000
      5 INF_CB_ID    CHAR(4),           /* ID of block              */  03700000
      5 INF_CB_VERS    CHAR(2),         /* Version of block         */  03750000
      5 INF_CB_LEN    FIXED(16),        /* Length of block, including   03800000
                                           INF_CB_MSG.  This is the     03850000
                                           to use to FREEMAIN the       03900000
                                           INF_CB.                   */ 03950000
      5 INF_CB_SUBPOOL    FIXED(32),    /* Subpool number  (use to      04000000
                                           FREEMAIN the INF_CB.      */ 04050000
      5 INF_CB_LENGTH     FIXED(32),    /* Length if installation       04100000
                                           specified option          */ 04150000
   3 INF_CB_MSG    CHAR(*);             /* Installation option       */ 04200000
 /********************************************************************/ 04250000
 /*                   CONSTANTS                                      */ 04300000
 /********************************************************************/ 04350000
                                                                        04400000
   DECLARE                                                              04450000
   INF_IDC    CHAR(4)   CONSTANT('INF '),     /*  ID constant        */ 04500000
   INF_VERC   CHAR(2)   CONSTANT('01'),       /* Version constant    */ 04550000
   INF_LENC   FIXED(16) CONSTANT(LENGTH(INF)),/* Length constant     */ 04600000
   INF_COMPAT_YES FIXED(32) CONSTANT(1),      /* Compatibility mode  */ 04650000
   INF_COMPAT_NO   FIXED(32) CONSTANT(0);    /* No compatibility mode */04700000
                                                                        04750000
   DECLARE                                                              04800000
   INF_CB_IDC         CHAR(4)  CONSTANT('CB  '),/*  ID constant    */   04850000
   INF_CB_VERC        CHAR(2)  CONSTANT('01'),  /* Version constant  */ 04900000
   INF_CB_SUBPOOLC    FIXED(32) CONSTANT(3);    /* Subpool number to get04950000
                                                  storage from OBTAIN */05000000
                                                                        05050000
