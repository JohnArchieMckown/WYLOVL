         MACRO                                                          00001000
         GIMMALC                                                        00002000
********************************************************************    00003000
*                                                                  *    00004000
* GIMMALC - ASSEMBLER MAPPING MACRO FOR THE SMPDATA1 SMPDATA2      *    00005000
*           DATA SET                                               *    00006000
*                                                                  *    00007000
* COPYRIGHT = 5647-A01 (C) COPYRIGHT IBM CORPORATION 1997, 1998    *    00008000
*             LICENSED MATERIALS - PROPERTY OF IBM                 *    00009000
*                                                                  *    00010000
********************************************************************    00011000
*                                                                  *    00012000
* THIS MACRO IS USED TO MAP RECORDS FOR THE SMPDATA1 AND SMPDATA2  *    00013000
*      DATA SETS.                                                  *    00014000
*                                                                  *    00015000
*                                                                  *    00016000
*     HEADER TYPE 0  -  CONTAINS TARGET ZONE NAME AND TIMESTAMP    *    00017000
*     TRAILER TYPE 0 -  CONTAINS TARGET ZONE NAME AND TIMESTAMP    *    00018000
*     SMP/E ENVIRONMENT RECORD TYPE 0                              *    00019000
*                    -  CONTAINS COMMAND, VERSION INFO , SMP/E     *    00020000
*                       TARGET ZONE CSI DATA SET NAME, CATALOG,    *    00021000
*                       AND VOLUME INFO                            *    00022000
*     SYSMOD  TYPE 0 -  CONTAINS  STATUS OF SYSMODS PROCESSED  @D1A*    00023000
*     LIBRARY TYPE 0 -  CONTAINS  TARGET LIBRARY INFO              *    00024000
*     LIBRARY TYPE 1 -  CONTAINS  TARGET LIBRARY INFO  (USED IF    *    00025000
*                       PATH NAME EXISTS)                          *    00026000
*     ALIAS TYPE 0   -  CONTAINS ELEMENT ALIAS INFO                *    00027000
*     ALIAS TYPE 1   -  CONTAINS ELEMENT SYMLINK INFO          @L2A*    00028000
*     ELEMENT TYPE 0 -  CONTAINS ELEMENT INFO                      *    00029000
*     ELEMENT TYPE 1 -  CONTAINS ELEMENT INFO ABOUT ELEMENTS       *    00030000
*                       INSTALLED WITH SHSCRIPT                @L1A*    00031000
*                                                                  *    00032000
********************************************************************    00033000
*                                                                  *    00034000
* CHANGE_ACTIVITY                                                  *    00035000
*                                                                  *    00036000
* ---------------------------------------------------------------- *    00037000
* FLAG REASON  RELEASE   DATE   ORG  DESCRIPTION                   *    00038000
* ---- ------- ------- -------- ---  ----------------------------- *    00039000
* $L0= LCI001B  1B.00  12/03/96 LMG: LCI SUPPORT                   *    00040000
* $D1= DCR1504  1B.00  02/14/97 MUD: LCI DCR 15-04                 *    00041000
* $D2= DCR1513  1B.00  09/04/97 MUD: LCI DCR 15-13                 *    00042000
* $L1= SSS0027  27.00  03/02/98 MUD: SHELL SCRIPT SUPPORT          *    00043000
* $L2= SLS0027  27.00  06/18/98  RA: SYMBOLIC LINK SUPPORT         *    00044000
* $P1= PWB0044  27.00  06/25/98 MUD: ASSEMBLY ERRORS               *    00045000
*                                                                  *    00046000
********************************************************************    00047000
*   CHANGE FLAG KEY: M@PNC                                         *    00048000
*   WHERE:                                                         *    00049000
*                                                                  *    00050000
* M= MULTIPLE    P= DCRS = D,E,F,G    N= 0-9,A-Z     C= A = ADD    *    00051000
*    FOR DELETE     HDWE = H,I,J,K                      C = CHANGE *    00052000
*    FLAGS ONLY     LINE = L,M,N,O                      P = COPY   *    00053000
*                   PTMS = P,Q,R,S                      M = MOVE   *    00054000
*                   APARS = 0-9                         D = DELETE *    00055000
********************************************************************    00056000
*****************************************************************       00057000
*                                                               *       00058000
* MAPPING FOR SMPDATA1/SMPDATA2 DATA SET                        *       00059000
*                                                               *       00060000
*****************************************************************       00061000
* HEADER/TRAILER RECORD                                         *       00062000
*****************************************************************       00063000
H0T0REC  DS 0CL52                      HEADER/TRAILER RECORD            00064000
H0T0ID   DS CL2                        RECORD TYPE IDENTIFIER           00065000
TZNAME   DS CL7                        TARGET ZONE NAME                 00066000
DATE     DS 0CL7                       DATE                             00067000
YEAR     DS CL4                        YEAR                             00068000
DAY      DS CL3                        DAY                              00069000
TIME     DS 0CL6                       TIME                             00070000
HOUR     DS CL2                        HOUR                             00071000
MINUTE   DS CL2                        MINUTE                           00072000
SECOND   DS CL2                        SECOND                           00073000
ERRCNT   DS CL6                        COUNT OF SYSMODS IN ERROR        00074000
INCCNT   DS CL6                        COUNT OF INCOMPLETE SYSMODS      00075000
INSCNT   DS CL6                        COUNT OF SUCCESSFUL SYSMODS      00076000
DELCNT   DS CL6                        COUNT OF DELETED SYSMODS         00077000
SUPCNT   DS CL6                        COUNT OF SUPERSEDED SYSMODS      00078000
*****************************************************************       00079000
* SMP/E ENVIRONMENT RECORD                                              00080000
*****************************************************************       00081000
S0REC    DS 0CL111                     SMP/E ENVIRONMENT RECORD         00082000
S0ID     DS CL2                        RECORD TYPE IDENTIFIER           00083000
COMMAND  DS CL7                        SMP/E COMMAND                    00084000
SMPLEVEL DS 0CL8                                                        00085000
VERSION  DS CL2                                                         00086000
RELEASE  DS CL2                        OS/390 SMP/E VERSION             00087000
MOD      DS CL2                        OS/390 SMP/E RELEASE             00088000
PTF      DS CL2                        OS/390 SMP/E MOD LEVEL           00089000
TZCSID   DS CL44                       OS/390 SMP/E PTF LEVEL           00090000
*                                         DATA SET NAME                 00091000
TZCSIC   DS CL44                       SMP/E TARGET ZONE CSI            00092000
*                                         CATALOG DATA SET NAME         00093000
TZCSIV   DS CL6                        SMP/E TARGET ZONE CSI            00094000
*                                         VOLUME NAME                   00095000
*****************************************************************       00096000
* SYSMOD STATUS TYPE 0 RECORD                                @D1A       00097000
*****************************************************************       00098000
P0REC     DS  0CL33                      SYSMOD  TYPE 0 RECORD @P1C     00099000
P0ID      DS  CL2                        RECORD TYPE IDENTIFIER         00100000
P0SYSMOD  DS  CL8                        SYSMOD ID                      00101000
P0STATUS  DS  CL8                        SYSMOD STATUS                  00102000
P0FMID    DS  CL7                        SYSMOD FMID                    00103000
P0TYPE    DS  CL8                        SYSMOD TYPE                    00104000
*****************************************************************       00105000
* LIBRARY TYPE 0 RECORD                                                 00106000
*****************************************************************       00107000
L0REC   DS  0CL127                     LIBRARY TYPE 0 RECORD            00108000
L0ID    DS  CL2                        RECORD TYPE IDENTIFIER           00109000
TLIBDDN DS  CL8                        TARGET LIBRARY DDNAME            00110000
SLIBDDN DS  CL8                        SMP/E SYSLIB DDNAME              00111000
*                                         ASSOCIATED WITH CROSS-ZONE    00112000
*                                         LIBRARY                       00113000
XZNAME  DS  CL7                        CROSS-ZONE NAME ASSOCIATED       00114000
*                                         WITH CROSS-ZONE LIBRARY       00115000
*                                         (FOR NON CROSS-ZONE LIBRARIES 00116000
*                                         FIELD WILL BE BLANK)          00117000
LIBTYPE DS  CL8                        TYPE OF LIBRARY (PDS,            00118000
*                                         LIBRARY OR SEQ)    @L2C       00119000
TLIBVOL DS  CL6                        SMP/E TARGET LIBRARY VOLUME      00120000
*                                         NAME                          00121000
TLIBDSN DS  CL44                       SMP/E TARGET LIBRARY             00122000
*                                         DATA SET NAME                 00123000
TLIBCAT DS  CL44                       SMP/E TARGET LIBRARY CATALOG     00124000
*                                         DATA SET NAME                 00125000
*****************************************************************       00126000
* LIBRARY TYPE 1 RECORD                                                 00127000
*****************************************************************       00128000
L1REC    DS  0CL288                     LIBRARY TYPE 1 RECORD           00129000
L1ID     DS  CL2                        RECORD TYPE IDENTIFIER          00130000
TLIBDDN1 DS  CL8                        TARGET LIBRARY DDNAME           00131000
SLIBDDN1 DS  CL8                        SMP/E SYSLIB DDNAME             00132000
*                                         ASSOCIATED WITH CROSS-ZONE    00133000
*                                         LIBRARY                       00134000
XZNAME1  DS  CL7                        CROSS-ZONE NAME ASSOCIATED      00135000
*                                         WITH CROSS-ZONE LIBRARY       00136000
*                                         (FOR NON CROSS-ZONE LIBRARIES 00137000
*                                         FIELD WILL BE BLANK)          00138000
LIBTYPE1 DS  CL8                        TYPE OF LIBRARY (PDS OR         00139000
*                                         LIBRARY)                      00140000
TLIBDSN1 DS  CL255                       SMP/E TARGET LIBRARY           00141000
*                                         PATH NAME                     00142000
*****************************************************************       00143000
* ALIAS RECORD TYPE 0                                                   00144000
*****************************************************************       00145000
A0REC   DS  0CL102                     ALIAS TYPE 0 RECORD    @L2C      00146000
A0ID    DS  CL2                        RECORD TYPE IDENTIFIER           00147000
ELEMNAME DS CL8                        SMP/E ELEMENT OR LMOD NAME       00148000
ELEMTYPE DS CL12                       SMP/E ELEMENT OR LMOD TYPE       00149000
ACTION   DS CL8                        ACTION AGAINST ALIAS OF          00150000
*                                         SMP/E ELEMENT OR LMOD         00151000
* FOR TYPE DELETE: TARGET LIBRARY DDNAME FROM WHICH THE                 00152000
* ALIAS HAS BEEN DELETED                                                00153000
* FOR TYPE ADDREP: TARGET LIBRARY DDNAME INTO WHICH THE                 00154000
*                  ALIAS HAS BEEN ADDED/REPLACED.                       00155000
A0TLIBDDN DS CL8                        TARGET LIBRARY DDNAME           00156000
*                                      ASSOCIATED WITH SMP/E ELEMENT    00157000
*                                      OR LMOD                          00158000
ALIAS    DS CL64                          ALIAS NAME ASSOCIATED WITH    00159000
*                                      SMP/E ELEMENT OR LMOD            00160000
*                                      (IF HFS ELEMENT, IT IS THE       00161000
*                                       LINKNAME)                       00162000
*****************************************************************       00163000
* ALIAS RECORD TYPE 1 FOR SYMLINKS                           @L2A       00164000
*****************************************************************       00165000
A1REC     DS  0CL1061                  ALIAS TYPE 1 RECORD    @L2A      00166000
A1ID      DS  CL2                      RECORD TYPE IDENTIFIER @L2A      00167000
A1ENAME   DS  CL8                      SMP/E ELEMENT          @L2A      00168000
A1ETYPE   DS  CL12                     SMP/E ELEMENT TYPE     @L2A      00169000
A1ACTION  DS  CL8                      ACTION AGAINST ALIAS   @L2A      00170000
***************************************************************** @L2A  00171000
* FOR TYPE DELETE: TARGET LIBRARY DDNAME FROM WHICH THE           @L2A  00172000
*                  SYMLINK HAS BEEN DELETED                       @L2A  00173000
* FOR TYPE ADDREP: TARGET LIBRARY DDNAME INTO WHICH THE           @L2A  00174000
*                  SYMLINK HAS BEEN ADDED/REPLACED.               @L2A  00175000
***************************************************************** @L2A  00176000
A1TLIBDDN DS  CL8                      TARGET LIBRARY DDNAME  @L2A      00177000
A1SYMLINK DS  CL1023                   SYMLINK VALUE          @L2A      00178000
*****************************************************************       00179000
* ELEMENT RECORD                                                        00180000
*****************************************************************       00181000
* AN E0 RECORD IS CREATED FOR EVERY UNIQUE LIBRARY THAT HAS AN          00182000
* ELEMENT CHANGE. ELEMENTS WITH MULTIPLE SYSLIBS WILL HAVE THE          00183000
* APPROPRIATE E0 RECORDS CREATED FOR EACH UNIQUE SYSLIB CHANGED.        00184000
*****************************************************************       00185000
E0REC     DS  0CL38                    ELEMENT TYPE 0 RECORD      @P1C  00186000
E0ID      DS  CL2                      RECORD TYPE IDENTIFIER           00187000
EELEMNAME DS  CL8                      SMP/E ELEMENT OR LMOD NAME       00188000
EELEMTYPE DS  CL12                     SMP/E ELEMENT OR LMOD TYPE       00189000
EACTION   DS  CL8                      ACTION AGAINST ALIAS OF          00190000
*                                         SMP/E ELEMENT OR LMOD         00191000
*****************************************************************       00192000
* FOR TYPE DELETE: TARGET LIBRARY DDNAME FROM WHICH THE                 00193000
*                  ELEMENT HAS BEEN DELETED                             00194000
* FOR TYPE ADDREP: TARGET LIBRARY DDNAME INTO WHICH THE                 00195000
*                  ELEMENT HAS BEEN ADDED/REPLACED.                     00196000
*****************************************************************       00197000
ETLIBDDN  DS  CL8                      TARGET LIBRARY DDNAME            00198000
*                                         ASSOCIATED WITH SMP/E ELEMENT 00199000
*                                         OR LMOD                       00200000
*                                                                       00201000
*****************************************************************       00202000
* ELEMENT RECORD TYPE 1                                           @L1A  00203000
E1REC     DS  0CL309                   ELEMENT TYPE 1 RECORD      @L1A  00204000
E1ID      DS  CL2                      RECORD TYPE IDENTIFIER     @L1A  00205000
E1ENAME   DS  CL8                      SMP/E ELEMENT NAME         @L1A  00206000
E1ETYPE   DS  CL12                     SMP/E ELEMENT TYPE         @L1A  00207000
E1ACTION  DS  CL8                      ACTION AGAINST ELEMENT     @L1A  00208000
***************************************************************** @L1A  00209000
* FOR TYPE DELETE: TARGET LIBRARY DDNAME FROM WHICH THE           @L1A  00210000
*                  ELEMENT HAS BEEN DELETED                       @L1A  00211000
* FOR TYPE ADDREP: TARGET LIBRARY DDNAME INTO WHICH THE           @L1A  00212000
*                  ELEMENT HAS BEEN ADDED/REPLACED.               @L1A  00213000
***************************************************************** @L1A  00214000
E1TLIBDDN DS  CL8                      TARGET LIBRARY DDNAME      @L1A  00215000
*                                         ASSOCIATED WITH SMP/E ELEMENT 00216000
E1PHASE   DS  CL8                      PHASE OF PROCESSING IN WHICH     00217000
*                                        SHSCRIPT WAS INVOKED.          00218000
*                                       VALID VALUES ARE:               00219000
*                                        "PRE"                          00220000
*                                        "POST"                         00221000
*                                        "PRE,POST"               @L1A  00222000
E1SHSCRIP DS CL(263)                   FULL PATH NAME OF SHELL    @L1A  00223000
*                                       SCRIPT WHICH WAS INVOKED TO     00224000
*                                       COMPLETE INSTALLATION OF THIS   00225000
*                                       ELEMENT                         00226000
*                                                                       00227000
H0        DC CL2'H0'               HEADER RECORD TYPE 0 IDENTIFIER      00228000
C0        DC CL2'C0'               CONTINUE RECORD TYPE 0 ID       @D2A 00229000
T0        DC CL2'T0'               TRAILER RECORD TYPE 0 IDENTIFIER     00230000
S0        DC CL2'S0'               SMP/E ENVIRONMENT TYPE 0 IDENTIFIER  00231000
P0        DC CL2'P0'               SYSMOD STATUS TYPE 0 IDENTIFIER @D1A 00232000
L0        DC CL2'L0'               LIBRARY RECORD TYPE 0 IDENTIFIER     00233000
L1        DC CL2'L1'               LIBRARY RECORD TYPE 1 IDENTIFIER     00234000
A0        DC CL2'A0'               ALIAS RECORD TYPE 0 IDENTIFIER       00235000
A1        DC CL2'A1'               ALIAS RECORD TYPE 1 IDENTIFIER  @L2A 00236000
E0        DC CL2'E0'               ELEMENT RECORD TYPE 0 IDENTIFIER     00237000
E1        DC CL2'E1'               ELEMENT RECORD TYPE1 IDENTIFIER @L1A 00238000
          MEND                                                     @P1A 00239000
