*                                                                       00007100
* %DCL IOSDDACH_INCLUDED CHAR EXT;                                      00014200
* %DEACTIVATE IOSDDACH_INCLUDED;                                        00021300
* %IF IOSDDACH_INCLUDED = '' %THEN                                      00028400
* %DO;                                                                  00035500
*/* Macro made bi-lingual on 94286. CBGEN compile date 94237         */ 00085500
*% /*                                                                   00850000
         MACRO                                                          00900000
         IOSDDACH &DSECT=YES,&LIST=YES,&DACH=YES                        00950000
         GBLC  &IOSDDACH_INCLUDED                                       01000000
         GBLC  &ZCBPRINT                                                01050000
&IOSDDACH_INCLUDED SETC 'YES'                                           01100000
 TITLE   'IOSDDACH  - IOS ENF device availability change              '*01150000
                                                                        04360000
**/ IOSDDACH_1:;                                                        04362900
*/****START OF SPECIFICATIONS*****************************************  04365800
*                                                                       04368700
*01* MACRO-NAME: IOSDDACH                                               04371600
*                                                                       04374500
*01* DESCRIPTIVE-NAME: IOS ENF device availability change               04377400
*                      parameter list                                   04380300
*02*   ACRONYM: DACH                                                    04383200
*                                                                       04386100
*01*   DSECT-NAME: DACH                                                 04389000
*                                                                       04391900
*                                                                    */ 04394800
*/*01* PROPRIETARY STATEMENT=                                        */ 04397700
*/***PROPRIETARY_STATEMENT********************************************/ 04400600
*/*                                                                  */ 04403500
*/*                                                                  */ 04406400
*/* LICENSED MATERIALS - PROPERTY OF IBM                             */ 04409300
*/* THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                      */ 04412200
*/* 5655-068 (C) COPYRIGHT IBM CORP. 1994,2000                   @L3C*/ 04416500
*/*                                                                  */ 04420900
*/* STATUS= HBB7703                                              @L3C*/ 04423800
*/*                                                                  */ 04426700
*/***END_OF_PROPRIETARY_STATEMENT*************************************/ 04429600
*/*                                                                     04432500
*                                                                       04435400
*01* COMPONENT: IOS (SC1C3)                                             04438300
*                                                                       04441200
*01* EYE-CATCHER: DACH                                                  04444100
*02*   OFFSET: 0                                                        04447000
*02*   LENGTH: 4                                                        04449900
*                                                                       04452800
*01* STORAGE ATTRIBUTES:                                                04455700
*02*   SUBPOOL: 245                                                     04458600
*02*   KEY: 0                                                           04461500
*02*   RESIDENCY: Above 16M line                                  @P1C  04464400
*                                                                       04467300
*01* METHOD OF ACCESS:                                                  04470200
*                                                                     * 04473100
*02*   ASM: IOSDDACH                                                    04476000
*             ,DSECT=YES|NO to specify if the macro should be           04478900
*                           defined as a DSECT.                         04481800
*             ,LIST=YES|NO to control whether or not the macro will     04484700
*                          appear in the assembler listing.             04487600
*             ,DACH=YES|NO to control whether or not the DACH mapping   04490500
*                          is expanded.                                 04493400
*                                                                       04496300
*02*   PL/AS: %INCLUDE SYSLIB(IOSDDACH)                                 04499200
*                                                                       04502100
*      Printing of the macro expansion can be controlled by the         04505000
*      IOSDDACH_LIST global macro variable.                             04507900
*      Any value other than 'NO' will result in                         04510800
*      the  macro  expansion being printed.  The default is 'YES'.      04513700
*      The following examples illustrate how the                        04516600
*      IOSDDACH_LIST variable should be set.                            04519500
*                                                                       04522400
*            PLAS:  %IOSDDACH_LIST='YES'     %IOSDDACH_LIST='NO'        04525300
*                                                                       04528200
*01* FUNCTION = IOSDDACH maps the parameter list passed to              04531100
*               the listeners of ENF code 33.                           04534000
*                                                                       04536900
*02* NOTES= The ENF qualifier used for this signal has the        @02A  04539800
*           following format:                                     @02A  04542700
*            BYTE 1: Device class (Byte 3 from UCBTYP)            @02A  04545600
*            BYTE 2: Reserved                                     @02A  04548500
*            BYTES 3-4: Qualifier number.                         @02A  04551400
*                                                                       04554300
*           Each qualifier number designates a general class of   @02A  04557200
*           events- such as IO subchannel change or IO resource   @L1C  04560100
*           available.  Along with each qualifier number is a     @02A  04563000
*           qualifier number dependent mapping which designates   @02A  04565900
*           fields specific to the general class of events.       @02A  04568800
*                                                                       04571700
*           The DACHTYPE field is used to designate the exact           04574600
*           event which occurred under the given qualifier number.@02A  04577500
*           Since the values of DACHTYPE are unique, this field   @02A  04580400
*           can be used to determine which qualifier number       @02A  04583300
*           dependent area is to be used when no ENF qualifier is @02A  04586200
*           specified.  Furthermore, it can be used in the same   @02A  04589100
*           manner when only the device class (DACHUCBC) portion  @02A  04592000
*           of the ENF qualifier is used. An alternate method of  @L1C  04594900
*           determining the proper mapping to use for listeners   @L1C  04597800
*           not using the ENF qualifier is through the use of the @02A  04600700
*           DACHQC field.  This field contains a copy of the      @02A  04603600
*           ENF qualifier used for signalling.  The qualifier     @02A  04606500
*           number which determines the mapping used is a part    @02A  04609400
*           of DACHQC.                                            @02A  04612300
*                                                                       04615200
*01* CREATED BY =  IOSRSCH (Subchannel recovery) or IOSCACDR            04617100
*                  or IOSCDCDR or IOSVLPEP or IOSVVSWR            @L3A  04619000
*                                                                       04621000
*01* DELETED BY =  ENF service                                          04623900
*                                                                       04626800
*01* POINTED TO BY = N/A                                                04629700
*                                                                       04632600
*01* SIZE:  64 bytes                                                    04635500
*01*             DACH -- X'0040' bytes                                  04638400
*                                                                       04641300
*01* SERIALIZATION = None                                               04644200
*                                                                       04647100
* EXTERNAL CLASSIFICATION: GUPI                                         04650000
* END OF EXTERNAL CLASSIFICATION                                        04652900
*                                                                       04655800
*01* NOTES =                                                            04658700
*                                                                       04661600
*      1.  Printing of the macro expansion is controlled by the         04664500
*          ZCBPRINT global macro variable.  Any value other than 'NO'   04667400
*          will result in the macro expansion being printed.  The       04670300
*          default is 'YES'.  The following examples illustrate how the 04673200
*          ZCBPRINT variable should be set.                             04676100
*                                                                       04679000
*               ASM:  GBLC &ZCBPRINT                                    04681900
*                     &ZCBPRINT SETC 'YES'  or   &ZCBPRINT SETC 'NO'    04684800
*              PLAS:  %DCL ZCBPRINT CHAR EXT                            04687700
*                     %ZCBPRINT='YES'       or   %ZCBPRINT='NO'         04690600
*                                                                       04693500
*     2.  A  global  variable IOSDDACH_INCLUDED is set to YES the first 04696400
*          time the macro is invoked.                                   04699300
*               ASM:  This variable can be checked by the caller, to    04702200
*                     determine if the macro has already been invoked.  04705100
*              PLAS:  This variable is checked in the macro code to     04708000
*                     determine if the control block should be          04710900
*                     included.                                         04713800
*                                                                       04716700
*01* CHANGE ACTIVITY:                                                   04719600
*                                                                       04722500
*   Flag LineItem  FMID    Date   ID    Comment                         04725400
*                                                                       04728300
*    $L0=OY28664  HBB3310 900402 PDLH:  Overlook support          @L0A  04731200
*    $L1=PAVS     HBB5520 940320 PDLP:  PAV - Support new               04733100
*                                       DACH type for change CDR (add   04735000
*                                       and delete CDR record).         04736900
*                                       Also change the macro           04738800
*                                       to bi-lingual             @L1A  04740700
*    $L2=CRYPT    JBB6609 990811 PDNO:  PCI Crypto Support        @L2A  04741200
*    $L3=DYCHM    HBB7703 991231 PDMM:  Dynamic CHPID Management  @L3A  04741400
*    $P1=PN71206  HBB5520 940728 PDLC:  Fix SHOWHDR info          @P1A  04741700
*                                                                       04741900
*    $P2=PN71322  HBB5520 940912 PDLP:  Re-run CBGEN to clean up all    04742100
*                                       hand-modified errors      @P2A  04742300
*    $P3=PWA0208  JBB6607 980630 PDNO:  Remove obsolete copyright       04742400
*                                       statement                 @P3A  04742500
*                                                                       04742800
*    $01=OY30457  HBB3310 900402 PDLH:  Dynamic SPE               @01A  04745700
*    $02=OY42567  HBB4420 910405 PDLU:  Support new DACH type for       04748600
*                                       IO resource available     @02A  04751500
*    $03=OW07560  HBB4430 940920 PDLZ:  Add data to I/O resource      * 04752400
*                                       available                 @03A* 04753300
*    $04=OW37980  HBB6603 990531 PDLZ:  Dynamic PAV Support       @04A* 04753500
*    $05=OW40408  HBB6603 990831 PDLZ:  Dynamic PAV Support.            04753700
*                                       - Add time values and MBI       04753900
*                                         value for Alias         @05A  04754100
*    $06=OW43831  HBB6603 000915 PDNO:  Roll OS/390 R7 DACH support     04754200
*                                       down to lower levels      @06A  04754300
*                                                                       04754400
****** END OF SPECIFICATIONS *****************************************/ 04757300
*% /*                                                                   04760200
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 04763100
         AIF   ('&LIST' EQ 'YES').P2                                    04766000
.P1      ANOP                                                           04768900
         PUSH  PRINT                                                    04771800
         PRINT OFF                                                      04774700
.P2      ANOP                                                           04777600
         AIF   ('&DACH' EQ 'NO').L0002                                  04777700
         AIF   ('&DSECT' EQ 'YES').L0003                                04777800
         AIF   ('&DACH' NE 'YES').L0002                                 04777900
DACH     DS    0F        ENF signal 33 parameter list                   04778000
         AGO   .L0004                                                   04778100
.L0003   ANOP                                                           04778200
DACH     DSECT           ENF signal 33 parameter list                   04778300
.L0004   ANOP                                                           04778400
DACHID   DS    1CL0004   Control block ID                               04778500
DACHVERS DS    1FL1      Version number                                 04778600
DACHDEVC DS    1CL0002   Device category                                04778700
DACHTYPE DS    1CL0004   Type of change that occurred to the device    *04778800
                         (See constant declaration for valid types)     04778900
         DS    1CL0001   reserved                                       04779000
DACHQUALD DS   1CL0032   Qualifier dependent area                       04779100
DACHQC   DS    0CL0004   Copy of ENF Qualifier.                         04779200
DACHUCBC DS    1CL0001   Device class from UCBTYP field (Byte 3 of     *04779300
                         UCBTYP)                                        04779400
         DS    1CL0001   Reserved.                                      04779500
DACHQN   DS    1FL2      DACH qualifier number field                    04779600
DACHRES  DS    1CL0016   reserved                                       04779700
DACHEND  DS    0C        End of DACH parameter list                     04779800
DACH_LEN EQU   *-DACH                                                   04779900
*                                                                       04780500
* ********************************************************************  04783400
* *                                                                  *  04786300
* * Qualifier dependent areas follow.                                *  04789200
* *                                                                     04792100
* ********************************************************************  04795000
* ********************************************************************  04797900
* *                                                                  *  04800800
* * Qualifier dependent area for I/O subchannel change.              *  04803700
* *                                                                     04806600
* ********************************************************************  04809500
*                                                                       04812400
*                                                                       04815300
         ORG   DACHQUALD                                                04816700
DACH_IO_FIELDS DS 0X                                                    04818200
DACH_IO_DEVN DS 1FL2     Device number undergoing a subchannel change   04844300
DACH_IO_DTYP DS 1CL0004  Device type from UCBTYP                        04847200
DACH_IO_FIELDS_LEN EQU *-DACH_IO_FIELDS                                 04850100
         ORG   ,                                                        04851500
*                                                                       04853000
* ********************************************************************  04855900
* *                                                                  *  04858800
* * Qualifier dependent area for IO resource accessible              *  04861700
* *                                                                     04864600
* ********************************************************************  04867500
*                                                                       04870400
*                                                                       04873300
         ORG   DACHQUALD                                                04874700
DACH_IORA_FIELDS DS 0X                                                  04876200
DACH_IORA_DEVN DS 1FL2   Device number becomming accessible             04879100
DACH_IORA_DTYP DS 1CL0004 Device type from UCBTYP                       04882000
DACH_IORA_CHPD DS 1FL1   CHPID established.                             04884900
         DS    0BL1                                                     04886300
DACH_IORA_ONLI EQU X'80' On if device was online                        04887800
DACH_IORA_VARY_DEV EQU X'40' On if IOS issued a VARY command in order  *04888500
                         to bring a device online that was marked      *04889200
                         offline due to CC3 during NIP                  04889900
*                                                                       04890700
*    *****************************************************************  04893600
*    *                                                               *  04896500
*    * Value for DACHID                                              *  04899400
*    *                                                               *  04902300
*    *****************************************************************  04905200
*                                                                       04908100
*                                                                       04911000
DACHDACH EQU   C'DACH'   DACH control block ID                          04913900
*                                                                       04916800
*    *****************************************************************  04919700
*    *                                                               *  04922600
*    * Value for DACHVERS                                            *  04925500
*    *                                                               *  04928400
*    *****************************************************************  04931300
*                                                                       04934200
*                                                                       04937100
DACHVERC EQU   1         DACH version number                            04940000
*                                                                       04942900
*    *****************************************************************  04945800
*    *                                                               *  04948700
*    * Value for DACHDEVC                                            *  04951600
*    *                                                               *  04954500
*    *****************************************************************  04957400
*                                                                       04960300
*                                                                       04963200
DACHDTIO EQU   C'IO'     Device undergoing subchannel change is an I/O *04966100
                         device                                         04969000
DACH_IORA_FIELDS_LEN EQU *-DACH_IORA_FIELDS                             04974800
         ORG   ,                                                        04977700
*                                                                       04980600
* ********************************************************************  04983500
* *                                                                  *  04986400
* * Qualifier dependent area for CDR change (add or delete CDR       *  04989300
* *                                                  record)         *  04992200
* ********************************************************************  04995100
*                                                                       04998000
*                                                                       05000900
         ORG   DACHQUALD                                                05002300
DACH_CCDR_FIELDS DS 0X                                                  05003800
DACH_CCDR_TIMESTP DS 0CL0008 TOD clock value                            05004500
DACH_CCDR_DATE DS 1CL0004 Date                                          05005200
DACH_CCDR_TIME DS 1CL0004 Time                                          05005900
DACH_CCDR_DEVN DS 1FL2   Device number undergoing a CDR change          05006700
DACH_CCDR_DTYP DS 1CL0004 Device type from UCBTYP                       05009600
DACH_CCDR_CDRLEN DS 1FL2 Length of CDR record                           05010300
DACH_CCDR_CDRADR DS 1AL4 Address of CDR record                          05011000
DACH_CCDR_CHPID DS 1FL1  Channel path that the CDR record was obtained  05011700
*                                                                       05012500
*                                                                       05013900
* ********************************************************************  05015400
* *                                                                  *  05015500
* * Qualifier dependent area for Parallel Access Volume changes.     *  05015600
* *                                                              @04A*  05015700
* ********************************************************************  05015800
*                                                                       05015900
*                                                                       05016000
         ORG   DACHQUALD                                                05016100
DACH_PAV_FIELDS DS 0X           PAV Information                   @04A  05016200
DACH_PAV_DEVN DS  1FL2          Device number of PAV-base device  @04A  05016300
DACH_PAV_FLGS DS  0XL2          Flags                             @04A  05016400
              DS  XL1                                                   05016500
DACH_PAVBind          EQU X'80' Alias is bound to base            @04A  05016600
DACH_PAVUnbind        EQU X'40' Alias is unbound from base        @04A  05016700
DACH_PAVUnbindAll     EQU X'20' All aliases are unbound from base @04A  05016800
DACH_PAVSchibDataValid EQU X'10' Schib data is valid              @05C  05016900
DACH_PAV_BaseMBIValid  EQU X'08' The MBI for the base device is         05017000
*                               valid                             @05M  05017100
DACH_PAV_AliasMBIValid EQU X'04' The MBI for the alias device is        05017200
*                               valid                             @05M  05017300
*                     EQU X'03' Reserved                          @05C  05017400
              DS  XL1                                             @04A  05017500
*                     EQU X'FF' Reserved                          @04A  05017600
DACH_PAV_CNT  DS  1FL2          Count of PAVs, including base     @04A  05017700
              DS  CL2           Reserved                          @04A  05017800
DACH_PAV_TOKN DS  1CL4          PAV token after change            @04A  05017900
DACH_PAV_SchibData DS 0CL12     Schib Data                        @05C  05018000
DACH_PAV_DeviceBusyDTime DS  F  Device busy delay time            @05C  05018100
DACH_PAV_CUBusyDTime     DS  F  CU busy delay time                @05C  05018200
DACH_PAV_DPortBusyDTime  DS  F  Destination port busy delay time  @05C  05018300
DACH_PAV_DEVNAlias DS 1FL2      Device number of PAV-Alias device       05018400
*                               if this is a bind or unbind             05018500
*                               request                           @04A  05018600
DACH_PAVBaseMBI   DS CL2        PAV base device                   @05A  05018700
DACH_PAVAliasMBI  DS CL2        PAV alias device                  @05A  05018800
                  DS CL2        Reserved                          @05C  05018900
*                                                                       05019000
*                                                                       05019100
* ********************************************************************  05019200
* *                                                                  *  05019300
* * Qualifier dependent area for Switch Table Change                 *  05019400
* *                                                              @L3A*  05019500
* ********************************************************************  05019600
*                                                                       05019700
*                                                                       05019800
         ORG   DACHQUALD                                         @L3A   05019900
DACH_SW_FIELDS DS 0X                                             @L3A   05020000
DACH_SW_SwitchNumber DS 1CL0004  Switch device number updated    @L3A   05020100
DACH_SW_PortNumber   DS 1CL0002  Port Number on Switch device    @L3A   05020200
DACH_SW_FIELDS_LEN EQU *-DACH_SW_FIELDS                          @L3A   05020300
         ORG   ,                                                 @L3A   05020400
*                                                                       05020500
*                                                                       05020600
*                                                                       05020700
* ********************************************************************  05020800
* *                                                                  *  05020900
* * Values for DACH qualifier number field (DACHQN).  This is part   *  05021200
* * of the ENF qualifier.                                            *  05024100
* *                                                                     05027000
* ********************************************************************  05029900
*                                                                       05032800
*                                                                       05035700
DACHIO   EQU   X'0001'   Qualifier value for ENF signal/listener when  *05038600
                         listening for an IO subchannel change          05041500
DACHIORA EQU   X'0002'   Qualifier value for ENF signal/listener when  *05044400
                         listening for IO resource available.           05047300
DACHCCDR EQU   X'0003'   Qualifier value for ENF signal/listener when  *05050200
                         listening for a change CDR (add or delete     *05053100
                         Configuration Data Record)                     05056000
DACHPAV  EQU   X'0004'   Qualifier value for ENF signal/listener when   05057400
*                        listening for a change in the set of PAV UCBs  05058800
*                                                                 @04A  05060200
DACHQAPI EQU   X'0005'   Qualifier value for ENF signal/listener        05060600
*                        when listening for a change in the Adjunct     05061000
*                        Processor Information                    @L2A  05061400
DACHSTC  EQU   X'0006'   Qualifier value for Switch Table update  @L3A  05061500
*                                                                       05061600
* ********************************************************************  05061800
* *                                                                  *  05064700
* * Values for DACHTYPE field follow.  These values MUST be unique   *  05067600
* * even though they are further defining a specific qualifier       *  05070500
* * number.  The reason for this is that some listeners may not use  *  05073400
* * the qualifier number field ENF qualifier, but still need to      *  05076300
* * determine the exact event that occurred.                         *  05079200
* *                                                                  *  05082100
* ********************************************************************  05085000
* ********************************************************************  05087900
* *                                                                  *  05090800
* * Values for DACHTYPE field.  These are types defining the         *  05093700
* * IO subchannel change qualifier number.                           *  05096600
* *                                                                  *  05099500
* ********************************************************************  05102400
*                                                                       05105300
*                                                                       05108200
DACHIPI  EQU   C'IPI '   Installed parameters initialized               05111100
DACHIPM  EQU   C'IPM '   Installed parameters modified                  05114000
*                                                                       05116900
* ********************************************************************  05119800
* *                                                                  *  05122700
* * Values for DACHTYPE field.  These are types defining the         *  05125600
* * IO resource available qualifier number.                          *  05128500
* *                                                                  *  05131400
* ********************************************************************  05134300
*                                                                       05137200
*                                                                       05140100
DACHLPE  EQU   C'LPE '   Logical path established type.                 05143000
*                                                                       05145900
* ********************************************************************  05148800
* *                                                                  *  05151700
* * Values for DACHTYPE field.  These are types defining the         *  05154600
* * change CDR qualifier number.                                     *  05157500
* *                                                                  *  05160400
* ********************************************************************  05163300
*                                                                       05166200
*                                                                       05169100
DACHACDR EQU   C'ACDR'   Change CDR is an add CDR record                05171000
DACHDCDR EQU   C'DCDR'   Change CDR is a delete CDR record              05172900
DACH_CCDR_FIELDS_LEN EQU *-DACH_CCDR_FIELDS                             05174900
*/********************************************************************  05175200
*/*                                                                  *  05175500
*/* Values for DACHTYPE field.  This type is for the set of          *  05175800
*/* Parallel Access Volumes Alias UCBs.                              *  05176100
*/*                                                              @04A*  05176400
*/********************************************************************  05176700
DACHPAVS EQU   C'PAVS'   Change in the set of PAV-alias devices   @04A  05177000
*                                                                       05177300
*/********************************************************************  05177600
*/*                                                                  *  05177900
*/* Values for DACHTYPE field.  This type is for the Adjunct         *  05178200
*/* Processor Information.                                           *  05178500
*/*                                                              @L2A*  05178800
*/********************************************************************  05179100
DACHAPI  EQU   C'API '   Change in the Adjunct Processor Info     @L2A  05179400
*                                                                       05179700
*/********************************************************************  05179800
*/*                                                                  *  05179900
*/* Values for DACHTYPE field.  These fields define the Port Record  *  05180000
*/* update.                                                          *  05180100
*/*                                                              @L3A*  05180200
*/********************************************************************  05180300
DACHSWTB EQU   C'SWTB'   Switch table port record update type     @L3A  05180400
         ORG   ,                                                        05180500
.L0002   ANOP                                                           05180700
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 05183600
         AIF   ('&LIST' EQ 'YES').P4                                    05186500
.P3      ANOP                                                           05189400
         POP   PRINT                                                    05192300
.P4      ANOP                                                           05195200
.P_EXIT  ANOP                                                           05198100
         MEND                                                           05201000
**/ IOSDDACH_2:;                                                        05203900
* %IOSDDACH_INCLUDED = 'YES';                                           05206800
* %DCL ZCBPRINT CHAR EXT;                                               05209700
* %DEACTIVATE ZCBPRINT;                                                 05212600
* %DCL IOSDDACH_LIST CHAR EXT;                                          05215500
* %DEACTIVATE IOSDDACH_LIST;                                            05218400
* %IF IOSDDACH_LIST ^= 'NO' &                                           05221300
*    ZCBPRINT ^= 'NO' %THEN                                             05224200
*   %GOTO IOSDDACH_3;                                                   05227100
*   @LIST PUSH NOECHO;                                                  05230000
*   @LIST NOASSEMBLE NOECHO;                                            05232900
*   @LIST OFF C NOECHO;                                                 05235800
* %IOSDDACH_3:;                                                         05238700
*/* Start of PL/X Source                                             */ 05241600
*%IF DACHBASE = '' %THEN %GOTO DACH100;                                 05244500
* DCL 1 DACH BDY(WORD) DACHBASE,      /* ENF signal 33 parameter list   05247400
*                                      */                               05250300
*%GOTO DACH110;                                                         05253200
*%DACH100:;                                                             05256100
* DCL 1 DACH BDY(WORD),                /* ENF signal 33 parameter list  05259000
*                                       */                              05261900
*%DACH110:;                                                             05264800
*@SPACE(2);                                                             05267700
*       3 DACHID   CHAR(4),         /* Control block ID              */ 05270600
*       3 DACHVERS FIXED(8),        /* Version number                */ 05273500
*       3 DACHDEVC CHAR(2),         /* Device category                  05276400
*                                                                    */ 05279300
*       3 DACHTYPE CHAR(4),         /* Type of change that occurred to  05282200
*                                      the device  (See constant        05285100
*                                      declaration for valid types)  */ 05288000
*       3 *         CHAR(1),        /* reserved                      */ 05290900
*       3 DACHQUALD CHAR(32),       /* Qualifier dependent area  @02C*/ 05293800
*       3 DACHQC CHAR(4) BDY(WORD), /* Copy of ENF Qualifier.    @02A*/ 05296700
*         4 DACHUCBC CHAR(1)    ,   /* Device class from UCBTYP field   05299600
*                                      (Byte 3 of UCBTYP)        @02A*/ 05302500
*         4 *        CHAR(1),       /* Reserved.                 @02A*/ 05305400
*         4 DACHQN   FIXED(16),     /* DACH qualifier number            05308300
*                                      field                     @02A*/ 05311200
*       3 DACHRES  CHAR(16),        /* reserved                  @02C*/ 05314100
*       3 DACHEND CHAR(0);          /* End of DACH parameter list    */ 05317000
*                                                                       05319900
*                                                                       05322800
*/********************************************************************/ 05325700
*/*                                                                  */ 05328600
*/* Qualifier dependent areas follow.                                */ 05331500
*/*                                                              @02A*/ 05334400
*/********************************************************************/ 05337300
*                                                                       05340200
*/********************************************************************/ 05343100
*/*                                                                  */ 05346000
*/* Qualifier dependent area for I/O subchannel change.              */ 05348900
*/*                                                              @L1C*/ 05351800
*/********************************************************************/ 05354700
*DCL 1 DACH_IO_FIELDS DEFINED(DACHQUALD),   /*                   @02A*/ 05357600
*      3 DACH_IO_DEVN FIXED(16),      /* Device number undergoing a     05360500
*                                        subchannel change       @02A*/ 05363400
*      3 DACH_IO_DTYP CHAR(4);        /* Device type from               05366300
*                                        UCBTYP                  @02A*/ 05369200
*                                                                       05372100
*/********************************************************************/ 05375000
*/*                                                                  */ 05377900
*/* Qualifier dependent area for IO resource accessible              */ 05380800
*/*                                                              @L1C*/ 05383700
*/********************************************************************/ 05386600
*DCL 1 DACH_IORA_FIELDS DEFINED(DACHQUALD),  /*                  @02A*/ 05389500
*      3 DACH_IORA_DEVN FIXED(16),    /* Device number becomming        05392400
*                                        accessible              @L1C*/ 05395300
*      3 DACH_IORA_DTYP CHAR(4),      /* Device type from               05398200
*                                        UCBTYP                  @02A*/ 05401100
*      3 DACH_IORA_CHPD FIXED(8),     /* CHPID established.      @02A*/ 05404000
*      3 * BIT(8),                    /*                         @P2A*/ 05405400
*        5 DACH_IORA_ONLI BIT(1),     /* On if device was online @02A*/ 05406800
*        5 DACH_IORA_VARY_DEV BIT(1), /* On if IOS issued a VARY        05407200
*                                        command in order to bring a    05407600
*                                        device online that was marked  05408000
*                                        offline due to CC3 during NIP  05408400
*                                                                @03A*/ 05408800
*        5 * BIT(6);                  /*                         @03C*/ 05409200
*                                                                       05409800
*     /* Value for DACHID                                           */  05412700
* DCL DACHDACH CHAR(4) CONSTANT('DACH'); /* DACH control block ID    */ 05415600
*     /* Value for DACHVERS                                          */ 05418500
* DCL DACHVERC FIXED(8) CONSTANT(1);     /* DACH version number      */ 05421400
*     /* Value for DACHDEVC                                         */  05424300
* DCL DACHDTIO CHAR(2) CONSTANT('IO'); /* Device undergoing subchannel  05427200
*                                      change is an I/O device   @L1C*/ 05430100
*                                                                       05433000
*                                                                       05435900
*/********************************************************************/ 05438800
*/*                                                                  */ 05441700
*/* Qualifier dependent area for CDR change (add or delete CDR       */ 05444600
*/*                                                  record)     @L1A*/ 05447500
*/********************************************************************/ 05450400
*DCL 1 DACH_CCDR_FIELDS DEFINED(DACHQUALD),  /*                  @L1A*/ 05453300
*      3 DACH_CCDR_TIMESTP CHAR(8),   /* TOD clock value         @L1A*/ 05454000
*        5 DACH_CCDR_DATE CHAR(4),    /* Date                    @L1A*/ 05454700
*        5 DACH_CCDR_TIME CHAR(4),    /* Time                    @L1A*/ 05455400
*      3 DACH_CCDR_DEVN FIXED(16),    /* Device number undergoing a     05456200
*                                        CDR change              @L1A*/ 05459100
*      3 DACH_CCDR_DTYP CHAR(4),      /* Device type from               05462000
*                                        UCBTYP                  @L1A*/ 05464900
*      3 DACH_CCDR_CDRLEN FIXED(16),  /* Length of CDR record    @L1A*/ 05466000
*      3 DACH_CCDR_CDRADR PTR(31),    /* Address of CDR record   @L1A*/ 05467100
*      3 DACH_CCDR_CHPID   FIXED(8);  /* Channel path that the CDR      05468200
*                                        record was obtained     @L1A*/ 05469300
*                                                                       05470700
*/********************************************************************/ 05473600
*/*                                                                  */ 05476500
*/* Qualifier dependent area for Parallel Access Volume changes.     */ 05476700
*/*                                                              @04A*/ 05476900
*/********************************************************************/ 05477100
*DCL 1 DACH_PAV_FIELDS DEFINED(DACHQUALD),      /*               @04A*/ 05477300
*      3 DACH_PAV_DEVN FIXED(16),     /* Device number of PAV-base      05477500
*                                        device                  @04A*/ 05477700
*      3 DACH_PAV_FLGS CHAR(2),       /* Flags                   @04A*/ 05478200
*        5 DACH_PAVBind Bit(1),       /* Alias is bound to base  @04A*/ 05478700
*        5 DACH_PAVUnbind Bit(1),     /* Alias is unbound from          05479200
*                                        base                    @04A*/ 05479800
*        5 DACH_PAVUnbindAll Bit(1),  /* All aliases are unbound        05479900
*                                        from base               @04A*/ 05480000
*        5 DACH_PAVSchibDataValid Bit(1), /* Schib data is valid @05C*/ 05480100
*        5 DACH_PAV_BaseMBIValid Bit(1),  /* The MBI for the base       05480200
*                                        device is valid         @05A*/ 05480300
*        5 DACH_PAV_AliasMBIValid Bit(1), /* The MBI for the alias      05480400
*                                        device is valid         @05A*/ 05480500
*        5 * Bit(10),                 /* Reserved                @05C*/ 05480600
*      3 DACH_PAV_CNT  FIXED(15),     /* Count of PAVs, including       05480700
*                                        base                    @04A*/ 05480800
*      3 *             CHAR(2),       /* Reserved                @04A*/ 05480900
*      3 DACH_PAV_TOKN CHAR(4),       /* PAV token after change  @04A*/ 05481000
*      3 DACH_PAV_SchibData CHAR(12) BDY(WORD), /* Schib Data    @05C*/ 05481100
*        5 DACH_PAV_DeviceBusyDTime FIXED(32),  /* Device busy delay    05481200
*                                                  time          @05C*/ 05481300
*        5 DACH_PAV_CUBusyDTime     FIXED(32),  /* CU busy delay        05481400
*                                                  time          @05C*/ 05481500
*        5 DACH_PAV_DPortBusyDTime  FIXED(32),  /* Destination port     05481650
*                                        busy delay time         @06C*/ 05481700
*      3 DACH_PAV_DEVNAlias FIXED(16),/* Device number of PAV-Alias     05481800
*                                        device if this is a bind       05481900
*                                        or unbind request       @04A*/ 05482000
*      3 DACH_PAVBaseMBI Fixed(16),   /* MBI for base device     @05C*/ 05482100
*      3 DACH_PAVAliasMBI Fixed(16),  /* MBI for alias device    @05C*/ 05482200
*      3 * CHAR(2);                   /* Reserved                @05C*/ 05482300
*/********************************************************************/ 05482400
*/*                                                                  */ 05482500
*/* Qualifier dependent area for Switch table change.                */ 05482600
*/*                                                              @L3A*/ 05482700
*/********************************************************************/ 05482800
*DCL 1 DACH_ST_FIELDS DEFINED(DACHQUALD),   /*                   @L3A*/ 05482900
*      3 DACH_SW_SwitchNumber CHAR(4),      /* Switch device     @L3A   05483000
*                                              number updated        */ 05483100
*      3 DACH_SW_PortNumber CHAR(2);        /* Port Address on   @L3A   05483200
*                                              Switch                */ 05483300
*                                                                       05483400
*/********************************************************************/ 05483500
*/*                                                                  */ 05483600
*/* Values for DACH qualifier number field (DACHQN).  This is part   */ 05483700
*/* of the ENF qualifier.                                            */ 05483800
*/*                                                              @02C*/ 05485200
*/********************************************************************/ 05488100
* DCL DACHIO BIT(16) CONSTANT('0001'X),                                 05491000
*                                     /* Qualifier value for ENF        05493900
*                                      signal/listener when listening   05496800
*                                      for an IO subchannel             05499700
*                                      change                    @L1C*/ 05502600
*     DACHIORA BIT(16) CONSTANT('0002'X), /* Qualifier value for        05505500
*                                      ENF signal/listener when         05508400
*                                      listening for IO resource        05511300
*                                      available.                @02A*/ 05514200
*     DACHCCDR  BIT(16) CONSTANT('0003'X), /* Qualifier value for       05517100
*                                      ENF signal/listener when         05520000
*                                      listening for a change CDR       05522100
*                                      (add or delete                   05524200
*                                       Configuration Data Record)      05526300
*                                                                @L1A*/ 05528700
*     DACHPAV   BIT(16) CONSTANT('0004'X), /* Qualifier value for       05529100
*                                      ENF signal/listener when         05529500
*                                      listening for a change in        05529900
*                                      the set of PAV UCBs              05530300
*                                                                @04A*/ 05530700
*     DACHQAPI   BIT(16) CONSTANT('0005'X), /* Qualifier value for      05530800
*                                      ENF signal/listener when         05530900
*                                      listening for a change in        05531000
*                                      the Adjunct Processor            05531100
*                                      Information               @L2A*/ 05531200
*     DACHSTC   BIT(16) CONSTANT('0006'X); /* Qualifier value for       05531700
*                                      ENF signal/listener when         05532200
*                                      listening for a change in        05532700
*                                      the switch table          @L3A*/ 05533200
*                                                                       05533700
*/********************************************************************/ 05534500
*/*                                                                  */ 05537400
*/* Values for DACHTYPE field follow.  These values MUST be unique   */ 05540300
*/* even though they are further defining a specific qualifier       */ 05543200
*/* number.  The reason for this is that some listeners may not use  */ 05546100
*/* the qualifier number field ENF qualifier, but still need to      */ 05549000
*/* determine the exact event that occurred.                         */ 05551900
*/*                                                              @02C*/ 05554800
*/********************************************************************/ 05557700
*                                                                       05560600
*/********************************************************************/ 05563500
*/*                                                                  */ 05566400
*/* Values for DACHTYPE field.  These are types defining the         */ 05569300
*/* IO subchannel change qualifier number.                           */ 05572200
*/*                                                              @L1C*/ 05575100
*/********************************************************************/ 05578000
* DCL DACHIPI CHAR(4) CONSTANT('IPI ');/* Installed parameters          05580900
*                                      initialized                   */ 05583800
* DCL DACHIPM CHAR(4) CONSTANT('IPM ');/* Installed parameters          05586700
*                                      modified                  @01A*/ 05589600
*                                                                       05592500
*/********************************************************************/ 05595400
*/*                                                                  */ 05598300
*/* Values for DACHTYPE field.  These are types defining the         */ 05601200
*/* IO resource available qualifier number.                          */ 05604100
*/*                                                              @02A*/ 05607000
*/********************************************************************/ 05609900
* DCL DACHLPE CHAR(4) CONSTANT('LPE '); /* Logical path established     05612800
*                                           type.                @02A*/ 05615700
*                                                                       05618600
*/********************************************************************/ 05621500
*/*                                                                  */ 05624400
*/* Values for DACHTYPE field.  These are types defining the         */ 05627300
*/* change CDR qualifier number.                                     */ 05630200
*/*                                                              @L1A*/ 05633100
*/********************************************************************/ 05636000
* DCL DACHACDR CHAR(4) CONSTANT('ACDR'); /* Change CDR is an add        05637700
*                                           CDR record           @L1A*/ 05639400
* DCL DACHDCDR CHAR(4) CONSTANT('DCDR'); /* Change CDR is a delete      05641100
*                                           CDR record           @L1A*/ 05642800
*/********************************************************************/ 05643000
*/*                                                                  */ 05643200
*/* Values for DACHTYPE field.  This type is for the set of          */ 05643400
*/* Parallel Access Volumes Alias UCBs.                              */ 05643600
*/*                                                              @04A*/ 05643800
*/********************************************************************/ 05644000
* DCL DACHPAVS CHAR(4) CONSTANT('PAVS'); /* Change in the set of        05644200
*                                           PAV-alias devices    @04A*/ 05644400
*/********************************************************************/ 05656900
*/*                                                                  */ 05669400
*/* Values for DACHTYPE field.  This type is for the Adjunct         */ 05681900
*/* Processor Information.                                           */ 05694400
*/*                                                              @L2A*/ 05706900
*/********************************************************************/ 05719400
* DCL DACHAPI  CHAR(4) CONSTANT('API '); /* Change in the Adjunct       05731900
*                                           Processor Info       @L2A*/ 05744400
*                                                                       05745600
*/********************************************************************/ 05746800
*/*                                                                  */ 05748000
*/* Values for DACHTYPE field.  These fields define the Port Record  */ 05749200
*/* update.                                                          */ 05750400
*/*                                                              @L3A*/ 05751600
*/********************************************************************/ 05752800
* DCL DACHSWTB CHAR(4) CONSTANT('SWTB'); /* Change in the Port State */ 05754000
*                                                                       05755200
* @LOGIC;                                                               05757100
* #PRAGMA TOOL=CBGEN.                                                   05764200
* #LINE.%DACHBASE = 'BASED';                                            05771300
* #LINE.%INCLUDE SYSLIB(IOSDDACH);                                      05778400
* #EPRAGMA.                                                             05785500
* @ENDLOGIC;                                                            05792600
*/* End of PL/X Source                                               */ 05800000
* %IF IOSDDACH_LIST ^= 'NO' &                                           05850000
*    ZCBPRINT ^= 'NO' %THEN                                             05900000
*   %GOTO IOSDDACH_4;                                                   05950000
*   @LIST POP NOECHO;                                                   06000000
* %IOSDDACH_4:;                                                         06050000
* %END;                                                                 06100000
