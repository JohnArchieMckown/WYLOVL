*%/*                                                                    00050000
         MACRO                                                          00100000
&NAME    SDUMPX &HDR=,&HDRAD=,&DCB=,&ASID=,&ASIDLST=,&ECB=,&SDATA=,    X00150000
               &STORAGE=,&LIST=,&SUMLIST=,&BUFFER=,&QUIESCE=,&BRANCH=, X00200000
               &LISTA=,&TYPE=,&SUMLSTA=,&SUSPEND=,&SUBPLST=,&KEYLIST=, X00250000
               &MF=,&SRB=,&SUMLSTL=,&LISTD=,&STRLIST=,                 X00283300
               &INTOKEN=,&REMOTE=,&PROBDESC=,                          X00299900
               &JOBLIST=,&DSPLIST=,                                    X00316500
               &ID=,&IDAD=,&SYMREC=,&PSWREGS=,&PLISTVER=           @LCC 00333100
.********************************************************************** 00350000
.*   MACRO NAME = SDUMPX                                              * 00400000
.*                                                                    * 00450000
.*   DESCRIPTIVE NAME = SDUMPX EXECUTABLE MACRO                       * 00500000
.*                                                                    * 00550000
.*   STATUS = JBB6607                                             @LEC* 00600000
.*                                                                    * 00650000
.*   COPYRIGHT =                                                      * 00683300
.*               LICENSED MATERIALS - PROPERTY OF IBM                 * 00716600
.*               THIS MACRO IS "RESTRICTED MATERIALS OF IBM"          * 00750000
.*               5647-A01 (C) COPYRIGHT IBM CORP 1980, 1999       @LEC* 00800000
.*                                                                    * 00887500
.*   EXTERNAL CLASSIFICATION:  GUPI                               @LEA* 00925000
.*   END OF EXTERNAL CLASSIFICATION:                              @LEA* 00962500
.*                                                                    * 01000000
.*   FUNCTION = PROVIDES THE INTERFACE BETWEEN THE CALLER AND SVC     * 01050000
.*              DUMP.  LIST AND EXECUTE FORMS EXIST TO GENERATE       * 01100000
.*              THE SDUMPX PARAMETER LIST AND PROPER LINKAGE TO THE   * 01150000
.*              SVC DUMP SERVICE.                                     * 01200000
.*                                                                    * 01250000
.*   NOTES = THE PARAMETER LIST GENERATED BY THE STANDARD AND LIST    * 01300000
.*           FORMS OF THIS MACRO IS 112 BYTES IN LENGTH.              * 01350000
.*           IF MDUMP OPTIONS ARE SPECIFIED, THE PARAMETER LIST       * 01366600
.*             IS 128 BYTES.                                          * 01383200
.*           IF STRLIST, INTOKEN, REMOTE, PROBDESC, JOBLIST, DSPLIST  * 01387400
.*           IS SPECIFIED, THE PARAMETER LIST                         * 01391600
.*             IS 184 BYTES.                                          * 01395800
.*                                                                    * 01400000
.*   CHANGE ACTIVITY = FIX PROBLEM WITH ECB OPTION 6/22/79    @ZMB0025* 01450000
.*                     OS/VS2 JBB1226:                        @G383P1U* 01500000
.*                     1. SUPPORT FOR NEW KEYWORDS:                   * 01550000
.*                        LISTA,SUMLSTA,TYPE=XMEM             @G383P1U* 01600000
.*                     2. SUPPORT FOR NEW KEYWORD                     * 01650000
.*                        SUSPEND= YES OR NO                          * 01700000
.*                        SUPPORT FOR SDUMP EXITS             @G386P31* 01750000
.*                     3. SUPPORT FOR NEW KEYWORD: TYPE=XMEME @G38AP31* 01800000
.*                     4. SUPPORT FOR NEW KEYWORD: SUMLSTL        @L5A* 01825000
.*                     APAR OZ51194 - MF=(E,(1)) ON EXECUTE   @ZA51194* 01850000
.*                        FORM WITH NO OTHER PARAMETERS       @ZA51194* 01900000
.*                        GENERATES AN OR IMMEDIATE.          @ZA51194* 01950000
.*                     OS/VS2 JBB1326:                            @L1A* 02000000
.*                     @L1= RAS JBB1326 810130 PD31:PAGE PROTECT  @L1A* 02050000
.*                     OS/VS2 HBB2102:                        @G860P31* 02100000
.*                     1. SUPPORT ALLNUC, SUBPLST, KEYLIST            * 02150000
.*                     2. ADD RESERVED FIELDS FOR SLIP AND SYSMDUMP   * 02200000
.*                     3. ADD BLOCK COMMENTS TO AID DEBUGGING         * 02250000
.*                     4. SUPPORT SPLEVEL                     @G860P1X* 02300000
.*                     5. ADD TYPE=NOLOCAL PARAMETER TO PREVENT       * 02350000
.*                        SDUMP FROM OBTAINING A LOCAL LOCK.  @ZMC2707* 02400000
.*  FLAG  REASON  RELEASE   DATA  ORIGIN                          @L2A* 02450000
.*  $L2=  RASENH  JBB2220  841119  PD2F: SUPPORT TYPE=FAILRC      @L2A* 02500000
.*  $L3=    AR    HBB3310  850901  PDXB: AR SUPPORT                   * 02550000
.*  $L4=  RTMRAS  HBB3310  860728  PDA8: SLIP SYNCHRONOUS SVC DUMP    * 02575000
.*  $P1= PC40145  HBB3310  860829  PD2F: CORRECT SPELLING IN MESG2E   * 02587500
.*  $P2= PC40810  HBB3310  870312  PDA8: SRB KEYWORD PROCESSING       * 02588300
.*  $T1= OY21535  JBB2220  890331  PDXB: MDUMP SUPPORT                * 02589100
.*  $T2= OY21535  HBB3310  890331  PDXB: MDUMP SUPPORT                * 02589900
.*  $T3= OY21535  HBB3310  890331  PDXB: MDUMP SUPPORT FOR SDUMPX     * 02590700
.*  $L5= DATASPAC HBB3310  861029  PDAY: SUMLSTL KEYWORD SUPPORT  @L5A* 02591600
.*  $L6= DATASPAC HBB3310  861029  PDQ6: LISTD   KEYWORD SUPPORT  @L6A* 02595700
.*  $L7= COUPLSDU HBB4410  870116  PDQ6: SDATA COUPLE             @L7A* 02597800
.*  $L8= DATACAPT HBB4420  900226  PDHT: UPGRADED SYNTAX FOR ECB &    * 02598500
.*                                       SRB KEYWORDS             @L8A* 02599200
.*  $L9= SYSLK    HBB5510  900904  PDHP: SDATA IXLDATA            @L9A* 02599400
.*  $D1= DH30150  HBB4420  901024  PDHR: SRB CAPTURE DEFAULT          * 02599600
.*  $LA= SYSLK    HBB5510  910311  PDHT: XESDATA INSTEAD OF IXLDATA   * 02608000
.*                                                                @LAA* 02616400
.*  $LB= SYSLKD   HBB5510  910930  PDCV: Support for dumping SES      * 02624800
.*                                        facility                @LBA* 02633200
.*  $LC= SDMPE    HBB5510  921230  PDXB: REMOTE                       * 02637400
.*  $P3= PIG1380  HBB5510  920405  PDXB: Fix syntax                   * 02639500
.*  $LD= WLMI     HBB5510  930415  PDHT: WLM dump exit            @LDA* 02640500
.*  $01= OW13112  HBB4430  950512  PDKV: Fix HDR ALET offset      @01A* 02641000
.*  $LE= TSVCD    JBB6607  980413  PDHT: Tailored SVC Dump        @LEA* 02641300
.*                                                                    * 02641600
.********************************************************************** 02650000
.*                                                                      02700000
.*       DEFINE SET SYMBOLS                                             02750000
.*                                                                      02800000
         GBLC  &SYSSPLV           SYSTEM/MACRO LIBRARY LEVEL   @G860P1X 02850000
         GBLC  &SDPLVER     SET ACCORDING TO HIGHEST PLISTVER     @T1P  02875000
         LCLA  &SDFLAG0           SDFLAG0 FIELD OF PARAMETER LIST       02900000
         LCLA  &SDFLAG1           SDFLAG1 FIELD OF PARAMETER LIST       02950000
         LCLA  &SDFLAG2           SDFLAG2 PARAMETER LIST FIELD @G383P1U 03000000
         LCLA  &SDATAF1,&SDATAF2  SDATA FIELD OF PARAMETER LIST         03050000
         LCLA  &SDATAF3,&SDATAF4  SDATA EXIT FIELDS PARM LIST      @LEC 03087500
         LCLA  &SDAT3             SDUSDAT3 FIELD OF PARM LIST      @T1P 03125000
         LCLA  &SDCNTL1           CONTROL FLAGS FOR IDENTIFYING NEW     03150000
.*                                RELEASES AND EXPANDED PARAMETER LIST  03200000
.*                                LENGTHS                      @G860P31 03250000
         LCLA  &SDTYPF1           TYPE FIELD OF PARAMETER LIST @G383P1U 03300000
         LCLA  &CTR1,&CTR2        COUNTERS FOR LOOP CONTROL, INDEX      03350000
         LCLA  &HDRCTR            NUMBER OF PAIRED APOSTROPHES          03400000
         LCLA  &IDCTR             NUMBER OF PAIRED APOSTROPHES     @T1P 03425000
         LCLA  &DISP              DISPLACEMENT FOR STORING ADDRESSES    03450000
         LCLA  &DISP1             DISPLACEMENT FOR STOR LIST@G860P31    03500000
         LCLA  &DISP2             DISPLACEMENT FOR HDR DATA    @G860P31 03550000
         LCLA  &STRCNT            COUNT OF STOR ADDRESSES      @G860P31 03600000
         LCLC  &GNAME             SYMBOLIC NAME-BRANCH AROUND CONSTANTS 03650000
         LCLC  &TEMP              TEMPORARY VARIABLE               @T1P 03675000
         LCLB  &SDDCB             SET IF DCB ADDRESS IS SPECIFIED       03700000
         LCLB  &SDBUFF            SET IF BUFFER IS TO BE DUMPED         03750000
         LCLB  &SDSTOR            SET IF STORAGE OR LIST IS SPECIFIED   03800000
         LCLB  &SDHDR             SET IF HDR OR HDRAD IS SPECIFIED      03850000
         LCLB  &SDECB             SET IF AN ECB ADDRESS IS SUPPLIED     03900000
         LCLB  &SDECBWR           SET IF THE ECB IS TO BE POSTED AFTER  03908300
.*                                THE WRITE PHASE HAS COMPLETED    @D1A 03916600
         LCLB  &SDSTRLI           SET IF AN STRLIST ADDRESS IS SUPPLIED 03919400
.*                                                                 @LBA 03922200
         LCLB  &SDSRB            SET IF AN SRB ADDRESS IS SUPPLIED @L4A 03925000
         LCLB  &SDSRBWR         SET IF THE SRB IS TO BE SCHEDULED AFTER 03929100
.*                                THE WRITE PHASE HAS COMPLETED    @D1A 03933200
         LCLB  &SDWRITE           SET IF THE ECB IS TO BE POSTED OR     03937300
.*                                THE SRB IS TO BE SCHEDULED AFTER      03941400
.*                                THE WRITE PHASE HAS COMPLETED    @D1A 03945500
         LCLB  &SDASID            SET IF AN ASID IS SPECIFIED           03950000
         LCLB  &SDASIDL           SET IF AN ASIDLIST IS SPECIFIED       04000000
.*                                                             @G33VPHD 04050000
         LCLB  &SDQUIET           SET IF SYSTEM IS TO BE QUIESCED       04100000
         LCLB  &SDBRNCH           SET IF INTERFACE IS BRANCH ENTRY      04150000
         LCLB  &DUMPTYP           ALWAYS SET FOR SVC DUMP               04200000
         LCLB  &SDALPSA           SET IF ALL PSA IN SYSTEM TO BE DUMPED 04250000
         LCLB  &SDPSA             SET IF CURRENT PSA IS TO BE DUMPED    04300000
         LCLB  &SDNUC             SET IF NUCLEUS IS TO BE DUMPED        04350000
         LCLB  &SDSQA             SET IF SQA IS TO BE DUMPED            04400000
         LCLB  &SDLSQA            SET IF LSQA IS TO BE DUMPED           04450000
         LCLB  &SDRGN             SET IF VIRTUAL MEMORY IS TO BE DUMPED 04500000
         LCLB  &SDLPA             SET IF ACTIVE LPA MOD FOR MEMORY REQ  04550000
         LCLB  &SDTRT             SET IF GTF INCORE TRACE BUFFERS  REQ  04600000
         LCLB  &SDCSA             SET IF CSA SUBPOOLS ARE TO BE DUMPED  04650000
         LCLB  &SDSWA             SET IF SWA FOR MEMORY TO BE DUMPED    04700000
.*                                                                      04750000
         LCLB  &SDSUMLT           SET IF SUMLIST SPECIFIED     @G33VPHD 04800000
         LCLB  &SDSMDMP           SET IF SUMDUMP SPECIFIED     @G33VPHD 04850000
         LCLB  &SDNSMDP           SET IF NO SUMDUMP SPECIFIED  @G33VPHD 04900000
         LCLB  &SDNSQA            SET IF NO SQA SPECIFIED      @G33VPHD 04950000
         LCLB  &SDNAPSA           SET IF NOALLPSA IS SPECIFIED @G33VPHD 05000000
         LCLB  &SDNEW             SET IF ENHANCED SVC DUMP     @G33VPHD 05050000
         LCLB  &SDSE3PM         SET IF JBB1226 PARMS SPECIFIED @G383P1U 05100000
         LCLB  &SDGRSQ            SET IF SDATA=GRSQ SPECIFIED  @G383P1U 05150000
         LCLB  &SDCOUPL           SET IF SDATA=COUPLE SPECIFIED    @L7A 05175000
         LCLB  &SDXES             SET IF SDATA=XESDATA SPECIFIED   @LAC 05187500
         LCLB  &SDWLM             SET IF SDATA=WLM SPECIFIED       @LDA 05193700
         LCLB  &SDTSVCD           SET IF SDATA=SERVERS SPECIFIED   @LEA 05196800
.********************************************************************** 05200000
.* FOR EACH NEW SDUMP EXIT, ADD A NEW VARIABLE DEFINED SIMILAR TO       05250000
.* SDGRSQ.                                                     @G386P31 05300000
.********************************************************************** 05350000
         LCLB  &SDLISTA           SET IF LISTA PARM SPECIFIED  @G383P1U 05400000
         LCLB  &SDLISTD           SET IF LISTD PARM SPECIFIED      @L6A 05425000
         LCLB  &SDSMLTA           SET IF SUMLSTA SPECIFIED     @G383P1U 05450000
         LCLB  &SDSMLTL           SET IF SUMLSTL SPECIFIED         @L5A 05475000
         LCLB  &SDSPEND           SET IF SUSPEND=YES SPECIFIED @G386P31 05500000
         LCLB  &SDTYPXM           SET IF TYPE=XMEM SPECIFIED   @ZMB0025 05550000
         LCLB  &SDTPXME           SET IF TYPE=XMEME SPECIFIED  @G38AP31 05600000
         LCLB  &SDALLNC           SET IF ALLNUC SPECIFIED      @G860P31 05650000
         LCLB  &SDSPLST           SET IF SUBPLST SPECIFIED     @G860P31 05700000
         LCLB  &SDKYLST           SET IF KEYLIST SPECIFIED     @G860P31 05750000
         LCLB  &SDSP21P           SET IF HBB2102 PARM LIST     @G860P31 05800000
         LCLB  &SDVRSNB           SET IF VERSION NUMBER IN LIST    @T1P 05825000
         LCLB  &SDTYPNL          SET IF TYPE=NOLOCAL SPECIFIED @ZMC2707 05850000
         LCLB  &SDTYPRC           SET IF TYPE=FAILRC SPECIFIED     @L2A 05900000
.* FLAGS FOR MDUMP OPTIONS                                              05905000
         LCLC  &PLVER             PLISTVER                         @T1P 05910000
         LCLB  &SDPREG            SET IF PSWREG SPECIFIED          @T1P 05915000
         LCLB  &SDSYMR            SET IF SYMREC SPECIFIED          @T1P 05920000
         LCLB  &SDID              SET IF ID OR IDAD SPECIFIED      @T1P 05925000
         LCLB  &SDIDAD            SET IF IDAD SPECIFIED            @T1P 05930000
         LCLB  &SDDEFS            SET IF DEFAULTS/DEFS SPECIFIED   @T1P 05935000
         LCLB  &SDNODEF           SET IF NODEFAULTS/NODEFS         @T1P 05940000
         LCLB  &SDIO              SET IF IO SPECIFIED              @T1P 05945000
.*                                                                      05950000
.********************************************************************** 06000000
.* IF ANY POSITIONAL PARAMETERS WERE SPECIFIED, THE MACRO IS            06050000
.* SPECIFIED INCORRECTLY AND IS PROBABLY MISSING A SET OF               06100000
.* PARENTHESIS.                                                @G860P1X 06150000
.********************************************************************** 06200000
.*                                                                      06250000
.INVKSP2 ANOP                                                  @G860P1X 06300000
         LCLC  &LA                      "LA" OR "LAE" VIA SYSSTATE @L3A 06325000
         GBLC  &SYSASCE                                            @L3A 06350000
         SYSSTATE TEST                  TEST ASC ENVIRONMENT       @L3A 06400000
&LA      SETC  'LA'                     MUST USE LA INSTRUCTION    @L3A 06410000
         AIF   ('&SYSASCE' EQ 'P').NOLAE                           @L3A 06420000
&LA      SETC  'LAE'                    MUST USE LAE               @L3A 06430000
.NOLAE   ANOP                                                      @L3A 06440000
         AIF  ('&SYSLIST(1)' NE '').MESG1A                     @G860P1X 06450000
.*                                                                      06500000
.********************************************************************** 06550000
.*                                                                      06600000
.*         SYNTAX CHECK FOR MUTUALLY EXCLUSIVE OPTIONS                  06650000
.*                                                             @G860P31 06700000
.********************************************************************** 06750000
.*                                                                      06800000
         AIF   ('&HDR' NE '' AND '&HDRAD' NE '').MESG2A     MUTUALLY    06850000
         AIF   ('&ID' NE '' AND '&IDAD' NE '').MESG2F              @T1P 06875000
         AIF   ('&STORAGE' NE '' AND '&LIST' NE '').MESG2B   EXCLUSIVE  06900000
.*       TEST STORAGE AND LISTA - MUTUALLY EXCLUSIVE           @G383P1U 06950000
         AIF   ('&STORAGE' NE '' AND '&LISTA' NE '').MESG2C    @G383P1U 07000000
.*       TEST LIST AND LISTA - MUTUALLY EXCLUSIVE              @G383P1U 07050000
         AIF   ('&LIST' NE '' AND '&LISTA' NE '').MESG2D       @G383P1U 07100000
.*       TEST SUMLIST AND SUMLSTA - MUTUALLY EXCLUSIVE         @G383P1U 07150000
         AIF   ('&SUMLIST' NE '' AND '&SUMLSTA' NE '').MESG2E  @G383P1U 07200000
.*       TEST ASID AND ASIDLST - MUTUALLY EXCLUSIVE            @G386P31 07250000
         AIF   ('&ASID' NE '' AND '&ASIDLST' NE '').MESG10     @G383P1U 07300000
.*                                                                      07350000
.********************************************************************** 07400000
.*                                                                      07450000
.*    PARSE THE HDR PARAMETER FOR INVALID LENGTH AFTER ACCOUNTING       07500000
.*    FOR STARTING, ENDING, AND PAIRED APOSTROPHES.                     07550000
.*                                                             @G860P31 07600000
.********************************************************************** 07650000
.*                                                                      07700000
         AIF   ('&HDR' EQ '').SD3I          HDR SPECIFIED          @T1P 07750000
         AIF   ('&HDR'(1,1) NE '''').MESG9  IS FIRST CHAR APOSTROPHE    07800000
&CTR1    SETA  K'&HDR-1                     LENGTH OF USER DATA +1      07850000
         AIF   (&CTR1 LT 2).MESG9A          INVALID HDR SPECIFICATION   07900000
.*                                                            @ZMC0399  07950000
&HDRCTR  SETA  0                            NUMBER OF PAIRED APOSTROHES 08000000
&CTR2    SETA  2                            INDEX FIRST CHAR-USER DATA  08050000
.SDLOOP  ANOP                                                           08100000
         AIF   (&CTR2 GE &CTR1).SD2              END OF SCAN            08150000
         AIF   ('&HDR'(&CTR2,2) EQ '''''').SD1   PAIRED APOSTROPHES     08200000
&CTR2    SETA  &CTR2+1                           UPDATE INDEX BY 1      08250000
         AGO   .SDLOOP                           CONTINUE LOOP          08300000
.SD1     ANOP                                                           08350000
&HDRCTR  SETA  &HDRCTR+1                    ONE MORE PAIRED APOSTROPHES 08400000
&CTR2    SETA  &CTR2+2                      UPDATE INDEX BY 2           08450000
         AGO   .SDLOOP                      CONTINUE LOOP               08500000
.SD2     ANOP                                                           08550000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         08600000
         AIF   (&CTR1 GT 100).MESG8         USER DATA TOO LONG          08650000
.********************************************************************** 08750000
.*                                                                      08800000
.*    PARSE THE ID PARAMETER FOR INVALID LENGTH AFTER ACCOUNTING        08801700
.*    FOR STARTING, ENDING, AND PAIRED APOSTROPHES.                     08803400
.*                                                                 @T1P 08805100
.********************************************************************** 08806800
.*                                                                      08808500
.SD3I    AIF   ('&ID' EQ '').SD3            ID SPECIFIED           @T1P 08810200
         AIF   ('&ID'(1,1) NE '''').MESG9I  FIRST CHAR APOSTROPHE  @T1P 08811900
&CTR1    SETA  K'&ID-1                      LENGTH+1               @T1P 08813600
         AIF   (&CTR1 LT 2).MESG9AI         INVALID ID SPECIFICATION   *08815300
                                                                   @T1P 08817000
&IDCTR   SETA  0                            PAIRED APOSTROPHES     @T1P 08818700
&CTR2    SETA  2                            INDEX FIRST CHAR       @T1P 08820400
.SDLOOPI ANOP                                                      @T1P 08822100
         AIF   (&CTR2 GE &CTR1).SD2I             END OF SCAN       @T1P 08823800
         AIF   ('&ID'(&CTR2,2) EQ '''''').SD1I   PAIRED            @T1P 08825500
&CTR2    SETA  &CTR2+1                           UPDATE INDEX BY 1 @T1P 08827200
         AGO   .SDLOOPI                          CONTINUE LOOP     @T1P 08828900
.SD1I    ANOP                                                      @T1P 08830600
&IDCTR   SETA  &IDCTR+1                     ONE MORE               @T1P 08832300
&CTR2    SETA  &CTR2+2                      UPDATE INDEX BY 2      @T1P 08834000
         AGO   .SDLOOPI                     CONTINUE LOOP          @T1P 08835700
.SD2I    ANOP                                                      @T1P 08837400
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1P 08839100
         AIF   (&CTR1 GT 50).MESG8I         USER DATA TOO LONG     @T1P 08840800
.*                                                                      08842500
.********************************************************************** 08844200
.*                                                                      08845900
.*    CHECK FOR INVALID PARAMETERS SPECIFIED WITH MF=L                  08850000
.*                                                             @G860P31 08900000
.********************************************************************** 08950000
.*                                                                      09000000
.SD3     AIF   ('&MF' NE 'L').SD5           IS MF STANDARD OR EXECUTE   09050000
         AIF   ('&ASID' NE '').MESG5A       ASID INVALID W/MF=L         09100000
         AIF   ('&ECB' NE '').MESG5B        ECB INVALID W/MF=L          09150000
         AIF   ('&SRB' NE '').MESG5F        SRB INVALID W/MF=L     @L4A 09175000
         AIF   ('&BRANCH' NE '').MESG5C     BRANCH INVALID W/MF=L       09200000
         AIF   ('&ASIDLST' NE '').MESG5D   ASID INV W/MF=L     @G33VPHD 09250000
.*                                                                      09300000
.********************************************************************** 09350000
.*                                                                      09400000
.*  CHECK FOR VALID OPERANDS (YES OR NO) ON BUFFER, BRANCH, AND QUIESCE 09450000
.*                                                             @G860P31 09500000
.********************************************************************** 09550000
.*                                                                      09600000
.SD5     AIF   ('&BUFFER' EQ '').SD9        IS BUFFER SPECIFIED         09650000
.*                                                             @G33VPHD 09700000
         AIF   ('&BUFFER' NE 'YES' AND '&BUFFER' NE 'NO').MESG4B        09750000
.*                                                             @G33VPHD 09800000
.SD9     AIF   ('&BRANCH' EQ '').SD11       IS BRANCH SPECIFIED         09850000
         AIF   ('&BRANCH' NE 'YES' AND '&BRANCH' NE 'NO').MESG4C        09900000
.SD11    AIF   ('&QUIESCE' EQ '').SD13      IS QUIESCE SPECIFIED        09950000
         AIF   ('&QUIESCE' NE 'YES' AND '&QUIESCE' NE 'NO').MESG4D      10000000
.*                                                                      10050000
.********************************************************************** 10100000
.*                                                                      10150000
.*  CHECK FOR AN EVEN NUMBER OF STORAGE RANGES.                         10200000
.*                                                             @G860P31 10250000
.********************************************************************** 10300000
.*                                                                      10350000
.SD13    AIF   ('&STORAGE' EQ '').SD15      IS STORAGE SPECIFIED        10400000
&CTR1    SETA  N'&STORAGE/2                 NUMBER OF ADDRESS PAIRS     10450000
&CTR2    SETA  (N'&STORAGE-1)/2             NUMBER OF PAIRS MINUS 1     10500000
         AIF   (&CTR1 EQ &CTR2).MESG6       ODD NUMBER OF ADDRESSES     10550000
.SD15    ANOP                                                           10600000
.*                                                                      10650000
.********************************************************************** 10700000
.*                                                                      10750000
.*       SDFLAG0 PROCESSING                                             10800000
.*                                                             @G860P31 10850000
.********************************************************************** 10900000
.*                                                                      10950000
&SDDCB   SETB  ('&DCB' NE '')                IF DCB SPECIFIED           11000000
&SDBUFF  SETB  ('&BUFFER' EQ 'YES')          IF BUFFER TO BE DUMPED     11050000
&SDSTOR  SETB  ('&STORAGE' NE '' OR '&LIST' NE '')    STORAGE ADDR LIST 11100000
&SDHDR   SETB  ('&HDR' NE '' OR '&HDRAD' NE '')       USER DATA         11150000
         AIF   ('&ECB' NE '' AND '&SRB' NE '').MESG13B SRB AND ECB ARE X11166600
               MUTUALLY EXCLUSIVE                                  @L4A 11183200
&SDECB   SETB  ('&ECB' NE '')               IF ECB SPECIFIED            11186400
         AIF   ('&ECB(2)' NE '' AND '&ECB(2)' NE 'WRITE' AND '&ECB(2)' X11189600
               NE 'CAPTURE').MESG3B                                @L8A 11192800
&SDECBWR SETB  ('&ECB(2)' EQ 'WRITE')       IS THE ECB TO BE POSTED    X11196000
               WHEN THE WRITE PHASE HAS COMPLETED                  @D1C 11199200
         AIF   (&SDDCB EQ 0 OR &SDECB EQ 0 OR &SDECBWR EQ 1).SD20      X11202400
               IF NOT (DCB & ECB & CAPTURE REQUEST/DEFAULTED) DON'T    X11205600
               ISSUE INFORMATIONAL AND OVERRIDE REQUEST            @D1C 11208800
         MNOTE 0,'ECB POST TIME FORCED TO WRITE BECAUSE THE DCB KEYWORDX11212000
                SPECIFIED'                                         @L8A 11215200
&SDECBWR SETB  1                            FORCE TO WRITE PHASE   @D1A 11218400
.SD20    ANOP                                                      @L8A 11221600
&SDSRB   SETB  ('&SRB' NE '')                IF SRB SPECIFIED      @L4A 11225000
         AIF   ('&SRB(2)' NE '' AND '&SRB(2)' NE 'WRITE' AND '&SRB(2)' X11230000
               NE 'CAPTURE').MESG3B                                @L8A 11235000
&SDSRBWR SETB  ('&SRB(2)' EQ 'WRITE')       IS THE SRB TO BE SCHEDULED X11236500
               WHEN THE CAPTURE PHASE HAS COMPLETED                @D1C 11238000
         AIF   (&SDDCB EQ 0 OR &SDSRB EQ 0 OR &SDSRBWR EQ 1).SD21      X11239500
               IF NOT (DCB & SRB & CAPTURE REQUEST/DEFAULTED) DON'T    X11241000
               ISSUE INFORMATIONAL AND OVERRIDE REQUEST            @D1C 11242500
         MNOTE 0,'SRB SCHEDULE TIME FORCED TO WRITE BECAUSE THE DCB KEYX11244000
               WORD SPECIFIED'                                     @D1C 11245500
&SDSRBWR SETB  1                            FORCE TO WRITE PHASE   @D1A 11247000
.SD21    ANOP                                                      @D1A 11248500
&SDASID  SETB  ('&ASID' NE '')               IF ASID SPECIFIED          11250000
&SDQUIET SETB  ('&QUIESCE' NE 'NO')          IF SYSTEM TO BE QUIESCED   11300000
.*             SDQUIET IS SET FOR QUIESCE=YES OR DEFAULTED TO YES       11350000
.*             THE DEFAULT ONLY APPLIES TO THE LIST AND STANDARD FORM,  11400000
.*             AND MUST BE COMPENSATED FOR ON THE EXECUTE FORM.         11450000
&SDBRNCH SETB  ('&BRANCH' EQ 'YES')          IF LINKAGE BY BRANCH ENTRY 11500000
&SDFLAG0 SETA  128*&SDDCB+64*&SDBUFF+32*&SDSTOR+16*&SDHDR+8*&SDECB+4*&SX11550000
               DASID+2*&SDQUIET+1*&SDBRNCH                              11600000
.*                                                                      11650000
.********************************************************************** 11700000
.*                                                                      11750000
.*       SDFLAG1 PROCESSING                                             11800000
.*                                                             @G860P31 11850000
.********************************************************************** 11900000
.*                                                                      11950000
&DUMPTYP SETB  1                  ALWAYS ON FOR SVC DUMP                12000000
&SDNEW   SETB  1                  ALWAYS SET TO 1 FOR NEW SDUMP MACRO   12050000
.*                                                             @G33VPHD 12100000
&SDASIDL SETB  ('&ASIDLST' NE '') IF ASIDLIST WAS SPECIFIED             12150000
.*                                                             @G33VPHD 12200000
&SDSUMLT SETB  ('&SUMLIST' NE '') IF SUMLIST WAS SPECIFIED              12250000
.*                                                             @G33VPHD 12300000
&SDFLAG1 SETA  128*&DUMPTYP+32*&SDNEW+16*&SDASIDL+8*&SDSUMLT            12350000
.*                                                                      12400000
.********************************************************************** 12450000
.*                                                                      12500000
.*       SDFLAG2 PROCESSING                                             12550000
.*                                                             @G860P31 12600000
.********************************************************************** 12650000
.*                                                                      12700000
&SDLISTA SETB  ('&LISTA' NE '')   SET IF LISTA IS SPECIFIED    @G383P1U 12750000
&SDLISTD SETB  ('&LISTD' NE '')   SET IF LISTD IS SPECIFIED        @L6A 12780000
&SDSMLTA SETB  ('&SUMLSTA' NE '') SET IF SUMLSTA SPECIFIED     @G383P1U 12810000
&SDSMLTL SETB  ('&SUMLSTL' NE '') SET IF SUMLSTL SPECIFIED         @L5A 12840000
&SDFLAG2 SETA  128*&SDLISTA+64*&SDSMLTA+2*&SDLISTD+&SDSMLTL        @L6C 12870000
.*                                                                      12900000
.********************************************************************** 12950000
.*                                                                      13000000
.*       SDCNTL1 PROCESSING                                             13003800
.*                                                                 @T1P 13007600
.********************************************************************** 13011400
.*                                                                      13015200
&SDPREG  SETB  ('&PSWREGS' NE '')   SET FOR PSWREGS                @T1P 13019000
&SDSRS   SETB  ('&SYMREC' NE '')    SET FOR SYMREC                 @T1P 13022800
&SDID    SETB  ('&ID' NE '' OR '&IDAD' NE '')         ID DATA      @T1P 13026600
&SDIDAD  SETB  ('&IDAD' NE '')      SET FOR IDAD                   @T1P 13030400
&SDSTRLI SETB  ('&STRLIST' NE '')   SET FOR STRLIST                @LBA 13032900
&SDCNTL1 SETA  32*&SDPREG+16*&SDSRS+8*&SDID+2*&SDSTRLI             @LBC 13035400
.*                                                                      13038000
.********************************************************************** 13041800
.*                                                                      13045600
.*       SDATA PROCESSING FOR ONLY 1 SDATA OPTION SPECIFIED.            13050000
.*                                                             @G860P31 13100000
.********************************************************************** 13150000
.*                                                                      13200000
         AIF   ('&SDATA' EQ '').SD80        IS SDATA SPECIFIED          13250000
         AIF   ('&SDATA'(1,1) EQ '(').SD60  MORE THAN 1 OPTION, IN ()   13300000
&CTR1    SETA  0                                                        13350000
&SDALPSA SETB  ('&SDATA' EQ 'ALLPSA')       SET IF ALLPSA SPECIFIED     13400000
&SDPSA   SETB  ('&SDATA' EQ 'PSA')          SET IF PSA SPECIFIED        13450000
&SDNUC   SETB  ('&SDATA' EQ 'NUC')          SET IF NUC SPECIFIED        13500000
&SDSQA   SETB  ('&SDATA' EQ 'SQA')          SET IF SQA SPECIFIED        13550000
&SDLSQA  SETB  ('&SDATA' EQ 'LSQA')         SET IF LSQA SPECIFIED       13600000
&SDRGN   SETB  ('&SDATA' EQ 'RGN')          SET IF RGN SPECIFIED        13650000
&SDLPA   SETB  ('&SDATA' EQ 'LPA')          SET IF LPA SPECIFIED        13700000
&SDTRT   SETB  ('&SDATA' EQ 'TRT')          SET IF TRT SPECIFIED        13750000
&SDCSA   SETB  ('&SDATA' EQ 'CSA')          SET IF CSA SPECIFIED        13800000
&SDSWA   SETB  ('&SDATA' EQ 'SWA')          SET IF SWA SPECIFIED        13850000
&SDSMDMP SETB  ('&SDATA' EQ 'SUMDUMP' OR '&SDATA' EQ 'SUM')             13900000
.*                         SET IF SUMDUMP OR SUM ARE SPECIFIED @G33VPHD 13950000
&SDNSQA  SETB  ('&SDATA' EQ 'NOSQA')        SET IF NOSQA SPECIFIED      14000000
.*                                                             @G33VPHD 14050000
&SDNAPSA SETB  ('&SDATA' EQ 'NOALLPSA' OR '&SDATA' EQ 'NOALL')          14100000
.*                          SET IF NOALLPSA OR NOALL SPECIFIED @G33VPHD 14150000
&SDNSMDP SETB  ('&SDATA' EQ 'NOSUMDUMP' OR '&SDATA' EQ 'NOSUM')         14200000
&SDALLNC SETB  ('&SDATA' EQ 'ALLNUC')                          @G860P31 14250000
&SDGRSQ  SETB  ('&SDATA' EQ 'GRSQ')  SET IF GRSQ SPECIFIED     @G383P1U 14300000
&SDCOUPL SETB  ('&SDATA' EQ 'COUPLE') SET IF COUPLE SPECIFIED      @L7A 14325000
&SDIO    SETB  ('&SDATA' EQ 'IO')    SET IF IO SPECIFIED           @T1P 14331200
&SDDEFS  SETB  ('&SDATA' EQ 'DEFS' OR '&SDATA' EQ 'DEFAULTS')      @T1P 14337400
&SDNODEF SETB  ('&SDATA' EQ 'NODEFS' OR '&SDATA' EQ 'NODEFAULTS')  @T1P 14343600
&SDXES   SETB  ('&SDATA' EQ 'XESDATA') SET IF XESDATA SPECIFIED    @LAC 14346800
&SDWLM   SETB  ('&SDATA' EQ 'WLM')     SET IF WLM SPECIFIED        @LDA 14348400
&SDTSVCD SETB  ('&SDATA' EQ 'SERVERS') SET IF SERVERS SPECIFIED    @LEA 14349200
.********************************************************************** 14350000
.* FOR EACH NEW SDUMP EXIT, ADD A 'SETB' INSTRUCTION SIMILAR TO THE ONE 14400000
.* ABOVE AND ADD THE EXIT VARIABLE INTO THE FOLLOWING SETA.    @G386P31 14450000
.********************************************************************** 14500000
&CTR1    SETA  &SDALPSA+&SDPSA+&SDNUC+&SDSQA+&SDLSQA+&SDRGN+&SDLPA+&SDTX14550000
               RT+&SDCSA+&SDSWA+&SDSMDMP+&SDNSMDP+&SDNSQA+&SDNAPSA+&SDGX14600000
               RSQ+&SDALLNC+&SDIO+&SDDEFS+&SDNODEF+&SDCOUPL+&SDXES+&SDWX14633300
               LM                                                  @LDC 14666600
&CTR2    SETA  1                            IF INVALID, MESG PRINTS IT  14700000
         AIF   ('&CTR1' EQ '0').MESG4A      IS SPECIFIED OPTION VALID   14750000
         AGO   .SD80                        SDATA OPTION PROCESSED      14800000
.*                                                                      14850000
.********************************************************************** 14900000
.*                                                                      14950000
.*       SDATA PROCESSING FOR 1 OR MORE SDATA OPTIONS IN PARENTHESIS.   15000000
.*                                                             @G860P31 15050000
.********************************************************************** 15100000
.*                                                                      15150000
.SD60    ANOP                     SDATA OPTIONS IN PARENTHESIS          15200000
&CTR1    SETA  N'&SDATA           NUMBER OF OPTIONS ON SDATA PARAMETER  15250000
&CTR2    SETA  0                  NUMBER BY POSITION OPERAND WORKING ON 15300000
.LOOPA1  ANOP                                                           15350000
&CTR2    SETA  &CTR2+1            NUMBER OF NEXT OPTION TO WORK ON      15400000
         AIF   ('&SDATA(&CTR2)' EQ 'ALLPSA').SETAPSA                    15450000
         AIF   ('&SDATA(&CTR2)' EQ 'PSA').SETPSA                        15500000
         AIF   ('&SDATA(&CTR2)' EQ 'NUC').SETNUC                        15550000
         AIF   ('&SDATA(&CTR2)' EQ 'SQA').SETSQA                        15600000
         AIF   ('&SDATA(&CTR2)' EQ 'LSQA').SETLSQA                      15650000
         AIF   ('&SDATA(&CTR2)' EQ 'RGN').SETRGN                        15700000
         AIF   ('&SDATA(&CTR2)' EQ 'LPA').SETLPA                        15750000
         AIF   ('&SDATA(&CTR2)' EQ 'TRT').SETTRT                        15800000
         AIF   ('&SDATA(&CTR2)' EQ 'CSA').SETCSA                        15850000
         AIF   ('&SDATA(&CTR2)' EQ 'SWA').SETSWA                        15900000
         AIF   ('&SDATA(&CTR2)' EQ 'SUMDUMP').SETSUM SUMDUMP SPEC       15950000
.*                                                             @G33VPHD 16000000
         AIF   ('&SDATA(&CTR2)' EQ 'SUM').SETSUM  SET IF SUM SPECIFIED  16050000
.*                                                             @G33VPHD 16100000
         AIF   ('&SDATA(&CTR2)' EQ 'NOSUMDUMP').SETNSUM SET IF          16150000
.*                                   NO SUMDUMP IS SPECIFIED   @G33VPHD 16200000
         AIF   ('&SDATA(&CTR2)' EQ 'NOSUM').SETNSUM  SET IF NOSUM IS    16250000
.*                                                   SPECIFIED          16300000
.*                                                             @G33VPHD 16350000
         AIF   ('&SDATA(&CTR2)' EQ 'NOSQA').SETNSQA  SET IF NOSQA SPEC  16400000
.*                                                             @G33VPHD 16450000
         AIF   ('&SDATA(&CTR2)' EQ 'NOALLPSA').SETNAPA                  16500000
.*                                                             @G33VPHD 16550000
         AIF   ('&SDATA(&CTR2)' EQ 'NOALL').SETNAPA                     16600000
.*                                                             @G33VPHD 16650000
         AIF   ('&SDATA(&CTR2)' EQ 'ALLNUC').SETANUC                    16700000
.*                                                             @G860P31 16750000
         AIF   ('&SDATA(&CTR2)' EQ 'GRSQ').SETGRSQ SET IF GRSQ @G383P1U 16800000
         AIF   ('&SDATA(&CTR2)' EQ 'COUPLE').SETCOUPL SET IF COUPLE     16816600
.*                                                                @L7A  16833200
         AIF   ('&SDATA(&CTR2)' EQ 'IO').SETIO                     @T1P 16836000
         AIF   ('&SDATA(&CTR2)' EQ 'DEFS').SETDEFS                 @T1P 16838800
         AIF   ('&SDATA(&CTR2)' EQ 'DEFAULTS').SETDEFS             @T1P 16841600
         AIF   ('&SDATA(&CTR2)' EQ 'NODEFS').SETNODF               @T1P 16844400
         AIF   ('&SDATA(&CTR2)' EQ 'NODEFAULTS').SETNODF           @T1P 16847200
         AIF   ('&SDATA(&CTR2)' EQ 'XESDATA').SETXES SET IF XESDATA     16848100
.*                                                                @LAC  16849000
         AIF   ('&SDATA(&CTR2)' EQ 'WLM').SETWLM       SET IF WLM @LDA  16849500
         AIF   ('&SDATA(&CTR2)' EQ 'SERVERS').SETTSVC             @LEA  16849700
.********************************************************************** 16850000
.* FOR EACH NEW SDUMP EXIT, ADD AN 'AIF' INSTRUCTION SIMILAR TO THE ONE 16900000
.* ABOVE AND ADD THE NEW LABEL FOR THE SET.                    @G386P31 16950000
.********************************************************************** 17000000
         AGO   .MESG4A                 SDATA OPTION IS INVALID          17050000
.LOOPA2  AIF   (&CTR1 NE &CTR2).LOOPA1 MORE OPTIONS, CONTINUE LOOP      17100000
         AGO   .SD80                   ALL OPTIONS PROCESSED            17150000
.SETAPSA ANOP                          ALLPSA SPECIFIED                 17200000
         AIF   (&SDNAPSA EQ 1).MESG13  NOALLPSA AND ALLPSA IS ERROR     17250000
.*                                                             @G33VPHD 17300000
&SDALPSA SETB  1                       SET INDICATOR                    17350000
         AGO   .LOOPA2                 CONTINUE LOOP                    17400000
.SETPSA  ANOP                          PSA SPECIFIED                    17450000
&SDPSA   SETB  1                       SET INDICATOR                    17500000
         AGO   .LOOPA2                 CONTINUE LOOP                    17550000
.SETNUC  ANOP                          NUC SPECIFIED                    17600000
&SDNUC   SETB  1                       SET INDICATOR                    17650000
         AGO   .LOOPA2                 CONTINUE LOOP                    17700000
.SETSQA  ANOP                          SQA SPECIFIED                    17750000
         AIF   (&SDNSQA EQ 1).MESG12   SQA AND NOSQA IS ERROR           17800000
.*                                                             @G33VPHD 17850000
&SDSQA   SETB  1                       SET INDICATOR                    17900000
         AGO   .LOOPA2                 CONTINUE LOOP                    17950000
.SETLSQA ANOP                          LSQA SPECIFIED                   18000000
&SDLSQA  SETB  1                       SET INDICATOR                    18050000
         AGO   .LOOPA2                 CONTINUE LOOP                    18100000
.SETRGN  ANOP                          RGN SPECIFIED                    18150000
&SDRGN   SETB  1                       SET INDICATOR                    18200000
         AGO   .LOOPA2                 CONTINUE LOOP                    18250000
.SETLPA  ANOP                          LPA SPECIFIED                    18300000
&SDLPA   SETB  1                       SET INDICATOR                    18350000
         AGO   .LOOPA2                 CONTINUE LOOP                    18400000
.SETTRT  ANOP                          TRT SPECIFIED                    18450000
&SDTRT   SETB  1                       SET INDICATOR                    18500000
         AGO   .LOOPA2                 CONTINUE LOOP                    18550000
.SETCSA  ANOP                          CSA SPECIFIED                    18600000
&SDCSA   SETB  1                       SET INDICATOR                    18650000
         AGO   .LOOPA2                 CONTINUE LOOP                    18700000
.SETSWA  ANOP                          SWA SPECIFIED                    18750000
&SDSWA   SETB  1                       SET INDICATOR                    18800000
         AGO  .LOOPA2                  CONTINUE LOOP                    18850000
.SETSUM  ANOP                          SUMDUMP OR SUM SPECIFIED         18900000
.*                                                             @G33VPHD 18950000
         AIF   (&SDNSMDP EQ 1).MESG11  NOSUMDUMP AND SUMDUMP IS ERROR   19000000
.*                                                             @G33VPHD 19050000
&SDSMDMP SETB  1                       SET SUMDUMP INDICATOR            19100000
.*                                                             @G33VPHD 19150000
         AGO   .LOOPA2                 CONTINUE LOOP                    19200000
.*                                                             @G33VPHD 19250000
.SETNSUM ANOP                          NOSUMDUMP OR NOSUM SPECIFIED     19300000
.*                                                             @G33VPHD 19350000
         AIF   (&SDSMDMP EQ 1).MESG11  NOSUMDUMP AND SUMDUMP IS ERROR   19400000
.*                                                             @G33VPHD 19450000
&SDNSMDP SETB  1                       SET NOSUMDUMP INDICATOR          19500000
.*                                                             @G33VPHD 19550000
         AGO   .LOOPA2                 CONTINUE LOOP                    19600000
.*                                                             @G33VPHD 19650000
.SETNSQA ANOP                          NOSQA SPECIFIED                  19700000
.*                                                             @G33VPHD 19750000
         AIF   (&SDSQA EQ 1).MESG12    SQA AND NOSQA IS AN ERROR        19800000
.*                                                             @G33VPHD 19850000
&SDNSQA  SETB  1                       SET NOSQA INDICATOR              19900000
.*                                                             @G33VPHD 19950000
         AGO   .LOOPA2                 CONTINUE LOOP                    20000000
.*                                                             @G33VPHD 20050000
.SETNAPA ANOP                          NOALLPSA OR NOALL SPECIFIED      20100000
.*                                                             @G33VPHD 20150000
         AIF   (&SDALPSA EQ 1).MESG13  NOALLPSA AND ALLPSA IS ERROR     20200000
.*                                                             @G33VPHD 20250000
&SDNAPSA SETB  1                       SET NOALLPSA INDICATOR           20300000
.*                                                             @G33VPHD 20350000
         AGO   .LOOPA2                 CONTINUE LOOP                    20400000
.*                                                             @G33VPHD 20450000
.SETANUC ANOP                          ALLNUC OPTION SPECIFIED @G860P31 20500000
&SDALLNC SETB  1                       ALLNUC OPTION SET       @G860P31 20550000
         AGO   .LOOPA2                 CONTINUE LOOP           @G386P31 20600000
.SETGRSQ ANOP                          GRSQ OPTION SPECIFIED   @G383P1U 20650000
&SDGRSQ  SETB  1                       GRSQ OPTION SPECIFIED   @G383P1U 20700000
         AGO   .LOOPA2                 CONTINUE LOOP           @G383P1U 20750000
.SETCOUPL ANOP                         COUPLE OPTION SPECIFIED     @L7A 20762500
&SDCOUPL SETB 1                        SET COUPLE INDICATOR        @L7A 20775000
         AGO   .LOOPA2                 CONTINUE LOOP               @L7A 20787500
.SETIO   ANOP                          IO OPTION SPECIFIED         @T1P 20788700
&SDIO    SETB  1                       IO OPTION SPECIFIED         @T1P 20789900
         AGO   .LOOPA2                 CONTINUE LOOP               @T1P 20791100
.SETDEFS ANOP                          DEFS OPTION SPECIFIED       @T1P 20792300
&SDDEFS  SETB  1                       DEFS OPTION SPECIFIED       @T1P 20793500
         AGO   .LOOPA2                 CONTINUE LOOP               @T1P 20794700
.SETNODF ANOP                          NODEFS OPTION SPECIFIED     @T1P 20795900
&SDNODEF SETB  1                       NODEFS OPTION SPECIFIED     @T1P 20797100
         AGO   .LOOPA2                 CONTINUE LOOP               @T1P 20798300
.SETXES   ANOP                         XESDATA OPTION SPECIFIED    @LAC 20798700
&SDXES   SETB 1                        SET XESDATA INDICATOR       @LAC 20799100
         AGO   .LOOPA2                 CONTINUE LOOP               @L9A 20799500
.SETWLM  ANOP                          WLM OPTION SPECIFIED        @LDA 20799600
&SDWLM   SETB 1                        SET WLM INDICATOR           @LDA 20799700
         AGO   .LOOPA2                 CONTINUE LOOP               @LDA 20799800
.SETTSVC ANOP                          SERVERS OPTION SPECIFIED    @LEA 20809800
&SDTSVCD SETB 1                        SET SERVERS INDICATOR       @LEA 20819800
         AGO   .LOOPA2                 CONTINUE LOOP               @LEA 20829800
.********************************************************************** 20839800
.* FOR EACH NEW SDUMP EXIT, ADD A SET OF 3 INSTRUCTIONS SIMILAR TO THE  20850000
.* 3 PREVIOUS INSTRUCTIONS.                                    @G386P31 20900000
.********************************************************************** 20950000
.SD80    ANOP         ALL SDATA OPTIONS PROCESSED,BUILD SDATA  @G33VPHD 21000000
         AIF   (&SDNODEF EQ 0 OR &SDDEFS EQ 0).SDDEFOK             @T1P 21010000
         MNOTE 12,'DEFAULTS AND NODEFAULTS ARE MUTUALLY EXCLUSIVE' @T1P 21020000
         MEXIT                                                     @T1P 21030000
.SDDEFOK ANOP                                                      @T1P 21040000
.*                                                                      21050000
.********************************************************************** 21100000
.*                                                                      21150000
.*       PLISTVER PROCESSING -- DETERMINE SPECIFIED AND/OR              21151100
.*       NECESSARY PLISTVER PROCESSING                                  21152200
.*                                                                 @T1P 21153300
.********************************************************************** 21154400
         AIF   ('&PLISTVER' EQ '').PLV01                           @T1P 21155500
         AIF   ('&PLISTVER' EQ '1' OR '&PLISTVER' EQ '2').PLV00    @T3C 21156600
         AIF   ('&PLISTVER' EQ '3').PLV00                          @LBA 21157300
         MNOTE 12,'PLISTVER MUST BE 1, 2 OR 3'                     @LBC 21158000
         MEXIT                                                     @T1P 21158800
.PLV00   ANOP                                                      @T1P 21159900
&PLVER   SETC  '&PLISTVER'                                         @T1P 21161000
         AGO   .PLV02                                              @T1P 21162100
.PLV01   ANOP                                                      @T1P 21163200
         AIF   ('&STRLIST' NE '').PLVSET3                          @LBA 21163700
         AIF   ('&INTOKEN' NE '').PLVSET3                          @LCA 21163800
         AIF   ('&REMOTE' NE '').PLVSET3                           @LCA 21163900
         AIF   ('&PROBDESC' NE '').PLVSET3                         @LCA 21164000
         AIF   ('&JOBLIST' NE '').PLVSET3                          @LCA 21164100
         AIF   ('&DSPLIST' NE '').PLVSET3                          @LCA 21164200
         AIF   ('&ID' NE '' OR '&IDAD' NE '' OR '&PSWREGS' NE '' OR '&S*21164300
               YMREC' NE '').PLVSET2                               @T1P 21165400
         AIF   (&SDIO NE 0 OR &SDDEFS NE 0 OR &SDNODEF NE 0).PLVSET2   *21166500
                                                                   @T1P 21167600
&PLVER   SETC  '1'                                                 @T1P 21168700
         AGO   .PLV02                                              @T1P 21169800
.PLVSET2 ANOP                                                      @T1P 21170900
&PLVER   SETC  '2'                                                 @T1P 21172000
         AGO   .PLV02                                              @LBA 21172200
.PLVSET3 ANOP                                                      @LBA 21172400
&PLVER   SETC  '3'                                                 @LBA 21172600
.PLV02   ANOP                                                      @T1P 21173100
         AIF   ('&PLVER' EQ '3').PLVOK                             @LBA 21173400
         AIF   ('&STRLIST' NE '').PLVBAD2                          @LBA 21173700
         AIF   ('&INTOKEN' NE '').PLVBAD2                          @LCA 21173900
         AIF   ('&REMOTE' NE '').PLVBAD2                           @LCA 21174100
         AIF   ('&PROBDESC' NE '').PLVBAD2                         @LCA 21174300
         AIF   ('&JOBLIST' NE '').PLVBAD2                          @LCA 21174500
         AIF   ('&DSPLIST' NE '').PLVBAD2                          @LCA 21174700
         AIF   ('&PLVER' EQ '2').PLVOK                             @T1P 21174900
         AIF   ('&ID' NE '' OR '&IDAD' NE '' OR '&PSWREGS' NE '' OR '&S*21175300
               YMREC' NE '').PLVBAD1                               @T1P 21176400
         AIF   (&SDIO NE 0 OR &SDDEFS NE 0 OR &SDNODEF NE 0).PLVBAD1   *21177500
                                                                   @T1P 21178600
         AGO   .PLVOK                                              @T1P 21179700
.PLVBAD1 ANOP                                                      @T1P 21180800
         MNOTE 12,'SPECIFIED KEYWORD(S) REQUIRE PLISTVER=2 OR PLISTVER=*21181500
               3'                                                  @LBC 21182200
         MEXIT                                                     @T1P 21183000
.PLVBAD2 ANOP                                                      @LBA 21183200
         MNOTE 12,'SPECIFIED KEYWORD(S) REQUIRE PLISTVER=3'        @LBA 21183400
         MEXIT                                                     @LBA 21183600
.PLVOK   ANOP                                                      @T1P 21184100
.*       PLVER IS SET TO THE HIGHEST PLVER NEEDED SO FAR                21185200
         AIF   ('&MF' EQ '').PLV03                                 @T1P 21186300
         AIF   ('&SDPLVER' NE '' AND '&SDPLVER' GE '&PLVER').PLV04 @LBC 21189000
&SDPLVER SETC  '&PLVER'                                            @T1P 21191800
         AGO   .PLV03                                              @LBA 21192000
.PLV04   ANOP                                                      @LBA 21192200
         AIF   ('&PLISTVER' NE '').PLV03                           @LBA 21192400
&PLVER   SETC  '&SDPLVER'                                          @LBA 21192600
.PLV03   ANOP                                                      @T1P 21192900
.*                                                                      21194000
.********************************************************************** 21195100
.*                                                                      21196200
.*   AFTER PROCESSING ALL SDATA OPTIONS, BUILD THE SDATA FLAG BYTES.    21200000
.*                                                             @G860P31 21250000
.********************************************************************** 21300000
.*                                                                      21350000
&SDATAF1 SETA  128*&SDALPSA+64*&SDPSA+32*&SDNUC+16*&SDSQA+8*&SDLSQA+4*&X21400000
               SDRGN+2*&SDLPA+1*&SDTRT                                  21450000
&SDATAF2 SETA  128*&SDCSA+64*&SDSWA+32*&SDSMDMP+16*&SDNSMDP+8*&SDNAPSA+X21500000
               4*&SDNSQA+2*&SDALLNC+&SDDEFS                        @T1P 21616600
&SDATAF3 SETA  128*&SDGRSQ+16*&SDCOUPL+8*&SDXES+2*&SDWLM           @LDC 21622100
.*                                       CALC EXIT FLAG VALUE      @L9A 21627600
&SDATAF4 SETA  32*&SDTSVCD                                         @LEA 21630400
&SDAT3   SETA  128*&SDNODEF+64*&SDIO                               @T1P 21633200
.*                                                                      21650000
.********************************************************************** 21700000
.*                                                                      21750000
.*     SUSPEND KEYWORD PROCESSING                                       21800000
.*                                                             @G860P31 21850000
.********************************************************************** 21900000
.*                                                                      21950000
         AIF   ('&SUSPEND' EQ '').SD73  CHECK IF SUSPEND       @G386P31 22000000
.*                      PARAMETER SPECIFIED ?                  @G386P31 22050000
         AIF   ('&SUSPEND' EQ 'NO').SD73  SUSPEND=NO IS SAME   @G386P31 22100000
.*                      AS NOT SPECIFYING THE SUSPEND KEYWORD  @G386P31 22150000
         AIF   ('&SUSPEND' NE 'YES').MESG16A  INVALID SUSPEND  @G386P31 22200000
.* SUSPEND=YES REQUIRES BRANCH=YES AND SUMDUMP                 @G386P31 22250000
         AIF   ('&BRANCH' NE 'YES').MESG16B    NO BRANCH=YES   @G386P31 22300000
         AIF   (&SDNSMDP EQ 1).MESG16C    NOSUMDUMP INVALID    @G386P31 22350000
&SDSPEND SETB  1             TURN ON SUSPEND=YES BIT           @G386P31 22400000
.*                                                                      22450000
.********************************************************************** 22500000
.*                                                                      22550000
.*   CHECK FOR NOSUM INVALID WITH SUMLIST/A/L                           22600000
.*                                                             @G860P31 22650000
.********************************************************************** 22700000
.*                                                                      22750000
.SD73    AIF   (&SDNSMDP  EQ  0).SD74  IF NOSUM NOT SPECIFIED  @G860P31 22800000
         AIF   (&SDSUMLT  EQ  1).MESG15  NOSUM AND SUMLIST     @G860P31 22850000
         AIF   (&SDSMLTA  EQ  1).MESG15A  NOSUM AND SUMLSTA    @G860P31 22900000
         AIF   (&SDSMLTL  EQ  1).MESG15B  NOSUM AND SUMLSTL        @L5A 22925000
.*                                                                      22950000
.********************************************************************** 23000000
.*                                                                      23050000
.*   TYPE PARAMETER PROCESSING FOR SINGLE TYPE OPTION                   23100000
.*                                                             @G860P31 23150000
.********************************************************************** 23200000
.*                                                                      23250000
.SD74    AIF   ('&TYPE' EQ '').SD90    IS TYPE PARAMETER SPEC  @G860P31 23300000
         AIF   ('&TYPE'(1,1) EQ '(').SD75 MORE THAN ONE OPTION @G383P1U 23350000
&CTR1    SETA  0              INITIALIZE LOOP COUNTER          @G383P1U 23400000
&SDTYPXM SETB  ('&TYPE' EQ 'XMEM')  SET IF TYPE=XMEM SPECIFIED @G383P1U 23450000
&SDTPXME SETB  ('&TYPE' EQ 'XMEME') SET IF TYPE=XMEME          @G38AP1U 23500000
&SDTYPNL SETB  ('&TYPE' EQ 'NOLOCAL') SET IF TYPE=NOLOCAL      @ZMC2707 23550000
&SDTYPRC SETB  ('&TYPE' EQ 'FAILRC') SET IF TYPE=FAILRC            @L2A 23600000
&CTR1    SETA  &SDTYPXM+&SDTPXME+&SDTYPNL+&SDTYPRC   CALCULATE     @L2C 23650000
.*                           VALID OPTIONS                         @L2A 23700000
&CTR2    SETA  1             INITIALIZE FOR MNOTE              @G383P1U 23750000
         AIF   ('&CTR1'  EQ  '0').MESG4E  NO VALID OPTIONS     @G383P1U 23800000
         AGO   .SD90         TYPE OPTION PROCESSED             @G383P1U 23850000
.*                                                                      23900000
.********************************************************************** 23950000
.*                                                                      24000000
.*   TYPE PARAMETER PROCESSING FOR TYPE OPTIONS IN PARENTHESIS          24050000
.*                                                             @G860P31 24100000
.********************************************************************** 24150000
.*                                                                      24200000
.SD75    ANOP         TYPE PARAMETERS IN PARENTHESIS           @G383P1U 24250000
&CTR1    SETA  N'&TYPE       NUMBER OF TYPE PARAMETERS         @G383P1U 24300000
&CTR2    SETA  0             INDEX OF OPERAND ADDRESSED        @G383P1U 24350000
.SD76    ANOP                TOP OF OPTION LOOP                @G383P1U 24400000
&CTR2    SETA  &CTR2+1       INDEX NEXT OPTION TO WORK ON      @G383P1U 24450000
         AIF    ('&TYPE(&CTR2)' EQ 'XMEM').SETTPXM   XMEM SPEC @G383P1U 24500000
         AIF    ('&TYPE(&CTR2)' EQ 'XMEME').SETTXME XMEME SPEC @G38AP1U 24550000
         AIF    ('&TYPE(&CTR2)' EQ 'NOLOCAL').SETTPNL NOLOCAL SPEC      24600000
.*                                                             @ZMC2707 24650000
         AIF    ('&TYPE(&CTR2)' EQ 'FAILRC').SETTPRC FAILRC SPEC   @L2A 24700000
         AGO    .MESG4E      EXIT PARAMETER INVALID            @G383P1U 24750000
.SETTPXM ANOP                XMEM SPECIFIED                    @G383P1U 24800000
&SDTYPXM SETB  1             SET INDICATOR                     @G383P1U 24850000
         AGO   .SD77         GOTO CHECK FOR END OF TYPE LOOP   @G38AP31 24900000
.SETTPNL ANOP                NOLOCAL SPECIFIED                 @ZMC2707 24950000
&SDTYPNL SETB  1             SET INDICATOR                     @ZMC2707 25000000
         AGO   .SD77         GOTO CHECK FOR END OF TYPE LOOP   @G38AP31 25050000
.SETTPRC ANOP                FAILRC SPECIFIED                      @L2A 25100000
&SDTYPRC SETB  1             SET INDICATOR                         @L2A 25150000
         AGO   .SD77         GOTO CHECK FOR END OF TYPE LOOP       @L2A 25200000
.SETTXME ANOP                XMEME SPECIFIED                   @G38AP31 25250000
&SDTPXME SETB  1             SET INDICATOR                     @G38AP31 25300000
.SD77    AIF   (&CTR1 NE &CTR2).SD76  MORE OPTIONS CONTINUE    @G38AP31 25350000
         AIF   (&SDTYPXM EQ 1 AND &SDTPXME EQ 1).MESG4F    CHECK FOR    25400000
.*                          MUTUALLY EXCLUSIVE TYPE PARAMETERS @G38AP31 25450000
.SD90    ANOP               BUILD TYPE FLAG BYTES              @G383P1U 25500000
&SDTYPF1 SETA  128*&SDTYPXM+64*&SDTPXME+32*&SDTYPNL+16*&SDTYPRC         25550000
.*                                        CALC TYPE FLAG VALUE     @L2C 25600000
.*                                                                      25650000
.********************************************************************** 25700000
.*                                                                      25750000
.*   PROCESS SUBPLST AND KEYLIST OPERANDS                               25800000
.*                                                             @G860P31 25850000
.********************************************************************** 25900000
.*                                                                      25950000
         AIF   ('&KEYLIST' NE '' AND '&SUBPLST' EQ '').MESG17A @G860P31 26000000
.*             KEYLIST IS INVALID WITHOUT SUBPLST              @G860P31 26050000
&SDKYLST SETB  ('&KEYLIST' NE '')            SET KEYLIST FLAG  @G860P31 26100000
&SDSPLST SETB  ('&SUBPLST' NE '')            SET SUBPLST FLAG  @G860P31 26150000
&SDSP21P SETB  1         SET HBB2102 PARMAMETER LIST INDICATOR @G860P31 26200000
&SDSE3PM SETB  1      DEFAULT JBB1226 WHEN HBB2102 IS PRESENT  @G860P31 26250000
.*                                                                      26300000
.********************************************************************** 26350000
.*                                                                      26400000
.*   MAKE FINAL CORRECTIONS TO THE SDFLAG BYTES.                        27400000
.*                                                             @G860P31 27450000
.********************************************************************** 27500000
.*                                                                      27550000
.*       RESET SDFLAG1 FOR JBB1226 BIT                         @G383P1U 27600000
&SDFLAG1 SETA  &SDFLAG1+1*&SDSE3PM  SET SDFLAG1 FOR JBB1226 PARMS       27650000
.*                                                             @G383P1U 27700000
.*       RESET SDFLAG2 FOR JBB1226 SUSPEND PARAMETER           @G386P31 27750000
&SDFLAG2 SETA  &SDFLAG2+32*&SDSPEND+16*&SDSPLST+8*&SDKYLST     @G860P31 27800000
.*       SET SDFLAG2 FOR JBB1226 AND HBB2102 PARAMETERS        @G860P31 27850000
&SDWRITE SETB  (&SDECBWR EQ 1 OR &SDSRBWR EQ 1)                    @D1C 27883300
&SDCNTL1 SETA  &SDCNTL1+128+64+4*&SDWRITE+&SDSRB                   @D1C 27916600
.*       SET SDCNTL1 FOR HBB2102 PARMS + LATER ADDITIONS       @G860P31 27950000
.*                                                                      28050000
.********************************************************************** 28100000
.*                                                                      28150000
.*  SET UP DISPLACEMENTS AND LENGTHS FOR THE 3 TYPES OF EXPANSIONS.     28200000
.*                                                                      28250000
.*  1. CALCULATE THE NUMBER OF ADDRESSES SPECIFIED WITH STORAGE.        28300000
.*  2. CALCULATE LENGTH OF THE FIXED PART OF THE PARAMETER LIST.        28350000
.*  3. CALCULATE THE DISPLACEMENT OF THE STORAGE LIST.                  28400000
.*  4. CALCULATE THE DISPLACEMENT OF THE USER DATA (HDR).               28450000
.*                                                             @G860P31 28500000
.********************************************************************** 28550000
.*                                                                      28600000
&STRCNT  SETA  0                  DEFAULT COUNT OF 0           @G860P31 28650000
         AIF   ('&STORAGE' EQ '').SD91 CHECK FOR STORAGE       @G860P31 28700000
&STRCNT  SETA  N'&STORAGE         NUMBER OF STORAGE ADDRESSES  @G860P31 28750000
.SD91    ANOP                     NOW CALC DISPLACEMENTS       @G860P31 28800000
&DISP1   SETA  112                SP310 DEFAULT PARM LIST LEN      @L3C 28850000
         AIF   ('&PLVER' NE '2').SD92                              @T3A 28862500
&DISP1   SETA  128                SP310-MDUMP PARM LIST LEN        @T3A 28875000
         AGO   .SD93                                               @LBA 28881200
.SD92    ANOP                                                      @T3A 28887500
         AIF   ('&PLVER' NE '3').SD93                              @LBA 28890600
&DISP1   SETA  184                SPXLS-VERSION 3 PARM LIST LENGTH @LCC 28893700
.SD93    ANOP                                                      @LBA 28896800
&DISP2   SETA  &DISP1+(4*&STRCNT) THE USER DATA STARTS AFTER   @G860P31 28900000
.*                                THE STORAGE LIST             @G860P31 28950000
.*                                                                      29000000
.********************************************************************** 29050000
.*                                                                      29100000
.*   DETERMINE WHICH MACRO FORMAT EXPANSION TO DO.                      29150000
.*   STANDARD FORM, EXECUTE OR LIST.                                    29200000
.*                                                             @G860P31 29250000
.********************************************************************** 29300000
.*                                                                      29350000
         AIF   ('&MF' EQ '').STFORM          IS IT STANDARD FORM        29400000
         AIF   ('&MF' EQ 'L').LSTFORM        IS IT LIST FORM            29450000
         AIF   ('&MF'(1,3) NE '(E,').MESG7   ELSE, IF NOT EXECUTE, ERR  29500000
.*                                                                      29550000
.*                                                                      29600000
.*                                                                      29650000
.********************************************************************** 29700000
.*                                                                      29750000
.*       EXECUTE FORM EXPANSION OF MACRO                                29800000
.*                                                             @G860P31 29850000
.********************************************************************** 29900000
.*                                                                      29950000
.*                                                                      30000000
.*                                                                      30050000
         AIF   ('&NAME' EQ '').SDEX2        IS NAME SPECIFIED           30100000
&NAME    DS    0H                                                       30150000
.SDEX2   AIF   ('&MF(2)' EQ '').MESG5E      ERROR IF MISSING   @G860P31 30200000
         IHBSETR   &MF(2),1                 LOAD REG 1 WITH LIST ADDR   30250000
.************************* EXECUTE FORM  ****************************** 30300000
.*                                                                      30350000
.* MAKE SURE NO STORAGE IS ALTERED ON AN EXECUTE FORM OF THE            30400000
.*  SDUMP MACRO WHEN THE ONLY PARAMETER SPECIFIED IS MF.                30450000
.*                                                            @ZA51194  30500000
.********************************************************************** 30550000
         AIF   ('&HDR' NE '' OR  '&HDRAD' NE '' OR '&DCB' NE '' OR '&AS*30600000
               ID' NE '' OR '&ASIDLST' NE '' OR '&ECB' NE '' OR '&SDATA*30650000
               ' NE '' OR '&STORAGE' NE '' OR '&LIST' NE '').SDEX2A     30700000
.*                                                             @ZA51194 30750000
         AIF   ('&SUMLIST' NE '' OR '&BUFFER' NE '' OR '&QUIESCE' NE ''*30800000
               OR '&LISTA' NE '' OR '&TYPE' NE '' OR '&SUMLSTA' NE '' O*30850000
               R '&SUSPEND' NE '' OR '&BRANCH' NE '' OR                *30883300
               '&SUMLSTL' NE '' OR '&LISTD' NE '').SDEX2A          @T3C 30916600
         AIF   ('&SUSPEND' NE '' OR '&SUBPLST' NE '' OR '&KEYLIST' NE '*30950000
               ' OR '&SRB' NE '').SDEX2A                           @L4C 31000000
         AIF   ('&SYMREC' NE '' OR '&ID' NE '' OR '&IDAD' NE '' OR '&PS*31006200
               WREGS' NE '' OR '&STRLIST' NE '').SDEX2A            @LBC 31012400
         AIF   ('&INTOKEN' NE '' OR '&REMOTE' NE '').SDEX2A        @P3C 31013900
         AIF   ('&PROBDESC' NE '').SDEX2A                          @LCA 31015400
         AIF   ('&JOBLIST' NE '' OR '&DSPLIST' NE '').SDEX2A       @P3C 31016900
.*                                                                      31018600
.*       THE PLISTVER TEST MUST BE LAST                                 31024800
.*                                                                      31031000
         AIF   ('&PLISTVER' EQ '').SDEX49                          @T1P 31037200
         MVI   43(1),&PLVER                 SET VERSION NUMBER     @T1P 31043400
         AGO   .SDEX49                                         @ZA51194 31050000
.*                                                             @ZA51194 31100000
.SDEX2A  ANOP                                                           31150000
.*                                                                      31200000
.*                                                                      31250000
.************************* EXECUTE FORM  ****************************** 31300000
.*                                                                      31350000
.*       PROCESS 1ST 4 FLAG BYTES                                       31400000
.*                                                             @G860P31 31450000
.********************************************************************** 31500000
.*                                                                      31550000
         MVI   43(1),&PLVER                 SET VERSION NUMBER     @T1P 31600000
         AIF   ('&QUIESCE' NE '').SDEX3     IS QUIESCE SPECIFIED        31650000
&SDFLAG0 SETA  &SDFLAG0-2                   NO, LEAVE AS SPECIFIED ON L 31700000
.*             SUBTRACT 2 TO REMOVE THE DEFAULTED QUIESCE=YES  @G860P31 31750000
.SDEX3   AIF   ('&SDFLAG0' EQ '0').SDEX3A   ANY OPTIONS TO TURN ON      31800000
         OI    0(1),&SDFLAG0                SET OPTION FLAGS            31850000
.SDEX3A  AIF   ('&BUFFER' EQ 'NO').SDEX4    BUFFER NOT REQUESTED        31900000
         AGO   .SDEX6                       GO CHECK FOR QUIESCE        31950000
.SDEX4   ANOP                                                           32000000
         NI    0(1),X'BF'                   TURN OFF BUFFER FLAG        32050000
.SDEX6   AIF   ('&QUIESCE' EQ 'NO').SDEX8   QUIESCE NOT REQUESTED       32100000
         AGO   .SDEX10                      GO SET SVC DUMP FLAG        32150000
.SDEX8   ANOP                                                           32200000
         NI    0(1),X'FD'                   TURN OFF QUIESCE FLAG       32250000
.SDEX10  ANOP                                                           32300000
         AIF  ('&SDFLAG1' EQ '0').SDEX11 ANY OPTIONS TO TURN ON         32350000
.*                                                             @G383P1U 32400000
         OI    1(1),&SDFLAG1                SET OPTION BITS             32450000
.SDEX11  ANOP                                                  @G33VPHD 32500000
         AIF   ('&SDATA' EQ '').SDEX12      IS SDATA OPTIONS SPECIFIED  32550000
         MVI   2(1),&SDATAF1                SET OPTION FLAGS            32600000
         MVI   3(1),&SDATAF2                SET OPTION FLAGS            32650000
         MVI   46(1),&SDAT3                 SET OPTION FLAGS            32675000
.*                                                                      32700000
.************************* EXECUTE FORM  ****************************** 32750000
.*                                                                      32800000
.*       PROCESS DCB OPTION                                             32850000
.*                                                             @G860P31 32900000
.********************************************************************** 32950000
.*                                                                      33000000
.SDEX12  AIF   ('&DCB' EQ '').SDEX15        IS DCB SPECIFIED            33050000
         IHBSETR   &DCB,0                   LOAD REG 0 WITH DCB ADDR    33100000
         ST    0,4(0,1)               ADDR OF DCB INTO PARAM LIST  @L3C 33150000
         AIF   ('&SYSASCE' EQ 'P').NOAR1                           @L3A 33200000
         STAM  0,0,60(1)              SAVE DCB ALET                @L3A 33250000
.NOAR1   ANOP                                                      @L3A 33300000
.SDEX15  ANOP                                                           33350000
.*                                                                      33400000
.************************* EXECUTE FORM  ****************************** 33450000
.*                                                                      33500000
.*       PROCESS LIST, LISTA, STORAGE OR LISTD OPTIONS                  33550000
.*                                                                 @L6C 33600000
.********************************************************************** 33650000
.*                                                                      33700000
         AIF   ('&LIST' EQ '').SDEX16       IS LIST SPECIFIED  @G383P1U 33750000
         IHBSETR   &LIST,0                  LOAD REG 0 WITH LIST ADDR   33800000
         ST    0,8(0,1)               ADDR OF LIST INTO PARAM LST  @L3C 33850000
         AIF   ('&SYSASCE' EQ 'P').NOAR2                           @L3A 33900000
         STAM  0,0,64(1)              SAVE LIST ALET               @L3A 33950000
.NOAR2   ANOP                                                      @L3A 34000000
         AGO   .SDEX23                      GO CHECK FOR LISTD     @L6C 34050000
.SDEX16  ANOP                LISTA OPTION PROCESSING           @G383P1U 34100000
         AIF   ('&LISTA' EQ '').SDEX20   IS LISTA SPECIFIED    @G383P1U 34150000
         IHBSETR    &LISTA,0      LOAD R0 WITH LISTA ADDRESS   @G383P1U 34200000
         ST    0,8(,1)            PUT LISTA ADDR IN PARM LIST      @L3C 34250000
         AIF   ('&SYSASCE' EQ 'P').NOAR3                           @L3A 34300000
         STAM  0,0,64(1)              SAVE LISTA ALET              @L3A 34350000
.NOAR3   ANOP                                                      @L3A 34400000
         AGO   .SDEX23            GO CHECK FOR LISTD               @L6C 34450000
.SDEX20  AIF   ('&STORAGE' EQ '').SDEX23    IS STORAGE SPECIFIED        34500000
         &LA   15,&DISP1.(,1)     NEW ADDRESS OF THE STORAGE LIST AT   *34550000
                                  THE END OF THE PARAMETER LIST POINTED*34600000
                                  TO BY MF=(E,PARM ADDRESS)        @L3C 34650000
         ST    15,8(,1)           PLACE NEW STORAGE LIST ADDRESS IN THE 34700000
.*                                PARAMETER LIST               @G860P31 34750000
         AIF   ('&SYSASCE' EQ 'P').NOAR4                           @L3A 34800000
         STAM  15,15,64(1)            SAVE STORAGE ALET            @L3A 34850000
.NOAR4   ANOP                                                      @L3A 34900000
&DISP    SETA  -4                 DISPLACEMENT OF ADDR IN STORAGE LIST  34950000
&CTR1    SETA  N'&STORAGE         NUMBER OF ADDRESSES SPECIFIED         35000000
&CTR2    SETA  0                  POSITION NUMBER OF ADDR WORKING ON    35050000
.LOOPC1  ANOP                                                           35100000
&DISP    SETA  &DISP+4                 DISP OF NEXT ADDR IN STORAGE LST 35150000
&CTR2    SETA  &CTR2+1                 POSITION NUMBER OF NEXT ADDRESS  35200000
         IHBSETR   &STORAGE(&CTR2),0   PUT STORAGE ADDRESS IN REG 0     35250000
         ST    0,&DISP.(0,15)          STORAGE ADDR INTO STORAGE LIST   35300000
&CTR1    SETA  &CTR1-1                 NUMBER OF REMAINING ADDRESSES    35350000
         AIF   (&CTR1 NE 0).LOOPC1   ANY MORE ADDRESSES                 35400000
         OI    &DISP.(15),X'80'      SET END OF LIST INDICATOR          35450000
.SDEX23  ANOP                        LISTD OPTION PROCESSING       @L6A 35455500
         AIF   ('&LISTD' EQ '').SDEX25   IS LISTD SPECIFIED        @L6A 35461000
         IHBSETR    &LISTD,0      LOAD R0 WITH LISTD ADDRESS       @L6A 35466500
         ST    0,88(,1)          PUT LISTD ADDR IN PARM LIST       @L6A 35472000
         AIF   ('&SYSASCE' EQ 'P').NOAR4C                          @L6A 35477500
         STAM  0,0,92(1)              SAVE LISTD ALET              @L6A 35483000
.NOAR4C  ANOP                                                      @L6A 35488500
         AGO   .SDEX25            GO CHECK FOR USER PARAMETERS     @L6A 35494000
.*                                                                      35500000
.************************* EXECUTE FORM  ****************************** 35550000
.*                                                                      35600000
.*       PROCESS USER DATA, HDR OR HDRAD                                35650000
.*                                                             @G860P31 35700000
.********************************************************************** 35750000
.*                                                                      35800000
.SDEX25  AIF   ('&HDRAD' EQ '').SDEX30      IS HDRAD SPECIFIED          35850000
         IHBSETR   &HDRAD,0                 LOAD REG0 WITH HDR RCD ADDR 35900000
         ST    0,12(0,1)              ADDR OF HDRAD INTO LIST      @L3C 35950000
         AIF   ('&SYSASCE' EQ 'P').NOAR5                           @L3A 36000000
         STAM  0,0,68(1)              SAVE HDRAD ALET              @L3A 36050000
.NOAR5   ANOP                                                      @L3A 36100000
         AGO   .SDEX35                      GO CHECK FOR ECB            36150000
.SDEX30  AIF   ('&HDR' EQ '').SDEX35        IS HDR SPECIFIED            36200000
&GNAME   SETC  'IHB'.'&SYSNDX'              GET A UNIQUE SYMBOL         36250000
         BAL   15,&GNAME                    BRANCH AROUND USER DATA     36300000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         36350000
         DC    AL1(&CTR1)                   LENGTH OF USER DATA         36400000
         DC    C&HDR                        USER DATA                   36450000
.*       CNOP  2,4                                                      36500000
&GNAME   DS    0H                                                       36550000
         ST    15,12(0,1)             ADDR OF HEADER INTO LIST     @L3C 36600000
         AIF   ('&SYSASCE' EQ 'P').NOAR6                           @L3A 36650000
         SLR   15,15                  STORAGE IS IN PRIMARY        @L3A 36700000
         ST    15,68(0,1)             SAVE HDR ALET                @01C 36750000
.NOAR6   ANOP                                                      @L3A 36800000
.*                                                                      36850000
.************************* EXECUTE FORM  ****************************** 36900000
.*                                                                      36950000
.*       PROCESS ECB OPTION                                             37000000
.*                                                             @G860P31 37050000
.********************************************************************** 37100000
.*                                                                      37150000
.SDEX35  AIF   ('&ECB' EQ '').SDEX38        IS ECB SPECIFIED       @L4C 37187500
         AIF   (N'&ECB GT 1).SDEX37B IS MORE THAN 1 PARM PRESENT   @L8A 37225000
         AIF   ('&ECB'(1,1) EQ '(').SDEX37A IS ECB ADDR IN A REG   @L8C 37262500
         L     15,&ECB                      ADDRESS OF ECB              37300000
         ST    15,16(0,1)             ADDR OF ECB INTO PARAM LIST  @L3C 37350000
         AGO   .SDEX40                      GO CHECK FOR ASID           37400000
.SDEX37A ST    &ECB(1),16(0,1)        ADDR OF ECB INTO PARAM LIST  @L8C 37415000
         AGO   .SDEX40                      GO CHECK FOR ASID      @L8A 37430000
.SDEX37B AIF   ('&ECB(1)'(1,1) EQ '(').SDEX37C IS THE ADDRESS OF THE   X37445000
               ECB IN A REGISTER                                   @L8A 37460000
         L     15,&ECB(1)                   ADDRESS OF ECB         @L8A 37475000
         ST    15,16(0,1)             ADDR OF ECB INTO PARAM LIST  @L8A 37490000
         AGO   .SDEX40                      GO CHECK FOR ASID      @L8A 37505000
.SDEX37C ST    &ECB(1,1),16(0,1)      ADDR OF ECB INTO PARAM LIST  @L8A 37520000
         AGO   .SDEX40                      GO CHECK FOR ASID      @L8A 37535000
.*                                                                      37550000
.************************* EXECUTE FORM  ****************************** 37600000
.*                                                                      37650000
.*       PROCESS SRB OPTION                                             37653300
.*                                                                 @L4A 37656600
.********************************************************************** 37659900
.*                                                                 @L4A 37663200
.SDEX38  AIF   ('&SRB' EQ '').SDEX40        IS SRB SPECIFIED       @L4A 37666500
         AIF   (N'&SRB GT 1).SDEX39B IS MORE THAN 1 PARM PRESENT   @L8A 37668700
         AIF   ('&SRB'(1,1) EQ '(').SDEX39A   IS SRB ADDR IN A REG @L8C 37670900
         L     15,&SRB                      ADDRESS OF SRB         @L4A 37673100
         ST    15,16(0,1)             ADDR OF SRB INTO PARAM LIST  @L4A 37676400
         AGO   .SDEX40                      GO CHECK FOR ASID      @L4A 37679700
.SDEX39A ST    &SRB(1),16(0,1)        ADDR OF SRB INTO PARAM LIST  @L8C 37680800
         AGO   .SDEX40                      GO CHECK FOR ASID      @L8A 37681900
.SDEX39B AIF   ('&SRB(1)'(1,1) EQ '(').SDEX39C IS THE ADDRESS OF THE   X37683000
               SRB IN A REGISTER                                   @L8A 37684100
         L     15,&SRB(1)                   ADDRESS OF SRB         @L8A 37685200
         ST    15,16(0,1)             ADDR OF SRB INTO PARAM LIST  @L8A 37686300
         AGO   .SDEX40                      GO CHECK FOR ASID      @L8A 37687400
.SDEX39C ST    &SRB(1,1),16(0,1)      ADDR OF SRB INTO PARAM LIST  @L8A 37688500
.*                                                                 @L4A 37689600
.************************* EXECUTE FORM  ****************************** 37692900
.*                                                                      37696200
.*       PROCESS ASID OR ASIDLST OPTION                                 37700000
.*                                                             @G860P31 37750000
.********************************************************************** 37800000
.*                                                                      37850000
.SDEX40  AIF   ('&ASID' EQ '').SDEX45       IS ASID SPECIFIED           37900000
         AIF   ('&ASID'(1,1) EQ '(').SDEX42 IS ASID IN A REGISTER       37950000
         LH    0,&ASID                      ASID OF MEMORY TO BE DUMPED 38000000
         STH   0,22(0,1)              ASID INTO PARAMETER LIST     @L3C 38050000
         AGO   .SDEX47                  GO CHECK FOR SUMLIST   @GXXXPXX 38100000
.*                                                             @G33VPHD 38150000
.SDEX42  ANOP                                                           38200000
         STH   &ASID,22(0,1)          ASID INTO PARAMETER LIST     @L3C 38250000
         AGO   .SDEX47                      GO CHECK FOR SUMLIST        38300000
.*                                                             @G33VPHD 38350000
.SDEX45  AIF   ('&ASIDLST' EQ '').SDEX47 IF ASIDLIST SPECIFIED          38400000
.*                                                             @G33VPHD 38450000
         IHBSETR   &ASIDLST,0           LOAD REG 0 WITH ASIDLIST ADDR   38500000
.*                                                             @G33VPHD 38550000
         ST    0,24(0,1)                ADDR ASIDLIST INTO PARM LIST *  38600000
         AIF   ('&SYSASCE' EQ 'P').NOAR7                           @L3A 38650000
         STAM  0,0,72(1)              SAVE ASIDLST ALET            @L3A 38700000
.NOAR7   ANOP                                                      @L3A 38750000
.*                                                                      38800000
.************************* EXECUTE FORM  ****************************** 38850000
.*                                                                      38900000
.*       PROCESS SUMLIST, SUMLSTA OR SUMLSTL OPTION                     38950000
.*                                                             @G860P31 39000000
.********************************************************************** 39050000
.*                                                                      39100000
.SDEX47  AIF   ('&SUMLIST' EQ '').SDEX48 IF SUMLIST SPECIFIED  @G383P1U 39150000
         IHBSETR   &SUMLIST,0           LOAD REG 0 WITH SUMLIST ADDR    39200000
.*                                                             @G33VPHD 39250000
         ST    0,28(0,1)                ADDR SUMLIST IN PARM LIST  @L3C 39300000
         AIF   ('&SYSASCE' EQ 'P').NOAR8A                          @L3A 39350000
         STAM  0,0,76(1)              SAVE SUMLIST ALET            @L3A 39400000
.NOAR8A  ANOP                                                      @L3A 39450000
.SDEX48  ANOP                                                  @G383P1U 39500000
         AIF   ('&SUMLSTA' EQ '').SDEX48L IS SUMLSTA SPECIFIED @G383P1U 39550000
         IHBSETR    &SUMLSTA,0    LOAD R0 WITH SUMLSTA ADDRESS @G383P1U 39600000
         ST    0,28(0,1)         MOVE SUMLSTA ADDR TO PARMLIST     @L3C 39650000
         AIF   ('&SYSASCE' EQ 'P').NOAR8                           @L3A 39700000
         STAM  0,0,76(1)              SAVE SUMLSTA ALET            @L3A 39750000
.NOAR8   ANOP                                                      @L3A 39800000
.SDEX48L ANOP                                                      @L5A 39806200
         AIF   ('&SUMLSTL' EQ '').SDEX48A IS SUMLSTL SPECIFIED     @L5A 39812400
         IHBSETR    &SUMLSTL,0    LOAD R0 WITH SUMLSTL ADDRESS     @L5A 39818600
         ST    0,96(0,1)         MOVE SUMLSTL ADDR TO PARMLIST     @L5A 39824800
         AIF   ('&SYSASCE' EQ 'P').NOARL                           @L5A 39831000
         STAM 0,0,100(1)             SAVE SUMLSTL ALET             @L5A 39837200
.NOARL   ANOP                                                      @L5A 39843400
.*                                                                      39850000
.************************* EXECUTE FORM  ****************************** 39900000
.*                                                                      39950000
.*       PROCESS FLAG BYTES FOR SDFLAG2, TYPE OPTION, AND EXITS.        40000000
.*                                                             @G860P31 40050000
.********************************************************************** 40100000
.*                                                                      40150000
.SDEX48A AIF   ('&SDFLAG2' EQ '0').SDEX48B  ANY FLAG2 FIELDS   @G383P1U 40200000
         OI    40(1),&SDFLAG2    SET OPTION FLAGS              @G383P1U 40250000
.SDEX48B AIF   ('&SDCNTL1' EQ '0').SDEX48C  ANY CNTL OPTIONS   @G860P31 40300000
         OI    41(1),&SDCNTL1               SET CONTROL FLAGS  @G860P31 40350000
.SDEX48C AIF   ('&SDTYPF1' EQ '0').SDEX48D  ANY TYPE OPTIONS   @G383P1U 40400000
         OI    42(1),&SDTYPF1               SET TYPE FLAGS     @G383P1U 40450000
.SDEX48D AIF   ('&SDATAF3' EQ '0').SDEX48E  ANY EXIT OPTIONS   @G383P1U 40500000
         OI    44(1),&SDATAF3               SET EXIT FLAGS     @G383P1U 40550000
.SDEX48E AIF   ('&SDATAF4' EQ '0').SDEX48F  ANY EXIT OPTIONS       @LEA 40566600
         OI    45(1),&SDATAF4               SET EXIT FLAGS         @LEA 40583200
.*                                                                      40600000
.************************* EXECUTE FORM  ****************************** 40650000
.*                                                                      40700000
.*       PROCESS  SUBPLST  AND  KEYLIST  OPTIONS.                       40750000
.*                                                             @G860P31 40800000
.********************************************************************** 40850000
.*                                                                      40900000
.SDEX48F AIF   (&SDSPLST EQ 0).SDEXM00 IS SUBPLST SPECIFIED        @LEC 40950000
         IHBSETR &SUBPLST,0           LOAD SUBPLST ADDRESS     @G860P31 41000000
         ST    0,48(0,1)                    STORE SUBPLST ADDR     @L3C 41050000
         AIF   ('&SYSASCE' EQ 'P').NOAR9                           @L3A 41100000
         STAM  0,0,80(1)              SAVE SUBPLST ALET            @L3A 41150000
.NOAR9   ANOP                                                      @L3A 41200000
         AIF   (&SDKYLST EQ 0).SDEXM00 IS KEYLIST SPECIFIED        @T1P 41250000
         IHBSETR &KEYLIST,0           LOAD KEYLIST ADDRESS     @G860P31 41300000
         ST    0,52(0,1)              STORE KEYLIST ADDRESS        @L3C 41350000
         AIF   ('&SYSASCE' EQ 'P').NOAR10                          @L3A 41400000
         STAM  0,0,84(1)              SAVE KEYLIST ALET            @L3A 41450000
.NOAR10  ANOP                                                      @L3A 41500000
.*                                                                      41550000
.************************* EXECUTE FORM  ****************************** 41600000
.*                                                                      41650000
.*       PROCESS  PSWREGS OPTION                                        41650800
.*                                                                 @T1P 41651600
.********************************************************************** 41652400
.*                                                                      41653200
.SDEXM00 AIF   (&SDPREG EQ 0).SDEXM01 IS PSWREGS SPECIFIED         @T1P 41654000
         IHBSETR &PSWREGS,0           LOAD PSWREGS ADDRESS         @T1P 41654800
         ST    0,104(,1)                    STORE PSWREGS ADDR     @T1P 41655600
         AIF   ('&SYSASCE' EQ 'P').NOAR22                          @T3A 41656400
         STAM  0,0,108(1)                   SAVE PSWREGS ALET      @T3A 41657200
.NOAR22  ANOP                                                      @T3A 41658000
.*                                                                      41658800
.************************* EXECUTE FORM  ****************************** 41659600
.*                                                                      41660400
.*       PROCESS  SYMREC OPTION                                         41661200
.*                                                                 @T1P 41662000
.********************************************************************** 41662800
.*                                                                      41663600
.SDEXM01 AIF   (&SDSRS EQ 0).SDEXM02  IS SYMREC SPECIFIED          @T1P 41664400
         IHBSETR &SYMREC,0            LOAD SYMREC ADDRESS          @T1P 41665200
         ST    0,112(,1)                    STORE SYMREC ADDR      @T1P 41666000
         AIF   ('&SYSASCE' EQ 'P').NOAR23                          @T3A 41666800
         STAM  0,0,116(1)                   SAVE SYMREC ALET       @T3A 41667600
.NOAR23  ANOP                                                      @T3A 41668400
.*                                                                      41669200
.************************* EXECUTE FORM  ****************************** 41670000
.*                                                                      41670800
.*       PROCESS ID/IDAD                                                41671600
.*                                                                 @T1P 41672400
.********************************************************************** 41673200
.*                                                                      41674000
.SDEXM02 AIF   ('&IDAD' EQ '').SDEXM03      IS IDAD SPECIFIED      @T1P 41674800
         IHBSETR   &IDAD,0                  GET ADDRESS OF ID      @T1P 41675600
         ST    0,120(0,1)                   SAVE IDAD INTO LIST    @T1P 41676400
         AIF   ('&SYSASCE' EQ 'P').NOAR24                          @T3A 41677200
         STAM  0,0,124(1)                   SAVE IDAD ALET         @T3A 41678000
.NOAR24  ANOP                                                      @T3A 41678800
         AGO   .SDEXM04                     CHECK FURTHER          @T1P 41679600
.SDEXM03 AIF   ('&ID' EQ '').SDEXM04        IS ID SPECIFIED        @T1P 41680400
&GNAME   SETC  'IHB'.'&SYSNDX.'.'A'         GET A UNIQUE SYMBOL    @T1P 41681200
         BAL   15,&GNAME                    BRANCH AROUND DATA     @T1P 41682000
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1P 41682800
&TEMP    SETC  'IHB'.'&SYSNDX.'.'I'                                @T1P 41683600
&TEMP    DC    AL1(&CTR1)                   LENGTH OF ID           @T1P 41684400
         DC    C&ID                         ID                     @T1P 41685200
&GNAME   DS    0H                                                  @T1P 41686000
         ST    15,120(0,1)                  SAVE IDAD INTO LIST    @T1P 41686800
         AIF   ('&SYSASCE' EQ 'P').NOAR25                          @T3A 41687600
         SLR   15,15                        STORAGE IS IN PRIMARY  @T3A 41688400
         ST    15,124(,1)                   SAVE ID ALET           @T3A 41689200
.NOAR25  ANOP                                                      @T3A 41690000
.*                                                                      41691600
.************************* EXECUTE FORM  ****************************** 41691700
.*                                                                      41691800
.*       PROCESS STRLIST                                                41691900
.*                                                                 @LBA 41692000
.********************************************************************** 41692100
.*                                                                      41692200
.SDEXM04 ANOP                                                      @T1P 41692300
         AIF   ('&STRLIST' EQ '').SDEXM05  IS STRLIST SPECIFIED    @LBA 41692400
         IHBSETR    &STRLIST,0             LOAD R0 W/ STRLIST ADDR @LBA 41692500
         ST    0,128(,1)               STRLIST ADDR INTO PARM LIST @LBA 41692600
         AIF   ('&SYSASCE' EQ 'P').NOAR29                               41692700
         STAM  0,0,132(1)                  SAVE STRLIST ALET       @LBA 41692800
.NOAR29  ANOP                                                      @LBA 41692900
.*                                                                      41693000
.SDEXM05 ANOP                                                      @LBA 41693100
.************************* EXECUTE FORM  ****************************** 41693800
.*                                                                      41694500
.*       PROCESS INTOKEN                                                41695200
.*                                                                 @LCA 41695900
.********************************************************************** 41696600
.*                                                                      41697300
         AIF   ('&INTOKEN' EQ '').SDEXM06  IS INTOKEN SPECIFIED    @LCA 41698000
         IHBSETR    &INTOKEN,0             LOAD R0 W/ INTOKEN ADDR @LCA 41698700
         ST    0,136(,1)               INTOKEN ADDR INTO PARM LIST @LCA 41699400
         AIF   ('&SYSASCE' EQ 'P').NOAR31                          @LCA 41700100
         STAM  0,0,140(1)                  SAVE INTOKEN ALET       @LCA 41700800
.NOAR31  ANOP                                                      @LCA 41701500
.*                                                                      41702200
.SDEXM06 ANOP                                                      @LCA 41702900
.*                                                                      41703600
.************************* EXECUTE FORM  ****************************** 41704300
.*                                                                      41705000
.*       PROCESS REMOTE                                                 41705700
.*                                                                 @LCA 41706400
.********************************************************************** 41707100
.*                                                                      41707800
         AIF   ('&REMOTE' EQ '').SDEXM07   IS REMOTE SPECIFIED     @LCA 41708500
         IHBSETR    &REMOTE,0              LOAD R0 W/ REMOTE ADDR  @LCA 41709200
         ST    0,144(,1)               REMOTE ADDR INTO PARM LIST  @LCA 41709900
         AIF   ('&SYSASCE' EQ 'P').NOAR33                          @LCA 41710600
         STAM  0,0,148(1)                  SAVE REMOTE ALET        @LCA 41711300
.NOAR33  ANOP                                                      @LCA 41712000
.*                                                                      41712700
.SDEXM07 ANOP                                                      @LCA 41713400
.*                                                                      41714100
.************************* EXECUTE FORM  ****************************** 41714800
.*                                                                      41715500
.*       PROCESS PROBDESC                                               41716200
.*                                                                 @LCA 41716900
.********************************************************************** 41717600
.*                                                                      41718300
         AIF   ('&PROBDESC' EQ '').SDEXM08 IS PROBDESC SPECIFIED   @LCA 41719000
         IHBSETR    &PROBDESC,0          LOAD R0 W/ PROBDESC ADDR  @LCA 41719700
         ST    0,152(,1)              PROBDESC ADDR INTO PARM LIST @LCA 41720400
         AIF   ('&SYSASCE' EQ 'P').NOAR35                          @LCA 41721100
         STAM  0,0,156(1)                  SAVE PROBDESC ALET      @LCA 41721800
.NOAR35  ANOP                                                      @LCA 41722500
.*                                                                      41723200
.SDEXM08 ANOP                                                      @LCA 41723900
.*                                                                      41724600
.************************* EXECUTE FORM  ****************************** 41725300
.*                                                                      41726000
.*       PROCESS JOBLIST                                                41726700
.*                                                                 @LCA 41727400
.********************************************************************** 41728100
.*                                                                      41728800
         AIF   ('&JOBLIST' EQ '').SDEXM09  IS JOBLIST SPECIFIED    @LCA 41729500
         IHBSETR    &JOBLIST,0             LOAD R0 W/ JOBLIST ADDR @LCA 41730200
         ST    0,160(,1)               JOBLIST ADDR INTO PARM LIST @LCA 41730900
         AIF   ('&SYSASCE' EQ 'P').NOAR37                          @LCA 41731600
         STAM  0,0,164(1)                  SAVE JOBLIST ALET       @LCA 41732300
.NOAR37  ANOP                                                      @LCA 41733000
.*                                                                      41733700
.SDEXM09 ANOP                                                      @LCA 41734400
.*                                                                      41735100
.************************* EXECUTE FORM  ****************************** 41735800
.*                                                                      41736500
.*       PROCESS DSPLIST                                                41737200
.*                                                                 @LCA 41737900
.********************************************************************** 41738600
.*                                                                      41739300
         AIF   ('&DSPLIST' EQ '').SDEXM10  IS DSPLIST SPECIFIED    @LCA 41740000
         IHBSETR    &DSPLIST,0             LOAD R0 W/ DSPLIST ADDR @LCA 41740700
         ST    0,168(,1)               DSPLIST ADDR INTO PARM LIST @LCA 41741400
         AIF   ('&SYSASCE' EQ 'P').NOAR39                          @LCA 41742100
         STAM  0,0,172(1)                  SAVE DSPLIST ALET       @LCA 41742800
.NOAR39  ANOP                                                      @LCA 41743500
.*                                                                      41744200
.SDEXM10 ANOP                                                      @LCA 41744900
.*                                                                      41745600
.************************* EXECUTE FORM  ****************************** 41746300
.*                                                                      41747000
.*       CLOSE OUT THE EXECUTE FORM EXPANSION.                          41747700
.*                                                             @G860P31 41750000
.********************************************************************** 41800000
.*                                                                      41850000
.SDEX49  ANOP                                                  @G383P1U 41900000
         AIF   ('&BRANCH' EQ 'YES').SDEX50  IS A BRANCH ENTRY  @G383P1U 41950000
         SVC   51                           INVOKE SVC DUMP VIA SVC     42000000
         AGO   .SDEND                       GO END MACRO PROCESSING     42050000
.SDEX50  ANOP                                                           42100000
         L     15,CVTPTR(0,0)               ADDRESS OF CVT       YM1995 42150000
         L     15,CVTSDMP-CVTMAP(15,0)  ADDRESS OF SVC DUMP ENTRYYM1995 42200000
         BALR  14,15                        INVOKE SVC DUMP VIA BAL     42250000
         AGO   .SDEND                       GO END MACRO PROCESSING     42300000
.*                                                                      42350000
.*                                                                      42400000
.*                                                                      42450000
.************************ LIST FORM *********************************** 42500000
.*                                                                      42550000
.*       LIST FORM EXPANSION BEGINS HERE                                42600000
.*                                                             @G860P31 42650000
.********************************************************************** 42700000
.*                                                                      42750000
.*                                                                      42800000
.*                                                                      42850000
.LSTFORM ANOP                                                           42900000
&NAME    DS    0F                           SDUMP PARAMETER LIST        42950000
.*                                                                      43000000
.************************ LIST FORM *********************************** 43050000
.*                                                                      43100000
.*       PROCESS 1ST 4 FLAG BYTES  AND  DCB                             43150000
.*                                                             @G860P31 43200000
.********************************************************************** 43250000
.*                                                                      43300000
         DC    AL1(&SDFLAG0)                FLAG BYTE                   43350000
         DC    AL1(&SDFLAG1)                FLAG BYTE                   43400000
         DC    AL1(&SDATAF1)                FLAG BYTE                   43450000
         DC    AL1(&SDATAF2)                FLAG BYTE                   43500000
         AIF   ('&DCB' EQ '').SDLST10       IS DCB SPECIFIED            43550000
         AIF   ('&DCB'(1,1) EQ '(').MESG1   IS DCB ADDRESS IN A REG     43600000
         DC    A(&DCB)                      ADDRESS OF DCB              43650000
         AGO   .SDLST15                     GO CHECK FOR STORAGE ADDR   43700000
.SDLST10 ANOP                                                           43750000
         DC    A(0)                         ADDRESS OF DCB              43800000
.*                                                                      43850000
.************************ LIST FORM *********************************** 43900000
.*                                                                      43950000
.*       PROCESS STORAGE, LIST OR LISTA OPTION.                         44000000
.*                                                             @G860P31 44050000
.********************************************************************** 44100000
.*                                                                      44150000
.SDLST15 AIF   ('&SDSTOR' NE '0').SDLST16   STORAGE/LIST SPEC @G383P1U  44200000
         AIF   ('&LISTA' EQ '').SDLST24     IS LISTA SPECIFIED @G383P1U 44250000
         AIF   ('&LISTA'(1,1) EQ '(').MESG1  CHECK FOR R FORM  @G383P1U 44300000
         DC    A(&LISTA)               ADDRESS OF STORAGE LIST @G383P1U 44350000
         AGO   .SDLST25                     LISTA OPTION DONE  @G383P1U 44400000
.SDLST16 AIF   ('&LIST' EQ '').SDLST20      IS LIST SPECIFIED           44450000
         AIF   ('&LIST'(1,1) EQ '(').MESG1  IS LIST ADDRESS IN A REG    44500000
         DC    A(&LIST)                     ADDRESS OF STORAGE LIST     44550000
         AGO   .SDLST25                     GO CHECK FOR USER DATA      44600000
.SDLST20 ANOP                               STORAGE SPECIFIED  @G860P31 44650000
         DC    A(*-8+&DISP1)        ADDRESS OF STORAGE LIST    @G860P31 44700000
.*             (*-8) POINTS TO THE FRONT OF THE PARAMETER LIST @G860P31 44750000
.*             DISP1 IS THE OFFSET TO THE END OF THE PARAMETER @G860P31 44800000
.*             LIST, WHICH IS WHERE THE STORAGE ADDRESSES ARE  @G860P31 44850000
.*             BUILT INTO THE PARAMETER LIST.                  @G860P31 44900000
         AGO   .SDLST25                SKIP NULL DECLARE       @G383P1U 44950000
.SDLST24 ANOP                                                           45000000
         DC    A(0)                         ADDRESS OF STORAGE LIST     45050000
.*                                                                      45100000
.************************ LIST FORM *********************************** 45150000
.*                                                                      45200000
.*       PROCESS USER DATA, HDR OR HDRAD OPTION.                        45250000
.*                                                             @G860P31 45300000
.********************************************************************** 45350000
.*                                                                      45400000
.SDLST25 ANOP                                                           45450000
         AIF   ('&SDHDR' EQ '0').SDLST38    IS USER DATA SPECIFIED      45500000
         AIF   ('&HDRAD' NE '').SDLST35     IS HDRAD SPECIFIED          45550000
         DC    A(*-12+&DISP2)               HDR ADDRESS        @G860P31 45600000
.*             (*-12) IS THE ADDRESS OF THE BEGINNING OF THE   @G860P31 45650000
.*             DISP2 IS THE OFFSET OF THE USER DATA (HDR) FROM @G860P31 45700000
.*             THE BEGINNING OF THE PARAMETER LIST.  DISP2     @G860P31 45750000
.*             IS EQUAL TO THE LENGTH OF THE FIXED PART OF THE @G860P31 45800000
.*             PARAMETER LIST PLUS THE LENGTH OF THE STORAGE   @G860P31 45850000
.*             ADDRESS LIST.                                   @G860P31 45900000
         AGO   .SDLST40                     GO DEFINE REST OF PARAM LST 45950000
.SDLST35 AIF   ('&HDRAD'(1,1) EQ '(').MESG1 IS ADDR OF USER DATA IN REG 46000000
         DC    A(&HDRAD)                    ADDRESS OF USER DATA        46050000
         AGO   .SDLST40                     GO DEFINE REST OF PARAM LST 46100000
.SDLST38 ANOP                                                           46150000
         DC    A(0)                         ADDRESS OF USER DATA        46200000
.*                                                                      46250000
.************************ LIST FORM *********************************** 46300000
.*                                                                      46350000
.*       SAVE SPOTS FOR ECB/SRB, ASID, AND ASIDLST.  THESE OPTIONS ARE  46400000
.*       NOT ALLOWED ON THE LIST FORM.                                  46450000
.*                                                                 @L4C 46453800
.********************************************************************** 46457600
.*                                                                      46461400
.SDLST40 ANOP                                                           46465200
         DC    A(0)                         ADDRESS OF ECB/SRB     @L4C 46469000
         DC    AL2(0)                       CURRENT ASID                46472800
         DC    AL2(0)                       OTHER ASID                  46476600
         DC    A(0)                         ADDRESS OF ASID LIST        46480400
.*                                                                      46484200
.************************ LIST FORM *********************************** 46488000
.*                                                                      46491800
.*       PROCESS SUMLIST OR SUMLSTA OPTION                              46495600
.*                                                             @G860P31 46500000
.********************************************************************** 46550000
.*                                                                      46600000
         AIF   (&SDSUMLT EQ 0).SDLST45 IF SUMLIST NO SPECIFIED @G383P1U 47250000
         AIF   ('&SUMLIST'(1,1) EQ '(').MESG1 REGISTER INVALID @G383P1U 47300000
         DC    A(&SUMLIST)                 ADDRESS OF SUMLIST  @G383P1U 47350000
         AGO   .SDLST50                                        @G383P1U 47400000
.SDLST45 ANOP                                                  @G383P1U 47450000
         AIF   (&SDSMLTA EQ 0).SDLST49 IF SUMLSTA NO SPECIFIED @G383P1U 47500000
         AIF   ('&SUMLSTA'(1,1) EQ '(').MESG1 REGISTER INVALID @G383P1U 47550000
         DC    A(&SUMLSTA)                  ADDRESS OF SUMLSTA @G383P1U 47600000
         AGO   .SDLST50                                        @G383P1U 47650000
.SDLST49 ANOP                                                  @G383P1U 47700000
         DC    A(0)           ADDRESS OF SUMLIST/SUMLSTA LIST  @G383P1U 47750000
.*                                                                      47800000
.************************ LIST FORM *********************************** 47850000
.*                                                                      47900000
.*       2 WORDS RESERVED FOR SLIP AND SYSMDUMP PURPOSES.               47950000
.*                                                             @G860P31 48000000
.********************************************************************** 48050000
.*                                                                      48100000
.SDLST50 ANOP                                                           48150000
         DC    A(0)                      RESERVED              @G33VPHD 48200000
         DC    A(0)                      RESERVED              @G33VPHD 48250000
         DC    AL1(&SDFLAG2)             FLAG BYTE             @G383P1U 48300000
         DC    AL1(&SDCNTL1)             CONTROL FLAG BYTE     @G860P31 48350000
         DC    AL1(&SDTYPF1)             TYPE FLAG BYTE        @G383P1U 48400000
         DC    AL1(&PLVER.)              VERSION                   @T1P 48450000
         DC    AL1(&SDATAF3)             EXIT FLAG BYTE        @G383P1U 48500000
         DC    AL1(&SDATAF4)             EXIT FLAG BYTE            @LEC 48525000
         DC    AL1(&SDAT3)               SDATA OPTIONS             @T1P 48550000
         DC    AL1(0)                    RESERVED SDATA OPTIONS    @T1P 48575000
         AIF   (&SDSPLST  EQ  0).SDLST55 CHECK FOR SUBPLST     @G860P31 48600000
         AIF   ('&SUBPLST'(1,1) EQ '(').MESG1 REG FORM INVALID @G860P31 48650000
         DC    A(&SUBPLST)               ADDRESS OF SUBPLST    @G860P31 48700000
         AIF   (&SDKYLST  EQ  0).SDLST56 CHECK FOR KEYLIST     @G860P31 48750000
         AIF   ('&KEYLIST'(1,1) EQ '(').MESG1 REG FORM INVALID @G860P31 48800000
         DC    A(&KEYLIST)               ADDRESS OF KEYLIST    @G860P31 48850000
         AGO   .SDLST57                  SKIP NEXT 2 DC STMTS  @G860P31 48900000
.SDLST55 ANOP                           FILL IN RESERVED SLOTS @G860P31 48950000
         DC    A(0)                      ADDRESS OF SUBPLST    @G860P31 49000000
.SDLST56 ANOP                           FILL IN RESERVED SLOTS @G860P31 49050000
         DC    A(0)                      ADDRESS OF KEYLIST    @G860P31 49100000
.SDLST57 ANOP                           FILL IN RESERVED SLOTS @G860P31 49150000
         DC    A(0)                      RESERVED                  @T1P 49200000
.*                                       RESERVED FOR SLIP              49250000
         DC    A(0)                      ALET OF DCB PARAMETER     @L3A 49300000
         DC    A(0)                      ALET OF STORAGE PARAM     @L3A 49350000
         DC    A(0)                      ALET OF HDR PARAMETER     @L3A 49400000
         DC    A(0)                      ALET OF ASIDLST PARAM     @L3A 49450000
         DC    A(0)                      ALET OF SUMLIST PARAM     @L3A 49500000
         DC    A(0)                      ALET OF SUBPLST PARAM     @L3A 49550000
         DC    A(0)                      ALET OF KEYLIST PARAM     @L3A 49600000
.*                                                                      49700000
.************************ LIST FORM *********************************** 49750000
.*                                                                      49800000
.*       PROCESS LISTD OPTION                                           49801500
.*                                                                 @L6A 49803000
.********************************************************************** 49804500
.*                                                                      49806000
         AIF   ('&LISTD' EQ '').SDLT57A     IS LISTD SPECIFIED     @L6A 49807500
         AIF   ('&LISTD'(1,1) EQ '(').MESG1  CHECK FOR R FORM      @L6A 49809000
         DC    A(&LISTD)                 ADDRESS OF LISTD          @L6A 49810500
         AGO   .SDLT57B                     LISTD OPTION DONE      @L6A 49812000
.SDLT57A ANOP                                                      @L6A 49813500
         DC    A(0)                      ADDRESS FOR LISTD         @L6C 49815000
.SDLT57B ANOP                                                      @L6A 49816500
         DC    A(0)                      ALET OF LISTD PARAM       @L5A 49818000
.*                                                                      49819500
.************************ LIST FORM *********************************** 49821000
.*                                                                      49822500
.*       PROCESS THE SUMLSTL KEYWORD OPTION                             49824000
.*                                                                 @L5A 49825500
.********************************************************************** 49827000
.*                                                                      49828500
.SDLST58 ANOP                                                      @L5A 49830000
         AIF   (&SDSMLTL EQ 0).SDLT58L IF SUMLSTA NO SPECIFIED     @L5A 49831500
         AIF   ('&SUMLSTL'(1,1) EQ '(').MESG1 REGISTER INVALID     @L5A 49833000
         DC    A(&SUMLSTL)               ADDRESS OF SUMLSTL        @L5A 49834500
         AGO   .SDLT58A                                            @L5A 49836000
.SDLT58L ANOP                                                      @L5A 49837500
         DC    A(0)                      ADDRESS OF SUMLSTL        @L5A 49839000
.SDLT58A ANOP                                                      @L5A 49840500
         DC    A(0)                      ALET FOR SUMLSTL PARAM    @L5A 49842000
         AIF   ('&PLVER' EQ '2').PLVER2A                           @T3M 49842100
         AIF   ('&PLVER' EQ '3').PLVER2A                           @LBA 49842200
         DC    2A(0)                     RESERVED                  @T1P 49842300
         AGO   .PLVER2B                                            @T1P 49842400
.PLVER2A ANOP                                                      @T1P 49842500
         AIF   (&SDPREG  EQ  0).SDLST61 CHECK FOR PSWREGS          @T1P 49842600
         AIF   ('&PSWREGS'(1,1) EQ '(').MESG1 REG FORM INVALID     @T1P 49842700
         DC    A(&PSWREGS)               ADDRESS OF PSWREGS        @T1P 49842800
         DC    A(0)                      ALET OF PSWREGS           @T1P 49842900
         AGO   .SDLST62                  SKIP NEXT DC STMT         @T1P 49843000
.SDLST61 ANOP                            FILL IN RESERVED SLOTS    @T1P 49843100
         DC    A(0)                      ADDRESS OF PSWREGS        @T1P 49843200
         DC    A(0)                      ALET OF PSWREGS           @T1P 49843300
.SDLST62 ANOP                            END OF PSWREGS            @T1P 49843400
         AIF   (&SDSRS EQ  0).SDLST63 CHECK FOR SYMREC             @T1P 49843500
         AIF   ('&SYMREC'(1,1) EQ '(').MESG1 REG FORM INVALID      @T1P 49843600
         DC    A(&SYMREC)                ADDRESS OF SYMREC         @T1P 49843700
         DC    A(0)                      ALET OF SYMREC            @T1P 49843800
         AGO   .SDLST64                  SKIP NEXT DC STMT         @T1P 49843900
.SDLST63 ANOP                            FILL IN RESERVED SLOTS    @T1P 49844000
         DC    A(0)                      ADDRESS OF SYMREC         @T1P 49844100
         DC    A(0)                      ALET OF SYMREC            @T1P 49844200
.SDLST64 ANOP                            END OF SYMREC             @T1P 49844300
         AIF   (&SDIDAD  EQ  0).SDLST65 CHECK FOR IDAD             @T1P 49844400
         AIF   ('&IDAD'(1,1) EQ '(').MESG1 REG FORM INVALID        @T1P 49844500
         DC    A(&IDAD)                  ADDRESS OF IDAD           @T1P 49844600
         DC    A(0)                      ALET OF IDAD              @T1P 49844700
         AGO   .SDLST67                  SKIP NEXT DC STMT         @T1P 49844800
.SDLST65 ANOP                            FILL IN RESERVED SLOTS    @T1P 49844900
         AIF   (&SDID    EQ  0).SDLST66 CHECK FOR ID               @T1P 49845000
         AIF   ('&ID'(1,1) EQ '(').MESG1 REG FORM INVALID          @T1P 49845100
         DC    A(IHB&SYSNDX.I)           ADDRESS OF ID             @T1P 49845200
         DC    A(0)                      ALET OF ID                @T1P 49845300
         AGO   .SDLST67                  SKIP NEXT DC STMT         @T1P 49845400
.SDLST66 ANOP                            END OF ID/IDAD            @T1P 49845500
         DC    A(0)                      ADDRESS OF ID             @T1P 49845600
         DC    A(0)                      ALET OF ID                @T1P 49845700
.SDLST67 ANOP                            END OF ID/IDAD            @T1P 49845800
         AIF   ('&PLVER' EQ '3').PLVER3A                           @LBA 49845900
         AGO   .PLVER2B                  VERSION 2 AND LOWER DONE  @LBA 49846000
.PLVER3A ANOP                            VERSION 3 AND HIGHER      @LBA 49846100
.*                                                                      49846200
.************************ LIST FORM *********************************** 49846300
.*                                                                      49846400
.*       PROCESS STRLIST OPTION                                         49846500
.*                                                                 @LBA 49846600
.********************************************************************** 49846700
.*                                                                      49846800
         AIF   ('&STRLIST' EQ '').SDLT68A   IS STRLIST SPECIFIED   @LBA 49846900
         AIF   ('&STRLIST'(1,1) EQ '(').MESG1  CHECK FOR R FORM    @LBA 49847000
         DC    A(&STRLIST)                  ADDRESS OF STRLIST     @LBA 49847100
         AGO   .SDLT68B                     STRLIST ADDRESS DONE   @LBA 49847200
.SDLT68A ANOP                                                      @L6A 49847300
         DC    A(0)                      ADDRESS FOR STRLIST       @LBA 49847400
.SDLT68B ANOP                                                      @LBA 49847500
         DC    A(0)                      ALET OF STRLIST PARAM     @LBA 49847600
.*                                                                      49847700
.************************ LIST FORM *********************************** 49847800
.*                                                                      49847900
.*       PROCESS INTOKEN OPTION                                         49848400
.*                                                                 @LCA 49848900
.********************************************************************** 49849400
.*                                                                      49849900
         AIF   ('&INTOKEN' EQ '').SDLT69A   IS INTOKEN SPECIFIED   @LCA 49850400
         AIF   ('&INTOKEN'(1,1) EQ '(').MESG1  CHECK FOR R FORM    @LCA 49850900
         DC    A(&INTOKEN)                  ADDRESS OF INTOKEN     @LCA 49851400
         AGO   .SDLT69B                     INTOKEN ADDRESS DONE   @LCA 49851900
.SDLT69A ANOP                                                      @LCA 49852400
         DC    A(0)                      ADDRESS FOR INTOKEN       @LCA 49852900
.SDLT69B ANOP                                                      @LCA 49853400
         DC    A(0)                      ALET OF INTOKEN PARAM     @LCA 49853900
.*                                                                      49854400
.************************ LIST FORM *********************************** 49854900
.*                                                                      49855400
.*       PROCESS REMOTE OPTION                                          49855900
.*                                                                 @LCA 49856400
.********************************************************************** 49856900
.*                                                                      49857400
         AIF   ('&REMOTE' EQ '').SDLT70A    IS REMOTE SPECIFIED    @LCA 49857900
         AIF   ('&REMOTE'(1,1) EQ '(').MESG1   CHECK FOR R FORM    @LCA 49858400
         DC    A(&REMOTE)                   ADDRESS OF REMOTE      @LCA 49858900
         AGO   .SDLT70B                     REMOTE ADDRESS DONE    @LCA 49859400
.SDLT70A ANOP                                                      @LCA 49859900
         DC    A(0)                      ADDRESS FOR REMOTE        @LCA 49860400
.SDLT70B ANOP                                                      @LCA 49860900
         DC    A(0)                      ALET OF REMOTE PARAM      @LCA 49861400
.*                                                                      49861900
.************************ LIST FORM *********************************** 49862400
.*                                                                      49862900
.*       PROCESS PROBDESC OPTION                                        49863400
.*                                                                 @LCA 49863900
.********************************************************************** 49864400
.*                                                                      49864900
         AIF   ('&PROBDESC' EQ '').SDLT71A  IS PROBDESC SPECIFIED  @LCA 49865400
         AIF   ('&PROBDESC'(1,1) EQ '(').MESG1 CHECK FOR R FORM    @LCA 49865900
         DC    A(&PROBDESC)                 ADDRESS OF PROBDESC    @LCA 49866400
         AGO   .SDLT71B                     PROBDESC ADDRESS DONE  @LCA 49866900
.SDLT71A ANOP                                                      @LCA 49867400
         DC    A(0)                      ADDRESS FOR PROBDESC      @LCA 49867900
.SDLT71B ANOP                                                      @LCA 49868400
         DC    A(0)                      ALET OF PROBDESC PARAM    @LCA 49868900
.*                                                                      49869400
.************************ LIST FORM *********************************** 49869900
.*                                                                      49870400
.*       PROCESS JOBLIST OPTION                                         49870900
.*                                                                 @LCA 49871400
.********************************************************************** 49871900
.*                                                                      49872400
         AIF   ('&JOBLIST' EQ '').SDLT72A   IS JOBLIST SPECIFIED   @LCA 49872900
         AIF   ('&JOBLIST'(1,1) EQ '(').MESG1  CHECK FOR R FORM    @LCA 49873400
         DC    A(&JOBLIST)                  ADDRESS OF JOBLIST     @LCA 49873900
         AGO   .SDLT72B                     JOBLIST ADDRESS DONE   @LCA 49874400
.SDLT72A ANOP                                                      @LCA 49874900
         DC    A(0)                      ADDRESS FOR JOBLIST       @LCA 49875400
.SDLT72B ANOP                                                      @LCA 49875900
         DC    A(0)                      ALET OF JOBLIST PARAM     @LCA 49876400
.*                                                                      49876900
.************************ LIST FORM *********************************** 49877400
.*                                                                      49877900
.*       PROCESS DSPLIST OPTION                                         49878400
.*                                                                 @LCA 49878900
.********************************************************************** 49879400
.*                                                                      49879900
         AIF   ('&DSPLIST' EQ '').SDLT73A   IS DSPLIST SPECIFIED   @LCA 49880400
         AIF   ('&DSPLIST'(1,1) EQ '(').MESG1  CHECK FOR R FORM    @LCA 49880900
         DC    A(&DSPLIST)                  ADDRESS OF DSPLIST     @LCA 49881400
         AGO   .SDLT73B                     DSPLIST ADDRESS DONE   @LCA 49881900
.SDLT73A ANOP                                                      @LCA 49882400
         DC    A(0)                      ADDRESS FOR DSPLIST       @LCA 49882900
.SDLT73B ANOP                                                      @LCA 49883400
         DC    A(0)                      ALET OF DSPLIST PARAM     @LCA 49883900
.*                                                                      49884400
.************************ LIST FORM *********************************** 49884900
.*                                                                      49885400
.*       END OF VERSION 3 PARAMETER LIST                                49885900
.*                                                                 @LBA 49886400
.********************************************************************** 49886900
.*                                                                      49887400
         DC    2A(0)                     RESERVED                  @LCC 49887900
.*                                                                      49888400
.PLVER2B ANOP                                                      @T1P 49888900
.*                                                                      49889400
.************************ LIST FORM *********************************** 49889900
.*                                                                      49890400
.*       BUILD USER STORAGE LIST.                                       49890900
.*                                                             @G860P31 49900000
.********************************************************************** 49950000
.*                                                                      50000000
.SDLST59 ANOP                                                  @G383P1U 50050000
         AIF   ('&STORAGE' EQ '').SDLST60   BUILD STORAGE LIST          50100000
.*                                                             @G33VPHD 50150000
&CTR1    SETA  N'&STORAGE                   NUMBER OF STORAGE ADDRESSES 50200000
&CTR2    SETA   0                           POSITION NO. OF ADDRESS     50250000
.LOOPD1  ANOP                                                           50300000
&CTR2    SETA  &CTR2+1                      NUMBER OF NEXT ADDRESS      50350000
         AIF   ('&STORAGE(&CTR2)'(1,1) EQ '(').MESG1  ADDR IN A REG     50400000
         DC    A(&STORAGE(&CTR2))           STORAGE ADDRESS             50450000
&CTR1    SETA  &CTR1-1                      NUMBER OF REMAINING ADDR.S  50500000
         AIF   ('&CTR1' GT '1').LOOPD1      IF NOT LAST ADDRESS, LOOP   50550000
&CTR2    SETA  &CTR2+1                      NUMBER OF LAST ADDRESS      50600000
         AIF   ('&STORAGE(&CTR2)'(1,1) EQ '(').MESG1  ADDR IN A REG     50650000
         DC    AL4(X'80000000'+&STORAGE(&CTR2))  LAST ADDRESS           50700000
.*                                                                      50750000
.************************ LIST FORM *********************************** 50800000
.*                                                                      50850000
.*       BUILD USER DATA FOR HDR OPTION.                                50900000
.*                                                             @G860P31 50950000
.********************************************************************** 51000000
.*                                                                      51050000
.SDLST60 ANOP                                                           51100000
.*                                                             @G33VPHD 51150000
         AIF   ('&HDR' EQ '').SDLST70       IS USER DATA SPECIFIED @T1P 51200000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         51250000
         DC    AL1(&CTR1)                   LENGTH OF USER DATA         51300000
         DC    C&HDR                        USER DATA                   51350000
.************************ LIST FORM *********************************** 51400000
.*                                                                      51450000
.*       BUILD USER DATA FOR ID OPTION.                                 51460000
.*                                                                 @T1P 51470000
.********************************************************************** 51480000
.*                                                                      51490000
.SDLST70 ANOP                                                      @T1P 51500000
         AIF   ('&ID' EQ '').SDEND          IS USER DATA SPECIFIED @T1P 51510000
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1P 51520000
&TEMP    SETC  'IHB'.'&SYSNDX.'.'I'                                @T1P 51530000
&TEMP    DC    AL1(&CTR1)                   LENGTH OF USER DATA    @T1P 51540000
         DC    C&ID                         USER DATA              @T1P 51550000
         AGO   .SDEND                       END MACRO PROCESSING   @T1P 51560000
.*                                                                      51570000
.*                                                                      51580000
.*                                                                      51590000
.********************* STANDARD FORM ********************************** 51600000
.*                                                                      51650000
.*       STANDARD FORM EXPANSION STARTS HERE.                           51700000
.*                                                             @G860P31 51750000
.********************************************************************** 51800000
.*                                                                      51850000
.*                                                                      51900000
.*                                                                      51950000
.STFORM  ANOP                                                           52000000
&GNAME   SETC  'IHB'.'&SYSNDX'              OBTAIN UNIQUE SYMBOL-LABEL  52050000
         CNOP  0,4                                                      52100000
         AIF   ('&NAME' EQ '').SDSTF10      IS NAME SPECIFIED           52150000
&NAME    DS    0F                                                       52200000
.SDSTF10 ANOP                                                           52250000
.*                                                                      52300000
.********************* STANDARD FORM ********************************** 52350000
.*                                                                      52400000
.*       BUILD PARAMETER LIST TEMPLATE AND BRANCH TO CODE.              52450000
.*                                                             @G860P31 52500000
.********************************************************************** 52550000
.*                                                                      52600000
         &LA   1,*+8                                                    52650000
         B     &GNAME                       BRANCH AROUND PARAM LIST    52700000
         DC    AL1(&SDFLAG0)                FLAG BYTE                   52750000
         DC    AL1(&SDFLAG1)                FLAG BYTE                   52800000
         DC    AL1(&SDATAF1)                FLAG BYTE                   52850000
         DC    AL1(&SDATAF2)                FLAG BYTE                   52900000
         DC    A(0)                         ADDRESS OF DCB              52950000
.*                                                                      53000000
.********************* STANDARD FORM ********************************** 53050000
.*                                                                      53100000
.*       CALCULATE ADDRESS OF STORAGE AND/OR HDR PARM AREA              53150000
.*                                                             @G860P31 53200000
.********************************************************************** 53250000
.*                                                                      53300000
         AIF   ('&STORAGE' EQ '').SDST110   STORAGE SPECIFIED? @G860P31 53350000
         DC    A(*-8+&DISP1)                ADDRESS OF STORAGE @G860P31 53400000
         AGO   .SDST111                     GO CHECK HDR       @G860P31 53450000
.SDST110 ANOP                                                  @G860P31 53500000
         DC    A(0)                         ADDRESS OF STORAGE LIST     53550000
.SDST111 AIF   ('&HDR' EQ '').SDST112       HDR SPECIFIED?     @G860P31 53600000
         DC    A(*-12+&DISP2)               ADDRESS OF HDR     @G860P31 53650000
         AGO   .SDST113                     GO CHECK HDR       @G860P31 53700000
.SDST112 ANOP                                                  @G860P31 53750000
         DC    A(0)                         ADDRESS OF HEADER RECORD    53800000
.SDST113 ANOP                               CONTINUE STANDARD  @G860P31 53850000
.*                                                                      53900000
.********************* STANDARD FORM ********************************** 53950000
.*                                                                      54000000
.*       CONTINUE STANDARD FORM EXPANSION AFTER HDR.                    54050000
.*                                                             @G860P31 54100000
.********************************************************************** 54150000
.*                                                                      54200000
         DC    A(0)                         ADDRESS OF ECB/SRB     @L4C 54250000
         DC    AL2(0)                       CURRENT ASID                54300000
         DC    AL2(0)                       OTHER ASID                  54350000
         DC    A(0)                         ADDRESS OF ASID LIST        54400000
.*                                                             @G33VPHD 54450000
         DC    A(0)                         ADDRESS OF SUMLIST          54500000
         DC    A(0)                         RESERVED           @G33VPHD 54550000
         DC    A(0)                         RESERVED           @G33VPHD 54600000
         DC    AL1(&SDFLAG2)                FLAG BYTE          @G383P1U 54650000
         DC    AL1(&SDCNTL1)                CONTROL FLAGS      @G860P31 54700000
         DC    AL1(&SDTYPF1)                TYPE FLAG BYTE     @G383P1U 54750000
         DC    AL1(&PLVER.)                 VERSION                @T1P 54800000
         DC    AL1(&SDATAF3)                EXIT FLAG BYTE     @G383P1U 54850000
         DC    AL1(&SDATAF4)                EXIT FLAG BYTE         @LEC 54885700
         DC    AL1(&SDAT3)                  SDATA OPTIONS          @T1P 54921400
         DC    AL1(0)                       RESERVED               @T1P 54957100
         DC    A(0)                         SUBPLST ADDRESS    @G860P31 54992800
         DC    A(0)                         KEYLIST ADDRESS    @G860P31 55028500
         DC    A(0)                         RESERVED           @G860P31 55064200
.*                                     RESERVED FOR SLIP       @G860P31 55100000
         DC    A(0)                    ALET OF DCB PARAMETER       @L3A 55150000
         DC    A(0)                    ALET OF STORAGE PARAM       @L3A 55200000
         DC    A(0)                    ALET OF HDR PARAMETER       @L3A 55250000
         DC    A(0)                    ALET OF ASIDLST PARAM       @L3A 55300000
         DC    A(0)                    ALET OF SUMLIST PARAM       @L3A 55350000
         DC    A(0)                    ALET OF SUBPLST PARAM       @L3A 55400000
         DC    A(0)                    ALET OF KEYLIST PARAM       @L3A 55450000
         DC    4A(0)                   LISTD/SUMLSTL               @T3C 55456200
         AIF   ('&PLVER' EQ '2').SDSTP2                            @T1M 55462400
         AIF   ('&PLVER' EQ '3').SDSTP2                            @LBA 55465500
         DC    2A(0)                        RESERVED               @T3C 55468600
         AGO   .SDSTP99                SKIP PLISTVER >= 2          @T1P 55474800
.SDSTP2  ANOP                          PLISTVER=2 OR HIGHER        @T1P 55481000
         DC    2A(0)                        PSWREGS                @T1P 55487200
         DC    2A(0)                        SYMREC                 @T1P 55493400
         AIF   ('&ID' EQ '').SDSTP00        ID SPECIFIED?          @T1P 55499600
         DC    A(IHB&SYSNDX.I)              ADDRESS OF ID          @T1P 55505800
         DC    A(0)                         ALET OF ID             @T1P 55512000
         AGO   .SDSTP01                     ONWARD                 @T1P 55518200
.SDSTP00 ANOP                                                      @T1P 55524400
         DC    2A(0)                        ID                     @T1P 55530600
.SDSTP01 ANOP                                                      @T1P 55536800
         AIF   ('&PLVER' EQ '3').SDSTP3                            @LBA 55537800
         AGO   .SDSTP99                SKIP PLISTVER >= 3          @LBA 55538800
.SDSTP3  ANOP                          PLISTVER=3 OR HIGHER        @LBA 55539800
         DC    2A(0)                   STRLIST                     @LBA 55540800
         DC    2A(0)                   INTOKEN                     @LCA 55541100
         DC    2A(0)                   REMOTE                      @LCA 55541400
         DC    2A(0)                   PROBDESC                    @LCA 55541700
         DC    2A(0)                   JOBLIST                     @LCA 55542000
         DC    2A(0)                   DSPLIST                     @LCA 55542300
         DC    2A(0)                   RESERVED                    @LCC 55542600
.SDSTP99 ANOP                                                      @T1P 55543000
.*                                                                      55550000
.********************* STANDARD FORM ********************************** 55600000
.*                                                                      55650000
.*    RESERVE SPACE FOR STORAGE, HDR, ID PARAMETER                      55700000
.*                                                                 @T1P 55750000
.********************************************************************** 55800000
.*                                                                      55850000
         AIF   ('&STORAGE' EQ '').SDSTF20   IS STORAGE SPECIFIED        55900000
&CTR1    SETA  N'&STORAGE                   NUMBER OF STORAGE ADDRESSES 55950000
         DC    &CTR1.F'0'                   STORAGE ADDRESSES           56000000
.SDSTF20 ANOP                                                           56050000
         AIF   ('&HDR' EQ '').SDSTF30       IS HDR SPECIFIED            56100000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         56150000
         DC    AL1(&CTR1)                   LENGTH OF USER DATA         56200000
         DC    C&HDR                        USER DATA                   56250000
.*       CNOP  2,4                                                      56300000
.SDSTF30 ANOP                                                           56350000
         AIF   ('&ID' EQ '').SDSTF41        IS ID SPECIFIED        @T1P 56357100
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1P 56364200
&TEMP    SETC  'IHB&SYSNDX.I'                                      @T1P 56371300
&TEMP    DC    AL1(&CTR1)                   LENGTH OF USER DATA    @T1P 56378400
         DC    C&ID                         USER DATA              @T1P 56385500
.SDSTF41 ANOP                                                      @T1P 56392600
&GNAME   DS    0H                                                       56400000
.*                                                                      56450000
.********************* STANDARD FORM ********************************** 56500000
.*                                                                      56550000
.*       STORE THE DCB ADDRESS INTO PARAMETER LIST .                    56600000
.*                                                             @G860P31 56650000
.********************************************************************** 56700000
.*                                                                      56750000
         AIF   ('&DCB' EQ '').SDSTF35       IS DCB SPECIFIED            56800000
         IHBSETR   &DCB,0                   ADDRESS OF DCB IN REG 0     56850000
         ST    0,4(0,1)                     SAVE DCB ADDRESS       @L3C 56900000
         AIF   ('&SYSASCE' EQ 'P').NOAR12                          @L3A 56950000
         STAM  0,0,60(1)              SAVE DCB ALET                @L3A 57000000
.NOAR12  ANOP                                                      @L3A 57050000
.*                                                                      57100000
.********************* STANDARD FORM ********************************** 57150000
.*                                                                      57200000
.*       PROCESS LIST, LISTA, STORAGE OR LISTD OPTION                   57250000
.*                                                                 @L6A 57300000
.********************************************************************** 57350000
.*                                                                      57400000
.SDSTF35 AIF   ('&LIST' EQ '').SDSTF37      IS LIST SPECIFIED  @G383P1U 57450000
         IHBSETR   &LIST,0                  ADDR OF STORAGE LIST IN R0  57500000
         ST    0,8(0,1)                     SAVE LIST ADDRESS      @L3C 57550000
         AIF   ('&SYSASCE' EQ 'P').NOAR13                          @L3A 57600000
         STAM  0,0,64(1)              SAVE LIST ALET               @L3A 57650000
.NOAR13  ANOP                                                      @L3A 57700000
         AGO   .SDSTF45                     GO CHECK FOR LISTD     @L6C 57750000
.SDSTF37 AIF   ('&LISTA' EQ '').SDSTF40  IS LISTA SPECIFIED    @G383P1U 57800000
         IHBSETR   &LISTA,0                 LIST ADDR TO R0    @G383P1U 57850000
         ST    0,8(,1)                      STORE LISTA ADDR       @L3C 57900000
         AIF   ('&SYSASCE' EQ 'P').NOAR14                          @L3A 57950000
         STAM  0,0,64(1)              SAVE LISTA ALET              @L3A 58000000
.NOAR14  ANOP                                                      @L3A 58050000
         AGO   .SDSTF45              GO CHECK FOR LISTD            @L6C 58100000
.SDSTF40 AIF   ('&STORAGE' EQ '').SDSTF45   STORAGE ADDRESSES SPECIFIED 58150000
&CTR1    SETA  N'&STORAGE          NUMBER OF STORAGE ADDRESSES @G860P31 58200000
&CTR2    SETA  0                   POSITION COUNTER            @G860P31 58250000
&DISP    SETA  &DISP1-4            DISPLACEMENT OF THE STORAGE @G860P31 58300000
.*                                 ADDRESSES INTO THE PARAMETER LIST    58350000
.LOOPE1  ANOP                                                           58400000
&CTR2    SETA  &CTR2+1                 NUMBER OF ADDRESS WORKING ON     58450000
&DISP    SETA  &DISP+4                 DISP OF ADDRESS INTO LIST        58500000
         IHBSETR   &STORAGE(&CTR2),0        ADDRESS INTO R0             58550000
         ST    0,&DISP.(0,1)                SAVE STORAGE ADDR      @L3C 58600000
         AIF   ('&CTR1' NE '&CTR2').LOOPE1  ANY  MORE ADDRESSES         58650000
         OI    &DISP.(1),X'80'              END OF LIST INDICATOR       58700000
.SDSTF45 AIF   ('&LISTD' EQ '').SDSTF50  IS LISTD SPECIFIED        @L6A 58706200
         IHBSETR   &LISTD,0              LISTD ADDRESS TO R0       @L6A 58712400
         ST    0,88(,1)               STORE LISTD IN PARM LIST     @L6A 58718600
         AIF   ('&SYSASCE' EQ 'P').NOAR14A                         @L6A 58724800
         STAM  0,0,92(1)                 SAVE LISTD ALET           @L6A 58731000
.NOAR14A ANOP                                                      @L6A 58737200
         AGO   .SDSTF50                  CHECK FOR USER PARAMETERS @L6A 58743400
.*                                                                      58750000
.********************* STANDARD FORM ********************************** 58800000
.*                                                                      58850000
.*       PROCESS HDRAD TO PLACE ADDRESS IN PARAMETER LIST.              58900000
.*       IF HDR WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE            58950000
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       59000000
.*                                                             @G860P31 59050000
.********************************************************************** 59100000
.*                                                                      59150000
.SDSTF50 AIF   ('&HDRAD' EQ '').SDSTF70     IS HDRAD SPECIFIED @G860P31 59200000
         IHBSETR   &HDRAD,0                 ADDR OF USER DATA IN REG 0  59250000
         ST    0,12(0,1)         ADDR OF USER DATA INTO PARAM LST  @L3C 59300000
         AIF   ('&SYSASCE' EQ 'P').NOAR15                          @L3A 59350000
         STAM  0,0,68(1)              SAVE HDR ALET                @L3A 59400000
.NOAR15  ANOP                                                      @L3A 59450000
.*                                                                      59500000
.********************* STANDARD FORM ********************************** 59550000
.*                                                                      59600000
.*       PROCESS ECB OPTION.                                            59650000
.*                                                             @G860P31 59700000
.********************************************************************** 59750000
.*                                                                      59800000
.SDSTF70 AIF   ('&ECB' EQ '').SDSTF74       IS ECB SPECIFIED       @L4C 59850000
         AIF   (N'&ECB GT 1).SDSTF72 IS MORE THAN 1 PARM PRESENT   @L8A 59883300
         AIF   ('&ECB'(1,1) EQ '(').SDSTF71 IS ECB ADDR IN A REG   @L8C 59916600
         L     0,&ECB                       ADDRESS OF ECB              59950000
         ST    0,16(0,1)              ADDR OF ECB INTO PARAM LIST  @L3C 60000000
         AGO   .SDSTF80                     GO CHECK FOR ASID           60050000
.SDSTF71 ST    &ECB(1),16(0,1)        ADDR OF ECB INTO PARAM LIST  @L8C 60070000
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L8A 60090000
.SDSTF72 AIF   ('&ECB(1)'(1,1) EQ '(').SDSTF73 IS THE ADDRESS OF THE   X60110000
               ECB IN A REGISTER                                   @L8A 60130000
         L     0,&ECB(1)                    ADDRESS OF ECB         @L8A 60150000
         ST    0,16(0,1)              ADDR OF ECB INTO PARAM LIST  @L8A 60170000
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L8A 60190000
.SDSTF73 ST    &ECB(1,1),16(0,1)      ADDR OF ECB INTO PARAM LIST  @L8A 60210000
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L8A 60230000
.********************* STANDARD FORM ********************************** 60250000
.*                                                                      60300000
.*       PROCESS SRB OPTION.                                            60303100
.*                                                                 @L4A 60306200
.********************************************************************** 60309300
.*                                                                 @L4A 60312400
.SDSTF74 AIF   ('&SRB' EQ '').SDSTF80       IS SRB SPECIFIED       @L4A 60315500
         AIF   (N'&SRB GT 1).SDSTF76 IS MORE THAN 1 PARM PRESENT   @L8A 60317500
         AIF   ('&SRB'(1,1) EQ '(').SDSTF75 IS SRB ADDR IN A REG   @L8C 60319500
         L     0,&SRB                       ADDRESS OF SRB         @L4A 60321700
         ST    0,16(0,1)              ADDR OF SRB INTO PARAM LIST  @L4A 60324800
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L4A 60327900
.SDSTF75 ST    &SRB(1),16(0,1)        ADDR OF SRB INTO PARAM LIST  @L8C 60328900
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L8A 60329900
.SDSTF76 AIF   ('&SRB(1)'(1,1) EQ '(').SDSTF77 IS THE ADDRESS OF THE   X60330900
               SRB IN A REGISTER                                   @L8A 60331900
         L     0,&SRB(1)                    ADDRESS OF SRB         @L8A 60332900
         ST    0,16(0,1)              ADDR OF SRB INTO PARAM LIST  @L8A 60333900
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L8A 60334900
.SDSTF77 ST    &SRB(1,1),16(0,1)      ADDR OF SRB INTO PARAM LIST  @L8A 60335900
.*                                                                 @L4A 60337200
.*                                                                      60340300
.********************* STANDARD FORM ********************************** 60343400
.*                                                                      60346500
.*       PROCESS ASID OR ASIDLST OPTION.                                60350000
.*                                                             @G860P31 60400000
.********************************************************************** 60450000
.*                                                                      60500000
.SDSTF80 AIF   ('&ASID' EQ '').SDSTF90      IS ASID SPECIFIED           60550000
         AIF   ('&ASID'(1,1) EQ '(').SDSTF82     IS ASID IN A REGISTER  60600000
         LH    0,&ASID                      ASID OF MEMORY TO BE DUMPED 60650000
         STH   0,22(0,1)              ASID INTO PARAMETER LIST     @L3C 60700000
         AGO   .SDSTF90                     GO CHECK FOR BRANCH ENTRY   60750000
.SDSTF82 ANOP                                                           60800000
         STH   &ASID,22(0,1)          ASID INTO PARAMETER LIST     @L3C 60850000
.SDSTF90 AIF   ('&ASIDLST' EQ '').SDSTF93  IS ASIDLIST SPECIFIED        60900000
.*                                                             @G33VPHD 60950000
         IHBSETR   &ASIDLST,0           ADDR OF ASIDLIST IN R0          61000000
.*                                                             @G33VPHD 61050000
         ST    0,24(,1)                 ADDR ASIDLIST INTO PARM LIST   *61100000
                                                                   @L3C 61150000
         AIF   ('&SYSASCE' EQ 'P').NOAR16                          @L3A 61200000
         STAM  0,0,72(1)              SAVE ASIDLST ALET            @L3A 61250000
.NOAR16  ANOP                                                      @L3A 61300000
.*                                                                      61350000
.********************* STANDARD FORM ********************************** 61400000
.*                                                                      61450000
.*       PROCESS SUMLIST OR SUMLSTA OPTION.                             61500000
.*                                                             @G860P31 61550000
.********************************************************************** 61600000
.*                                                                      61650000
.SDSTF93 AIF   ('&SUMLIST' EQ '').SDSTF94 IS SUMLIST SPECIFIED          61700000
         IHBSETR   &SUMLIST,0                                           61750000
         ST    0,28(,1)                                            @L3C 61800000
         AIF   ('&SYSASCE' EQ 'P').NOAR17                          @L3A 61850000
         STAM  0,0,76(1)              SAVE SUMLIST ALET            @L3A 61900000
.NOAR17  ANOP                                                      @L3A 61950000
         AGO   .SDSTF95                DONE SO DO ENTRY LOGIC  @G383P1U 62000000
.SDSTF94 AIF   ('&SUMLSTA' EQ '').SDSTF95  SUMLSTA SPECIFIED   @G383P1U 62050000
         IHBSETR   &SUMLSTA,0        GET SUMLSTA ADDR IN R0    @G383P1U 62100000
         ST    0,28(,1)              SUMLSTA ADDR TO PARM LIST     @L3C 62150000
         AIF   ('&SYSASCE' EQ 'P').NOAR18                          @L3A 62200000
         STAM  0,0,76(1)              SAVE SUMLSTA ALET            @L3A 62250000
.NOAR18  ANOP                                                      @L3A 62300000
.*                                                                      62350000
.********************* STANDARD FORM ********************************** 62400000
.*                                                                      62450000
.*       PROCESS SUBPLST AND KEYLIST OPTIONS.                           62500000
.*                                                             @G860P31 62550000
.********************************************************************** 62600000
.*                                                                      62650000
.SDSTF95 AIF   ('&SUBPLST' EQ '').SDSTF96 IS SUBPLST SPECIFIED @G860P31 62700000
         IHBSETR   &SUBPLST,0          LOAD SUBPLST ADDRESS    @G860P31 62750000
         ST    0,48(,1)                STORE SUBPLST ADDRESS       @L3C 62800000
         AIF   ('&SYSASCE' EQ 'P').NOAR19                          @L3A 62850000
         STAM  0,0,80(1)              SAVE SUBPLST ALET            @L3A 62900000
.NOAR19  ANOP                                                      @L3A 62950000
         AIF   ('&KEYLIST' EQ '').SDSTF96 IS KEYLIST SPECIFIED @G860P31 63000000
         IHBSETR   &KEYLIST,0          LOAD KEYLIST ADDRESS    @G860P31 63050000
         ST    0,52(0,1)               STORE KEYLIST ADDRESS       @L3C 63100000
         AIF   ('&SYSASCE' EQ 'P').NOAR20                          @L3A 63150000
         STAM  0,0,84(1)              SAVE KEYLIST ALET            @L3A 63200000
.NOAR20  ANOP                                                      @L3A 63250000
.*                                                                      63300000
.********************* STANDARD FORM ********************************** 63350000
.*                                                                      63400000
.*       PROCESS SUMLSTL OPTIONS                                        63403300
.*                                                                 @L5A 63406600
.********************************************************************** 63409900
.*                                                                      63413200
.SDSTF96 ANOP                                                      @L5A 63416500
         AIF   ('&SUMLSTL' EQ '').SDSTM00 IS SUMLSTL SPECIFIED     @T3C 63419800
         IHBSETR   &SUMLSTL,0          LOAD SUMLSTL ADDRESS        @L5A 63423100
         ST    0,96(0,1)              STORE SUMLSTL ADDRESS        @L5A 63426400
         AIF   ('&SYSASCE' EQ 'P').NOAR21                          @L5A 63429700
         STAM  0,0,100(1)             SAVE SUMLSTL ALET            @L5A 63433000
.NOAR21  ANOP                                                      @L5A 63436300
.*                                                                      63439600
.********************* STANDARD FORM ********************************** 63442900
.*                                                                      63446200
.*       PROCESS PSWREGS OPTION.                                        63447400
.*                                                             @G860P31 63448600
.********************************************************************** 63449800
.*                                                                      63451000
.SDSTM00 AIF   ('&PSWREGS' EQ '').SDSTM01 IS PSWREGS SPECIFIED     @T1P 63452200
         IHBSETR   &PSWREGS,0                                      @T1P 63453400
         ST    0,104(0,1)                   SAVE PSWREG ADDR       @T1P 63454600
         AIF   ('&SYSASCE' EQ 'P').NOAR26                          @T3A 63455800
         STAM  0,0,108(1)                   SAVE PSWREG ALET       @T3A 63457000
.NOAR26  ANOP                                                      @T3A 63458200
.*                                                                      63459400
.********************* STANDARD FORM ********************************** 63460600
.*                                                                      63461800
.*       PROCESS SYMREC  OPTION.                                        63463000
.*                                                             @G860P31 63464200
.********************************************************************** 63465400
.*                                                                      63466600
.SDSTM01 AIF   ('&SYMREC' EQ '').SDSTM02 IS SYMREC SPECIFIED       @T1P 63467800
         IHBSETR   &SYMREC,0                                       @T1P 63469000
         ST    0,112(0,1)                   SAVE SYMREC ADDR       @T1P 63470200
         AIF   ('&SYSASCE' EQ 'P').NOAR27                          @T3A 63471400
         STAM  0,0,116(1)                   SAVE SYMREC ALET       @T3A 63472600
.NOAR27  ANOP                                                      @T3A 63473800
.********************* STANDARD FORM ********************************** 63475000
.*                                                                      63476200
.*       PROCESS IDAD TO PLACE ADDRESS IN PARAMETER LIST.               63477400
.*       IF ID WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE             63478600
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63479800
.*                                                                 @T1P 63481000
.********************************************************************** 63482200
.*                                                                      63483400
.SDSTM02 AIF   ('&IDAD' EQ '').SDST300      IS IDAD SPECIFIED      @LBC 63484600
         IHBSETR   &IDAD,0                  ADDR ID DATA IN R0     @T1P 63485800
         ST    0,120(0,1)                   SAVE IDAD ADDR         @T1P 63487000
         AIF   ('&SYSASCE' EQ 'P').NOAR28                          @T3A 63488200
         STAM  0,0,124(1)                   SAVE IDAD ALET         @T3A 63489400
.NOAR28  ANOP                                                      @T3A 63490600
.*                                                                      63491800
.********************* STANDARD FORM ********************************** 63492400
.*                                                                      63493000
.*       PROCESS STRLIST TO PLACE ADDRESS IN PARAMETER LIST.            63493100
.*       IF STRLIST WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE        63493200
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63493300
.*                                                                 @LBA 63493400
.********************************************************************** 63493500
.*                                                                      63493600
.SDST300 AIF   ('&STRLIST' EQ '').SDST301   IS STRLIST SPECIFIED   @LBA 63493700
         IHBSETR   &STRLIST,0               ADDR STRLIST IN R0     @LBA 63493800
         ST    0,128(0,1)                   SAVE STRLIST ADDR      @LBA 63493900
         AIF   ('&SYSASCE' EQ 'P').NOAR30                          @LBA 63494000
         STAM  0,0,132(1)                   SAVE STRLIST ALET      @LBA 63494100
.NOAR30  ANOP                                                      @LBA 63494200
.*                                                                      63494300
.********************* STANDARD FORM ********************************** 63494900
.*                                                                      63495500
.*       PROCESS INTOKEN TO PLACE ADDRESS IN PARAMETER LIST.            63496100
.*       IF INTOKEN WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE        63496700
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63497300
.*                                                                 @LCA 63497900
.********************************************************************** 63498500
.*                                                                      63499100
.SDST301 AIF   ('&INTOKEN' EQ '').SDST302   IS INTOKEN SPECIFIED   @LCA 63499700
         IHBSETR   &INTOKEN,0               ADDR INTOKEN IN R0     @LCA 63500300
         ST    0,136(0,1)                   SAVE INTOKEN ADDR      @LCA 63500900
         AIF   ('&SYSASCE' EQ 'P').NOAR32                          @LCA 63501500
         STAM  0,0,140(1)                   SAVE INTOKEN ALET      @LCA 63502100
.NOAR32  ANOP                                                      @LCA 63502700
.*                                                                      63503300
.********************* STANDARD FORM ********************************** 63503900
.*                                                                      63504500
.*       PROCESS REMOTE TO PLACE ADDRESS IN PARAMETER LIST.             63505100
.*       IF REMOTE WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE         63505700
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63506300
.*                                                                 @LCA 63506900
.********************************************************************** 63507500
.*                                                                      63508100
.SDST302 AIF   ('&REMOTE' EQ '').SDST303    IS REMOTE SPECIFIED    @LCA 63508700
         IHBSETR   &REMOTE,0                ADDR REMOTE IN R0      @LCA 63509300
         ST    0,144(0,1)                   SAVE REMOTE ADDR       @LCA 63509900
         AIF   ('&SYSASCE' EQ 'P').NOAR34                          @LCA 63510500
         STAM  0,0,148(1)                   SAVE REMOTE ALET       @LCA 63511100
.NOAR34  ANOP                                                      @LCA 63511700
.*                                                                      63512300
.********************* STANDARD FORM ********************************** 63512900
.*                                                                      63513500
.*       PROCESS PROBDESC TO PLACE ADDRESS IN PARAMETER LIST.           63514100
.*       IF PROBDESC WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE       63514700
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63515300
.*                                                                 @LCA 63515900
.********************************************************************** 63516500
.*                                                                      63517100
.SDST303 AIF   ('&PROBDESC' EQ '').SDST304  IS PROBDESC SPECIFIED  @LCA 63517700
         IHBSETR   &PROBDESC,0              ADDR PROBDESC IN R0    @LCA 63518300
         ST    0,152(0,1)                   SAVE PROBDESC ADDR     @LCA 63518900
         AIF   ('&SYSASCE' EQ 'P').NOAR36                          @LCA 63519500
         STAM  0,0,156(1)                   SAVE PROBDESC ALET     @LCA 63520100
.NOAR36  ANOP                                                      @LCA 63520700
.*                                                                      63521300
.********************* STANDARD FORM ********************************** 63521900
.*                                                                      63522500
.*       PROCESS JOBLIST TO PLACE ADDRESS IN PARAMETER LIST.            63523100
.*       IF JOBLIST WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE        63523700
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63524300
.*                                                                 @LCA 63524900
.********************************************************************** 63525500
.*                                                                      63526100
.SDST304 AIF   ('&JOBLIST' EQ '').SDST305   IS JOBLIST SPECIFIED   @LCA 63526700
         IHBSETR   &JOBLIST,0               ADDR JOBLIST IN R0     @LCA 63527300
         ST    0,160(0,1)                   SAVE JOBLIST ADDR      @LCA 63527900
         AIF   ('&SYSASCE' EQ 'P').NOAR38                          @LCA 63528500
         STAM  0,0,164(1)                   SAVE JOBLIST ALET      @LCA 63529100
.NOAR38  ANOP                                                      @LCA 63529700
.*                                                                      63530300
.********************* STANDARD FORM ********************************** 63530900
.*                                                                      63531500
.*       PROCESS DSPLIST TO PLACE ADDRESS IN PARAMETER LIST.            63532100
.*       IF DSPLIST WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE        63532700
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63533300
.*                                                                 @LCA 63533900
.********************************************************************** 63534500
.*                                                                      63535100
.SDST305 AIF   ('&DSPLIST' EQ '').SDST306   IS DSPLIST SPECIFIED   @LCA 63535700
         IHBSETR   &DSPLIST,0               ADDR DSPLIST IN R0     @LCA 63536300
         ST    0,168(0,1)                   SAVE DSPLIST ADDR      @LCA 63536900
         AIF   ('&SYSASCE' EQ 'P').NOAR40                          @LCA 63537500
         STAM  0,0,172(1)                   SAVE DSPLIST ALET      @LCA 63538100
.NOAR40  ANOP                                                      @LCA 63538700
.*                                                                      63539300
.SDST306 ANOP                                                      @LCA 63539900
.********************* STANDARD FORM ********************************** 63540500
.*                                                                      63541100
.*       STANDARD FORM CLOSEOUT.                                        63541700
.*                                                             @G860P31 63542300
.********************************************************************** 63550000
.*                                                                      63600000
.SDST999 AIF   ('&BRANCH' EQ 'YES').SDSTF99  BRANCH ENTRY          @T1P 63650000
.*                                                             @G33VPHD 63700000
         SVC   51                           INVOKE SVC DUMP VIA SVC     63750000
         AGO   .SDEND                       GO END MACRO PROCESSING     63800000
.SDSTF99 ANOP                                                           63850000
.*                                                             @G33VPHD 63900000
         L     15,CVTPTR(0,0)               ADDRESS OF CVT       YM1995 63950000
         L     15,CVTSDMP-CVTMAP(15,0)      SVC DUMP ENTRY ADDR  YM1995 64000000
         BALR  14,15                        INVOKE SVC DUMP VIA BAL     64050000
         AGO   .SDEND                       GO END MACRO PROCESSING     64100000
.*                                                                      64150000
.*                                                                      64200000
.*                                                                      64250000
.********************************************************************** 64300000
.*                                                                      64350000
.*       ERROR MESSAGES                                                 64400000
.*                                                             @G860P31 64450000
.********************************************************************** 64500000
.*                                                                      64550000
.*                                                                      64600000
.MESG1   MNOTE 12,'REGISTER NOTATION INVALID W/MF=L'                    64650000
         MEXIT                                                          64700000
.MESG1A  MNOTE 12,'POSITIONAL PARAMETERS ARE NOT ALLOWED - &SYSLIST(1)' 64750000
.*                                                             @G860P1X 64800000
         MEXIT                                                          64850000
.MESG2A  MNOTE 12,'HDR AND HDRAD ARE MUTUALLY EXCLUSIVE'                64900000
         MEXIT                                                          64950000
.MESG2B  MNOTE 12,'STORAGE AND LIST ARE MUTUALLY EXCLUSIVE'             65000000
         MEXIT                                                          65050000
.MESG2C  MNOTE 12,'STORAGE AND LISTA ARE MUTUALLY EXCLUSIVE'   @G383P1U 65100000
         MEXIT                                                 @G383P1U 65150000
.MESG2D  MNOTE 12,'LIST AND LISTA ARE MUTUALLY EXCLUSIVE'      @G383P1U 65200000
         MEXIT                                                 @G383P1U 65250000
.MESG2E  MNOTE 12,'SUMLIST AND SUMLSTA ARE MUTUALLY EXCLUSIVE'     @P1C 65300000
         MEXIT                                                 @G383P1U 65350000
.MESG2F  MNOTE 12,'ID AND IDAD ARE MUTUALLY EXCLUSIVE'             @T1P 65354100
         MEXIT                                                 @G383P1U 65358200
.MESG3B  ANOP                                                      @L4A 65362500
         AIF (&SDECB NE 0).MESG3BE IF ECB SPECIFED, ISSUE ECB MNOTE@L4A 65375000
.MESG3BS MNOTE 12,'INVALID SRB SCHEDULE TIME SPECIFIED: &SRB(2)'   @L8C 65404100
         AGO   .MESG3BX                                            @L8C 65433200
.MESG3BE MNOTE 12,'INVALID ECB POST TIME SPECIFIED: &ECB(2)'       @L8C 65462300
.MESG3BX MNOTE 12,'VALID TIME SPECIFICATIONS ARE: CAPTURE OR WRITE'     65491400
.*                                                                 @L8A 65520500
         MEXIT                                                          65550000
.MESG4A  MNOTE 12,'INVALID SDATA OPERAND SPECIFIED &SDATA(&CTR2)'       65600000
         MEXIT                                                          65650000
.MESG4B  MNOTE 12,'INVALID BUFFER OPERAND SPECIFIED &BUFFER'            65700000
         MEXIT                                                          65750000
.MESG4C  MNOTE 12,'INVALID BRANCH OPERAND SPECIFIED &BRANCH'            65800000
         MEXIT                                                          65850000
.MESG4D  MNOTE 12,'INVALID QUIESCE OPERAND SPECIFIED &QUIESCE'          65900000
         MEXIT                                                 @G383P1U 65950000
.MESG4E  MNOTE 12,'INVALID TYPE OPERAND SPECIFIED &TYPE(&CTR2)'         66000000
.*                                                             @G383P1U 66050000
         MEXIT                                                 @G383P1U 66100000
.MESG4F  MNOTE 12,'MUTUALLY EXCLUSIVE TYPE OPERANDS: XMEM AND XMEME'    66150000
.*                                                             @G38AP31 66200000
         MEXIT                                                 @G38AP31 66250000
.MESG5A  MNOTE 12,'ASID OPERAND INVALID W/MF=L'                         66300000
         MEXIT                                                          66350000
.MESG5B  MNOTE 12,'ECB OPERAND INVALID W/MF=L'                          66400000
         MEXIT                                                          66450000
.MESG5C  MNOTE 12,'BRANCH OPERAND INVALID W/MF=L'                       66500000
         MEXIT                                                          66550000
.MESG5D  MNOTE 12,'ASIDLST OPERAND INVALID W/MF=L'                      66600000
         MEXIT                                                          66650000
.MESG5E  MNOTE 12,'MISSING PARAMETER LIST ADDRESS WITH MF=(E,ADDR)'     66700000
.*                                                             @G860P31 66750000
         MEXIT                                                          66800000
.MESG5F  MNOTE 12,'SRB OPERAND INVALID W/MF=L'                          66812500
.*                                                                 @L4A 66825000
         MEXIT                                                     @L4A 66837500
.MESG6   MNOTE 12,'ODD NUMBER OF STORAGE ADDRESSES'                     66850000
         MEXIT                                                          66900000
.MESG7   MNOTE 12,'MACRO FORM IS INVALID'                               66950000
         MEXIT                                                          67000000
.MESG8   MNOTE 12,'USER DATA TOO LONG'                                  67050000
         MEXIT                                                          67100000
.MESG8I  MNOTE 12,'LENGTH OF ID OPERAND IS TOO LONG'               @T1P 67116600
         MEXIT                                                     @T1P 67133200
.MESG9   MNOTE 12,'INITIAL CHARACTER OF HDR OPERAND NOT AN APOSTROPHE'  67150000
         MEXIT                                                          67200000
.MESG9I  MNOTE 12,'INITIAL CHARACTER OF ID OPERAND NOT AN APOSTROPHE'  *67212500
                                                                   @T1P 67225000
         MEXIT                                                     @T1P 67237500
.*                                                             @G33VPHD 67250000
.MESG9A  MNOTE 12,'INVALID HDR SPECIFICATION'                           67300000
         MEXIT                                                          67350000
.MESG9AI MNOTE 12,'INVALID ID SPECIFICATION'                       @T1P 67366600
         MEXIT                                                     @T1P 67383200
.*                                                             @G860P31 67400000
.MESG10  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: ASID AND ASIDLST'       67450000
.*                                                             @G33VPHD 67500000
         MEXIT                                                          67550000
.*                                                             @G33VPHD 67600000
.MESG11  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: SUMDUMP/SUM AND NOSUMDUX67650000
               MP/NOSUM'                                                67700000
.*                                                             @G33VPHD 67750000
         MEXIT                                                          67800000
.*                                                             @G33VPHD 67850000
.MESG12  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS:SQA AND NOSQA'           67900000
.*                                                             @G33VPHD 67950000
         MEXIT                                                          68000000
.*                                                             @G33VPHD 68050000
.MESG13  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: ALLPSA AND NOALLPSA'    68100000
.*                                                             @G33VPHD 68150000
         MEXIT                                                          68200000
.MESG13B MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: SRB AND ECB'            68212500
.*                                                                 @L4A 68225000
         MEXIT                                                     @L4A 68237500
.*                                                             @G33VPHD 68250000
.MESG15  MNOTE 12,'NOSUMDUMP SPECIFIED WITH SUMLIST INVALID'   @G383P1U 68300000
         MEXIT                                                 @G383P1U 68350000
.MESG15A MNOTE 12,'NOSUMDUMP SPECIFIED WITH SUMLSTA INVALID'   @G383P1U 68400000
         MEXIT                                                 @G386P31 68450000
.MESG15B MNOTE 12,'NOSUMDUMP SPECIFIED WITH SUMLSTL INVALID'       @L5A 68466600
         MEXIT                                                     @L5A 68483200
.MESG16A MNOTE 12,'INVALID SUSPEND OPERAND SPECIFIED &SUSPEND' @G386P31 68500000
         MEXIT                                                 @G386P31 68550000
.MESG16B MNOTE 12,'BRANCH=YES IS REQUIRED WITH SUSPEND=YES'    @G386P31 68600000
         MEXIT                                                 @G386P31 68650000
.MESG16C MNOTE 12,'SDATA=NOSUM/NOSUMDUMP INVALID WITH SUSPEND=YES'      68700000
.*                                                             @G386P31 68750000
         MEXIT                                                          68800000
.MESG17A MNOTE 12,'SUBPLST REQUIRED WITH KEYLIST'              @G860P31 68850000
.SDEND   MEXIT                                                          68900000
         MEND                                                           68950000
* */                                                                    69000000
* SDUMPX: MACRO KEYS(HDR,HDRAD,DCB,ASID,ASIDLST,ECB,SDATA,STORAGE,      69050000
*           LIST,SUMLIST,BUFFER,QUIESCE,BRANCH,LISTA,TYPE,SUMLSTA,      69100000
*           SUSPEND,SUBPLST,KEYLIST,MF,RETCODE,RELATED,SRB,SUMLSTL,     69133300
*           LISTD,                                           /* L6C */  69155500
*           PLISTVER,ID,IDAD,SYMREC,PSWREGS,STRLIST,         /* @LBC*/  69166600
*           JOBLIST, DSPLIST,                                /* @LCA*/  69177700
*           INTOKEN, REMOTE, PROBDESC);                      /* @LCC*/  69188800
*                                                                       69200000
* ANS('?'||MACLABEL||'SDUMPXP '||MACLIST||MACKEYS||';');                69250000
* %END SDUMPX;                                                          69300000
