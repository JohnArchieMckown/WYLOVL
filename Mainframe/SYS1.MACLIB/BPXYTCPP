*        %GOTO TCPPPRO  ;         /* Bilingual header                   00050000
         MACRO                                                          00100000
         BPXYTCPP  &DSECT=YES,&LIST=YES                                 00150000
         GBLB  &TCPP411                                                 00200000
         AIF   (&TCPP411 EQ 1).E411                                     00250000
&TCPP411 SETB  1                                                        00300000
         AIF   ('&LIST' EQ 'YES').A411                                  00350000
         PUSH  PRINT  BPXYTCPP: Tcp/Ip parameter list                   00400000
         PRINT OFF                                                      00450000
         AGO   .A411                                                    00500000
*                                  */                                   00550000
*%TCPPPRO : ;                                                           00600000
*/****START OF SPECIFICATIONS****************************************** 00650000
*                                                                       00700000
*    $MAC (BPXYTCPP) COMP(SCPX1) PROD(BPX):                             00750000
*                                                                       00800000
*01* MACRO NAME: BPXYTCPP                                               00850000
*                                                                       00900000
*01* DSECT NAME: TcpParm                                                00950000
*                                                                       01000000
*01* DESCRIPTIVE NAME: TCP Parameter list                               01050000
*                                                                       01100000
*02*   ACRONYM: TcpParm                                                 01150000
**/                                                                     01200000
*/*01* PROPRIETARY STATEMENT=                                        */ 01250000
*/***PROPRIETARY_STATEMENT********************************************/ 01300000
*/*                                                                  */ 01350000
*/*                                                                  */ 01400000
*/* LICENSED MATERIALS - PROPERTY OF IBM                             */ 01450000
*/* THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                      */ 01500000
*/* 5647-A01 (C) COPYRIGHT IBM CORP. 1993,2000                       */ 01550000
*/*                                                                  */ 01650000
*/* STATUS= HBB7703                                                  */ 01700000
*/*                                                                  */ 01750000
*/***END_OF_PROPRIETARY_STATEMENT*************************************/ 01800000
*/*                                                                     01850000
*                                                                       01875000
*01* EXTERNAL CLASSIFICATION:  GUPI                                     01900000
*01* END OF EXTERNAL CLASSIFICATION:                                    01950000
*                                                                       02000000
*01* FUNCTION:                                                          02050000
*                                                                       02100000
*      The TcpParm maps the parameter list that is passed to Tcp/Ip for 02150000
*      Inet Sockets system calls.                                       02200000
*                                                                       02250000
*                                                                       02300000
*01* METHOD OF ACCESS:                                                  02350000
*                                                                       02400000
*02*   PL/X:                                                            02450000
*                                                                       02500000
*        %INCLUDE SYSLIB(BPXYTCPP)                                      02550000
*        By default, the TcpParm is based on TcpParmPtr. If             02600000
*        other basing is desired, use %TCPPBASE='BASED(XXXXXX)'.        02650000
*        If %TCPPBASE='BASED(TcpParmPtr)' is coded, a Declare for       02700000
*        TcpParmPtr is also generated.                                  02750000
*                                                                       02800000
*02*   ASM:                                                             02850000
*        With DSECT=NO, storage is allocated in line                    02900000
*        and addressability is provided thru that DSECT or CSECT.       02950000
*        With DSECT=YES, a DSECT is produced and "USING TcpParm,reg"    03000000
*        is required for addressability.  Here "reg" contains the       03050000
*        address of TcpParm#LEN bytes of storage.                       03100000
*        The default is DSECT=YES.                                      03150000
*                                                                       03200000
*01* SIZE: TcpParm#Len                                                  03250000
*                                                                       03300000
*01* POINTED TO BY: TcpParmPtr                                          03350000
*                                                                       03400000
*01* CREATED BY: Tcp/Ip caller (See the BPXXTCP macro)                  03450000
*                                                                       03500000
*01* DELETED BY: Either Tcp/Ip or the caller of Tcp/Ip                  03550000
*                                                                       03600000
*01* STORAGE ATTRIBUTES:                                                03650000
*02*   SUBPOOL: Dataspace                                               03700000
*02*   KEY:0                                                            03750000
*02*   RESIDENCY: Inet Sockets dataspace                                03800000
*                                                                       03850000
*01* FREQUENCY: 1 per invocation of Tcp/Ip                              03900000
*                                                                       03950000
*01* SERIALIZATION: TcppCSwapCtr                                        04000000
*                                                                       04050000
*01* DEPENDENCIES: None                                                 04100000
*                                                                       04150000
*01* NOTES: None                                                        04200000
*                                                                       04250000
*01* COMPONENT:  OpenMVS (SCPX1)                                        04300000
*                                                                       04350000
*01* DISTRIBUTION LIBRARY:  AMACLIB                                     04400000
*                                                                       04450000
*01* EYE-CATCHER: TCPP                                                  04500000
*02*   OFFSET: 0                                                        04550000
*02*   LENGTH: 4                                                        04600000
*                                                                       04650000
*01* CHANGE-ACTIVITY:                                                   04700000
*                                                                       04750000
* $D0=DOAA002 , HOM1120, 931004, PDNU: Dcr A002.03 INET Socket PFS      04800000
* $P1=POA0078,  HOM1120, 931020, PDXX: Change boundry to full word      04850000
* $P2=POA0284,  HOM1120, 940126, PDXX: Add length field to SOCKADDR     04900000
* $P2=PPF0001,  HOM1130, 940126, PDXX: Add length field to SOCKADDR     04950000
* $P3=POA0314,  HOM1120, 940225, PDNU: Flush during recovery            05000000
* $P3=PPF0001,  HOM1130, 940225, PDNU: Flush during recovery            05050000
* $P4=POA0378,  HOM1120, 940317, PDHR: Zero length Sends and Recvs      05100000
* $P4=PPF0006,  HOM1130, 940317, PDHR: Zero length Sends and Recvs      05150000
* $P5=POA0287,  HOM1120, 940321, PDHR: SMF Acct recording from Tcpip    05200000
* $P5=PPF0006,  HOM1130, 940321, PDHR: SMF Acct recording from Tcpip    05250000
* $P6=POA0497,  HOM1120, 940419, PDXX: Corrent asm displacements        05300000
* $P6=PPF0006,  HOM1130, 940419, PDXX: Correct asm displacements        05350000
* $01=OW07648,  HOM1120, 940825, PDHR: Inet Performance improvement     05400000
* $P7=PPF0104,  HOM1130, 941025, PDHR: Performance improvements         05450000
* $D1=DFPA053,  HOM1130, 941123, PDHR: OpenMVS Batch Select Support     05500000
* $D2=DRGA134,  HOM1140, 950822, PDDZ: A134.02 Universal Unix           05550000
* $D3=DRGA134,  HOM1140, 951024, PDSK: UU Support for msgflags-A134.03  05600000
* $D4=DRGA146,  HOM1150, 960319, PDWE: A146.03 SetIBMSockOpt            05650000
* $D5=DSPA175,  HOM1150, 960426, PDHR: SRB Support (A175.02)            05700000
* $P8=PQC1585,  HOM1150, 960620, PDJM: Correct assembler                05750000
* $P9=PQC1821,  HBB6603  960807  PDHR: AsyncIO Cancel                   05800000
* $02=OW22052,  HOM1140, 960822, PDJV: Add return length field Getsock  05850000
* $PA=PQC2586,  HBB6603  960905  PDHR: Bulkmode changes                 05900000
****END OF SPECIFICATIONS*********************************************/ 05950000
*        %GOTO TCPPPLS  ;         /* Bilingual header                   06000000
.A411    ANOP  ,                                                        06050000
** BPXYTCPP: Tcp/Ip parameter list                                      06100000
**  Used By: callers of Tcp/Ip                                          06150000
         AIF   ('&DSECT' EQ 'NO').B411                                  06200000
TCPPARM              DSECT ,                                            06250000
         AGO   .C411                                                    06300000
.B411    ANOP  ,                                                        06350000
TCPPARM              DS    0F                                           06400000
.C411    ANOP  ,                                                        06450000
TCPPARMBEGIN         DS    0F                                           06500000
**********************************************************************  06550000
*                 TcpParm Assembler Declarations                     *  06600000
**********************************************************************  06650000
*                      TcpParm Header                                *  06700000
**********************************************************************  06750000
TCPPEYE           DC    C'TCPP'          Eye Catcher                    06800000
TCPPGARBQNEXTPTR  DS    0F               Ptr to next free Tcpparm @01A  06850000
TCPPLEN           DC    AL4(TCPPARM#LEN) Length of the structure        06900000
TCPPTYPE          DC    F'0'             See TcppType# for types        06950000
TCPPHOMEPTR       DC    A(0)             Ptr to original TcpParm        07000000
*                                                                       07050000
TCPPCSWAPCTR      DC    F'0'             Counter area to Compare and    07100000
*                                        Swap for Cleanup               07150000
*                                                                       07200000
TCPPMSGID         DS    F                MsgId (Filled in by TCP/IP)    07250000
*                                        and used on Cancel             07300000
*                                                                       07350000
TCPPFLAGS         DS    B                Flags - Byte 1                 07400000
TCPPNOIOCTL       EQU   X'80'             No IoCtl to be done by TcpIp  07450000
TCPPSRBSCHED      EQU   X'40'             Sched SRB instead of Post@D5A 07500000
TCPPGOODCANCEL    EQU   X'20'             TCP/IP cancel cancelled  @P9A 07550000
**                EQU   X'1F'             Reserved                      07600000
*                                                                       07650000
TCPPRESERVED7     DS    7C               Reserved                       07700000
TCPPCALLERSPID    DC    F'0'             Callers Pid for SigPipe Signal 07750000
TCPPTRGCLS        DS    F                Target class (Filled in by     07800000
*                                        Tcp/Ip) and used on Cancel     07850000
TCPPWPTOKEN       DS    CL24             Kernel Post Token              07900000
TCPPIPWORKAREA    DS    CL32             TcpIp Work area                07950000
*                                                                       08000000
TCPPSOCKETTOKEN   DS    0CL8             Socket Token                   08050000
TCPPPATHID        DS    F                IUCV Pathid id                 08100000
TCPPSOCKID        DS    F                 Socket Id                     08150000
*                                                                       08200000
TCPPRETCODE       DC    F'0'             Return Code                    08250000
TCPPERRNO         DC    F'0'             Errno                          08300000
*                                                                       08350000
TCPPSPECIFIC      DS    CL60             Call Specific Output area      08400000
*********************************************************************** 08450000
* Cancel: (Read/Write/Accept/Select only)                         @01M* 08500000
*********************************************************************** 08550000
TCPPCANCEL          DS   0CL12          Cancel                          08600000
TCPPCLTRGCLS        DS   F               TrgCls of request to cancel    08650000
TCPPCLSOCKID        DS   0F              SocketId of request to cancel  08700000
TCPPCLSLDESCSS      DS   F                Descriptor set size of select 08750000
*                                         request                       08800000
TCPPCLMSGID         DS   F               MsgId of original cancel       08850000
TCPPASYTOK          DS   CL8             TOken for lfs Asynch CB   @D5A 08900000
                    DS   CL16            RESERVED                  @D5A 08950000
*                                                                       09000000
*********************************************************************** 09050000
*               Constants used in the Header                          * 09100000
*********************************************************************** 09150000
TCPPARM#LEN       EQU *-TCPPARM          Constant - Length of TcpParm   09200000
*                                                                       09250000
*********************************************************************** 09300000
*********************************************************************** 09350000
*             Call Specific Assembler Declarations                    * 09400000
*********************************************************************** 09450000
*********************************************************************** 09500000
*                                                                       09550000
*********************************************************************** 09600000
*                 Init/Term Calls                                     * 09650000
*********************************************************************** 09700000
* IUCV Connect: (Get PathId)                                          * 09750000
*********************************************************************** 09800000
                   ORG   TCPPSPECIFIC    Follows TcpParm Header         09850000
TCPPIUCVCONNECT    DS    0F              IUCV Connect                   09900000
TCPPRCUSERID       DS    CL8              MVS UserId (boundary word)    09950000
TCPPRCSOCKPERPATH  DS    F                Number of Sockets per Path    10000000
TCPPRRETPATHID     DS    F                Returned: PathId              10050000
*                                                                       10100000
TCPPIUCV#LEN       EQU *-TCPPIUCVCONNECT  Length of TCPPIUCVCONNECT     10150000
*                                                                       10200000
*********************************************************************** 10250000
* Initial Send:                                                       * 10300000
*********************************************************************** 10350000
                    ORG  TCPPSPECIFIC     Follows TcpParm Header        10400000
TCPPINITSEND        DS   0F               InitSend                      10450000
TCPPRSUBTASKID      DS   CL8               Unique subtask Id            10500000
TCPPRISOCKPERPATH   DS   F                 Number of Sockets per Path   10550000
TCPPRRETSOCKPERPATH DS   F                 Returned: Sockets per Path   10600000
*                                                                       10650000
TCPPINITSEND#LEN    EQU *-TCPPINITSEND    Length of TPCCINITSEND        10700000
*                                                                       10750000
*********************************************************************** 10800000
* Sever:                                                              * 10850000
*********************************************************************** 10900000
                    ORG  TCPPSPECIFIC   Follows TcpParm Header          10950000
TCPPSEVER           DS   0F             Sever                           11000000
TCPPSUSERID         DS   CL8             UserId to sever                11050000
*                                                                       11100000
TCPPSEVER#LEN       EQU *-TCPPSEVER      Length of TCPPSEVER            11150000
*                                                                       11200000
*********************************************************************** 11250000
************************* Socket Calls ******************************** 11300000
*********************************************************************** 11350000
*                                                                       11400000
*********************************************************************** 11450000
* Accept:                                                             * 11500000
*********************************************************************** 11550000
                    ORG  TCPPSPECIFIC   Follows TcpParm Header          11600000
TCPPACCEPT          DS   0F             Accept                          11650000
TCPPAPATHID         DS   F               Pathid for new socket          11700000
TCPPARETADDRNPLEN   DS   X               Returned: Length of "peer"@P2A 11750000
                    ORG  TCPPARETADDRNPLEN Set back for NPORT      @P6C 11800000
TCPPARETADDRNPORT   DS   CL16            Returned: Address of "peer"    11850000
TCPPARETSOCKID      DS   F               Returned: Socket Id            11900000
TCPPAASYNCIDXSAVE   DS   F               Paid Index save area      @D5A 11950000
TCPPAASYNCTNODSAVE  DS   CL8             Tnod Token save area      @D5A 12000000
*                                                                       12050000
TCPPACCEPT#LEN      EQU *-TCPPACCEPT     Length of TCPPACCEPT           12100000
*                                                                       12150000
*********************************************************************** 12200000
* Bind:                                                               * 12250000
*********************************************************************** 12300000
                    ORG  TCPPSPECIFIC   Follows TcpParm Header          12350000
TCPPBIND            DS   0F             Bind                            12400000
TCPPBADDRNPLEN      DS   X              Address to bind to length  @P2A 12450000
                    ORG  TCPPBADDRNPLEN  Set back for NPORT        @P6C 12500000
TCPPBADDRNPORT      DS   CL16           Address to bind to              12550000
*                                                                       12600000
TCPPBIND#LEN        EQU *-TCPPBIND      Length of TCPPBIND              12650000
*                                                                       12700000
*********************************************************************** 12750000
* Close: (No mapping necessary)                                       * 12800000
*********************************************************************** 12850000
*                                                                       12900000
*********************************************************************** 12950000
* Connect:                                                            * 13000000
*********************************************************************** 13050000
                    ORG  TCPPSPECIFIC   Follows TcpParm Header          13100000
TCPPCONNECT         DS   0F             Connect                         13150000
TCPPCOADDRNPLEN     DS   X               Address to connect to len @P2A 13200000
                    ORG  TCPPCOADDRNPLEN  Set back for NPORT       @P6C 13250000
TCPPCOADDRNPORT     DS   CL16            Address to connect to          13300000
*                                                                       13350000
TCPPCONNECT#LEN     EQU *-TCPPCONNECT   Length of TCPPCONNECT           13400000
*                                                                       13450000
*********************************************************************** 13500000
* Fcntl:                                                              * 13550000
*********************************************************************** 13600000
                    ORG  TCPPSPECIFIC   Follows TcpParm Header          13650000
TCPPFCNTL           DS   0F             Fcntl                           13700000
TCPPFCOMMAND        DS   F               Command options currently:     13750000
*                                         F_SETFL (4) or F_GETFL (3)    13800000
TCPPFARGUMENT       DS   F               Arguments currently:           13850000
*                                         FNDELAY (x'00000004')         13900000
*                                                                       13950000
TCPPFCNTL#LEN       EQU *-TCPPFCNTL     Length of TCPPFCNTL             14000000
*                                                                       14050000
*********************************************************************** 14100000
* GetHostId: (No mapping necessary)                                   * 14150000
*********************************************************************** 14200000
*                                                                       14250000
*********************************************************************** 14300000
* GetHostName:                                                        * 14350000
*********************************************************************** 14400000
                    ORG  TCPPSPECIFIC       Follows TcpParm Header      14450000
TCPPGETHOSTNAME     DS   0F                 GetHostName                 14500000
TCPPGHOSTNAMELEN    DS   F                   Input: Host Name LENGTH    14550000
TCPPGRETHOSTNAMELEN DS   F                   Returned: Host Name LENGTH 14600000
TCPPGRETHOSTNAME    DS   CL35                Returned: Host Name        14650000
*                                                                       14700000
TCPPGETHOSTNAME#LEN EQU *-TCPPGETHOSTNAME   Length of TCPPGETHOSTNAME   14750000
*********************************************************************** 14800000
*The following constant is used with TCPPGRETHOSTNAME. If the value   * 14850000
*of TCPP#MAXHOSTNAMELEN changes then change TCPPGRETHOSTNAME.         * 14900000
*********************************************************************** 14950000
TCPP#MAXHOSTNAMELEN EQU  35                 HostName Length             15000000
*                   35 chars=wwwwwwww.xxxxxxxx.yyyyyyyy.zzzzzzzz        15050000
*********************************************************************** 15100000
* GetPeerName:                                                        * 15150000
*********************************************************************** 15200000
                    ORG  TCPPSPECIFIC      Follows TcpParm Header       15250000
TCPPGETPEERNAME     DS   0F                GetPeerName                  15300000
TCPPGPRETADDRNPLEN  DS   X                  Returned: Length of Pee@P2A 15350000
                    ORG  TCPPGPRETADDRNPLEN  Set back for NPORT    @P6C 15400000
TCPPGPRETADDRNPORT  DS   CL16               Returned: Address of Peer   15450000
*                                                                       15500000
TCPPGETPEERNAME#LEN EQU *-TCPPGETPEERNAME  Length of TCPPGETPEERNAME    15550000
*                                                                       15600000
*********************************************************************** 15650000
* GetSockName:                                                        * 15700000
*********************************************************************** 15750000
                    ORG   TCPPSPECIFIC     Follows TcpParm Header       15800000
TCPPGETSOCKNAME     DS    0F               GetSockName                  15850000
TCPPGSRETADDRNPLEN  DS    X                 Returned: Lenght of sel@P2A 15900000
                    ORG   TCPPGSRETADDRNPLEN   Set back for NPORT  @P6C 15950000
TCPPGSRETADDRNPORT  DS    CL16              Returned: Address of self   16000000
*                                                                       16050000
TCPPGETSOCKNAME#LEN EQU *-TCPPGETSOCKNAME  Length of TCPPGETSOCKNAME    16100000
*                                                                       16150000
*********************************************************************** 16200000
* GetsockOpt:                                                         * 16250000
*********************************************************************** 16300000
                    ORG  TCPPSPECIFIC      Follows TcpParm Header       16350000
TCPPGETSOCKOPT      DS   0F                GetSockOpt                   16400000
TCPPGSOLEVEL        DS   F                  Level                       16450000
TCPPGSOOPTNAME      DS   F                  Option name                 16500000
TCPPGSOOPTLEN       DS   F                  Option value length         16550000
TCPPGSORETOPTVALUE  DS   CL8                Option value                16600000
TCPPGSORETOPTLEN    DS   F                  Returned opt val len  @02A  16650000
*                                                                       16700000
TCPPGETSOCKOPT#LEN  EQU *-TCPPGETSOCKOPT   Length of TCPPGETSOCKOPT     16750000
*                                                                       16800000
*********************************************************************** 16850000
* Ioctl:                                                              * 16900000
*********************************************************************** 16950000
                    ORG  TCPPSPECIFIC      Follows TcpParm Header       17000000
TCPPIOCTL           DS   0F                Ioctl                        17050000
TCPPIREQUESTTYPE    DS   F                  Ioctl Request Type          17100000
TCPPIARGPLEN        DS   0F                 Argp Length (Input)         17150000
TCPPIRETARGPLEN     DS   F                   Argp Length (Output)       17200000
TCPPIARGP           DS   0CL48              Argp (Input)                17250000
TCPPIRETARGP        DS   CL48                Argp (Output)              17300000
*                                                                       17350000
TCPPIOCTL#LEN       EQU *-TCPPIOCTL        Length of TCPPIOCTL          17400000
*                                                                       17450000
                    ORG   TCPPIARGP                                     17500000
TCPPIOCTLARGP       DS    0F                                      @P2A  17550000
TCPPIFCLEN          DS    F        Length of returning IArgp area @P2A  17600000
TCPPIFRIFRU         DS    F                                       @P2A  17650000
TCPPIWAADDR         DS    A        WORK AREA ADDRESS OF TEMP BUF  @P2A  17700000
*                                                                       17750000
                    ORG   TCPPIRETARGP                                  17800000
TCPPIRETIOCTLARGP   DS    0F                                      @P2A  17850000
TCPPIRETIFCADDR     DS    A        Address of buffers in home AS  @P2A  17900000
TCPPIRETIFCLEN      DS    F        Size of buffers returned       @P2A  17950000
TCPPIRETWAADDR      DS    A        WORK AREA ADDRESS OF TEMP BUF  @P2A  18000000
*                                                                       18050000
TCPP#MAXSIOCGIFCONF EQU   3200     Maximum Ioctl SIOCGIFCONF            18100000
*                                  Reply length (32*100)                18150000
*********************************************************************** 18200000
* Listen:                                                             * 18250000
*********************************************************************** 18300000
                    ORG   TCPPSPECIFIC     Follows TcpParm Header       18350000
TCPPLISTEN          DS    0F               Listen                       18400000
TCPPLBACKLOGCT      DS    F                 Back log count              18450000
*                                                                       18500000
TCPPLISTEN#LEN      EQU *-TCPPLISTEN       Length of TCPPLISTEN         18550000
*                                                                       18600000
*********************************************************************** 18650000
* Read/Readv/Recv/RecvFrom/RecvMsg:                                   * 18700000
* Write/Writev/Send/SendTo/SendMsg:                                   * 18750000
*                                                                     * 18800000
* All of the Read/Readv/Recv/RecvFrom/RecvMsg and Write/WriteV/       * 18850000
* Send/SendTo/SendMsg declarations are consolidated into one          * 18900000
* declare, which is mapped by TcppSndRecv.                            * 18950000
*                                                                     * 19000000
* The flags field, TcppSRFlags, is specifically broken down in        * 19050000
* TcppSendFlags for send(etc) and TcppRecvFlags for  recv(etc).       * 19100000
*                                                                     * 19150000
*********************************************************************** 19200000
                    ORG   TCPPSPECIFIC   Follows TcpParm Header         19250000
TCPPSNDRECV         DS    0F             Send/Recv etc                  19300000
TCPPSRFLAGS         DC    F'0'            Send/Recv Flags: See below    19350000
TCPPSRADDRNPLEN     DS    X            Send: Address of msg rec len@P2A 19400000
                    ORG   TCPPSRADDRNPLEN                          @P6C 19450000
TCPPSRADDRNPORT     DS    CL16            Send: Address of msg receiver 19500000
*                                         Recv: Address of msg source   19550000
*                                                                       19600000
TCPPSRLEN           DS    0F              Send/Recv buffer length       19650000
TCPPSRVECTCNT       DC    F'0'             Number of Vector Pairs       19700000
*                                                                       19750000
TCPPSRADDR          DS    0F              Send/Recv buffer address      19800000
TCPPSRVECTADDR      DC    F'0'             Vector buffer address        19850000
*                                                                       19900000
TCPPSRVECTALET      DC    F'0'            Vector Alet                   19950000
TCPPSRBUFFALET      DC    F'0'            Buffer Alet                   20000000
*                                                                       20050000
TCPPSRKEY           DS    X               Send: Key of Source buffer    20100000
*                                         Recv: Key of Destination buf  20150000
TCPPSRKEY4                EQU X'F0'        Key (upper 4 bits)           20200000
*                         EQU X'0F'        Reserved (lower 4 bits)      20250000
*                                                                       20300000
TCPPSRTFLAGS        DC    X'00'           Non-Socket Flags (1 byte)     20350000
TCPPSFSMALL               EQU X'80'        Small Msg (Send*,Write Only) 20400000
TCPPSRFLUSH               EQU X'40'        Flush buffers, don't copy    20450000
TCPPSRSENDEND             EQU X'20'        Send Complete                20500000
TCPPSRDOFLUSH             EQU X'10'        Flush required from RW2 @P3A 20550000
TCPPSRZEROBYTES           EQU X'08'        Zero Byte Send/Recv     @P4A 20600000
TCPPSRNOPRIMECK           EQU X'04'        Data not chked til move @D5A 20650000
TCPPSRBULK                EQU X'02'        Bulkmode request        @PAA 20700000
*                         EQU X'01'        Reserved                @PAC 20750000
*                                                                       20800000
TCPPSRRESERV        DS    CL2             Reserved         (2 bytes)    20850000
*                                                                       20900000
TCPPSRRETLEN        DC    F'0'            Returned: Bytes Read/Write    20950000
*                                                                       21000000
TCPPSRRETSMFRECCNT  DC    F'0'            Returned: Approximate number  21050000
*                                         of IOs per send               21100000
TCPPSRMSGHFLAGS     DC    F'0'            Returned: Output flags @D3A   21150000
*                   EQU   X'FFFFFFC0'     Reserved (26 bits)     @D3A   21200000
TCPPSRMSGHCTRUNC    EQU   X'00000020'     MSG_CTRUNC Flag        @D3A   21250000
TCPPSRMSGHTRUNC     EQU   X'00000010'     MSG_TRUNC Flag         @D3A   21300000
TCPPSRMSGHEOR       EQU   X'00000008'     MSG_EOR Flag           @D3A   21350000
*                   EQU   X'00000004'     Reserved               @D3A   21400000
*                   EQU   X'00000002'     Reserved               @D3A   21450000
TCPPSRMSGHOOB       EQU   X'00000001'     MSG_OOB Flag           @D3A   21500000
*                                                                       21550000
TCPPSNDRECV#LEN     EQU *-TCPPSNDRECV     Length of TCPPSNDRECV         21600000
*                                                                       21650000
*********************************************************************** 21700000
*Declare send bit flags mapped over TcppSRFlags                       * 21750000
*********************************************************************** 21800000
                    ORG   TCPPSRFLAGS                                   21850000
TCPPSENDFLAGS       DS    F                 Send Flags                  21900000
*                   EQU   X'FFFFFFF8'        Reserved (29 bits)         21950000
TCPPSFMDNTRT        EQU   X'00000004'        MSG_DONTROUTE FLAG (1 bit) 22000000
*                   EQU   X'00000002'        Reserved (1 bit)           22050000
TCPPSFMOOB          EQU   X'00000001'        MSG_OOB flag (1 bit)       22100000
*                                                                       22150000
*********************************************************************** 22200000
*Declare recv bit flags mapped over TcppSRFlags                       * 22250000
*********************************************************************** 22300000
                    ORG   TCPPSRFLAGS                                   22350000
TCPPRECVFLAGS       DS    F                 Recv Flags                  22400000
*                   EQU   X'FFFFFFFC'        Reserved (30 bits)         22450000
TCPPREFMPEEK        EQU   X'00000002'        MSG_PEEK Flag              22500000
TCPPREFMOOB         EQU   X'00000001'        MSG_OOB Flag               22550000
*                                                                       22600000
*********************************************************************** 22650000
* Select:                                                             * 22700000
*********************************************************************** 22750000
                    ORG   TCPPSPECIFIC   Follows TcpParm Header         22800000
TCPPSELECT          DS    0F             Select                         22850000
TCPPSLNFDS          DC    F'0'            Current # Sockets per Path    22900000
TCPPSLTOFLAGS       DS    X               Timer Flags                   22950000
TCPPSLTOQUICK       EQU   X'80'            No wait if on                23000000
*                   EQU   X'7F'            Reserved (7 bits)            23050000
*                                                                       23100000
TCPPSLFLAGS         DC    X'0'            Select flags                  23150000
*                   EQU   X'80'            Reserved - do not use        23200000
TCPPSLREADFDS       EQU   X'40'            Readfds flags                23250000
TCPPSLWRITEFDS      EQU   X'20'            Writefds flags               23300000
TCPPSLEXCEPTFDS     EQU   X'10'            Exceptfds flags              23350000
*                   EQU   X'0F'            Reserved (4 bits)            23400000
*                                                                       23450000
TCPPSLRETFLAGS      DC    X'0'            Select Return Flags           23500000
*                   EQU   X'80'            Reserved - do not use        23550000
TCPPSLRETREADFDS    EQU   X'40'            Return Readfds flags         23600000
TCPPSLRETWRITEFDS   EQU   X'20'            Return Writefds flags        23650000
TCPPSLRETEXCEPTFDS  EQU   X'10'            Return Exceptfds flags       23700000
*                   EQU   X'0F'            Reserved (4 bits)            23750000
*                                                                       23800000
TCPPRESERVED1       DS    1C               Reserved              @D1A   23850000
*                                                                       23900000
TCPPSLTBSIPTR       DS    A             TBSI Ptr on Batch Select @D1A   23950000
*                                                                       24000000
*-----------------------------------------------------                  24050000
* Poll Events                                                           24100000
*-----------------------------------------------------                  24150000
TCPPPOLLEVENTS       DS   XL2     Mapped by PollEvents (BPXYPOLL) @D2A  24200000
*                                                                       24250000
*-----------------------------------------------------                  24300000
* Poll Returned Events                                                  24350000
*-----------------------------------------------------                  24400000
TCPPPOLLREVENTS      DS   XL2     Mapped by PollRevents (BPXYPOLL) @D2A 24450000
*                                                                       24500000
TCPPSELECT#LEN      EQU *-TCPPSELECT      Length of TCPPSELECT          24550000
*                                                                       24600000
*********************************************************************** 24650000
* SetIBMSockOpt:                                                  @D4A* 24700000
*********************************************************************** 24750000
                    ORG   TCPPSPECIFIC   Follows TcpParm Header    @D4A 24800000
TCPPSETISOCKOPT     DS    0F             SetIBMSockOpt             @D4A 24850000
TCPPSISOLEVEL       DS    F               Level                    @D4A 24900000
TCPPSISOOPTNAME     DS    F               Option name              @D4A 24950000
TCPPSISOOPTLEN      DC    F'0'            Option value length      @D4A 25000000
TCPPSISOOPTVAL      DS    CL32            Option value             @D4A 25050000
*                                                                       25100000
TCPPSETISOCKOPT#LEN EQU *-TCPPSETISOCKOPT Length of TCPPSETIBMSOCKOPT   25150000
*                                                                       25200000
*********************************************************************** 25250000
* SetsockOpt:                                                         * 25300000
*********************************************************************** 25350000
                    ORG   TCPPSPECIFIC   Follows TcpParm Header         25400000
TCPPSETSOCKOPT      DS    0F             SetSockOpt                     25450000
TCPPSSOLEVEL        DS    F               Level                         25500000
TCPPSSOOPTNAME      DS    F               Option name                   25550000
TCPPSSOOPTLEN       DC    F'0'            Option value length           25600000
TCPPSSOOPTVAL       DS    CL8             Option value                  25650000
*                                                                       25700000
TCPPSETSOCKOPT#LEN  EQU *-TCPPSETSOCKOPT  Length of TCPPSETSOCKOPT      25750000
*                                                                       25800000
*********************************************************************** 25850000
* Shutdown:                                                           * 25900000
*********************************************************************** 25950000
                    ORG   TCPPSPECIFIC   Follows TcpParm Header         26000000
TCPPSHUTDOWN        DS    0F             Shutdown                       26050000
TCPPSHHOW           DS    F               Shutdown flags                26100000
*                                                                       26150000
TCPPSHUTDOWN#LEN    EQU *-TCPPSHUTDOWN   Length of TCPPSHUTDOWN         26200000
*                                                                       26250000
*********************************************************************** 26300000
* Socket:                                                             * 26350000
*********************************************************************** 26400000
                    ORG   TCPPSPECIFIC   Follows TcpParm Header         26450000
TCPPSOCKET          DS    0F             Socket                         26500000
TCPPSODOMAIN        DC    F'0'            Domain of socket              26550000
TCPPSOTYPE          DC    F'0'            Type of socket                26600000
TCPPSOPROTOCOL      DC    F'0'            Protocol of socket            26650000
TCPPSORETSOCKID     DC    F'0'            Returned: Socket Id           26700000
*                                                                       26750000
TCPPSOCKET#LEN      EQU *-TCPPSOCKET     Length of TCPPSOCKET           26800000
*                                                                       26850000
*********************************************************************** 26900000
*********************************************************************** 26950000
*********************************************************************** 27000000
*                         CONSTANTS                                   * 27050000
*********************************************************************** 27100000
*********************************************************************** 27150000
*********************************************************************** 27200000
*                                                                       27250000
TCPP#REQUESTPATHID       EQU    -1      IUCV Connect pathid for Tcp/Ip  27300000
*                                       to assign                       27350000
*                                                                       27400000
TCPP#REQUESTSOCKID       EQU    -1      Socket/Accept SockId to have    27450000
*                                       Tcp/Ip assign SockId for the    27500000
*                                       caller                          27550000
*                                                                       27600000
TCPP#OMVSNAME            DC  C'OMVS    ' OMVS Userid                    27650000
*                                                                       27700000
TCPP#MAXSOCKPERPATH      EQU  2000      Maximum sockets per Tcp/Ip path 27750000
*                                                                       27800000
TCPP#MAXPAIDE            EQU 65535      Maximum number of pathids used  27850000
*                                       with subtask Id assignment in   27900000
*                                       BPXTUNWK                        27950000
*                                                                       28000000
*                                                                       28050000
*********************************************************************** 28100000
* Tcp/Ip PC Catcher Return Code Constants                             * 28150000
*********************************************************************** 28200000
TCPPARM#OK               EQU     0      Request queued to processor     28250000
*                                                                       28300000
TCPPARM#RESNOTAVAILABLE  EQU     4      Tcp/Ip not able to field        28350000
*                                       request due to resource         28400000
*                                       contraints                      28450000
*                                                                       28500000
TCPPARM#BADTYPECODE      EQU     8      Bad type code passed to PC      28550000
*                                       routine                         28600000
*                                                                       28650000
TCPPARM#BADDATA          EQU    12      Bad data passed to Tcp/Ip       28700000
*                                                                       28750000
TCPPARM#UNEXPECTEDABEND  EQU    16      Unexpected Abend in Tcp/Ip      28800000
*                                                                       28850000
*********************************************************************** 28900000
* TcppType constants:                                                 * 28950000
*********************************************************************** 29000000
TCPPTYPE#INITSEND        EQU     0                INITIAL SEND          29050000
TCPPTYPE#ACCEPT          EQU     1                ACCEPT                29100000
TCPPTYPE#BIND            EQU     2                BIND                  29150000
TCPPTYPE#CLOSE           EQU     3                CLOSE                 29200000
*                                                                       29250000
TCPPTYPE#CONNECT         EQU     4                CONNECT               29300000
TCPPTYPE#FCNTL           EQU     5                FCNTL                 29350000
TCPPTYPE#GETHOSTID       EQU     7                GETHOSTID             29400000
TCPPTYPE#GETHOSTNAME     EQU     8                GETHOSTNAME           29450000
*                                                                       29500000
TCPPTYPE#GETPEERNAME     EQU     9                GETPEERNAME           29550000
TCPPTYPE#GETSOCKNAME     EQU     10               GETSOCKNAME           29600000
TCPPTYPE#GETSOCKOPT      EQU     11               GETSOCKOPT            29650000
TCPPTYPE#IOCTL           EQU     12               IOCTL                 29700000
*                                                                       29750000
TCPPTYPE#LISTEN          EQU     13               LISTEN                29800000
*                                                                       29850000
TCPPTYPE#PRIMEREAD       EQU     14               PRIME FOR READ        29900000
TCPPTYPE#PRIMEREADV      EQU     15               PRIME FOR READV       29950000
TCPPTYPE#PRIMERECV       EQU     16               PRIME FOR RECV        30000000
TCPPTYPE#PRIMERECVFROM   EQU     17               PRIME " RECVFROM      30050000
TCPPTYPE#PRIMERECVMSG    EQU     18               PRIME " RECVMSG       30100000
*                                                                       30150000
TCPPTYPE#READ            EQU     19               READ                  30200000
TCPPTYPE#READV           EQU     20               READV                 30250000
TCPPTYPE#RECV            EQU     21               RECV                  30300000
TCPPTYPE#RECVFROM        EQU     22               RECVFROM              30350000
TCPPTYPE#RECVMSG         EQU     23               RECVMSG               30400000
*                                                                       30450000
TCPPTYPE#PRIMEWRITE      EQU     24               PRIME FOR WRITE       30500000
TCPPTYPE#PRIMEWRITEV     EQU     25               PRIME FOR WRITEV      30550000
TCPPTYPE#PRIMESEND       EQU     26               PRIME FOR SEND        30600000
TCPPTYPE#PRIMESENDTO     EQU     27               PRIME FOR SENDTO      30650000
TCPPTYPE#PRIMESENDMSG    EQU     28               PRIME SENDMSG         30700000
*                                                                       30750000
TCPPTYPE#WRITE           EQU     29               WRITE                 30800000
TCPPTYPE#WRITEV          EQU     30               WRITEV                30850000
TCPPTYPE#SEND            EQU     31               SEND                  30900000
TCPPTYPE#SENDTO          EQU     32               SENDTO                30950000
TCPPTYPE#SENDMSG         EQU     33               SENDMSG               31000000
*                                                                       31050000
TCPPTYPE#SETSOCKOPT      EQU     34               SETSOCKOPT            31100000
TCPPTYPE#SHUTDOWN        EQU     35               SHUTDOWN              31150000
TCPPTYPE#SOCKET          EQU     36               SOCKET                31200000
*                                                                       31250000
TCPPTYPE#SELECT          EQU     37               SELECT WAIT           31300000
*                                                                       31350000
TCPPTYPE#CANCEL          EQU     38               CANCEL                31400000
TCPPTYPE#IUCVCONNECT     EQU     39               IUCV CONNECT          31450000
TCPPTYPE#SEVER           EQU     40               SEVER TYPE CODE       31500000
*                                                                       31550000
TCPPTYPE#SELECTBATCH     EQU     41               BATCH SELECT   @D1A   31600000
TCPPTYPE#POLL            EQU     42               POLL WAIT      @D2A   31650000
TCPPTYPE#POLLBATCH       EQU     43               BATCH POLL     @D2A   31700000
TCPPTYPE#SETISOCKOPT     EQU     44               SETIBMSOCKOPT  @D4A   31750000
** BPXYTCPP End                                                         31800000
         SPACE 3                                                        31850000
         AIF   ('&LIST' EQ 'YES').E411                                  31900000
         POP   PRINT                                                    31950000
.E411    ANOP  ,                                                        32000000
         MEND                                                           32050000
  Terminating PL/X comment                                          */  32100000
*                                                                       32150000
 %TCPPPLS : ;                                                           32200000
 /********************************************************************/ 32250000
 /******************** TCP/IP PC Parameter List **********************/ 32300000
 /********************************************************************/ 32350000
 %DCL TCPPVIA CHAR EXTERNAL;                                            32400000
 %DCL TCPPBASE CHAR EXTERNAL;                                           32450000
 %IF TCPPBASE='' %THEN                                                  32500000
   %DO;                                                                 32550000
     %TCPPBASE='Based(TcpParmPtr)';                                     32600000
   %END;                                                                32650000
 %IF TRANSLATE(TCPPBASE)='BASED(TCPPARMPTR)' %THEN                      32700000
   %DO;                                                                 32750000
     Dcl TcpParmPtr Ptr(31);      /* Pointer to the Tcpp          */    32800000
   %END;                                                                32850000
 %IF TCPPVIA='' %THEN                                                   32900000
   %DO;                                                                 32950000
     %TCPPVIA='';                                                       33000000
   %END;                                                                33050000
 %IF TRANSLATE(TCPPVIA)='VIA(TCPPALET)' %THEN                           33100000
   %DO;                                                                 33150000
     DCL TcppAlet FIXED(32);                                            33200000
   %END;                                                                33250000
                                                                        33300000
 /********************************************************************/ 33350000
 /*                       TcpParm                                    */ 33400000
 /********************************************************************/ 33450000
                                                                        33500000
 Declare                                                                33550000
   1 TcpParm           Bdy(WORD) TCPPBASE TCPPVIA,                      33600000
     2 TcppEye         Char ( 4),    /* Eye catcher 'TCPP'           */ 33650000
     2 TcppLen         Fixed(31),    /* Len of TcpParm               */ 33700000
       3 TcppGarbQNextPtr Ptr(31),   /* Ptr to next free Tcpparm @01A*/ 33750000
     2 TcppType        Fixed(31),    /* See TcppType#* for types     */ 33800000
     2 TcppHomePtr     Ptr  (31),    /* Ptr to original TcpParm      */ 33850000
                                                                        33900000
     2 TcppCSwapCtr    Fixed(31),    /* Counter area to Compare and     33950000
                                        Swap for Cleanup             */ 34000000
                                                                        34050000
     2 TcppMsgId       Ptr  (31),    /* MsgId (Filled in by Tcp/Ip)     34100000
                                        and used on Cancel           */ 34150000
                                                                        34200000
     2 TcppFlags       Bit  ( 8),    /* Flags                        */ 34250000
       3 TcppNoIoCtl   Bit  ( 1),    /* No IoCtl to be done by TcpIp */ 34300000
       3 TcppSrbSched  Bit  ( 1),    /* Sched SRB instead of Post@D5A*/ 34350000
       3 TcppGoodCancel Bit ( 1),    /* TCP/IP cancel cancelled  @P9A*/ 34400000
       3 *             Bit  ( 5),    /* RESERVED                     */ 34450000
     2 *               Char ( 7),    /* RESERVED                     */ 34500000
                                                                        34550000
     2 TcppCallersPid  Fixed(31),    /* Callers Pid for SigPipe         34600000
                                        Signal                       */ 34650000
                                                                        34700000
     2 TcppTrgCls      Fixed(31),    /* Target class (Filled in by      34750000
                                        Tcp/Ip) and used on Cancel   */ 34800000
                                                                        34850000
     2 TcppWPToken     Char (24),    /* Kernel Post Token            */ 34900000
     2 TcppIPWorkArea  Char (32),    /* TcpIp Work area              */ 34950000
                                                                        35000000
     2 TcppSocketToken Char ( 8) Bdy(Word), /* Socket Token          */ 35050000
       3 TcppPathid     Fixed(31),   /* IUCV Pathid id               */ 35100000
       3 TcppSockId     Fixed(31),   /* Socket Id                    */ 35150000
                                                                        35200000
     2 TcppRetCode     Fixed(31),    /* Return Code                  */ 35250000
     2 TcppErrno       Fixed(31),    /* Errno                        */ 35300000
     2 TcppSpecific    Char (60),    /* Call Specific Output area    */ 35350000
 /********************************************************************/ 35400000
 /* Cancel: (Read/Write/Accept/Select only)                      @01M*/ 35450000
 /********************************************************************/ 35500000
     2 TcppCancel,                   /* Cancel section               */ 35550000
       3 TcppClTrgCls     Fixed(31), /* TrgCls of request to cancel  */ 35600000
       3 TcppClSockId     Fixed(31), /* SocketId of request to cancel*/ 35650000
         4 TcppClSlDescSS Fixed(31), /* Descriptor set size of select   35700000
                                        request                      */ 35750000
       3 TcppClMsgId      Fixed(31), /* MsgId of original cancel     */ 35800000
     2 TcppAsyTok      Char(8),      /* Token to lfs Asynch CB   @D5A*/ 35850000
     2 *               Char(16),     /* RESERVED                 @D5A*/ 35900000
   /******************************************************************/ 35950000
   /* End of control block                                           */ 36000000
   /******************************************************************/ 36050000
     2 * CHAR(0) BDY(WORD);         /* Ensure CB ends on WORD boundry*/ 36100000
                                                                        36150000
 /********************************************************************/ 36200000
 /*                 Constants used in the Header                     */ 36250000
 /********************************************************************/ 36300000
 Declare                                                                36350000
  Tcpp#Eye     Char(4)   Constant('TCPP'),            /* Eye catcher */ 36400000
  TcpParm#Len  Fixed(31) Constant(Length(TcpParm));/* Length      */    36450000
                                                                        36500000
 /********************************************************************/ 36550000
 /********************************************************************/ 36600000
 /********************************************************************/ 36650000
 /*                 CALL SPECIFIC DECLARATIONS                       */ 36700000
 /********************************************************************/ 36750000
 /********************************************************************/ 36800000
 /********************************************************************/ 36850000
                                                                        36900000
                                                                        36950000
 /********************************************************************/ 37000000
 /*                 Init/Term Calls                                  */ 37050000
 /********************************************************************/ 37100000
 /* IUCV Connect: (Get PathId)                                       */ 37150000
 /********************************************************************/ 37200000
 Declare                                                                37250000
   1 TcppIUCVConnect      Defined(TcppSpecific),                        37300000
     2 TcppRCUserid       Char(8),   /* MVS UserId                   */ 37350000
     2 TcppRCSockPerPath  Fixed(31), /* Number of Sockets per Path   */ 37400000
     2 TcppRRetPathId     Fixed(31); /* Returned: PathId             */ 37450000
                                                                        37500000
 /********************************************************************/ 37550000
 /* Initial Send:                                                    */ 37600000
 /********************************************************************/ 37650000
 Declare                                                                37700000
   1 TcppInitSend         Defined(TcppSpecific),                        37750000
     2 TcppRSubtaskId     Char(8),   /* Unique subtask Id            */ 37800000
     2 TcppRISockPerPath  Fixed(31), /* Number of Sockets per Path   */ 37850000
     2 TcppRRetSockperpath Fixed(31); /* Returned: Sockets per Path  */ 37900000
                                                                        37950000
 /********************************************************************/ 38000000
 /* Sever:                                                           */ 38050000
 /********************************************************************/ 38100000
 Declare                                                                38150000
   1 TcppSever            Defined(TcppSpecific),                        38200000
     2 TcppSUserid        Char(8);   /* UserId to sever              */ 38250000
                                                                        38300000
 /********************************************************************/ 38350000
 /************************* Socket Calls *****************************/ 38400000
 /********************************************************************/ 38450000
                                                                        38500000
 /********************************************************************/ 38550000
 /* Accept:                                                          */ 38600000
 /********************************************************************/ 38650000
 Declare                                                                38700000
   1 TcppAccept           Defined(TcppSpecific),                        38750000
     2 TcppAPathId        Fixed(31), /* Pathid for new socket        */ 38800000
     2 TcppARetAddrNPort  Char(16),  /* Returned: Address of "peer"  */ 38850000
       3 TcppARetAddrNPlen Char(1),  /* Returned: Length of "peer@P2A*/ 38900000
       3 *                Char(15),  /* Filler to NPort          @P2A*/ 38950000
     2 TcppARetSockId     Fixed(31), /* Returned: Socket Id          */ 39000000
     2 TcppAAsyncIdxSave  Fixed(31), /* Paid Index save area     @D5A*/ 39050000
     2 TcppAAsyncTnodSave Char(8);   /* Tnod Token save area     @D5A*/ 39100000
                                                                        39150000
 /********************************************************************/ 39200000
 /* Bind:                                                            */ 39250000
 /********************************************************************/ 39300000
 Declare                                                                39350000
   1 TcppBind             Defined(TcppSpecific),                        39400000
     2 TcppBAddrNPort      Char(16), /* Address to bind to           */ 39450000
       3 TcppBAddrNPlen    Char(1),  /* Address to bind to length@P2A*/ 39500000
       3 *                Char(15);  /* Filler to NPort          @P2A*/ 39550000
                                                                        39600000
 /********************************************************************/ 39650000
 /* Close: (No mapping necessary)                                    */ 39700000
 /********************************************************************/ 39750000
                                                                        39800000
 /********************************************************************/ 39850000
 /* Connect:                                                         */ 39900000
 /********************************************************************/ 39950000
 Declare                                                                40000000
   1 TcppConnect          Defined(TcppSpecific),                        40050000
     2 TcppCoAddrNPort    Char(16),  /* Address to connect to        */ 40100000
       3 TcppCoAddrNPlen  Char(1),   /* Address to connect to len@P2A*/ 40150000
       3 *                Char(15);  /* Filler to NPort          @P2A*/ 40200000
                                                                        40250000
 /********************************************************************/ 40300000
 /* Fcntl:                                                           */ 40350000
 /********************************************************************/ 40400000
 Declare                                                                40450000
   1 TcppFCntl            Defined(TcppSpecific),                        40500000
     2 TcppFCommand       Fixed(31), /* Command options currently:      40550000
                                        F_SETFL (4) or F_GETFL (3)   */ 40600000
     2 TcppFArgument      Fixed(31); /* Arguments currently:            40650000
                                        FNDELAY (x'00000004')        */ 40700000
                                                                        40750000
 /********************************************************************/ 40800000
 /* GetHostId: (No mapping necessary)                                */ 40850000
 /********************************************************************/ 40900000
                                                                        40950000
 /********************************************************************/ 41000000
 /* GetHostName:                                                     */ 41050000
 /********************************************************************/ 41100000
 Declare                                                                41150000
   1 TcppGetHostName      Defined(TcppSpecific),                        41200000
     2 TcppGHostNameLen Fixed(31),    /* Input: Host Name Length     */ 41250000
     2 TcppGRetHostNameLen Fixed(31), /* Returned: Host Name Length  */ 41300000
     2 TcppGRetHostName   Char(Tcpp#MaxHostNameLen); /* Returned:       41350000
                                        Host Name                    */ 41400000
                                                                        41450000
 /********************************************************************/ 41500000
 /* GetPeerName:                                                     */ 41550000
 /********************************************************************/ 41600000
 Declare                                                                41650000
   1 TcppGetPeerName      Defined(TcppSpecific),                        41700000
     2 TcppGPRetAddrNPort Char(16),  /* Returned: Address of Peer    */ 41750000
       3 TcppGPRetAddrNPlen Char(1), /* Returned: Length of Peer @P2A*/ 41800000
       3 *                Char(15);  /* Filler to NPort          @P2A*/ 41850000
                                                                        41900000
 /********************************************************************/ 41950000
 /* GetSockName:                                                     */ 42000000
 /********************************************************************/ 42050000
 Declare                                                                42100000
   1 TcppGetSockName      Defined(TcppSpecific),                        42150000
     2 TcppGSRetAddrNPort Char(16),  /* Returned: Address of self    */ 42200000
       3 TcppGSRetAddrNPlen Char(1), /* Returned: Length of self @P2A*/ 42250000
       3 *                Char(15);  /* Filler to NPort          @P2A*/ 42300000
                                                                        42350000
 /********************************************************************/ 42400000
 /* GetsockOpt:                                                      */ 42450000
 /********************************************************************/ 42500000
 Declare                                                                42550000
   1 TcppGetSockOpt       Defined(TcppSpecific),                        42600000
     2 TcppGSOLevel       Fixed(31), /* Level                        */ 42650000
     2 TcppGSOOptName     Fixed(31), /* Option name                  */ 42700000
     2 TcppGSOOptLen      Fixed(31), /* Option value length          */ 42750000
     2 TcppGSORetOptValue Char(8),   /* Option value                 */ 42800000
     2 TcppGSORetOptLen   Fixed(31); /* Returned option val len  @02A*/ 42850000
                                                                        42900000
 /********************************************************************/ 42950000
 /* Ioctl:                                                           */ 43000000
 /********************************************************************/ 43050000
 Declare                                                                43100000
   1 TcppIoctl            Defined(TcppSpecific),                        43150000
     2 TcppIRequestType   Fixed(31), /* Ioctl Request Type           */ 43200000
     2 TcppIArgpLen       Fixed(31), /* Argp Length (Input)          */ 43250000
       3 TcppIRetArgpLen  Fixed(31), /* Argp Length (Output)         */ 43300000
     2 TcppIArgp          Char(48),  /* Argp (Input)                 */ 43350000
       3 TcppIRetArgp     Char(48);  /* Argp (Output)                */ 43400000
                                                                        43450000
 Declare                                                                43500000
   1 TcppIoctlArgp        Defined(TcppIArgp), /*                 @P2A*/ 43550000
     2 TcppIfcLen         Fixed(31), /* Ifc_Len                  @P2A*/ 43600000
     2 TcppIfrIfru        Fixed(31), /* Ifr_Ifru                 @P2A*/ 43650000
     2 TcppIWAAddr        Ptr(31);   /* Work area address of temp buf   43700000
                                                                 @P2A*/ 43750000
                                                                        43800000
 Declare                                                                43850000
   1 TcppIRetIoctlArgp    Defined(TcppIRetArgp),                        43900000
     2 TcppIRetIfcAddr    Ptr(31),   /* Ifc area in home         @P2A*/ 43950000
     2 TcppIRetIfcLen     Fixed(31), /* Ifc_Len returned         @P2A*/ 44000000
     2 TcppIRetWAAddr     Ptr(31);   /* Work area address of temp buf   44050000
                                                                 @P2A*/ 44100000
 /********************************************************************/ 44150000
 /* Listen:                                                          */ 44200000
 /********************************************************************/ 44250000
 Declare                                                                44300000
   1 TcppListen           Defined(TcppSpecific),                        44350000
     2 TcppLBackLogCt     Fixed(31); /* Back log count               */ 44400000
                                                                        44450000
 /********************************************************************/ 44500000
 /* Read/Readv/Recv/RecvFrom/RecvMsg:                                */ 44550000
 /* Write/Writev/Send/SendTo/SendMsg:                                */ 44600000
 /*                                                                  */ 44650000
 /* All of the Read/Readv/Recv/RecvFrom/RecvMsg and Write/WriteV/    */ 44700000
 /* Send/SendTo/SendMsg declarations are consolidated into one       */ 44750000
 /* declare, which is mapped by TcppSndRecv.                         */ 44800000
 /*                                                                  */ 44850000
 /* The flags field, TcppSRFlags, is specifically broken down in     */ 44900000
 /* TcppSendFlags for send(etc) and TcppRecvFlags for  recv(etc).    */ 44950000
 /*                                                                  */ 45000000
 /********************************************************************/ 45050000
 Declare                                                                45100000
   1 TcppSndRecv          Defined(TcppSpecific),                        45150000
     2 TcppSRFlags        Bit(32),   /* Send/Recv Flags: See below   */ 45200000
     2 TcppSRAddrNPort    Char(16),  /* Send: Address of msg receiver   45250000
                                        Recv: Address of msg source  */ 45300000
       3 TcppSRAddrNPlen  Char(1),   /* Send or Recv: Len of addr@P2A*/ 45350000
       3 *                Char(15),  /* Filler to NPort          @P2A*/ 45400000
     2 TcppSRLen          Fixed(31), /* Send/Recv buffer length      */ 45450000
       3 TcppSRVectCnt    Fixed(31), /*  Number of Vector Pairs      */ 45500000
                                                                        45550000
     2 TcppSRAddr         Ptr(31),   /* Send/Recv buffer address     */ 45600000
       3 TcppSRVectAddr   Ptr(31),   /*  Vector buffer address       */ 45650000
                                                                        45700000
     2 TcppSRVectAlet     Fixed(32), /* Vector Alet                  */ 45750000
     2 TcppSRBuffAlet     Fixed(32), /* Buffer Alet                  */ 45800000
                                                                        45850000
     2 TcppSRKey          Char(1),   /* Send: Key of Source buffer      45900000
                                        Recv: Key of Destination buf */ 45950000
       3 TcppSRKey4       Bit(4),                                       46000000
       3 *                Bit(4),                                       46050000
                                                                        46100000
     2 TcppSRTFlags       Char(1),   /* Non-Socket Flags             */ 46150000
       3 TcppSFSmall      Bit(1),    /* Small Msg (Send*,Write Only) */ 46200000
       3 TcppSRflush      Bit(1),    /* Tcp flush buffers, don't copy*/ 46250000
       3 TcppSRSendEnd    Bit(1),    /* Tcp Send Complete            */ 46300000
       3 TcppSRDoFlush    Bit(1),    /* Flush required from RW2  @P3A*/ 46350000
       3 TcppSRZeroBytes  Bit(1),    /* Zero Byte Send/Recv      @P4A*/ 46400000
       3 TcppSRNoPrimeCk  Bit(1),    /* Data not chked til move  @D5A*/ 46450000
       3 TcppSRBulk       Bit(1),    /* Bulkmode request         @PAA*/ 46500000
                                                                        46550000
     2 *                  Char(2),   /* RESERVED                     */ 46600000
                                                                        46650000
     2 TcppSRRetLen       Fixed(31), /* Returned: Bytes Read/Write   */ 46700000
     2 TcppSRRetSMFRecCnt Fixed(31), /* Returned: Approximate number    46750000
                                        of IOs per send          @P5A*/ 46800000
     2 TcppSRMsgHFlags    Bit(32),   /* Returned: Output flags   @D3A*/ 46850000
       3 *                Bit(26),   /* Reserved                 @D3A*/ 46900000
       3 TcppSRMsgHCTRUNC Bit(1),    /* MSG_CTRUNC Flag          @D3A*/ 46950000
       3 TcppSRMsgHTRUNC  Bit(1),    /* MSG_TRUNC Flag           @D3A*/ 47000000
       3 TcppSRMsgHEOR    Bit(1),    /* MSG_EOR Flag             @D3A*/ 47050000
       3 *                Bit(1),    /* Reserved                 @D3A*/ 47100000
       3 *                Bit(1),    /* Reserved                 @D3A*/ 47150000
       3 TcppSRMsgHOOB    Bit(1);    /* MSG_OOB Flag             @D3A*/ 47200000
                                                                        47250000
 Declare                                                                47300000
   1 TcppSendFlags        Defined(TcppSRFlags),                         47350000
     2 *                  Bit(29),   /* Reserved                     */ 47400000
     2 TcppSFMDNTRT       Bit(1),    /* MSG_DONTROUTE Flag           */ 47450000
     2 *                  Bit(1),    /* RESERVED                     */ 47500000
     2 TcppSFMOOB         Bit(1);    /* MSG_OOB Flag                 */ 47550000
                                                                        47600000
 Declare                                                                47650000
   1 TcppRecvFlags        Defined(TcppSRFlags),                         47700000
     2 *                  Bit(30),   /* Reserved                     */ 47750000
     2 TcppReFMPEEK       Bit(1),    /* MSG_PEEK Flag                */ 47800000
     2 TcppReFMOOB        Bit(1);    /* MSG_OOB Flag                 */ 47850000
                                                                        47900000
 /********************************************************************/ 47950000
 /* Select:                                                          */ 48000000
 /********************************************************************/ 48050000
 Declare                                                                48100000
   1 TcppSelect           Defined(TcppSpecific),                        48150000
     3 TcppSLnfds         Fixed(31), /* Current # Sockets per Path   */ 48200000
     3 TcppSLTOFlags      Bit(8),   /* Timer Flags                   */ 48250000
       5 TcppSLTOQuick    Bit(1),   /* No wait if on                 */ 48300000
     3 TcppSLFlags        Bit(8),   /* Select flags (should be          48350000
                                       compatible with BPXYSEL)      */ 48400000
       5 *                Bit(1),   /* Reserved - do not use         */ 48450000
       5 TcppSLReadfds    Bit(1),   /* Readfds flags                 */ 48500000
       5 TcppSLWritefds   Bit(1),   /* Writefds flags                */ 48550000
       5 TcppSLExceptfds  Bit(1),   /* Exceptfds flags               */ 48600000
       5 *                Bit(4),   /* Reserved                      */ 48650000
     3 TcppSLRetFlags     Bit(8),     /* Select Return Flags (should be 48700000
                                       compatible with BPXYSEL)      */ 48750000
       5 *                Bit(1),     /* Reserved - do not use       */ 48800000
       5 TcppSLRetReadfds Bit(1),     /* Return Readfds flags        */ 48850000
       5 TcppSLRetWritefds Bit(1),    /* Return Writefds flags       */ 48900000
       5 TcppSLRetExceptfds Bit(1),   /* Return Exceptfds flags      */ 48950000
       5 *                Bit(4),     /* Reserved                    */ 49000000
     3 *                  Char(1),    /* Reserved                    */ 49050000
     3 TcppSLTBSIPtr      Ptr(31),  /* Pointer to TBSI on batch         49100000
                                       Select                    @D1A*/ 49150000
     3 TcppPollEvents Bit(16),      /* Mapped by PollEvents of          49200000
                                       BPXYPOLL                  @D2A*/ 49250000
     3 TcppPollRevents Bit(16);     /* Mapped by PollRevents of         49300000
                                       BPXYPOLL                  @D2A*/ 49350000
                                                                        49400000
 /********************************************************************/ 49450000
 /* SetIBMSockOpt:                                               @D4A*/ 49500000
 /********************************************************************/ 49550000
 Declare                                                                49600000
   1 TcppSetISockOpt      Defined(TcppSpecific),                        49650000
     2 TcppSISOLevel      Fixed(31), /* Level                    @D4A*/ 49700000
     2 TcppSISOOptName    Fixed(31), /* Option name              @D4A*/ 49750000
     2 TcppSISOOptLen     Fixed(31), /* Option value length      @D4A*/ 49800000
     2 TcppSISOOptVal     Char(32);  /* Option value             @D4A*/ 49850000
                                                                        49900000
 /********************************************************************/ 49950000
 /* SetsockOpt:                                                      */ 50000000
 /********************************************************************/ 50050000
 Declare                                                                50100000
   1 TcppSetSockOpt       Defined(TcppSpecific),                        50150000
     2 TcppSSOLevel       Fixed(31), /* Level                        */ 50200000
     2 TcppSSOOptName     Fixed(31), /* Option name                  */ 50250000
     2 TcppSSOOptLen      Fixed(31), /* Option value length          */ 50300000
     2 TcppSSOOptVal      Char(8);   /* Option value                 */ 50350000
                                                                        50400000
 /********************************************************************/ 50450000
 /* Shutdown:                                                        */ 50500000
 /********************************************************************/ 50550000
 Declare                                                                50600000
   1 TcppShutdown         Defined(TcppSpecific),                        50650000
     2 TcppShHow          Fixed(31); /* Shutdown flags               */ 50700000
                                                                        50750000
 /********************************************************************/ 50800000
 /* Socket:                                                          */ 50850000
 /********************************************************************/ 50900000
 Declare                                                                50950000
   1 TcppSocket           Defined(TcppSpecific),                        51000000
     2 TcppSoDomain       Fixed(31), /* Domain of socket             */ 51050000
     2 TcppSoType         Fixed(31), /* Type of socket               */ 51100000
     2 TcppSoProtocol     Fixed(31), /* Protocol of socket           */ 51150000
     2 TcppSoRetSockId    Fixed(31); /* Returned: Socket Id          */ 51200000
                                                                        51250000
 /********************************************************************/ 51300000
 /********************************************************************/ 51350000
 /********************************************************************/ 51400000
 /*                         CONSTANTS                                */ 51450000
 /********************************************************************/ 51500000
 /********************************************************************/ 51550000
 /********************************************************************/ 51600000
 Declare                                                                51650000
  Tcpp#MaxSioCGIfConf  Fixed(31)                                        51700000
                       Constant(3200),  /* Maximum Ioctl SIOCGIFCONF    51750000
                                           Reply length (32*100)     */ 51800000
  Tcpp#MaxHostNameLen  Fixed(31)                                        51850000
                       Constant(35),    /* HostName length              51900000
                        35 chars=wwwwwwww.xxxxxxxx.yyyyyyyy.zzzzzzzz */ 51950000
  Tcpp#RequestPathId   Fixed(31)                                        52000000
                       Constant(-1),    /* IUCV Connect pathid for      52050000
                                           TcpIp to assign           */ 52100000
  Tcpp#RequestSockId   Fixed(31)                                        52150000
                       Constant(-1),    /* Socket/Accept SockId to have 52200000
                                           Tcp/Ip assign SockId for the 52250000
                                           caller                    */ 52300000
                                                                        52350000
  Tcpp#OMVSName        Char(8)                                          52400000
                       Constant('OMVS    '), /* OMVS UserId          */ 52450000
                                                                        52500000
  Tcpp#MaxSockPerPath  Fixed(31)                                        52550000
                       Constant(2000),  /* Current maximum sockets per  52600000
                                           path value in Tcp/Ip      */ 52650000
                                                                        52700000
  Tcpp#MaxPaidE        Fixed(31)                                        52750000
                       Constant(65535); /* Current maximum number of    52800000
                                           path ids used with subtask   52850000
                                           Id assignment in BPXTUNWK */ 52900000
                                                                        52950000
 /********************************************************************/ 53000000
 /* Tcp/Ip PC Catcher Return Code Constants                          */ 53050000
 /********************************************************************/ 53100000
 Declare                                                                53150000
  TcpParm#Ok              Fixed(31)                                     53200000
                          Constant(0), /* Request queued to processor*/ 53250000
                                                                        53300000
  TcpParm#ResNotAvailable Fixed(31)                                     53350000
                          Constant(4), /* Tcp/Ip not able to field      53400000
                                          request due to resource       53450000
                                          contraints                 */ 53500000
                                                                        53550000
  TcpParm#BadTypeCode     Fixed(31)                                     53600000
                          Constant(8), /* Bad type code passed to PC    53650000
                                          routine                    */ 53700000
                                                                        53750000
  TcpParm#BadData         Fixed(31)                                     53800000
                          Constant(12),/* Bad data passed to TcpIp      53850000
                                          routine                    */ 53900000
                                                                        53950000
  TcpParm#UnexpectedAbend Fixed(31)                                     54000000
                          Constant(16); /* Unexpected Abend in Tcp/Ip*/ 54050000
 /********************************************************************/ 54100000
 /* TcppType constants:                                              */ 54150000
 /********************************************************************/ 54200000
 Declare                                                                54250000
  TcppType#InitSend      Fixed(31) Constant(0),   /* Initial Send    */ 54300000
  TcppType#Accept        Fixed(31) Constant(1),   /* Accept          */ 54350000
  TcppType#Bind          Fixed(31) Constant(2),   /* Bind            */ 54400000
  TcppType#Close         Fixed(31) Constant(3),   /* Close           */ 54450000
                                                                        54500000
  TcppType#Connect       Fixed(31) Constant(4),   /* Connect         */ 54550000
  TcppType#Fcntl         Fixed(31) Constant(5),   /* Fcntl           */ 54600000
  TcppType#GetHostId     Fixed(31) Constant(7),   /* GetHostId       */ 54650000
  TcppType#GetHostName   Fixed(31) Constant(8),   /* GetHostName     */ 54700000
                                                                        54750000
  TcppType#GetPeerName   Fixed(31) Constant(9),   /* GetPeerName     */ 54800000
  TcppType#GetSockName   Fixed(31) Constant(10),  /* GetSockName     */ 54850000
  TcppType#GetSockOpt    Fixed(31) Constant(11),  /* GetSockOpt      */ 54900000
  TcppType#Ioctl         Fixed(31) Constant(12),  /* Ioctl           */ 54950000
                                                                        55000000
  TcppType#Listen        Fixed(31) Constant(13),  /* Listen          */ 55050000
                                                                        55100000
  TcppType#PrimeRead     Fixed(31) Constant(14),  /* Prime for Read  */ 55150000
  TcppType#PrimeReadV    Fixed(31) Constant(15),  /* Prime for ReadV */ 55200000
  TcppType#PrimeRecv     Fixed(31) Constant(16),  /* Prime for Recv  */ 55250000
  TcppType#PrimeRecvFrom Fixed(31) Constant(17),  /* Prime " RecvFrom*/ 55300000
  TcppType#PrimeRecvMsg  Fixed(31) Constant(18),  /* Prime " RecvMsg */ 55350000
                                                                        55400000
  TcppType#Read          Fixed(31) Constant(19),  /* Read            */ 55450000
  TcppType#ReadV         Fixed(31) Constant(20),  /* ReadV           */ 55500000
  TcppType#Recv          Fixed(31) Constant(21),  /* Recv            */ 55550000
  TcppType#RecvFrom      Fixed(31) Constant(22),  /* RecvFrom        */ 55600000
  TcppType#RecvMsg       Fixed(31) Constant(23),  /* RecvMsg         */ 55650000
                                                                        55700000
  TcppType#PrimeWrite    Fixed(31) Constant(24),  /* Prime for Write */ 55750000
  TcppType#PrimeWritev   Fixed(31) Constant(25),  /* Prime for WriteV*/ 55800000
  TcppType#PrimeSend     Fixed(31) Constant(26),  /* Prime for Send  */ 55850000
  TcppType#PrimeSendTo   Fixed(31) Constant(27),  /* Prime for SendTo*/ 55900000
  TcppType#PrimeSendMsg  Fixed(31) Constant(28),  /* Prime SendMsg   */ 55950000
                                                                        56000000
  TcppType#Write         Fixed(31) Constant(29),  /* Write           */ 56050000
  TcppType#WriteV        Fixed(31) Constant(30),  /* WriteV          */ 56100000
  TcppType#Send          Fixed(31) Constant(31),  /* Send            */ 56150000
  TcppType#SendTo        Fixed(31) Constant(32),  /* SendTo          */ 56200000
  TcppType#SendMsg       Fixed(31) Constant(33),  /* SendMsg         */ 56250000
                                                                        56300000
  TcppType#SetSockOpt    Fixed(31) Constant(34),  /* SetSockOpt      */ 56350000
  TcppType#Shutdown      Fixed(31) Constant(35),  /* Shutdown        */ 56400000
  TcppType#Socket        Fixed(31) Constant(36),  /* Socket          */ 56450000
                                                                        56500000
  TcppType#Select        Fixed(31) Constant(37),  /* Select Wait     */ 56550000
                                                                        56600000
  TcppType#Cancel        Fixed(31) Constant(38),  /* Cancel          */ 56650000
  TcppType#IUCVConnect   Fixed(31) Constant(39),  /* IUCV connect    */ 56700000
  TcppType#Sever         Fixed(31) Constant(40),  /* Sever Type Code */ 56750000
  TcppType#SelectBatch   Fixed(31) Constant(41), /* Batch Select @D1A*/ 56800000
  TcppType#Poll          Fixed(31) Constant(42), /* Poll Wait    @D2A*/ 56850000
  TcppType#PollBatch     Fixed(31) Constant(43), /* Batch Poll   @D2A*/ 56900000
  TcppType#SetISockOpt   Fixed(31) Constant(44);  /*SetIBMSockOpt@D4A*/ 56950000
