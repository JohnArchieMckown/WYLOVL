*        %GOTO PROPRIE  ; /* BEGIN COMMENT UNTIL PROPRIE LABEL                  
         MACRO                                                                  
         IKJTLS                                                                 
.*/  %PROPRIE : ;                                                               
*        %GOTO TLSPLS   ;                                                       
***********************************************************************         
*                                                                     *         
*             TSO/E Table Look Up Service Parameter Mapping           *         
*                                                                     *         
*                                                                     *         
*/***PROPRIETARY_STATEMENT***************************************@N1C*/         
*/*                                                                  */         
*/* Licensed Materials - Property of IBM                             */         
*/*                                                                  */         
*/* 5645-001                                                         */         
*/*                                                                  */         
*/* (C) Copyright IBM Corp. 1988, 1997                               */         
*/*                                                                  */         
*/* US Government Users Restricted Rights - Use, duplication or      */         
*/* disclosure restricted by GSA ADP Schedule Contract with          */         
*/* IBM Corp.                                                        */         
*/*                                                                  */         
*/* STATUS = HTE26D2                                                 */         
*/*                                                                  */         
*/***END_OF_PROPRIETARY_STATEMENT********************************@N1C*/         
*                                                                     *         
*    DESCRIPTION =                                                    *         
*                                                                     *         
*    The TSO/E Table Look Up Service receives four parameters:        *         
*                                                                     *         
*      TLSTAB   - an eight byte field containing the name of the      *         
*                 table to search.  This can be one of the            *         
*                 following:                                          *         
*                                                                     *         
*                  AUTHCMD - Authorized Command Table (IKJEFTE2)      *         
*                  AUTHPGM - Authorized Program Table (IKJEFTE8)      *         
*                  AUTHTSF - Authorized programs supported through    *         
*                            the TSO Service Facility (IKJEFTAP)      *         
*                  NOTBKGND- Commands not supported in the            *         
*                            background (IKJEFTNS)                    *         
*                                                                     *         
*      TLSCMD   - an eight byte field containing the name of the      *         
*                 command or program to search for                    *         
*                                                                     *         
*      TLSABND  - a four byte field containing the ABEND code if      *         
*                 the service ABENDS                                  *         
*                                                                     *         
*      TLSREAS  - a four byte field containing the ABEND reason       *         
*                 code if the service ABENDS                          *         
*                                                                     *         
*                                                                     *         
*    Prior to invoking the service, set up the following variables    *         
*    as stated below:                                                 *         
*                                                                     *         
*       TLSPTAB   -  address of TLSTAB (the table to search)          *         
*                                                                     *         
*       TLSPCMD   -  address of TLSCMD (the command or program to     *         
*                    search for                                       *         
*                                                                     *         
*       TLSPABND  -  address of TLSABND (the ABEND code)              *         
*                                                                     *         
*       TLSPREAS  -  address of TLSREAS (the ABEND reason code)       *         
*                                                                     *         
*     Once this is done, set register one to the the address of       *         
*     TLSPARM and invoke the Table Look Up Service using CALLTSSR     *         
*     with an entry point of IKJTBLS                                  *         
*                                                                     *         
*                                                                     *         
* CHANGE ACTIVITY                                                     *         
*                                                                     *         
*/* FLAG REASON   RELEASE DATE     ORIGIN                        @N1A*/         
*/* ---- ------   ------- -------- ------                        @N1A*/         
*/* $N1= COPYRITE HTE26D2 19970218 VOHS: Insert/Update Copyright @N1A*/         
*/*                                                                  */         
***********************************************************************         
         SPACE                                                                  
TLS        DS    0D        BEGIN TLS ON DOUBLE WORD BDY                         
*                                                                               
TLSTAB     DS    CL8       TABLE TO SEARCH                                      
*                                                                               
TLSCMD     DS    CL8       COMMAND OR PROGRAM TO SEARCH FOR                     
*                                                                               
TLSABND    DS    F         ABEND CODE IF SERVICE FAILS                          
*                                                                               
TLSREAS    DS    F         ABEND REASON CODE IF SERVICE FAILS                   
*                                                                               
TLSEND     DS    0D        ASSURE TLS ENDS ON DOUBLE WORD BOUNDARY              
*                                                                               
         SPACE                                                                  
TLSPARM    DS    0D        BEGIN PARAMETERS ON DOUBLE WORD BOUNDARY             
*                                                                               
TLSPTAB    DS    A         ADDRESS OF TABLE TO SEARCH                           
*                                                                               
TLSPCMD    DS    A         ADDRESS OF COMMAND OR PROGRAM TO SEARCH FOR          
*                                                                               
TLSPABND   DS    A         ADDRESS OF ABEND CODE                                
*                                                                               
TLSPREAS   DS    A         ADDRESS OF ABEND REASON CODE                         
*                                                                               
TLSPEND    DS    0D        ASSURE TLSPARM ENDS ON DOUBLE WORD BOUNDARY          
*                                                                               
***********************************************************************         
*                                                                     *         
*   The following declarations define the return codes from the       *         
*   Table Look Up Service                                             *         
*                                                                     *         
*   0  - Command or program was found in the specified table          *         
*                                                                     *         
*   4  - Command or program was not found in the specified table      *         
*                                                                     *         
*   8  - Specified table was not found                                *         
*                                                                     *         
*  20  - Error encountered while processing                           *         
*                                                                     *         
***********************************************************************         
*                                                                               
TLSOK    EQU   0                  COMMAND OR PROGRAM FOUND                      
*                                                                               
TLSCNOTF EQU   4                  COMMAND OR PROGRAM NOT FOUND                  
*                                                                               
TLSTNOTF EQU   8                  TABLE NOT FOUND                               
*                                                                               
TLSERR   EQU   20                 ERROR ENCOUNTERED WHILE PROCESSING            
*                                                                               
*                                                                               
***********************************************************************         
*                                                                     *         
*   The following declarations define the four valid table names      *         
*                                                                     *         
*   AUTHCMD   -    AUTHCMD - Authorized Command Table (IKJEFTE2)      *         
*                                                                     *         
*   AUTHPGM   -    AUTHPGM - Authorized Program Table (IKJEFTE8)      *         
*                                                                     *         
*   AUTHTSF   -    AUTHTSF - Authorized programs supported through    *         
*                            the TSO Service Facility (IKJEFTAP)      *         
*   NOTBKGND  -    NOTBKGND- Commands not supported in the            *         
*                            background (IKJEFTNS)                    *         
***********************************************************************         
*                                                                               
AUTHCMD    DC  CL8'AUTHCMD '                                                    
*                                                                               
AUTHPGM    DC  CL8'AUTHPGM '                                                    
*                                                                               
AUTHTSF    DC  CL8'AUTHTSF '                                                    
*                                                                               
NOTBKGND   DC  CL8'NOTBKGND'                                                    
*                                                                               
         MEND , */                                                              
* %TLSPLS  :  ;                                                                 
* DECLARE                                                                       
*   1 TLS  BDY(DWORD),                                                          
* /***************************************************************** */         
* /*                                                                 */         
* /*                TSO/E Table Look Up Service Parameters           */         
* /*                                                                 */         
* /*                                                                 */         
* /* DESCRIPTION =                                                   */         
* /*                                                                 */         
* /* The TSO/E Table Look Up Service receives four parameters:       */         
* /*                                                                 */         
* /*   TLSTAB   - an eight byte field containing the name of the     */         
* /*              table to search in.  This can be one of the        */         
* /*              following:                                         */         
* /*                                                                 */         
* /*               AUTHCMD - Authorized Command Table (IKJEFTE2)     */         
* /*               AUTHPGM - Authorized Program Table (IKJEFTE8)     */         
* /*               AUTHTSF - Authorized programs supported through   */         
* /*                         the TSO Service Facility (IKJEFTAP)     */         
* /*               NOTBKGND- Commands not supported in the           */         
* /*                         background (IKJEFTNS)                   */         
* /*                                                                 */         
* /*   TLSCMD   - an eight byte field containing the name of the     */         
* /*              command or program to search for                   */         
* /*                                                                 */         
* /*   TLSABND  - a four byte field containing the ABEND code if     */         
* /*              the service ABENDS                                 */         
* /*                                                                 */         
* /*   TLSREAS  - a four byte field containing the ABEND reason      */         
* /*              code if the service ABENDS                         */         
* /*                                                                 */         
* /*                                                                 */         
* /* Prior to invoking the service, set up the following variables   */         
* /* as stated below:                                                */         
* /*                                                                 */         
* /*    TLSPTAB   -  address of TLSTAB (the table to search)         */         
* /*                                                                 */         
* /*    TLSPCMD   -  address of TLSCMD (the command or program to    */         
* /*                 search for                                      */         
* /*                                                                 */         
* /*    TLSPABND  -  address of TLSABND (the ABEND code)             */         
* /*                                                                 */         
* /*    TLSPREAS  -  address of TLSREAS (the ABEND reason code)      */         
* /*                                                                 */         
* /*  Once this is done, set register one to the the address of      */         
* /*  TLSPARM and invoke the Table Look Up Service using CALLTSSR    */         
* /*  with an entry point of IKJTBLS                                 */         
* /*                                                                 */         
* /* MACRO TYPE = Mapping macro                                      */         
* /*                                                                 */         
* /* PROCESSOR = PL/AS                                               */         
* /*                                                                 */         
* /* MACRO-SIZE = See assembler listing                              */         
* /*                                                                 */         
* /* INVOCATION = (This macro can be invoked from PL/AS compiler     */         
* /*               and from assembler)                               */         
* /*                                                                 */         
* /*    PL/AS:                                                       */         
* /*            %INCLUDE SYSLIB(IKJTLS)                              */         
* /*                                                                 */         
* /*    ASSEMBLER:                                                   */         
* /*            IKJTLS                                               */         
* /*                                                                 */         
* /***************************************************************** */         
*                                                                               
*    2 TLSTAB   CHAR(8),          /* Table name                      */         
*    2 TLSCMD   CHAR(8),          /* Command or program name         */         
*    2 TLSABND  FIXED(31),        /* ABEND code if service failed    */         
*    2 TLSREAS  FIXED(31),        /* ABEND reason code if service               
*                                    failed                          */         
*    2 *        CHAR(0) BDY(DWORD); /* Assure TLS ends on double                
*                                        word boundary               */         
*                                                                               
* DECLARE                                                                       
*   1 TLSPARM  BDY(DWORD),                                                      
*    2 TLSPTAB   PTR(31),         /* Address of table name           */         
*    2 TLSPCMD   PTR(31),         /* Address of command or program   */         
*    2 TLSPABND  PTR(31),         /* Address of ABEND code           */         
*    2 TLSPREAS  PTR(31),         /* Address of ABEND reason code    */         
*    2 *        CHAR(0) BDY(DWORD); /* Assure TLSPARM ends on double            
*                                        word boundary               */         
* /*******************************************************************/         
* /*                                                                 */         
* /*  The following declarations define the return codes from the    */         
* /*  Table Look Up Service                                          */         
* /*                                                                 */         
* /*  0  - Command or program was found in the specified table       */         
* /*                                                                 */         
* /*  4  - Command or program was not found in the specified table   */         
* /*                                                                 */         
* /*  8  - Specified table was not found                             */         
* /*                                                                 */         
* /* 20  - Error encountered while processing                        */         
* /*                                                                 */         
* /*******************************************************************/         
* DCL                                                                           
*     TLSOK FIXED(31) CONSTANT(0),  /* Command or program found      */         
*                                                                               
*     TLSCNOTF FIXED(31) CONSTANT(4), /* Command or program not found*/         
*                                                                               
*     TLSTNOTF FIXED(31) CONSTANT(8), /* Table not found             */         
*                                                                               
*     TLSERR   FIXED(31) CONSTANT(20); /* Error encountered while               
*                                         processing                 */         
* /*******************************************************************/         
* /*                                                                 */         
* /*The following declarations define the four valid table names     */         
* /*                                                                 */         
* /*AUTHCMD   -    AUTHCMD - Authorized Command Table (IKJEFTE2)     */         
* /*                                                                 */         
* /*AUTHPGM   -    AUTHPGM - Authorized Program Table (IKJEFTE8)     */         
* /*                                                                 */         
* /*AUTHTSF   -    AUTHTSF - Authorized programs supported through   */         
* /*                         the TSO Service Facility (IKJEFTAP)     */         
* /*NOTBKGND  -    NOTBKGND- Commands not supported in the           */         
* /*                         background (IKJEFTNS)                   */         
* /*******************************************************************/         
*  DCL                                                                          
*    AUTHCMD CHAR(8) CONSTANT('AUTHCMD '),                                      
*                                                                               
*    AUTHPGM CHAR(8) CONSTANT('AUTHPGM '),                                      
*                                                                               
*    AUTHTSF CHAR(8) CONSTANT('AUTHTSF '),                                      
*                                                                               
*    NOTBKGND CHAR(8) CONSTANT('NOTBKGND');                                     
*                                                                               
*                                                                               
