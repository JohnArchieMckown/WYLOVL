*/*A000000-999999                                            @Z21SP00*/ 00000500
*%GOTO UXPPLS00;                    /* SKIP OVER ASSEMBLER VERSION      00001000
         MACRO                                                          00001500
         GIMMPUXP &UXPALL=Y,&UXPMAIN=N,&UXPRTN=N,&UXP001=N,            X00002000
               &UXP002=N                                                00002500
         LCLC  &UXPLALL                                                 00003000
         GBLB  &UXPSW1                                                  00003500
         AIF   ('&UXPMAIN' EQ 'Y').UXPLB00                              00004000
         AIF   ('&UXPRTN' EQ 'Y').UXPLB00                               00004500
         AIF   ('&UXP001' EQ 'Y').UXPLB00                               00005000
         AIF   ('&UXP002' EQ 'Y').UXPLB00                               00005500
&UXPLALL SETC  'Y'                                                      00006000
         AGO   .UXPLB02                                                 00006500
.UXPLB00 ANOP                                                           00007000
&UXPLALL SETC  'N'                                                      00007500
.UXPLB02 ANOP                                                           00008000
         AIF   ('&UXPSW1' EQ '1').UXPLB01                               00008500
&UXPSW1  SETB  1                                                        00009000
*********************************************************************** 00009500
*                                                                     * 00010000
*        GIMMPUXP - GIMSMP USER EXIT INTERFACE PARAMETER MAPPING      * 00010500
*                                                                     * 00011000
*********************************************************************** 00011500
*                                                                     * 00012000
* THIS MACRO MAPS THE PARAMETER LIST THAT GIMSMP USES TO INTERFACE    * 00012500
*      WITH ALL ITS SUPPORTED USER EXITS.                             * 00013000
*      THE MACRO IS DIVIDED UP INTO MULTIPLE DSECTS, ONE FOR THE      * 00013500
*      COMMON PARAMETER LIST, AND ONE FOR EACH USER EXIT WITH A       * 00014000
*      SPECIFIC PARAMETER FOR THAT EXIT. THE EXPANSION IS CONTROLLED  * 00014500
*      BY THE FOLLOWING PARAMETERS THAT MAY BE SET TO Y OR N          * 00015000
*                                                                     * 00015500
*      ..NAME..  DEFAULT  MEANING                                     * 00016000
*      UXPALL       Y     EXPANSION TO INCLUDE ALL DSECTS             * 00016500
*      UXPMAIN      N     EXPANSION TO INCLUDE MAIN SECTION           * 00017000
*      UXPRTN       N     EXPANSION TO INCLUDE RETURN CODES           * 00017500
*      UXP001       N     EXPANSION TO INCLUDE EXIT 001 PARM          * 00018000
*      UXP002       N     EXPANSION TO INCLUDE EXIT 002 PARM          * 00018500
*                                                                     * 00019000
* ONLY THOSE RETURN CODES DEFINED WITHIN THIS MACRO WILL BE           * 00019500
*      ACCEPTED BY GIMSMP. ANY OTHER CODE WILL RESULT IN AN ERROR.    * 00020000
*                                                                     * 00020500
* TO ESTABLISH ADDRESSIBILITY FOR ANY SECTION THE FOLLOWING           * 00021000
*      SHOULD BE DONE UPON ENTRY                                      * 00021500
*                                                                     * 00022000
*      L     REGA,0(REG1)      LOAD ADDRESS OF GIMMPUXP               * 00022500
*      USING GIMMPUXP,REGA     ADDRESSIBILITY FOR GIMMPUXP            * 00023000
*      L     REGB,UXPPRMAD     LOAD ADDRESS OF PARM FOR SPECIFIC EXIT * 00023500
*      USING UXNNNPRM,REGB     ADDRESSIBILITY FOR SPECIFIC PARM FOR   * 00024000
*                              THIS EXIT. NNN IS EXIT NUMBER          * 00024500
*                                                                     * 00025000
*   THE LISTS POINTED TO BY UXPCTBAD AND UXPMODAD ARE INTENDED        * 00025500
*        FOR FUTURE USE TO POINT TO THE INTERNAL SMP CONTROL          * 00026000
*        BLOCKS AND SMP MODULES ACCESSIBLE BY THE USER.               * 00026500
*        AT PRESENT NO SUPPORT IS AVAILABLE AND THESE ADDRESSES       * 00027000
*        WILL BE SET TO ZERO.                                         * 00027500
*                                                                     * 00028000
*********************************************************************** 00028142
*                                                                     * 00028284
* COPYRIGHT = 5647-A01 (C) COPYRIGHT IBM CORPORATION 1983, 1998       * 00028426
*             LICENSED MATERIALS - PROPERTY OF IBM                    * 00028568
*                                                                     * 00028710
*********************************************************************** 00028852
*                                                                     * 00029000
*                                                                     * 00029500
* CHANGE_ACTIVITY = GIMSMP 17.00                              @HMP1700* 00030000
*                                                                     * 00030500
*     11.00 - Z21SP00, INITIAL RELEASE OF GIMSMP              @Z21SP00* 00031000
*     12.00 - Z22SP00, SMP/E VERSION 1 RELEASE 2              @Z22SP00* 00031500
*     13.00 - HMP1300, SMP/E VERSION 1 RELEASE 3              @HMP1300* 00032000
*     15.00 - HMP1500, SMP/E VERSION 1 RELEASE 5              @HMP1500* 00032500
*           - SMP/E TO SMP/E CONVERSION                       @CNVE015* 00033000
*   15.1.00 - HMP1502, SMP/E VERSION 1 RELEASE 5.1            @HMP1502* 00033375
*     16.00 - HMP1600, SMP/E VERSION 1 RELEASE 6              @HMP1600* 00033750
*     17.00 - HMP1700, SMP/E VERSION 1 RELEASE 7              @HMP1700* 00034125
*                                                                     * 00034500
*********************************************************************** 00035000
.UXPLB01 ANOP                                                           00035500
         AIF   ('&UXPLALL' EQ 'Y').UXPMN00                              00036000
         AIF   ('&UXPMAIN' NE 'Y').UXPMN99                              00036500
.UXPMN00 ANOP                                                           00037000
GIMMPUXP DSECT                                                          00037500
UXPUXNUM DS    H                  USER EXIT NUMBER                      00038000
         DS    CL2                RESERVED                              00038500
UXPUXNAM DS    CL8                USER EXIT LMOD NAME(IF AVAILABLE)     00039000
UXPUXAD  DS    F                  USER EXIT ADDRESS (IF AVAILABLE)      00039500
UXPFUNCT DS    CL8                SMP FUNCTION IN PROCESS               00040000
UXPPRMAD DS    F                  ADDRESS OF PARAMETER FOR SPECIFIC     00040500
*                                   EXIT IDENTIFIED BY UXPUXNUM         00041000
UXPLOJAD DS    F                  WORK AREA FOR COMMUNICATIONS FOR      00041500
*                                   LIFE OF SMP JOB. AREA IS            00042000
*                                   INITIALIZED TO ZERO BEFORE          00042500
*                                   FIRST USER EXIT CALL AND THEN NOT   00043000
*                                   MODIFIED AGAIN BY GIMMPP.           00043500
UXPLOEAD DS    F                  WORK AREA FOR COMMUNICATIONS FOR      00044000
*                                   LIFE OF EXIT. AREA IS INITIALIZED   00044500
*                                   TO ZERO BEFORE FIRST CALL AFTER     00045000
*                                   EACH LOGICAL LOAD OF THE EXIT AND   00045500
*                                   THEN NOT MODIFIED AGAIN BY GIMMPP.  00046000
         DS    F                  RESERVED                              00046500
         DS    F                  RESERVED                              00047000
*********      END OF GIMMPUXP MAPPING                                  00047500
.UXPMN99 ANOP                                                           00048000
         AIF   ('&UXPLALL' EQ 'Y').UXPRC00                              00048500
         AIF   ('&UXPRTN' NE 'Y').UXPRC99                               00049000
.UXPRC00 ANOP                                                           00049500
*********************************************************************** 00050000
*                                                                     * 00050500
*        RETURN CODE DEFINITIONS                                      * 00051000
*                                                                     * 00051500
*********************************************************************** 00052000
*                                                                     * 00052500
* THESE RETURN CODES ARE ACCEPTABLE FROM ALL GIMMPP EXITS             * 00053000
*                                                                     * 00053500
UXPGOOD  EQU   0                  EXIT PROCESSED NORMALLY               00054000
UXPTPTF  EQU   8                  TERMINATE SYSMOD IN PROCESS           00054500
UXPTFUNC EQU   12                 TERMINATE FUNCTION IN PROCESS         00055000
UXPTSMP  EQU   16                 TERMINATE SMP                         00055500
* THESE RETURN CODES ARE ACCEPTABLE FOR ONLY SPECIFIC EXITS             00056000
*        SEE EACH EXIT FOR DEFINITION OF ADDITIONAL RETURN CODES        00056500
UXPADD   EQU   20                 ADD A RECORD                          00057000
UXPDEL   EQU   24                 DELETE A RECORD                       00057500
UXPRNC   EQU   20                 RETRY WITHOUT COMPRESSING             00058000
********       END OF UXP RETURN CODE DEFINITIONS                       00058500
.UXPRC99 ANOP                                                           00059000
         AIF   ('&UXPLALL' EQ 'Y').UXP0100                              00059500
         AIF   ('&UXP001' NE 'Y').UXP0199                               00060000
.UXP0100 ANOP                                                           00060500
*********************************************************************** 00061000
*                                                                     * 00061500
* GIMMPP EXIT 001 - RECEIVE SMPPTFIN SCAN EXIT                        * 00062000
*                                                                     * 00062500
*    FUNCTION - RECEIVE TIME EXIT TO LOOK AT ALL SMPPTFIN             * 00063000
*               INPUT CARDS PRIOR TO PROCESSING BY GIMMPP             * 00063500
*    RTN CODE - IN ADDITION TO STANDARD                               * 00064000
*               UXPADD - RETURN TO USER EXIT AFTER PROCESSING         * 00064500
*                        CURRENT RECORD. EXIT WILL PUT NEXT RECORD    * 00065000
*                        INTO BUFFER.                                 * 00065500
*               UXPDEL - DO NOT PROCESS CURRENT RECORD. READ NEXT     * 00066000
*                        RECORD AND RETURN TO EXIT.                   * 00066500
*    NOTES    - WHEN GIMMPP HITS END OF FILE ON SMPPTFIN IT WILL SET  * 00067000
*                 UX001RC TO UX001EOF AND CALL EXIT. THE EXIT MAY     * 00067500
*                 ADD RECORDS AFTER END OF FILE BY SETTING THE        * 00068000
*                 RETURN CODE TO UXPADD AND RETURNING. AT THE NEXT    * 00068500
*                 ENTRY THE EXIT MAY START TO ADD RECORDS.            * 00069000
*                                                                     * 00069500
*********************************************************************** 00070000
UXPUX001 EQU   1                  VALUE FOR UXPUXNUM TO IDENTIFY        00070500
*                                 REQUEST FOR RECEIVE USER EXIT         00071000
UX001PRM DSECT                                                          00071500
UX001RC  DS    CL1                CODE INDICATOR SET TO UX001EOF AT     00072000
*                                 END OF FILE ELSE SET TO 0             00072500
UX001RCD DS    CL80               SMPPTFIN RECORD                       00073000
UX001EOF EQU   4                  END OF FILE CODE FOR UX001RC          00073500
*********      END OF UXPUX001 MAPPING                                  00074000
.UXP0199 ANOP  .                  .                                     00074500
         AIF   ('&UXPLALL' EQ 'Y').UXP0200                              00075000
         AIF   ('&UXP002' NE 'Y').UXP0299                               00075500
.UXP0200 ANOP                                                           00076000
**************************************************************        * 00076500
*                                                                     * 00077000
* GIMMPP EXIT 002 - RETRY USER EXIT                                   * 00077500
*                                                                     * 00078000
*    FUNCTION - AFTER SMP HAS DETERMINED THAT A RETRY CAN             * 00078500
*               BE ATTEMPTED (COMPRESS AND RE-INVOKE THE              * 00079000
*               FAILING UTILITY), THE USER EXIT IS CALLED             * 00079500
*               TO DETERMINE IF THE USER WISHES TO PER-               * 00080000
*               FORM THE RETRY.                                       * 00080500
*    RTN CODE - IN ADDITION TO STANDARD                               * 00081000
*               UXPRNC - PERFORM THE RETRY (RE-INVOKE THE             * 00081500
*                        FAILING UTILITY) WITHOUT FIRST               * 00082000
*                        COMPRESSING THE DATA SET.                    * 00082500
*               NOTE:  THE STANDARD RETURN CODE OF UXPPTF             * 00083000
*                      IS INVALID FOR THE RETRY USER EXIT.            * 00083500
*                                                                     * 00084000
**************************************************************        * 00084500
UXPUX002 EQU   2                  VALUE FOR UXPUXNUM TO                 00085000
*                                 IDENTIFY REQUEST FOR                  00085500
*                                 RETRY USER EXIT                       00086000
UX002PRM DSECT                                                          00086500
UX002DDN DS    CL8                FAILING DDNAME                        00087000
UX002PGM DS    CL8                FAILING UTILITY NAME                  00087500
UX002ACH DS    XL3                ABEND CODE IN HEX (SAME               00088000
*                                 FORMAT AS SDWA FIELD                  00088500
*                                 SDWACMPC)                             00089000
UX002RCH DS    XL1                ABEND REASON CODE IN HEX              00089500
UX002ACP DS    CL3                ABEND CODE IN EBCDIC                  00090000
UX002RCP DS    CL2                ABEND REASON CODE IN EBCDIC           00090500
UX002LTH EQU   *-UX002PRM         LENGTH OF EXIT 002 PLIST              00091000
*********      END OF UXPUX002 MAPPING                                  00091500
.UXP0299 ANOP  .                  .                                     00092000
         MEND                          END OF ASSEMBLER VERSION      */ 00092500
*%UXPPLS00: ;                                                           00093000
*/********************************************************************/ 00093500
*/*                                                                  */ 00094000
*/* GIMMPUXP - PARAMETER LIST TO GIMMPP USER EXIT ROUTINES           */ 00094500
*/*                                                                  */ 00095000
*/********************************************************************/ 00095500
*   %IF XPND_MAC_SW^='N'            /*                               */ 00096000
*     %THEN                         /*                               */ 00096500
*     %GOTO UXC_EXPAND_01;          /*                               */ 00097000
*@LIST OFF;                         /*                               */ 00097500
*%UXC_EXPAND_01:;                   /*                               */ 00098000
*/*                                                                  */ 00098500
*/* THIS MACRO IS USED BY GIMMPP TO INTERFACE WITH THE SMP           */ 00099000
*/*      INTERFACE ROUTINE TO THE USER EXITS AND FOR THE             */ 00099500
*/*      INTERFACE ROUTINE TO CALL THE USER EXIT ROUTINE.            */ 00100000
*/*                                                                  */ 00100500
*/* THE LISTS POINTED TO BY UXPCTBAD AND UXPMODAD ARE INTENDED       */ 00101000
*/*      FOR FUTURE USE TO POINT TO THE INTERNAL SMP CONTROL         */ 00101500
*/*      BLOCKS AND SMP MODULES ACCESSIBLE BY THE USER.              */ 00102000
*/*      AT PRESENT NO SUPPORT IS AVAILABLE AND THESE ADDRESSES      */ 00102500
*/*      WILL BE SET TO ZERO.                                        */ 00103000
*/*                                                                  */ 00103500
*/* ONLY THOSE RETURN CODES DEFINED WITHIN THIS MACRO WILL BE        */ 00104000
*/*      ACCEPTED BY GIMMPP. IF ANY OTHER VALUES IS RETURNED         */ 00104500
*/*      GIMMPP WILL ISSUE AN ERROR MESSAGE AND TERMINATE THE        */ 00105000
*/*      CURRENT FUNCTION.                                           */ 00105500
*/*                                                                  */ 00106000
*/********************************************************************/ 00106500
*/*                                                                  */ 00107000
*/* THE EXPANSION OF THIS MACRO IS CONTROLLED BY THE FOLLOWING       */ 00107500
*/*      PLS MACRO VARIABLES WHICH MAY BE SET TO 'YES' TO            */ 00108000
*/*      INDICATE THAT THE EXPANSION IS TO INCLUDE THE MAPPING FOR   */ 00108500
*/*      THE INDICATED EXIT PARAMETER. AT LEAST ONE OF THE VARIABLES */ 00109000
*/*      MUST BE SET TO 'YES'                                        */ 00109500
*/*                                                                  */ 00110000
*/*      UXP_ALL  - REQUEST FOR ALL PARMS FOR ALL USER EXIT ROUTINES */ 00110500
*/*      UXP_MAIN - REQUEST FOR MAIN MAPPING OF PARM TO ACTUAL       */ 00111000
*/*                 USER EXIT                                        */ 00111500
*/*      UXP_RTN  - REQUEST FOR EXPANSION OF VALID RETURN CODE       */ 00112000
*/*                 CONSTANTS.                                       */ 00112500
*/*      UXP_001  - REQUEST FOR MAPPING OF PARM FOR RECEIVE EXIT(001)*/ 00113000
*/*      UXP_002  - REQUEST FOR MAPPING OF PARM FOR RETRY            */ 00113500
*/*                 EXIT (002)                                       */ 00114000
*/*      UXP_A01  - REQUEST FOR CONVERT PARAMETER MAPPING    @Z21SP00*/ 00114500
*/*      UXP_A02  - REQUEST FOR BUILD   PARAMETER MAPPING    @Z22SP00*/ 00115000
*/*                                                                  */ 00115500
*/*      UXP_XXX_BASE - FOR EACH OF THE ABOVE SECTIONS THERE IS      */ 00116000
*/*                 AN ADDITIONAL VARIABLE TO CONTROL THE            */ 00116500
*/*                 ATTRIBUTES OF THE EXPANSION. XXX IS EQUAL TO     */ 00117000
*/*                 THE SECOND QUALIFIER OF THE ABOVE VARIABLES.     */ 00117500
*/*                 IF SET THE MAPPING WILL EXPAND WITH THE VALUES   */ 00118000
*/*                 SPECIFIED.                                       */ 00118500
*/*                                                                  */ 00119000
*/********************************************************************/ 00119500
*/*                                                                  */ 00120000
*/* CHANGE_ACTIVITY = GIMSMP 17.00                           @HMP1700*/ 00120500
*/*                                                                  */ 00121000
*/*      11.00 - Z21SP00, INITIAL RELEASE OF GIMSMP          @Z21SP00*/ 00121500
*/*      12.00 - Z22SP00, SMP/E VERSION 1 RELEASE 2          @Z22SP00*/ 00122000
*/*      13.00 - Z22SP00, SMP/E VERSION 1 RELEASE 3          @HMP1300*/ 00122500
*/*      15.00 - HMP1500, SMP/E VERSION 1 RELEASE 5          @HMP1500*/ 00123000
*/*            - SMP/E TO SMP/E CONVERSION                   @CNVE015*/ 00123500
*/*    15.1.00 - HMP1502, SMP/E VERSION 1 RELEASE 5.1        @HMP1502*/ 00123875
*/*      16.00 - HMP1600, SMP/E VERSION 1 RELEASE 6          @HMP1600*/ 00124250
*/*      17.00 - HMP1700, SMP/E VERSION 1 RELEASE 7          @HMP1700*/ 00124625
*/*                                                                  */ 00125000
*/********************************************************************/ 00125500
*%IF UXP_MAIN_BASE=''               /*                               */ 00126000
*  %THEN                            /*                               */ 00126500
*  %UXP_MAIN_BASE=UXP_ALL_BASE;     /*                               */ 00127000
*%IF UXP_ALL='YES'                  /* IF REQUEST FOR ALL PARTS      */ 00127500
*   %THEN                           /*                               */ 00128000
*   %GOTO UXPMN01;                  /*                               */ 00128500
*%IF UXP_MAIN='YES'                 /* IF REQUEST FOR MAIN SEGMENT   */ 00129000
*   %THEN                           /*                               */ 00129500
*   %GOTO UXPMN01;                  /*                               */ 00130000
*%GOTO UXPMN99;                     /*                               */ 00130500
*%UXPMN01: ;                        /*                               */ 00131000
*   DECLARE                         /*                               */ 00131500
*     1 GIMMPUXP BDY(WORD)                                              00132000
*       UXP_MAIN_BASE                                                   00132500
*       ,                           /*                               */ 00133000
*       3 UXPUXNUM FIXED(15),       /* USER EXIT IDENTIFICATION      */ 00133500
*       3 *        CHAR(2),         /* UNUSED                        */ 00134000
*       3 UXPUXNAM CHAR(8),         /* USER EXIT NAME                */ 00134500
*       3 UXPUXAD  PTR(31),         /* USER EXIT ADDRESS             */ 00135000
*       3 UXPFUNCT CHAR(8),         /* SMP FUNCTION IN PROCESS       */ 00135500
*       3 UXPPRMAD PTR(31),         /* ADDR OF USER EXIT PARM LIST   */ 00136000
*       3 UXPLOJAD PTR(31),         /* FOR USE BY USER EXITS         */ 00136500
*       3 UXPLOEAD PTR(31),         /* FOR USE BY USER EXITS         */ 00137000
*       3 UXPCTBAD PTR(31),         /* ADDR OF SMP CONTROL BLOCKS    */ 00137500
*       3 UXPMODAD PTR(31);         /* ADDR OF SMP MODULES           */ 00138000
*%UXPMN99: ;                        /*                               */ 00138500
*%IF UXP_ALL='YES'                  /* IF REQUEST FOR ALL PARTS      */ 00139000
*   %THEN                           /*                               */ 00139500
*   %GOTO UXPRTN01;                 /*                               */ 00140000
*%IF UXP_RTN='YES'                  /* IF REQUEST FOR RETURN CODES   */ 00140500
*   %THEN                           /*                               */ 00141000
*   %GOTO UXPRTN01;                 /*                               */ 00141500
*%GOTO UXPRTN99;                    /*                               */ 00142000
*%UXPRTN01: ;                       /*                               */ 00142500
*/********************************************************************/ 00143000
*/*                                                                  */ 00143500
*/*    THESE ARE THE COMMON RETURN CODES THAT MAY BE RETURNED FROM   */ 00144000
*/*    ANY OF THE GIMMPP USER EXITS                                  */ 00144500
*/*                                                                  */ 00145000
*/********************************************************************/ 00145500
*                                                                       00146000
*   DECLARE                         /*                               */ 00146500
*     UXPGOOD  CONSTANT(0),         /* PROCESSING COMPLETED OK       */ 00147000
*     UXPTPTF  CONSTANT(8),         /* TERMINATE SYSMOD              */ 00147500
*     UXPTFUNC CONSTANT(12),        /* TERMINATE FUNCTION            */ 00148000
*     UXPTSMP  CONSTANT(16);        /* TERMINATE SMP                 */ 00148500
*                                                                       00149000
*/********************************************************************/ 00149500
*/*                                                                  */ 00150000
*/*    THESE RETURN CODES ARE ACCEPTABLE FOR ONLY SPECIFIC EXITS.    */ 00150500
*/*    SEE EACH EXIT FOR THE DEFINITION OF ADDITIONAL RETURN CODES.  */ 00151000
*/*                                                                  */ 00151500
*/********************************************************************/ 00152000
*                                                                       00152500
*   DECLARE                         /*                               */ 00153000
*     UXPADD   CONSTANT(20),        /* ADD RCD AFTER CURRENT ONE     */ 00153500
*     UXPDEL   CONSTANT(24),        /* DELETE CURRENT RECORD         */ 00154000
*     UXPRNC   CONSTANT(20);        /* RETRY WITHOUT                 */ 00154500
*                                   /* COMPRESSING                   */ 00155000
*%UXPRTN99: ;                       /*                               */ 00155500
*%IF UXP_001_BASE=''                /* IF NO 001 BASE THEN USE ALL   */ 00156000
*  %THEN                            /*                               */ 00156500
*  %UXP_001_BASE=UXP_ALL_BASE;      /*                               */ 00157000
*%IF UXP_ALL='YES'                  /* IF TOTAL UXP LIST REQUESTED   */ 00157500
*  %THEN                            /*                               */ 00158000
*  %GOTO UXP00101;                  /*                               */ 00158500
*%IF UXP_001='YES'                  /* IF EXIT 001 PARM REQUESTED    */ 00159000
*  %THEN                            /*                               */ 00159500
*  %GOTO UXP00101;                  /*                               */ 00160000
*%GOTO UXP00199;                    /*                               */ 00160500
*%UXP00101: ;                       /*                               */ 00161000
*?EJECT;                                                                00161500
*/********************************************************************/ 00162000
*/*                                                                  */ 00162500
*/* GIMMPP EXIT 001                                                  */ 00163000
*/*                                                                  */ 00163500
*/*   FUNCTION - RECEIVE TIME EXIT TO LOOK AT ALL SMPPTFIN           */ 00164000
*/*              CONTROL CARDS PRIOR TO PROCESSING BY GIMMPP.        */ 00164500
*/*   RTN CODE - IN ADDITION TO STANDARD                             */ 00165000
*/*              UXPADD - RETURN TO USER EXIT AFTER PROCESSSING      */ 00165500
*/*                       CURRENT RECORD BUT BEFORE READING NEXT     */ 00166000
*/*                       RECORD.                                    */ 00166500
*/*                       USER EXIT WILL ADD A RECORD TO BUFFER      */ 00167000
*/*                       TO BE PROCESSED DURING SECOND CALL.        */ 00167500
*/*              UXPDEL - DO NOT PROCESS CURRENT RECORD IN BUFFER.   */ 00168000
*/*                       READ NEXT RECORD AND RETURN TO EXIT.       */ 00168500
*/*   NOTES    - WHEN GIMMPP HITS END OF FILE ON SMPPTFIN IT WILL    */ 00169000
*/*              SET UX001RC TO UX001EOF AND CALL EXIT. THE EXIT     */ 00169500
*/*              MAY CONTINUE TO ADD RECORDS AFTER END OF FILE BY    */ 00170000
*/*              RETURNING CODE UXPADD IN REGISTER 15. WHEN A        */ 00170500
*/*              RETURN CODE UXPGOOD IS RETURN SMP WILL CONTINUE     */ 00171000
*/*              WITH NORMAL EOF PROCESSING.                         */ 00171500
*/*                                                                  */ 00172000
*/********************************************************************/ 00172500
*                                                                       00173000
*   DECLARE                         /*                               */ 00173500
*     UXPUX001 FIXED(15) CONSTANT(1);/* RECEIVE USER EXIT - VALUE SET   00174000
*                                      UXPUXNUM UPON ENTRY           */ 00174500
*   DECLARE                         /*                               */ 00175000
*     1 UX001PRM                                                        00175500
*       UXP_001_BASE                                                    00176000
*       ,                           /*                               */ 00176500
*       3 UX001RC  FIXED(8),        /* SET TO UX001EOF AT END OF FILE*/ 00177000
*       3 UX001RCD CHAR(80);        /* SMPPTFIN RECORD               */ 00177500
*   DECLARE                         /*                               */ 00178000
*     UX001EOF FIXED(8) CONSTANT(4);/* TO INDICATE END OF FILE       */ 00178500
*%UXP00199: ;                       /*                               */ 00179000
*%IF UXP_002_BASE=''                /* IF NO 002 BASE THEN           */ 00179500
*  %THEN                            /*   USE ALL                     */ 00180000
*  %UXP_002_BASE=UXP_ALL_BASE;      /*                               */ 00180500
*%IF UXP_ALL='YES'                  /* IF TOTAL UXP LIST             */ 00181000
*  %THEN                            /*   REQUESTED                   */ 00181500
*  %GOTO UXP00201;                  /*                               */ 00182000
*%IF UXP_002='YES'                  /* IF EXIT 002 PARM              */ 00182500
*  %THEN                            /*   REQUESTED                   */ 00183000
*  %GOTO UXP00201;                  /*                               */ 00183500
*%GOTO UXP00299;                    /*                               */ 00184000
*%UXP00201: ;                       /*                               */ 00184500
*?EJECT;                                                                00185000
*/********************************************************************/ 00185500
*/*                                                                  */ 00186000
*/* GIMMPP EXIT 002 - RETRY USER EXIT                                */ 00186500
*/*                                                                  */ 00187000
*/*   FUNCTION - AFTER SMP HAS DETERMINED THAT A RETRY CAN           */ 00187500
*/*              BE ATTEMPTED (COMPRESS AND RE-INVOKE THE            */ 00188000
*/*              FAILING UTILITY), THE USER EXIT IS CALLED           */ 00188500
*/*              TO DETERMINE IF THE USER WISHES TO PER-             */ 00189000
*/*              FORM THE RETRY.                                     */ 00189500
*/*   RTN CODE - IN ADDITION TO STANDARD                             */ 00190000
*/*              UXPRNC - PERFORM THE RETRY (RE-INVOKE THE           */ 00190500
*/*                       FAILING UTILITY) WITHOUT FIRST             */ 00191000
*/*                       COMPRESSING THE DATA SET.                  */ 00191500
*/*              NOTE:  THE STANDARD RETURN CODE OF UXPPTF           */ 00192000
*/*                     IS INVALID FOR THE RETRY USER EXIT.          */ 00192500
*/*                                                                  */ 00193000
*/********************************************************************/ 00193500
*                                                                       00194000
*   DECLARE                         /*                               */ 00194500
*     UXPUX002 FIXED(15) CONSTANT(2);/* RETRY USER EXIT - VALUE FOR     00195000
*                                      UXPUXNUM ON ENTRY             */ 00195500
*   DECLARE                         /*                               */ 00196000
*     1 UX002PRM                                                        00196500
*       UXP_002_BASE                                                    00197000
*       ,                           /*                               */ 00197500
*       3 UX002DDN CHAR(8),         /* FAILING DDNAME                */ 00198000
*       3 UX002PGM CHAR(8),         /* FAILING UTILITY NAME          */ 00198500
*       3 UX002ACH BIT(24),         /* ABEND CODE IN HEX - SAME FORMAT  00199000
*                                      AS SDWACMPC                   */ 00199500
*       3 UX002RCH BIT(8),          /* ABEND REASON CD (HEX)         */ 00200000
*       3 UX002ACP CHAR(3),         /* ABEND CODE IN EBCDIC          */ 00200500
*       3 UX002RCP CHAR(2);         /* ABEND REASON CD (EBCD)        */ 00201000
*%UXP00299: ;                       /*                               */ 00201500
*%IF UXP_A01_BASE=''                /* IF NO A01 BASE THEN   @Z21SP00*/ 00202000
*  %THEN                            /*   USE ALL             @Z21SP00*/ 00202500
*  %UXP_A01_BASE=UXP_ALL_BASE;      /*                       @Z21SP00*/ 00203000
*%IF UXP_ALL='YES'                  /* IF TOTAL UXP LIST     @Z21SP00*/ 00203500
*  %THEN                            /*   REQUESTED           @Z21SP00*/ 00204000
*  %GOTO UXPA0101;                  /*                       @Z21SP00*/ 00204500
*%IF UXP_A01='YES'                  /* IF EXIT A01 PARM      @Z21SP00*/ 00205000
*  %THEN                            /*   REQUESTED           @Z21SP00*/ 00205500
*  %GOTO UXPA0101;                  /*                       @Z21SP00*/ 00206000
*%GOTO UXPA0199;                    /*                       @Z21SP00*/ 00206500
*%UXPA0101: ;                       /*                       @Z21SP00*/ 00207000
*?EJECT;                                                                00207500
*/********************************************************************/ 00208000
*/*                                                                  */ 00208500
*/* GIMSMP EXIT A01 - SMP CONVERT LMOD CALL                  @Z21SP00*/ 00209000
*/*                                                          @Z21SP00*/ 00209500
*/*   FUNCTION - TO CALL THE SMP CONVERT ROUTINE             @Z21SP00*/ 00210000
*/*   RTN CODE - IN ADDITION TO STANDARD                     @Z21SP00*/ 00210500
*/*              NONE                                        @Z21SP00*/ 00211000
*/*                                                                  */ 00211500
*/********************************************************************/ 00212000
*                                                                       00212500
*   DECLARE                         /*                               */ 00213000
*     UXPUXA01 FIXED(15) CONSTANT(2561); /* CONVERT EXIT VALUE FOR      00213500
*                                      UXPUXNUM ON ENTRY     @Z21SP00*/ 00214000
*   DECLARE                         /*                       @Z21SP00*/ 00214500
*     1 UXA01PRM                                                        00215000
*       UXP_A01_BASE                                                    00215500
*       ,                           /*                       @Z21SP00*/ 00216000
*       3 UXA01SW BIT(24),          /* GENERAL SWITCHES      @Z21SP00*/ 00216500
*         5 UXA01SDS BIT(8),        /* SELECTED DATA SETS    @Z21SP00*/ 00217000
*           7 UXA01SW1 BIT(1),      /* CDS  CONVERT REQUEST  @Z21SP00*/ 00217500
*           7 UXA01SW2 BIT(1),      /* ACDS CONVERT REQUEST  @Z21SP00*/ 00218000
*           7 UXA01SW3 BIT(1),      /* CRQ  CONVERT REQUEST  @Z21SP00*/ 00218500
*           7 UXA01SW4 BIT(1),      /* ACRQ CONVERT REQUEST  @Z21SP00*/ 00219000
*           7 UXA01SW5 BIT(1),      /* PTS  CONVERT REQUEST  @Z21SP00*/ 00219500
*           7 UXA01SW6 BIT(1),      /* SCDS CONVERT REQUEST  @CNVE015*/ 00220000
*           7 UXA01SW7 BIT(1),      /* OLDCSI ENTERED        @CNVE015*/ 00220500
*           7 UXA01SW8 BIT(1),      /* NEWCSI ENTERED        @CNVE015*/ 00221000
*         5 UXA01ETP BIT(16),       /* ENTRY TYPE TO CONVERT @Z21SP00*/ 00221500
*           7 UXA01SYS BIT(1),      /* SYSTEM  ENTRY         @Z21SP00*/ 00222000
*           7 UXA01ASM BIT(1),      /* ASSEM   ENTRY         @Z21SP00*/ 00222500
*           7 UXA01LMD BIT(1),      /* LMOD    ENTRY         @Z21SP00*/ 00223000
*           7 UXA01MAC BIT(1),      /* MAC     ENTRY         @Z21SP00*/ 00223500
*           7 UXA01MOD BIT(1),      /* MOD     ENTRY         @Z21SP00*/ 00224000
*           7 UXA01SRC BIT(1),      /* SRC     ENTRY         @Z21SP00*/ 00224500
*           7 UXA01DLB BIT(1),      /* DLIB    ENTRY         @Z21SP00*/ 00225000
*           7 UXA01SMD BIT(1),      /* SYSMOD  ENTRY         @Z21SP00*/ 00225500
*           7 UXA01MCS BIT(1),      /* MCS     ENTRY         @Z21SP00*/ 00226000
*           7 * BIT(7),             /* UNUSED                @Z21SP00*/ 00226500
*       3 UXA01CDS CHAR(8),         /* CDS  DDNAME           @Z21SP00*/ 00227000
*       3 UXA01ACD CHAR(8),         /* ACDS DDNAME           @Z21SP00*/ 00227500
*       3 UXA01CRQ CHAR(8),         /* CRQ  DDNAME           @Z21SP00*/ 00228000
*       3 UXA01ACR CHAR(8),         /* ACRQ DDNAME           @Z21SP00*/ 00228500
*       3 UXA01PTS CHAR(8),         /* PTS  DDNAME           @CNVE015*/ 00229000
*       3 UXA01SCDS CHAR(8),        /* SCDS DDNAME           @CNVE015*/ 00229500
*       3 UXA01ODD CHAR(8),         /* OLD CSI DD NAME       @CNVE015*/ 00230000
*       3 * CHAR(1),                /* FOR ALIGNMENT         @CNVE015*/ 00230500
*       3 UXA01OCSI PTR(31),        /* PTR TO OLDCSI DSN     @CNVE015*/ 00231000
*       3 UXA01NCSI PTR(31),        /* PTR TO NEWCSI DSN     @CNVE015*/ 00231500
*       3 UXODSNSZ FIXED(16),       /* LENGTH OF OLD DSN     @CNVE015*/ 00232000
*       3 UXNDSNSZ FIXED(16);       /* LENGTH OF NEW DSN     @CNVE015*/ 00232500
*%UXPA0199: ;                       /*                       @Z21SP00*/ 00233000
*%IF UXP_A02_BASE=''                /* IF NO A02 BASE THEN   @Z22SP00*/ 00233500
*  %THEN                            /*   USE ALL             @Z22SP00*/ 00234000
*  %UXP_A02_BASE=UXP_ALL_BASE;      /*                       @Z22SP00*/ 00234500
*%IF UXP_ALL='YES'                  /* IF TOTAL UXP LIST     @Z22SP00*/ 00235000
*  %THEN                            /*   REQUESTED           @Z22SP00*/ 00235500
*  %GOTO UXPA0201;                  /*                       @Z22SP00*/ 00236000
*%IF UXP_A02='YES'                  /* IF EXIT A02 PARM      @Z22SP00*/ 00236500
*  %THEN                            /*   REQUESTED           @Z22SP00*/ 00237000
*  %GOTO UXPA0201;                  /*                       @Z22SP00*/ 00237500
*%GOTO UXPA0299;                    /*                       @Z22SP00*/ 00238000
*%UXPA0201: ;                       /*                       @Z22SP00*/ 00238500
*?EJECT;                                                                00239000
*/********************************************************************/ 00239500
*/*                                                                  */ 00240000
*/* GIMSMP EXIT A02 - SMP BUILD LMOD CALL                    @Z22SP00*/ 00240500
*/*                                                          @Z22SP00*/ 00241000
*/*   FUNCTION - TO CALL THE SMP BUILD ROUTINE               @Z22SP00*/ 00241500
*/*   RTN CODE - IN ADDITION TO STANDARD                     @Z22SP00*/ 00242000
*/*              NONE                                        @Z22SP00*/ 00242500
*/*   NOTES    - THERE IS NO PARAMETER TO THIS ROUTINE       @Z22SP00*/ 00243000
*/*                                                                  */ 00243500
*/********************************************************************/ 00244000
*                                                                       00244500
*   DECLARE                         /*                               */ 00245000
*     UXPUXA02 FIXED(15) CONSTANT(2562); /* BUILD EXIT VALUE FOR        00245500
*                                      UXPUXNUM ON ENTRY     @Z22SP00*/ 00246000
*   DECLARE                         /*                       @Z21SP00*/ 00246500
*     1 UXA02PRM BDY(WORD)                                              00247000
*       UXP_A02_BASE                                                    00247500
*       ,                           /*                       @Z21SP00*/ 00248000
*       3 UXA02JOB CHAR(8),         /* DD NAME WHERE JOB CARD CAN BE    00248500
*                                      FOUND                 @Z22SP00*/ 00249000
*       3 UXA02MEM CHAR(8),         /* JOBCARD MEMBER NAME   @Z22SP00*/ 00249500
*       3 UXA02FMS PTR(31),         /* ADDR OF GTP WITH FMIDS FROM      00250000
*                                      FMIDSET OPERAND (ZERO IF FMIDSET 00250500
*                                      NOT SPECIFIED)        @Z22SP00*/ 00251000
*       3 UXA02SW BIT(32),          /* SWITCHES              @HMP0013*/ 00251500
*         5 UXA02SW1 BIT(8),        /* FIRST SW              @HMP0013*/ 00252000
*         5 UXA02SW2 BIT(8),        /* UNUSED                @HMP0013*/ 00252500
*         5 UXA02SW3 BIT(8),        /* UNUSED                @HMP0013*/ 00253000
*         5 UXA02SW4 BIT(8);        /* UNUSED                @HMP0013*/ 00253500
*%UXPA0299: ;                       /*                       @Z22SP00*/ 00254000
*@LIST ON;                          /*                       @Z22SP00*/ 00254500
