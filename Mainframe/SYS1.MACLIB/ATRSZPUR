* /*                                                                    00050000
         MACRO                                                          00100000
         ATRSZPUR &DSECT=YES,&LIST=YES,&TITLE=YES,                     *00150000
               &ATRSZPUR=YES,&URDATA=YES,&URIDATA=YES,&HDRDATA=YES,    *00183300
               &XIDDATA=NO                                              00216600
         GBLC  &ATRSZPUR_INCLUDED                                       00250000
         GBLC  &ZCBPRINT                                                00300000
&ATRSZPUR_INCLUDED SETC 'YES'                                           00350000
         AIF   ('&LIST' EQ 'NONE').P0                                   00400000
         AIF   ('&TITLE' EQ 'NO').P5                                    00450000
 TITLE   'ATRSZPUR  - RRS UR/Restart Log Block                    '     00500000
.P5      ANOP                                                           00550000
**/                                                                     00600000
*/******* START OF SPECIFICATIONS ************************************/ 00650000
*/*                                                                  */ 00700000
*/*01* Macro Name: ATRSZPUR                                          */ 00750000
*/*                                                                  */ 00800000
*/*01* Descriptive Name: RRS UR/Restart Log Block                    */ 00850000
*/*                                                                  */ 00900000
*/*02*  Acronym: ATRSCPUR                                            */ 00950000
*/*                                                                  */ 01000000
*/*01* PROPRIETARY STATEMENT=                                        */ 01050000
*/*                                                                  */ 01100000
*/* LICENSED MATERIALS - PROPERTY OF IBM                             */ 01150000
*/* THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                      */ 01200000
*/* 5647-A01 (C) COPYRIGHT IBM CORP. 1997,1999                       */ 01250000
*/*                                                                  */ 01300000
*/* STATUS= JBB6609                                                  */ 01350000
*/*                                                                  */ 01400000
*/*01* PROPRIETARY STATEMENT=                                        */ 01450000
*/*                                                                  */ 01500000
*/*01* EXTERNAL CLASSIFICATION: PSPI                                 */ 01550000
*/*01* END OF EXTERNAL CLASSIFICATION:                               */ 01600000
*/*                                                                  */ 01650000
*/*01* COMPONENT: Resource Recovery Services (SCRRS)                 */ 01700000
*/*                                                                  */ 01750000
*/*01* DSECT Name: ATRSZPUR,                                         */ 01800000
*/*                ATRSZPUR_HDR_DATA,                                */ 01850000
*/*                ATRSZPUR_UR_DATA,                                 */ 01900000
*/*                ATRSZPUR_URI_DATA,                                */ 01933300
*/*                ATRSZPUR_XID_DATA                             @L1A*/ 01966600
*/*                                                                  */ 02000000
*/*01* Eye-Catcher: ATRSCPUR                                         */ 02050000
*/*02*  Offset: 0                                                    */ 02100000
*/*02*  Length: 8                                                    */ 02150000
*/*                                                                  */ 02200000
*/*01* Storage Attributes:                                           */ 02250000
*/*02*  Subpool: N/A                                                 */ 02300000
*/*02*  Key: N/A                                                     */ 02350000
*/*02*  Residency: N/A                                               */ 02400000
*/*                                                                  */ 02450000
*/*01* Size: ATRSZPUR          (24 bytes)                            */ 02500000
*/*          ATRSZPUR_HDR_DATA (62 bytes)                            */ 02550000
*/*          ATRSZPUR_UR_DATA  (100 bytes)                       @L2C*/ 02580000
*/*          ATRSZPUR_URI_DATA (72 bytes)                        @L1C*/ 02610000
*/*          ATRSZPUR_XID_DATA (13 bytes minimum,                @L1A*/ 02640000
*/*                             140 bytes maximum)               @L1A*/ 02670000
*/*                                                                  */ 02700000
*/*                                                                  */ 02750000
*/*01* Created by: N/A                                               */ 02800000
*/*                                                                  */ 02850000
*/*01* Pointed to by: N/A                                            */ 02900000
*/*                                                                  */ 02950000
*/*01* Serialization: N/A                                            */ 03000000
*/*                                                                  */ 03050000
*/*01* Function: This macro contains constants and declares for      */ 03100000
*/*              the RRS UR and Restart log blocks                   */ 03150000
*/*                                                                  */ 03200000
*/*              The log block is comprised of the following data    */ 03250000
*/*              areas:                                              */ 03300000
*/*                                                                  */ 03350000
*/*               - Block information (mapped by ATRSZPUR_HEADER)    */ 03400000
*/*               - Header information (mapped by ATRSZPUR)          */ 03450000
*/*               - UR information (mapped by ATRSZPUR_UR_DATA)      */ 03500000
*/*                 - Base data portion                          @L1A*/ 03512500
*/*                 - Offset of the XID within the log block     @L1A*/ 03525000
*/*                 - UR function map                            @L1A*/ 03537500
*/*               - a LUWID, if one exists                           */ 03550000
*/*               - an EID, if one exists                            */ 03600000
*/*               - one or more URI information groups containing:   */ 03650000
*/*                 - URI information (mapped by ATRSZPUR_URI_DATA)  */ 03700000
*/*                 - URI persistent data, if it exists              */ 03750000
*/*               - an XID, if one exists (mapped by             @L1A*/ 03766600
*/*                 ATRSZPUR_XID_DATA)                           @L1A*/ 03783200
*/*                                                                  */ 03800000
*/*              Use the lengths in each block to move from one      */ 03850000
*/*              data area to another.                               */ 03900000
*/*     _______________________________________                      */ 03950000
*/*    |                                       |                     */ 04000000
*/*    | ATRSZPUR_HDR_DATA                     |                     */ 04050000
*/*    |_______________________________________|                     */ 04100000
*/*    |                                       |                     */ 04150000
*/*    | ATRSZPUR                              |                     */ 04200000
*/*    |_______________________________________|                     */ 04250000
*/*    |                                       |                     */ 04300000
*/*    | ATRSZPUR_UR_DATA                      |                     */ 04350000
*/*    |_______________________________________|                     */ 04400000
*/*    |                                       |                     */ 04450000
*/*    | LUWID (if one exists)                 |                     */ 04500000
*/*    |_______________________________________|                     */ 04550000
*/*    |                                       |                     */ 04600000
*/*    | EID (if one exists)                   |                     */ 04650000
*/*    |_______________________________________|                     */ 04700000
*/*    |                                       |                     */ 04750000
*/*    | ATRSZPUR_URI_DATA                     |                     */ 04800000
*/*    |_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _|                     */ 04850000
*/*    |                                       |                     */ 04900000
*/*    | URI persistent data (if provided)     |                     */ 04950000
*/*    |_______________________________________|                     */ 05000000
*/*                                                                  */ 05050000
*/*    o                                       o                     */ 05100000
*/*    o                                       o                     */ 05150000
*/*    o                                       o                     */ 05200000
*/*                                                                  */ 05250000
*/*    |_______________________________________|                     */ 05300000
*/*    |                                       |                     */ 05350000
*/*    | ATRSZPUR_URI_DATA                     |                     */ 05400000
*/*    |_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _|                     */ 05450000
*/*    |                                       |                     */ 05500000
*/*    | URI persistent data (if provided)     |                     */ 05550000
*/*    |_______________________________________|                     */ 05600000
*/*    |                                       |                 @L1A*/ 05612500
*/*    | ATRSZPUR_XID_DATA (if one exists)     |                 @L1A*/ 05625000
*/*    |_______________________________________|                 @L1A*/ 05637500
*/*                                                                  */ 05650000
*/*                                                                  */ 05700000
*/*01* Method of Access:                                             */ 05750000
*/*                                                                  */ 05800000
*/*02*  PL/X: %INCLUDE SYSLIB(ATRSZPUR)                              */ 05850000
*/*           %INCLUDE SYSLIB(ATRRPLX)                               */ 05900000
*/*                                                                  */ 05950000
*/*           To add declaration options:                            */ 06000000
*/*                                                                  */ 06050000
*/*           %DCL ATRSZPUR_BASE CHAR EXT                            */ 06100000
*/*           %DCL ATRSZPUR_HDR_BASE CHAR EXT                        */ 06150000
*/*           %DCL ATRSZPUR_UR_BASE CHAR EXT                         */ 06200000
*/*           %DCL ATRSZPUR_URI_BASE CHAR EXT                        */ 06250000
*/*           %DCL ATRSZPUR_UR_READ_BASE CHAR EXT                @L1A*/ 06266600
*/*           %DCL ATRSZPUR_XID_BASE CHAR EXT                    @L1A*/ 06283200
*/*                                                                  */ 06300000
*/*           and set these to the desired options.                  */ 06350000
*/*                                                                  */ 06400000
*/*           To suppress mappings:                                  */ 06450000
*/*                                                                  */ 06500000
*/*           %DCL ATRSZPUR_NOMAP CHAR EXT                           */ 06550000
*/*           %DCL ATRSZPUR_HDR_NOMAP CHAR EXT                       */ 06600000
*/*           %DCL ATRSZPUR_UR_NOMAP CHAR EXT                        */ 06650000
*/*           %DCL ATRSZPUR_URI_NOMAP CHAR EXT                       */ 06700000
*/*           %DCL ATRSZPUR_XID_NOMAP CHAR EXT                   @L1A*/ 06725000
*/*                                                                  */ 06750000
*/*           and set these to non-null values to suppress the       */ 06800000
*/*           mapping.                                               */ 06850000
*/*                                                                  */ 06900000
*/*02*  ASM : ATRSZPUR                                               */ 06950000
*/*           ATRSASM                                                */ 07000000
*/*                                                                  */ 07050000
*/*           Options:                                               */ 07100000
*/*                                                                  */ 07150000
*/*           DSECT=YES|NO - Whether or not ATRSZPUR is generated    */ 07200000
*/*                          as a DSECT (YES) or a DS (NO)           */ 07250000
*/*                                                                  */ 07300000
*/*           ATRSZPUR=YES|NO - Whether or not the ATRSZPUR mapping  */ 07350000
*/*                             is generated                         */ 07400000
*/*                                                                  */ 07450000
*/*           URDATA=YES|NO - Whether or not the ATRSZPUR_UR_DATA    */ 07500000
*/*                           mapping is generated                   */ 07550000
*/*                                                                  */ 07600000
*/*           URIDATA=YES|NO - Whether or not the ATRSZPUR_URI_DATA  */ 07650000
*/*                            mapping is generated                  */ 07700000
*/*                                                                  */ 07750000
*/*           XIDDATA=YES|NO - Whether or not the ATRSZPUR_XID_DATA  */ 07762500
*/*                            mapping is generated              @L1A*/ 07775000
*/*                                                                  */ 07787500
*/*           HDRDATA=YES|NO - Whether or not the ATRSZPUR_HDR_DATA  */ 07800000
*/*                            mapping is generated                  */ 07850000
*/*                                                                  */ 07900000
*/*           LIST=YES|NO - Whether or not the macro expansion is    */ 07950000
*/*                         printed                                  */ 08000000
*/*                                                                  */ 08050000
*/*           TITLE=YES|NO - Whether or not the TITLE line is        */ 08100000
*/*                         printed                                  */ 08150000
*/*                                                                  */ 08200000
*/*01* Distribution Library: AMACLIB                                 */ 08250000
*/*                                                                  */ 08300000
*/*01* Change Activity:                                              */ 08350000
*/*                                                                  */ 08400000
*/*   PN  REASON   RLSE    DATE   ORG   COMMENTS                     */ 08450000
*/*   $P0=PQC2934  HBB6603 970310 B7HGEV:  Document the block        */ 08500000
*/*   $P1=PU70029  HBB6603 970320 B7HGEJ:  RM Instance Number        */ 08550000
*/*                                        (TRSQ - OW26369)          */ 08570000
*/*   $L1=RSXID    HBB6605 970601 PDEM:    RRS/BOSS XID Support      */ 08590000
*/*   $01=OW27925  HBB6603 970627 B7HGEV: Fix ASM fields to match    */ 08610000
*/*                                       the PLX version            */ 08630000
*/*   $L2=RRSSV    HBB6606 971208 B7HGEJ:  RRS Serviceability        */ 08636600
*/*   $02=OW30715  HBB6605 971215 B7HGEV: Add XIDDATA key            */ 08643200
*/*   $03=OW33038  HBB6606 980501 B7HGEV: URCreateTime too small     */ 08646600
*/*   $L3=RRSCT    JBB6609 990122 PDEM:    RRS Cascaded UR Support   */ 08648300
*/*   $04=OW42386  HBB6606 991215 PDEV: OW40061/OW42032 PTF errors   */ 08648990
*/*                                    (reship)                      */ 08649300
*/*   $05=OW47924  HBB7703 000814 B7HGBL: Multisystem Cascaded       */ 08649600
*/*                                                                  */ 08650000
*/** END OF SPECIFICATIONS *******************************************/ 08700000
* /*                                                                    08750000
.P0      ANOP                                                           08800000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 08850000
         AIF   ('&LIST' EQ 'YES').P2                                    08900000
.P1      ANOP                                                           08950000
         PUSH  PRINT                                                    09000000
         PRINT OFF                                                      09050000
.P2      ANOP                                                           09100000
         AIF   ('&ATRSZPUR' EQ 'NO').L0002                              09150000
         AIF   ('&DSECT' EQ 'YES').L0003                                09200000
         AIF   ('&ATRSZPUR' NE 'YES').L0002                             09250000
ATRSZPUR DS 0X                                                          09300000
         AGO   .L0004                                                   09350000
.L0003   ANOP                                                           09400000
ATRSZPUR DSECT                                                          09450000
.L0004   ANOP                                                           09500000
PUR_Header          DS 0D   PUR header mapping                          09550000
PUR_EyeCatcher      DS CL8  Control block identifier                    09600000
PUR_Version         DS F    Control block version                       09650000
PUR_Length          DS F    PUR header length                           09700000
PUR_Interest_Count  DS F    Number of URI data blocks in the Top        09733300
*                           Level UR                                    09766600
PUR_AmountTruncated DS F    Amount of data truncated when the PUR       09800000
*                           was written to the RRS Archive log.  Only   09850000
*                           valid for PURs in the Archive log.          09900000
.L0002   ANOP                                                           09950000
         AIF   ('&URDATA' NE 'YES').L0005                               10000000
*                                                                       10050000
ATRSZPUR_UR_DATA    DSECT   UR data mapping - for write use only        10075000
ATRSZPUR_UR_BASE_DATA EQU * UR data which is logged for all RRS         10100000
*                           releases                               @L1A 10125000
PUR_UR_Version      DS F    Control block version                       10150000
PUR_UR_Length       DS F    UR data length                              10200000
PUR_UR_URID         DS XL16 UR identifier                               10250000
PUR_UR_State        DS F    UR state. Possible values (defined in       10300000
*                           ATRRASM):                                   10350000
*                           ATR_IN_RESET                                10400000
*                           ATR_IN_FLIGHT                               10450000
*                           ATR_IN_STATE_CHECK                          10500000
*                           ATR_IN_PREPARE                              10550000
*                           ATR_IN_DOUBT                                10600000
*                           ATR_IN_COMMIT                               10650000
*                           ATR_IN_BACKOUT                              10700000
*                           ATR_IN_END                                  10750000
*                           ATR_IN_ONLY_AGENT                           10800000
*                           ATR_IN_COMPLETION                           10850000
*                           ATR_FORGOTTEN                               10900000
*                           ATR_IN_FORGET                               10950000
PUR_UR_Exit_Flags   DS BL4  Exit flags. Mapped by ATRXPARMEXITFLAGS     11000000
*                           in ATRRASM                             @01C 11050000
PUR_UR_Flags        DS BL4  UR flags. Not externalized.            @01C 11100000
PUR_UR_Luwid_Length DS F    LUWID length. If zero, no LUWID for this UR 11150000
PUR_UR_Eid_Length   DS F    EID length. If zero, no EID for this UR     11200000
PUR_UR_RSV          DS CL4  Reserved                                    11250000
ATRSZPUR_UR_MORE_DATA EQU *                                        @L1A 11253300
ATRSZPUR_UR_VERS_2_DATA EQU * PUR_UR Version 2 Data                @L2A 11256600
PUR_UR_Xid_Offset   DS F    Offset of the XID within the log block @L1A 11260000
PUR_UR_Function_Map DS BL8  UR function map.                       @L1A 11265000
ATRSZPUR_UR_VERS_3_DATA EQU * PUR_UR Version 3 Data                @L2A 11266200
PUR_UR_Work_Manager_Name DS CL32 Work Manager Name.                @L2A 11267400
PUR_UR_Create_Time  DS CL8  GMT Time of UR creation.               @L2A 11268600
ATRSZPUR_UR_VERS_4_DATA EQU * PUR_UR Version 4 Data                @L3A 11268800
PUR_UR_Parent_URID  DS XL16 UR identifier of the parent UR         @L3A 11269000
PUR_UR_NextPUR_Offset DS F  Offset of the next UR entry within the      11269200
*                           log block                              @L3A 11269400
*                                                                       11270000
ATRSZPUR_UR_READ_DATA DSECT UR data mapping - for read use only         11275000
PUR_UR_R_BASE_DATA  DS CL48 UR data that is logged for all RRS          11280000
*                           releases                               @L1A 11285000
PUR_UR_R_Xid_Offset DS F    Offset of the XID within the log block @L1A 11290000
PUR_UR_R_Function_Map DS BL8 UR function map                       @L1A 11295000
PUR_UR_R_Work_Manager_Name DS CL32 Work Manager Name               @L2A 11296600
PUR_UR_R_Create_Time DS CL8  GMT Time of UR Creation.              @L2A 11298200
PUR_UR_R_Parent_URID DS XL16 UR identifier of the parent UR        @L3A 11298600
PUR_UR_R_NextPUR_Offset DS F Offset of the next UR entry within the     11299000
*                           log block                              @L3A 11299400
*                                                                       11300000
.L0005   ANOP                                                           11350000
         AIF   ('&URIDATA' NE 'YES').L0006                              11400000
ATRSZPUR_URI_DATA          DSECT   URI data mapping                     11450000
PUR_URI_Version            DS F    Control block version                11500000
PUR_URI_Length             DS F    URI data length                      11550000
PUR_URI_RMName             DS CL32 Resource manager name                11600000
PUR_URI_Role               DS F    URI role. Possible values (defined   11650000
*                                  in ATRRASM):                         11700000
*                                  ATR_PARTICIPANT                      11750000
*                                  ATR_LAST_AGENT                       11800000
*                                  ATR_DSRM                             11850000
*                                  ATR_SDSRM                            11900000
PUR_URI_Two_Phase_Protocol DS F    URI protocol. Possible values        11950000
*                                  (defined in ATRRASM):                12000000
*                                  ATR_PRESUMED_NOTHING                 12050000
*                                  ATR_PRESUMED_ABORT                   12100000
PUR_URI_Commit_ExitCode    DS F    Commit code. Possible values         12150000
*                                  (defined in ATRRASM):                12200000
*                                  ATR_COMMIT_OK                        12250000
*                                  ATR_DRIVE_COMMIT_EXIT                12300000
PUR_URI_Backout_ExitCode   DS F    Backout code. Possible values        12350000
*                                  (defined in ATRRASM):                12400000
*                                  ATR_BACKOUT_OK                       12450000
*                                  ATR_DRIVE_BACKOUT_EXIT               12500000
PUR_URI_PData_Length       DS F    Persistent data length.  If zero,    12550000
*                                  no persistent data for this URI.     12600000
PUR_URI_RM_Instance_Number  DS CL8 RM Instance Number.  Used to         12650000
*                                  identify complete units of recovery, 12700000
*                                  that are logically deleted, but      12750000
*                                  have not been compressed out of      12800000
*                                  the UR State Logs.              @P1A 12850000
PUR_URI_RSV                DS CL4  Reserved                             12900000
.L0006   ANOP                                                           12950000
         AIF   ('&HDRDATA' NE 'YES').L0007                              13000000
ATRSZPUR_HDR_DATA   DSECT   Block header mapping                        13050000
LogRecord_HDR_Base_Data   EQU * PUR_HDR base data                  @L3A 13075000
LogRecordEyeCatcher DS CL8  Log Block Eyecatcher                        13100000
LogRecordVersion    DS F    Log Block Version Number                    13150000
BaseLength          DS F    Control block length                        13200000
VariableLength      DS F    Length of logged data                       13250000
LoggingSystemName   DS CL8  Logging system name                         13300000
LogRecordStreamName DS CL26 Log stream name                             13350000
PreviousBlockID     DS CL8  Block ID of previous logging for this UR    13400000
LogRecord_HDR_Vers_2_Data EQU * PUR_HDR Version 2 Data             @L3A 13401900
NextBlockID         DS CL8  The block ID of the previously logged       13403800
*                           block - used to perform a direct read for   13405700
*                           the next block of a multiblock log record   13407600
*                                                                  @L3A 13409500
NotUsed             DS CL2  Not used - force word boundary         @L3A 13411400
NextBlockPtr        DS F    Pointer to the next block within a          13413300
*                           multiblock log record (only meaningful      13415200
*                           while the log blocks are in storage)   @L3A 13417100
TotalNumOfBlocks    DS F    Total number of log blocks required to      13419000
*                           log the cascaded UR family             @L3A 13420900
BlockNumber         DS F    Block number                           @L3A 13422800
LogRecord_HDR_Vers_3_Data EQU * PUR_HDR Version 3 Data             @05A 13422900
LogRecordFlags      DS 0BL4 Indicator flags                        @05A 13423000
LogRecordFlagsByte1 DS BL1  Byte 1                                 @05A 13423100
LogRecordCFamily          EQU X'80' This log block is part of a        -13423200
                                    cascaded UR family             @05A 13423300
LogRecordSysplexFamily    EQU X'40' This log block is part of a        -13423400
                                    sysplex cascaded UR family     @05A 13423500
LogRecordFlagsByte2 DS BL1  Byte 2                                 @05A 13423600
LogRecordFlagsByte3 DS BL1  Byte 3                                 @05A 13423700
LogRecordFlagsByte4 DS BL1  Byte 4                                 @05A 13423800
LogRecordSURID      DS CL32 SURID                                  @05A 13423900
.*                                                                      13425000
.L0007   ANOP                                                           13450000
         AIF   ('&XIDDATA' NE 'YES').L0008                              13452300
ATRSZPUR_XID_DATA   DSECT   XID mapping                            @L1A 13454600
PUR_XID_FIXED_PORTION      EQU *    Fixed portion (The length           13456900
*                                   of an xid is the length             13459200
*                                   of the fixed portion                13461500
*                                   plus the length of the              13463800
*                                   Gtrid and the length of             13466100
*                                   the Bqual)                     @L1A 13468400
PUR_XID_FORMATID           DS F     Format id                      @L1A 13470700
PUR_XID_GTRID_LEN          DS F     Length of Gtrid                @L1A 13473000
PUR_XID_BQUAL_LEN          DS F     Length of Bqual                @L1A 13475300
PUR_XID_ID_PORTION         EQU *                                   @L1A 13477600
PUR_XID_ID_DATA            DS CL128 Gtrid and Bqual (the maximum        13479900
*                                   length is 128, the Gtrid            13482200
*                                   length and Bqual length             13484500
*                                   define the length of                13486800
*                                   the first and second                13489100
*                                   subsection of the ID)          @L1A 13491400
.*                                                                      13493700
.L0008   ANOP                                                           13496000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 13500000
         AIF   ('&LIST' EQ 'YES').P4                                    13550000
.P3      ANOP                                                           13600000
         POP   PRINT                                                    13650000
.P4      ANOP                                                           13700000
.P_EXIT  ANOP                                                           13750000
         MEND                                                           13800000
**/                                                                     13850000
*/* Start of PL/X Source                                             */ 13900000
*%dcl atrszpur_base char ext;                                           13950000
*%dcl atrszpur_hdr_base char ext;                                       14000000
*%dcl atrszpur_ur_base char ext;                                        14050000
*%dcl atrszpur_uri_base char ext;                                       14100000
*%dcl atrszpur_xid_base char ext;                                       14125000
*%dcl atrszpur_nomap  char ext;                                         14150000
*%dcl atrszpur_hdr_nomap  char ext;                                     14200000
*%dcl atrszpur_ur_nomap  char ext;                                      14250000
*%dcl atrszpur_uri_nomap  char ext;                                     14300000
*%dcl atrszpur_xid_map  char ext;                                       14325000
*                                                                       14350000
*%if atrszpur_nomap = '' %then                                          14400000
*%do;                                                                   14450000
*Dcl 1 ATRSZPUR Bdy(Dword) atrszpur_base,/* PUR header               */ 14500000
*     3 PUR_Header,                                                     14550000
*      5 PUR_EyeCatcher      char(8),  /* Control block identifier   */ 14600000
*      5 PUR_Version         fixed(31),/* Control block version      */ 14650000
*      5 PUR_Length          fixed(31),/* PUR header length          */ 14700000
*      5 PUR_Interest_Count  fixed(31),/* Number of URI blocks for the  14733300
*                                         top level UR.              */ 14766600
*      5 PUR_AmountTruncated fixed(31) /* Amount of data truncated      14800000
*                                         when the PUR was written to   14850000
*                                         the Archive log            */ 14900000
*     ;                                                                 14950000
*                                                                       15000000
*%end;                                                                  15050000
*%if atrszpur_ur_nomap = '' %then                                       15100000
*%do;                                                                   15150000
*Dcl 1 ATRSZPUR_UR_DATA atrszpur_ur_base,/* UR data mapping - for       15174100
*                                   write use only                   */ 15196800
*     3 PUR_UR_Base_Data,           /* UR data that is logged for       15219500
*                                   all RRS releases             @L1A*/ 15242200
*        5 PUR_UR_Version   fixed(31), /* Control block version      */ 15264900
*        5 PUR_UR_Length    fixed(31), /* UR data length             */ 15287600
*        5 PUR_UR_URID      Isa(ATR_URID_Type), /* UR identifier     */ 15310300
*        5 PUR_UR_State     Isa(ATR_UR_State_Type),/* UR state       */ 15333000
*        5 PUR_UR_Exit_Flags Isa(ATRXParmExitFlagsType),/* Exit flags*/ 15355700
*        5 PUR_UR_Flags     Bit(32),   /* UR flags                   */ 15378400
*        5 PUR_UR_Luwid_Length Isa(ATR_Uwid_Len_Type),/* LUWID length,  15401100
*                                   Zero if no LUWID for this UR     */ 15423800
*        5 PUR_UR_Eid_Length   Isa(ATR_Uwid_Len_Type),/* EID length,    15446500
*                                   Zero if no LUWID for this UR     */ 15469200
*        5 PUR_UR_RSV     Char(4),  /* Reserved                      */ 15491900
*     3 PUR_UR_More_Data,               /*                       @L1A*/ 15514600
*      4 PUR_UR_Vers_2_Data,            /* Version 2 data        @L2A*/ 15537300
*        5 PUR_UR_Xid_Offset   Fixed(31), /* Offset of the XID within   15560000
*                                          the log block         @L1C*/ 15583800
*        5 PUR_UR_Function_Map Bit(64), /* UR function map       @L1A*/ 15591800
*      4 PUR_UR_Vers_3_Data,            /* Version 3 data        @L2A*/ 15599800
*        5 PUR_UR_Work_Manager_Name isa(ATR_RM_Name_Type) /* Work       15607800
*                                   manager name                 @L2A*/ 15615800
*       ,5 PUR_UR_Create_Time char(8)   /* GMT Create Time.      @03C*/ 15623900
*     ,4 PUR_UR_Vers_4_Data             /* Version 4 data        @L3A*/ 15625200
*       ,5 PUR_UR_Parent_URID Isa(Atr_URID_Type) /* UR identifier of    15626500
*                                   the parent UR                @L3A*/ 15627800
*       ,5 PUR_UR_NextPUR_Offset Fixed(31) /* Offset of the next UR     15629100
*                                   entry within the log block   @L3A*/ 15630400
*      ;                                                                15632000
*                                                                       15656100
*Dcl 1 ATRSZPUR_UR_READ_DATA atrszpur_ur_read_base,/* UR data mapping   15680200
*                                          - for read use only   @L1A*/ 15704300
*      3 PUR_UR_R_Base_Data  Char(Length(Pur_UR_Base_Data)), /*  @L1A*/ 15728400
*      3 PUR_UR_R_Xid_Offset Fixed(31), /* Offset of the XID within     15752500
*                                          the log block         @L1A*/ 15776600
*      3 PUR_UR_R_Function_Map Bit(64), /* UR function map       @L1A*/ 15784600
*      3 PUR_UR_R_Work_Manager_Name isa(ATR_RM_Name_Type)  /* Work      15792600
*                                   Manager Name                        15800600
*                                                                @L3A*/ 15808600
*     ,3 PUR_UR_R_Create_Time char(8)    /* GMT Create Time.     @03C*/ 15816700
*     ,3 PUR_UR_R_Parent_URID   IsA(Atr_URID_Type) /* UR identifier of  15818300
*                                           the parent UR        @L3A*/ 15819900
*     ,3 PUR_UR_R_NextPUR_Offset Fixed(31) /* Offset of the next UR     15821500
*                                   entry within the log block   @L3A*/ 15823100
*      ;                                                                15824800
*                                                                       15850000
*%end;                                                                  15900000
*%if atrszpur_uri_nomap = '' %then                                      15950000
*%do;                                                                   16000000
*Dcl 1 ATRSZPUR_URI_DATA atrszpur_uri_base,/* URI data mapping       */ 16050000
*     3 PUR_URI_Version            fixed(31),/* Control block version*/ 16100000
*     3 PUR_URI_Length             fixed(31),/* URI data length      */ 16150000
*     3 PUR_URI_RMName             Isa(ATR_RM_Name_Type),/* RM name  */ 16200000
*     3 PUR_URI_Role               Isa(ATR_Role_Type),/* URI role    */ 16250000
*     3 PUR_URI_Two_Phase_Protocol Isa(ATR_Protocol_Type), /* URI       16300000
*                                               protocol             */ 16350000
*     3 PUR_URI_Commit_ExitCode    Isa(ATR_Commit_Exit_Code_Type), /*   16400000
*                                               Commit code          */ 16450000
*     3 PUR_URI_Backout_ExitCode   Isa(ATR_Backout_Exit_Code_Type),/*   16500000
*                                               Backout code         */ 16550000
*     3 PUR_URI_PData_Length       Fixed(31),/* Persistent data length  16600000
*                                                                    */ 16650000
*     3 PUR_URI_RM_Instance_Number Char(8), /*                          16700000
*                                  RM Instance Number.  Used to         16750000
*                                  identify complete units of recovery, 16800000
*                                  that are logically deleted, but      16850000
*                                  have not been compressed out of      16900000
*                                  the UR State logs.            @P1A*/ 16950000
*     3 PUR_URI_RSV Char(4)          /* Reserved                     */ 17000000
*     ;                                                                 17050000
*%end;                                                                  17100000
*%if atrszpur_hdr_nomap = '' %then                                      17150000
*%do;                                                                   17200000
*Dcl 1 ATRSZPUR_HDR_DATA atrszpur_hdr_base,/* Block header           */ 17250000
*    2 LogRecord_HDR_Base_Data,        /* Base data              @L3A*/ 17275000
*     3 LogRecordEyeCatcher Char(8),   /* Log Block Eyecatcher       */ 17300000
*     3 LogRecordVersion    Fixed(31), /* Log Block Version Number   */ 17350000
*     3 BaseLength          Fixed(31), /* Control block length       */ 17400000
*     3 VariableLength      Fixed(31), /* Length of logged data      */ 17450000
*     3 LoggingSystemName   char(8),   /* Logging system name        */ 17500000
*     3 LogRecordStreamName char(26),  /* Log stream name            */ 17550000
*     3 PreviousBlockID     char(8),   /* Block ID of previous          17600000
*                                         logging for this UR        */ 17650000
*    2 LogRecord_HDR_Junk,             /* Not used - force word         17652600
*                                         boundary               @L3A*/ 17655200
*     3 *                   Char(2),   /*                        @L3A*/ 17657800
*    2 LogRecord_HDR_Vers_2_Data,      /* Version 2 data         @L3A*/ 17660400
*     3 NextBlockID         Char(8),   /* Block ID of the previously    17663000
*                                         logged block - used to        17665600
*                                         perform a direct read for the 17668200
*                                         next block of a multiblock    17670800
*                                         log record             @L3A*/ 17673400
*     3 NextBlockPtr        IsA(Atrlcbfq_Link),/* Pointer to next block 17676000
*                                         within a multiblock log       17678600
*                                         record (only meaningful while 17681200
*                                         log blocks are in storage)    17683800
*                                                                @L3A*/ 17686400
*     3 TotalNumOfBlocks    Fixed(31), /* Total number of log blocks    17689000
*                                         required to log the cascaded  17691600
*                                         UR family              @L3A*/ 17694200
*     3 BlockNumber         Fixed(31), /* Block number           @L3A*/ 17696990
*    2 LogRecord_HDR_Vers_3_Data,      /* Version 3 data         @05A*/ 17697180
*     3 LogRecordFlags      Fixed(32), /* indicator Flags        @05A*/ 17697370
*      4 LogRecordFlagsByte1 Fixed(8),                       /*  @05A*/ 17697560
*       5 LogRecordCFamily   Bit(1),   /* This log block is part of a   17697750
*                                         cascaded UR family     @05A*/ 17697940
*       5 LogRecordSysplexFamily Bit(1), /* This log block is part of a 17698130
*                                           sysplex cascaded UR family  17698320
*                                                                @05A*/ 17698510
*      4 LogRecordFlagsByte2 Fixed(8),                       /*  @05A*/ 17698700
*      4 LogRecordFlagsByte3 Fixed(8),                       /*  @05A*/ 17698890
*      4 LogRecordFlagsByte4 Fixed(8),                       /*  @05A*/ 17699080
*     3 LogRecordSURID  isa(ATR_SURID_Type),  /* Sysplex UR Identifier  17699270
*                                                                @05A*/ 17699460
*     3 LogRecord_HDR_Vers_3_Data_end Char(0)                /*  @05A*/ 17699650
*     ;                                                                 17700000
*                                                                       17750000
*%end;                                                                  17800000
*%if atrszpur_xid_map ^= '' %then                                       17802100
*%do;                                                                   17804200
*Dcl 1 ATRSZPUR_XID_DATA atrszpur_xid_base,/* XID mapping (The length   17806300
*                                             of an xid is the length   17808400
*                                             of the fixed portion      17810500
*                                             plus the length of the    17812600
*                                             Gtrid and the length of   17814700
*                                             the Bqual)         @L1A*/ 17816800
*     3 PUR_XID_FIXED_PORTION,             /* Fixed portion      @L1A*/ 17818900
*      5 PUR_XID_FORMATID    Fixed(31),    /* Format id          @L1A*/ 17821000
*      5 PUR_XID_GTRID_LEN   Fixed(31),    /* Gtrid length       @L1A*/ 17823100
*      5 PUR_XID_BQUAL_LEN   Fixed(31),    /* Bqual length       @L1A*/ 17825200
*     3 PUR_XID_ID_PORTION,                /* ID portion         @L1A*/ 17827300
*      5 PUR_XID_ID_DATA     Char(*)       /* Gtrid/Bqual (the maximum  17829400
*                                             length is 128, the Gtrid  17831500
*                                             length and Bqual length   17833600
*                                             define the length of      17835700
*                                             the first and second      17837800
*                                             subsection of the ID)     17839900
*                                                                @L1A*/ 17842000
*     ;                                                                 17844100
*%end;                                                                  17846200
*/* End of PL/X Source                                               */ 17850000
