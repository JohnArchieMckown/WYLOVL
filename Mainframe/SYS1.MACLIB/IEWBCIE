*                                                                       00050000
*/********************************************************************* 00100000
*                                                                     * 00150000
*    $MAC(IEWBCIE)  COMP(DF108):                                      * 00200000
*                                                                     * 00250000
*    INCLUDE NAME: IEWBCIE                                            * 00300000
*                                                                     * 00350000
*    DESCRIPTIVE NAME: IMPORT/EXPORT TABLE MAPPING                    * 00400000
*                                                                     * 00450000
*    STATUS: VERSION 2 RELEASE 10                               @P2C  * 00500000
*                                                                     * 00550000
*  PROPRIETARY V3 STATEMENT                                           * 00600000
*  LICENSED MATERIALS - PROPERTY OF IBM                               * 00650000
*  "RESTRICTED MATERIALS OF IBM"                                      * 00700000
*  5695-DF1                                                           * 00750000
*  (C) COPYRIGHT 1998  IBM CORP.                                      * 00800000
*  END PROPRIETARY V3 STATEMENT                                       * 00850000
*                                                                     * 00900000
*    FUNCTION: Define the format of the Binder-generated              * 00950000
*              Import/Export table.  This is the format               * 01000000
*              returned by a GETD call for B_IMPEXP and may be        * 01050000
*              be used by external users (such as LE) to map          * 01100000
*              the generated table.                                   * 01150000
*                                                                     * 01200000
*    NOTES:                                                           * 01250000
*       There are two versions of the mapping. Version 2          @L1A* 01300000
*       was added for XPLINK support and will be used if any      @L1A* 01350000
*       imported or exported functions or imported data uses      @L1A* 01400000
*       XPLINK conventions.                                           * 01450000
*                                                                     * 01500000
*    METHOD OF ACCESS:                                                * 01550000
*                                                                     * 01600000
*      Assembler: mapping via DSECTs                                  * 01650000
*                                                                     * 01700000
*      PL/X LINKAGE:                                                  * 01750000
*                                           -----                     * 01800000
*       %DCL CIETBASE CHAR EXTERNAL                                   * 01850000
*       %CIETBASE=''                                                  * 01900000
*       %INCLUDE SYSLIB(IEWBCIE)                                      * 01950000
*                                                                     * 02000000
*       By default, the IEWBCIE header is based on CIET_PTR with      * 02050000
*       both basing expression and pointer declared                   * 02100000
*       If other basing is desired, use %CIETBASE='BASED(XXXXXX)'     * 02150000
*       If %CIETBASE='BASED(CIET_PTR)' is coded, a Declare for        * 02200000
*       CIET_PTR is also generated.                                   * 02250000
*                                                                     * 02300000
*    MACRO TYPE: MAPPING                                              * 02350000
*                                                                     * 02400000
*       PROCESSOR: PL/X, Assembler                                    * 02450000
*       DISTRIBUTION LIBRARY: PLSMACS                                 * 02500000
*       ATTRIBUTES: NONE                                              * 02550000
*                                                                     * 02600000
*    CHANGE ACTIVITY:                                                 * 02650000
*                                                                     * 02700000
*   $L0=PM3ITER2,HDZ11C0,951121,SJPLLB: INITIAL                       * 02750000
*   $L1=XPLINK  ,HDZ11E0,971124,SJPLLB: XPLINK. Add CIET2 mapping.    * 02800000
*   $P0=XPLINK  ,HDZ11E0,990627,STLLB:  add extended attribute support* 02850000
*   $P1=XPLINK  ,HDZ11E0,990707,POKDJS: change CIET2_VAR_REF basing,  * 02900000
*                                       create bilingual version      * 02950000
*   $P2=K160767 ,HDZ11F0,991111,STLMD: UPDATE PROLOG             @P2A * 02975000
*                                                                     * 03000000
**********************************************************************/ 03050000
*/*                                                                     03100000
         MACRO                                                          03150000
         IEWBCIE ,                                                      03200000
CIET_HEADER DSECT                      CIET_HEADER is at offset         03250000
*                                        0 from the beginning of its    03300000
*                                        resident class (B_IMPEXP)      03350000
         DS    CL36                                                     03400000
         ORG   CIET_HEADER                                              03450000
CIET_EYE_CATCHER DS CL8                Eyecatcher 'IEWBCIET'            03500000
CIET_VERSION     DS FL1                Version of this mapping          03550000
CIET_SOURCE      DS CL3                Identifies product building IET  03600000
*                                        (Binder will store 'IEW')      03650000
CIET_FUNC_ADDR   DS AL4                Address of exported function     03700000
*                                        pointer array                  03750000
CIET_FUNC_COUNT  DS FL4                Count of entries in exported     03800000
*                                        function pointer array         03850000
CIET_VAR_ADDR    DS AL4                Address of exported variable     03900000
*                                        pointer array                  03950000
CIET_VAR_COUNT   DS FL4                Count of entries in exported     04000000
*                                        variable pointer array         04050000
CIET_DLL_ADDR    DS AL4                Address of DLL pointer array     04100000
CIET_DLL_COUNT   DS FL4                Count of entries in DLL pointer  04150000
*                                        array                          04200000
*                                                                       04250000
******************************************************************      04300000
* Exported function and variable entries have the following             04350000
* common format. Note that the flag CIET_IS_FUNCTION indicates          04400000
* whether the symbol represents a function or a variable.               04450000
******************************************************************      04500000
CIET_EXP_ENTRY DSECT                                                    04550000
         DS    CL28                                                     04600000
         ORG   CIET_EXP_ENTRY                                           04650000
CIET_EXP_CLASS      DS CL16            Name of class containing         04700000
*                                        exported symbol                04750000
CIET_EXP_OFFSET     DS FL4             Offset of exported symbol from   04800000
*                                        start of class (or virtual     04850000
*                                        address of the exported symbol 04900000
*                                        if CIET_IS_ADDRESS is true)    04950000
CIET_EXP_NAME_ADDR  DS AL4             Address of name of exported      05000000
*                                        symbol                         05050000
CIET_EXP_ATTRIBUTES DS BL2                                              05100000
CIET_IS_FUNCTION    EQU X'80'          Set if function (not variable)   05150000
CIET_IS_ADDR        EQU X'40'          Set if CIET_EXP_OFFSET is an     05200000
*                                        address rather than an offset  05250000
*                                                                       05300000
******************************************************************      05350000
*                                                                       05400000
* One entry for each DLL from which this program may import a symbol.   05450000
*                                                                       05500000
******************************************************************      05550000
CIET_DLL_ENTRY DSECT                                                    05600000
         DS    CL20                                                     05650000
         ORG   CIET_DLL_ENTRY                                           05700000
CIET_DLL_NAME_ADDR       DS AL4        Address of DLL name              05750000
CIET_IMP_FUNC_ARRAY_ADDR DS AL4        Address of imported function     05800000
*                                        pointer array                  05850000
CIET_IMP_FUNC_COUNT      DS FL4        Count of functions imported      05900000
*                                        from this DLL                  05950000
CIET_IMP_VAR_ARRAY_ADDR  DS AL4        Address of imported variable     06000000
*                                        pointer array                  06050000
CIET_IMP_VAR_COUNT       DS FL4        Count of variables imported      06100000
*                                        from this DLL                  06150000
*                                                                       06200000
******************************************************************      06250000
* Two import arrays exist for each DLL from which this program          06300000
* may import a symbol.  One array is for functions, the other           06350000
* for variables.  One array entry exists for each symbol which          06400000
* the program may import from this DLL.                                 06450000
******************************************************************      06500000
CIET_IMP_ENTRY DSECT                                                    06550000
         DS    CL24                                                     06600000
         ORG   CIET_IMP_ENTRY                                           06650000
CIET_IMP_CLASS     DS CL16             Name of class                    06700000
*                                      Containing descriptor for        06750000
*                                        imported symbol                06800000
CIET_IMP_OFF       DS FL4              Offset of symbol's descriptor    06850000
*                                        from start of it's containing  06900000
*                                        class                          06950000
CIET_IMP_NAME_ADDR DS AL4              Address of symbol's name in      07000000
*                                        string area                    07050000
*                                                                       07100000
******************************************************************      07150000
******************************************************************      07200000
*  CIET2 mapping.   A CIET version 2 table will be generated if         07250000
*  the module has any contents which require XPLINK support.            07300000
**********************************************************all @L1A      07350000
******************************************************************      07400000
*                                                                       07450000
CIET2_HEADER DSECT                     CIET2_HEADER is at offset        07500000
*                                        0 from the beginning of its    07550000
*                                        resident class (B_IMPEXP)      07600000
         DS    CL36                                                     07650000
         ORG   CIET2_HEADER                                             07700000
CIET2_EYE_CATCHER DS CL8               Eyecatcher 'IEWBCIET'            07750000
CIET2_VERSION     DS FL1               Version of this mapping          07800000
CIET2_SOURCE      DS CL3               Identifies product building IET  07850000
*                                        (Binder will store 'IEW')      07900000
CIET2_FUNC_ADDR   DS AL4               Address of exported function     07950000
*                                        array                          08000000
CIET2_FUNC_COUNT  DS FL4               Count of entries in exported     08050000
*                                        function array                 08100000
CIET2_VAR_ADDR    DS AL4               Address of exported variable     08150000
*                                        array                          08200000
CIET2_VAR_COUNT   DS FL4               Count of entries in exported     08250000
*                                        variable array                 08300000
CIET2_DLL_ADDR    DS AL4               Address of DLL array             08350000
CIET2_DLL_COUNT   DS FL4               Count of entries in DLL array    08400000
*                                                                       08450000
*****************************************************************       08500000
*       EXPORT  ENTRIES                                                 08550000
*****************************************************************       08600000
* In version 2, exported functions (code) and exported variable         08650000
* (data) entries have different formats                                 08700000
*****************************************************************       08750000
*       Exported Data  (variables)                                      08800000
*****************************************************************       08850000
* For rent C/C++ code it is expected that the data will be              08900000
* in WSA and EXP_VAR_OFFSET will contain the offset.  For               08950000
* nonrent XPLINK and perhaps others, such as assembler, the data        09000000
* will be in an initial load class and the field will contain           09050000
* an actual address.                                                    09100000
*****************************************************************       09150000
CIET2_EXP_VAR_ENTRY DSECT                                               09200000
         DS    CL16                                                     09250000
         ORG   CIET2_EXP_VAR_ENTRY                                      09300000
CIET2_EXP_VAR_CLASS_ADDR DS AL4        Address of name of class         09350000
*                                        containing exported symbol     09400000
CIET2_EXP_VAR_OFFSET     DS FL4        Offset of exported symbol        09450000
         ORG   CIET2_EXP_VAR_OFFSET      from start of class (or        09500000
CIET2_EXP_VAR_ADDR       DS AL4          virtual address of the         09550000
*                                        exported symbol if             09600000
*                                        CIET2_EXP_VAR_IS_ADDRESS       09650000
*                                        is true)                       09700000
CIET2_EXP_VAR_NAME_ADDR  DS AL4        Address of name of exported      09750000
*                                        symbol                         09800000
CIET2_EXP_VAR_ATTRIBUTES DS BL2                                         09850000
CIET2_EXP_VAR_IS_ADDR    EQU X'40'     Set if CIET2_EXP_VAR_OFFSET      09900000
*                                        is an address rather than an   09950000
*                                        offset                         10000000
*                                                                       10050000
*****************************************************************       10100000
*       Exported Code (functions)                                       10150000
*****************************************************************       10200000
* Notes:                                                                10250000
* 1. function addresses from known HLL compilers will be in the         10300000
* initial load class but that is not an architectural restriction.      10350000
* HLASM for example would allow functions in a deferred load            10400000
* class                                                                 10450000
* 2. XPlink entries contain the information needed to build             10500000
* a call-by-ptr descriptor.                                             10550000
* 3. XPlink entries also contain the address of an array                10600000
* whose entries identify the locations in the module which              10650000
* are to be modified to point to the call-by-ptr descriptor             10700000
* once it has been built.                                               10750000
*****************************************************************       10800000
CIET2_EXP_FUNC_ENTRY DSECT                                              10850000
         DS    CL36                                                     10900000
         ORG   CIET2_EXP_FUNC_ENTRY                                     10950000
CIET2_EXP_FUNC_CLASS_ADDR DS AL4       Address of name of class         11000000
*                                        containing exported symbol     11050000
CIET2_EXP_FUNC_OFFSET     DS FL4       Offset of exported symbol        11100000
         ORG   CIET2_EXP_FUNC_OFFSET     from start of class (or        11150000
CIET2_EXP_FUNC_ADDR       DS AL4         virtual address of the         11200000
*                                        exported symbol if             11250000
*                                        CIET2_EXP_FUNC_IS_ADDR         11300000
*                                        is true)                       11350000
CIET2_EXP_FUNC_NAME_ADDR  DS AL4       Address of name of exported      11400000
*                                        symbol                         11450000
CIET2_EXP_FUNC_ATTRIBUTES DS BL2                                        11500000
CIET2_EXP_FUNC_IS_ADDR EQU X'40'       Set if CIET2_EXP_FUNC_OFFSET     11550000
*                                        is an address rather than an   11600000
*                                        offset                         11650000
CIET2_EXP_ADA_IS_ADDR  EQU X'20'       Set if CIET2_EXP_FUNC_ADA_OFFSET 11700000
*                                        is an address and FUNC_XPLINK  11750000
*                                        is set                         11800000
CIET2_EXP_FUNC_XPLINK  EQU X'10'       This function uses XPlink        11850000
*                                        linkage conventions            11900000
CIET2_EXP_FUNC_ADA_CLASS_ADDR DS AL4   Address of name of class         11950000
*                                        containing associated data     12000000
*                                        (if FUNC_XPLINK)               12050000
CIET2_EXP_FUNC_ADA_OFFSET DS FL4       Offset of environment data from  12100000
         ORG   CIET2_EXP_FUNC_ADA_OFFSET start of class (or address of  12150000
CIET2_EXP_FUNC_ADA_ADDR   DS AL4         environment data if            12200000
*                                        CIET2_EXP_ADA_IS_ADDR is       12250000
*                                        true) & EXP_FUNC_XPLINK        12300000
CIET2_EXP_DESCR_REF_ADDR  DS AL4       Pointer to a CIET2_FUNC_REF      12350000
*                                        array - defines locations      12400000
*                                        that are to contain a pointer  12450000
*                                        to the call-by-ptr descriptor  12500000
*                                        built by LE                    12550000
CIET2_EXP_DESCR_REF_COUNT DS FL4       Count of entries in the array    12600000
*                                        based on                       12650000
*                                        CIET2_EXP_DESCR_REF_ADDR       12700000
CIET2_EXP_XATTR_ADDR      DS AL4       Address of extended attributes   12750000
*                                                                @P0A   12800000
*                                                                       12850000
*****************************************************************       12900000
*       DLL     ENTRIES                                                 12950000
*****************************************************************       13000000
* One entry for each DLL from which this program may import a symbol.   13050000
*****************************************************************       13100000
CIET2_DLL_ENTRY DSECT                                                   13150000
         DS    CL24                                                     13200000
         ORG   CIET2_DLL_ENTRY                                          13250000
CIET2_DLL_NAME_ADDR       DS AL4       Address of DLL name              13300000
CIET2_IMP_FUNC_ARRAY_ADDR DS AL4       Address of imported function     13350000
*                                        array                          13400000
CIET2_IMP_FUNC_COUNT      DS FL4       Count of functions imported      13450000
*                                        from this DLL                  13500000
CIET2_IMP_VAR_ARRAY_ADDR  DS AL4       Address of imported variable     13550000
*                                        array                          13600000
CIET2_IMP_VAR_COUNT       DS FL4       Count of variables imported      13650000
*                                        from this DLL                  13700000
CIET2_DLL_FLAGS           DS BL4                                        13750000
CIET2_DLL_BYPTR_EXISTS    EQU X'80'    Set to 1 if at least one by-ptr  13800000
*                                        reference exists from the      13850000
*                                         application to this DLL       13900000
*                                                                       13950000
******************************************************************      14000000
*        IMPORT  ENTRIES                                                14050000
******************************************************************      14100000
* Two import arrays exist for each DLL from which this program          14150000
* may import a symbol.  One array is for functions, the other           14200000
* for variables.  Each imported symbol has one entry which can          14250000
* potentially support both XPLINK references and non-XP link            14300000
* references. The two arrays are based on CIET2_IMP_FUNC_ARRAY_ADDR     14350000
* and CIET2_IMP_VAR_ARRAY_ADDR.                                         14400000
******************************************************************      14450000
CIET2_IMP_ENTRY DSECT                                                   14500000
         DS    CL28                                                     14550000
         ORG   CIET2_IMP_ENTRY                                          14600000
*** Start non-XPlink section ***                                        14650000
CIET2_IMP_CLASS_ADDR    DS AL4         Name of class containing         14700000
*                                        descriptor for imported        14750000
*                                        symbol. (Not used for XPLINK)  14800000
*                                        If all refs are XPLINK, this   14850000
*                                        field will be 0                14900000
CIET2_IMP_OFF           DS FL4         Offset of symbol's descriptor    14950000
*                                        from start of its containing   15000000
*                                        class. (Not used for XPLINK)   15050000
*                                        Non-XPlink references only.    15100000
*** End non-XPlink section ***                                          15150000
CIET2_IMP_NAME_ADDR     DS AL4         Address of symbol's name in      15200000
*                                        string area                    15250000
*** Start XPlink section ***                                            15300000
CIET2_IMP_FUNC_DLL_ADDR DS AL4         Address of DLL entry for         15350000
*                                        imported function              15400000
*                                        (XPLINK functions only)        15450000
CIET2_IMP_REF_ADDR      DS AL4         XPLINK only. Addresses to be     15500000
*                                        fixed up at execution time.    15550000
*                                        For imported data, entries are 15600000
*                                        mapped by CIET2_VAR_REF.       15650000
*                                        For imported functions,        15700000
*                                        entries are mapped by          15750000
*                                        CIET2_FUNC_REF.                15800000
CIET2_IMP_REF_COUNT     DS FL2         XPLINK only. Count of addresses  15850000
*                                        to be fixed up                 15900000
CIET2_IMP_EXP_INDEX     DS FL2         Index for imported               15950000
*                                        variable/function entry in the 16000000
*                                        export entry of the IEWBCIE    16050000
*                                        belonging to the exporting     16100000
*                                        module, or zero.               16150000
CIET2_IMP_XATTR_ADDR    DS AL4         Address of extended attributes.  16200000
*                                                                @P0A   16250000
*** End XPlink section ***                                              16300000
*                                                                       16350000
*******************************************************************     16400000
*   1.  DATA (VARIABLE) REFERENCES                                      16450000
*******************************************************************     16500000
* - XPLINK only - references to imported data items                     16550000
* Each entry represents an address to be fixed up by LE.                16600000
* There is an array for each imported data item which has one           16650000
* or more references with the XPLINK flag.  The array for               16700000
* the imported data item is based on the CIET2_IMP_REF_ADDR             16750000
* field in the import entry for that item                               16800000
*******************************************************************     16850000
CIET2_VAR_REF DSECT                                              @P1C   16900000
         DS    CL12                                                     16950000
         ORG   CIET2_VAR_REF                                            17000000
CIET2_VAR_REF_ATTRIBUTES DS BL1                                         17050000
CIET2_VAR_REF_IS_ADDR    EQU X'80'     True if CIET2_VAR_REF_OFF is an  17100000
*                                        address rather than offset     17150000
CIET2_VAR_REF_LEN        DS FL1        Length of adcon                  17200000
                         DS FL2        Reserved                         17250000
CIET2_VAR_REF_CLASS_ADDR DS AL4        Name of class containing this    17300000
*                                        reference                      17350000
CIET2_VAR_REF_OFF        DS FL4        Offset from start of containing  17400000
         ORG   CIET2_VAR_REF_OFF         class (or address if           17450000
CIET2_VAR_REF_ADDR       DS AL4        CIET2_VAR_REF_IS_ADDR is set)    17500000
*                                                                       17550000
******************************************************************      17600000
*   2. CODE (FUNCTION) REFERENCES                                       17650000
******************************************************************      17700000
* - XPLINK only - the entries of the following array                    17750000
* describe either the location                                          17800000
* of a descriptor built by the binder or the location of a              17850000
* reference to a descriptor which is to be built by LE                  17900000
*                                                                       17950000
* A.ADDRESSES REFERENCING DESCRIPTORS TO BE BUILT BY LE                 18000000
* each entry represents a reference to a descriptor                     18050000
* 1. exported call_by_pointer                                           18100000
* based on CIET2_EXP_DESCR_REF_ADDR.                                    18150000
* 2. imported call_by_pointer                                           18200000
* based on CIET2_IMP_REF_ADDR                                           18250000
*                                                                       18300000
* B.ADDRESSES OF DESCRIPTORS BUILT BY THE COMPILER                      18350000
* each entry represents the location of a descriptor                    18400000
* for unresolved (imported) by-name references                          18450000
* based on CIET2_IMP_REF_ADDR                                           18500000
*   the descriptors whose locations are in this list are to             18550000
*   be initialized using the information in the export entries in       18600000
*   the exporting module's CIE,  after DLL load is complete.            18650000
******************************************************************      18700000
CIET2_FUNC_REF DSECT                                                    18750000
         DS    CL12                                                     18800000
         ORG   CIET2_FUNC_REF                                           18850000
CIET2_FUNC_REF_ATTRIBUTES DS BL1                                        18900000
CIET2_FUNC_REF_IS_ADDR    EQU X'80'    Set if CIET2_FUNC_REF_OFF is     18950000
*                                        an address (not offset)        19000000
CIET2_FUNC_REF_BYPTR      EQU X'40'    This is a 'by-pointer'           19050000
*                                        invocation (0=by name).        19100000
CIET2_FUNC_REF_RESOLVED   EQU X'20'    This is a resolved reference     19150000
*                                        (used only with 'by-pointer'   19200000
*                                        references)                    19250000
CIET2_FUNC_REF_LEN        DS FL1       Length of adcon                  19300000
                          DS FL2       Reserved                         19350000
CIET2_FUNC_REF_CLASS_ADDR DS AL4       Ptr to name of class containing  19400000
*                                        descriptor (by_name) or class  19450000
*                                        containing reference (by-ptr)  19500000
CIET2_FUNC_REF_OFF        DS FL4       Offset of descriptor (by-name)   19550000
         ORG   CIET2_FUNC_REF_OFF        or reference (by-pointer)      19600000
CIET2_FUNC_REF_ADDR       DS AL4         from start of containing class 19650000
*                                        (or address if                 19700000
*                                        CIET2_FUNC_REF_IS_ADDR set)    19750000
*                                                                       19800000
******************************************************************      19850000
*        SYMBOL NAME STRINGS                                            19900000
******************************************************************      19950000
* Symbol names (in string area at end of element)                       20000000
* The symbols represent imported/exported variables/functions           20050000
* and DLL names                                                         20100000
******************************************************************      20150000
CIET_NAME DSECT                                                         20200000
         DS    0C                                                       20250000
         ORG   CIET_NAME                                                20300000
CIET_NAME_LEN   DS FL2                 Length of name                   20350000
CIET_NAME_CHARS DS 0C                  Name                             20400000
*                                                                       20450000
         MEND    ,                                                      20500000
**/                                                                     20550000
*%DCL CIETBASE CHAR EXTERNAL;                                           20600000
*%IF CIETBASE='' %THEN                                                  20650000
*    %CIETBASE='BASED(CIET_PTR)';                                       20700000
*%IF TRANSLATE(CIETBASE) ='BASED(CIET_PTR)' %THEN                       20750000
*    %DO;                                                               20800000
*    dcl CIET_PTR PTR(31) Locates(CIET_HEADER);                         20850000
*    %END;                                                              20900000
*                                                                       20950000
*%DCL CIET2BASE CHAR EXTERNAL;                                          21000000
*%IF CIET2BASE='' %THEN                                                 21050000
*    %CIET2BASE='BASED(CIET2_PTR)';                                     21100000
*%IF TRANSLATE(CIET2BASE) ='BASED(CIET2_PTR)' %THEN                     21150000
*    %DO;                                                               21200000
*    dcl CIET2_PTR PTR(31) Locates(CIET2_HEADER);                       21250000
*    %END;                                                              21300000
*                                                                       21350000
*                                                                       21400000
* declare                                                               21450000
*  1 CIET_HEADER   bdy(word) CIETBASE, /* CIET_HEADER is at offset      21500000
*                                       0 from the beginning of its     21550000
*                                        resident class (B_IMPEXP)   */ 21600000
*    3 CIET_EYE_CATCHER  char(8),  /* Eyecatcher 'IEWBCIET'          */ 21650000
*    3 CIET_VERSION      fixed(8), /* version of this mapping        */ 21700000
*    3 CIET_SOURCE       char(3),  /* Identifies product building IET - 21750000
*                                     Binder will store 'IEW'        */ 21800000
*    3 CIET_FUNC_ADDR    ptr(31),  /* address of exported function      21850000
*                                        pointer array               */ 21900000
*    3 CIET_FUNC_COUNT   fixed(31),/* count of entries in exported      21950000
*                                        function pointer array      */ 22000000
*    3 CIET_VAR_ADDR     ptr(31),  /* address of exported variable      22050000
*                                        pointer array               */ 22100000
*    3 CIET_VAR_COUNT    fixed(31),/* count of entries in exported      22150000
*                                        variable pointer array      */ 22200000
*                                                                       22250000
*    3 CIET_DLL_ADDR     ptr(31),  /* address of DLL pointer array */   22300000
*    3 CIET_DLL_COUNT    fixed(31);/* count of entries in DLL           22350000
*                                        pointer array               */ 22400000
*                                                                       22450000
*/* CIET_HEADER is immediately followed by the following three          22500000
*   arrays. However, they should be accessed using                      22550000
*   pointers in the header (e.g. CIET_FUNC_ADDR) and not by assumptions 22600000
*   regarding their position.                                        */ 22650000
*dcl  CIET_EXP_FUNC_ADDR(*) ptr(31) based(CIET_FUNC_ADDR);              22700000
*                                  /* addresses of exported function    22750000
*                                     entries */                        22800000
*dcl  CIET_EXP_VAR_ADDR(*) ptr(31) based(CIET_VAR_ADDR);                22850000
*                                  /* addresses of exported variables   22900000
*                                     entries */                        22950000
*dcl  CIET_DLL_ENT_ADDR(*) ptr(31) based(CIET_DLL_ADDR);                23000000
*                                  /* addresses of entries for DLLs     23050000
*                                     from which this program may       23100000
*                                     import a symbol */                23150000
*/* the preceeding arrays are followed by the following arrays    */    23200000
*/* each DLL entry is associated with a set of these two arrays   */    23250000
*dcl  CIET_IMP_FUNC_ADDR(*) ptr(31) based(CIET_IMP_FUNC_ARRAY_ADDR);    23300000
*                                  /* addresses of imported function    23350000
*                                     entries */                        23400000
*dcl  CIET_IMP_VAR_ADDR(*) ptr(31) based(CIET_IMP_VAR_ARRAY_ADDR);      23450000
*                                  /* addresses of imported variables   23500000
*                                     entries */                        23550000
*                                                                       23600000
*/* exported function and variable entries have the following           23650000
*   common format. Note that the flag CIET_IS_FUNCTION indicates        23700000
*   whether the symbol represents a function or a variable           */ 23750000
*dcl 1 CIET_EXP_ENTRY based,                                            23800000
*     3 CIET_EXP_CLASS char(16),      /* name of class                  23850000
*                                     containing exported               23900000
*                                     symbol                         */ 23950000
*     3 CIET_EXP_OFFSET fixed(31),    /* offset of exported symbol      24000000
*                                     from start of class (or virtual   24050000
*                                     address of the exported symbol    24100000
*                                     if CIET_IS_ADDRESS is true)    */ 24150000
*     3 CIET_EXP_NAME_ADDR ptr(31),   /* address of name of exported    24200000
*                                        symbol                      */ 24250000
*     3 CIET_EXP_ATTRIBUTES bit(16),                                    24300000
*       5 CIET_IS_FUNCTION bit(1),    /* set if function (not vbl)   */ 24350000
*       5 CIET_IS_ADDR     bit(1),   /* set if CIET_EXP_OFFSET is       24400000
*                                        an address rather than an      24450000
*                                        offset                      */ 24500000
*       5 *              bit(14),     /* reserved                    */ 24550000
*     3 *               fixed(15);    /* reserved */                    24600000
*                                                                       24650000
*/* one entry for each DLL from which this program may import a         24700000
*      symbol                                                        */ 24750000
*dcl 1 CIET_DLL_ENTRY based,                                            24800000
*      3 CIET_DLL_NAME_ADDR ptr(31),/* address of DLL name           */ 24850000
*      3 CIET_IMP_FUNC_ARRAY_ADDR ptr(31), /* addresses of imported     24900000
*                                        function pointer array      */ 24950000
*      3 CIET_IMP_FUNC_COUNT fixed(31), /* count of functions           25000000
*                                         imported from this DLL     */ 25050000
*      3 CIET_IMP_VAR_ARRAY_ADDR ptr(31),  /* address of exported       25100000
*                                        variable pointer array      */ 25150000
*      3 CIET_IMP_VAR_COUNT fixed(31);    /* count of variables         25200000
*                                         imported from this dll     */ 25250000
*                                                                       25300000
*/* Two import arrays exist for each DLL from which this program        25350000
*   may import a symbol.  One array is for functions, the other         25400000
*   for variables.        One array entry exists for each symbol        25450000
*   which the program may import from this DLL                    */    25500000
*dcl 1 CIET_IMP_ENTRY based,                                            25550000
*      3 CIET_IMP_CLASS  char(16), /* name of class                     25600000
*                                     containing descriptor for         25650000
*                                     imported symbol                */ 25700000
*      3 CIET_IMP_OFF   fixed(31),/* offset of symbol's descriptor      25750000
*                                     from start of it's containing     25800000
*                                     class                          */ 25850000
*      3 CIET_IMP_NAME_ADDR ptr(31); /*address of symbol's name         25900000
*                                      in string area                */ 25950000
*                                                                       26000000
*                                                                       26050000
* /*******************************************************************/ 26100000
* /*                                                                 */ 26150000
* /*  CIET2 mapping.   A CIET version 2 table will be generated if   */ 26200000
* /*  the module has any contents which require XPLINK support.      */ 26250000
* /*                                                         all @L1A*/ 26300000
* /*******************************************************************/ 26350000
* declare                                                               26400000
*  1 CIET2_HEADER  bdy(word) CIET2BASE, /* CIET2_HEADER is at offset    26450000
*                                     0 from the beginning of its       26500000
*                                     resident class (B_IMPEXP)      */ 26550000
*    3 CIET2_EYE_CATCHER char(8),  /* Eyecatcher 'IEWBCIET'          */ 26600000
*    3 CIET2_VERSION     fixed(8), /* version of this mapping        */ 26650000
*    3 CIET2_SOURCE      char(3),  /* Identifies product building IET - 26700000
*                                     Binder will store 'IEW'        */ 26750000
*    3 CIET2_FUNC_ADDR   ptr(31),  /* address of exported function      26800000
*                                         array                      */ 26850000
*    3 CIET2_FUNC_COUNT  fixed(31),/* count of entries in exported      26900000
*                                        function array              */ 26950000
*    3 CIET2_VAR_ADDR    ptr(31),  /* address of exported variable      27000000
*                                        array                       */ 27050000
*    3 CIET2_VAR_COUNT   fixed(31),/* count of entries in exported      27100000
*                                        variable array              */ 27150000
*                                                                       27200000
*    3 CIET2_DLL_ADDR    ptr(31),  /* address of DLL array           */ 27250000
*    3 CIET2_DLL_COUNT   fixed(31);/* count of entries in DLL           27300000
*                                        array                       */ 27350000
*                                                                       27400000
* /******************************************************************/  27450000
* /*       EXPORT  ENTRIES                                          */  27500000
* /******************************************************************/  27550000
* /* in version 2, exported functions (code) and exported variable      27600000
*    (data) entries have different formats                           */ 27650000
*                                                                       27700000
* /******************************************************************/  27750000
* /*       Exported Data  (variables)                               */  27800000
* /******************************************************************/  27850000
* /* for rent C/C++ code it is expected that the data will be           27900000
*    in WSA and EXP_VAR_OFFSET will contain the offset.  For            27950000
*    nonrent XPLINK and perhaps others, such as assembler, the data     28000000
*    will be in an initial load class and the field will contain        28050000
*    an actual address                                               */ 28100000
* dcl 1 CIET2_EXP_VAR_ENTRY(*) based(CIET2_VAR_ADDR),                   28150000
*      3 CIET2_EXP_VAR_CLASS_ADDR ptr, /* address of name of class      28200000
*                                     containing exported               28250000
*                                     symbol                         */ 28300000
*      3 CIET2_EXP_VAR_OFFSET fixed(31), /* offset of exported symbol*/ 28350000
*        5 CIET2_EXP_VAR_ADDR ptr, /* from start of class (or virtual   28400000
*                                     address of the exported symbol    28450000
*                                     if CIET2_EXP_VAR_IS_ADDRESS       28500000
*                                     is true                        */ 28550000
*      3 CIET2_EXP_VAR_NAME_ADDR ptr(31),   /* address of name of       28600000
*                                     exported symbol                */ 28650000
*      3 CIET2_EXP_VAR_ATTRIBUTES  bit(16),                             28700000
*        5 *                   bit(1),  /* reserved                  */ 28750000
*        5 CIET2_EXP_VAR_IS_ADDR  bit(1), /*set if CIET2_EXP_VAR_OFFSET 28800000
*                                     is an address rather than an      28850000
*                                     offset                         */ 28900000
*        5 *                   bit(6),  /* reserved                  */ 28950000
*      3 *                     fixed(15);  /* reserved */               29000000
*                                                                       29050000
* /******************************************************************/  29100000
* /*       Exported Code (functions)                                */  29150000
* /******************************************************************/  29200000
* /* notes:                                                             29250000
*    1. function addresses from known HLL compilers will be in the      29300000
*    initial load class but that is not an architectural restriction.   29350000
*    HLASM for example would allow functions in a deferred load         29400000
*    class                                                              29450000
*    2. XPlink entries contain the information needed to build          29500000
*    a call-by-ptr descriptor.                                          29550000
*    3. XPlink entries also contain the address of an array             29600000
*    whose entries identify the locations in the module which           29650000
*    are to be modified to point to the call-by-ptr descriptor          29700000
*    once it has been built.                                         */ 29750000
* dcl 1 CIET2_EXP_FUNC_ENTRY(*) based(CIET2_FUNC_ADDR),                 29800000
*      3 CIET2_EXP_FUNC_CLASS_ADDR ptr, /* address of name of class     29850000
*                                     containing exported               29900000
*                                     symbol                         */ 29950000
*      3 CIET2_EXP_FUNC_OFFSET fixed(31),/* offset of exported symbol*/ 30000000
*        5 CIET2_EXP_FUNC_ADDR ptr, /*from start of class (or virtual   30050000
*                                     address of the exported symbol    30100000
*                                     if CIET2_EXP_FUNC_IS_ADDR         30150000
*                                     is true                        */ 30200000
*      3 CIET2_EXP_FUNC_NAME_ADDR ptr(31), /* address of name of        30250000
*                                     exported symbol                */ 30300000
*      3 CIET2_EXP_FUNC_ATTRIBUTES bit(16),                             30350000
*        5 *                  bit(1),  /* reserved                   */ 30400000
*        5 CIET2_EXP_FUNC_IS_ADDR bit(1), /* set if                     30450000
*                                      CIET2_EXP_FUNC_OFFSET is an      30500000
*                                      address rather than an offset */ 30550000
*        5 CIET2_EXP_ADA_IS_ADDR bit(1),/*set if                        30600000
*                                      CIET2_EXP_FUNC_ADA_OFFSET        30650000
*                                      is an address and FUNC_XPLINK    30700000
*                                      is set                        */ 30750000
*        5 CIET2_EXP_FUNC_XPLINK   bit(1), /* this function uses        30800000
*                                      XPlink linkage conventions    */ 30850000
*        5 *                   bit(4), /* reserved                   */ 30900000
*      3 *               fixed(15),    /* reserved */                   30950000
*      3 CIET2_EXP_FUNC_ADA_CLASS_ADDR ptr,/* address of name of class  31000000
*                                     containing associated data        31050000
*                                     (if FUNC_XPLINK)               */ 31100000
*      3 CIET2_EXP_FUNC_ADA_OFFSET fixed(31),/* offset of associated */ 31150000
*        5 CIET2_EXP_FUNC_ADA_ADDR ptr,/*data from start of class (or   31200000
*                                     address of associated data if     31250000
*                                     if CIET2_EXP_ADA_IS_ADDR is true  31300000
*                                     & EXP_FUNC_XPLINK              */ 31350000
*      3 CIET2_EXP_DESCR_REF_ADDR ptr(31),/* pointer to a               31400000
*                                     CIET2_FUNC_REF                    31450000
*                                     array - defines locations         31500000
*                                     that are to contain the           31550000
*                                     a pointer to the call-by-ptr      31600000
*                                     descriptor built by LE         */ 31650000
*      3 CIET2_EXP_DESCR_REF_COUNT fixed(31),  /* count of entries in   31700000
*                                     the array based on                31750000
*                                     CIET2_EXP_DESCR_REF_ADDR       */ 31800000
*      3 CIET2_EXP_XATTR_ADDR     ptr(31);/* address of extended        31850000
*                                     attributes                 @P0A*/ 31900000
*                                                                       31950000
* /******************************************************************/  32000000
* /*       DLL     ENTRIES                                          */  32050000
* /******************************************************************/  32100000
*/* one entry for each DLL from which this program may import a         32150000
*      symbol                                                        */ 32200000
*dcl 1 CIET2_DLL_ENTRY(*) based(CIET2_DLL_ADDR),                        32250000
*      3 CIET2_DLL_NAME_ADDR ptr(31),/* address of DLL name          */ 32300000
*      3 CIET2_IMP_FUNC_ARRAY_ADDR ptr(31), /* address of imported      32350000
*                                        function array              */ 32400000
*      3 CIET2_IMP_FUNC_COUNT fixed(31), /* count of functions          32450000
*                                         imported from this DLL     */ 32500000
*      3 CIET2_IMP_VAR_ARRAY_ADDR ptr(31), /* address of imported       32550000
*                                        variable array              */ 32600000
*      3 CIET2_IMP_VAR_COUNT fixed(31),   /* count of variables         32650000
*                                         imported from this dll     */ 32700000
*      3 CIET2_DLL_FLAGS bit(32),                                       32750000
*        5 CIET2_DLL_BYPTR_EXISTS bit(1); /* set to 1 if at least       32800000
*                                         one byptr reference exists    32850000
*                                         from the application to       32900000
*                                         this DLL                   */ 32950000
*                                                                       33000000
*/*******************************************************************/  33050000
*/*        IMPORT  ENTRIES                                          */  33100000
*/*******************************************************************/  33150000
*/* Two import arrays exist for each DLL from which this program        33200000
*   may import a symbol.  One array is for functions, the other         33250000
*   for variables.  Each imported symbol has one entry which            33300000
*   can potentially support both                                        33350000
*   XPLINK references and non_XPlink references.                        33400000
*   The two arrays are based on CIET2_IMP_FUNC_ARRAY_ADDR and           33450000
*   CIET2_IMP_VAR_ARRAY_ADDR.                                       */  33500000
*                                                                       33550000
*dcl 1 CIET2_IMP_ENTRY(*) based,                                        33600000
*      /* start non XPlink section                                   */ 33650000
*      3 CIET2_IMP_CLASS_ADDR ptr(31), /* name of class                 33700000
*                                    containing descriptor for          33750000
*                                    imported symbol. not used          33800000
*                                    for XPLINK                         33850000
*                                    If all refs are XPLINK, this       33900000
*                                    field will be 0                 */ 33950000
*      3 CIET2_IMP_OFF fixed(31),  /* offset of symbol's descriptor     34000000
*                                    from start of its containing       34050000
*                                    class. Not used for XPLINK.        34100000
*                                    non-XPlink references only.     */ 34150000
*      /* end non XPlink section                                     */ 34200000
*      3 CIET2_IMP_NAME_ADDR ptr(31),/*address of symbol's name         34250000
*                                    in string area                  */ 34300000
*      /* start XPlink section                                       */ 34350000
*      3 CIET2_IMP_FUNC_DLL_ADDR ptr(31), /* address of DLL entry for   34400000
*                                    for imported function              34450000
*                                    (XPLINK functions only)         */ 34500000
*      3 CIET2_IMP_REF_ADDR ptr(31),  /* XPLINK only. Addresses to      34550000
*                                    be fixed up at execution time      34600000
*                                    For imported data entries          34650000
*                                    are mapped by CIET2_VAR_REF.       34700000
*                                    For imported functions, entries,   34750000
*                                    are mapped by CIET2_FUNC_REF    */ 34800000
*      3 CIET2_IMP_REF_COUNT fixed(15), /* XPLINK only. count of        34850000
*                                    addresses to be fixed up        */ 34900000
*      3 CIET2_IMP_EXP_INDEX  fixed(15), /* index for imported          34950000
*                                    variable/function entry in the     35000000
*                                    export entry of the IEWBCIE        35050000
*                                    belonging to the exporting module  35100000
*                                    or zero.                        */ 35150000
*      3 CIET2_IMP_XATTR_ADDR     ptr(31);/* address of extended        35200000
*                                     attributes                 @P0A*/ 35250000
*      /* end XPlink section                                         */ 35300000
*                                                                       35350000
*/********************************************************************/ 35400000
*/*   1.  DATA (VARIABLE) REFERENCES                                 */ 35450000
*/********************************************************************/ 35500000
*                                                                       35550000
*/* - XPLINK only - references to imported data items                   35600000
*   Each entry represents an address to be fixed up by LE.              35650000
*   There is an array for each imported data item which has one         35700000
*   or more references with the XPLINK flag.  The array for             35750000
*   the imported data item is based on the CIET2_IMP_REF_ADDR           35800000
*   field in the import entry for that item                          */ 35850000
*dcl 1 CIET2_VAR_REF(*)  based,                                /*@P1C*/ 35900000
*      3 CIET2_VAR_REF_ATTRIBUTES bit(8),                               35950000
*        5 CIET2_VAR_REF_IS_ADDR bit(1), /* true if CIET2_VAR_REF_OFF   36000000
*                                      is an address rather than        36050000
*                                      offset                        */ 36100000
*      3 CIET2_VAR_REF_LEN fixed(8),    /* length of adcon           */ 36150000
*      3 * FIXED(16),                   /* reserved                  */ 36200000
*      3 CIET2_VAR_REF_CLASS_ADDR ptr(31),/* name of class containing   36250000
*                                      this reference                */ 36300000
*      3 CIET2_VAR_REF_OFF fixed(31),   /* offset from start of      */ 36350000
*        5 CIET2_VAR_REF_ADDR ptr;  /* containing class              */ 36400000
*                                                                       36450000
*/*******************************************************************/  36500000
*/*   2. CODE (FUNCTION) REFERENCES                                 */  36550000
*/*******************************************************************/  36600000
*                                                                       36650000
*/* - XPLINK only - the entries of the following array               */ 36700000
*/* describe either the location                                     */ 36750000
*/* of a descriptor built by the binder or the location of a         */ 36800000
*/* reference to a descriptor which is to be built by LE             */ 36850000
*/*                                                                  */ 36900000
*/* A.ADDRESSES REFERENCING DESCRIPTORS TO BE BUILT BY LE            */ 36950000
*/* each entry represents a reference to a descriptor                */ 37000000
*/* 1. exported call_by_pointer                                      */ 37050000
*/* based on CIET2_EXP_DESCR_REF_ADDR.                               */ 37100000
*/* 2. imported call_by_pointer                                      */ 37150000
*/* based on CIET2_IMP_REF_ADDR                                      */ 37200000
*/*                                                                  */ 37250000
*/* B.ADDRESSES OF DESCRIPTORS BUILT BY THE COMPILER                 */ 37300000
*/* each entry represents the location of a descriptor               */ 37350000
*/* for unresolved (imported) by-name references                     */ 37400000
*/* based on CIET2_IMP_REF_ADDR                                      */ 37450000
*/*   the descriptors whose locations are in this list are to        */ 37500000
*/*   be initialized using the information in the export entries in  */ 37550000
*/*   the exporting module's CIE,  after DLL load is complete.       */ 37600000
*                                                                       37650000
*dcl 1 CIET2_FUNC_REF(*) based,                                         37700000
*      3 CIET2_FUNC_REF_ATTRIBUTES bit(8),                              37750000
*        5 CIET2_FUNC_REF_IS_ADDR BIT(1),/* '1'B if CIET2_FUNC_REF_OFF  37800000
*                                    is an address(not offset)       */ 37850000
*        5  CIET2_FUNC_REF_BYPTR bit(1), /* this is a 'by-pointer'      37900000
*                                    invocation (0=by name).         */ 37950000
*        5  CIET2_FUNC_REF_RESOLVED bit(1), /* this is a resolved       38000000
*                                    reference (used only with          38050000
*                                    'by-pointer' references         */ 38100000
*      3 CIET2_FUNC_REF_LEN fixed(8),   /* length of adcon           */ 38150000
*      3  *                fixed(16),   /* reserved                  */ 38200000
*      3 CIET2_FUNC_REF_CLASS_ADDR ptr, /* ptr to name of class         38250000
*                                       containing descriptor (by_name) 38300000
*                                       or class containing reference   38350000
*                                       (by-pointer)                 */ 38400000
*      3 CIET2_FUNC_REF_OFF fixed(31),  /* offset of descriptor      */ 38450000
*        5 CIET2_FUNC_REF_ADDR ptr;  /* (by-name) or reference          38500000
*                                       to descriptor (by-pointer)      38550000
*                                       from start of                   38600000
*                                       containing class             */ 38650000
*                                                                       38700000
*                                                                       38750000
*/*******************************************************************/  38800000
*/*        SYMBOL NAME STRINGS                                      */  38850000
*/*******************************************************************/  38900000
*/* Symbol names (in string area at end of element) */                  38950000
*/* The symbols represent imported/exported variables/functions         39000000
*   and DLL names                                                    */ 39050000
*dcl 1 CIET_NAME based,                                                 39100000
*      3 CIET_NAME_LEN fixed(15), /* length of name      */             39150000
*      3 CIET_NAME_CHARS char(*);  /* name               */             39200000
*                                                                       39250000
*/*  Header constants                                                */ 39300000
*declare CIET_EYE_CATCH_ID CHAR(8) CONSTANT('IEWBCIET');                39350000
*declare CIET_VERSION1 FIXED(8) CONSTANT(1);                   /*@L1C*/ 39400000
*declare CIET_VERSION2 FIXED(8) CONSTANT(2);                   /*    */ 39450000
*declare CIET_BINDER_ID   CHAR(3)  CONSTANT('IEW');                     39500000
*                                                                       39550000
*                                                                       39600000
*                                                                       39650000
*/* END OF IEWBCIE                                                   */ 39700000
