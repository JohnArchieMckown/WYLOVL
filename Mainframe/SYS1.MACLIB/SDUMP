*%/*                                                                    00050000
         MACRO                                                          00100000
&NAME    SDUMP &HDR=,&HDRAD=,&DCB=,&ASID=,&ASIDLST=,&ECB=,&SDATA=,     X00150000
               &STORAGE=,&LIST=,&SUMLIST=,&BUFFER=,&QUIESCE=,&BRANCH=, X00200000
               &LISTA=,&TYPE=,&SUMLSTA=,&SUSPEND=,&SUBPLST=,&KEYLIST=, X00250000
               &MF=,&SRB=,                                         @L4CX00283300
               &ID=,&IDAD=,&SYMREC=,&PSWREGS=,&PLISTVER=           @T1C 00316600
.********************************************************************** 00350000
.*   MACRO NAME = SDUMP                                               * 00400000
.*                                                                    * 00450000
.*   DESCRIPTIVE NAME = SDUMP EXECUTABLE MACRO                        * 00500000
.*                                                                    * 00550000
.*   COPYRIGHT =                                                      * 00583300
.*               LICENSED MATERIALS - PROPERTY OF IBM                 * 00750000
.*               THIS MACRO IS "RESTRICTED MATERIALS OF IBM"          * 00787500
.*               5695-047 (C) COPYRIGHT IBM CORP 1980, 1990           * 00825000
.*               SEE COPYRIGHT INSTRUCTIONS                           * 00862500
.*                                                                    * 00900000
.*   STATUS = HBB4420                                                 * 00950000
.*                                                                    * 01000000
.*   FUNCTION = PROVIDES THE INTERFACE BETWEEN THE CALLER AND SVC     * 01050000
.*              DUMP.  LIST AND EXECUTE FORMS EXIST TO GENERATE       * 01100000
.*              THE SDUMP PARAMETER LIST AND PROPER LINKAGE TO THE    * 01150000
.*              SVC DUMP SERVICE.                                     * 01200000
.*                                                                    * 01250000
.*   NOTES = THE PARAMETER LIST GENERATED BY THE STANDARD AND LIST    * 01300000
.*           FORMS OF THIS MACRO IS AT LEAST 40 BYTES IN LENGTH.      * 01350000
.*           IF ANY OF THE NEW JBB1226 PARAMETERS ARE SPECIFIED, THE  * 01400000
.*           PARAMETER LIST LENGTH IS 48 BYTES.                       * 01450000
.*           IF ANY OF THE NEW HBB2102 PARAMETERS ARE SPECIFIED,      * 01500000
.*           THE PARAMETER LIST LENGTH IS 68 BYTES.                   * 01550000
.*                                                                    * 01600000
.*           IF MDUMP OPTIONS ARE SPECIFIED, THE PARAMETER LIST       * 01616600
.*             IS 128 BYTES.                                          * 01633200
.*           IF SDUMPX IS INVOKED, THE PARAMETER LIST IS 112 BYTES.   * 01650000
.*              (OR 128 IF MDUMP OPTIONS ARE SPECIFIED).              * 01675000
.*                                                                    * 01700000
.*   CHANGE ACTIVITY = FIX PROBLEM WITH ECB OPTION 6/22/79    @ZMB0025* 01750000
.*                     OS/VS2 JBB1226:                        @G383P1U* 01800000
.*                     1. SUPPORT FOR NEW KEYWORDS:                   * 01850000
.*                        LISTA,SUMLSTA,TYPE=XMEM             @G383P1U* 01900000
.*                     2. SUPPORT FOR NEW KEYWORD                     * 01950000
.*                        SUSPEND= YES OR NO                          * 02000000
.*                        SUPPORT FOR SDUMP EXITS             @G386P31* 02050000
.*                     3. SUPPORT FOR NEW KEYWORD: TYPE=XMEME @G38AP31* 02100000
.*                     APAR OZ51194 - MF=(E,(1)) ON EXECUTE   @ZA51194* 02150000
.*                        FORM WITH NO OTHER PARAMETERS       @ZA51194* 02200000
.*                        GENERATES AN OR IMMEDIATE.          @ZA51194* 02250000
.*                     OS/VS2 JBB1326:                            @L1A* 02300000
.*                     @L1= RAS JBB1326 810130 PD31:PAGE PROTECT  @L1A* 02350000
.*                     OS/VS2 HBB2102:                        @G860P31* 02400000
.*                     1. SUPPORT ALLNUC, SUBPLST, KEYLIST            * 02450000
.*                     2. ADD RESERVED FIELDS FOR SLIP AND SYSMDUMP   * 02500000
.*                     3. ADD BLOCK COMMENTS TO AID DEBUGGING         * 02550000
.*                     4. SUPPORT SPLEVEL                     @G860P1X* 02600000
.*                     5. ADD TYPE=NOLOCAL PARAMETER TO PREVENT       * 02650000
.*                        SDUMP FROM OBTAINING A LOCAL LOCK.  @ZMC2707* 02700000
.*  FLAG  REASON  RELEASE   DATA  ORIGIN                          @L2A* 02750000
.*  $L2=  RASENH  JBB2220  841119  PD2F: SUPPORT TYPE=FAILRC      @L2A* 02800000
.*  $L3=    AR    HBB3310  850920  PDXB: AR                           * 02850000
.*  $L4=  RTMRAS  HBB3310  860728  PDA8: SLIP SYNCHRONOUS SDV DUMP    * 02875000
.*  $P1= PC40145  HBB3310  860829  PD2F: CORRECT SPELLING IN MESG2E   * 02887500
.*  $P2= PC40810  HBB3310  870312  PDA8: SRB KEYWORD PROCESSING       * 02893700
.*  $T1=  OY21535 JBB2220  881101  PDXB: MDUMP SUPPORT                * 02895800
.*  $T2=  OY21535 HBB3310  881101  PDXB: MDUMP SUPPORT                * 02897900
.*                                                                    * 02900000
.*  OY23383 - WHEN DBCS OPTION IS SPECIFIED, COLUMNS 71 AND   @YA23383* 02910000
.*            72 ARE RECOGNIZED AS EXTENDED CONCATINATION     @YA23383* 02920000
.*            IF THEY CONTAIN LIKE CHARACTERS. CHANGING       @YA23383* 02930000
.*            "XX" IN COLS 71 AND 72 TO "XC".                 @YA23383* 02940000
.*                                                                    * 02942500
.*  $L5=DATA CAPT HBB4420  900000  PDHT: RAPID DATA CAPTURE           * 02945000
.*                                                                    * 02947500
.********************************************************************** 02950000
.*                                                                      03000000
.*       DEFINE SET SYMBOLS                                             03050000
.*                                                                      03100000
         GBLC  &SYSSPLV           SYSTEM/MACRO LIBRARY LEVEL   @G860P1X 03150000
         GBLB  &SDSE3LT      SET IF JBB1226  LIST FORM MACRO  @G383P1U  03200000
         GBLB  &SDSE3EX     SET IF JBB1226 EXECUTE FORM MACRO @G383P1U  03250000
         GBLB  &SDLISTF    LIST FORM WAS PREVIOUSLY SPECIFIED @G383P1U  03300000
         GBLB  &SDSP21L       SET IF HBB2102 LIST FORM MACRO  @G860P31  03350000
         GBLB  &SDSP21E     SET IF HBB2102 EXECUTE FORM MACRO @G860P31  03400000
         GBLC  &SDPLVER     SET ACCORDING TO HIGHEST PLISTVER     @T1A  03425000
         LCLA  &SDFLAG0           SDFLAG0 FIELD OF PARAMETER LIST       03450000
         LCLA  &SDFLAG1           SDFLAG1 FIELD OF PARAMETER LIST       03500000
         LCLA  &SDFLAG2           SDFLAG2 PARAMETER LIST FIELD @G383P1U 03550000
         LCLA  &SDATAF1,&SDATAF2  SDATA FIELD OF PARAMETER LIST         03600000
         LCLA  &SDATAF3           SDATA EXIT FIELDS PARM LIST  @G383P1U 03650000
         LCLA  &SDAT3             SDUSDAT3 FIELD OF PARM LIST      @T1A 03675000
         LCLA  &SDCNTL1           CONTROL FLAGS FOR IDENTIFYING NEW     03700000
.*                                RELEASES AND EXPANDED PARAMETER LIST  03750000
.*                                LENGTHS                      @G860P31 03800000
         LCLA  &SDTYPF1           TYPE FIELD OF PARAMETER LIST @G383P1U 03850000
         LCLA  &CTR1,&CTR2        COUNTERS FOR LOOP CONTROL, INDEX      03900000
         LCLA  &HDRCTR            NUMBER OF PAIRED APOSTROPHES          03950000
         LCLA  &IDCTR             NUMBER OF PAIRED APOSTROPHES     @T1A 03975000
         LCLA  &DISP              DISPLACEMENT FOR STORING ADDRESSES    04000000
         LCLA  &DISP1             DISPLACEMENT FOR STOR LIST@G860P31    04050000
         LCLA  &DISP2             DISPLACEMENT FOR HDR DATA    @G860P31 04100000
         LCLA  &STRCNT            COUNT OF STOR ADDRESSES      @G860P31 04150000
         LCLC  &GNAME             SYMBOLIC NAME-BRANCH AROUND CONSTANTS 04200000
         LCLC  &TEMP              TEMPORARY VARIABLE               @T1A 04225000
         LCLB  &SDDCB             SET IF DCB ADDRESS IS SPECIFIED       04250000
         LCLB  &SDBUFF            SET IF BUFFER IS TO BE DUMPED         04300000
         LCLB  &SDSTOR            SET IF STORAGE OR LIST IS SPECIFIED   04350000
         LCLB  &SDHDR             SET IF HDR OR HDRAD IS SPECIFIED      04400000
         LCLB  &SDECB             SET IF AN ECB ADDRESS IS SUPPLIED     04450000
         LCLB  &SDSRB            SET IF AN SRB ADDRESS IS SUPPLIED @L4A 04475000
         LCLB  &SDASID            SET IF AN ASID IS SPECIFIED           04500000
         LCLB  &SDASIDL           SET IF AN ASIDLIST IS SPECIFIED       04550000
.*                                                             @G33VPHD 04600000
         LCLB  &SDQUIET           SET IF SYSTEM IS TO BE QUIESCED       04650000
         LCLB  &SDBRNCH           SET IF INTERFACE IS BRANCH ENTRY      04700000
         LCLB  &DUMPTYP           ALWAYS SET FOR SVC DUMP               04750000
         LCLB  &SDALPSA           SET IF ALL PSA IN SYSTEM TO BE DUMPED 04800000
         LCLB  &SDPSA             SET IF CURRENT PSA IS TO BE DUMPED    04850000
         LCLB  &SDNUC             SET IF NUCLEUS IS TO BE DUMPED        04900000
         LCLB  &SDSQA             SET IF SQA IS TO BE DUMPED            04950000
         LCLB  &SDLSQA            SET IF LSQA IS TO BE DUMPED           05000000
         LCLB  &SDRGN             SET IF VIRTUAL MEMORY IS TO BE DUMPED 05050000
         LCLB  &SDLPA             SET IF ACTIVE LPA MOD FOR MEMORY REQ  05100000
         LCLB  &SDTRT             SET IF GTF INCORE TRACE BUFFERS  REQ  05150000
         LCLB  &SDCSA             SET IF CSA SUBPOOLS ARE TO BE DUMPED  05200000
         LCLB  &SDSWA             SET IF SWA FOR MEMORY TO BE DUMPED    05250000
.*                                                                      05300000
         LCLB  &SDSUMLT           SET IF SUMLIST SPECIFIED     @G33VPHD 05350000
         LCLB  &SDSMDMP           SET IF SUMDUMP SPECIFIED     @G33VPHD 05400000
         LCLB  &SDNSMDP           SET IF NO SUMDUMP SPECIFIED  @G33VPHD 05450000
         LCLB  &SDNSQA            SET IF NO SQA SPECIFIED      @G33VPHD 05500000
         LCLB  &SDNAPSA           SET IF NOALLPSA IS SPECIFIED @G33VPHD 05550000
         LCLB  &SDNEW             SET IF ENHANCED SVC DUMP     @G33VPHD 05600000
         LCLB  &SDSE3PM         SET IF JBB1226 PARMS SPECIFIED @G383P1U 05650000
         LCLB  &SDGRSQ            SET IF SDATA=GRSQ SPECIFIED  @G383P1U 05700000
.********************************************************************** 05750000
.* FOR EACH NEW SDUMP EXIT, ADD A NEW VARIABLE DEFINED SIMILAR TO       05800000
.* SDGRSQ.                                                     @G386P31 05850000
.********************************************************************** 05900000
         LCLB  &SDLISTA           SET IF LISTA PARM SPECIFIED  @G383P1U 05950000
         LCLB  &SDSMLTA           SET IF SUMLSTA SPECIFIED     @G383P1U 06000000
         LCLB  &SDSPEND           SET IF SUSPEND=YES SPECIFIED @G386P31 06050000
         LCLB  &SDTYPXM           SET IF TYPE=XMEM SPECIFIED   @ZMB0025 06100000
         LCLB  &SDTPXME           SET IF TYPE=XMEME SPECIFIED  @G38AP31 06150000
         LCLB  &SDALLNC           SET IF ALLNUC SPECIFIED      @G860P31 06200000
         LCLB  &SDSPLST           SET IF SUBPLST SPECIFIED     @G860P31 06250000
         LCLB  &SDKYLST           SET IF KEYLIST SPECIFIED     @G860P31 06300000
         LCLB  &SDSP21P           SET IF HBB2102 PARM LIST     @G860P31 06350000
         LCLB  &SDVRSNB           SET IF VERSION NUMBER IN LIST    @T1A 06375000
         LCLB  &SDTYPNL          SET IF TYPE=NOLOCAL SPECIFIED @ZMC2707 06400000
         LCLB  &SDTYPRC           SET IF TYPE=FAILRC SPECIFIED     @L2A 06450000
.* FLAGS FOR MDUMP OPTIONS                                              06455000
         LCLC  &PLVER             PLISTVER                         @T1A 06460000
         LCLB  &SDPREG            SET IF PSWREG SPECIFIED          @T1A 06465000
         LCLB  &SDSYMR            SET IF SYMREC SPECIFIED          @T1A 06470000
         LCLB  &SDID              SET IF ID OR IDAD SPECIFIED      @T1A 06475000
         LCLB  &SDIDAD            SET IF IDAD SPECIFIED            @T1A 06480000
         LCLB  &SDDEFS            SET IF DEFAULTS/DEFS SPECIFIED   @T1A 06485000
         LCLB  &SDNODEF           SET IF NODEFAULTS/NODEFS         @T1A 06490000
         LCLB  &SDIO              SET IF IO SPECIFIED              @T1A 06495000
.*                                                                      06500000
.********************************************************************** 06550000
.* DETERMINE WHAT THE SYSTEM/MACRO LIBRARY IS.  IF IT IS HBB3310,       06600000
.* ISSUE SDUMPX MACRO. IF IT IS HBB2102,                                06650000
.* THEN CONTINUE PROCESSING SDUMP MACRO.  IF IT IS NOT HBB2102, THEN    06700000
.* ISSUE SDUMP7 MACRO, AFTER REMOVING THE SUBPLST AND KEYLIST           06750000
.* PARAMETERS.  NOTE: THE ALLNUC OPTION ON THE SDATA KEYWORD WILL       06800000
.* NOT BE REMOVED.                                             @G860P1X 06850000
.********************************************************************** 06900000
.*                                                                      06950000
         GBLC  &SYSASCE           ASC ENVIRONMENT                  @L3A 07000000
         SYSSTATE TEST            WHAT IS ASC ENVIRONMENT          @L3A 07050000
         AIF ('&SYSASCE' EQ 'P').INVKSDP PRIMARY, PROCESS NORMALLY @L3A 07100000
         MNOTE 0,'*** SDUMPX MACRO SUBSTITUTED FOR SDUMP MACRO BECAUSE X07150000
               ASCENV=AR/ANY SPECIFIED ON PREVIOUSLY ISSUED SYSSTATE MAX07200000
               CRO'                                                @L3A 07250000
&NAME    SDUMPX HDR=&HDR,HDRAD=&HDRAD,DCB=&DCB,ASID=&ASID,             X07300000
               ASIDLST=&ASIDLST,ECB=&ECB,SDATA=&SDATA,                 X07350000
               STORAGE=&STORAGE,LIST=&LIST,SUMLIST=&SUMLIST,           X07400000
               BUFFER=&BUFFER,QUIESCE=&QUIESCE,BRANCH=&BRANCH,         X07450000
               LISTA=&LISTA,TYPE=&TYPE,SUMLSTA=&SUMLSTA,               X07500000
               SUSPEND=&SUSPEND,SUBPLST=&SUBPLST,KEYLIST=&KEYLIST,     X07550000
               ID=&ID,IDAD=&IDAD,SYMREC=&SYMREC,PSWREGS=&PSWREGS,      X07583300
               MF=&MF,SRB=&SRB,PLISTVER=&PLISTVER                  @T2C 07616600
         MEXIT                                                     @L3A 07650000
.INVKSDP ANOP                                                      @L3A 07700000
         SPLEVEL TEST              WHAT IS THE SYSTEM LEVEL?   @G860P1X 07750000
         AIF   ('&SYSSPLV' NE '1').INVKSP2 HBB2102, GO PROCESS @G860P1X 07800000
.*                                           NORMALLY          @G860P1X 07850000
.INVKSP1 ANOP                      INVOKE HBB2102 SDUMP7 MACRO @G860P1X 07900000
&NAME    SDUMP7 HDR=&HDR,HDRAD=&HDRAD,DCB=&DCB,ASID=&ASID,     @G860P1XC07950000
               ASIDLST=&ASIDLST,ECB=&ECB,SDATA=&SDATA,         @G860P1XC08000000
               STORAGE=&STORAGE,LIST=&LIST,SUMLIST=&SUMLIST,   @G860P1XC08050000
               BUFFER=&BUFFER,QUIESCE=&QUIESCE,BRANCH=&BRANCH, @G860P1XC08100000
               LISTA=&LISTA,TYPE=&TYPE,SUMLSTA=&SUMLSTA,       @G860P1XC08150000
               SUSPEND=&SUSPEND,MF=&MF                         @G860P1X 08200000
         MEXIT                                                 @G860P1X 08250000
.*                                                                      08300000
.********************************************************************** 08350000
.* IF ANY POSITIONAL PARAMETERS WERE SPECIFIED, THE MACRO IS            08400000
.* SPECIFIED INCORRECTLY AND IS PROBABLY MISSING A SET OF               08450000
.* PARENTHESIS.                                                @G860P1X 08500000
.********************************************************************** 08550000
.*                                                                      08600000
.INVKSP2 ANOP                                                  @G860P1X 08650000
         AIF  ('&SYSLIST(1)' NE '').MESG1A                     @G860P1X 08700000
.*                                                                      08750000
.********************************************************************** 08800000
.*                                                                      08850000
.*         SYNTAX CHECK FOR MUTUALLY EXCLUSIVE OPTIONS                  08900000
.*                                                             @G860P31 08950000
.********************************************************************** 09000000
.*                                                                      09050000
         AIF   ('&HDR' NE '' AND '&HDRAD' NE '').MESG2A     MUTUALLY    09100000
         AIF   ('&ID' NE '' AND '&IDAD' NE '').MESG2F              @T1A 09125000
         AIF   ('&STORAGE' NE '' AND '&LIST' NE '').MESG2B   EXCLUSIVE  09150000
.*       TEST STORAGE AND LISTA - MUTUALLY EXCLUSIVE           @G383P1U 09200000
         AIF   ('&STORAGE' NE '' AND '&LISTA' NE '').MESG2C    @G383P1U 09250000
.*       TEST LIST AND LISTA - MUTUALLY EXCLUSIVE              @G383P1U 09300000
         AIF   ('&LIST' NE '' AND '&LISTA' NE '').MESG2D       @G383P1U 09350000
.*       TEST SUMLIST AND SUMLSTA - MUTUALLY EXCLUSIVE         @G383P1U 09400000
         AIF   ('&SUMLIST' NE '' AND '&SUMLSTA' NE '').MESG2E  @G383P1U 09450000
.*       TEST ASID AND ASIDLST - MUTUALLY EXCLUSIVE            @G386P31 09500000
         AIF   ('&ASID' NE '' AND '&ASIDLST' NE '').MESG10     @G383P1U 09550000
.*                                                                      09600000
.********************************************************************** 09650000
.*                                                                      09700000
.*    PARSE THE HDR PARAMETER FOR INVALID LENGTH AFTER ACCOUNTING       09750000
.*    FOR STARTING, ENDING, AND PAIRED APOSTROPHES.                     09800000
.*                                                             @G860P31 09850000
.********************************************************************** 09900000
.*                                                                      09950000
         AIF   ('&HDR' EQ '').SD3I          HDR SPECIFIED          @T1C 10000000
         AIF   ('&HDR'(1,1) NE '''').MESG9  IS FIRST CHAR APOSTROPHE    10050000
&CTR1    SETA  K'&HDR-1                     LENGTH OF USER DATA +1      10100000
         AIF   (&CTR1 LT 2).MESG9A          INVALID HDR SPECIFICATION   10150000
.*                                                            @ZMC0399  10200000
&HDRCTR  SETA  0                            NUMBER OF PAIRED APOSTROHES 10250000
&CTR2    SETA  2                            INDEX FIRST CHAR-USER DATA  10300000
.SDLOOP  ANOP                                                           10350000
         AIF   (&CTR2 GE &CTR1).SD2              END OF SCAN            10400000
         AIF   ('&HDR'(&CTR2,2) EQ '''''').SD1   PAIRED APOSTROPHES     10450000
&CTR2    SETA  &CTR2+1                           UPDATE INDEX BY 1      10500000
         AGO   .SDLOOP                           CONTINUE LOOP          10550000
.SD1     ANOP                                                           10600000
&HDRCTR  SETA  &HDRCTR+1                    ONE MORE PAIRED APOSTROPHES 10650000
&CTR2    SETA  &CTR2+2                      UPDATE INDEX BY 2           10700000
         AGO   .SDLOOP                      CONTINUE LOOP               10750000
.SD2     ANOP                                                           10800000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         10850000
         AIF   (&CTR1 GT 100).MESG8         USER DATA TOO LONG          10900000
.********************************************************************** 11000000
.*                                                                      11050000
.*    PARSE THE ID PARAMETER FOR INVALID LENGTH AFTER ACCOUNTING        11051700
.*    FOR STARTING, ENDING, AND PAIRED APOSTROPHES.                     11053400
.*                                                                 @T1A 11055100
.********************************************************************** 11056800
.*                                                                      11058500
.SD3I    AIF   ('&ID' EQ '').SD3            ID SPECIFIED           @T1A 11060200
         AIF   ('&ID'(1,1) NE '''').MESG9I  FIRST CHAR APOSTROPHE  @T1A 11061900
&CTR1    SETA  K'&ID-1                      LENGTH+1               @T1A 11063600
         AIF   (&CTR1 LT 2).MESG9AI         INVALID ID SPECIFICATION   *11065300
                                                                   @T1A 11067000
&IDCTR   SETA  0                            PAIRED APOSTROPHES     @T1A 11068700
&CTR2    SETA  2                            INDEX FIRST CHAR       @T1P 11070400
.SDLOOPI ANOP                                                      @T1A 11072100
         AIF   (&CTR2 GE &CTR1).SD2I             END OF SCAN       @T1A 11073800
         AIF   ('&ID'(&CTR2,2) EQ '''''').SD1I   PAIRED            @T1A 11075500
&CTR2    SETA  &CTR2+1                           UPDATE INDEX BY 1 @T1A 11077200
         AGO   .SDLOOPI                          CONTINUE LOOP     @T1A 11078900
.SD1I    ANOP                                                      @T1A 11080600
&IDCTR   SETA  &IDCTR+1                     ONE MORE               @T1A 11082300
&CTR2    SETA  &CTR2+2                      UPDATE INDEX BY 2      @T1P 11084000
         AGO   .SDLOOPI                     CONTINUE LOOP          @T1A 11085700
.SD2I    ANOP                                                      @T1A 11087400
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1A 11089100
         AIF   (&CTR1 GT 50).MESG8I         USER DATA TOO LONG     @T1A 11090800
.*                                                                      11092500
.********************************************************************** 11094200
.*                                                                      11095900
.*    CHECK FOR INVALID PARAMETERS SPECIFIED WITH MF=L                  11100000
.*                                                             @G860P31 11150000
.********************************************************************** 11200000
.*                                                                      11250000
.SD3     AIF   ('&MF' NE 'L').SD5           IS MF STANDARD OR EXECUTE   11300000
         AIF   ('&ASID' NE '').MESG5A       ASID INVALID W/MF=L         11350000
         AIF   ('&ECB' NE '').MESG5B        ECB INVALID W/MF=L          11400000
         AIF   ('&SRB' NE '').MESG5F        SRB INVALID W/MF=L     @L4A 11425000
         AIF   ('&BRANCH' NE '').MESG5C     BRANCH INVALID W/MF=L       11450000
         AIF   ('&ASIDLST' NE '').MESG5D   ASID INV W/MF=L     @G33VPHD 11500000
.*                                                                      11550000
.********************************************************************** 11600000
.*                                                                      11650000
.*  CHECK FOR VALID OPERANDS (YES OR NO) ON BUFFER, BRANCH, AND QUIESCE 11700000
.*                                                             @G860P31 11750000
.********************************************************************** 11800000
.*                                                                      11850000
.SD5     AIF   ('&BUFFER' EQ '').SD9        IS BUFFER SPECIFIED         11900000
.*                                                             @G33VPHD 11950000
         AIF   ('&BUFFER' NE 'YES' AND '&BUFFER' NE 'NO').MESG4B        12000000
.*                                                             @G33VPHD 12050000
.SD9     AIF   ('&BRANCH' EQ '').SD11       IS BRANCH SPECIFIED         12100000
         AIF   ('&BRANCH' NE 'YES' AND '&BRANCH' NE 'NO').MESG4C        12150000
.SD11    AIF   ('&QUIESCE' EQ '').SD13      IS QUIESCE SPECIFIED        12200000
         AIF   ('&QUIESCE' NE 'YES' AND '&QUIESCE' NE 'NO').MESG4D      12250000
.*                                                                      12300000
.********************************************************************** 12350000
.*                                                                      12400000
.*  CHECK FOR AN EVEN NUMBER OF STORAGE RANGES.                         12450000
.*                                                             @G860P31 12500000
.********************************************************************** 12550000
.*                                                                      12600000
.SD13    AIF   ('&STORAGE' EQ '').SD15      IS STORAGE SPECIFIED        12650000
&CTR1    SETA  N'&STORAGE/2                 NUMBER OF ADDRESS PAIRS     12700000
&CTR2    SETA  (N'&STORAGE-1)/2             NUMBER OF PAIRS MINUS 1     12750000
         AIF   (&CTR1 EQ &CTR2).MESG6       ODD NUMBER OF ADDRESSES     12800000
.SD15    ANOP                                                           12850000
.*                                                                      12900000
.********************************************************************** 12950000
.*                                                                      13000000
.*       SDFLAG0 PROCESSING                                             13050000
.*                                                             @G860P31 13100000
.********************************************************************** 13150000
.*                                                                      13200000
&SDDCB   SETB  ('&DCB' NE '')                IF DCB SPECIFIED           13250000
&SDBUFF  SETB  ('&BUFFER' EQ 'YES')          IF BUFFER TO BE DUMPED     13300000
&SDSTOR  SETB  ('&STORAGE' NE '' OR '&LIST' NE '')    STORAGE ADDR LIST 13350000
&SDHDR   SETB  ('&HDR' NE '' OR '&HDRAD' NE '')       USER DATA         13400000
         AIF   ('&ECB' NE '' AND '&SRB' NE '').MESG13B SRB AND ECB ARE  13416600
.*             MUTUALLY EXCLUSIVE                                  @L4A 13433200
&SDECB   SETB  ('&ECB' NE '')                IF ECB SPECIFIED           13450000
&SDSRB   SETB  ('&SRB' NE '')                IF SRB SPECIFIED      @L4A 13475000
&SDASID  SETB  ('&ASID' NE '')               IF ASID SPECIFIED          13500000
&SDQUIET SETB  ('&QUIESCE' NE 'NO')          IF SYSTEM TO BE QUIESCED   13550000
.*             SDQUIET IS SET FOR QUIESCE=YES OR DEFAULTED TO YES       13600000
.*             THE DEFAULT ONLY APPLIES TO THE LIST AND STANDARD FORM,  13650000
.*             AND MUST BE COMPENSATED FOR ON THE EXECUTE FORM.         13700000
&SDBRNCH SETB  ('&BRANCH' EQ 'YES')          IF LINKAGE BY BRANCH ENTRY 13750000
&SDFLAG0 SETA  128*&SDDCB+64*&SDBUFF+32*&SDSTOR+16*&SDHDR+8*&SDECB+4*&SX13800000
               DASID+2*&SDQUIET+1*&SDBRNCH                              13850000
.*                                                                      13900000
.********************************************************************** 13950000
.*                                                                      14000000
.*       SDFLAG1 PROCESSING                                             14050000
.*                                                             @G860P31 14100000
.********************************************************************** 14150000
.*                                                                      14200000
&DUMPTYP SETB  1                  ALWAYS ON FOR SVC DUMP                14250000
&SDNEW   SETB  1                  ALWAYS SET TO 1 FOR NEW SDUMP MACRO   14300000
.*                                                             @G33VPHD 14350000
&SDASIDL SETB  ('&ASIDLST' NE '') IF ASIDLIST WAS SPECIFIED             14400000
.*                                                             @G33VPHD 14450000
&SDSUMLT SETB  ('&SUMLIST' NE '') IF SUMLIST WAS SPECIFIED              14500000
.*                                                             @G33VPHD 14550000
&SDFLAG1 SETA  128*&DUMPTYP+32*&SDNEW+16*&SDASIDL+8*&SDSUMLT            14600000
.*                                                                      14650000
.********************************************************************** 14700000
.*                                                                      14750000
.*       SDFLAG2 PROCESSING                                             14800000
.*                                                             @G860P31 14850000
.********************************************************************** 14900000
.*                                                                      14950000
&SDLISTA SETB  ('&LISTA' NE '')   SET IF LISTA IS SPECIFIED    @G383P1U 15000000
&SDSMLTA SETB  ('&SUMLSTA' NE '') SET IF SUMLSTA SPECIFED      @G383P1U 15050000
&SDFLAG2 SETA  128*&SDLISTA+64*&SDSMLTA                        @G383P1U 15100000
.*                                                                      15150000
.********************************************************************** 15200000
.*                                                                      15250000
.*       SDCNTL1 PROCESSING                                             15253800
.*                                                                 @T1A 15257600
.********************************************************************** 15261400
.*                                                                      15265200
&SDPREG  SETB  ('&PSWREGS' NE '')   SET FOR PSWREGS                @T1A 15269000
&SDSRS   SETB  ('&SYMREC' NE '')    SET FOR SYMREC                 @T1A 15272800
&SDID    SETB  ('&ID' NE '' OR '&IDAD' NE '')         ID DATA      @T1A 15276600
&SDIDAD  SETB  ('&IDAD' NE '')      SET FOR IDAD                   @T1A 15280400
&SDCNTL1 SETA  32*&SDPREG+16*&SDSRS+8*&SDID                        @T1A 15284200
.*                                                                      15288000
.********************************************************************** 15291800
.*                                                                      15295600
.*       SDATA PROCESSING FOR ONLY 1 SDATA OPTION SPECIFIED.            15300000
.*                                                             @G860P31 15350000
.********************************************************************** 15400000
.*                                                                      15450000
         AIF   ('&SDATA' EQ '').SD80        IS SDATA SPECIFIED          15500000
         AIF   ('&SDATA'(1,1) EQ '(').SD60  MORE THAN 1 OPTION, IN ()   15550000
&CTR1    SETA  0                                                        15600000
&SDALPSA SETB  ('&SDATA' EQ 'ALLPSA')       SET IF ALLPSA SPECIFIED     15650000
&SDPSA   SETB  ('&SDATA' EQ 'PSA')          SET IF PSA SPECIFIED        15700000
&SDNUC   SETB  ('&SDATA' EQ 'NUC')          SET IF NUC SPECIFIED        15750000
&SDSQA   SETB  ('&SDATA' EQ 'SQA')          SET IF SQA SPECIFIED        15800000
&SDLSQA  SETB  ('&SDATA' EQ 'LSQA')         SET IF LSQA SPECIFIED       15850000
&SDRGN   SETB  ('&SDATA' EQ 'RGN')          SET IF RGN SPECIFIED        15900000
&SDLPA   SETB  ('&SDATA' EQ 'LPA')          SET IF LPA SPECIFIED        15950000
&SDTRT   SETB  ('&SDATA' EQ 'TRT')          SET IF TRT SPECIFIED        16000000
&SDCSA   SETB  ('&SDATA' EQ 'CSA')          SET IF CSA SPECIFIED        16050000
&SDSWA   SETB  ('&SDATA' EQ 'SWA')          SET IF SWA SPECIFIED        16100000
&SDSMDMP SETB  ('&SDATA' EQ 'SUMDUMP' OR '&SDATA' EQ 'SUM')             16150000
.*                         SET IF SUMDUMP OR SUM ARE SPECIFIED @G33VPHD 16200000
&SDNSQA  SETB  ('&SDATA' EQ 'NOSQA')        SET IF NOSQA SPECIFIED      16250000
.*                                                             @G33VPHD 16300000
&SDNAPSA SETB  ('&SDATA' EQ 'NOALLPSA' OR '&SDATA' EQ 'NOALL')          16350000
.*                          SET IF NOALLPSA OR NOALL SPECIFIED @G33VPHD 16400000
&SDNSMDP SETB  ('&SDATA' EQ 'NOSUMDUMP' OR '&SDATA' EQ 'NOSUM')         16450000
&SDALLNC SETB  ('&SDATA' EQ 'ALLNUC')                          @G860P31 16500000
&SDGRSQ  SETB  ('&SDATA' EQ 'GRSQ')  SET IF GRSQ SPECIFIED     @G383P1U 16550000
&SDIO    SETB  ('&SDATA' EQ 'IO')    SET IF IO SPECIFIED           @T1A 16562500
&SDDEFS  SETB  ('&SDATA' EQ 'DEFS' OR '&SDATA' EQ 'DEFAULTS')      @T1A 16575000
&SDNODEF SETB  ('&SDATA' EQ 'NODEFS' OR '&SDATA' EQ 'NODEFAULTS')  @T1A 16587500
.********************************************************************** 16600000
.* FOR EACH NEW SDUMP EXIT, ADD A 'SETB' INSTRUCTION SIMILAR TO THE ONE 16650000
.* ABOVE AND ADD THE EXIT VARIABLE INTO THE FOLLOWING SETA.    @G386P31 16700000
.********************************************************************** 16750000
&CTR1    SETA  &SDALPSA+&SDPSA+&SDNUC+&SDSQA+&SDLSQA+&SDRGN+&SDLPA+&SDTX16800000
               RT+&SDCSA+&SDSWA+&SDSMDMP+&SDNSMDP+&SDNSQA+&SDNAPSA+&SDGX16850000
               RSQ+&SDALLNC+&SDIO+&SDDEFS+&SDNODEF                 @T1C 16900000
&CTR2    SETA  1                            IF INVALID, MESG PRINTS IT  16950000
         AIF   ('&CTR1' EQ '0').MESG4A      IS SPECIFIED OPTION VALID   17000000
         AGO   .SD80                        SDATA OPTION PROCESSED      17050000
.*                                                                      17100000
.********************************************************************** 17150000
.*                                                                      17200000
.*       SDATA PROCESSING FOR 1 OR MORE SDATA OPTIONS IN PARENTHESIS.   17250000
.*                                                             @G860P31 17300000
.********************************************************************** 17350000
.*                                                                      17400000
.SD60    ANOP                     SDATA OPTIONS IN PARENTHESIS          17450000
&CTR1    SETA  N'&SDATA           NUMBER OF OPTIONS ON SDATA PARAMETER  17500000
&CTR2    SETA  0                  NUMBER BY POSITION OPERAND WORKING ON 17550000
.LOOPA1  ANOP                                                           17600000
&CTR2    SETA  &CTR2+1            NUMBER OF NEXT OPTION TO WORK ON      17650000
         AIF   ('&SDATA(&CTR2)' EQ 'ALLPSA').SETAPSA                    17700000
         AIF   ('&SDATA(&CTR2)' EQ 'PSA').SETPSA                        17750000
         AIF   ('&SDATA(&CTR2)' EQ 'NUC').SETNUC                        17800000
         AIF   ('&SDATA(&CTR2)' EQ 'SQA').SETSQA                        17850000
         AIF   ('&SDATA(&CTR2)' EQ 'LSQA').SETLSQA                      17900000
         AIF   ('&SDATA(&CTR2)' EQ 'RGN').SETRGN                        17950000
         AIF   ('&SDATA(&CTR2)' EQ 'LPA').SETLPA                        18000000
         AIF   ('&SDATA(&CTR2)' EQ 'TRT').SETTRT                        18050000
         AIF   ('&SDATA(&CTR2)' EQ 'CSA').SETCSA                        18100000
         AIF   ('&SDATA(&CTR2)' EQ 'SWA').SETSWA                        18150000
         AIF   ('&SDATA(&CTR2)' EQ 'SUMDUMP').SETSUM SUMDUMP SPEC       18200000
.*                                                             @G33VPHD 18250000
         AIF   ('&SDATA(&CTR2)' EQ 'SUM').SETSUM  SET IF SUM SPECIFIED  18300000
.*                                                             @G33VPHD 18350000
         AIF   ('&SDATA(&CTR2)' EQ 'NOSUMDUMP').SETNSUM SET IF          18400000
.*                                   NO SUMDUMP IS SPECIFIED   @G33VPHD 18450000
         AIF   ('&SDATA(&CTR2)' EQ 'NOSUM').SETNSUM  SET IF NOSUM IS    18500000
.*                                                   SPECIFIED          18550000
.*                                                             @G33VPHD 18600000
         AIF   ('&SDATA(&CTR2)' EQ 'NOSQA').SETNSQA  SET IF NOSQA SPEC  18650000
.*                                                             @G33VPHD 18700000
         AIF   ('&SDATA(&CTR2)' EQ 'NOALLPSA').SETNAPA                  18750000
.*                                                             @G33VPHD 18800000
         AIF   ('&SDATA(&CTR2)' EQ 'NOALL').SETNAPA                     18850000
.*                                                             @G33VPHD 18900000
         AIF   ('&SDATA(&CTR2)' EQ 'ALLNUC').SETANUC                    18950000
.*                                                             @G860P31 19000000
         AIF   ('&SDATA(&CTR2)' EQ 'GRSQ').SETGRSQ SET IF GRSQ @G383P1U 19050000
         AIF   ('&SDATA(&CTR2)' EQ 'IO').SETIO                     @T1A 19058300
         AIF   ('&SDATA(&CTR2)' EQ 'DEFS').SETDEFS                 @T1A 19066600
         AIF   ('&SDATA(&CTR2)' EQ 'DEFAULTS').SETDEFS             @T1A 19074900
         AIF   ('&SDATA(&CTR2)' EQ 'NODEFS').SETNODF               @T1A 19083200
         AIF   ('&SDATA(&CTR2)' EQ 'NODEFAULTS').SETNODF           @T1A 19091500
.********************************************************************** 19100000
.* FOR EACH NEW SDUMP EXIT, ADD AN 'AIF' INSTRUCTION SIMILAR TO THE ONE 19150000
.* ABOVE AND ADD THE NEW LABEL FOR THE SET.                    @G386P31 19200000
.********************************************************************** 19250000
         AGO   .MESG4A                 SDATA OPTION IS INVALID          19300000
.LOOPA2  AIF   (&CTR1 NE &CTR2).LOOPA1 MORE OPTIONS, CONTINUE LOOP      19350000
         AGO   .SD80                   ALL OPTIONS PROCESSED            19400000
.SETAPSA ANOP                          ALLPSA SPECIFIED                 19450000
         AIF   (&SDNAPSA EQ 1).MESG13  NOALLPSA AND ALLPSA IS ERROR     19500000
.*                                                             @G33VPHD 19550000
&SDALPSA SETB  1                       SET INDICATOR                    19600000
         AGO   .LOOPA2                 CONTINUE LOOP                    19650000
.SETPSA  ANOP                          PSA SPECIFIED                    19700000
&SDPSA   SETB  1                       SET INDICATOR                    19750000
         AGO   .LOOPA2                 CONTINUE LOOP                    19800000
.SETNUC  ANOP                          NUC SPECIFIED                    19850000
&SDNUC   SETB  1                       SET INDICATOR                    19900000
         AGO   .LOOPA2                 CONTINUE LOOP                    19950000
.SETSQA  ANOP                          SQA SPECIFIED                    20000000
         AIF   (&SDNSQA EQ 1).MESG12   SQA AND NOSQA IS ERROR           20050000
.*                                                             @G33VPHD 20100000
&SDSQA   SETB  1                       SET INDICATOR                    20150000
         AGO   .LOOPA2                 CONTINUE LOOP                    20200000
.SETLSQA ANOP                          LSQA SPECIFIED                   20250000
&SDLSQA  SETB  1                       SET INDICATOR                    20300000
         AGO   .LOOPA2                 CONTINUE LOOP                    20350000
.SETRGN  ANOP                          RGN SPECIFIED                    20400000
&SDRGN   SETB  1                       SET INDICATOR                    20450000
         AGO   .LOOPA2                 CONTINUE LOOP                    20500000
.SETLPA  ANOP                          LPA SPECIFIED                    20550000
&SDLPA   SETB  1                       SET INDICATOR                    20600000
         AGO   .LOOPA2                 CONTINUE LOOP                    20650000
.SETTRT  ANOP                          TRT SPECIFIED                    20700000
&SDTRT   SETB  1                       SET INDICATOR                    20750000
         AGO   .LOOPA2                 CONTINUE LOOP                    20800000
.SETCSA  ANOP                          CSA SPECIFIED                    20850000
&SDCSA   SETB  1                       SET INDICATOR                    20900000
         AGO   .LOOPA2                 CONTINUE LOOP                    20950000
.SETSWA  ANOP                          SWA SPECIFIED                    21000000
&SDSWA   SETB  1                       SET INDICATOR                    21050000
         AGO  .LOOPA2                  CONTINUE LOOP                    21100000
.SETSUM  ANOP                          SUMDUMP OR SUM SPECIFIED         21150000
.*                                                             @G33VPHD 21200000
         AIF   (&SDNSMDP EQ 1).MESG11  NOSUMDUMP AND SUMDUMP IS ERROR   21250000
.*                                                             @G33VPHD 21300000
&SDSMDMP SETB  1                       SET SUMDUMP INDICATOR            21350000
.*                                                             @G33VPHD 21400000
         AGO   .LOOPA2                 CONTINUE LOOP                    21450000
.*                                                             @G33VPHD 21500000
.SETNSUM ANOP                          NOSUMDUMP OR NOSUM SPECIFIED     21550000
.*                                                             @G33VPHD 21600000
         AIF   (&SDSMDMP EQ 1).MESG11  NOSUMDUMP AND SUMDUMP IS ERROR   21650000
.*                                                             @G33VPHD 21700000
&SDNSMDP SETB  1                       SET NOSUMDUMP INDICATOR          21750000
.*                                                             @G33VPHD 21800000
         AGO   .LOOPA2                 CONTINUE LOOP                    21850000
.*                                                             @G33VPHD 21900000
.SETNSQA ANOP                          NOSQA SPECIFIED                  21950000
.*                                                             @G33VPHD 22000000
         AIF   (&SDSQA EQ 1).MESG12    SQA AND NOSQA IS AN ERROR        22050000
.*                                                             @G33VPHD 22100000
&SDNSQA  SETB  1                       SET NOSQA INDICATOR              22150000
.*                                                             @G33VPHD 22200000
         AGO   .LOOPA2                 CONTINUE LOOP                    22250000
.*                                                             @G33VPHD 22300000
.SETNAPA ANOP                          NOALLPSA OR NOALL SPECIFIED      22350000
.*                                                             @G33VPHD 22400000
         AIF   (&SDALPSA EQ 1).MESG13  NOALLPSA AND ALLPSA IS ERROR     22450000
.*                                                             @G33VPHD 22500000
&SDNAPSA SETB  1                       SET NOALLPSA INDICATOR           22550000
.*                                                             @G33VPHD 22600000
         AGO   .LOOPA2                 CONTINUE LOOP                    22650000
.*                                                             @G33VPHD 22700000
.SETANUC ANOP                          ALLNUC OPTION SPECIFIED @G860P31 22750000
&SDALLNC SETB  1                       ALLNUC OPTION SET       @G860P31 22800000
         AGO   .LOOPA2                 CONTINUE LOOP           @G386P31 22850000
.SETGRSQ ANOP                          GRSQ OPTION SPECIFIED   @G383P1U 22900000
&SDGRSQ  SETB  1                       GRSQ OPTION SPECIFIED   @G383P1U 22950000
         AGO   .LOOPA2                 CONTINUE LOOP           @G383P1U 23000000
.SETIO   ANOP                          IO OPTION SPECIFIED         @T1A 23005000
&SDIO    SETB  1                       IO OPTION SPECIFIED         @T1A 23010000
         AGO   .LOOPA2                 CONTINUE LOOP               @T1A 23015000
.SETDEFS ANOP                          DEFS OPTION SPECIFIED       @T1A 23020000
&SDDEFS  SETB  1                       DEFS OPTION SPECIFIED       @T1A 23025000
         AGO   .LOOPA2                 CONTINUE LOOP               @T1A 23030000
.SETNODF ANOP                          NODEFS OPTION SPECIFIED     @T1A 23035000
&SDNODEF SETB  1                       NODEFS OPTION SPECIFIED     @T1A 23040000
         AGO   .LOOPA2                 CONTINUE LOOP               @T1A 23045000
.********************************************************************** 23050000
.* FOR EACH NEW SDUMP EXIT, ADD A SET OF 3 INSTRUCTIONS SIMILAR TO THE  23100000
.* 3 PREVIOUS INSTRUCTIONS.                                    @G386P31 23150000
.********************************************************************** 23200000
.SD80    ANOP         ALL SDATA OPTIONS PROCESSED,BUILD SDATA  @G33VPHD 23250000
         AIF   (&SDNODEF EQ 0 OR &SDDEFS EQ 0).SDDEFOK             @T1A 23260000
         MNOTE 12,'DEFAULTS AND NODEFAULTS ARE MUTUALLY EXCLUSIVE' @T1A 23270000
         MEXIT                                                     @T1A 23280000
.SDDEFOK ANOP                                                      @T1A 23290000
.*                                                                      23300000
.********************************************************************** 23350000
.*                                                                      23400000
.*       PLISTVER PROCESSING -- DETERMINE SPECIFIED AND/OR              23401100
.*       NECESSARY PLISTVER PROCESSING                                  23402200
.*                                                                 @T1A 23403300
.********************************************************************** 23404400
         AIF   ('&PLISTVER' EQ '').PLV01                           @T1A 23405500
         AIF   ('&PLISTVER' EQ '2').PLV00                          @T1A 23406600
         MNOTE 12,'PLISTVER MUST BE 2'                             @T1A 23407700
         MEXIT                                                     @T1A 23408800
.PLV00   ANOP                                                      @T1A 23409900
&PLVER   SETC  '&PLISTVER'                                         @T1A 23411000
         AGO   .PLV02                                              @T1A 23412100
.PLV01   ANOP                                                      @T1A 23413200
         AIF   ('&ID' NE '' OR '&IDAD' NE '' OR '&PSWREGS' NE '' OR '&S*23414300
               YMREC' NE '').PLVSET2                               @T1A 23415400
         AIF   (&SDIO NE 0 OR &SDDEFS NE 0 OR &SDNODEF NE 0).PLVSET2   *23416500
                                                                   @T1A 23417600
&PLVER   SETC  '1'                                                 @T1A 23418700
         AGO   .PLV02                                              @T1A 23419800
.PLVSET2 ANOP                                                      @T1A 23420900
&PLVER   SETC  '2'                                                 @T1A 23422000
.PLV02   ANOP                                                      @T1A 23423100
         AIF   ('&PLVER' EQ '2').PLVOK                             @T1A 23424200
         AIF   ('&ID' NE '' OR '&IDAD' NE '' OR '&PSWREGS' NE '' OR '&S*23425300
               YMREC' NE '').PLVBAD1                               @T1A 23426400
         AIF   (&SDIO NE 0 OR &SDDEFS NE 0 OR &SDNODEF NE 0).PLVBAD1   *23427500
                                                                   @T1A 23428600
         AGO   .PLVOK                                              @T1A 23429700
.PLVBAD1 ANOP                                                      @T1A 23430800
         MNOTE 12,'SPECIFIED KEYWORD(S) REQUIRE PLISTVER=2'        @T1A 23431900
         MEXIT                                                     @T1A 23433000
.PLVOK   ANOP                                                      @T1A 23434100
.*       PLVER IS SET TO THE HIGHEST PLVER EVER                         23435200
         AIF   ('&MF' EQ '').PLV03                                 @T1A 23436300
         AIF   ('&SDPLVER' NE '2' OR '&PLISTVER' NE '').PLVOK1     @T1A 23437400
&PLVER   SETC  '&SDPLVER'                                          @T1A 23438500
.PLVOK1  ANOP                                                      @T1A 23439600
         AIF   ('&SDPLVER' NE '' AND '&SDPLVER' GE '&PLVER').PLV03 @T1A 23440700
&SDPLVER SETC  '&PLVER'                                            @T1A 23441800
.PLV03   ANOP                                                      @T1A 23442900
.*                                                                      23444000
.********************************************************************** 23445100
.*                                                                      23446200
.*   AFTER PROCESSING ALL SDATA OPTIONS, BUILD THE SDATA FLAG BYTES.    23450000
.*                                                             @G860P31 23500000
.********************************************************************** 23550000
.*                                                                      23600000
&SDATAF1 SETA  128*&SDALPSA+64*&SDPSA+32*&SDNUC+16*&SDSQA+8*&SDLSQA+4*&X23650000
               SDRGN+2*&SDLPA+1*&SDTRT                                  23700000
&SDATAF2 SETA  128*&SDCSA+64*&SDSWA+32*&SDSMDMP+16*&SDNSMDP+8*&SDNAPSA+X23750000
               4*&SDNSQA+2*&SDALLNC+&SDDEFS                        @T1C 23800000
&SDATAF3 SETA  128*&SDGRSQ               CALC EXIT FLAG VALUE  @G860P31 23850000
&SDAT3   SETA  128*&SDNODEF+64*&SDIO                               @T1C 23875000
.*                                                                      23900000
.********************************************************************** 23950000
.*                                                                      24000000
.*     SUSPEND KEYWORD PROCESSING                                       24050000
.*                                                             @G860P31 24100000
.********************************************************************** 24150000
.*                                                                      24200000
         AIF   ('&SUSPEND' EQ '').SD73  CHECK IF SUSPEND       @G386P31 24250000
.*                      PARAMETER SPECIFIED ?                  @G386P31 24300000
         AIF   ('&SUSPEND' EQ 'NO').SD73  SUSPEND=NO IS SAME   @G386P31 24350000
.*                      AS NOT SPECIFYING THE SUSPEND KEYWORD  @G386P31 24400000
         AIF   ('&SUSPEND' NE 'YES').MESG16A  INVALID SUSPEND  @G386P31 24450000
.* SUSPEND=YES REQUIRES BRANCH=YES AND SUMDUMP                 @G386P31 24500000
         AIF   ('&BRANCH' NE 'YES').MESG16B    NO BRANCH=YES   @G386P31 24550000
         AIF   (&SDNSMDP EQ 1).MESG16C    NOSUMDUMP INVALID    @G386P31 24600000
&SDSPEND SETB  1             TURN ON SUSPEND=YES BIT           @G386P31 24650000
.*                                                                      24700000
.********************************************************************** 24750000
.*                                                                      24800000
.*   CHECK FOR NOSUM INVALID WITH SUMLIST OR SUMLSTA                    24850000
.*                                                             @G860P31 24900000
.********************************************************************** 24950000
.*                                                                      25000000
.SD73    AIF   (&SDNSMDP  EQ  0).SD74  IF NOSUM NOT SPECIFIED  @G860P31 25050000
         AIF   (&SDSUMLT  EQ  1).MESG15  NOSUM AND SUMLIST     @G860P31 25100000
         AIF   (&SDSMLTA  EQ  1).MESG15A  NOSUM AND SUMLSTA    @G860P31 25150000
.*                                                                      25200000
.********************************************************************** 25250000
.*                                                                      25300000
.*   TYPE PARAMETER PROCESSING FOR SINGLE TYPE OPTION                   25350000
.*                                                             @G860P31 25400000
.********************************************************************** 25450000
.*                                                                      25500000
.SD74    AIF   ('&TYPE' EQ '').SD90    IS TYPE PARAMETER SPEC  @G860P31 25550000
         AIF   ('&TYPE'(1,1) EQ '(').SD75 MORE THAN ONE OPTION @G383P1U 25600000
&CTR1    SETA  0              INITIALIZE LOOP COUNTER          @G383P1U 25650000
&SDTYPXM SETB  ('&TYPE' EQ 'XMEM')  SET IF TYPE=XMEM SPECIFIED @G383P1U 25700000
&SDTPXME SETB  ('&TYPE' EQ 'XMEME') SET IF TYPE=XMEME          @G38AP1U 25750000
&SDTYPNL SETB  ('&TYPE' EQ 'NOLOCAL') SET IF TYPE=NOLOCAL      @ZMC2707 25800000
&SDTYPRC SETB  ('&TYPE' EQ 'FAILRC') SET IF TYPE=FAILRC            @L2A 25850000
&CTR1    SETA  &SDTYPXM+&SDTPXME+&SDTYPNL+&SDTYPRC   CALCULATE     @L2C 25900000
.*                           VALID OPTIONS                         @L2A 25950000
&CTR2    SETA  1             INITIALIZE FOR MNOTE              @G383P1U 26000000
         AIF   ('&CTR1'  EQ  '0').MESG4E  NO VALID OPTIONS     @G383P1U 26050000
         AGO   .SD90         TYPE OPTION PROCESSED             @G383P1U 26100000
.*                                                                      26150000
.********************************************************************** 26200000
.*                                                                      26250000
.*   TYPE PARAMETER PROCESSING FOR TYPE OPTIONS IN PARENTHESIS          26300000
.*                                                             @G860P31 26350000
.********************************************************************** 26400000
.*                                                                      26450000
.SD75    ANOP         TYPE PARAMETERS IN PARENTHESIS           @G383P1U 26500000
&CTR1    SETA  N'&TYPE       NUMBER OF TYPE PARAMETERS         @G383P1U 26550000
&CTR2    SETA  0             INDEX OF OPERAND ADDRESSED        @G383P1U 26600000
.SD76    ANOP                TOP OF OPTION LOOP                @G383P1U 26650000
&CTR2    SETA  &CTR2+1       INDEX NEXT OPTION TO WORK ON      @G383P1U 26700000
         AIF    ('&TYPE(&CTR2)' EQ 'XMEM').SETTPXM   XMEM SPEC @G383P1U 26750000
         AIF    ('&TYPE(&CTR2)' EQ 'XMEME').SETTXME XMEME SPEC @G38AP1U 26800000
         AIF    ('&TYPE(&CTR2)' EQ 'NOLOCAL').SETTPNL NOLOCAL SPEC      26850000
.*                                                             @ZMC2707 26900000
         AIF    ('&TYPE(&CTR2)' EQ 'FAILRC').SETTPRC FAILRC SPEC   @L2A 26950000
         AGO    .MESG4E      EXIT PARAMETER INVALID            @G383P1U 27000000
.SETTPXM ANOP                XMEM SPECIFIED                    @G383P1U 27050000
&SDTYPXM SETB  1             SET INDICATOR                     @G383P1U 27100000
         AGO   .SD77         GOTO CHECK FOR END OF TYPE LOOP   @G38AP31 27150000
.SETTPNL ANOP                NOLOCAL SPECIFIED                 @ZMC2707 27200000
&SDTYPNL SETB  1             SET INDICATOR                     @ZMC2707 27250000
         AGO   .SD77         GOTO CHECK FOR END OF TYPE LOOP   @G38AP31 27300000
.SETTPRC ANOP                FAILRC SPECIFIED                      @L2A 27350000
&SDTYPRC SETB  1             SET INDICATOR                         @L2A 27400000
         AGO   .SD77         GOTO CHECK FOR END OF TYPE LOOP       @L2A 27450000
.SETTXME ANOP                XMEME SPECIFIED                   @G38AP31 27500000
&SDTPXME SETB  1             SET INDICATOR                     @G38AP31 27550000
.SD77    AIF   (&CTR1 NE &CTR2).SD76  MORE OPTIONS CONTINUE    @G38AP31 27600000
         AIF   (&SDTYPXM EQ 1 AND &SDTPXME EQ 1).MESG4F    CHECK FOR    27650000
.*                          MUTUALLY EXCLUSIVE TYPE PARAMETERS @G38AP31 27700000
.SD90    ANOP               BUILD TYPE FLAG BYTES              @G383P1U 27750000
&SDTYPF1 SETA  128*&SDTYPXM+64*&SDTPXME+32*&SDTYPNL+16*&SDTYPRC         27800000
.*                                        CALC TYPE FLAG VALUE     @L2C 27850000
.*                                                                      27900000
.********************************************************************** 27950000
.*                                                                      28000000
.*   PROCESS SUBPLST AND KEYLIST OPERANDS                               28050000
.*                                                             @G860P31 28100000
.********************************************************************** 28150000
.*                                                                      28200000
         AIF   ('&KEYLIST' NE '' AND '&SUBPLST' EQ '').MESG17A @G860P31 28250000
.*             KEYLIST IS INVALID WITHOUT SUBPLST              @G860P31 28300000
&SDKYLST SETB  ('&KEYLIST' NE '')            SET KEYLIST FLAG  @G860P31 28350000
&SDSPLST SETB  ('&SUBPLST' NE '')            SET SUBPLST FLAG  @G860P31 28400000
.*                                                                      28450000
.********************************************************************** 28500000
.*                                                                      28550000
.*   DETERMINE IF ANY JBB1226 OPTIONS WERE CHOSEN.  THIS IS USED TO     28600000
.*   CALCULATE THE LENGTH OF THE PARAMETER LIST.                        28650000
.*                                                             @G860P31 28700000
.********************************************************************** 28750000
.*                                                                      28800000
         AIF   (&SDTYPF1  NE  0).SETS3PM     IF TYPE SPECIFIED @G383P1U 28850000
         AIF   (&SDATAF3  NE  0).SETS3PM   IF EXIT SDATA SPEC  @G383P1U 28900000
         AIF   (&SDLISTA  NE  0).SETS3PM    IF LISTA SPECIFIED @G383P1U 28950000
         AIF   (&SDSPEND  NE  0).SETS3PM  IF SUSPEND SPECIFIED @G386P31 29000000
         AIF   (&SDSE3LT  EQ  1).SETS3PM  CHECK GLOBAL LIST    @G860P31 29050000
         AIF   (&SDSE3EX  EQ  1).SETS3PM  CHECK GLOBAL EXECUTE @G860P31 29100000
         AIF   (&SDSMLTA  EQ  0).SDFORM1   IF SUMLSTA SPECD    @G383P1U 29150000
.SETS3PM ANOP                 INDICATE NEW PARM LIST SPECIFIED @G383P1U 29200000
&SDSE3PM SETB  1         SET JBB1226 PARMAMETER LIST INDICATOR @G383P1U 29250000
.SDFORM1 ANOP                                                  @G383P1U 29300000
.*                                                                      29350000
.********************************************************************** 29400000
.*                                                                      29450000
.*   DETERMINE IF ANY HBB2102 OPTIONS WERE CHOSEN.  THIS IS USED TO     29500000
.*   CALCULATE THE LENGTH OF THE PARAMETER LIST.                        29550000
.*                                                             @G860P31 29600000
.********************************************************************** 29650000
.*                                                                      29700000
         AIF   (&SDALLNC  EQ  1).SETSP21   IF ALLNUC SPECIFIED @G860P31 29750000
         AIF   (&SDSRB    EQ  1).SETSP21   IF SRB  SPECIFIED       @P2A 29775000
         AIF   (&SDTYPNL  EQ  1).SETSP21  IF NOLOCAL SPECIFIED @ZMC2707 29800000
         AIF   (&SDTYPRC  EQ  1).SETSP21   IF FAILRC SPECIFIED     @L2A 29850000
         AIF   (&SDSP21L  EQ  1).SETSP21   GLOBAL LIST FORM    @G860P31 29900000
         AIF   (&SDSP21E  EQ  1).SETSP21   GLOBAL EXECUTE FORM @G860P31 29950000
         AIF   (&SDSPLST  EQ  0).SDFORM3   SUBPLST SPECIFIED   @G860P31 30000000
.SETSP21 ANOP                 INDICATE NEW PARM LIST SPECIFIED @G860P31 30050000
&SDSP21P SETB  1         SET HBB2102 PARAMETER LIST INDICATOR  @G860P31 30100000
&SDSE3PM SETB  1      DEFAULT JBB1226 WHEN HBB2102 IS PRESENT  @G860P31 30150000
.SDFORM3 ANOP                                                  @G860P31 30200000
         AIF   ('&PLVER' NE '2').SDFORM4                           @T1A 30208300
&SDSP21P SETB  1         SET HBB2102 PARMAMETER LIST INDICATOR     @T1C 30216600
&SDVRSNB SETB  1         INDICATE VERSION BIT AND NUMBER           @T1A 30224900
&SDSE3PM SETB  1      DEFAULT JBB1226 WHEN HBB2102 IS PRESENT      @T1C 30233200
.SDFORM4 ANOP                                                      @T1A 30241500
.*                                                                      31200000
.********************************************************************** 31250000
.*                                                                      31300000
.*   MAKE FINAL CORRECTIONS TO THE SDFLAG BYTES.                        31350000
.*                                                             @G860P31 31400000
.********************************************************************** 31450000
.*                                                                      31500000
.*       RESET SDFLAG1 FOR JBB1226 BIT                         @G383P1U 31550000
&SDFLAG1 SETA  &SDFLAG1+1*&SDSE3PM  SET SDFLAG1 FOR JBB1226 PARMS       31600000
.*                                                             @G383P1U 31650000
.*       RESET SDFLAG2 FOR JBB1226 SUSPEND PARAMETER           @G386P31 31700000
&SDFLAG2 SETA  &SDFLAG2+32*&SDSPEND+16*&SDSPLST+8*&SDKYLST     @G860P31 31750000
.*       SET SDFLAG2 FOR JBB1226 AND HBB2102 PARAMETERS        @G860P31 31800000
&SDCNTL1 SETA  &SDCNTL1+128*&SDSP21P+64*&SDVRSNB+&SDSRB            @T2C 31850000
.*       SET SDCNTL1 FOR HBB2102 PARMS + LATER ADDITIONS       @G860P31 31900000
.*                                                                      31950000
.********************************************************************** 32000000
.*                                                                      32050000
.*  SET UP DISPLACEMENTS AND LENGTHS FOR THE 3 TYPES OF EXPANSIONS.     32100000
.*                                                                      32150000
.*  1. CALCULATE THE NUMBER OF ADDRESSES SPECIFIED WITH STORAGE.        32200000
.*  2. CALCULATE LENGTH OF THE FIXED PART OF THE PARAMETER LIST.        32250000
.*  3. CALCULATE THE DISPLACEMENT OF THE STORAGE LIST.                  32300000
.*  4. CALCULATE THE DISPLACEMENT OF THE USER DATA (HDR).               32350000
.*                                                             @G860P31 32400000
.********************************************************************** 32450000
.*                                                                      32500000
&STRCNT  SETA  0                  DEFAULT COUNT OF 0           @G860P31 32550000
         AIF   ('&STORAGE' EQ '').SD91 CHECK FOR STORAGE       @G860P31 32600000
&STRCNT  SETA  N'&STORAGE         NUMBER OF STORAGE ADDRESSES  @G860P31 32650000
.SD91    ANOP                     NOW CALC DISPLACEMENTS       @G860P31 32700000
&DISP1   SETA  40                 SU33 DEFAULT PARM LIST LEN   @G860P31 32750000
         AIF   (&SDSE3PM EQ 0).SD92 CHECK FOR JBB1226          @G860P31 32800000
&DISP1   SETA  48                 JBB1226 PARAMETER LIST LENGTH         32850000
.*                                                             @G860P31 32900000
         AIF   (&SDSP21P EQ 0).SD92 CHECK FOR HBB2102          @G860P31 32950000
&DISP1   SETA  68                 HBB2102 PARAMETER LIST LENGTH         33000000
.*                                                             @G860P31 33050000
.SD92    ANOP                     FIXED PARAMETER LIST LENGTH  @G860P31 33100000
.*                                IS NOW KNOWN                 @G860P31 33150000
         AIF   ('&PLVER' NE '2').SD93  CHECK FOR MDUMP VERSION     @T1A 33162500
&DISP1   SETA  128                MDUMP LENGTH                     @T1A 33175000
.SD93    ANOP                                                      @T1A 33187500
&DISP2   SETA  &DISP1+(4*&STRCNT) THE USER DATA STARTS AFTER   @G860P31 33200000
.*                                THE STORAGE LIST             @G860P31 33250000
.*                                                                      33300000
.********************************************************************** 33350000
.*                                                                      33400000
.*   DETERMINE WHICH MACRO FORMAT EXPANSION TO DO.                      33450000
.*   STANDARD FORM, EXECUTE OR LIST.                                    33500000
.*                                                             @G860P31 33550000
.********************************************************************** 33600000
.*                                                                      33650000
         AIF   ('&MF' EQ '').STFORM          IS IT STANDARD FORM        33700000
         AIF   ('&MF' EQ 'L').LSTFORM        IS IT LIST FORM            33750000
         AIF   ('&MF'(1,3) NE '(E,').MESG7   ELSE, IF NOT EXECUTE, ERR  33800000
.*                                                                      33850000
.*                                                                      33900000
.*                                                                      33950000
.********************************************************************** 34000000
.*                                                                      34050000
.*       EXECUTE FORM EXPANSION OF MACRO                                34100000
.*                                                             @G860P31 34150000
.********************************************************************** 34200000
.*                                                                      34250000
.*                                                                      34300000
.*                                                                      34350000
         AIF   (&SDSE3PM  EQ  0).SDEX1 IF ANY JBB1226 PARMS WERE        34400000
.*                                                   SPECIFIED @G383P1U 34450000
&SDSE3EX SETB  1       INDICATE JBB1226 PARMS SPECIFIED ON EXEC FORM    34500000
.*                     THIS IS SO FUTURE LIST FORMS OF THE SDUMP MACRO  34550000
.*                     USE THE JBB1226 PARAMETER LIST LENGTH.  @G860P31 34600000
         AIF   (&SDSP21P  EQ  0).SDEX1 IF ANY HBB2102 PARM SPECIFIED    34650000
.*                                                             @G860P31 34700000
&SDSP21E SETB  1       INDICATE HBB2102 PARMS SPECIFIED ON EXEC FORM    34750000
.*                     THIS IS SO FUTURE LIST FORMS OF THE SDUMP MACRO  34800000
.*                     USE THE HBB2102 PARAMETER LIST LENGTH.  @G860P31 34850000
.SDEX1   ANOP                                                  @G383P1U 34900000
         AIF   ('&NAME' EQ '').SDEX2        IS NAME SPECIFIED           34950000
&NAME    DS    0H                                                       35000000
.SDEX2   AIF   ('&MF(2)' EQ '').MESG5E      ERROR IF MISSING   @G860P31 35050000
         IHBSETR   &MF(2),1                 LOAD REG 1 WITH LIST ADDR   35100000
.************************* EXECUTE FORM  ****************************** 35150000
.*                                                                      35200000
.* MAKE SURE NO STORAGE IS ALTERED ON AN EXECUTE FORM OF THE            35250000
.*  SDUMP MACRO WHEN THE ONLY PARAMETER SPECIFIED IS MF.                35300000
.*                                                            @ZA51194  35350000
.********************************************************************** 35400000
         AIF   ('&HDR' NE '' OR  '&HDRAD' NE '' OR '&DCB' NE '' OR '&AS*35450000
               ID' NE '' OR '&ASIDLST' NE '' OR '&ECB' NE '' OR '&SDATA*35500000
               ' NE '' OR '&STORAGE' NE '' OR '&LIST' NE '').SDEX2A     35550000
.*                                                             @ZA51194 35600000
         AIF   ('&SUMLIST' NE '' OR '&BUFFER' NE '' OR '&QUIESCE' NE ''*35650000
               OR '&LISTA' NE '' OR '&TYPE' NE '' OR '&SUMLSTA' NE '' O*35700000
               R '&SUSPEND' NE '' OR '&BRANCH' NE '').SDEX2A   @ZA51194 35750000
         AIF   ('&SUSPEND' NE '' OR '&SUBPLST' NE '' OR '&KEYLIST' NE '*35800000
               ' OR '&SRB' NE '').SDEX2A                           @L4C 35850000
         AIF   ('&SYMREC' NE '' OR '&ID' NE '' OR '&IDAD' NE '' OR '&PS*35860000
               WREGS' NE '').SDEX2A                                @T1A 35870000
         AIF   ('&PLISTVER' EQ '').SDEX49                          @T1A 35880000
         MVI   43(1),&PLVER                 SET VERSION NUMBER     @T1A 35890000
         AGO   .SDEX49                                         @ZA51194 35900000
.*                                                             @ZA51194 35950000
.SDEX2A  ANOP                                                           36000000
.*                                                                      36050000
.*                                                                      36100000
.************************* EXECUTE FORM  ****************************** 36150000
.*                                                                      36200000
.*       PROCESS 1ST 4 FLAG BYTES                                       36250000
.*                                                             @G860P31 36300000
.********************************************************************** 36350000
.*                                                                      36400000
         AIF   ('&PLVER' EQ '1').SDEX61                            @T1A 36412500
         MVI   43(1),&PLVER                 SET VERSION NUMBER     @T1A 36425000
.SDEX61  ANOP                                                      @T1A 36437500
         AIF   ('&QUIESCE' NE '').SDEX3     IS QUIESCE SPECIFIED        36450000
&SDFLAG0 SETA  &SDFLAG0-2                   NO, LEAVE AS SPECIFIED ON L 36500000
.*             SUBTRACT 2 TO REMOVE THE DEFAULTED QUIESCE=YES  @G860P31 36550000
.SDEX3   AIF   ('&SDFLAG0' EQ '0').SDEX3A   ANY OPTIONS TO TURN ON      36600000
         OI    0(1),&SDFLAG0                SET OPTION FLAGS            36650000
.SDEX3A  AIF   ('&BUFFER' EQ 'NO').SDEX4    BUFFER NOT REQUESTED        36700000
         AGO   .SDEX6                       GO CHECK FOR QUIESCE        36750000
.SDEX4   ANOP                                                           36800000
         NI    0(1),X'BF'                   TURN OFF BUFFER FLAG        36850000
.SDEX6   AIF   ('&QUIESCE' EQ 'NO').SDEX8   QUIESCE NOT REQUESTED       36900000
         AGO   .SDEX10                      GO SET SVC DUMP FLAG        36950000
.SDEX8   ANOP                                                           37000000
         NI    0(1),X'FD'                   TURN OFF QUIESCE FLAG       37050000
.SDEX10  ANOP                                                           37100000
         AIF  ('&SDFLAG1' EQ '0').SDEX11 ANY OPTIONS TO TURN ON         37150000
.*                                                             @G383P1U 37200000
         OI    1(1),&SDFLAG1                SET OPTION BITS             37250000
.SDEX11  ANOP                                                  @G33VPHD 37300000
         AIF   ('&SDATA' EQ '').SDEX12      IS SDATA OPTIONS SPECIFIED  37350000
         MVI   2(1),&SDATAF1                SET OPTION FLAGS            37400000
         MVI   3(1),&SDATAF2                SET OPTION FLAGS            37450000
         AIF   ('&PLVER' EQ '1').SDEX62                            @T1A 37462500
         MVI   46(1),&SDAT3                 SET OPTION FLAGS            37475000
.SDEX62  ANOP                                                      @T1A 37487500
.*                                                                      37500000
.************************* EXECUTE FORM  ****************************** 37550000
.*                                                                      37600000
.*       PROCESS DCB OPTION                                             37650000
.*                                                             @G860P31 37700000
.********************************************************************** 37750000
.*                                                                      37800000
.SDEX12  AIF   ('&DCB' EQ '').SDEX15        IS DCB SPECIFIED            37850000
         IHBSETR   &DCB,0                   LOAD REG 0 WITH DCB ADDR    37900000
         ST    0,4(1,0)               ADDR OF DCB INTO PARAM LISTYM1995 37950000
.SDEX15  ANOP                                                           38000000
.*                                                                      38050000
.************************* EXECUTE FORM  ****************************** 38100000
.*                                                                      38150000
.*       PROCESS LIST, LISTA, OR STORAGE OPTION                         38200000
.*                                                             @G860P31 38250000
.********************************************************************** 38300000
.*                                                                      38350000
         AIF   ('&LIST' EQ '').SDEX16       IS LIST SPECIFIED  @G383P1U 38400000
         IHBSETR   &LIST,0                  LOAD REG 0 WITH LIST ADDR   38450000
         ST    0,8(1,0)               ADDR OF LIST INTO PARAM LSTYM1995 38500000
         AGO   .SDEX25                      GO CHECK FOR USER DATA      38550000
.SDEX16  ANOP                LISTA OPTION PROCESSING           @G383P1U 38600000
         AIF   ('&LISTA' EQ '').SDEX20   IS LISTA SPECIFIED    @G383P1U 38650000
         IHBSETR    &LISTA,0      LOAD R0 WITH LISTA ADDRESS   @G383P1U 38700000
         ST    0,8(1)             PUT LISTA ADDR IN PARM LIST  @G383P1U 38750000
         AGO   .SDEX25            GO CHECK FOR USERS DATA      @G383P1U 38800000
.SDEX20  AIF   ('&STORAGE' EQ '').SDEX25    IS STORAGE SPECIFIED        38850000
         LA    15,&DISP1.(1)      NEW ADDRESS OF THE STORAGE LIST AT    38900000
.*                                THE END OF THE PARAMETER LIST POINTED 38950000
.*                                TO BY MF=(E,PARM ADDRESS)    @G860P31 39000000
         ST    15,8(1)            PLACE NEW STORAGE LIST ADDRESS IN THE 39050000
.*                                PARAMETER LIST               @G860P31 39100000
&DISP    SETA  -4                 DISPLACEMENT OF ADDR IN STORAGE LIST  39150000
&CTR1    SETA  N'&STORAGE         NUMBER OF ADDRESSES SPECIFIED         39200000
&CTR2    SETA  0                  POSITION NUMBER OF ADDR WORKING ON    39250000
.LOOPC1  ANOP                                                           39300000
&DISP    SETA  &DISP+4                 DISP OF NEXT ADDR IN STORAGE LST 39350000
&CTR2    SETA  &CTR2+1                 POSITION NUMBER OF NEXT ADDRESS  39400000
         IHBSETR   &STORAGE(&CTR2),0   PUT STORAGE ADDRESS IN REG 0     39450000
         ST    0,&DISP.(0,15)          STORAGE ADDR INTO STORAGE LIST   39500000
&CTR1    SETA  &CTR1-1                 NUMBER OF REMAINING ADDRESSES    39550000
         AIF   (&CTR1 NE 0).LOOPC1   ANY MORE ADDRESSES                 39600000
         OI    &DISP.(15),X'80'      SET END OF LIST INDICATOR          39650000
.*                                                                      39700000
.************************* EXECUTE FORM  ****************************** 39750000
.*                                                                      39800000
.*       PROCESS USER DATA, HDR OR HDRAD                                39850000
.*                                                             @G860P31 39900000
.********************************************************************** 39950000
.*                                                                      40000000
.SDEX25  AIF   ('&HDRAD' EQ '').SDEX30      IS HDRAD SPECIFIED          40050000
         IHBSETR   &HDRAD,0                 LOAD REG0 WITH HDR RCD ADDR 40100000
         ST    0,12(1,0)              ADDR OF USER DATA INTO LISTYM1995 40150000
         AGO   .SDEX35                      GO CHECK FOR ECB            40200000
.SDEX30  AIF   ('&HDR' EQ '').SDEX35        IS HDR SPECIFIED            40250000
&GNAME   SETC  'IHB'.'&SYSNDX'              GET A UNIQUE SYMBOL         40300000
         BAL   15,&GNAME                    BRANCH AROUND USER DATA     40350000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         40400000
         DC    AL1(&CTR1)                   LENGTH OF USER DATA         40450000
         DC    C&HDR                        USER DATA                   40500000
.*       CNOP  2,4                                                      40550000
&GNAME   DS    0H                                                       40600000
         ST    15,12(1,0)             ADDR OF USER DATA INTO LISTYM1995 40650000
.*                                                                      40700000
.************************* EXECUTE FORM  ****************************** 40750000
.*                                                                      40800000
.*       PROCESS ECB OPTION                                             40850000
.*                                                             @G860P31 40900000
.********************************************************************** 40950000
.*                                                                      41000000
.SDEX35  AIF   ('&ECB' EQ '').SDEX38        IS ECB SPECIFIED       @L4C 41050000
         AIF   ('&ECB'(1,1) EQ '(').SDEX37  IS ADDR OF ECB IN A REG     41100000
         L     15,&ECB                      ADDRESS OF ECB              41150000
         ST    15,16(1,0)             ADDR OF ECB INTO PARAM LISTYM1995 41200000
         AGO   .SDEX40                      GO CHECK FOR ASID           41250000
.SDEX37  ANOP                                                           41300000
         ST    &ECB,16(1,0)           ADDR OF ECB INTO PARAM LISTYM1995 41350000
.*                                                                      41400000
.************************* EXECUTE FORM  ****************************** 41450000
.*                                                                      41500000
.*       PROCESS SRB OPTION                                             41503300
.*                                                                 @L4A 41506600
.********************************************************************** 41509900
.*                                                                 @L4A 41513200
.SDEX38  AIF   ('&SRB' EQ '').SDEX40        IS SRB SPECIFIED       @L4A 41516500
         AIF   ('&SRB'(1,1) EQ '(').SDEX39 IS ADDR OF SRB IN A REG @L4A 41519800
         L     15,&SRB                      ADDRESS OF SRB         @L4A 41523100
         ST    15,16(1,0)             ADDR OF SRB INTO PARAM LIST  @L4A 41526400
         AGO   .SDEX40                      GO CHECK FOR ASID      @L4A 41529700
.SDEX39  ANOP                                                      @L4A 41533000
         ST    &SRB,16(1,0)           ADDR OF SRB INTO PARAM LIST  @L4A 41536300
.*                                                                 @L4A 41539600
.************************* EXECUTE FORM  ****************************** 41542900
.*                                                                      41546200
.*       PROCESS ASID OR ASIDLST OPTION                                 41550000
.*                                                             @G860P31 41600000
.********************************************************************** 41650000
.*                                                                      41700000
.SDEX40  AIF   ('&ASID' EQ '').SDEX45       IS ASID SPECIFIED           41750000
         AIF   ('&ASID'(1,1) EQ '(').SDEX42 IS ASID IN A REGISTER       41800000
         LH    0,&ASID                      ASID OF MEMORY TO BE DUMPED 41850000
         STH   0,22(1,0)              ASID INTO PARAMETER LIST   YM1995 41900000
         AGO   .SDEX47                  GO CHECK FOR SUMLIST   @GXXXPXX 41950000
.*                                                             @G33VPHD 42000000
.SDEX42  ANOP                                                           42050000
         STH   &ASID,22(1,0)          ASID INTO PARAMETER LIST   YM1995 42100000
         AGO   .SDEX47                      GO CHECK FOR SUMLIST        42150000
.*                                                             @G33VPHD 42200000
.SDEX45  AIF   ('&ASIDLST' EQ '').SDEX47 IF ASIDLIST SPECIFIED          42250000
.*                                                             @G33VPHD 42300000
         IHBSETR   &ASIDLST,0           LOAD REG 0 WITH ASIDLIST ADDR   42350000
.*                                                             @G33VPHD 42400000
         ST    0,24(1)                  ADDR ASIDLIST INTO PARM LIST    42450000
.*                                                             @G33VPHD 42500000
.*                                                                      42550000
.************************* EXECUTE FORM  ****************************** 42600000
.*                                                                      42650000
.*       PROCESS SUMLIST OR SUMLSTA OPTION                              42700000
.*                                                             @G860P31 42750000
.********************************************************************** 42800000
.*                                                                      42850000
.SDEX47  AIF   ('&SUMLIST' EQ '').SDEX48 IF SUMLIST SPECIFIED  @G383P1U 42900000
         IHBSETR   &SUMLIST,0           LOAD REG 0 WITH SUMLIST ADDR    42950000
.*                                                             @G33VPHD 43000000
         ST    0,28(1)                  ADDR SUMLIST INTO PARM LIST     43050000
.SDEX48  ANOP                                                  @G383P1U 43100000
         AIF   ('&SUMLSTA' EQ '').SDEX48A IS SUMLSTA SPECIFIED @G383P1U 43150000
         IHBSETR    &SUMLSTA,0    LOAD R0 WITH SUMLSTA ADDRESS @G383P1U 43200000
         ST    0,28(1)           MOVE SUMLSTA ADDR TO PARMLIST @G383P1U 43250000
.*                                                                      43300000
.************************* EXECUTE FORM  ****************************** 43350000
.*                                                                      43400000
.*       PROCESS FLAG BYTES FOR SDFALG2, TYPE OPTION, AND EXITS.        43450000
.*                                                             @G860P31 43500000
.********************************************************************** 43550000
.*                                                                      43600000
.SDEX48A AIF   ('&SDFLAG2' EQ '0').SDEX48B  ANY FLAG2 FIELDS   @G383P1U 43650000
         OI    40(1),&SDFLAG2    SET OPTION FLAGS              @G383P1U 43700000
.SDEX48B AIF   ('&SDCNTL1' EQ '0').SDEX48C  ANY CNTL OPTIONS   @G860P31 43750000
         OI    41(1),&SDCNTL1               SET CONTROL FLAGS  @G860P31 43800000
.SDEX48C AIF   ('&SDTYPF1' EQ '0').SDEX48D  ANY TYPE OPTIONS   @G383P1U 43850000
         OI    42(1),&SDTYPF1               SET TYPE FLAGS     @G383P1U 43900000
.SDEX48D AIF   ('&SDATAF3' EQ '0').SDEX48E  ANY EXIT OPTIONS   @G383P1U 43950000
         OI    44(1),&SDATAF3               SET EXIT FLAGS     @G383P1U 44000000
.*                                                                      44050000
.************************* EXECUTE FORM  ****************************** 44100000
.*                                                                      44150000
.*       PROCESS  SUBPLST  AND  KEYLIST  OPTIONS.                       44200000
.*                                                             @G860P31 44250000
.********************************************************************** 44300000
.*                                                                      44350000
.SDEX48E AIF   (&SDSPLST EQ 0).SDEXM00 IS SUBPLST SPECIFIED        @T1A 44400000
         IHBSETR &SUBPLST,0           LOAD SUBPLST ADDRESS     @G860P31 44450000
         ST    0,48(1)                      STORE SUBPLST ADDR @G860P31 44500000
         AIF   (&SDKYLST EQ 0).SDEXM00 IS KEYLIST SPECIFIED        @T1A 44550000
         IHBSETR &KEYLIST,0           LOAD KEYLIST ADDRESS     @G860P31 44600000
         ST    0,52(1)                      STORE KEYLIST ADDR @G860P31 44650000
.*                                                                      44700000
.************************* EXECUTE FORM  ****************************** 44750000
.*                                                                      44800000
.*       PROCESS  PSWREGS OPTION                                        44801100
.*                                                                 @T1A 44802200
.********************************************************************** 44803300
.*                                                                      44804400
.SDEXM00 AIF   (&SDPREG EQ 0).SDEXM01 IS PSWREGS SPECIFIED         @T1A 44805500
         IHBSETR &PSWREGS,0           LOAD PSWREGS ADDRESS         @T1A 44806600
         ST    0,104(,1)                    STORE PSWREGS ADDR     @T1A 44807700
.*                                                                      44808800
.************************* EXECUTE FORM  ****************************** 44809900
.*                                                                      44811000
.*       PROCESS  SYMREC OPTION                                         44812100
.*                                                                 @T1A 44813200
.********************************************************************** 44814300
.*                                                                      44815400
.SDEXM01 AIF   (&SDSRS EQ 0).SDEXM02  IS SYMREC SPECIFIED          @T1A 44816500
         IHBSETR &SYMREC,0            LOAD SYMREC ADDRESS          @T1A 44817600
         ST    0,112(,1)                    STORE SYMREC ADDR      @T1A 44818700
.*                                                                      44819800
.************************* EXECUTE FORM  ****************************** 44820900
.*                                                                      44822000
.*       PROCESS ID/IDAD                                                44823100
.*                                                                 @T1A 44824200
.********************************************************************** 44825300
.*                                                                      44826400
.SDEXM02 AIF   ('&IDAD' EQ '').SDEXM03      IS IDAD SPECIFIED      @T1A 44827500
         IHBSETR   &IDAD,0                  GET ADDRESS OF ID      @T1A 44828600
         ST    0,120(0,1)                   SAVE IDAD INTO LIST    @T1A 44829700
         AGO   .SDEXM04                     CHECK FURTHER          @T1A 44830800
.SDEXM03 AIF   ('&ID' EQ '').SDEXM04        IS ID SPECIFIED        @T1A 44831900
&GNAME   SETC  'IHB'.'&SYSNDX.'.'A'         GET A UNIQUE SYMBOL    @T1A 44833000
         BAL   15,&GNAME                    BRANCH AROUND DATA     @T1A 44834100
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1A 44835200
&TEMP    SETC  'IHB'.'&SYSNDX.'.'I'                                @T1A 44836300
&TEMP    DC    AL1(&CTR1)                   LENGTH OF ID           @T1A 44837400
         DC    C&ID                         ID                     @T1A 44838500
&GNAME   DS    0H                                                  @T1A 44839600
         ST    15,120(0,1)                  SAVE IDAD INTO LIST    @T1A 44840700
.SDEXM04 ANOP                                                      @T1A 44841800
.*                                                                      44842900
.*                                                                      44844000
.************************* EXECUTE FORM  ****************************** 44845100
.*                                                                      44846200
.*       CLOSE OUT THE EXECUTE FORM EXPANSION.                          44850000
.*                                                             @G860P31 44900000
.********************************************************************** 44950000
.*                                                                      45000000
.SDEX49  ANOP                                                  @G383P1U 45050000
         AIF   (&SDLISTF  EQ  0).SDEX49B  IF NO PREV LIST FORM @G860P31 45100000
         AIF   (&SDSE3LT  EQ  1).SDEX49A  IF JBB1226 LIST FORM @G383P1U 45150000
         AIF   (&SDSE3EX  EQ  1).MESG14  EXEC AND LIST DONT MATCH       45200000
.*                                                             @G383P1U 45250000
.SDEX49A AIF   (&SDSP21L  EQ  1).SDEX49B  IF HBB2102 LIST FORM @G860P31 45300000
         AIF   (&SDSP21E  EQ  1).MESG14  EXEC AND LIST DONT MATCH       45350000
.*                                                             @G860P31 45400000
.SDEX49B AIF   ('&BRANCH' EQ 'YES').SDEX50  IS A BRANCH ENTRY  @G383P1U 45450000
         SVC   51                           INVOKE SVC DUMP VIA SVC     45500000
         AGO   .SDEND                       GO END MACRO PROCESSING     45550000
.SDEX50  ANOP                                                           45600000
         L     15,CVTPTR(0,0)               ADDRESS OF CVT       YM1995 45650000
         L     15,CVTSDMP-CVTMAP(15,0)  ADDRESS OF SVC DUMP ENTRYYM1995 45700000
         BALR  14,15                        INVOKE SVC DUMP VIA BAL     45750000
         AGO   .SDEND                       GO END MACRO PROCESSING     45800000
.*                                                                      45850000
.*                                                                      45900000
.*                                                                      45950000
.************************ LIST FORM *********************************** 46000000
.*                                                                      46050000
.*       LIST FORM EXPANSION BEGINS HERE                                46100000
.*                                                             @G860P31 46150000
.********************************************************************** 46200000
.*                                                                      46250000
.*                                                                      46300000
.*                                                                      46350000
.LSTFORM ANOP                                                           46400000
&SDLISTF SETB  1         INDICATE LIST FORM HAS BEEN SPECIFIED @G383P1U 46450000
         AIF   (&SDSE3PM  EQ  0).SDLST01  ANY JBB1226 PARMS WERE        46500000
.*                                                   SPECIFIED @G860P31 46550000
&SDSE3LT SETB  1       INDICATE JBB1226 PARMS SPECIFIED ON LIST FORM    46600000
.*                     THIS IS SO FUTURE EXECUTE FORMS OF SDUMP MACRO   46650000
.*                     USE THE JBB1226 PARAMETER LIST LENGTH.  @G860P31 46700000
         AIF   (&SDSP21P  EQ  0).SDLST01  IF  HBB2102 PARM SPECIFIED    46750000
.*                                                             @G860P31 46800000
&SDSP21L SETB  1       INDICATE HBB2102 PARMS SPECIFIED ON LIST FORM    46850000
.*                     THIS IS SO FUTURE EXECUTE FORMS OF  SDUMP MACRO  46900000
.*                     USE THE HBB2102  PARAMETER LIST LENGTH. @G860P31 46950000
.SDLST01 ANOP                                                  @G860P31 47000000
&NAME    DS    0F                           SDUMP PARAMETER LIST        47050000
.*                                                                      47100000
.************************ LIST FORM *********************************** 47150000
.*                                                                      47200000
.*       PROCESS 1ST 4 FLAG BYTES  AND  DCB                             47250000
.*                                                             @G860P31 47300000
.********************************************************************** 47350000
.*                                                                      47400000
         DC    AL1(&SDFLAG0)                FLAG BYTE                   47450000
         DC    AL1(&SDFLAG1)                FLAG BYTE                   47500000
         DC    AL1(&SDATAF1)                FLAG BYTE                   47550000
         DC    AL1(&SDATAF2)                FLAG BYTE                   47600000
         AIF   ('&DCB' EQ '').SDLST10       IS DCB SPECIFIED            47650000
         AIF   ('&DCB'(1,1) EQ '(').MESG1   IS DCB ADDRESS IN A REG     47700000
         DC    A(&DCB)                      ADDRESS OF DCB              47750000
         AGO   .SDLST15                     GO CHECK FOR STORAGE ADDR   47800000
.SDLST10 ANOP                                                           47850000
         DC    A(0)                         ADDRESS OF DCB              47900000
.*                                                                      47950000
.************************ LIST FORM *********************************** 48000000
.*                                                                      48050000
.*       PROCESS STORAGE, LIST OR LISTA OPTION.                         48100000
.*                                                             @G860P31 48150000
.********************************************************************** 48200000
.*                                                                      48250000
.SDLST15 AIF   ('&SDSTOR' NE '0').SDLST16   STORAGE/LIST SPEC @G383P1U  48300000
         AIF   ('&LISTA' EQ '').SDLST24     IS LISTA SPECIFIED @G383P1U 48350000
         AIF   ('&LISTA'(1,1) EQ '(').MESG1  CHECK FOR R FORM  @G383P1U 48400000
         DC    A(&LISTA)               ADDRESS OF STORAGE LIST @G383P1U 48450000
         AGO   .SDLST25                     LISTA OPTION DONE  @G383P1U 48500000
.SDLST16 AIF   ('&LIST' EQ '').SDLST20      IS LIST SPECIFIED           48550000
         AIF   ('&LIST'(1,1) EQ '(').MESG1  IS LIST ADDRESS IN A REG    48600000
         DC    A(&LIST)                     ADDRESS OF STORAGE LIST     48650000
         AGO   .SDLST25                     GO CHECK FOR USER DATA      48700000
.SDLST20 ANOP                               STORAGE SPECIFIED  @G860P31 48750000
         DC    A(*-8+&DISP1)        ADDRESS OF STORAGE LIST    @G860P31 48800000
.*             (*-8) POINTS TO THE FRONT OF THE PARAMETER LIST @G860P31 48850000
.*             DISP1 IS THE OFFSET TO THE END OF THE PARAMETER @G860P31 48900000
.*             LIST, WHICH IS WHERE THE STORAGE ADDRESSES ARE  @G860P31 48950000
.*             BUILT INTO THE PARAMETER LIST.                  @G860P31 49000000
         AGO   .SDLST25                SKIP NULL DECLARE       @G383P1U 49050000
.SDLST24 ANOP                                                           49100000
         DC    A(0)                         ADDRESS OF STORAGE LIST     49150000
.*                                                                      49200000
.************************ LIST FORM *********************************** 49250000
.*                                                                      49300000
.*       PROCESS USER DATA, HDR OR HDRAD OPTION.                        49350000
.*                                                             @G860P31 49400000
.********************************************************************** 49450000
.*                                                                      49500000
.SDLST25 ANOP                                                           49550000
         AIF   ('&SDHDR' EQ '0').SDLST38    IS USER DATA SPECIFIED      49600000
         AIF   ('&HDRAD' NE '').SDLST35     IS HDRAD SPECIFIED          49650000
         DC    A(*-12+&DISP2)               HDR ADDRESS        @G860P31 49700000
.*             (*-12) IS THE ADDRESS OF THE BEGINNING OF THE   @G860P31 49750000
.*             DISP2 IS THE OFFSET OF THE USER DATA (HDR) FROM @G860P31 49800000
.*             THE BEGINNING OF THE PARAMETER LIST.  DISP2     @G860P31 49850000
.*             IS EQUAL TO THE LENGTH OF THE FIXED PART OF THE @G860P31 49900000
.*             PARAMETER LIST PLUS THE LENGTH OF THE STORAGE   @G860P31 49950000
.*             ADDRESS LIST.                                   @G860P31 50000000
         AGO   .SDLST40                     GO DEFINE REST OF PARAM LST 50050000
.SDLST35 AIF   ('&HDRAD'(1,1) EQ '(').MESG1 IS ADDR OF USER DATA IN REG 50100000
         DC    A(&HDRAD)                    ADDRESS OF USER DATA        50150000
         AGO   .SDLST40                     GO DEFINE REST OF PARAM LST 50200000
.SDLST38 ANOP                                                           50250000
         DC    A(0)                         ADDRESS OF USER DATA        50300000
.*                                                                      50350000
.************************ LIST FORM *********************************** 50400000
.*                                                                      50450000
.*       SAVE SPOTS FOR ECB/SRB, ASID, AND ASIDLST.  THESE OPTIONS ARE  50500000
.*       NOT ALLOWED ON THE LIST FORM.                                  50550000
.*                                                                 @L4C 50553800
.********************************************************************** 50557600
.*                                                                      50561400
.SDLST40 ANOP                                                           50565200
         DC    A(0)                         ADDRESS OF ECB/SRB     @L4A 50569000
         DC    AL2(0)                       CURRENT ASID                50572800
         DC    AL2(0)                       OTHER ASID                  50576600
         DC    A(0)                         ADDRESS OF ASID LIST        50580400
.*                                                                      50584200
.************************ LIST FORM *********************************** 50588000
.*                                                                      50591800
.*       PROCESS SUMLIST OR SUMLSTA OPTION.                             50595600
.*                                                             @G860P31 50600000
.********************************************************************** 50650000
.*                                                                      50700000
         AIF   (&SDSUMLT EQ 0).SDLST45 IF SUMLIST NO SPECIFIED @G383P1U 51350000
         AIF   ('&SUMLIST'(1,1) EQ '(').MESG1 REGISTER INVALID @G383P1U 51400000
         DC    A(&SUMLIST)                 ADDRESS OF SUMLIST  @G383P1U 51450000
         AGO   .SDLST50                                        @G383P1U 51500000
.SDLST45 ANOP                                                  @G383P1U 51550000
         AIF   (&SDSMLTA EQ 0).SDLST49 IF SUMLSTA NO SPECIFIED @G383P1U 51600000
         AIF   ('&SUMLSTA'(1,1) EQ '(').MESG1 REGISTER INVALID @G383P1U 51650000
         DC    A(&SUMLSTA)                  ADDRESS OF SUMLSTA @G383P1U 51700000
         AGO   .SDLST50                                        @G383P1U 51750000
.SDLST49 ANOP                                                  @G383P1U 51800000
         DC    A(0)           ADDRESS OF SUMLIST/SUMLSTA LIST  @G383P1U 51850000
.*                                                                      51900000
.************************ LIST FORM *********************************** 51950000
.*                                                                      52000000
.*       2 WORDS RESERVED FOR SLIP AND SYSMDUMP PURPOSES.               52050000
.*                                                             @G860P31 52100000
.********************************************************************** 52150000
.*                                                                      52200000
.SDLST50 ANOP                                                           52250000
         DC    A(0)                      RESERVED              @G33VPHD 52300000
         DC    A(0)                      RESERVED              @G33VPHD 52350000
.*                                                                      52400000
.************************ LIST FORM *********************************** 52450000
.*                                                                      52500000
.*       JBB1226 EXPANDED PARAMETER LIST STARTS HERE.                   52550000
.*                                                             @G860P31 52600000
.********************************************************************** 52650000
.*                                                                      52700000
         AIF   (&SDSE3PM  EQ  0).SDLST59 IF NO JBB1226 PARMS THEN SKIP  52750000
.*                                       THE EXPANDED SECTION  @G383P1U 52800000
         DC    AL1(&SDFLAG2)             FLAG BYTE             @G383P1U 52850000
         DC    AL1(&SDCNTL1)             CONTROL FLAG BYTE     @G860P31 52900000
         DC    AL1(&SDTYPF1)             TYPE FLAG BYTE        @G383P1U 52950000
         AIF   ('&PLVER' EQ '1').SDSTF23                           @T1A 52964200
         DC    AL1(&PLVER.)              VERSION                   @T1A 52978400
         AGO   .SDSTF24                                            @T1A 52992600
.SDSTF23 ANOP                                                      @T1A 53006800
         DC    AL1(0)                    VERSION                   @T1A 53021000
.SDSTF24 ANOP                                                      @T1A 53035200
         DC    AL1(&SDATAF3)             EXIT FLAG BYTE        @G383P1U 53050000
         DC    AL1(0)                    RESERVED SDATA/EXIT       @T1C 53075000
         DC    AL1(&SDAT3)               SDATA OPTIONS             @T1A 53100000
         DC    AL1(0)                    RESERVED SDATA OPTIONS    @T1A 53125000
.*                                                                      53150000
.************************ LIST FORM *********************************** 53200000
.*                                                                      53250000
.*     HBB2102 EXPANDED PARAMETER LIST STARTS HERE.                     53300000
.*                                                             @G860P31 53350000
.********************************************************************** 53400000
.*                                                                      53450000
         AIF   (&SDSP21P  EQ  0).SDLST59 IF NO HBB2102 PARMS THEN SKIP  53500000
.*                                       THE EXPANDED SECTION  @G860P31 53550000
         AIF   (&SDSPLST  EQ  0).SDLST55 CHECK FOR SUBPLST     @G860P31 53600000
         AIF   ('&SUBPLST'(1,1) EQ '(').MESG1 REG FORM INVALID @G860P31 53650000
         DC    A(&SUBPLST)               ADDRESS OF SUBPLST    @G860P31 53700000
         AIF   (&SDKYLST  EQ  0).SDLST56 CHECK FOR KEYLIST     @G860P31 53750000
         AIF   ('&KEYLIST'(1,1) EQ '(').MESG1 REG FORM INVALID @G860P31 53800000
         DC    A(&KEYLIST)               ADDRESS OF KEYLIST    @G860P31 53850000
         AGO   .SDLST57                  SKIP NEXT 2 DC STMTS  @G860P31 53900000
.SDLST55 ANOP                           FILL IN RESERVED SLOTS @G860P31 53950000
         DC    A(0)                      ADDRESS OF SUBPLST    @G860P31 54000000
.SDLST56 ANOP                           FILL IN RESERVED SLOTS @G860P31 54050000
         DC    A(0)                      ADDRESS OF KEYLIST    @G860P31 54100000
.SDLST57 ANOP                           FILL IN RESERVED SLOTS @G860P31 54150000
         DC    A(0)                      RESERVED                  @T1C 54158300
.*                                       RESERVED FOR SLIP              54166600
         AIF   ('&PLVER' EQ '2').PLVER2A                           @T1A 54174900
         DC    2A(0)                     RESERVED                  @T1A 54183200
         AGO   .PLVER2B                                            @T1A 54191500
.PLVER2A ANOP                                                      @T1A 54199800
         DC    11A(0)                    RESERVED FOR SP3.1.0      @T1C 54208100
         AIF   (&SDPREG  EQ  0).SDLST61 CHECK FOR PSWREGS          @T1A 54216400
         AIF   ('&PSWREGS'(1,1) EQ '(').MESG1 REG FORM INVALID     @T1A 54224700
         DC    A(&PSWREGS)               ADDRESS OF PSWREGS        @T1A 54233000
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54241300
         AGO   .SDLST62                  SKIP NEXT DC STMT         @T1A 54249600
.SDLST61 ANOP                            FILL IN RESERVED SLOTS    @T1A 54257900
         DC    A(0)                      ADDRESS OF PSWREGS        @T1A 54266200
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54274500
.SDLST62 ANOP                            END OF PSWREGS            @T1A 54282800
         AIF   (&SDSRS EQ  0).SDLST63 CHECK FOR SYMREC             @T1A 54291100
         AIF   ('&SYMREC'(1,1) EQ '(').MESG1 REG FORM INVALID      @T1A 54299400
         DC    A(&SYMREC)                ADDRESS OF SYMREC         @T1A 54307700
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54316000
         AGO   .SDLST64                  SKIP NEXT DC STMT         @T1A 54324300
.SDLST63 ANOP                            FILL IN RESERVED SLOTS    @T1A 54332600
         DC    A(0)                      ADDRESS OF SYMREC         @T1A 54340900
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54349200
.SDLST64 ANOP                            END OF SYMREC             @T1A 54357500
         AIF   (&SDIDAD  EQ  0).SDLST65 CHECK FOR IDAD             @T1A 54365800
         AIF   ('&IDAD'(1,1) EQ '(').MESG1 REG FORM INVALID        @T1A 54374100
         DC    A(&IDAD)                  ADDRESS OF IDAD           @T1A 54382400
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54390700
         AGO   .SDLST67                  SKIP NEXT DC STMT         @T1A 54399000
.SDLST65 ANOP                            FILL IN RESERVED SLOTS    @T1A 54407300
         AIF   (&SDID    EQ  0).SDLST66 CHECK FOR ID               @T1A 54415600
         AIF   ('&ID'(1,1) EQ '(').MESG1 REG FORM INVALID          @T1A 54423900
         DC    A(IHB&SYSNDX.I)           ADDRESS OF ID             @T1A 54432200
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54440500
         AGO   .SDLST67                  SKIP NEXT DC STMT         @T1A 54448800
.SDLST66 ANOP                            END OF ID/IDAD            @T1A 54457100
         DC    A(0)                      ADDRESS OF ID             @T1A 54465400
         DC    A(0)                      RESERVED FOR SDUMPX       @T1A 54473700
.SDLST67 ANOP                            END OF ID/IDAD            @T1A 54482000
.PLVER2B ANOP                                                      @T1A 54490300
.*                                                                      54500000
.************************ LIST FORM *********************************** 54550000
.*                                                                      54600000
.*       BUILD USER STORAGE LIST.                                       54650000
.*                                                             @G860P31 54700000
.********************************************************************** 54750000
.*                                                                      54800000
.SDLST59 ANOP                                                  @G383P1U 54850000
         AIF   ('&STORAGE' EQ '').SDLST60   BUILD STORAGE LIST          54900000
.*                                                             @G33VPHD 54950000
&CTR1    SETA  N'&STORAGE                   NUMBER OF STORAGE ADDRESSES 55000000
&CTR2    SETA   0                           POSITION NO. OF ADDRESS     55050000
.LOOPD1  ANOP                                                           55100000
&CTR2    SETA  &CTR2+1                      NUMBER OF NEXT ADDRESS      55150000
         AIF   ('&STORAGE(&CTR2)'(1,1) EQ '(').MESG1  ADDR IN A REG     55200000
         DC    A(&STORAGE(&CTR2))           STORAGE ADDRESS             55250000
&CTR1    SETA  &CTR1-1                      NUMBER OF REMAINING ADDR.S  55300000
         AIF   ('&CTR1' GT '1').LOOPD1      IF NOT LAST ADDRESS, LOOP   55350000
&CTR2    SETA  &CTR2+1                      NUMBER OF LAST ADDRESS      55400000
         AIF   ('&STORAGE(&CTR2)'(1,1) EQ '(').MESG1  ADDR IN A REG     55450000
         DC    AL4(X'80000000'+&STORAGE(&CTR2))  LAST ADDRESS           55500000
.*                                                                      55550000
.************************ LIST FORM *********************************** 55600000
.*                                                                      55650000
.*       BUILD USER DATA FOR HDR OPTION.                                55700000
.*                                                             @G860P31 55750000
.********************************************************************** 55800000
.*                                                                      55850000
.SDLST60 ANOP                                                           55900000
.*                                                             @G33VPHD 55950000
         AIF   ('&HDR' EQ '').SDLST70       IS USER DATA SPECIFIED @T1C 56000000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         56050000
         DC    AL1(&CTR1)                   LENGTH OF USER DATA         56100000
         DC    C&HDR                        USER DATA                   56150000
.************************ LIST FORM *********************************** 56200000
.*                                                                      56250000
.*       BUILD USER DATA FOR ID OPTION.                                 56260000
.*                                                                 @T1A 56270000
.********************************************************************** 56280000
.*                                                                      56290000
.SDLST70 ANOP                                                      @T1A 56300000
         AIF   ('&ID' EQ '').SDEND          IS USER DATA SPECIFIED @T1A 56310000
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1A 56320000
&TEMP    SETC  'IHB'.'&SYSNDX.'.'I'                                @T1A 56330000
&TEMP    DC    AL1(&CTR1)                   LENGTH OF USER DATA    @T1A 56340000
         DC    C&ID                         USER DATA              @T1A 56350000
         AGO   .SDEND                       END MACRO PROCESSING   @T1A 56360000
.*                                                                      56370000
.*                                                                      56380000
.*                                                                      56390000
.********************* STANDARD FORM ********************************** 56400000
.*                                                                      56450000
.*       STANDARD FORM EXPANSION STARTS HERE.                           56500000
.*                                                             @G860P31 56550000
.********************************************************************** 56600000
.*                                                                      56650000
.*                                                                      56700000
.*                                                                      56750000
.STFORM  ANOP                                                           56800000
&GNAME   SETC  'IHB'.'&SYSNDX'              OBTAIN UNIQUE SYMBOL-LABEL  56850000
         CNOP  0,4                                                      56900000
         AIF   ('&NAME' EQ '').SDSTF10      IS NAME SPECIFIED           56950000
&NAME    DS    0F                                                       57000000
.SDSTF10 ANOP                                                           57050000
.*                                                                      57100000
.********************* STANDARD FORM ********************************** 57150000
.*                                                                      57200000
.*       BUILD PARAMETER LIST TEMPLATE AND BRANCH TO CODE.              57250000
.*                                                             @G860P31 57300000
.********************************************************************** 57350000
.*                                                                      57400000
         BAL   1,&GNAME                     BRANCH AROUND PARAM LIST    57450000
         DC    AL1(&SDFLAG0)                FLAG BYTE                   57500000
         DC    AL1(&SDFLAG1)                FLAG BYTE                   57550000
         DC    AL1(&SDATAF1)                FLAG BYTE                   57600000
         DC    AL1(&SDATAF2)                FLAG BYTE                   57650000
         DC    A(0)                         ADDRESS OF DCB              57700000
.*                                                                      57750000
.********************* STANDARD FORM ********************************** 57800000
.*                                                                      57850000
.*       CALCULATE ADDRESS OF STORAGE AND/OR HDR PARM AREA              57900000
.*                                                             @G860P31 57950000
.********************************************************************** 58000000
.*                                                                      58050000
         AIF   ('&STORAGE' EQ '').SDST110   STORAGE SPECIFIED? @G860P31 58100000
         DC    A(*-8+&DISP1)                ADDRESS OF STORAGE @G860P31 58150000
         AGO   .SDST111                     GO CHECK HDR       @G860P31 58200000
.SDST110 ANOP                                                  @G860P31 58250000
         DC    A(0)                         ADDRESS OF STORAGE LIST     58300000
.SDST111 AIF   ('&HDR' EQ '').SDST112       HDR SPECIFIED?     @G860P31 58350000
         DC    A(*-12+&DISP2)               ADDRESS OF HDR     @G860P31 58400000
         AGO   .SDST113                     GO CHECK HDR       @G860P31 58450000
.SDST112 ANOP                                                  @G860P31 58500000
         DC    A(0)                         ADDRESS OF HEADER RECORD    58550000
.SDST113 ANOP                               CONTINUE STANDARD  @G860P31 58600000
.*                                                                      58650000
.********************* STANDARD FORM ********************************** 58700000
.*                                                                      58750000
.*       CONTINUE STANDARD FORM EXPANSION AFTER HDR.                    58800000
.*                                                             @G860P31 58850000
.********************************************************************** 58900000
.*                                                                      58950000
         DC    A(0)                         ADDRESS OF ECB/SRB     @L4A 59000000
         DC    AL2(0)                       CURRENT ASID                59050000
         DC    AL2(0)                       OTHER ASID                  59100000
         DC    A(0)                         ADDRESS OF ASID LIST        59150000
.*                                                             @G33VPHD 59200000
         DC    A(0)                         ADDRESS OF SUMLIST          59250000
         DC    A(0)                         RESERVED           @G33VPHD 59300000
         DC    A(0)                         RESERVED           @G33VPHD 59350000
.*                                                                      59400000
.********************* STANDARD FORM ********************************** 59450000
.*                                                                      59500000
.*       GENERATE JBB1226 EXPANSION OF PARAMETER LIST                   59550000
.*                                                             @G860P31 59600000
.********************************************************************** 59650000
.*                                                                      59700000
         AIF   (&SDSE3PM  EQ  0).SDSTF11    NEW PARM LIST      @G383P1U 59750000
         DC    AL1(&SDFLAG2)                FLAG BYTE          @G383P1U 59800000
         DC    AL1(&SDCNTL1)                CONTROL FLAGS      @G860P31 59850000
         DC    AL1(&SDTYPF1)                TYPE FLAG BYTE     @G383P1U 59900000
         AIF   ('&PLVER' EQ '1').SDSTF21                           @T1A 59914200
         DC    AL1(&PLVER.)                 VERSION                @T1A 59928400
         AGO   .SDSTF22                                            @T1A 59942600
.SDSTF21 ANOP                                                      @T1A 59956800
         DC    AL1(0)                       VERSION                @T1A 59971000
.SDSTF22 ANOP                                                      @T1A 59985200
         DC    AL1(&SDATAF3)                EXIT FLAG BYTE     @G383P1U 60000000
         DC    AL1(0)                       RESERVED               @T1C 60025000
         DC    AL1(&SDAT3)                  SDATA OPTIONS          @T1A 60050000
         DC    AL1(0)                       RESERVED               @T1A 60075000
.*                                                                      60100000
.********************* STANDARD FORM ********************************** 60150000
.*                                                                      60200000
.*    GENERATE HBB2102 EXPANSION OF PARAMETER LIST                      60250000
.*                                                             @G860P31 60300000
.********************************************************************** 60350000
.*                                                                      60400000
         AIF   (&SDSP21P  EQ  0).SDSTF11   HBB2102 PARM LIST   @G860P31 60450000
         DC    A(0)                         SUBPLST ADDRESS    @G860P31 60500000
         DC    A(0)                         KEYLIST ADDRESS    @G860P31 60550000
         DC    A(0)                         RESERVED           @G860P31 60600000
.*                                     RESERVED FOR SLIP       @G860P31 60650000
         AIF   ('&PLVER' EQ '2').SDSTP2                            @T1A 60683300
         DC    A(0)                         RESERVED           @G860P31 60716600
.*                                     RESERVED FOR SYSMDUMP SYMPTOM    60750000
.*                                     STRING POINTER          @G860P31 60800000
         DC    A(0)                         RESERVED           @G860P31 60806600
         AGO   .SDSTP99                SKIP PLISTVER=2             @T1A 60813200
.SDSTP2  ANOP                          PLISTVER=2                  @T1A 60819800
         DC    11A(0)                       RESERVED FOR SP3.1.0   @T1A 60826400
         DC    2A(0)                        PSWREGS                @T1A 60833000
         DC    2A(0)                        SYMREC                 @T1A 60839600
         AIF   ('&ID' EQ '').SDSTP00        ID SPECIFIED?          @T1A 60846200
         DC    A(IHB&SYSNDX.I)              ADDRESS OF ID          @T1A 60852800
         DC    A(0)                         RESERVED               @T1A 60859400
         AGO   .SDSTP01                     ONWARD                 @T1A 60866000
.SDSTP00 ANOP                                                      @T1A 60872600
         DC    2A(0)                        ID                     @T1A 60879200
.SDSTP01 ANOP                                                      @T1A 60885800
.SDSTP99 ANOP                                                      @T1A 60892400
.*                                                                      60900000
.********************* STANDARD FORM ********************************** 60950000
.*                                                                      61000000
.*    RESERVE SPACE FOR STORAGE, HDR, ID PARAMETER                      61050000
.*                                                                 @T1C 61100000
.********************************************************************** 61150000
.*                                                                      61200000
.SDSTF11 ANOP                   OLD PARMS SPECIFIED            @G383P1U 61250000
         AIF   ('&STORAGE' EQ '').SDSTF20   IS STORAGE SPECIFIED        61300000
&CTR1    SETA  N'&STORAGE                   NUMBER OF STORAGE ADDRESSES 61350000
         DC    &CTR1.F'0'                   STORAGE ADDRESSES           61400000
.SDSTF20 ANOP                                                           61450000
         AIF   ('&HDR' EQ '').SDSTF30       IS HDR SPECIFIED            61500000
&CTR1    SETA  K'&HDR-2-&HDRCTR             LENGTH OF USER DATA         61550000
         DC    AL1(&CTR1)                   LENGTH OF USER DATA         61600000
         DC    C&HDR                        USER DATA                   61650000
.*       CNOP  2,4                                                      61700000
.SDSTF30 ANOP                                                           61750000
         AIF   ('&ID' EQ '').SDSTF41        IS ID SPECIFIED        @T1A 61757100
&CTR1    SETA  K'&ID-2-&IDCTR               LENGTH OF USER DATA    @T1A 61764200
&TEMP    SETC  'IHB&SYSNDX.I'                                      @T1A 61771300
&TEMP    DC    AL1(&CTR1)                   LENGTH OF USER DATA    @T1A 61778400
         DC    C&ID                         USER DATA              @T1A 61785500
.SDSTF41 ANOP                                                      @T1A 61792600
&GNAME   DS    0H                                                       61800000
.*                                                                      61850000
.********************* STANDARD FORM ********************************** 61900000
.*                                                                      61950000
.*       STORE THE DCB ADDRESS INTO PARAMETER LIST .                    62000000
.*                                                             @G860P31 62050000
.********************************************************************** 62100000
.*                                                                      62150000
         AIF   ('&DCB' EQ '').SDSTF35       IS DCB SPECIFIED            62200000
         IHBSETR   &DCB,0                   ADDRESS OF DCB IN REG 0     62250000
         ST    0,4(1,0)                     SAVE DCB ADDRESS            62300000
.*                                                                      62350000
.********************* STANDARD FORM ********************************** 62400000
.*                                                                      62450000
.*       PROCESS LIST, LISTA, OR STORAGE OPTION.                        62500000
.*                                                             @G860P31 62550000
.********************************************************************** 62600000
.*                                                                      62650000
.SDSTF35 AIF   ('&LIST' EQ '').SDSTF37      IS LIST SPECIFIED  @G383P1U 62700000
         IHBSETR   &LIST,0                  ADDR OF STORAGE LIST IN R0  62750000
         ST    0,8(1,0)                     SAVE LIST ADDRESS           62800000
         AGO   .SDSTF50                     GO CHECK FOR USER DATA      62850000
.SDSTF37 AIF   ('&LISTA' EQ '').SDSTF40  IS LISTA SPECIFIED    @G383P1U 62900000
         IHBSETR   &LISTA,0                 LIST ADDR TO R0    @G383P1U 62950000
         ST    0,8(1)                       STORE LIST ADDR    @G383P1U 63000000
         AGO   .SDSTF50              GO CHECK FOR TITLE        @G383P1U 63050000
.SDSTF40 AIF   ('&STORAGE' EQ '').SDSTF50   STORAGE ADDRESSES SPECIFIED 63100000
&CTR1    SETA  N'&STORAGE          NUMBER OF STORAGE ADDRESSES @G860P31 63150000
&CTR2    SETA  0                   POSITION COUNTER            @G860P31 63200000
&DISP    SETA  &DISP1-4            DISPLACEMENT OF THE STORAGE @G860P31 63250000
.*                                 ADDRESSES INTO THE PARAMETER LIST    63300000
.LOOPE1  ANOP                                                           63350000
&CTR2    SETA  &CTR2+1                 NUMBER OF ADDRESS WORKING ON     63400000
&DISP    SETA  &DISP+4                 DISP OF ADDRESS INTO LIST        63450000
         IHBSETR   &STORAGE(&CTR2),0        ADDRESS INTO R0             63500000
         ST    0,&DISP.(1,0)                STORE INTO LIST      YM1995 63550000
         AIF   ('&CTR1' NE '&CTR2').LOOPE1  ANY  MORE ADDRESSES         63600000
         OI    &DISP.(1),X'80'              END OF LIST INDICATOR       63650000
.*                                                                      63700000
.********************* STANDARD FORM ********************************** 63750000
.*                                                                      63800000
.*       PROCESS HDRAD TO PLACE ADDRESS IN PARAMETER LIST.              63850000
.*       IF HDR WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE            63900000
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       63950000
.*                                                             @G860P31 64000000
.********************************************************************** 64050000
.*                                                                      64100000
.SDSTF50 AIF   ('&HDRAD' EQ '').SDSTF70     IS HDRAD SPECIFIED @G860P31 64150000
         IHBSETR   &HDRAD,0                 ADDR OF USER DATA IN REG 0  64200000
         ST    0,12(1,0)         ADDR OF USER DATA INTO PARAM LSTYM1995 64250000
.*                                                                      64300000
.********************* STANDARD FORM ********************************** 64350000
.*                                                                      64400000
.*       PROCESS ECB OPTION.                                            64450000
.*                                                             @G860P31 64500000
.********************************************************************** 64550000
.*                                                                      64600000
.SDSTF70 AIF   ('&ECB' EQ '').SDSTF74       IS ECB SPECIFIED       @L4C 64650000
         AIF   ('&ECB'(1,1) EQ '(').SDSTF72 IS ECB ADDRESS IN A REG     64700000
         L     0,&ECB                       ADDRESS OF ECB              64750000
         ST    0,16(1,0)              ADDR OF ECB INTO PARAM LISTYM1995 64800000
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L4C 64850000
.SDSTF72 ANOP                                                           64900000
         ST    &ECB,16(1,0)           ADDR OF ECB INTO PARAM LISTYM1995 64950000
.*                                                                      65000000
.********************* STANDARD FORM ********************************** 65050000
.*                                                                      65100000
.*       PROCESS SRB OPTION.                                            65103300
.*                                                                 @L4A 65106600
.********************************************************************** 65109900
.*                                                                 @L4A 65113200
.SDSTF74 AIF   ('&SRB' EQ '').SDSTF80       IS SRB SPECIFIED       @L4A 65116500
         AIF   ('&SRB'(1,1) EQ '(').SDSTF76 IS SRB ADDR IN A REG   @L4A 65119800
         L     0,&SRB                       ADDRESS OF SRB         @L4A 65123100
         ST    0,16(1,0)              ADDR OF SRB INTO PARAM LIST  @L4A 65126400
         AGO   .SDSTF80                     GO CHECK FOR ASID      @L4A 65129700
.SDSTF76 ANOP                                                      @L4A 65133000
         ST    &SRB,16(1,0)           ADDR OF SRB INTO PARAM LIST  @L4A 65136300
.*                                                                 @L4A 65139600
.********************* STANDARD FORM ********************************** 65142900
.*                                                                      65146200
.*       PROCESS ASID OR ASIDLST OPTION.                                65150000
.*                                                             @G860P31 65200000
.********************************************************************** 65250000
.*                                                                      65300000
.SDSTF80 AIF   ('&ASID' EQ '').SDSTF90      IS ASID SPECIFIED           65350000
         AIF   ('&ASID'(1,1) EQ '(').SDSTF82     IS ASID IN A REGISTER  65400000
         LH    0,&ASID                      ASID OF MEMORY TO BE DUMPED 65450000
         STH   0,22(1,0)              ASID INTO PARAMETER LIST   YM1995 65500000
         AGO   .SDSTF90                     GO CHECK FOR BRANCH ENTRY   65550000
.SDSTF82 ANOP                                                           65600000
         STH   &ASID,22(1,0)          ASID INTO PARAMETER LIST   YM1995 65650000
.SDSTF90 AIF   ('&ASIDLST' EQ '').SDSTF93  IS ASIDLIST SPECIFIED        65700000
.*                                                             @G33VPHD 65750000
         IHBSETR   &ASIDLST,0           ADDR OF ASIDLIST IN R0          65800000
.*                                                             @G33VPHD 65850000
         ST    0,24(1)                  ADDR ASIDLIST INTO PARM LIST    65900000
.*                                                             @G33VPHD 65950000
.*                                                                      66000000
.********************* STANDARD FORM ********************************** 66050000
.*                                                                      66100000
.*       PROCESS SUMLIST OR SUMLSTA OPTION.                             66150000
.*                                                             @G860P31 66200000
.********************************************************************** 66250000
.*                                                                      66300000
.SDSTF93 AIF   ('&SUMLIST' EQ '').SDSTF94 IS SUMLIST SPECIFIED          66350000
         IHBSETR   &SUMLIST,0                                           66400000
         ST    0,28(1)                                                  66450000
         AGO   .SDSTF95                DONE SO DO ENTRY LOGIC  @G383P1U 66500000
.SDSTF94 AIF   ('&SUMLSTA' EQ '').SDSTF95  SUMLSTA SPECIFIED   @G383P1U 66550000
         IHBSETR   &SUMLSTA,0        GET SUMLSTA ADDR IN R0    @G383P1U 66600000
         ST    0,28(1)               SUMLSTA ADDR TO PARM LIST @G383P1U 66650000
.*                                                                      66700000
.********************* STANDARD FORM ********************************** 66750000
.*                                                                      66800000
.*       PROCESS SUBPLST AND KEYLIST OPTIONS.                           66850000
.*                                                             @G860P31 66900000
.********************************************************************** 66950000
.*                                                                      67000000
.SDSTF95 AIF   ('&SUBPLST' EQ '').SDSTM00 IS SUBPLST SPECIFIED @G860P31 67050000
         IHBSETR   &SUBPLST,0          LOAD SUBPLST ADDRESS    @G860P31 67100000
         ST    0,48(1)                 STORE SUBPLST ADDRESS   @G860P31 67150000
         AIF   ('&KEYLIST' EQ '').SDSTM00 IS KEYLIST SPECIFIED @G860P31 67200000
         IHBSETR   &KEYLIST,0          LOAD KEYLIST ADDRESS    @G860P31 67250000
         ST    0,52(1)                 STORE KEYLIST ADDRESS   @G860P31 67300000
.*                                                                      67350000
.********************* STANDARD FORM ********************************** 67400000
.*                                                                      67450000
.*       PROCESS PSWREGS OPTION.                                        67451500
.*                                                             @G860P31 67453000
.********************************************************************** 67454500
.*                                                                      67456000
.SDSTM00 AIF   ('&PSWREGS' EQ '').SDSTM01 IS PSWREGS SPECIFIED     @T1A 67457500
         IHBSETR   &PSWREGS,0                                      @T1A 67459000
         ST    0,104(0,1)                   SAVE PSWREG ADDR       @T1A 67460500
.*                                                                      67462000
.********************* STANDARD FORM ********************************** 67463500
.*                                                                      67465000
.*       PROCESS SYMREC  OPTION.                                        67466500
.*                                                             @G860P31 67468000
.********************************************************************** 67469500
.*                                                                      67471000
.SDSTM01 AIF   ('&SYMREC' EQ '').SDSTM02 IS SYMREC SPECIFIED       @T1A 67472500
         IHBSETR   &SYMREC,0                                       @T1A 67474000
         ST    0,112(0,1)                   SAVE SYMREC ADDR       @T1A 67475500
.********************* STANDARD FORM ********************************** 67477000
.*                                                                      67478500
.*       PROCESS IDAD TO PLACE ADDRESS IN PARAMETER LIST.               67480000
.*       IF ID WAS SPECIFIED, THE ADDRESS IS ALREADY IN THE             67481500
.*       PARAMETER LIST BECAUSE THE MACRO GENERATES THE LOCATION.       67483000
.*                                                                 @T1A 67484500
.********************************************************************** 67486000
.*                                                                      67487500
.SDSTM02 AIF   ('&IDAD' EQ '').SDST999      IS IDAD SPECIFIED      @T1A 67489000
         IHBSETR   &IDAD,0                  ADDR ID DATA IN R0     @T1A 67490500
         ST    0,120(0,1)                   SAVE IDAD ADDR         @T1A 67492000
.*                                                                      67493500
.*                                                                      67495000
.********************* STANDARD FORM ********************************** 67496500
.*                                                                      67498000
.*       STANDARD FORM CLOSEOUT.                                        67500000
.*                                                             @G860P31 67550000
.********************************************************************** 67600000
.*                                                                      67650000
.SDST999 AIF   ('&BRANCH' EQ 'YES').SDSTF99  BRANCH ENTRY          @T1C 67700000
.*                                                             @G33VPHD 67750000
         SVC   51                           INVOKE SVC DUMP VIA SVC     67800000
         AGO   .SDEND                       GO END MACRO PROCESSING     67850000
.SDSTF99 ANOP                                                           67900000
.*                                                             @G33VPHD 67950000
         L     15,CVTPTR(0,0)               ADDRESS OF CVT       YM1995 68000000
         L     15,CVTSDMP-CVTMAP(15,0)      SVC DUMP ENTRY ADDR  YM1995 68050000
         BALR  14,15                        INVOKE SVC DUMP VIA BAL     68100000
         AGO   .SDEND                       GO END MACRO PROCESSING     68150000
.*                                                                      68200000
.*                                                                      68250000
.*                                                                      68300000
.********************************************************************** 68350000
.*                                                                      68400000
.*       ERROR MESSAGES                                                 68450000
.*                                                             @G860P31 68500000
.********************************************************************** 68550000
.*                                                                      68600000
.*                                                                      68650000
.MESG1   MNOTE 12,'REGISTER NOTATION INVALID W/MF=L'                    68700000
         MEXIT                                                          68750000
.MESG1A  MNOTE 12,'POSITIONAL PARAMETERS ARE NOT ALLOWED - &SYSLIST(1)' 68800000
.*                                                             @G860P1X 68850000
         MEXIT                                                          68900000
.MESG2A  MNOTE 12,'HDR AND HDRAD ARE MUTUALLY EXCLUSIVE'                68950000
         MEXIT                                                          69000000
.MESG2B  MNOTE 12,'STORAGE AND LIST ARE MUTUALLY EXCLUSIVE'             69050000
         MEXIT                                                          69100000
.MESG2C  MNOTE 12,'STORAGE AND LISTA ARE MUTUALLY EXCLUSIVE'   @G383P1U 69150000
         MEXIT                                                 @G383P1U 69200000
.MESG2D  MNOTE 12,'LIST AND LISTA ARE MUTUALLY EXCLUSIVE'      @G383P1U 69250000
         MEXIT                                                 @G383P1U 69300000
.MESG2E  MNOTE 12,'SUMLIST AND SUMLSTA ARE MUTUALLY EXCLUSIVE'     @P1C 69350000
         MEXIT                                                 @G383P1U 69400000
.MESG2F  MNOTE 12,'ID AND IDAD ARE MUTUALLY EXCLUSIVE'             @T1C 69404100
         MEXIT                                                 @G383P1U 69408200
.MESG4A  MNOTE 12,'INVALID SDATA OPERAND SPECIFIED &SDATA(&CTR2)'       69650000
         MEXIT                                                          69700000
.MESG4B  MNOTE 12,'INVALID BUFFER OPERAND SPECIFIED &BUFFER'            69750000
         MEXIT                                                          69800000
.MESG4C  MNOTE 12,'INVALID BRANCH OPERAND SPECIFIED &BRANCH'            69850000
         MEXIT                                                          69900000
.MESG4D  MNOTE 12,'INVALID QUIESCE OPERAND SPECIFIED &QUIESCE'          69950000
         MEXIT                                                 @G383P1U 70000000
.MESG4E  MNOTE 12,'INVALID TYPE OPERAND SPECIFIED &TYPE(&CTR2)'         70050000
.*                                                             @G383P1U 70100000
         MEXIT                                                 @G383P1U 70150000
.MESG4F  MNOTE 12,'MUTUALLY EXCLUSIVE TYPE OPERANDS: XMEM AND XMEME'    70200000
.*                                                             @G38AP31 70250000
         MEXIT                                                 @G38AP31 70300000
.MESG5A  MNOTE 12,'ASID OPERAND INVALID W/MF=L'                         70350000
         MEXIT                                                          70400000
.MESG5B  MNOTE 12,'ECB OPERAND INVALID W/MF=L'                          70450000
         MEXIT                                                          70500000
.MESG5C  MNOTE 12,'BRANCH OPERAND INVALID W/MF=L'                       70550000
         MEXIT                                                          70600000
.MESG5D  MNOTE 12,'ASIDLST OPERAND INVALID W/MF=L'                      70650000
         MEXIT                                                          70700000
.MESG5E  MNOTE 12,'MISSING PARAMETER LIST ADDRESS WITH MF=(E,ADDR)'     70750000
.*                                                             @G860P31 70800000
         MEXIT                                                          70850000
.MESG5F  MNOTE 12,'SRB OPERAND INVALID W/MF=L'                          70862500
.*                                                                 @L4A 70875000
         MEXIT                                                     @L4A 70887500
.MESG6   MNOTE 12,'ODD NUMBER OF STORAGE ADDRESSES'                     70900000
         MEXIT                                                          70950000
.MESG7   MNOTE 12,'MACRO FORM IS INVALID'                               71000000
         MEXIT                                                          71050000
.MESG8   MNOTE 12,'USER DATA TOO LONG'                                  71100000
         MEXIT                                                          71150000
.MESG8I  MNOTE 12,'LENGTH OF ID OPERAND IS TOO LONG'               @T1A 71166600
         MEXIT                                                     @T1A 71183200
.MESG9   MNOTE 12,'INITIAL CHARACTER OF HDR OPERAND NOT AN APOSTROPHE'  71200000
         MEXIT                                                          71250000
.MESG9I  MNOTE 12,'INITIAL CHARACTER OF ID OPERAND NOT AN APOSTROPHE'  *71262500
                                                                   @T1A 71275000
         MEXIT                                                     @T1A 71287500
.*                                                             @G33VPHD 71300000
.MESG9A  MNOTE 12,'INVALID HDR SPECIFICATION'                           71350000
         MEXIT                                                          71400000
.MESG9AI MNOTE 12,'INVALID ID SPECIFICATION'                       @T1A 71416600
         MEXIT                                                     @T1A 71433200
.*                                                             @G860P31 71450000
.MESG10  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: ASID AND ASIDLST'       71500000
.*                                                             @G33VPHD 71550000
         MEXIT                                                          71600000
.*                                                             @G33VPHD 71650000
.MESG11  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: SUMDUMP/SUM AND NOSUMDUX71700000
               MP/NOSUM'                                                71750000
.*                                                             @G33VPHD 71800000
         MEXIT                                                          71850000
.*                                                             @G33VPHD 71900000
.MESG12  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS:SQA AND NOSQA'           71950000
.*                                                             @G33VPHD 72000000
         MEXIT                                                          72050000
.*                                                             @G33VPHD 72100000
.MESG13  MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: ALLPSA AND NOALLPSA'    72150000
.*                                                             @G33VPHD 72200000
         MEXIT                                                          72250000
.MESG13B MNOTE 12,'MUTUALLY EXCLUSIVE OPERANDS: SRB AND ECB'            72275000
.*                                                                 @L4A 72300000
         MEXIT                                                     @L4A 72325000
.MESG14  MNOTE 12,'EXECUTE MACRO FORM USES A LIST FORM PARAMETER LIST WX72350000
               HOSE LENGTH IS LESS THAN THE PARAMETER LIST LENGTH USED X72400000
               BY THE EXECUTE MACRO FORM'                      @G383P1U 72450000
         MEXIT                                                 @G383P1U 72500000
.MESG15  MNOTE 12,'NOSUMDUMP SPECIFIED WITH SUMLIST INVALID'   @G383P1U 72550000
         MEXIT                                                 @G383P1U 72600000
.MESG15A MNOTE 12,'NOSUMDUMP SPECIFIED WITH SUMLSTA INVALID'   @G383P1U 72650000
         MEXIT                                                 @G386P31 72700000
.MESG16A MNOTE 12,'INVALID SUSPEND OPERAND SPECIFIED &SUSPEND' @G386P31 72750000
         MEXIT                                                 @G386P31 72800000
.MESG16B MNOTE 12,'BRANCH=YES IS REQUIRED WITH SUSPEND=YES'    @G386P31 72850000
         MEXIT                                                 @G386P31 72900000
.MESG16C MNOTE 12,'SDATA=NOSUM/NOSUMDUMP INVALID WITH SUSPEND=YES'      72950000
.*                                                             @G386P31 73000000
         MEXIT                                                          73050000
.MESG17A MNOTE 12,'SUBPLST REQUIRED WITH KEYLIST'              @G860P31 73100000
.SDEND   MEXIT                                                          73150000
         MEND                                                           73200000
* */                                                                    73250000
* SDUMP: MACRO KEYS(HDR,HDRAD,DCB,ASID,ASIDLST,ECB,SDATA,STORAGE,       73300000
*           LIST,SUMLIST,BUFFER,QUIESCE,BRANCH,LISTA,TYPE,SUMLSTA,      73350000
*           PLISTVER,ID,IDAD,SYMREC,PSWREGS,                            73383300
*           SUSPEND,SUBPLST,KEYLIST,MF,RETCODE,RELATED,SRB); /*  @T2C*/ 73416600
*                                                                       73450000
*        DCL SYSASCE CHAR EXT;    /* GLOBAL FOR SYSSTATE MACRO   @L3A*/ 73500000
*        ANS('?SYSSTATE (TEST);'); /* OBTAIN DEFAULT SYSASCE     @L3A*/ 73550000
*        IF SYSASCE = 'P' THEN    /* INVOKE NORMAL SDUMP         @L3A*/ 73600000
*          ANS('?'||MACLABEL||'SDUMPP '||MACLIST||MACKEYS||';');        73650000
*        ELSE DO;                 /* INVOKE SDUMPX               @L3A*/ 73700000
*          ANS MSG('SDUMPX MACRO SUBSTITUTED FOR SDUMP MACRO'||         73750000
*                  ' BECAUSE ASCENV=AR/ANY SPECIFIED ON PREVIOUSLY'||   73800000
*                  ' ISSUED SYSSTATE MACRO'); /*                 @L3A*/ 73850000
*          ANS('?'||MACLABEL||'SDUMPXP '||MACLIST||MACKEYS||';'); /*    73900000
*                                    INVOKE X-VERSION            @L3A*/ 73950000
*        END;                     /*                             @L3A*/ 74000000
* %END SDUMP;                                                           74050000
