*                                                                       00050000
* %DCL IXLYCAA_INCLUDED CHAR EXT;                                       00064200
* %DEACTIVATE IXLYCAA_INCLUDED;                                         00078400
* %IF IXLYCAA_INCLUDED = '' %THEN                                       00092600
* %DO;                                                                  00106800
*/* Macro made bi-lingual on 98223. CBGEN compile date 98009         */ 00121000
*% /*                                                                   00135200
         MACRO                                                          00150000
         IXLYCAA &DSECT=YES,&LIST=YES,&TITLE=YES,&CAA=YES               00171400
         GBLC  &IXLYCAA_INCLUDED                                        00192800
         GBLC  &ZCBPRINT                                                00214200
&IXLYCAA_INCLUDED SETC 'YES'                                            00235600
         AIF   ('&LIST' EQ 'NONE').P0                                   00242700
         AIF   ('&TITLE' EQ 'NO').P5                                    00249800
 TITLE   'IXLYCAA  - IXLCACHE Request Answer Area                    '  00257000
.P5      ANOP                                                           00267700
**/ IXLYCAA_1:;                                                         00278400
*/* START OF SPECIFICATIONS ******************************************* 00300000
*                                                                       00350000
*01* PROPRIETARY STATEMENT=                                             00366600
*                                                                       00383200
*      Licensed Materials - Property of IBM                             00433200
*      "Restricted Materials of IBM"                                    00483200
*      5647-A01                                                         00533200
*      (C) COPYRIGHT IBM CORP. 1993, 1999                               00583200
*                                                                       01000000
*      US Government Users Restricted Rights - Use, duplication or      01004100
*      disclosure restricted by GSA ADP Schedule Contract with          01008200
*      IBM Corp.                                                        01012300
*                                                                       01016400
*                                                                       01020500
*01* STATUS = HBB6608                                                   01024600
*                                                                       01028700
*01*  END_OF_PROPRIETARY_STATEMENT                                      01032800
*                                                                       01036900
*01* EXTERNAL CLASSIFICATION: GUPI                                      01041000
*01* END OF EXTERNAL CLASSIFICATION:                                    01045100
*                                                                       01050000
*01* DESCRIPTIVE NAME: IXLCACHE Request Answer Area                     01075000
*                                                                       01083300
*02* ACRONYM:  CAA                                                      01091600
*                                                                       01100000
*01* MACRO NAME: IXLYCAA                                                01150000
*                                                                       01200000
*01* DSECT NAME:                                                        01206200
*     CAA                                                               01212400
*                                                                       01218600
*01* COMPONENT:  Cross System Extended Services (SCIXL)                 01224800
*                                                                       01231000
*01* EYE-CATCHER:  NONE                                                 01237200
*                                                                       01243400
*01* STORAGE ATTRIBUTES:                                                01252000
*02*  SUBPOOL:  User supplied.                                          01260600
*02*  KEY:  User supplied.                                              01269200
*02*  RESIDENCY:  User supplied.                                        01277800
*                                                                       01286800
*01* SIZE:   144 bytes                                                  01291200
*            CAA -- X'0090' bytes                                       01295600
*                                                                       01300000
*01* CREATED BY:  - Storage area created by IXLCACHE invoker            01383300
*                 - Fields set by IXLCACHE service routine              01416600
*                                                                       01450000
*01* POINTED TO BY:                                                     01461500
*     ANSAREA parameter on IXLCACHE requests                            01473000
*                                                                       01484500
*01* SERIALIZATION:                                                     01496000
*     None required                                                     01507500
*                                                                       01519000
*01* FUNCTION:  Maps the answer area output from IXLCACHE requests      01530500
*                                                                       01542000
*01* METHOD OF ACCESS:                                                  01553500
*02*  ASM:   IXLYCAA USING on CAA                                       01565000
*                                                                       01570700
*02*  PL/AS: %DCL CAA_DCL_ATTR CHAR                                     01576400
*            %CAA_DCL_ATTR = 'based/defined/via attribtues'             01582100
*            %INCLUDE SYSLIB(IXLYCAA)                                   01588000
*                                                                       01591000
*            If CAA_DCL_ATTR is not set the CAA will be                 01594000
*            declared as BASED.                                         01597000
*                                                                       01600000
*01* DELETED BY:  Invoker of IXLCACHE                                   01750000
*                                                                       01800000
*01* FREQUENCY:  One per IXLCACHE invocation                            01850000
*                                                                       01900000
*01* DEPENDENCIES: See ANSAREA parameter requirements on                01933300
*                  the IXLCACHE interface description.                  01966600
*                                                                       02000000
*01* DISTRIBUTION LIBRARY: AMACLIB                                      02050000
*                                                                       02100000
*01* CHANGE ACTIVITY:                                                   02150000
* $L0=SYSLKSRQ HBB5510 910311 PD00K1: XES support                       02200000
* $P1=PIG0372  HBB5510 910923 PD00AO: Change CAADATA length             02250000
* $D1=DIG0048  HBB5510 930114 PD00AO: Miscellaneous changes             02300000
* $D2=DIG0129  HBB5510 930520 PD00AO: Architecture update               02350000
* $P2=PIG5085  HBB5510 940301 PD00AO: Architecture update               02400000
* $P3=PIG5257  HBB5510 940314 PD00AO: Architecture update               02450000
* $P4=PIG5178  HBB5510 940314 PD00AO: Performance                       02500000
* $01=OW15587  HBB5520 950515 PD00HX: REG_NAMELIST support              02550000
* $02=OW24532  HBB5520 960930 PD00GW: UNLOCK_CO_NAME support            02566600
*                                     Write with no data support        02583200
* $03=OW28460  HBB6603 970801 PD00GW: User managed duplexing            02591600
* $L1=AUTOR    HBB6608 970622 PDXM: Auto Rebuild support for extended   02594400
*                                   restart token                       02597200
* $L2=AUTOR    HBB6608 970828 PDMP: Auto Rebuild support for extended   02598100
*                                   restart token                       02599000
* $04=OW38667  HBB6606 990909 PD00FR: Suspend time                      02599500
*                                                                       02600000
* NOTES: This control block must start on a word boundary.              02650000
*                                                                       02700000
*                                                                       02730000
*   ALLOCATION-METHOD:  Specific to IXLCACHE invoker.  See ANSAREA      02760000
*                       parameter requirements on the IXLCACHE          02790000
*                       interface description.                          02820000
*                                                                       02850000
*END OF SPECIFICATIONS ***********************************************/ 02900000
*% /*                                                                   02912400
.P0      ANOP                                                           02918600
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 02924800
         AIF   ('&LIST' EQ 'YES').P2                                    02937200
.P1      ANOP                                                           02949600
         PUSH  PRINT                                                    02962000
         PRINT OFF                                                      02974400
.P2      ANOP                                                           02986800
         AIF   ('&CAA' EQ 'NO').L0002                                   02999200
         AIF   ('&DSECT' EQ 'YES').L0003                                03011600
         AIF   ('&CAA' NE 'YES').L0002                                  03024000
CAA      DS    0F        IXLCACHE answer area                           03036400
         AGO   .L0004                                                   03048800
.L0003   ANOP                                                           03061200
CAA      DSECT           IXLCACHE answer area                           03073600
.L0004   ANOP                                                           03086000
CAAHEADER DS   0CL0012   Answer area header                             03098400
CAALEVEL DS    1FL4      Macro level of this version of the IXLYCAA    *03110800
                         macro                                          03123200
CAAOFFSET DS   1FL4      Offset from the beginning of the structure    *03135600
                         (Caa) to the answer area data (CaaData)        03148000
CAALENGTH DS   1FL4      Length of the answer area data                 03160400
CAADATA  DS    0CL0132   Answer area data                               03172800
CAARETCODE DS  1FL4      Return code. Values are defined in IXLYCON.    03185200
CAARSNCODE DS  1FL4      Reason code. Values are defined in IXLYCON.    03197600
CAABYTEA DS    0BL1      Answer area bit-level fields                   03210000
CAACHANGED EQU X'80'     Cached subsystem data changed status.         *03222400
                         Returned for successful READ_DATA requests    *03234800
                         and WRITE_DATA requests which fail because of *03247200
                         an incompatible state. For structures         *03251300
                         allocated in a CFLEVEL=4 or higher coupling   *03255400
                         facility CaaChanged is returned on READ_DATA  *03259500
                         requests which receive the warning that there *03263600
                         was no data to read. 1 ==> changed, 0 ==>     *03267700
                         unchanged.                                     03272000
CAAINVLCVI EQU X'40'     Indicates a local cache vector index was      *03284400
                         invalidated because interest for the          *03296800
                         associated item was re-registered using a     *03309200
                         different vector index. When this bit is set  *03321600
                         the CaaInvLcviNum field contains the          *03334000
                         invalidated vector index number. Returned for *03346400
                         successful READ_DATA and CASTOUT_DATA         *03358800
                         requests and WRITE_DATA requests when         *03371200
                         WHENREG=NO is specified. Also returned on     *03383600
                         READ_DATA requests which receive the warning   03396000
*                        that there was no data to read.                03408400
CAALCVI  EQU   X'40'     Only valid for a WRITE_DATA request with      *03409700
                         WHENREG=YES and VECTORINDEX specified.        *03411000
                         CaaLcvi indicates that the value of the       *03412300
                         vectorindex specified on the request does not *03413600
                         match the value of the registered local cache *03414900
                         vector index. CaaLcviNum will contain the     *03416200
                         value of the registered local cache vector    *03417500
                         index.                                         03418800
CAAPARITY EQU  X'30'     Parity as recorded in the directory entry.    *03420800
                         Returned for successful READ_DATA and         *03433200
                         CASTOUT_DATA requests. For structures         *03437300
                         allocated in a CFLEVEL=4 or higher coupling   *03441400
                         facility CaaParity is returned on READ_DATA   *03445500
                         requests which receive the warning that there *03449600
                         was no data to read.                           03453700
CAACOLOCKSTATE EQU X'0C' Castout lock state. Returned for successful   *03458000
                         READ_DATA requests, for WRITE_DATA requests   *03470400
                         which fail because the entry is in an         *03482800
                         incompatible state, for CASTOUT_DATA requests *03495200
                         which fail because the castout lock is        *03507600
                         already held, and for UNLOCK_CASTOUT and      *03510100
                         UNLOCK_CO_NAME requests which fail because    *03512600
                         the castout lock is not held or the castout   *03515100
                         lock state is incompatible. Values are        *03517600
                         declared below. UNLOCK_CO_NAME is CFLEVEL=4    03520100
*                        or higher. For structures allocated in a      *03522600
                         CFLEVEL=4 or higher coupling facility         *03525100
                         CaaCoLockState is returned on READ_DATA       *03527600
                         requests which receive the warning that there *03530100
                         was no data to read.                           03532600
CAADATACACHED EQU X'02'  Data-cached indicator. For structures which   *03535100
                         are allocated in a CFLEVEL=4 or higher        *03537600
                         coupling facility it is returned on           *03540100
                         successful READ_DATA requests. 1 ==>          *03545100
                         subsystem data is cached for the entry. 0 ==> *03550100
                         no subsystem data is cached, e.g. only a      *03552600
                         directory entry is allocated for the name.     03555100
CAAADJAREAVALID EQU X'01' Adjunct area validity bit. Returned on       *03557600
                         READ_DATA requests when AdjArea has been      *03560100
                         specified. 1 ==> Valid adjunct data has been  *03562600
                         returned. 0 ==> Adjunct data did not exist.    03565100
         ORG   CAABYTEA+X'00000001'                                     03569600
CAASTGCLFULL DS 1FL1     The storage class from which a reclaiming     *03582000
                         operation failed, causing the failure of a    *03594400
                         READ_DATA, WRITE_DATA or REG_NAMELIST request *03606800
                         because directory or data entry resources     *03619200
                         could not be obtained to satisfy the request.  03631600
CAAULINDEX DS  0FL2      Index of the name element that caused failure *03644000
                         of an UNLOCK_CASTOUT request or the index of  *03656400
                         the first unprocessed name element if the     *03668800
                         UNLOCK_CASTOUT completed prematurely or       *03677000
                         failed due to an invalid index value.          03685200
CAARNLINDEX DS 0FL2      Index of the current registration block. A    *03685600
                         value of zero indicates that no registration  *03686000
                         blocks were successfully processed. For each  *03686400
                         of the following return/reason codes, the     *03686800
                         value of CaaRNLIndex will be as follows:      *03687200
                         IxlRetcodeOk => Index of the last             *03687600
                         registration block that the connector         *03688000
                         requested be processed (ENDINDEX).            *03688400
                         IxlRsncodeTimeout => Index of the first       *03688800
                         unprocessed registration block. All prior      03689200
*                        registration blocks were processed.           *03689600
                         IxlRsncodeStrFull, IxlRsncodeBadStgClass =>   *03690000
                         Index of the registration block associated    *03690400
                         with the failing registration command. All    *03690800
                         prior registration blocks were processed.     *03691200
                         IxlRsnCodeBadVectorOp => Index of the         *03691600
                         registration block containing the first       *03692000
                         invalid vector index. None of the specified   *03692400
                         registration blocks were processed (command   *03692800
                         processing was suppressed).                    03693200
CAADNLINDEX DS 1FL2      Index of the current name element. For each   *03693700
                         of the following return/reason codes, the     *03694200
                         value CaaDNLIndex will be as follows:         *03694700
                         IxlRsncodeTimeout => Index of the first       *03695200
                         unprocessed name element. All prior name      *03695700
                         elements were processed, however, if          *03696200
                         ErrorAction=CONTINUE was specified then some  *03696700
                         of the prior name elements may not have been  *03697200
                         processed successfully.                       *03697700
                         IxlRsnCodeBadEntryVersion => Index of the      03698200
*                        name element which failed because of a        *03698700
                         version number mis-match when                 *03699200
                         ErrorAction=TERMINATE was specified.          *03699700
                         IxlRsnCodeNoEntry => Index of the name        *03700200
                         element which failed because the entry        *03700700
                         specified did not exist in the structure when *03701200
                         ErrorAction=TERMINATE was specified.          *03701700
                         CaaDNLIndex is valid only for structures      *03702200
                         allocated in a CFLEVEL=5 or higher coupling   *03702700
                         facility.                                      03703200
CAACOLOCKVAL DS 1CL0002  The contents of the castout lock for the      *03703700
                         entry. Returned for successful READ_DATA      *03706000
                         requests, for WRITE_DATA requests which fail  *03718400
                         because the entry is in an incompatible       *03730800
                         state, for CASTOUT_DATA requests which fail   *03743200
                         because the castout lock is held, and for     *03755600
                         UNLOCK_CASTOUT and UNLOCK_CO_NAME requests    *03761200
                         which fail either because the castout lock is *03766800
                         in an incompatible state or because the       *03772400
                         castout lock is not held by the connection.    03778000
*                        Unlock_CO_Name is CFLEVEL=4 or higher. For    *03783600
                         structures allocated in a CFLEVEL=4 or higher *03789200
                         coupling facility CaaCoLockVal is returned on *03794800
                         READ_DATA requests which receive the warning  *03802400
                         that there was no data to read.                03810000
CAAREFCOUNT DS 1FL2      The number of processed directory entries     *03817600
                         that initially had the reference bit set for  *03830000
                         a RESET_REFBIT request.                        03842400
CAAELEMNUM DS  1FL2      Cache entry size expressed as the number of   *03854800
                         elements in the entry. Returned for           *03863000
                         successful READ_DATA and CASTOUT_DATA         *03871200
                         requests when BUFFER or BUFLIST is specified. *03879400
                         Also returned for READ_DATA and CASTOUT_DATA  *03887600
                         requests which fail due to a bad buffer size. *03890000
                         For structures allocated in CFLEVEL=4 or      *03892400
                         higher coupling facilities, returned for      *03894800
                         successful READ_DATA requests whether or not  *03898000
                         BUFFER or BUFLIST is specified.                03901200
         DS    1CL0002   Reserved                                       03904400
CAADIRCOUNT DS 1FL4      The number of IXLYDEIBs returned for a        *03916800
                         READ_DIRINFO request, the number of IXLYCANBs *03929200
                         returned for a READ_DIRINFO or READ_COCLASS   *03941600
                         request, or the number of processed directory *03954000
                         entries for a RESET_REFBIT request. Returned  *03966400
                         when any of these requests completes          *03978800
                         successfully or prematurely.                   03991200
CAACOCOUNT DS  1FL4      The total number of data elements assigned to *04003600
                         the castout class to which data was just      *04016000
                         written. Returned for successful WRITE_DATA   *04028400
                         requests of changed subsystem data.            04040800
CAATOTCHANGED DS 1FL4    The total number of entries assigned to the   *04053200
                         storage class to which data was just written  *04065600
                         that contain changed or locked-for-cast-out   *04078000
                         subsystem data. Returned for successful       *04090400
                         WRITE_DATA requests of changed subsystem      *04102800
                         data.                                          04115200
CAARESTOKEN DS 1CL0008   Request restart token. Returned for           *04127600
                         READ_DIRINFO, READ_COCLASS, CROSS_INVAL,      *04140000
                         DELETE_NAME, and RESET_REFBIT requests which  *04152400
                         complete prematurely. Valid for connectors    *04157300
                         that specify ALLOWAUTO=NO on their IXLCONN    *04163900
                         invocation.                                    04170500
CAAINVLCVINUM DS 0FL4    Invalidated local cache vector index number.  *04177200
                         Only valid when the CaaInvLcvi bit is set.    *04189600
                         Returned for successful READ_DATA and         *04202000
                         CASTOUT_DATA requests, and for WRITE_DATA     *04207700
                         requests when WHENREG=NO is specified. Also   *04213400
                         returned on READ_DATA requests which receive  *04219100
                         the warning that there was no data to read.    04224800
CAALCVINUM DS  1FL4      Local cache vector index number. Returned for *04230500
                         WRITE_DATA requests with WHENREG=NO which     *04236200
                         fail because the castout lock state is        *04241900
                         incompatible with the request, and for        *04242900
                         WRITE_DATA requests with WHENREG=YES and      *04243900
                         VECTORINDEX specified which fail because the  *04244900
                         VECTORINDEX specified does not match the      *04245900
                         registered local cache vector (CaaLcviNum     *04246900
                         will contain the value of the registered      *04247900
                         local cache vector). For WRITE_DATA requests   04248900
*                        with WHENREG=YES and VECTORINDEX specified,   *04249900
                         CaaLcviNum is only valid when the CaaLcvi bit *04250900
                         is set.                                        04251900
CAASUSPENDTIME DS 1FL4   Suspend time for request (microseconds).      *04252000
                         Will be zero if the request was not suspended *04252100
                         or if the support for suspend time            *04252200
                         computation is not installed.                  04252300
CAAUSERDATA DS 1CL0008   User data field. Returned on successful       *04252700
                         Castout_Data requests. CaaUserData is valid   *04253100
                         only for structures allocated in a CFLEVEL=5  *04253500
                         or higher coupling facility.                   04253900
CAAVERSION DS  1CL0008   Version number. Returned on Write_Data        *04254300
                         requests when a version number comparison     *04254700
                         fails, Delete_NameList requests when          *04255100
                         ErrorAction=TERMINATE is specified and a      *04255500
                         version number comparison fails, successful   *04255900
                         Read_Data requests, and successful            *04256300
                         Castout_Data requests. CaaVersion is valid    *04256700
                         only for structures allocated in a CFLEVEL=5  *04257100
                         or higher coupling facility.                   04257500
CAARSVD  DS    0CL0020   Reserved                                       04261100
CAARSVD1 DS    1CL0004   Reserved for system use                        04264700
CAARSVD2 DS    1CL0016   Reserved for system use                        04270400
CAAVERSION0END DS 0C     End of IXLCACHE answer area for CAA version   *04270800
                         level 0                                        04271200
CAAEXTRESTOKEN DS 1CL0016 Request restart token. Returned for          *04271600
                         READ_DIRINFO, READ_COCLASS, CROSS_INVAL,      *04272000
                         DELETE_NAME, and RESET_REFBIT requests which  *04272400
                         complete prematurely. Valid for connectors    *04272800
                         that specify ALLOWAUTO=YES on their IXLCONN   *04273400
                         invocation.                                    04274000
         DS    1CL0032   Reserved                                       04274400
CAAVERSION1END DS 0C     End of IXLCACHE answer area for CAA version   *04274800
                         level 1                                        04275200
CAAEND   DS    0C        End IXLCACHE answer area                       04276400
*                                                                       04277100
* ********************************************************************  04277800
* * Constants                                                           04278500
* ********************************************************************  04279200
*                                                                       04279900
*                                                                       04280600
CAALEVEL# EQU  1         Macro level number                             04281300
CAALEVELNUM EQU 1        Macro level number                             04286200
CAALEVEL0 EQU  0         Macro level number                             04291100
CAALEVEL1 EQU  1         Macro level number                             04296000
CAALEVEL0LEN EQU 96      Length of CaaLevel0 answer area                04297700
CAALEVEL1LEN EQU 144     Length of CaaLevel1 answer area                04299400
*                                                                       04301200
*    Castout lock state values                                          04313600
*    Note: To use these values you should reset all of the bits in      04326000
*          CAABYTEA except the CAACOLOCKSTATE bits and then compare     04338400
*          the full byte against these values.                          04350800
*                                                                       04363200
*                                                                       04375600
CAACOLS_RESET EQU B'00000000' The reset state is entered when the name *04388000
                         is assigned to the directory entry or when    *04400400
                         the castout lock is reset to zeros.            04412800
CAACOLS_READFORCASTOUT EQU B'00000100' The read for castout state is   *04425200
                         entered when the castout lock is obtained by  *04437600
                         a CASTOUT_DATA request.                        04450000
CAACOLS_WRITEWITHCASTOUT EQU B'00001000' The write with castout state  *04462400
                         is entered when the castout lock is obtained  *04474800
                         by a WRITE_DATA request specifying            *04487200
                         GETCOLOCK=YES.                                 04499600
CAA_LEN  EQU   *-CAA                                                    04512000
.L0002   ANOP                                                           04524400
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 04536800
         AIF   ('&LIST' EQ 'YES').P4                                    04549200
.P3      ANOP                                                           04561600
         POP   PRINT                                                    04574000
.P4      ANOP                                                           04586400
.P_EXIT  ANOP                                                           04598800
         MEND                                                           04611200
**/ IXLYCAA_2:;                                                         04623600
* %IXLYCAA_INCLUDED = 'YES';                                            04636000
* %DCL ZCBPRINT CHAR EXT;                                               04648400
* %DEACTIVATE ZCBPRINT;                                                 04660800
* %DCL IXLYCAA_LIST CHAR EXT;                                           04673200
* %DEACTIVATE IXLYCAA_LIST;                                             04685600
* %IF IXLYCAA_LIST ^= 'NO' &                                            04698000
*    ZCBPRINT ^= 'NO' %THEN                                             04710400
*   %GOTO IXLYCAA_3;                                                    04722800
*   @LIST PUSH NOECHO;                                                  04735200
*   @LIST NOASSEMBLE NOECHO;                                            04747600
*   @LIST OFF C NOECHO;                                                 04760000
* %IXLYCAA_3:;                                                          04772400
*/* Start of PL/X Source                                             */ 04784800
*                                                                       04800000
* %If Caa_Dcl_Attr = '' %Then                                           04820000
*   %Caa_Dcl_Attr = 'Based';                                            04840000
*                                                                       04860000
* Dcl 1 Caa Caa_Dcl_Attr Bdy(Word), /* IXLCACHE answer area          */ 04880000
*       3 CaaHeader Char(12) Bdy(Word), /* Answer area header        */ 04900000
*        5 CaaLevel   Fixed(31), /* Macro level of this version of the  04950000
*                                   IXLYCAA macro                    */ 05000000
*        5 CaaOffset  Fixed(31), /* Offset from the beginning of the    05050000
*                                   structure (Caa) to the answer area  05100000
*                                   data (CaaData)                   */ 05150000
*        5 CaaLength  Fixed(31), /* Length of the answer area data   */ 05164700
*       3 CaaData   Bdy(Word),   /* Answer area data                 */ 05179400
*        5 CaaRetCode    Fixed(32), /* Return code.  Values are defined 05194100
*                                   in IXLYCON.                  @D1C*/ 05238200
*        5 CaaRsnCode    Fixed(32), /* Reason code.  Values are defined 05282300
*                                   in IXLYCON.                  @D1C*/ 05326400
*        5 CaaByteA      Bit(8), /* Answer area bit-level fields     */ 05370500
*         7 CaaChanged   Bit(1), /* Cached subsystem data changed       05385200
*                          status.  Returned for successful READ_DATA   05410100
*                          requests and WRITE_DATA requests which fail  05435000
*                          because of an incompatible state.            05459900
*                          For structures allocated in a CFLEVEL=4      05467000
*                          or higher coupling facility CaaChanged       05474100
*                          is returned on READ_DATA requests which      05481200
*                          receive the warning that there was no data   05488300
*                          to read.                                     05495400
*                          1 ==> changed, 0 ==> unchanged.       @02C*/ 05502500
*         7 CaaInvLcvi   Bit(1), /* Indicates a local cache vector      05510000
*                          index was invalidated because interest for   05532500
*                          the associated item was re-registered using  05555000
*                          a different vector index.  When this bit is  05577500
*                          set the CaaInvLcviNum field contains the     05600000
*                          invalidated vector index number.  Returned   05622500
*                          for successful READ_DATA and CASTOUT_DATA    05645000
*                          requests and WRITE_DATA requests when        05667500
*                          WHENREG=NO is specified.  Also returned on   05690000
*                          READ_DATA requests which receive the         05712500
*                          warning that there was no data to read.   */ 05735000
*          9 CaaLcvi Bit(1), /* Only valid for a WRITE_DATA request     05737500
*                          with WHENREG=YES and VECTORINDEX specified.  05740000
*                          CaaLcvi indicates that the value of the      05742500
*                          vectorindex specified on the request does    05745000
*                          not match the value of the registered local  05747500
*                          cache vector index.  CaaLcviNum will contain 05750000
*                          the value of the registered local cache      05752500
*                          vector index.                         @01A*/ 05755000
*         7 CaaParity    Bit(2), /* Parity as recorded in the           05757500
*                          directory entry.  Returned for successful    05780000
*                          READ_DATA and CASTOUT_DATA requests.         05786400
*                          For structures allocated in a CFLEVEL=4      05792800
*                          or higher coupling facility CaaParity        05799200
*                          is returned on READ_DATA requests which      05805600
*                          receive the warning that there was no data   05812000
*                          to read.                              @02C*/ 05818400
*         7 CaaCoLockState Bit(2), /* Castout lock state.  Returned for 05825000
*                          successful READ_DATA requests, for           05847500
*                          WRITE_DATA requests which fail because the   05870000
*                          entry is in an incompatible state, for       05892500
*                          CASTOUT_DATA requests which fail because the 05915000
*                          castout lock is already held, and for        05937500
*                          UNLOCK_CASTOUT and UNLOCK_CO_NAME requests   05960600
*                          which fail because the castout lock is       05983700
*                          not held or the castout lock state is        06006800
*                          incompatible. Values are declared below.     06029900
*                          UNLOCK_CO_NAME is CFLEVEL=4 or higher.       06053000
*                          For structures allocated in a CFLEVEL=4      06076100
*                          or higher coupling facility CaaCoLockState   06099200
*                          is returned on READ_DATA requests which      06122300
*                          receive the warning that there was no data   06145400
*                          to read.                              @02C*/ 06168500
*         7 CaaDataCached    Bit(1),  /* Data-cached indicator.         06191600
*                          For structures which are allocated in a      06214700
*                          CFLEVEL=4 or higher coupling facility        06237800
*                          it is returned on successful READ_DATA       06260900
*                          requests.                                    06307100
*                             1 ==> subsystem data is cached for        06353300
*                                   the entry.                          06376400
*                             0 ==> no subsystem data is cached,        06399500
*                                   e.g. only a directory entry         06422600
*                                   is allocated for the name.   @02A*/ 06445700
*         7 CaaAdjareaValid  Bit(1), /* Adjunct area validity bit.      06468800
*                          Returned on READ_DATA requests               06491900
*                          when AdjArea has been specified.             06515000
*                             1 ==> Valid adjunct data has              06538100
*                                   been returned.                      06561200
*                             0 ==> Adjunct data did not                06584300
*                                   exist.                       @02A*/ 06607400
*        5 CaaStgClFull  Fixed(8), /* The storage class from which a    06632600
*                          reclaiming operation failed, causing the     06634700
*                          failure of a READ_DATA, WRITE_DATA           06636800
*                          or REG_NAMELIST request because directory or 06638900
*                          data entry resources could not be obtained   06641000
*                          to satisfy the request.               @01C*/ 06643100
*        5 CaaULIndex    Fixed(16), /* Index of the name element that   06645500
*                          caused failure of an UNLOCK_CASTOUT request  06645900
*                          or the index of the first unprocessed name   06646300
*                          element if the UNLOCK_CASTOUT completed      06646700
*                          prematurely or failed due to an invalid      06647000
*                          index value.                              */ 06647300
*          7 CaaRNLIndex Fixed(16), /* Index of the current             06647400
*                          registration block.  A value of zero         06647500
*                          indicates that no registration blocks were   06647600
*                          successfully processed.  For each of the     06647700
*                          following return/reason codes, the value     06647800
*                          of CaaRNLIndex will be as follows:           06647900
*                          IxlRetcodeOk => Index of the last            06648000
*                            registration block that the connector      06648100
*                            requested be processed (ENDINDEX).         06648200
*                          IxlRsncodeTimeout => Index of the first      06648300
*                            unprocessed registration block.  All       06648400
*                            prior registration blocks were             06648500
*                            processed.                                 06648600
*                          IxlRsncodeStrFull, IxlRsncodeBadStgClass =>  06648700
*                            Index of the registration block            06648800
*                            associated with the failing registration   06648900
*                            command.  All prior registration blocks    06649000
*                            were processed.                            06649100
*                          IxlRsnCodeBadVectorOp => Index of the        06649200
*                            registration block containing the first    06649300
*                            invalid vector index.  None of the         06649400
*                            specified registration blocks were         06649500
*                            processed (command processing was          06649600
*                            suppressed).                        @01A*/ 06649700
*            9 CaaDNLIndex Fixed(16), /* Index of the current           06649800
*                          name element. For each of the following      06649900
*                          return/reason codes, the value CaaDNLIndex   06650000
*                          will be as follows:                          06650100
*                          IxlRsncodeTimeout => Index of the first      06650200
*                            unprocessed name element. All prior name   06650300
*                            elements were processed, however, if       06650400
*                            ErrorAction=CONTINUE was specified then    06650500
*                            some of the prior name elements may not    06650600
*                            have been processed successfully.          06650700
*                          IxlRsnCodeBadEntryVersion => Index of the    06650800
*                            name element which failed because of a     06650900
*                            version number mis-match when              06651000
*                            ErrorAction=TERMINATE was specified.       06651100
*                          IxlRsnCodeNoEntry => Index of the name       06651200
*                            element which failed because the entry     06651300
*                            specified did not exist in the structure   06651400
*                            when ErrorAction=TERMINATE was specified.  06651500
*                          CaaDNLIndex is valid only for structures     06651600
*                          allocated in a CFLEVEL=5 or higher coupling  06651700
*                          facility.                             @03A*/ 06651800
*        5 CaaCoLockVal  Char(2), /* The contents of the castout lock   06651900
*                          for the entry.  Returned for successful      06652000
*                          READ_DATA requests, for WRITE_DATA requests  06652100
*                          which fail because the entry is in an        06652200
*                          incompatible state, for CASTOUT_DATA         06652300
*                          requests which fail because the castout lock 06652400
*                          is held, and for UNLOCK_CASTOUT and          06652500
*                          UNLOCK_CO_NAME requests which fail either    06652600
*                          because the castout lock is in an            06652700
*                          incompatible state or because the castout    06652800
*                          lock is not held by the connection.          06652900
*                          Unlock_CO_Name is CFLEVEL=4 or higher.       06653000
*                          For structures allocated in a CFLEVEL=4      06653100
*                          or higher coupling facility CaaCoLockVal     06653200
*                          is returned on READ_DATA requests which      06653300
*                          receive the warning that there was no data   06653400
*                          to read.                              @02C*/ 06653500
*        5 CaaRefCount   Fixed(16), /* The number of processed          06653600
*                          directory entries that initially had the     06653700
*                          reference bit set for a RESET_REFBIT         06653800
*                          request.                                  */ 06653900
*        5 CaaElemNum    Fixed(16), /* Cache entry size expressed as    06654000
*                          the number of elements in the entry.         06654100
*                          Returned for successful READ_DATA and        06654200
*                          CASTOUT_DATA requests when BUFFER or         06654300
*                          BUFLIST is specified.  Also returned for     06654400
*                          READ_DATA and CASTOUT_DATA requests which    06654500
*                          fail due to a bad buffer size.               06654600
*                          For structures allocated in CFLEVEL=4 or     06654700
*                          higher coupling facilities, returned for     06654800
*                          successful READ_DATA requests whether or     06654900
*                          not BUFFER or BUFLIST is specified.   @02C*/ 06655000
*        5 *             Char(2),   /* Reserved                      */ 06655100
*        5 CaaDirCount   Fixed(32), /* The number of IXLYDEIBs returned 06655200
*                          for a READ_DIRINFO request, the number of    06655300
*                          IXLYCANBs returned for a READ_DIRINFO or     06655400
*                          READ_COCLASS request, or the number of       06655500
*                          processed directory entries for a            06655600
*                          RESET_REFBIT request.  Returned when any of  06655700
*                          these requests completes successfully or     06655800
*                          prematurely.                              */ 06655900
*        5 CaaCoCount    Fixed(32), /* The total number of data         06656000
*                          elements assigned to the castout class to    06656100
*                          which data was just written.                 06656200
*                          Returned for successful WRITE_DATA requests  06656300
*                          of changed subsystem data.                */ 06656500
*        5 CaaTotChanged Fixed(32), /* The total number of entries      06656800
*                          assigned to the storage class to which data  06657100
*                          was just written that contain changed or     06657400
*                          locked-for-cast-out subsystem data.          06657700
*                          Returned for successful WRITE_DATA requests  06658000
*                          of changed subsystem data.                */ 06658300
*        5 CaaResToken   Char(8), /* Request restart token.  Returned   06659200
*                          for READ_DIRINFO, READ_COCLASS, CROSS_INVAL, 06659400
*                          DELETE_NAME, and RESET_REFBIT requests which 06659600
*                          complete prematurely. Valid for connectors   06659700
*                          that specify ALLOWAUTO=NO on their           06659800
*                          IXLCONN invocation.                   @L2C*/ 06659900
*        5 CaaInvLcviNum Fixed(32), /* Invalidated local cache vector   06660200
*                          index number.  Only valid when the           06660300
*                          CaaInvLcvi bit is set.  Returned for         06660400
*                          successful READ_DATA and CASTOUT_DATA        06660500
*                          requests, and for WRITE_DATA requests when   06660600
*                          WHENREG=NO is specified.  Also returned on   06660700
*                          READ_DATA requests which receive the         06660800
*                          warning that there was no data to read.   */ 06660900
*          7 CaaLcviNum  Fixed(32), /* Local cache vector index         06661000
*                          number.  Returned for WRITE_DATA requests    06661100
*                          with WHENREG=NO which fail because the       06661200
*                          castout lock state is incompatible with      06661300
*                          the request,  and for WRITE_DATA             06661400
*                          requests with WHENREG=YES and VECTORINDEX    06661500
*                          specified which fail because the VECTORINDEX 06661600
*                          specified does not match the registered      06661700
*                          local cache vector (CaaLcviNum will          06661800
*                          contain the value of the registered local    06661900
*                          cache vector).  For WRITE_DATA requests with 06662000
*                          WHENREG=YES and VECTORINDEX specified,       06662100
*                          CaaLcviNum is only valid when                06662200
*                          the CaaLcvi bit is set.               @01C*/ 06662300
*        5 CaaSuspendTime FIXED(32), /* Suspend time for request        06662400
*                          (microseconds).  Will be zero if the         06662500
*                          request was not suspended or if the support  06662600
*                          for suspend time computation is not          06662700
*                          installed.                            @04C*/ 06662800
*        5 CaaUserData   Char(8),  /* User data field. Returned on      06662900
*                          successful Castout_Data requests.            06663000
*                          CaaUserData is valid only for structures     06663100
*                          allocated in a CFLEVEL=5 or higher coupling  06663200
*                          facility.                             @03A*/ 06663300
*        5 CaaVersion    Char(8),  /* Version number. Returned on       06663400
*                          Write_Data requests when a version           06663500
*                          number comparison fails, Delete_NameList     06663600
*                          requests when ErrorAction=TERMINATE is       06663700
*                          specified and a version number comparison    06663800
*                          fails, successful Read_Data requests, and    06663900
*                          successful Castout_Data requests. CaaVersion 06664000
*                          is valid only for structures allocated in    06664100
*                          a CFLEVEL=5 or higher coupling facility.     06664200
*                                                                @03A*/ 06664300
*        5 CaaRsvd       Char(20), /* Reserved                   @P4A*/ 06664400
*          7 CaaRsvd1    Char(4),  /* Reserved for system use    @P4A*/ 06664500
*          7 CaaRsvd2    Char(16), /* Reserved for system use    @P4A*/ 06664600
*        5 CaaVersion0End Char(0), /* End of IXLCACHE answer area       06664700
*                                     for CAA version level 0    @L1A*/ 06664800
*        5 CaaExtRestoken Char(16), /* Request restart token.           06664900
*                                     Returned for READ_DIRINFO,        06665000
*                                     READ_COCLASS, CROSS_INVAL,        06665100
*                                     DELETE_NAME, and RESET_REFBIT     06665200
*                                     requests which complete           06665300
*                                     prematurely.  Valid for           06665400
*                                     connectors that specify           06665500
*                                     ALLOWAUTO=YES                     06665600
*                                     on their IXLCONN invocation.      06665700
*                                                                @L2C*/ 06665800
*        5 *             Char(32), /* Reserved                   @L1A*/ 06665900
*        5 CaaVersion1End Char(0), /* End of IXLCACHE answer area       06666000
*                                     for CAA version level 1    @L1A*/ 06666100
*       3 CaaEnd         Char(0);  /* End IXLCACHE answer area       */ 06666200
*                                                                       06666300
*/********************************************************************/ 06666400
*/* Constants                                                    @L2A*/ 06666500
*/********************************************************************/ 06666600
* Dcl CaaLevel# Fixed(31) Constant(1);/* Macro level number      @L1C*/ 06666700
* Dcl CaaLevelNum Fixed(31) Constant(1);/* Macro level number    @L1C*/ 06666800
*                                                                       06666900
* Dcl CaaLevel0 Fixed(31) Constant(0); /* Macro level number     @L1A*/ 06667000
* Dcl CaaLevel1 Fixed(31) Constant(1); /* Macro level number     @L1A*/ 06667100
*                                                                       06667200
* Dcl CaaLevel0Len Fixed(31)                                            06667300
*     Constant(Offset(Caa.CaaVersion0End));  /* Length of CaaLevel0     06667400
*                                     answer area                @L2A*/ 06667500
* Dcl CaaLevel1Len Fixed(31)                                            06667600
*     Constant(Offset(Caa.CaaVersion1End));  /* Length of CaaLevel1     06667700
*                                     answer area                @L2A*/ 06667800
*                                                                       06667900
* /* Castout lock state values                                   @D2A*/ 06668000
* /* Note: To use these values you should reset all of the bits in      06668100
*          CAABYTEA except the CAACOLOCKSTATE bits and then compare     06668200
*          the full byte against these values.                   @D2A*/ 06669100
*                                                                       06670200
* Dcl CaaCols_Reset            Bit(8) Constant('00000000'B), /* The     06671300
*                          reset state is entered when the name is      06672400
*                          assigned to the directory entry or when the  06673500
*                          castout lock is reset to zeros.       @D2A*/ 06674600
*     CaaCols_ReadForCastout   Bit(8) Constant('00000100'B), /* The     06675700
*                          read for castout state is entered when the   06676800
*                          castout lock is obtained by a CASTOUT_DATA   06677900
*                          request.                              @D2A*/ 06679000
*     CaaCols_WriteWithCastout Bit(8) Constant('00001000'B); /* The     06680100
*                          write with castout state is entered          06681200
*                          when the castout lock is obtained by a       06682300
*                          WRITE_DATA request specifying                06683400
*                          GETCOLOCK=YES.                        @D2A*/ 06684500
*                                                                       06687500
* %Deactivate Caa_Dcl_Attr;                                             06700000
*                                                                       06750000
*/* End of PL/X Source                                               */ 06800000
* %IF IXLYCAA_LIST ^= 'NO' &                                            06850000
*    ZCBPRINT ^= 'NO' %THEN                                             06900000
*   %GOTO IXLYCAA_4;                                                    06950000
*   @LIST POP NOECHO;                                                   07000000
* %IXLYCAA_4:;                                                          07050000
* %END;                                                                 07100000
