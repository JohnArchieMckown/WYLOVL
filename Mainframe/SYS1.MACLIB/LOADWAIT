*%LOADWAIT: MACRO KEYS(CODE,REASON,WAITTYPE,ACTCODE,PSAPARM,MF);        00050000
*/**** START OF SPECIFICATIONS **************************************** 00100000
*                                                                     * 00150000
*01* MACRO NAME:  LOADWAIT                                            * 00200000
*                                                                     * 00250000
*01* DESCRIPTIVE NAME:  Create or modify a LOADWAIT parameter list    * 00300000
*                                                                     * 00350000
*01* COMPONENT:  Loadwait/Restart (SCLWT)                             * 00400000
*                                                                     * 00450000
*01* COPYRIGHT:                                                       * 00500000
*                                                                     * 00550000
*        LICENSED MATERIALS - PROPERTY OF IBM                         * 00600000
*        THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                  * 00650000
*        5695-047 (C) COPYRIGHT IBM CORP. 1990                        * 00700000
*        SEE COPYRIGHT INSTRUCTIONS                                   * 00750000
*                                                                     * 00800000
*01* STATUS: HBB4420                                                  * 00850000
*                                                                     * 00900000
*01* FUNCTION:                                                        * 00950000
*                                                                     * 01000000
*      Defines storage for and/or initializes a LOADWAIT parameter    * 01050000
*      list which contains system wait state information.             * 01100000
*                                                                     * 01150000
*01* USAGE-NOTE:                                                      * 01200000
*                                                                     * 01300000
*      The name of the LOADWAIT parameter list is specified on        * 01306200
*      the WSPARM keyword of the WTO macro.                           * 01312400
*                                                                     * 01318600
*01* INVOCATION-REQUIREMENTS:                                         * 01324800
*                                                                     * 01331000
*      Authorization:    Supervisor state and PSW key 0, or           * 01337200
*                        APF authorized.                              * 01343400
*      Addressing Mode:  24 or 31 bit addressing mode.                * 01350000
*      ASC mode:         Primary ASC mode.                            * 01450000
*      Execution Mode:   Task or SRB.                                 * 01475000
*                                                                     * 01500000
*01* RESTRICTIONS-AND-LIMITATIONS:                                    * 01600000
*                                                                     * 01625000
*      The LOADWAIT parameter list (and action code receiver, if      * 01630700
*      specified) must reside in fixed storage of the  WTO issuer's   * 01636400
*      address space.                                                 * 01642100
*                                                                     * 01647800
*01* REGISTER-INFORMATION:                                            * 01653500
*                                                                     * 01659200
*      If the modify form of the macro is used, (MF=M), then the      * 01664900
*      contents of registers 0 and 1 are destroyed.                   * 01670600
*                                                                     * 01676300
*01* INVOCATION-FORMAT:                                               * 01682000
*                                                                     * 01687700
* (ASM)                                                               * 01693400
*  label   LOADWAIT     CODE=code                                     * 01700000
*                      ,REASON= reason|0                              * 01750000
*                      ,WAITTYPE=RESTARTABLE                          * 01800000
*                          ,ACTCODE= actcode|0                        * 01850000
*                          ,PSAPARM= psaparm|0                        * 01900000
*                      ,WAITTYPE=NONREST                              * 01950000
*                      ,MF=(L,mfctrl,  mfattr )                       * 02000000
*                      ,MF=(M,mfctrl)                                 * 02050000
*                                                                     * 02100000
*     Note: An LTORG statement should be used with the assembler      * 02101000
*           version so that the literals used by the macro will be    * 02102000
*           addressable.                                              * 02103000
*                                                                     * 02104000
* (PL/AS)                                                             * 02105000
*         ?LOADWAIT     CODE(code)                                    * 02110000
*                       REASON( reason|0 )                            * 02115000
*                       WAITTYPE(RESTARTABLE)                         * 02120000
*                           ACTCODE( actcode|0 )                      * 02125000
*                           PSAPARM( psaparm|0 )                      * 02130000
*                       WAITTYPE(NONREST)                             * 02135000
*                       MF(L,mfctrl,  mfattr  )                       * 02140000
*                       MF(M,mfctrl)                                  * 02145000
*                                                                     * 02150000
*     Note: Please see explanation of MF keyword if mfattr is used.   * 02162500
*                                                                     * 02175000
*                                                                     * 02187500
*      Where:                                                         * 02200000
*                                                                     * 02250000
*      label                                                          * 02350000
*          is an optional 1 to 8 alphanumeric character input string, * 02400000
*          starting in column 1, that is the assembler label on the   * 02450000
*          LOADWAIT macro.                                            * 02500000
*          DEFAULT: Null label.                                       * 02550000
*                                                                     * 02600000
*                                                                     * 02650000
*      CODE(code)                                                     * 02750000
*          is the name (RX-type) of a required halfword input wait    * 02800000
*          state code to be loaded. This must be a constant when an   * 02850000
*          initialized list is requested (MF=L).                      * 02900000
*                                                                     * 02950000
*                                                                     * 03000000
*      REASON( reason|0  )                                           *  03050000
*          is the name (RX-type) of an optional halfword input reason * 03150000
*          code for the wait state. This must be a constant when an   * 03183300
*          initialized list is requested (MF=L).                      * 03216600
*          DEFAULT: 0.                                                * 03250000
*                                                                     * 03300000
*                                                                     * 03350000
*      WAITTYPE( RESTARTABLE|NONREST )                                * 03450000
*          is a required keyword input if any other keywords are used * 03483300
*          besides MF.                                                * 03516600
*                                                                     * 03550000
*          WAITTYPE(RESTARTABLE)                                      * 03650000
*              request that the wait state be restartable.            * 03700000
*                                                                     * 03800000
*               ACTCODE( actcode|0  )                                 * 03850000
*                  is the name (RX-type) of an optional byte that     * 03900000
*                  may be used by the operator to communicate         * 03908800
*                  information to the program when the system is      * 03917600
*                  restarted.  ACTCODE is only valid for restartable  * 03926400
*                  wait states.  The modify form of the LOADWAIT      * 03935200
*                  macro must be used when specifying an action code  * 03944000
*                  byte because its value can only be determined      * 03952800
*                  during program execution.                          * 03961600
*                                                                     * 03970400
*                  If the operator chooses, he will store the         * 03979200
*                  action code at storage location '30E'X of the      * 03988000
*                  CPU the operator used to restart the system.       * 03996800
*                                                                     * 04005600
*                  When the system is restarted, the contents of      * 04014400
*                  storage location '30E'X is copied to the           * 04023200
*                  storage pointed to by the ACTCODE byte.            * 04032000
*                                                                     * 04040800
*                  DEFAULT: 0.                                        * 04050000
*                                                                     * 04200000
*               PSAPARM( psaparm|0 )                                  * 04250000
*                  is the name (RX-type) of an optional fullword      * 04300000
*                  containing additional information to be            * 04311500
*                  communicated to the operator, by the program, at   * 04323000
*                  the time the system is placed into the wait state. * 04334500
*                  PSAPARM is only valid for restartable wait states. * 04346000
*                  Before the system is placed into the restartable   * 04357500
*                  wait state, the contents of the PSAPARM word is    * 04369000
*                  copied to storage location '40C'X of all the CPUs. * 04380500
*                  The operator response for the wait state should    * 04392000
*                  direct the operator to look at storage location    * 04403500
*                  '40C'X if PSAPARM was specified.  PSAPARM must be  * 04415000
*                  a constant when an initialized LOADWAIT parameter  * 04426500
*                  list is requested (MF=L).                          * 04438000
*                  DEFAULT: 0.                                        * 04450000
*                                                                     * 04500000
*                                                                     * 04550000
*          WAITTYPE(NONREST)                                          * 04600000
*              request that the wait state be non-restartable.  The   * 04633300
*              system must be re-IPLed.                               * 04666600
*                                                                     * 04700000
*                                                                     * 04750000
*      MF(L|M)                                                        * 04900000
*          is a required keyword input which specifies the macro      * 04950000
*          form.                                                      * 05000000
*                                                                     * 05050000
*                                                                     * 05100000
*          MF(L,mfctrl,  mfattr )                                     * 05150000
*              specifies the list form of the macro.  The "L" form    * 05200000
*              defines an area to be used for the parameter list.     * 05250000
*           ** An uninitialized LOADWAIT parameter list is generated  * 05290000
*              if no other keywords are used in the invocation.       * 05330000
*           ** An initialized LOADWAIT parameter list is generated    * 05370000
*              if other keywords are used.                            * 05410000
*                                                                     * 05450000
*            ,mfctrl                                                  * 05500000
*              is a required input.  It is the name (RX-type) to be   * 05550000
*              given to the LOADWAIT parameter list.                  * 05600000
*                                                                     * 05650000
*            , mfattr                                                 * 05700000
*              is an optional character input string that varies      * 05750000
*              from 1 to 60 characters, that contains any special     * 05800000
*              attributes for the parameter list.                     * 05850000
*              (PL/AS Examples: STATIC, DYNAMIC, BDY(DWORD))          * 05858700
*              (ASM Examples: DS 0F, DS 0D)                           * 05867400
*           ** If any attributes are specified, a boundary attribute  * 05876100
*              should also be specified. If anything less than a      * 05885000
*              word boundary is specified, bytes may be skipped       * 05890000
*              within the structure.                                  * 05895000
*                                                                     * 05900000
*          MF(M,mfctrl)                                               * 05950000
*              specifies the modify form of the macro.  The "M" form  * 06000000
*              generates code to put the parameters into the          * 06050000
*              LOADWAIT parameter list specified by mfctrl.           * 06100000
*                                                                     * 06150000
*            ,mfctrl                                                  * 06200000
*              is a required input.  It is the name (RX-type) (or     * 06250000
*              address in register (2)-(12) ASM only) of a storage    * 06300000
*              area for the LOADWAIT parameter list.                  * 06350000
*                                                                     * 06400000
*                                                                     * 06450000
*01* MACRO-RETURN-CODES:                                              * 06500000
*                                                                     * 06750000
*                   0 - no errors in the macro invocation.            * 06775000
*                   8 - error(s) in macro invocation, program         * 06800000
*                       compilation/assembly terminated.              * 06825000
*                                                                     * 06850000
*01* REASON-CODES:  None.                                             * 06900000
*                                                                     * 07100000
*01* MODULE-TYPE: BIL. (Bilingual)                                    * 07120700
*                                                                     * 07141500
*02* PROCESSOR: PL/AS or ASSEM.                                       * 07150000
*                                                                     * 07200000
*01* NOTES:                                                           * 07250000
*                                                                     * 07300000
*      ACTCODE keyword note:                                          * 07350000
*                                                                     * 07400000
*           The ACTCODE field of the LOADWAIT parameter list points   * 07401500
*           to a storage location that will contain the action code   * 07403000
*           which may have been stored at location '30E'X, by the     * 07404500
*           operator, of the CPU from which the operator chose to     * 07406000
*           restart the system.                                       * 07407500
*                                                                     * 07409000
*           It is not guaranteed that the operator will enter an      * 07410500
*           action code when ACTCODE is specified.                    * 07412000
*                                                                     * 07413500
*01* DISTRIBUTION-LIBRARY: AMACLIB                                    * 07415000
*                                                                     * 07416500
*01* CHANGE-ACTIVITY:                                                 * 07418000
*                                                                     * 07420700
*    Flag Reason Release Date   Origin Description                    * 07424300
*    ----------- ------- ------ ------ ---------------------------    * 07427900
*    $H0=CNITG   HBB4410 890313 PDQ9:  Console Integration            * 07431500
*    $H1=CNITG   HBB4410 890717 PDQ9:  Console Integration            * 07435100
*    $H2=CNITG   HBB4410 890918 PDEH:  FBB4410/HBB4410 merge          * 07438700
*    $P1=PEO3558 HBB4410 900226 PDEH:  Message changes.               * 07442300
*    $P1=PH32078 HBB4420 910111 PDEH:  Prologue revision.             * 07445900
*                                                                     * 07450000
****** END OF SPECIFICATIONS *****************************************/ 07500000
*/********************************************************************* 07550000
         MACRO                                                          07600000
&XLABEL  LOADWAIT &CODE=,&REASON=,&WAITTYPE=,&ACTCODE=,&PSAPARM=,&MF=   07650000
.*                                                                      07700000
*            MACDATE  03/15/89    HBB4410                               07750000
.*                                                                      07800000
         GBLC  &SYSASCE                                                 07850000
         LCLA  &NUMSERV,&NULL,&ERRCODE,&WAIT,&INDEX                     07900000
         LCLC  &LDWTCNST,&VERSCONST,&LABEL                              07950000
         LCLC  &WTCODE,&RSCODE,&PARMPSA,&PARMACT                        08000000
         LCLC  &FLG,&B1,&B2,&B3,&B4,&TYP                                08050000
         LCLC  &ACRO,&VERS,&LEN,&COD,&REA,&PSA,&ACT                     08100000
&ERRCODE  SETA 0                                                        08150000
&WAIT     SETA 0                                                        08200000
&LDWTCNST SETC 'LDWT'                                                   08250000
&VERSCNST SETC '01'                                                     08300000
.*   Initialize macro variables to define field names in the            08350000
.*     parameter list                                                   08400000
.*                                                                      08450000
&ACRO     SETC 'LDWT'                                                   08500000
&VERS     SETC 'VER'                                                    08550000
&LEN      SETC 'LEN'                                                    08600000
&COD      SETC 'COD'                                                    08650000
&REA      SETC 'REA'                                                    08700000
&PSA      SETC 'PSA'                                                    08750000
&ACT      SETC 'ACT'                                                    08800000
&FLG      SETC 'FLG'                                                    08850000
&B1       SETC 'B1'                                                     08900000
&B2       SETC 'B2'                                                     08950000
&B3       SETC 'B3'                                                     09000000
&B4       SETC 'B4'                                                     09050000
&TYP      SETC 'TYP'                                                    09100000
.*                                                                      09150000
.*                                                                      09200000
.*********************************************************************  09250000
.*   Check SYSSTATE                                                     09300000
.*********************************************************************  09350000
.*                                                                      09400000
         AIF  (K'&SYSASCE GT 0).ASCESET   Has SYSSTATE been issued?     09450000
         SYSSTATE  TEST                   If not, set it.               09500000
.ASCESET  ANOP  ,                                                       09550000
         AIF  ('&SYSASCE' NE 'P').ERR16   If not primary ASC mode,      09600000
.*                                        error.                        09650000
.*                                                                      09700000
.*********************************************************************  09750000
.*   Check MF keyword                                                   09800000
.*********************************************************************  09850000
.*                                                                      09900000
         AIF   ('&MF(1)' NE 'L' AND '&MF(1)' NE 'M').ERR01              09950000
         AIF   (N'&MF LT 2).ERR02                                       10000000
         AIF   (N'&MF GT 3).ERR03                                       10050000
.ERRETA  ANOP  ,                                                        10100000
         AIF   ('&MF(1)' EQ 'M').CHKRST                                 10150000
.*                                                                      10200000
.*                                                                      10250000
.*********************************************************************  10300000
.*    If no keywords other than MF are supplied, set up parameter list  10350000
.*      with DS's                                                       10400000
.*********************************************************************  10450000
.*                                                                      10500000
         AIF   (('&CODE' EQ '') AND ('&REASON' EQ '') AND              +10550000
               ('&WAITTYPE' EQ '') AND ('&ACTCODE' EQ '') AND          +10600000
               ('&PSAPARM' EQ '')).DYNSTOR                              10650000
.*                                                                      10700000
.*                                                                      10750000
.*********************************************************************  10800000
.*    Validity check specified keywords.                                10850000
.*********************************************************************  10900000
.*                                                                      10950000
         AIF   (N'&CODE NE 1).ERR04                                     11000000
.*                                                                      11050000
&WTCODE  SETC  '&CODE'                                                  11100000
.*                                                                      11150000
.ERRETB  ANOP  ,                                                        11200000
.CHKRSN  ANOP  ,                                                        11250000
         AIF   ('&REASON' EQ '').REASN0                                 11300000
         AIF   (N'&REASON GT 1).ERR05                                   11350000
.*                                                                      11400000
&RSCODE  SETC  '&REASON'                                                11450000
         AGO   .CHKTYPE                                                 11500000
.*                                                                      11550000
.REASN0  ANOP  ,                                                        11600000
&RSCODE  SETC  '0'                                                      11650000
.*                                                                      11700000
.ERRETC  ANOP  ,                                                        11750000
.CHKTYPE ANOP  ,                                                        11800000
         AIF   ('&WAITTYPE' EQ '').CHKPSA                               11850000
         AIF   (N'&WAITTYPE GT 1).ERR06                                 11900000
         AIF   ('&WAITTYPE' EQ 'NONREST').CHKPSA                        11950000
         AIF   ('&WAITTYPE' NE 'RESTARTABLE').ERR07                     12000000
&WAIT    SETA  1                                                        12050000
.*                                                                      12100000
.ERRETD  ANOP  ,                                                        12150000
.CHKPSA  ANOP  ,                                                        12200000
         AIF   ('&PSAPARM' EQ '').SETPARM                               12250000
         AIF   (N'&PSAPARM GT 1).ERR08                                  12300000
         AIF   ('&WAITTYPE' NE 'RESTARTABLE').ERR08A                    12350000
&PARMPSA SETC  '&PSAPARM'                                               12400000
.*                                                                      12450000
         AGO   .CHKACT                                                  12500000
.SETPARM ANOP  ,                                                        12550000
&PARMPSA SETC  '0'                                                      12600000
.*                                                                      12650000
.ERRETE  ANOP  ,                                                        12700000
.CHKACT  ANOP  ,                                                        12750000
         AIF   ('&ACTCODE' NE '').ERR09                                 12800000
.*                                                                      12850000
.********************************************************************** 12900000
.*                                                                      12950000
.*   Check for any messages issued                                      13000000
.*                                                                      13050000
.********************************************************************** 13100000
.*                                                                      13150000
.ERRETF  ANOP  ,                                                        13200000
         AIF   ('&ERRCODE' NE '0').NOCODE                               13250000
.*                                                                      13300000
.*                                                                      13350000
.********************************************************************** 13400000
.*                                                                      13450000
.*   Provide uninitialized storage mapping of parameter list            13500000
.*                                                                      13550000
.********************************************************************** 13600000
.*                                                                      13650000
&LABEL   SETC '&MF(2)'                                                  13700000
         AIF  ('&XLABEL' EQ '').PRTLSTA                                 13750000
&XLABEL         DS 0F                                              @H1C 13800000
.*                                                                      13850000
.PRTLSTA ANOP  ,                                                        13900000
         AIF  (N'&MF GT 2).PRTLSTB                                      13950000
&LABEL          DS 0F                                              @H1C 14000000
         AGO    .PRTLSTC                                                14050000
.PRTLSTB ANOP  ,                                                        14100000
&LABEL          DS &MF(3)                                               14150000
.PRTLSTC ANOP  ,                                                        14200000
.*                                                                      14250000
&MF(2)&ACRO     DC CL4'&LDWTCNST'   LOADWAIT ACRONYM                    14300000
&MF(2)&VERS     DC CL1'&VERSCNST'   LOADWAIT VERSION NUMBER             14350000
                DC CL1'00'                                              14400000
&MF(2)&LEN      DC AL2(24)          LENGTH OF LOADWAIT PARAMETER LIST   14450000
&MF(2)&FLG      DS 0CL4             LOADWAIT FLAGS                      14500000
&MF(2)&B1       DC X'00'                                                14550000
&MF(2)&B2       DC X'00'                                                14600000
&MF(2)&B3       DC X'00'                                                14650000
&MF(2)&B4       DC X'0&WAIT'                                            14700000
&MF(2)&TYP      EQU X'01'           IF THIS BIT IS SET TO 1, THEN THIS  14750000
*                                   IS A RESTARTABLE WAIT STATE. IF     14800000
*                                   THIS BIT IS SET TO 0, THEN THIS IS  14850000
*                                   A NON-RESTARTABLE WAIT STATE.       14900000
&MF(2)&COD      DC AL2(&WTCODE)     WAIT STATE CODE                     14950000
&MF(2)&REA      DC AL2(&RSCODE)     REASON CODE ASSOCIATED WITH THE     15000000
*                                   WAIT STATE                          15050000
&MF(2)&PSA      DC AL4(&PARMPSA)    ADDITIONAL INFORMATION TO PASS TO   15100000
*                                   THE OPERATOR IN PSAWTCOD            15150000
&MF(2)&ACT      DC A(0)             ADDRESS OF STORAGE TO CONTAIN       15200000
*                                   THE ACTION CODE SET BY THE OPERATOR 15250000
*                                   IN PSAACTCD                         15300000
         MEXIT                                                          15350000
.*                                                                      15400000
.********************************************************************** 15450000
.*                                                                      15500000
.*   Provide uninitialized storage mapping of parameter list            15550000
.*                                                                      15600000
.********************************************************************** 15650000
.*                                                                      15700000
.DYNSTOR ANOP  ,                                                        15750000
&LABEL   SETC '&MF(2)'                                                  15800000
         AIF  ('&XLABEL' EQ '').PRTLST1                                 15850000
&XLABEL         DS 0F                                              @H1C 15900000
.PRTLST1 ANOP  ,                                                        15950000
         AIF  (N'&MF GT 2).PRTLST2                                      16000000
&LABEL          DS 0F                                              @H1C 16050000
         AGO    .PRTLST3                                                16100000
.PRTLST2 ANOP  ,                                                        16150000
&LABEL          DS &MF(3)                                               16200000
.PRTLST3 ANOP  ,                                                        16250000
&MF(2)&ACRO     DS CL4       LOADWAIT ACRONYM                           16300000
&MF(2)&VERS     DS CL1       LOADWAIT VERSION NUMBER                    16350000
                DS CL1                                                  16400000
&MF(2)&LEN      DS AL2       LENGTH OF LOADWAIT PARAMETER LIST          16450000
&MF(2)&FLG      DS 0CL4      LOADWAIT FLAGS                             16500000
&MF(2)&B1       DS X                                                    16550000
&MF(2)&B2       DS X                                                    16600000
&MF(2)&B3       DS X                                                    16650000
&MF(2)&B4       DS X                                                    16700000
&MF(2)&TYP      EQU X'01'   IF THIS BIT IS SET TO 1, THIS IS A          16750000
*                           RESTARTABLE WAIT STATE. IF THIS BIT IS      16800000
*                           0, THIS IS A NON-RESTARTABLE WAIT STATE.    16850000
&MF(2)&COD      DS AL2      WAIT STATE CODE                             16900000
&MF(2)&REA      DS AL2      REASON CODE ASSOCIATED WITH THE WAIT STATE  16950000
&MF(2)&PSA      DS F        ADDITIONAL INFORMATION TO PASS TO OPERATOR  17000000
*                           IN PSAPARM                                  17050000
&MF(2)&ACT      DS A        ADDRESS OF STORAGE TO CONTAIN THE ACTION    17100000
*                           CODE SET BY THE OPERATOR IN PSAACTCD        17150000
         MEXIT                                                          17200000
.*                                                                      17250000
.********************************************************************** 17300000
.*                                                                      17350000
.*   Error messages                                                     17400000
.*                                                                      17450000
.********************************************************************** 17500000
.*                                                                      17550000
.ERR01   ANOP  ,                                                        17600000
         MNOTE 8,'BLWM000E  THE LIST OR MODIFY FORM MUST BE SPECIFIED'  17650000
         MEXIT                                                          17700000
.ERR02   ANOP  ,                                                        17750000
         MNOTE 8,'BLWM001E  AT LEAST 2 PARAMETERS ARE NEEDED ON THE MF +17800000
               KEYWORD'                                                 17850000
&ERRCODE SETA  &ERRCODE+1                                               17900000
         AGO   .ERRETA                                                  17950000
.ERR03   ANOP  ,                                                        18000000
         MNOTE 8,'BLWM002E  TOO MANY PARAMETERS SPECIFIED ON THE MF    +18050000
               KEYWORD'                                                 18100000
&ERRCODE SETA  &ERRCODE+1                                               18150000
         AGO   .ERRETA                                                  18200000
.ERR04   ANOP  ,                                                        18250000
         MNOTE 8,'BLWM003E  CODE KEYWORD MUST BE SPECIFIED AND CAN ONLY+18300000
               HAVE ONE PARAMETER'                                      18350000
&ERRCODE SETA  &ERRCODE+1                                               18400000
         AGO   .ERRETB                                                  18450000
.ERR05   ANOP  ,                                                        18500000
         MNOTE 8,'BLWM004E  TOO MANY PARAMETERS SPECIFIED ON THE REASON+18550000
               KEYWORD'                                                 18600000
&ERRCODE SETA  &ERRCODE+1                                               18650000
         AGO   .ERRETC                                                  18700000
.ERR06   ANOP  ,                                                        18750000
         MNOTE 8,'BLWM005E  TOO MANY PARAMETERS SPECIFIED ON THE       +18800000
               WAITTYPE KEYWORD'                                        18850000
&ERRCODE SETA  &ERRCODE+1                                               18900000
         AGO   .ERRETD                                                  18950000
.ERR07   ANOP  ,                                                        19000000
         MNOTE 8,'BLWM006E  RESTARTABLE OR NONREST MUST BE             +19050000
               SPECIFIED ON THE WAITTYPE KEYWORD'                       19100000
&ERRCODE SETA  &ERRCODE+1                                               19150000
         AGO   .ERRETD                                                  19200000
.ERR08   ANOP  ,                                                        19250000
         MNOTE 8,'BLWM007E  TOO MANY PARAMETERS SPECIFIED ON THE       +19300000
               PSAPARM KEYWORD'                                         19350000
&ERRCODE SETA  &ERRCODE+1                                               19400000
         AGO   .ERRETE                                                  19450000
.ERR08A  ANOP  ,                                                        19500000
         MNOTE 8,'BLWM011E  PSAPARM KEYWORD IS ONLY VALID FOR A        +19550000
               RESTARTABLE WAIT STATE'                                  19600000
&ERRCODE SETA  &ERRCODE+1                                               19650000
         AGO   .ERRETE                                                  19700000
.ERR09   ANOP  ,                                                        19750000
         MNOTE 8,'BLWM009E  ACTCODE KEYWORD NOT VALID WITH LIST FORM'   19800000
&ERRCODE SETA  &ERRCODE+1                                               19850000
         AGO   .ERRETF                                                  19900000
.ERR10   ANOP  ,                                                        19950000
         MNOTE 8,'BLWM006E  RESTARTABLE OR NONREST MUST BE             +20000000
               SPECIFIED ON THE WAITTYPE KEYWORD'                       20050000
&ERRCODE SETA  &ERRCODE+1                                               20100000
         AGO   .ERRETG                                                  20150000
.ERR11   ANOP  ,                                                        20200000
         MNOTE 8,'BLWM005E  TOO MANY PARAMETERS SPECIFIED ON THE       +20250000
               WAITTYPE KEYWORD'                                        20300000
&ERRCODE SETA  &ERRCODE+1                                               20350000
         AGO   .ERRETG                                                  20400000
.ERR12   ANOP  ,                                                        20450000
         MNOTE 8,'BLWM003E  CODE KEYWORD MUST BE SPECIFIED AND CAN ONLY+20500000
               HAVE ONE PARAMETER'                                      20550000
&ERRCODE SETA  &ERRCODE+1                                               20600000
         AGO   .ERRETH                                                  20650000
.ERR13   ANOP  ,                                                        20700000
         MNOTE 8,'BLWM004E  TOO MANY PARAMETERS SPECIFIED ON THE REASON+20750000
               KEYWORD'                                                 20800000
&ERRCODE SETA  &ERRCODE+1                                               20850000
         AGO   .ERRETI                                                  20900000
.ERR14   ANOP  ,                                                        20950000
         MNOTE 8,'BLWM007E  TOO MANY PARAMETERS SPECIFIED ON THE       +21000000
               PSAPARM KEYWORD'                                         21050000
&ERRCODE SETA  &ERRCODE+1                                               21100000
         AGO   .ERRETJ                                                  21150000
.ERR14A  ANOP  ,                                                        21200000
         MNOTE 8,'BLWM011E  PSAPARM KEYWORD IS ONLY VALID FOR A        +21250000
               RESTARTABLE WAIT STATE'                                  21300000
&ERRCODE SETA  &ERRCODE+1                                               21350000
         AGO   .ERRETJA                                                 21400000
.ERR15   ANOP  ,                                                        21450000
         MNOTE 8,'BLWM008E  TOO MANY PARAMETERS SPECIFIED ON THE       +21500000
               ACTCODE KEYWORD'                                         21550000
&ERRCODE SETA  &ERRCODE+1                                               21600000
         AGO   .ERRETK                                                  21650000
.ERR15A  ANOP  ,                                                        21700000
         MNOTE 8,'BLWM012E  ACTCODE KEYWORD IS ONLY VALID FOR A        +21750000
               RESTARTABLE WAIT STATE'                                  21800000
&ERRCODE SETA  &ERRCODE+1                                               21850000
         AGO   .ERRETKA                                                 21900000
.ERR16   ANOP  ,                                                        21950000
         MNOTE 8,'BLWM010E  MACRO CAN ONLY BE INVOKED IN PRIMARY ASC   +22000000
               MODE'                                                    22050000
         MEXIT                                                          22100000
.NOCODE  ANOP  ,                                                        22150000
         MNOTE 8,'BLWM015E  TOO MANY ERRORS ENCOUNTERED. NO CODE       +22183300
               GENERATED'                                               22216600
         MEXIT                                                          22250000
.*                                                                      22300000
.********************************************************************** 22350000
.*                                                                      22400000
.*   Validity check keywords specified with modify form                 22450000
.*                                                                      22500000
.********************************************************************** 22550000
.*                                                                      22600000
.CHKRST  ANOP  ,                                                        22650000
         AIF   ('&WAITTYPE' NE 'NONREST' AND                           +22700000
               '&WAITTYPE' NE 'RESTARTABLE').ERR10                      22750000
         AIF   (N'&WAITTYPE GT 1).ERR11                                 22800000
.ERRETG  ANOP  ,                                                        22850000
         AIF   (N'&CODE NE 1).ERR12                                     22900000
.ERRETH  ANOP  ,                                                        22950000
         AIF   (N'&REASON GT 1).ERR13                                   23000000
.ERRETI  ANOP  ,                                                        23050000
         AIF   (N'&PSAPARM GT 1).ERR14                                  23100000
.ERRETJ  ANOP  ,                                                        23150000
         AIF   (('&PSAPARM' NE '') AND                                 +23200000
               ('&WAITTYPE' NE 'RESTARTABLE')).ERR14A                   23250000
.ERRETJA ANOP  ,                                                        23300000
         AIF   (N'&ACTCODE GT 1).ERR15                                  23350000
.ERRETK  ANOP  ,                                                        23400000
         AIF   (('&ACTCODE' NE '') AND                                 +23450000
               ('&WAITTYPE' NE 'RESTARTABLE')).ERR15A                   23500000
.ERRETKA ANOP  ,                                                        23550000
.*                                                                      23600000
.********************************************************************** 23650000
.*                                                                      23700000
.*   Check for any messages issued                                      23750000
.*                                                                      23800000
.********************************************************************** 23850000
.*                                                                      23900000
         AIF   ('&ERRCODE' NE '0').NOCODE                               23950000
.*                                                                      24000000
.********************************************************************** 24050000
.*                                                                      24100000
.*   Generate code to modify the parameter list                         24150000
.*                                                                      24200000
.********************************************************************** 24250000
.*                                                                      24300000
&LABEL   SETC  '&MF(2)'                                                 24350000
         AIF  ('&XLABEL' EQ '').PRTSRC1                                 24400000
&XLABEL  EQU   *                                                        24450000
.PRTSRC1 ANOP  ,                                                        24500000
         LA    1,&LABEL                                                 24550000
         XC    0(24,1),0(1)           CLEAR PARAMETER LIST STORAGE      24600000
         MVC   0(4,1),=CL4'LDWT'      SET ACRONYM                       24650000
         MVI   4(1),X'01'             SET VERSION NUMBER                24700000
         MVC   6(2,1),=AL2(24)        SET LENGTH OF PARAMETER LIST @H1C 24750000
         AIF   ('&WAITTYPE' EQ 'NONREST').SETCODE                       24800000
&WAIT    SETA  1                                                        24850000
         OI    11(1),X'0&WAIT'        SET RESTARTABLE WAIT STATE        24900000
.SETCODE ANOP  ,                                                        24950000
         MVC   12(2,1),&CODE          SET WAIT STATE CODE               25000000
         AIF   ('&REASON' EQ '').SETPSA                                 25050000
         MVC   14(2,1),&REASON        SET WAIT STATE REASON             25100000
.SETPSA  ANOP  ,                                                        25150000
         AIF   ('&PSAPARM' EQ '').SETACT                                25200000
         MVC   16(4,1),&PSAPARM       SET INFO TO PASS TO OPERATOR      25250000
.SETACT  ANOP  ,                                                        25300000
         AIF   ('&ACTCODE' EQ '').GETOUT                                25350000
         LA    0,&ACTCODE             SET POINTER TO ACTION CODE FIELD  25400000
         ST    0,20(1)                                                  25450000
.*                                                                      25500000
.GETOUT  ANOP  ,                                                        25550000
         MEND                                                           25600000
**********************************************************************/ 25650000
*/********************************************************************/ 25700000
*/*   PL/AS version of LOADWAIT macro                                */ 25750000
*/********************************************************************/ 25800000
*                                                                       25850000
*                                                                       25900000
*  ANS('@SPACE;') NORESCAN COL(MACLMAR);                                25950000
*                                                                       26000000
*/********************************************************************/ 26050000
*/*   Accumulate invocation for comment                              */ 26100000
*/********************************************************************/ 26150000
*  DCL ECHO CHAR;                                                       26200000
*                                                                       26250000
*  ECHO = ' ? LOADWAIT '||MACLIST||' ';                                 26300000
*                                                                       26350000
*  DCL ZELO FIXED;                                                      26400000
*  DCL ZECOL FIXED;                                                     26450000
*  ZELO = 1; /* STARTING COLUMN */                                      26500000
*  DO WHILE ZELO <= LENGTH(MACKEYS); /* parenthesis scan */             26550000
*    ZECOL = INDEX(MACKEYS(ZELO:LENGTH(MACKEYS)),')');                  26600000
*    IF ZECOL > 0  THEN DO;                                             26650000
*      ECHO = ECHO||MACKEYS(ZELO:ZELO+ZECOL-1)||' ';                    26700000
*      ZELO = ZELO + ZECOL;                                             26750000
*     END;                                                              26800000
*    ELSE DO; /* remaining keys */                                      26850000
*      ECHO = ECHO||MACKEYS(ZELO:LENGTH(MACKEYS));                      26900000
*      ZELO = LENGTH(MACKEYS)+1;                                        26950000
*     END;                                                              27000000
*   END;                                                                27050000
*  ECHO = ECHO||' 03/15/89  HBB4410 ';                                  27100000
*                                                                       27150000
*/********************************************************************/ 27200000
*/*                                                                  */ 27250000
*/*   Declare variables used and initialize them                     */ 27300000
*/*                                                                  */ 27350000
*/********************************************************************/ 27400000
*                                                                       27450000
*   DCL SYSASCE CHAR EXT;                                               27500000
*   DCL EHARC   FIXED EXT;                                              27525000
*                                                                       27550000
*   DCL ERRCODE FIXED;                                                  27600000
*   DCL IND CHAR;                                                       27650000
*   DCL ERRPREFIX CHAR;                                                 27700000
*   DCL ERRMSG CHAR;                                                    27750000
*   DCL WAIT   CHAR;                                                    27800000
*   DCL WTCODE CHAR;                                                    27850000
*   DCL RSCODE CHAR;                                                    27900000
*   DCL PARMPSA CHAR;                                                   27950000
*   DCL (PSACOM,TYPECOM,ACTCOM) CHAR;                                   27975000
*                                                                       28000000
*      /* Comments for list form declares */                            28008300
*                                                                       28016600
*   PSACOM = ' ADDITIONAL INFORMATION TO PASS TO OPERATOR IN PSAPARM';  28024900
*   TYPECOM = ' VALUE OF 1 MEANS THIS IS A RESTARTABLE WAIT '||         28033200
*             'STATE. 0 MEANS THIS IS A NONRESTARTABLE WAIT STATE ';    28041500
*   ACTCOM = ' ADDRESS OF STORAGE TO CONTAIN THE ACTION CODE '||        28049800
*            'SET BY THE OPERATOR IN PSAACTCD';                         28058100
*                                                                       28066400
*       /* Error messages  */                                           28074700
*                                                                       28083000
*   DCL EM(16) CHAR;                                                    28091300
* EM(1) ='BLWM000E  THE LIST OR MODIFY FORM MUST BE SPECIFIED';         28100000
* EM(2) ='BLWM001E  ATLEAST 2 PARAMETERS ARE NEEDED ON THE MF KEYWORD'; 28150000
* EM(3) ='BLWM002E  TOO MANY PARAMETERS SPECIFIED ON THE MF KEYWORD';   28197900
* EM(4) ='BLWM003E  CODE KEYWORD MUST BE SPECIFIED AND CAN HAVE '||     28245800
*                   'ONLY ONE PARAMETER';                               28293700
* EM(5) ='BLWM004E  TOO MANY PARAMETERS SPECIFIED ON THE REASON '||     28341600
*                   'KEYWORD';                                          28389500
* EM(6) ='BLWM005E  TOO MANY PARAMETERS SPECIFIED ON THE WAITTYPE '||   28437400
*                   'KEYWORD';                                          28485300
* EM(7) ='BLWM006E  RESTARTABLE OR NONREST MUST BE SPECIFIED '||        28533200
*                   'ON THE WAITTYPE KEYWORD';                          28581100
* EM(8) ='BLWM007E  TOO MANY PARAMETERS SPECIFIED ON THE PSAPARM '||    28629000
*                   'KEYWORD';                                          28676900
* EM(9) ='BLWM008E  TOO MANY PARAMETERS SPECIFIED ON THE ACTCODE '||    28724800
*                   'KEYWORD';                                          28772700
* EM(10)='BLWM009E  ACTCODE KEYWORD NOT VALID WITH LIST FORM';          28820600
* EM(11)='BLWM010E  MACRO CAN ONLY BE INVOKED IN PRIMARY ASC MODE';     28868500
* EM(12)='BLWM011E  PSAPARM KEYWORD IS ONLY VALID FOR A '||             28916400
*                   'RESTARTABLE WAIT STATE  ';                         28964300
* EM(13)='BLWM012E  ACTCODE KEYWORD IS ONLY VALID FOR A '||             29012200
*                   'RESTARTABLE WAIT STATE  ';                         29060100
* EM(14)='BLWM013E  REGISTER NOTATION IS NOT VALID WITH CODE KEYWORD';  29108000
* EM(15)='BLWM014E  REGISTER NOTATION IS NOT VALID ' ||                 29155900
*                   'WITH REASON KEYWORD';                              29203800
* EM(16)='BLWM015E  TOO MANY ERRORS ENCOUNTERED. NO CODE GENERATED; ';  29251700
*                                                                       29300000
*  ERRPREFIX = ' ?LOADWAIT -> ';                                        29350000
*  WAIT = '00';                                                         29400000
*  WTCODE = '0';                                                        29450000
*  RSCODE = '0';                                                        29500000
*  PARMPSA = '0';                                                       29550000
*  EHARC = 0;                                                           29575000
*                                                                       29600000
*/********************************************************************/ 29650000
*/*                                                                  */ 29700000
*/*   Validate MF keyword                                            */ 29750000
*/*                                                                  */ 29800000
*/********************************************************************/ 29850000
*                                                                       29900000
*  IF ((MF(1) ^= 'L') & (MF(1) ^= 'M')) THEN DO;                        29950000
*    ANS(COMMENT(ECHO)) NORESCAN SKIP COL(MACLMAR+5);                   30000000
*    ERRMSG = ERRPREFIX||EM(1);                                         30050000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               30100000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               30150000
*    EHARC = 8;                                                         30175000
*        GOTO GETOUT;                                                   30200000
*        END;                                                           30250000
*                                                                       30300000
*  IF (MF(1) = 'L') THEN                                                30350000
*    ANS(COMMENT(ECHO)) NORESCAN SKIP COL(MACLMAR+5);                   30400000
*  ELSE                                                                 30450000
*    ANS('DO ;'||COMMENT(ECHO)) NORESCAN SKIP COL(MACLMAR);             30500000
*                                                                       30550000
*  IF NUMBER(MF) < 2 THEN DO;                                           30600000
*    ERRMSG = ERRPREFIX||EM(2);                                         30650000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               30700000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               30750000
*        ERRCODE = ERRCODE + 1;                                         30800000
*        END;                                                           30850000
*                                                                       30900000
*  IF NUMBER(MF) > 3 THEN DO;                                           30950000
*    ERRMSG = ERRPREFIX||EM(3);                                         31000000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               31050000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               31100000
*        ERRCODE = ERRCODE + 1;                                         31150000
*        END;                                                           31200000
*                                                                       31250000
*/********************************************************************/ 31300000
*/*                                                                  */ 31350000
*/*   Check SYSSTATE value                                           */ 31400000
*/*                                                                  */ 31450000
*/********************************************************************/ 31500000
*                                                                       31550000
*  IF SYSASCE = ''  THEN                                                31600000
*    ANS(' ?SYSSTATE  (TEST); ') COL(MACLMAR) SKIP;                     31650000
*                                                                       31700000
*  IF SYSASCE ^= 'P'  THEN  DO;                                         31750000
*    ERRMSG = ERRPREFIX||EM(11);                                        31800000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               31850000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               31900000
*    EHARC = 8;                                                         31925000
*        GOTO GETOUT;                                                   31950000
*        END;                                                           32000000
*                                                                       32050000
*                                                                       32100000
*   IF MF(1) = 'M' THEN  GOTO MODIFY;  /* If modify form, then branch   32150000
*                                         around list processing.    */ 32200000
*                                                                       32250000
*  IF NUMBER(ACTCODE) > 0   THEN DO;                                    32300000
*    ERRMSG = ERRPREFIX||EM(10);                                        32350000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               32400000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               32450000
*        ERRCODE = ERRCODE + 1;                                         32500000
*        END;                                                           32550000
*                                                                       32600000
*/********************************************************************/ 32650000
*/*                                                                  */ 32700000
*/*  If MF(L) is the only keyword specified, generate dynamic        */ 32750000
*/*   storage.                                                       */ 32800000
*/*                                                                  */ 32850000
*/********************************************************************/ 32900000
*                                                                       32950000
*  IF ((CODE = '') & (REASON = '') & (WAITTYPE = '') &                  33000000
*      (PSAPARM = '')) THEN   GOTO DYNAMIC;                             33050000
*                                                                       33100000
*/********************************************************************/ 33150000
*/*                                                                  */ 33200000
*/*  Validity check keywords specified with MF(L)                    */ 33250000
*/*                                                                  */ 33300000
*/********************************************************************/ 33350000
*                                                                       33400000
*  IF NUMBER(CODE) ^= 1 THEN DO;                                        33450000
*    ERRMSG = ERRPREFIX||EM(4);                                         33500000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               33550000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               33600000
*    ERRCODE = ERRCODE + 1;                                             33650000
*   END;                                                                33700000
*                                                                       33750000
*  IF NUMBER(REASON) > 1 THEN DO;                                       33800000
*    ERRMSG = ERRPREFIX||EM(5);                                         33850000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               33900000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               33950000
*    ERRCODE = ERRCODE + 1;                                             34000000
*   END;                                                                34050000
*                                                                       34100000
*  IF NUMBER(WAITTYPE) > 1 THEN DO;                                     34150000
*    ERRMSG = ERRPREFIX||EM(6);                                         34200000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               34250000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               34300000
*    ERRCODE = ERRCODE + 1;                                             34350000
*   END;                                                                34400000
*                                                                       34450000
*  IF ((WAITTYPE(1) ^= 'RESTARTABLE') &                                 34500000
*      (WAITTYPE(1) ^= 'NONREST')) THEN DO;                             34550000
*    ERRMSG = ERRPREFIX||EM(7);                                         34600000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               34650000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               34700000
*    ERRCODE = ERRCODE + 1;                                             34750000
*   END;                                                                34800000
*                                                                       34850000
*  IF NUMBER(PSAPARM) > 1 THEN DO;                                      34900000
*    ERRMSG = ERRPREFIX||EM(8);                                         34950000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               35000000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               35050000
*    ERRCODE = ERRCODE + 1;                                             35100000
*   END;                                                                35150000
*                                                                       35200000
*  IF ((PSAPARM ^= '') & (WAITTYPE(1) ^= 'RESTARTABLE'))   THEN DO;     35250000
*    ERRMSG = ERRPREFIX||EM(12);                                        35300000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               35350000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               35400000
*    ERRCODE = ERRCODE + 1;                                             35450000
*   END;                                                                35500000
*                                                                       35550000
*/********************************************************************/ 35600000
*/*                                                                  */ 35650000
*/*  If there were any errors, don't generate any code               */ 35700000
*/*                                                                  */ 35750000
*/********************************************************************/ 35800000
*                                                                       35850000
*  IF ERRCODE > 0 THEN GOTO NOCODE;                                     35900000
*                                                                       35950000
*/********************************************************************/ 36000000
*/*                                                                  */ 36050000
*/*  Set variables to initialize parameter list                      */ 36100000
*/*                                                                  */ 36150000
*/********************************************************************/ 36200000
*                                                                       36250000
*    WTCODE = CODE(1);                                                  36300000
*                                                                       36350000
* IF NUMBER(REASON) ^= 0   THEN                                         36400000
*    RSCODE = REASON(1);                                                36450000
*                                                                       36500000
* IF (WAITTYPE(1) = 'RESTARTABLE')  THEN                                36550000
*    WAIT  = '01';                                                      36600000
*                                                                       36650000
* IF NUMBER(PSAPARM) ^= 0   THEN                                        36700000
*    PARMPSA = PSAPARM(1);                                              36750000
*                                                                       36800000
*                                                                       36850000
*  IF ERRCODE > 0 THEN GOTO NOCODE;                                     36900000
*                                                                       36950000
*/********************************************************************/ 37000000
*/*                                                                  */ 37050000
*/*  Put out initialized parameter list                              */ 37100000
*/*                                                                  */ 37150000
*/********************************************************************/ 37200000
*                                                                       37250000
*                                                                       37300000
* IF NUMBER(MF) = 2 THEN                                                37350000
*      ANS('DECLARE  1 '||MF(2)||' BDY(WORD),')                         37383300
*                  NORESCAN SKIP COL(MACLMAR);             /*    @H1C*/ 37416600
*   ELSE                                                                37450000
*      ANS('DECLARE  1 '||MF(2)||' '||MF(3)||',') NORESCAN SKIP         37500000
*         COL(MACLMAR);                                                 37550000
* IND = MACINDEX;                                                       37600000
*   ANS('3 '||MF(2)||'ACRO CHAR(4)  INIT(''LDWT''), '||                 37650000
*          COMMENT(' LOADWAIT ACRONYM '))                               37700000
*        NORESCAN SKIP COL(MACLMAR);                                    37750000
*   ANS('3 '||MF(2)||'VER  CHAR(1)  INIT(''01''X), '||                  37800000
*          COMMENT(' LOADWAIT VERSION NUMBER'))                         37850000
*        NORESCAN SKIP COL(MACLMAR);                                    37900000
*   ANS('3 *                CHAR(1), ')                                 37950000
*        NORESCAN SKIP COL(MACLMAR);                                    38000000
*   ANS('3 '||MF(2)||'LEN  FIXED(16) INIT(24),     '||                  38050000
*          COMMENT(' LENGTH OF LOADWAIT PARAMETER LIST'))               38100000
*        NORESCAN SKIP COL(MACLMAR);                                    38150000
*   ANS('3 '||MF(2)||'FLG  CHAR(4), '||                                 38200000
*          COMMENT(' LOADWAIT FLAGS  '))                                38250000
*        NORESCAN SKIP COL(MACLMAR);                                    38300000
*   ANS('5 '||MF(2)||'B1   CHAR(1), ')                                  38350000
*        NORESCAN SKIP COL(MACLMAR);                                    38400000
*   ANS('5 '||MF(2)||'B2   CHAR(1), ')                                  38450000
*        NORESCAN SKIP COL(MACLMAR);                                    38500000
*   ANS('5 '||MF(2)||'B3   CHAR(1), ')                                  38550000
*        NORESCAN SKIP COL(MACLMAR);                                    38600000
*   ANS('5 '||MF(2)||'B4   CHAR(1)  INIT('||QUOTE(WAIT)||'X), ')        38650000
*        NORESCAN SKIP COL(MACLMAR);                                    38700000
*   ANS('7 *               BIT(7), ')                                   38750000
*        NORESCAN SKIP COL(MACLMAR);                                    38800000
*   ANS('7 '||MF(2)||'TYP   BIT(1), '||                                 38850000
*          COMMENT(TYPECOM))                                            38900000
*        NORESCAN SKIP COL(MACLMAR);                                    39000000
*   ANS('3 '||MF(2)||'COD FIXED(16)  INIT('||WTCODE||'), '||            39050000
*          COMMENT(' WAIT STATE CODE'))                                 39100000
*        NORESCAN SKIP COL(MACLMAR);                                    39150000
*   ANS('3 '||MF(2)||'REA FIXED(16) INIT('||RSCODE||'), '||             39200000
*         COMMENT(' REASON CODE ASSOCIATED WITH THE WAIT STATE'))       39250000
*        NORESCAN SKIP COL(MACLMAR);                                    39300000
*   ANS('3 '||MF(2)||'PSA FIXED(31)   INIT('||PARMPSA||'), '||          39350000
*          COMMENT(PSACOM))                                             39400000
*        NORESCAN SKIP COL(MACLMAR);                                    39500000
*   ANS('3 '||MF(2)||'ACT  PTR(31)  INIT(0); '||                        39550000
*          COMMENT(ACTCOM))                                             39600000
*        NORESCAN SKIP COL(MACLMAR);                                    39700000
*                                                                       39750000
*     GOTO GETOUT;                                                      39800000
*                                                                       39850000
*/********************************************************************/ 39900000
*/*                                                                  */ 39950000
*/*  Generate uninitialized storage                                  */ 40000000
*/*                                                                  */ 40050000
*/********************************************************************/ 40100000
*                                                                       40150000
* DYNAMIC:;                                                             40200000
*                                                                       40250000
*  IF ERRCODE > 0 THEN GOTO NOCODE;                                     40300000
*                                                                       40350000
* IF NUMBER(MF) = 2 THEN                                                40400000
*      ANS('DECLARE  1 '||MF(2)||' BDY(WORD),')                         40433300
*                  NORESCAN SKIP COL(MACLMAR);             /*    @H1C*/ 40466600
*   ELSE                                                                40500000
*      ANS('DECLARE  1 '||MF(2)||' '||MF(3)||',') NORESCAN SKIP         40550000
*         COL(MACLMAR);                                                 40600000
*                                                                       40650000
*   ANS('3 '||MF(2)||'ACRO CHAR(4), '||                                 40700000
*          COMMENT(' LOADWAIT ACRONYM '))                               40750000
*        NORESCAN SKIP COL(MACLMAR);                                    40800000
*   ANS('3 '||MF(2)||'VER  CHAR(1), '||                                 40850000
*          COMMENT(' LOADWAIT VERSION NUMBER'))                         40900000
*        NORESCAN SKIP COL(MACLMAR);                                    40950000
*   ANS('3 *                CHAR(1), ')                                 41000000
*        NORESCAN SKIP COL(MACLMAR);                                    41050000
*   ANS('3 '||MF(2)||'LEN FIXED(16), '||                                41100000
*          COMMENT(' LENGTH OF LOADWAIT PARAMETER LIST'))               41150000
*        NORESCAN SKIP COL(MACLMAR);                                    41200000
*   ANS('3 '||MF(2)||'FLG   CHAR(4), '||                                41250000
*          COMMENT(' LOADWAIT FLAGS  '))                                41300000
*        NORESCAN SKIP COL(MACLMAR);                                    41350000
*   ANS('5 '||MF(2)||'B1   CHAR(1), ')                                  41400000
*        NORESCAN SKIP COL(MACLMAR);                                    41450000
*   ANS('5 '||MF(2)||'B2   CHAR(1), ')                                  41500000
*        NORESCAN SKIP COL(MACLMAR);                                    41550000
*   ANS('5 '||MF(2)||'B3   CHAR(1), ')                                  41600000
*        NORESCAN SKIP COL(MACLMAR);                                    41650000
*   ANS('5 '||MF(2)||'B4     CHAR(1), ')                                41700000
*        NORESCAN SKIP COL(MACLMAR);                                    41750000
*   ANS('7 *               BIT(7), ')                                   41800000
*        NORESCAN SKIP COL(MACLMAR);                                    41850000
*   ANS('7 '||MF(2)||'TYP   BIT(1), '||                                 41900000
*          COMMENT(TYPECOM))                                            41950000
*        NORESCAN SKIP COL(MACLMAR);                                    42050000
*   ANS('3 '||MF(2)||'COD FIXED(16), '||                                42100000
*          COMMENT(' WAIT STATE CODE'))                                 42150000
*        NORESCAN SKIP COL(MACLMAR);                                    42200000
*   ANS('3 '||MF(2)||'REA FIXED(16), '||                                42250000
*         COMMENT(' REASON CODE ASSOCIATED WITH THE WAIT STATE'))       42300000
*        NORESCAN SKIP COL(MACLMAR);                                    42350000
*   ANS('3 '||MF(2)||'PSA FIXED(31), '||                                42400000
*          COMMENT(PSACOM))                                             42450000
*        NORESCAN SKIP COL(MACLMAR);                                    42550000
*   ANS('3 '||MF(2)||'ACT  PTR(31); '||                                 42600000
*          COMMENT(ACTCOM))                                             42650000
*        NORESCAN SKIP COL(MACLMAR);                                    42750000
*                                                                       42800000
*   GOTO GETOUT;                                                        42850000
*                                                                       42900000
*                                                                       42950000
*/********************************************************************/ 43000000
*/*                                                                  */ 43050000
*/*  Validity check keywords specified with MF(M)                    */ 43100000
*/*                                                                  */ 43150000
*/********************************************************************/ 43200000
*                                                                       43250000
* MODIFY:;                                                              43300000
*                                                                       43350000
*  IF NUMBER(CODE) ^= 1 THEN DO;                                        43400000
*    ERRMSG = ERRPREFIX||EM(4);                                         43450000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               43500000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               43550000
*    ERRCODE = ERRCODE + 1;                                             43600000
*   END;                                                                43650000
*                                                                       43700000
*  IF CODE(1,1) = '('  THEN DO;                                         43750000
*    ERRMSG = ERRPREFIX||EM(14);                                        43800000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               43850000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               43900000
*    ERRCODE = ERRCODE + 1;                                             43950000
*   END;                                                                44000000
*                                                                       44050000
*  IF NUMBER(REASON) > 1 THEN DO;                                       44100000
*    ERRMSG = ERRPREFIX||EM(5);                                         44150000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               44200000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               44250000
*    ERRCODE = ERRCODE + 1;                                             44300000
*   END;                                                                44350000
*                                                                       44400000
*  IF REASON(1,1) = '('  THEN DO;                                       44450000
*    ERRMSG = ERRPREFIX||EM(15);                                        44500000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               44550000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               44600000
*    ERRCODE = ERRCODE + 1;                                             44650000
*   END;                                                                44700000
*                                                                       44750000
*  IF NUMBER(WAITTYPE) > 1 THEN DO;                                     44800000
*    ERRMSG = ERRPREFIX||EM(6);                                         44850000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               44900000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               44950000
*    ERRCODE = ERRCODE + 1;                                             45000000
*   END;                                                                45050000
*                                                                       45100000
*  IF ((WAITTYPE(1) ^= 'RESTARTABLE') &                                 45150000
*      (WAITTYPE(1) ^= 'NONREST')) THEN DO;                             45200000
*    ERRMSG = ERRPREFIX||EM(7);                                         45250000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               45300000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               45350000
*    ERRCODE = ERRCODE + 1;                                             45400000
*   END;                                                                45450000
*                                                                       45500000
*  IF NUMBER(PSAPARM) > 1 THEN DO;                                      45550000
*    ERRMSG = ERRPREFIX||EM(8);                                         45600000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               45650000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               45700000
*    ERRCODE = ERRCODE + 1;                                             45750000
*   END;                                                                45800000
*                                                                       45850000
*  IF ((PSAPARM ^= '') & (WAITTYPE(1) ^= 'RESTARTABLE')) THEN DO;       45900000
*    ERRMSG = ERRPREFIX||EM(12);                                        45950000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               46000000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               46050000
*    ERRCODE = ERRCODE + 1;                                             46100000
*   END;                                                                46150000
*                                                                       46200000
*  IF NUMBER(ACTCODE) > 1 THEN DO;                                      46250000
*    ERRMSG = ERRPREFIX||EM(9);                                         46300000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               46350000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               46400000
*    ERRCODE = ERRCODE + 1;                                             46450000
*   END;                                                                46500000
*                                                                       46550000
*  IF ((ACTCODE ^= '') & (WAITTYPE(1) ^= 'RESTARTABLE')) THEN DO;       46600000
*    ERRMSG = ERRPREFIX||EM(13);                                        46650000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               46700000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               46750000
*    ERRCODE = ERRCODE + 1;                                             46800000
*   END;                                                                46850000
*                                                                       46900000
*/********************************************************************/ 46950000
*/*                                                                  */ 47000000
*/*  If there were any errors, don't generate any code               */ 47050000
*/*                                                                  */ 47100000
*/********************************************************************/ 47150000
*                                                                       47200000
*  IF ERRCODE > 0 THEN GOTO NOCODE;                                     47250000
*                                                                       47300000
*/********************************************************************/ 47350000
*/*                                                                  */ 47400000
*/*  Generate code to modify parameter list                          */ 47450000
*/*                                                                  */ 47500000
*/********************************************************************/ 47550000
*                                                                       47600000
*  ANS(MF(2)||' = '||MF(2)||' && '||MF(2)||'; '||                       47650000
*     COMMENT('CLEAR PARAMETER LIST STORAGE'))                          47700000
*     NORESCAN SKIP COL(MACLMAR);                                       47750000
*                                                                       47800000
*  ANS(MF(2)||'ACRO = ''LDWT'';'||                                      47850000
*     COMMENT('SET ACRONYM FIELD IN PARAMETER LIST'))                   47900000
*     NORESCAN SKIP COL(MACLMAR);                                       47950000
*                                                                       48000000
*  ANS(MF(2)||'VER = ''01''X;'||                                        48050000
*     COMMENT('SET VERSION NUMBER   '))                                 48100000
*     NORESCAN SKIP COL(MACLMAR);                                       48150000
*                                                                       48200000
*  ANS(MF(2)||'LEN = 24;'||                                             48250000
*     COMMENT('SET LENGTH OF PARAMETER LIST'))                          48300000
*     NORESCAN SKIP COL(MACLMAR);                                       48350000
*                                                                       48400000
*  IF WAITTYPE(1) = 'RESTARTABLE' THEN  DO;                             48450000
*    ANS(MF(2)||'TYP = ''1''B;'||                                       48500000
*     COMMENT('SET WAIT STATE TYPE TO BE RESTARTABLE'))                 48550000
*     NORESCAN SKIP COL(MACLMAR);                                       48600000
*  END;                                                                 48650000
*                                                                       48700000
*    ANS(MF(2)||'COD = '||CODE(1)||';'||                                48750000
*     COMMENT('SET WAIT STATE CODE  '))                                 48800000
*     NORESCAN SKIP COL(MACLMAR);                                       48850000
*                                                                       48900000
*  IF REASON ^= ''   THEN  DO;                                          48950000
*    ANS(MF(2)||'REA = '||REASON(1)||';'||                              49000000
*     COMMENT('SET REASON CODE  '))                                     49050000
*     NORESCAN SKIP COL(MACLMAR);                                       49100000
*  END;                                                                 49150000
*                                                                       49200000
*  IF PSAPARM ^= ''   THEN  DO;                                         49250000
*    ANS(MF(2)||'PSA = '||PSAPARM(1)||';'||                             49300000
*     COMMENT('SET INFO TO PASS TO OPERATOR'))                          49350000
*     NORESCAN SKIP COL(MACLMAR);                                       49400000
*  END;                                                                 49450000
*                                                                       49500000
*  IF ACTCODE ^= ''   THEN  DO;                                         49550000
*    ANS(MF(2)||'ACT = ADDR('||ACTCODE(1)||');'||                       49600000
*     COMMENT('SET POINTER TO ACTION CODE FIELD'))                      49650000
*     NORESCAN SKIP COL(MACLMAR);                                       49700000
*  END;                                                                 49750000
*                                                                       49800000
*  ANS(' END; '||COMMENT(ECHO)) NORESCAN SKIP COL(MACLMAR);             49850000
*  GOTO GETOUT;                                                         49900000
*                                                                       49950000
*                                                                       50000000
*/********************************************************************/ 50050000
*/*                                                                  */ 50100000
*/*  Generate "TOO MANY ERRORS " message                             */ 50150000
*/*                                                                  */ 50200000
*/********************************************************************/ 50250000
*                                                                       50300000
* NOCODE:;                                                              50350000
*    ERRMSG = ERRPREFIX||EM(16);                                        50400000
*    ANS MESSAGE(ERRMSG)      NORESCAN SKIP COL(MACLMAR);               50450000
*    ANS(COMMENT(ERRMSG))     NORESCAN SKIP COL(MACLMAR);               50500000
*    EHARC = 8;                                                         50550000
*                                                                       50600000
* GETOUT:;                                                              50650000
*                                                                       50700000
* RETURN CODE(EHARC);                                                   50750000
*%END LOADWAIT;                                                         50800000
