*                                                                       00050000
* %DCL IWMSMF90_INCLUDED CHAR EXT;                                      00100000
* %DEACTIVATE IWMSMF90_INCLUDED;                                        00150000
* %IF IWMSMF90_INCLUDED = '' %THEN                                      00200000
* %DO;                                                                  00250000
*/* Macro made bi-lingual on 97083. CBGEN compile date 96059         */ 00300000
*% /*                                                                   00500000
         MACRO                                                          00550000
         IWMSMF90 &DSECT=YES,&LIST=YES,&TITLE=YES,&SMF90T23=YES,       *00600000
               &SMF90T24=COND,&SMF90T25=COND,&SMF90T30=COND,           *00650000
               &SMF90T32=COND                                           00700000
         GBLC  &IWMSMF90_INCLUDED                                       00750000
         GBLC  &ZCBPRINT                                                00800000
&IWMSMF90_INCLUDED SETC 'YES'                                           00850000
         AIF   ('&LIST' EQ 'NONE').P0                                   00870000
         AIF   ('&TITLE' EQ 'NO').P5                                    00890000
 TITLE   'IWMSMF90  - WLM SMF Type 90, Subtype 23, 24, 25, 30 and '     00910000
.P5      ANOP                                                           00930000
**/ IWMSMF90_1:;                                                        00950000
*/***START OF SPECIFICATIONS******************************************/ 01000000
*/*                                                                  */ 01050000
*/*01* Proprietary statement:                                        */ 01100000
*/*                                                                  */ 01150000
*/*      LICENSED MATERIALS - PROPERTY OF IBM                        */ 01200000
*/*      THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                 */ 01250000
*/*      5645-001 (C) COPYRIGHT IBM CORP. 1993, 1997                 */ 01300000
*/*      SEE COPYRIGHT INSTRUCTIONS                                  */ 01350000
*/*                                                                  */ 01400000
*/*                                                                  */ 01450000
*/*01* External classification: GUPI                                 */ 01500000
*/*01* End of External classification                                */ 01550000
*/*                                                                  */ 01600000
*/*01* Status: JBB6604                                           @L3C*/ 01650000
*/*                                                                  */ 01700000
*/*01* Descriptive Name: WLM SMF Type 90, Subtype 23, 24, 25, 30 and */ 01750000
*/*                      32 record mappings                  @WLMPRES*/ 01800000
*/*                                                                  */ 01850000
*/*02*  Acronym: SMF90                                               */ 01900000
*/*                                                                  */ 01950000
*/*01* Macro Name: IWMSMF90                                          */ 02000000
*/*                                                                  */ 02050000
*/*01* DSECT Name: SMF90RCD                                          */ 02100000
*/*                                                                  */ 02150000
*/*01* Component: Workload Manager (SCWLM)                           */ 02200000
*/*                                                                  */ 02250000
*/*01* Eye-Catcher:                                                  */ 02300000
*/*02*  Offset: 0                                                    */ 02350000
*/*02*  Length: CHAR(4)                                              */ 02400000
*/*                                                                  */ 02450000
*/*01* Storage Attributes:                                           */ 02500000
*/*02*  Subpool: Any                                                 */ 02550000
*/*02*  Key: 0                                                       */ 02600000
*/*02*  Residency: Above 16M line                                    */ 02650000
*/*                                                                  */ 02700000
*/*01* Size: Determined at run time                                  */ 02750000
*/*                                                                  */ 02800000
*/*01* Created by: Caller                                            */ 02850000
*/*                                                                  */ 02900000
*/*01* Pointed to by: R1 and AR1                                     */ 02950000
*/*                                                                  */ 03000000
*/*01* Serialization: None                                           */ 03050000
*/*                                                                  */ 03100000
*/*01* Function: Contains WLM SMF Type 90 Subtype 23, 24, 25, 30 and */ 03150000
*/*              32 record mappings                          @WLMPRES*/ 03200000
*/*                                                                  */ 03250000
*/*  SMF record Type 90 Subtype 23 - WLM Service Definition Install  */ 03300000
*/*  A System Status SMF record will be generated each time that     */ 03350000
*/*  the WLM Service Definition is installed in the WLM couple       */ 03400000
*/*  dataset.  The Subtype 23 indicates the potential mismatch       */ 03450000
*/*  between the current contents of the WLM service definition      */ 03500000
*/*  and the active service policy.                                  */ 03550000
*/*                                                                  */ 03600000
*/*  SMF record Type 90 Subtype 24 - WLM Service Policy Activation   */ 03650000
*/*  A System Status SMF record will be generated each time that     */ 03700000
*/*  an MVS Workload Management service policy is activated.         */ 03750000
*/*  The Subtype 24 provides the unique identification of the        */ 03800000
*/*  service policy being activated, combined with the unique        */ 03850000
*/*  identification of the service definition from which the         */ 03900000
*/*  service policy was extracted.                                   */ 03950000
*/*                                                                  */ 04000000
*/*  SMF record Type 90 Subtype 25 - Workload Management Mode Change */ 04050000
*/*  A System Status SMF record will be generated each time that     */ 04100000
*/*  an MVS Workload Management mode transition occurs.              */ 04150000
*/*  The Subtype 25 indicates the direction of the transition,       */ 04200000
*/*  describing the service policy that is being activated           */ 04250000
*/*  (compatibility mode to goal mode transition) or that was        */ 04300000
*/*  previously active (goal mode to compatibility mode).            */ 04350000
*/*                                                                  */ 04400000
*/*  SMF record Type 90 Subtype 30 - RESET operator command complete.*/ 04406200
*/*  This record will be generated whenever a RESET operator command */ 04412400
*/*  (RESET performance group or service class) completes            */ 04418600
*/*  successfully.  The record identifies the job that was reset,    */ 04424800
*/*  the operator that initiated the command, and the change that    */ 04431000
*/*  was requested.                                              @L3A*/ 04437200
*/*                                                                  */ 04443400
*/*  SMF record Type 90 Subtype 32 - WLM Scheduling Environment      */ 04444100
*/*  change.                                                         */ 04444800
*/*  A System Status SMF record will be generated each time that     */ 04445500
*/*  an MVS Workload Management service policy is activated from     */ 04446200
*/*  a unique Service Definition.  The Subtype 32 provides the       */ 04446900
*/*  unique identification of the Service Policy Scheduling          */ 04447600
*/*  Environment(s).                                         @WLMPRES*/ 04448300
*/*                                                                  */ 04449000
*/*01* Restrictions:                                                 */ 04450000
*/*              None                                                */ 04500000
*/*                                                                  */ 04550000
*/*01* Method of Access:                                             */ 04600000
*/*                                                                  */ 04650000
*/*02*  ASM:                                                         */ 04700000
*/*          Specify: IWMSMF90                                       */ 04750000
*/*                                                                  */ 04800000
*/*02*  PLX:                                                         */ 04850000
*/*                                                                  */ 04900000
*/*          %INCLUDE SYSLIB(IWMSMF90)                               */ 04950000
*/*                                                                  */ 05000000
*/*02*  VIA ATTRIBUTE:                                               */ 05050000
*/*                                                                  */ 05100000
*/*          Specify %SVDCRVIA = 'YES'                               */ 05150000
*/*          prior to %INCLUDE statement.                            */ 05200000
*/*          For VIA(0) specify %GLOBALARMODE='YES'                  */ 05250000
*/*                                                                  */ 05300000
*/*01* Change Activity:                                              */ 05350000
*/*    $L0=WLMI    HBB5510  921231 PD88IK: Workload Manager I        */ 05375000
*/*    $D1=DCR0164 HBB5510  930802 PD88IK: Span record support for   */ 05400000
*/*                                        Subtype 24 record     @D1A*/ 05425000
*/*    $P2=PIG5045 HBB5510  940117 PD88DA: OW01260 - Change external */ 05433300
*/*                                        classification to GUPI.   */ 05441600
*/*    $L3=WLMP    HBB6603  950504 PD88SN: WLMENH - Add support for  */ 05442500
*/*                                        Subtype 30 record.        */ 05443400
*/*                                        A subtype 30 record will  */ 05444300
*/*                                        be written upon           */ 05445200
*/*                                        successful completion of  */ 05446100
*/*                                        the RESET (performance    */ 05447000
*/*                                        group or service class)   */ 05447900
*/*                                        command.              @L6A*/ 05448800
*/*    $PQC0795    HBB6603  960820 PDB9DB: Time stamps in local      */ 05449200
*/*                                        time              @PQC0795*/ 05449600
*/*    $WLMPBAT    JBB6604  961101 B9HAGD: Initiator management      */ 05449800
*/*    $WLMPRES    JBB6604  970216 B9HACG: Stephen McGrath           */ 05459800
*/*                                        Scheduling Environments.  */ 05469800
*/*                                        Add subtype 32 record.    */ 05479800
*/*    $PSY0114    JBB6604  970312 PDB9KN: Kin Ng - Add flags for    */ 05482300
*/*                                        reset srvclass and reset  */ 05484800
*/*                                        pgn                       */ 05487300
*/*                                                                  */ 05489800
*/***END OF SPECIFICATIONS********************************************/ 05500000
*% /*                                                                   05550000
.P0      ANOP                                                           05575000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 05600000
         AIF   ('&LIST' EQ 'YES').P2                                    05650000
.P1      ANOP                                                           05700000
         PUSH  PRINT                                                    05750000
         PRINT OFF                                                      05800000
.P2      ANOP                                                           05850000
*                                                                       05900000
*    *****************************************************************  05950000
*    *                                                               *  06000000
*    * SMF record Type 90 Subtype 23 - WLM Service Definition Install*  06050000
*    *                                                               *  06100000
*    *****************************************************************  06150000
*                                                                       06200000
*                                                                       06250000
         AIF   ('&SMF90T23' EQ 'NO').L0002                              06300000
         AIF   ('&DSECT' EQ 'YES').L0003                                06350000
         AIF   ('&SMF90T23' NE 'YES').L0002                             06400000
SMF90T23 DS    0X                                                       06450000
         AGO   .L0004                                                   06500000
.L0003   ANOP                                                           06550000
SMF90T23 DSECT                                                          06600000
.L0004   ANOP                                                           06650000
SMF90IDN DS    1CL0008   Service definition name                        06700000
SMF90TDI DS    1CL0008   Time/Date (STCK) of installation in local     *06733300
                         time                                           06766600
SMF90IDU DS    1CL0008   Userid of the service administrator that      *06800000
                         install this service definition                06850000
SMF90IDS DS    1CL0008   Name of the system on which the service       *06900000
                         definition was installed                       06950000
SMF90T23_LEN EQU *-SMF90T23                                             07000000
.L0002   ANOP                                                           07050000
*                                                                       07100000
*    *****************************************************************  07150000
*    *                                                               *  07200000
*    * SMF record Type 90 Subtype 24 - WLM Service Policy Activation *  07250000
*    *                                                               *  07300000
*    *****************************************************************  07350000
*                                                                       07400000
* ********************************************************************  07401600
* *                                                                  *  07403200
* *  To map the WLM policy when SMF9024N = 1, simply base IWMSVPOL   *  07404800
* *  on ADDR(SMF90T24) + LENGTH(SMF9024P)                            *  07406400
* *                                                                  *  07408000
* *  To map the WLM policy when SMF9024N > 1,                        *  07409600
* *  A). Obtain a storage block equal to 32K * SMF9024N.             *  07411200
* *                                                                  *  07412800
* *  B). Read all (SMF9024N) Type 90, subtype 24 records that have   *  07414400
* *      the same unique identifier (SMF9024I).                      *  07416000
* *                                                                  *  07417600
* *  C). From the record with SMF9024S=1, copy the data              *  07419200
* *      beginning at SMF9024A                                       *  07420800
* *      for a copy length of SMF90DLN - LENGTH(SMF9024P)            *  07422400
* *      to the start of the obtained storage.                       *  07424000
* *                                                                  *  07425600
* *  D). From the record with SMF9024S=2, copy the data              *  07427200
* *      beginning at SMF9024A                                       *  07428800
* *      for a copy length of SMF90DLN-LENGTH(SMF9024P)              *  07430400
* *      to the byte in the obtained storage immediately after       *  07432000
* *      the data copied in step C.                                  *  07433600
* *                                                                  *  07435200
* *  E). Continue as above for all records including the one where   *  07436800
* *      SMF9024S=SMF9024N.                                          *  07438400
* *                                                                  *  07440000
* *  F). Use the IWMSVPOL mapping macro to map the obtained storage  *  07441600
* *      with the data merged from the several subtype 24 records.   *  07443200
* *                                                                  *  07444800
* ********************************************************************  07446400
*                                                                       07450000
*                                                                       07475000
         AIF   ('&SMF90T24' EQ 'NO').L0005                              07500000
         AIF   ('&DSECT' EQ 'YES').L0006                                07550000
         AIF   ('&SMF90T24' NE 'YES').L0005                             07600000
SMF90T24 DS    0D                                                       07650000
         AGO   .L0007                                                   07700000
.L0006   ANOP                                                           07750000
SMF90T24 DSECT                                                          07800000
.L0007   ANOP                                                           07850000
SMF9024P DS    0CL0016   Prefix area to subtype 24 Allows assembling   *07900000
                         several records together to map the entire    *07950000
                         WLM service policy                             08000000
SMF9024S DS    1FL4      Sequence number. When the service policy is   *08050000
                         larger than will fit in 1 subtype 24 record,  *08100000
                         this field describes the order in which       *08150000
                         individual records must be combined to view   *08200000
                         the entire service policy                      08250000
SMF9024N DS    1FL4      Number of subtype 24 records which must be    *08300000
                         combined to map the policy. When 1 record is  *08350000
                         enough, both SMF9024S and SMF9024N will be 1.  08400000
SMF9024I DS    1CL0008   Unique id that is used to ensure all "N"      *08450000
                         records of 1 policy can be combined without   *08500000
                         mixing data from 2 rapid VARY policy          *08550000
                         commands.                                      08600000
SMF9024A DS    0C        The active service policy. This area is       *08650000
                         mapped by IWMSVPOL.                            08700000
SMF90T24_LEN EQU *-SMF90T24                                             10050000
.L0005   ANOP                                                           10100000
*                                                                       20450000
*    *****************************************************************  20500000
*    *                                                               *  20550000
*    * SMF record Type 90 Subtype 25 - Workload Management Mode      *  20600000
*    * Change                                                        *  20650000
*    *                                                               *  20700000
*    *****************************************************************  20750000
*                                                                       20800000
*                                                                       20850000
         AIF   ('&SMF90T25' EQ 'NO').L0008                              20900000
         AIF   ('&DSECT' EQ 'YES').L0009                                20950000
         AIF   ('&SMF90T25' NE 'YES').L0008                             21000000
SMF90T25 DS    0X                                                       21050000
         AGO   .L000A                                                   21100000
.L0009   ANOP                                                           21150000
SMF90T25 DSECT                                                          21200000
.L000A   ANOP                                                           21250000
SMF90MOD DS    0BL1      Mode transition indicators                     21300000
SMF90MGM EQU   X'80'     Goal mode to compatibility mode                21350000
SMF90MCM EQU   X'40'     Compatibility mode to goal mode                21400000
         ORG   SMF90MOD+X'00000001'                                     21450000
SMF90MRS DS    1CL0003   Reserved                                       21500000
SMF90MTD DS    1CL0008   Time/Date (STCK) of mode transition           *21550000
                         initiation                                     21600000
SMF90NSP DS    1CL0008   Service policy name                            21650000
SMF90TPA DS    1CL0008   Time/Date (STCK) associated with the initial  *21700000
                         activation of this service policy in local    *21733300
                         time                                           21766600
SMF90IPU DS    1CL0008   Userid of the system operator or service      *21800000
                         administrator that activated this service     *21850000
                         policy                                         21900000
SMF90SNA DS    1CL0008   System name (sysname) associated with initial *21950000
                         activation of this service policy              22000000
SMF9025N DS    1CL0008   Service definition name from which this       *22050000
                         service policy was extracted                   22100000
SMF9025T DS    1CL0008   Time/Date (STCK) associated with installation *22150000
                         of this service definition in local time       22200000
SMF9025U DS    1CL0008   Userid of the service administrator who       *22250000
                         installed the service definition               22300000
SMF9025S DS    1CL0008   Name of the system on which the service       *22350000
                         definition was installed                       22400000
SMF90MOU DS    1CL0008   Userid of the system operator that initiated  *22450000
                         the mode changed                               22500000
SMF90T25_LEN EQU *-SMF90T25                                             22550000
.L0008   ANOP                                                           22600000
*                                                                       22600900
*          SMF record Type 90 Subtype 30 -                              22601800
*          RESET operator command processed.                            22602700
*                                                                       22603600
* ********************************************************************  22604500
* *  SMF record Type 90 Subtype 30 - RESET operator command complete.*  22605400
* *  This record will be generated whenever a RESET operator command *  22606300
* *  completes succesfully.   The record identifies the job that     *  22607200
* *  was reset, the operator than initiated the command, and the     *  22608100
* *  change that was requested.                                         22609000
* ********************************************************************  22609900
*                                                                       22610800
*                                                                       22611700
         AIF   ('&SMF90T30' EQ 'NO').L000B                              22612600
         AIF   ('&DSECT' EQ 'YES').L000C                                22613500
         AIF   ('&SMF90T30' NE 'YES').L000B                             22614400
SMF90T30 DS    0F                                                       22615300
         AGO   .L000D                                                   22616200
.L000C   ANOP                                                           22617100
SMF90T30 DSECT                                                          22618000
.L000D   ANOP                                                           22618900
SMF90T30_JOBNAME DS 1CL0008 Name of job that was reset                  22619800
SMF90T30_JOBID DS 1CL0008 JES job id of that job. Blank if no JSAB     *22620700
                         associated with job.                           22621600
SMF90T30_ENTRY_TIME DS 1FL4 Program entry time, in hundredths of a     *22622500
                         second since midnight. Zero if no JSAB        *22623400
                         associated with job.                           22624300
SMF90T30_ENTRY_DATE DS 1CL0004 Program entry Date, in the form         *22625200
                         0cyydddF. Zero if no JSAB associated with     *22626100
                         job.                                           22627000
SMF90T30_OPERATOR DS 1CL0008 Operator ID that issued RESET              22627900
SMF90T30_FLAGS DS 0BL1   Indicators                                     22628600
SMF90T30_QUIESCE EQU X'80' QUIESCE operand used                         22629300
SMF90T30_RESUME EQU X'40' RESUME operand used                           22630000
SMF90T30_SRVCLASS EQU X'20' SRVCLASS operand used                       22630200
SMF90T30_PGN EQU X'10'   PGN operand used                               22630400
         ORG   SMF90T30_FLAGS+X'00000001'                               22630700
SMF90T30_RSV DS 1CL0003  Reserved.                                      22631500
SMF90T30_OLDSRV DS 1CL0008 Service class name that was associated with *22632400
                         the job before RESET was processed. Blank if  *22633300
                         system was in compat mode. OLD and NEW        *22634200
                         service class are identical when the RESET    *22635100
                         QUIESCEd the address space                     22636000
SMF90T30_NEWSRV DS 1CL0008 Service class that was associated with the  *22636900
                         job after RESET was processed. Blank for a    *22637800
                         system in compat mode. OLD and NEW service    *22638700
                         class are identical when the RESET QUIESCEd   *22639600
                         the address space                              22640500
SMF90T30_OLDPGN DS 1FL2  Performance group that was associated with    *22641400
                         the job before RESET was processed. Zero if   *22642300
                         system was in goal mode.                       22643200
SMF90T30_NEWPGN DS 1FL2  Performance group the job was reset into.     *22644100
                         Zero for goal mode                             22645000
SMF90T30_LEN EQU *-SMF90T30                                             22645900
.L000B   ANOP                                                           22646800
*                                                                       22647500
*          SMF record Type 90 Subtype 32 -                              22648200
*          Scheduling Environment information.                          22648900
*                                                                       22649600
* ********************************************************************  22650300
* *  SMF record Type 90 Subtype 32 - Scheduling Environment          *  22651000
* *  information after a successful Policy change.                      22651700
* ********************************************************************  22652400
* ********************************************************************  22653100
* *                                                                  *  22653800
* *  To map the Scheduling Environment structure when SMF9032N = 1,  *  22654500
* *  simply base IWMSVPSE on ADDR(SMF90T32) + LENGTH(SMF9032P)       *  22655200
* *                                                                  *  22655900
* *  To map the Schduling Environment structure when SMF9032N > 1,   *  22656600
* *                                                                  *  22657300
* *  A). Obtain a storage block equal to 32K * SMF9032N.             *  22658000
* *                                                                  *  22658700
* *  B). Read all (SMF9032N) Type 90, subtype 32 records that have   *  22659400
* *      the same unique identifier (SMF9032I).                      *  22660100
* *                                                                  *  22660800
* *  C). From the record with SMF9032S=1, copy the data              *  22661500
* *      beginning at SMF9032A                                       *  22662200
* *      for a copy length of SMF90DLN - LENGTH(SMF9032P)            *  22662900
* *      to the start of the obtained storage.                       *  22663600
* *                                                                  *  22664300
* *  D). From the record with SMF9032S=2, copy the data              *  22665000
* *      beginning at SMF9032A                                       *  22665700
* *      for a copy length of SMF90DLN-LENGTH(SMF9032P)              *  22666400
* *      to the byte in the obtained storage immediately after       *  22667100
* *      the data copied in step C.                                  *  22667800
* *                                                                  *  22668500
* *  E). Continue as above for all records including the one where   *  22669200
* *      SMF9032S=SMF9032N.                                          *  22669900
* *                                                                  *  22670600
* *  F). Use the IWMSVPSE mapping macro to map the obtained storage  *  22671300
* *      with the data merged from the several subtype 32 records.   *  22672000
* *                                                                  *  22672700
* *                                                                     22673400
* ********************************************************************  22674100
*                                                                       22674800
*                                                                       22675500
         AIF   ('&SMF90T32' EQ 'NO').L000E                              22676200
         AIF   ('&DSECT' EQ 'YES').L000F                                22676900
         AIF   ('&SMF90T32' NE 'YES').L000E                             22677600
SMF90T32 DS    0D                                                       22678300
         AGO   .L0010                                                   22679000
.L000F   ANOP                                                           22679700
SMF90T32 DSECT                                                          22680400
.L0010   ANOP                                                           22681100
SMF9032P DS    0CL0016   Prefix area to subtype 32 Allows assembling   *22681800
                         several records together to map the entire    *22682500
                         WLM service policy                             22683200
SMF9032S DS    1FL4      Sequence number. When the Scheduling          *22683900
                         Environment structure is larger than will fit *22684600
                         in 1 subtype 32 record, this field describes  *22685300
                         the order in which individual records must be *22686000
                         combined to view the entire service policy.    22686700
SMF9032N DS    1FL4      Number of subtype 32 records which must be    *22687400
                         combined to map the policy. When 1 record is  *22688100
                         enough, both SMF9032S and SMF9032N will be 1.  22688800
SMF9032I DS    1CL0008   Unique id that is used to ensure all "N"      *22689500
                         records of 1 policy can be combined without   *22690200
                         mixing data from 2 rapid VARY policy          *22690900
                         commands.                                      22691600
SMF9032A DS    0C        The active service policy. This area is       *22692300
                         mapped by IWMSVPSE.                            22693000
SMF90T32_LEN EQU *-SMF90T32                                             22693700
.L000E   ANOP                                                           22694400
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 22695100
         AIF   ('&LIST' EQ 'YES').P4                                    22700000
.P3      ANOP                                                           22750000
         POP   PRINT                                                    22800000
.P4      ANOP                                                           22850000
.P_EXIT  ANOP                                                           22900000
         MEND                                                           22950000
**/ IWMSMF90_2:;                                                        23000000
* %IWMSMF90_INCLUDED = 'YES';                                           23050000
* %DCL ZCBPRINT CHAR EXT;                                               23100000
* %DEACTIVATE ZCBPRINT;                                                 23150000
* %DCL IWMSMF90_LIST CHAR EXT;                                          23200000
* %DEACTIVATE IWMSMF90_LIST;                                            23250000
* %IF IWMSMF90_LIST ^= 'NO' &                                           23300000
*    ZCBPRINT ^= 'NO' %THEN                                             23350000
*   %GOTO IWMSMF90_3;                                                   23400000
*   @LIST PUSH NOECHO;                                                  23450000
*   @LIST NOASSEMBLE NOECHO;                                            23500000
*   @LIST OFF C NOECHO;                                                 23550000
* %IWMSMF90_3:;                                                         23600000
*/* Start of PL/X Source                                             */ 23650000
*                                                                       23700000
*       /* SMF record Type 90 Subtype 23 -                              23733300
*          WLM Service Definition Install                            */ 23766600
*                                                                       23800000
* DECLARE                                                               23850000
*   1 SMF90T23 BASED(ADDR(SMFRCD90)+SMF90DOF),                          23900000
*     3 SMF90IDN CHAR(8),           /* Service definition name       */ 23950000
*     3 SMF90TDI CHAR(8),           /* Time/Date (STCK) of installation 24000000
*                                      in local time                 */ 24050000
*     3 SMF90IDU CHAR(8),           /* Userid of the service            24100000
*                                      administrator that install this  24150000
*                                      service definition            */ 24200000
*     3 SMF90IDS CHAR(8);           /* Name of the system on which the  24250000
*                                      service definition was installed 24300000
*                                                                    */ 24350000
*                                                                       24400000
*       /* SMF record Type 90 Subtype 24 -                              24403000
*          WLM Service Policy Activation                             */ 24406000
*                                                                       24409000
*/********************************************************************/ 24412000
*/*                                                                  */ 24415000
*/*  To map the WLM policy when SMF9024N = 1, simply base IWMSVPOL   */ 24418000
*/*  on ADDR(SMF90T24) + LENGTH(SMF9024P)                            */ 24421000
*/*                                                                  */ 24424000
*/*  To map the WLM policy when SMF9024N > 1,                        */ 24427000
*/*  A). Obtain a storage block equal to 32K * SMF9024N.             */ 24430000
*/*                                                                  */ 24433000
*/*  B). Read all (SMF9024N) Type 90, subtype 24 records that have   */ 24436000
*/*      the same unique identifier (SMF9024I).                      */ 24439000
*/*                                                                  */ 24442000
*/*  C). From the record with SMF9024S=1, copy the data              */ 24445000
*/*      beginning at SMF9024A                                       */ 24448000
*/*      for a copy length of SMF90DLN - LENGTH(SMF9024P)            */ 24451000
*/*      to the start of the obtained storage.                       */ 24454000
*/*                                                                  */ 24457000
*/*  D). From the record with SMF9024S=2, copy the data              */ 24460000
*/*      beginning at SMF9024A                                       */ 24463000
*/*      for a copy length of SMF90DLN-LENGTH(SMF9024P)              */ 24466000
*/*      to the byte in the obtained storage immediately after       */ 24469000
*/*      the data copied in step C.                                  */ 24472000
*/*                                                                  */ 24475000
*/*  E). Continue as above for all records including the one where   */ 24478000
*/*      SMF9024S=SMF9024N.                                          */ 24481000
*/*                                                                  */ 24484000
*/*  F). Use the IWMSVPOL mapping macro to map the obtained storage  */ 24487000
*/*      with the data merged from the several subtype 24 records.   */ 24490000
*/*                                                                  */ 24493000
*/********************************************************************/ 24496000
*                                                                       24500000
* DECLARE                                                               24550000
*   1 SMF90T24 BASED(ADDR(SMFRCD90)+SMF90DOF),                          24600000
*     3    SMF9024P BDY(DWORD),     /* Prefix area to subtype 24        24610000
*                                      Allows assembling several        24620000
*                                      records together to map the      24630000
*                                      entire WLM service policy @D1A*/ 24640000
*                                                                       24650000
*       5    SMF9024S FIXED(32),    /* Sequence number. When the        24683300
*                                      service policy is larger than    24716600
*                                      will fit in 1 subtype 24         24749900
*                                      record, this field describes     24783200
*                                      the order in which individual    24816500
*                                      records must be combined to      24849800
*                                      view the entire service policy   24883100
*                                                                @D1A*/ 24916400
*                                                                       24950000
*       5    SMF9024N FIXED(32),    /* Number of subtype 24 records     25000000
*                                      which must be combined to map    25050000
*                                      the policy. When 1 record is     25100000
*                                      enough, both SMF9024S and        25150000
*                                      SMF9024N will be 1.       @D1A*/ 25200000
*                                                                       27300000
*       5    SMF9024I CHAR(8),      /* Unique id that is used to        27350000
*                                      ensure all "N" records of 1      27400000
*                                      policy can be combined without   27450000
*                                      mixing data from 2 rapid VARY    27500000
*                                      policy commands.          @D1A*/ 27550000
*                                                                       27600000
*     3    SMF9024A CHAR(*);        /* The active service policy.       27650000
*                                      This area is mapped by IWMSVPOL. 27700000
*                                                                @D1A*/ 27750000
*                                                                       30650000
*       /* SMF record Type 90 Subtype 25 -                              30700000
*          Workload Management Mode Change                           */ 30750000
*                                                                       36450000
* DECLARE                                                               36500000
*   1 SMF90T25 BASED(ADDR(SMFRCD90)+SMF90DOF),                          36550000
*     3 SMF90MOD BIT(8),            /* Mode transition indicators    */ 36600000
*       5    SMF90MGM BIT(1),       /* Goal mode to compatibility mode  36650000
*                                                                    */ 36700000
*       5    SMF90MCM BIT(1),       /* Compatibility mode to goal mode  36750000
*                                                                    */ 36800000
*       5    *        BIT(6),       /* Reserved                      */ 36850000
*     3 SMF90MRS CHAR(3),           /* Reserved                      */ 36900000
*     3 SMF90MTD CHAR(8),           /* Time/Date (STCK) of mode         36950000
*                                      transition initiation         */ 37000000
*     3 SMF90NSP CHAR(8),           /* Service policy name           */ 37050000
*     3 SMF90TPA CHAR(8),           /* Time/Date (STCK) associated with 37100000
*                                      the initial activation of this   37150000
*                                      service policy in local time  */ 37200000
*     3 SMF90IPU CHAR(8),           /* Userid of the system operator or 37250000
*                                      service administrator that       37300000
*                                      activated this service policy */ 37350000
*     3 SMF90SNA CHAR(8),           /* System name (sysname) associated 37400000
*                                      with initial activation of this  37450000
*                                      service policy                */ 37500000
*     3 SMF9025N CHAR(8),           /* Service definition name from     37550000
*                                      which this service policy was    37600000
*                                      extracted                     */ 37650000
*     3 SMF9025T CHAR(8),           /* Time/Date (STCK) associated with 37700000
*                                      installation of this service     37750000
*                                      definition in local time      */ 37800000
*     3 SMF9025U CHAR(8),           /* Userid of the service            37850000
*                                      administrator who installed      37900000
*                                      the service definition        */ 37950000
*     3 SMF9025S CHAR(8),           /* Name of the system on which the  38000000
*                                      service definition was installed 38050000
*                                                                    */ 38100000
*     3 SMF90MOU CHAR(8);           /* Userid of the system operator    38150000
*                                      that initiated the mode changed  38200000
*                                                                    */ 38250000
*                                                                       38251400
*/*        SMF record Type 90 Subtype 30 -                           */ 38252800
*/*        RESET operator command processed.                         */ 38254200
*/*                                                                  */ 38255600
*/********************************************************************/ 38257000
*/*  SMF record Type 90 Subtype 30 - RESET operator command complete.*/ 38258400
*/*  This record will be generated whenever a RESET operator command */ 38259800
*/*  completes succesfully.   The record identifies the job that     */ 38261200
*/*  was reset, the operator than initiated the command, and the     */ 38262600
*/*  change that was requested.                                  @L3A*/ 38264000
*/********************************************************************/ 38265400
*                                                                       38266800
* DECLARE                                                               38268200
*   1 SMF90T30 BASED(ADDR(SMFRCD90)+SMF90DOF),                          38269600
*                                   /*                               */ 38271000
*     3 SMF90T30_JOBNAME   CHAR(8), /* Name of job that was reset    */ 38272400
*                                   /*                           @L3A*/ 38273800
*     3 SMF90T30_JOBID     CHAR(8), /* JES job id of that job.  Blank*/ 38275200
*                                   /* if no JSAB associated with    */ 38276600
*                                   /* job.                      @L3A*/ 38278000
*                                   /*                               */ 38279400
*     3 SMF90T30_ENTRY_TIME BIN(32),/* Program entry time, in        */ 38280800
*                                   /* hundredths of a second since  */ 38282200
*                                   /* midnight.  Zero if no JSAB    */ 38283600
*                                   /* associated with job.      @L3A*/ 38285000
*                                   /*                               */ 38286400
*     3 SMF90T30_ENTRY_DATE CHAR(4),/* Program entry Date, in the    */ 38287800
*                                   /* form 0cyydddF.  Zero if no    */ 38289200
*                                   /* JSAB associated with job. @L3A*/ 38290600
*                                   /*                               */ 38292000
*     3 SMF90T30_OPERATOR  CHAR(8), /* Operator ID that issued RESET */ 38293400
*                                   /*                           @L3A*/ 38294800
*     3 SMF90T30_FLAGS     BIT(8),  /* Indicators                    */ 38296400
*                                   /*                               */ 38298000
*       5 SMF90T30_QUIESCE BIT(1),  /* QUIESCE operand used  @WLMPBAT*/ 38299600
*       5 SMF90T30_RESUME BIT(1),   /* RESUME  operand used  @WLMPBAT*/ 38301200
*       5 SMF90T30_SRVCLASS BIT(1), /* SRVCLASS operand used @PSY0114*/ 38301800
*       5 SMF90T30_PGN      BIT(1), /* PGN operand used      @PSY0114*/ 38302400
*                                   /*                           @L3A*/ 38303200
*     3 SMF90T30_RSV       CHAR(3), /* Reserved.                 @L3A*/ 38304600
*                                   /*                               */ 38306000
*     3 SMF90T30_OLDSRV    CHAR(8), /* Service class name that was   */ 38307400
*                                   /* associated with the job before*/ 38308800
*                                   /* RESET was processed.  Blank   */ 38310200
*                                   /* if system was in compat mode. */ 38311600
*                                   /* OLD and NEW service class are */ 38313000
*                                   /* identical when the RESET      */ 38314400
*                                   /* QUIESCEd the address space    */ 38315800
*                                   /*                           @L3A*/ 38317200
*     3 SMF90T30_NEWSRV    CHAR(8), /* Service class that was        */ 38318600
*                                   /* associated with the job after */ 38320000
*                                   /* RESET was processed.  Blank   */ 38321400
*                                   /* for a system in compat mode.  */ 38322800
*                                   /* OLD and NEW service class are */ 38324200
*                                   /* identical when the RESET      */ 38325600
*                                   /* QUIESCEd the address space    */ 38327000
*                                   /*                           @L3A*/ 38328400
*     3 SMF90T30_OLDPGN   FIXED(16),/* Performance group that was    */ 38329800
*                                   /* associated with the job before*/ 38331200
*                                   /* RESET was processed.  Zero if */ 38332600
*                                   /* system was in goal mode.  @L3A*/ 38334000
*                                   /*                               */ 38335400
*     3 SMF90T30_NEWPGN   FIXED(16);/* Performance group the job was */ 38336800
*                                   /* reset into. Zero for goal mode*/ 38338200
*                                   /*                           @L3A*/ 38339600
*                                                                       38341000
*/*        SMF record Type 90 Subtype 32 -                           */ 38341100
*/*        Scheduling Environment information.               @WLMPRES*/ 38341200
*/*                                                                  */ 38341300
*/********************************************************************/ 38341400
*/*  SMF record Type 90 Subtype 32 - Scheduling Environment          */ 38341500
*/*  information after a successful Policy change.           @WLMPRES*/ 38341600
*/********************************************************************/ 38341700
*                                                                       38342400
*/********************************************************************/ 38342500
*/*                                                                  */ 38342600
*/*  To map the Scheduling Environment structure when SMF9032N = 1,  */ 38342700
*/*  simply base IWMSVPSE on ADDR(SMF90T32) + LENGTH(SMF9032P)       */ 38342800
*/*                                                                  */ 38342900
*/*  To map the Schduling Environment structure when SMF9032N > 1,   */ 38343000
*/*                                                                  */ 38343100
*/*  A). Obtain a storage block equal to 32K * SMF9032N.             */ 38343200
*/*                                                                  */ 38343300
*/*  B). Read all (SMF9032N) Type 90, subtype 32 records that have   */ 38343400
*/*      the same unique identifier (SMF9032I).                      */ 38343500
*/*                                                                  */ 38343600
*/*  C). From the record with SMF9032S=1, copy the data              */ 38343700
*/*      beginning at SMF9032A                                       */ 38343800
*/*      for a copy length of SMF90DLN - LENGTH(SMF9032P)            */ 38343900
*/*      to the start of the obtained storage.                       */ 38344000
*/*                                                                  */ 38344100
*/*  D). From the record with SMF9032S=2, copy the data              */ 38344200
*/*      beginning at SMF9032A                                       */ 38344300
*/*      for a copy length of SMF90DLN-LENGTH(SMF9032P)              */ 38344400
*/*      to the byte in the obtained storage immediately after       */ 38344500
*/*      the data copied in step C.                                  */ 38344600
*/*                                                                  */ 38344700
*/*  E). Continue as above for all records including the one where   */ 38344800
*/*      SMF9032S=SMF9032N.                                          */ 38344900
*/*                                                                  */ 38345000
*/*  F). Use the IWMSVPSE mapping macro to map the obtained storage  */ 38345100
*/*      with the data merged from the several subtype 32 records.   */ 38345200
*/*                                                                  */ 38345300
*/*                                                          @WLMCRES*/ 38345400
*/********************************************************************/ 38345500
*                                                                       38345600
* DECLARE                                                               38345700
*   1 SMF90T32 BASED(ADDR(SMFRCD90)+SMF90DOF),                          38345800
*                                   /*                               */ 38345900
*     3    SMF9032P BDY(DWORD),     /* Prefix area to subtype 32        38346000
*                                      Allows assembling several        38346100
*                                      records together to map the      38346200
*                                      entire WLM service policy        38346300
*                                                            @WLMCRES*/ 38346400
*                                                                       38346500
*       5    SMF9032S FIXED(32),    /* Sequence number. When the        38346600
*                                      Scheduling Environment structure 38346700
*                                      is larger than will fit in 1     38346800
*                                      subtype 32 record, this field    38346900
*                                      describes the order in which     38347000
*                                      individual records must be       38347100
*                                      combined to view the entire      38347200
*                                      service policy.       @WLMCRES*/ 38347300
*                                                                       38347400
*       5    SMF9032N FIXED(32),    /* Number of subtype 32 records     38347500
*                                      which must be combined to map    38347600
*                                      the policy. When 1 record is     38347700
*                                      enough, both SMF9032S and        38347800
*                                      SMF9032N will be 1.   @WLMCRES*/ 38347900
*                                                                       38348000
*       5    SMF9032I CHAR(8),      /* Unique id that is used to        38348100
*                                      ensure all "N" records of 1      38348200
*                                      policy can be combined without   38348300
*                                      mixing data from 2 rapid VARY    38348400
*                                      policy commands.      @WLMCRES*/ 38348500
*                                                                       38348600
*     3    SMF9032A CHAR(*);        /* The active service policy.       38348700
*                                      This area is mapped by IWMSVPSE. 38348800
*                                                            @WLMCRES*/ 38348900
*/* End of PL/X Source                                               */ 38350000
* %IF IWMSMF90_LIST ^= 'NO' &                                           38400000
*    ZCBPRINT ^= 'NO' %THEN                                             38450000
*   %GOTO IWMSMF90_4;                                                   38500000
*   @LIST POP NOECHO;                                                   38550000
* %IWMSMF90_4:;                                                         38600000
* %END;                                                                 38650000
