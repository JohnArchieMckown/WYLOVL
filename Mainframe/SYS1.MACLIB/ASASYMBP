*                                                                       00050000
* %DCL ASASYMBP_INCLUDED CHAR EXT;                                      00100000
* %DEACTIVATE ASASYMBP_INCLUDED;                                        00150000
* %IF ASASYMBP_INCLUDED = '' %THEN                                      00200000
* %DO;                                                                  00250000
*/* Macro made bi-lingual on 94153. CBGEN compile date 94096         */ 00300000
*% /*                                                                   00350000
         MACRO                                                          00400000
         ASASYMBP &DSECT=YES,&LIST=YES,&SYMBP=YES,&SYMBT=COND,         *00450000
               &SYMBTE=COND                                             00500000
         GBLC  &ASASYMBP_INCLUDED                                       00550000
         GBLC  &ZCBPRINT                                                00600000
&ASASYMBP_INCLUDED SETC 'YES'                                           00650000
 TITLE   'ASASYMBP  - ASASYMBM parameter area and symbol table       '  00700000
**/ ASASYMBP_1:;                                                        00750000
*/* START OF SPECIFICATIONS ******************************************* 00800000
*                                                                       00850000
*  **PROPRIETARY_STATEMENT********************************************  00900000
***01* PROPRIETARY STATEMENT=                                        *  00950000
*                                                                    *  01000000
*                                                                    *  01050000
*   LICENSED MATERIALS - PROPERTY OF IBM                             *  01100000
*   THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                      *  01150000
*   5645-001 (C) COPYRIGHT IBM CORP. 1994,1996                       *  01200000
*   SEE COPYRIGHT INSTRUCTIONS                                       *  01250000
*                                                                    *  01300000
*   STATUS= JBB6602                                                  *  01350000
*                                                                    *  01400000
*  **END_OF_PROPRIETARY_STATEMENT*************************************  01450000
*                                                                       01500000
*01* DESCRIPTIVE NAME:  ASASYMBM parameter area and symbol table        01550000
*02*  ACRONYM:  SYMBP                                                   01600000
*                                                                       01650000
*01* MACRO NAME:  ASASYMBP                                              01700000
*                                                                       01750000
*01* EXTERNAL CLASSIFICATION: GUPI                                      01800000
*01* END OF EXTERNAL CLASSIFICATION:                                    01850000
*                                                                       01900000
*01* DSECT NAME:                                                        01950000
*     SYMBP                                                             02000000
*     SYMBT                                                             02050000
*     SYMBTE                                                            02100000
*                                                                       02150000
*01* COMPONENT:  MVS Reuse (SCASA)                                      02200000
*                                                                       02250000
*01* EYE-CATCHER:  NONE                                                 02300000
*                                                                       02350000
*01* STORAGE ATTRIBUTES:                                                02400000
*02*  SUBPOOL:  Caller-supplied                                         02450000
*02*  KEY:  Caller-supplied                                             02500000
*02*  RESIDENCY:  Caller-supplied                                       02550000
*                                                                       02600000
*01* SIZE:  Variable                                                    02650000
*                SYMBP  -- X'001C' bytes                                02700000
*                SYMBT  -- X'0004' bytes                                02750000
*                          + one SYMBTE for each symbol indicated by    02800000
*                            the SymbtNumberOfSymbols field.            02850000
*                SYMBTE -- X'0010' bytes                                02900000
*01* CREATED BY:                                                        02950000
*     Caller and provided as input to ASASYMBM                          03000000
*                                                                       03050000
*01* POINTED TO BY:                                                     03100000
*     Not applicable                                                    03150000
*                                                                       03200000
*01* SERIALIZATION:                                                     03250000
*     None required                                                     03300000
*                                                                       03350000
*01* FUNCTION:                                                          03400000
*02* Maps the data provided to ASASYMBM.                                03450000
*    A parameter area (SYMBP) is provided.                              03500000
*    Optionally, the parameter area can point to a symbol table         03550000
*    (SYMBT) which consists of the SYMBT header plus SYMBTE entries     03587500
*    (which immediately follow the header, or are pointed to by         03625000
*    a field which immediately follows the header).                     03662500
*                                                                       03700000
*02* Return information is provided in the fullword pointed to by       03750000
*    field SymbpReturnCode@. Possible values are:                       03800000
*03* 0                                                                  03850000
*03*    Meaning: Successful Completion. All requested substitution      03900000
*                was performed.                                         03950000
*03*    Action:  None required.                                         04000000
*                                                                       04050000
*03* 4                                                                  04055500
*03*    Meaning: Warning. When Substring was specified, a substring     04061000
*                that exceeded the bounds of the substitution text,     04066500
*                or a substring in which the length was specified       04072000
*                as 0, was found.                                       04077500
*                Substitution continues.                                04083000
*03*    Action:  None required.                                         04088500
*                                                                       04094000
*03* 8                                                                  04100000
*03*    Meaning: Warning. Target buffer was too small to contain        04150000
*                all of the substitution text.                          04200000
*03*    Action:  Specify a larger target buffer, or continue            04250000
*                processing using the value returned in the fullword    04300000
*                pointed to by field SymbpTargetLength@ to determine    04350000
*                how much data was placed into the target buffer.       04400000
*                                                                       04405000
*03* 12                                                                 04410000
*03*    Meaning: Error. When CheckNull was specified, a substitution    04415000
*                text length of 0 was encountered when performing       04420000
*                substitution. Substitution continues.                  04425000
*03*    Action:  None required. The system informs the program of the   04430000
*                situation in which it was interested. It is up to      04435000
*                the program to determine the necessary course of       04440000
*                action.                                                04445000
*                                                                       04445600
*03* 16                                                                 04446200
*03*    Meaning: Warning. When WarnNoSub was specified, the             04446800
*                substitution process encountered no symbols for        04447400
*                which to substitute.                                   04448000
*                The substitution processing completed normally.        04448600
*03*    Action:  None required.                                         04449200
*                                                                       04450000
*01* METHOD OF ACCESS:                                                  04500000
*02*  ASM:                                                              04550000
*      ASASYMBP                                                         04600000
*           DSECT=YES|NO  -- Request DSECT definition                   04650000
*           SYMBP=YES|NO|COND -- Request parameter area mapping         04700000
*                            USING on SYMBP                             04750000
*           SYMBT=YES|NO|COND -- Request symbol table mapping           04800000
*                            USING on SYMBT                             04850000
*           SYMBTE=YES|NO|COND -- Request symbol table entry mapping    04900000
*                            USING on SYMBTE                            04950000
*     Default: DSECT=YES,SYMBP=YES,SYMBT=COND,SYMBTE=COND               05000000
*     Notes: name=YES  => expand                                        05050000
*            name=NO   => do not expand                                 05100000
*            name=COND => expand only if DSECT=YES                      05150000
*                                                                       05200000
*02*  PL/AS:                                                            05250000
*      %INCLUDE SYSLIB(ASASYMBP)                                        05300000
*                                                                       05350000
*01*  USAGE NOTES:                                                      05400000
*      Invoke ASASYMBM via                                              05450000
*        Build symbparea to conform with the Symbp mapping.             05500000
*        LINK EP=ASASYMBM,MF=(E,symbparea)                              05550000
*     or LINKX EP=ASASYMBM,MF=(E,symbparea)                             05600000
*          <<if reentrant and using LINKX, use the SF key as well>>     05650000
*     or LOAD EP=ASASYMBM                                               05662500
*        move entry point address to GPR 15                             05675000
*        CALL (15),MF=(E,symbparea)                                     05687500
*                                                                       05700000
*                                                                       05750000
*01* DELETED BY:  Caller                                                05800000
*                                                                       05850000
*01* FREQUENCY:  Created for input to ASASYMBM                          05900000
*                                                                       05950000
*01* DEPENDENCIES:  None                                                06000000
*                                                                       06050000
*01* DISTRIBUTION LIBRARY:  AMACLIB                                     06100000
*                                                                       06150000
*01* CHANGE ACTIVITY:                                                   06200000
*   $L0=CLONECBG ,HBB5520,930908,PD00XB: ASASYMBM parameter area        06250000
*   $L1=CLONEASA ,HBB5520,930908,PD00XB: ASASYMBM parameter area        06300000
*   $L2=CLONEASA ,HBB5520,930908,PD00XB: Substring, Check null          06325000
*   $D1=DN70056  ,HBB5520,940506,PD00XB: Warn on no substitution        06337500
*   $P1=PN70675  ,HBB5520,940520,PD00XB: Mixed case symbols             06343700
*                                                                       06350000
* END OF SPECIFICATIONS *********************************************/  06400000
*% /*                                                                   06450000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 06500000
         AIF   ('&LIST' EQ 'YES').P2                                    06550000
.P1      ANOP                                                           06600000
         PUSH  PRINT                                                    06650000
         PRINT OFF                                                      06700000
.P2      ANOP                                                           06750000
         AIF   ('&SYMBP' EQ 'NO').L0002                                 06800000
         AIF   ('&DSECT' EQ 'YES').L0003                                06850000
         AIF   ('&SYMBP' NE 'YES').L0002                                06900000
SYMBP    DS    0F                                                       06950000
         AGO   .L0004                                                   07000000
.L0003   ANOP                                                           07050000
SYMBP    DSECT                                                          07100000
.L0004   ANOP                                                           07150000
SYMBPPATTERN@ DS 1AL4    Address of input pattern containing symbols   *07200000
                         to be resolved                                 07250000
SYMBPPATTERNLENGTH DS 1FL4 Length of input pattern                      07300000
SYMBPTARGET@ DS 1AL4     Address of output target area. The target,    *07350000
                         for the length specified in the word pointed  *07400000
                         to by SymbpTargetLength@, is initialized to   *07450000
                         blanks before substitution processing begins.  07500000
SYMBPTARGETLENGTH@ DS 1AL4 Address of input output fullword field      *07550000
                         containing length of target area. On input,   *07600000
                         it contains the length provided. On output,   *07650000
                         it contains the actual length of the target   *07700000
                         resulting from the symbolic substitution.      07750000
SYMBPSYMBOLTABLE@ DS 1AL4 Address of symbol table mapped by SYMBT      *07800000
                         DSECT. If only the default set of symbols are *07850000
                         wanted, and none of the functions indicated   *07900000
                         by the flags in SymbtFlags are needed, then   *07950000
                         this field should be 0.                        08000000
SYMBPTIMESTAMP@ DS 1AL4  Address of 8-character area containing the    *08050000
                         time stamp to use. If this field is           *08100000
                         hexadecimal zeroes, the system will obtain    *08150000
                         the current time stamp for use in evaluating  *08200000
                         symbolics related to time or date.             08250000
SYMBPRETURNCODE@ DS 1FL4 Address of fullword which is to contain the   *08300000
                         return code                                    08350000
SYMBP_LEN EQU  *-SYMBP                                                  08400000
.L0002   ANOP                                                           08450000
         AIF   ('&SYMBT' EQ 'NO').L0005                                 08500000
         AIF   ('&DSECT' EQ 'YES').L0006                                08550000
         AIF   ('&SYMBT' NE 'YES').L0005                                08600000
SYMBT    DS    0H        Symbol table                                   08650000
         AGO   .L0007                                                   08700000
.L0006   ANOP                                                           08750000
SYMBT    DSECT           Symbol table                                   08800000
.L0007   ANOP                                                           08850000
SYMBTHEADER DS 1CL0004                                                  08900000
         ORG   SYMBTHEADER                                              08950000
SYMBTFLAGS DS  1BL2                                                     09000000
         ORG   SYMBTFLAGS                                               09050000
SYMBTFLAG0 DS  1BL1      Byte 0 of SymbtFlags                           09066600
         ORG   SYMBTFLAG0                                               09083200
SYMBTNODEFAULTSYMBOLS EQU X'80' Avoid using the default symbol set      09100000
SYMBTONLYSTATICSYMBOLS EQU X'40' Allow only static symbols              09143700
SYMBTTIMESTAMPISGMT EQU X'20' The input timestamp is GMT-time, not     *09187500
                         Local. Note that the value from STCK or       *09210700
                         STCKSYNC is not GMT. It needs to be corrected *09233900
                         by subtracting CVTLSO. This bit need not be   *09257100
                         set as it is the default. Do not also specify *09280300
                         SymbtTimeStampIsLocal or                      *09303500
                         SymbtTimeStampIsStck.                          09326700
SYMBTTIMESTAMPISLOCAL EQU X'10' The input timestamp is Local-Time, not *09350000
                         GMT. Do not also specify SymbtTimeStampIsGMT  *09369400
                         or SymbtTimeStampIsStck.                       09388800
SYMBTWARNSUBSTRINGS EQU X'08' When a substring problem is encountered, *09408300
                         produce a warning return code. The substring  *09416600
                         is fixed irregardless.                         09424900
SYMBTCHECKNULLSUBTEXT EQU X'04' The presence of null sub-text will be  *09433200
                         flagged via non-zero return code.              09441500
SYMBTPTRSAREOFFSETS EQU X'02' The pointer fields within the            *09442300
                         user-provided symbol area are offsets. The    *09442600
                         processing code will add the offset and the   *09442900
                         symbol area address to get the actual address *09443200
                         of the operand. Note that this does not apply *09443500
                         to field SymbteSymbolAreaAddr - it is always  *09443800
                         a pointer. Note also that when bit            *09444100
                         SymbtIndrectSymbolArea is on, the symbol area *09444400
                         address is the address contained in           *09444700
                         SymbteSymbolAreaAddr. When bit                 09445000
*                        SymbtIndirectSymbolArea is off, the symbol    *09445300
                         area address is the address of                *09445600
                         SymbtTableEntries.                             09445900
SYMBTONLYDYNAMICSYMBOLS EQU X'01' Allow only dynamic symbols. This     *09446300
                         should be used only when passing in as a user *09447100
                         symbol table the static symbol table of       *09447900
                         another system.                                09448700
         ORG   SYMBTFLAG0+X'00000001'                                   09448900
SYMBTFLAG1 DS  1BL1      Byte 1 of SymbtFlags                           09449100
         ORG   SYMBTFLAG1                                               09449300
SYMBTFLAG1RSV1 EQU X'80' Reserved. Must be zero. Do not use.            09449500
SYMBTTIMESTAMPISSTCK EQU X'40' The input timestamp is from the STCK    *09456700
                         instruction or the STCKSYNC service. Do not   *09463900
                         also specify SymbtTimeStampIsGMT or           *09471100
                         SymbtTimeStampIsLocal.                         09478300
SYMBTWARNNOSUB EQU X'20' When no substitution at all has occurred,     *09480300
                         produce a warning return code.                 09482300
SYMBTINDIRECTSYMBOLAREA EQU X'10' Indicates that the symbol area is    *09484300
                         not contiguous but rather is pointed to by    *09486300
                         SymbteSymbolAreaAddr.                          09488300
SYMBTMIXEDCASESYMBOLS EQU X'08' Indicates that the input may have      *09488900
                         non-uppercase symbols. The processing will    *09489500
                         obtain an additional area to copy the input   *09490100
                         pattern in order to make recognition of these *09490700
                         symbols possible.                              09491300
SYMBTFLAG1RSV3 EQU X'07' Unused. Must be zero.                          09491900
         ORG   SYMBTFLAGS+X'00000002'                                   09492700
SYMBTNUMBEROFSYMBOLS DS 1FL2 Number of entries in symbol table. Can be *09500000
                         0.                                             09550000
SYMBTTABLEENTRIES DS 0C  Symbol table entries. One for each indicated  *09600000
                         by the NumberOfSymbols field. Mapped by       *09650000
                         SYMBTE DSECT. Note that when                  *09657400
                         SymbtIndirectSymbolArea is specified, this    *09664800
                         area consists only of field                   *09672200
                         SymbteSymbolAreaAddr. In that case, it is the *09679600
                         area pointed to by that pointer that is       *09687000
                         mapped by SYMBTE DSECT.                        09694400
*                                                                       09701800
*    *****************************************************************  09703600
*    *                                                               *  09705400
*    * The static symbol table is pointed to by ECVTSYMT and is      *  09707200
*    * mapped by the SYMBT DSECT. In the 4-bytes preceding this table*  09709000
*    * is a fullword which specifies the length of the contiguous    *  09710800
*    * area that follows which contains the table plus the symbol    *  09712600
*    * names plus the substitution text values.                      *  09714400
*    *                                                               *  09716200
*    *****************************************************************  09718000
*                                                                       09719800
*                                                                       09721600
SYMBTMAXSTATICSYMBOLLENGTH EQU 8 The max length of a static symbol,    *09723400
                         not counting the "&" and the "."               09725200
SYMBTMAXSTATICENTRIES EQU 103 The max number of entries. This provides *09727000
                         for the 3 MVS-defined symbols plus 100        *09728800
                         user-provided symbols                          09730600
SYMBTMAXSTATICSUBTEXTLENGTH EQU 9 The max length of substitution text  *09732400
                         for a static symbol                            09737800
SYMBTMAXSTATICTABLESIZE EQU 3609 The max table size, taking into       *09743200
                         account that each symbol is preceded by "&"   *09745000
                         and followed by "."                            09746800
SYMBT_LEN EQU  *-SYMBT                                                  09750000
.L0005   ANOP                                                           09800000
         AIF   ('&SYMBTE' EQ 'NO').L0008                                09850000
         AIF   ('&DSECT' EQ 'YES').L0009                                09900000
         AIF   ('&SYMBTE' NE 'YES').L0008                               09950000
SYMBTE   DS    0F        Symbol table entry                             10000000
         AGO   .L000A                                                   10050000
.L0009   ANOP                                                           10100000
SYMBTE   DSECT           Symbol table entry                             10150000
.L000A   ANOP                                                           10200000
SYMBTETABLEENTRIES DS 1CL0016 Symbol table entry. One such entry for   *10250000
                         each indicated by the SymbtNumberOfSymbols    *10300000
                         field.                                         10350000
         ORG   SYMBTETABLEENTRIES                                       10400000
SYMBTESYMBOLPTR DS 1AL4  Address of symbol. Do not use when bit        *10414200
                         SymbtPtrsAreOffsets is on. Note that the      *10421300
                         symbol must include the preceding "&" and the *10428400
                         trailing "."                                   10435500
         ORG   SYMBTESYMBOLPTR                                          10442600
SYMBTESYMBOLOFFSET DS 1FL4 Offset to symbol from start of symbol area. *10457400
                         Only use if bit SymbtPtrsAreOffsets is on.    *10464800
                         Note that the symbol must include the         *10472200
                         preceding "&" and the trailing "."             10479600
         ORG   SYMBTESYMBOLOFFSET                                       10487000
SYMBTESYMBOLAREAADDR DS 1AL4 Address of symbol area when               *10488800
                         SymbtIndirectSymbolArea is set. In that case, *10490600
                         this is the only word needed in the Symbte    *10492400
                         area, and the area pointed to by this pointer *10494200
                         is mapped by the "regular" SYMBTE DSECT (for  *10496000
                         which SymbteSymbolAreaAddr is not relevant).   10497800
SYMBTESYMBOLLENGTH DS 1FL4 Length of symbol (includes preceding "&"    *10503200
                         and trailing ".")                              10508600
SYMBTESUBTEXTPTR DS 1AL4 Address of substitution text. Do not use when *10514200
                         bit SymbtPtrsAreOffsets is on.                 10528400
         ORG   SYMBTESUBTEXTPTR                                         10542600
SYMBTESUBTEXTOFFSET DS 1FL4 Offset to substitution text from start of  *10556800
                         symbol area. Only use if bit                  *10571000
                         SymbtPtrsAreOffsets is on.                     10585200
SYMBTESUBTEXTLENGTH DS 1FL4 Length of substitution text                 10600000
SYMBTE_LEN EQU *-SYMBTE                                                 10650000
.L0008   ANOP                                                           10700000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 10750000
         AIF   ('&LIST' EQ 'YES').P4                                    10800000
.P3      ANOP                                                           10850000
         POP   PRINT                                                    10900000
.P4      ANOP                                                           10950000
.P_EXIT  ANOP                                                           11000000
         MEND                                                           11050000
**/ ASASYMBP_2:;                                                        11100000
* %ASASYMBP_INCLUDED = 'YES';                                           11150000
* %DCL ZCBPRINT CHAR EXT;                                               11200000
* %DEACTIVATE ZCBPRINT;                                                 11250000
* %DCL ASASYMBP_LIST CHAR EXT;                                          11300000
* %DEACTIVATE ASASYMBP_LIST;                                            11350000
* %IF ASASYMBP_LIST ^= 'NO' &                                           11400000
*    ZCBPRINT ^= 'NO' %THEN                                             11450000
*   %GOTO ASASYMBP_3;                                                   11500000
*   @LIST PUSH NOECHO;                                                  11550000
*   @LIST NOASSEMBLE NOECHO;                                            11600000
*   @LIST OFF C NOECHO;                                                 11650000
* %ASASYMBP_3:;                                                         11700000
*/* Start of PL/X Source                                             */ 11750000
*   DCL 1 Symbp BASED,                 /*                        @L1A*/ 11800000
*         2 SymbpPattern@ PTR,         /* Address of input pattern      11850000
*               containing symbols to be resolved                @L1A*/ 11900000
*           3 SymbpPatternAddr PTR,    /* Same as SymbpPattern@  @L2A*/ 11925000
*         2 SymbpPatternLength FIXED,  /* Length of input pattern       11950000
*                                                                @L1A*/ 12000000
*         2 SymbpTarget@ PTR,          /* Address of output target      12050000
*                area. The target, for the length specified in the      12100000
*                word pointed to by SymbpTargetLength@, is              12150000
*                initialized to blanks before substitution              12200000
*                processing begins.                              @L1A*/ 12250000
*           3 SymbpTargetAddr PTR,     /* Same as SymbpTarget@   @L2A*/ 12275000
*         2 SymbpTargetLength@ PTR,    /* Address of input output       12300000
*                fullword field containing length of target area.       12350000
*                On input, it contains the length provided.             12400000
*                On output, it contains the actual length of the        12450000
*                target resulting from the symbolic substitution.       12500000
*                                                                @L1A*/ 12550000
*           3 SymbpTargetLengthAddr PTR,  /* Same as                    12566600
*                SymbpTargetLength@                              @L2A*/ 12583200
*         2 SymbpSymbolTable@ PTR,     /* Address of symbol table       12600000
*                mapped by SYMBT DSECT. If only the default set         12650000
*                of symbols are wanted, and none of the functions       12700000
*                indicated by the flags in SymbtFlags are needed,       12750000
*                then this field should be 0.                    @L1A*/ 12800000
*           3 SymbpSymbolTableAddr  PTR,  /* Same as                    12816600
*                SymbpSymbolTable@                               @L2A*/ 12833200
*         2 SymbpTimeStamp@ PTR,       /* Address of 8-character area   12850000
*                containing the time stamp to use. If this field is     12900000
*                hexadecimal zeroes, the system                         12950000
*                will obtain the current time stamp                     13000000
*                for use in evaluating symbolics related to time or     13050000
*                date.                                           @L1A*/ 13100000
*           3 SymbpTimeStampAddr PTR,  /* Same as SymbpTimeStamp@       13116600
*                                                                @L2A*/ 13133200
*         2 SymbpReturnCode@ FIXED,    /* Address of fullword which     13150000
*                is to contain the return code                   @L1A*/ 13200000
*           3 SymbpReturnCodeAddr PTR, /* Same as SymbpReturnCode@      13216600
*                                                                @L2A*/ 13233200
*         2 * CHAR(0);                 /*                        @L1A*/ 13250000
*   DCL 1 Symbt BASED,              /* Symbol table              @L1A*/ 13300000
*         3 SymbtHeader,            /*                           @L1A*/ 13350000
*          5 SymbtFlags BIT(16), /*                              @L1A*/ 13400000
*           6 SymbtFlag0 BIT(8), /* Byte 0 of SymbtFlags         @L1A*/ 13433300
*            7 SymbtNoDefaultSymbols BIT(1),    /* Avoid using the      13466600
*                                  default symbol set            @L1A*/ 13500000
*            7 SymbtOnlyStaticSymbols BIT(1),    /* Allow only          13550000
*                                  static symbols                @L1A*/ 13600000
*            7 SymbtTimestampIsGMT BIT(1), /* The input timestamp       13637500
*                      is GMT-time, not Local. Note that the value      13660000
*                      from STCK or STCKSYNC is not GMT. It needs       13682500
*                      to be corrected by subtracting CVTLSO. This      13705000
*                      bit need not be set as it is the                 13727500
*                      default. Do not also specify                     13750000
*                      SymbtTimeStampIsLocal                            13783300
*                      or SymbtTimeStampIsStck.                  @L1A*/ 13816600
*            7 SymbtTimestampIsLocal BIT(1), /* The input timestamp     13850000
*                      is Local-Time, not GMT. Do not also specify      13900000
*                      SymbtTimeStampIsGMT                              13918700
*                      or SymbtTimeStampIsStck.                  @L1A*/ 13937400
*            7 SymbtWarnSubstrings BIT(1), /* When a substring          13956200
*                      problem is encountered, produce a warning        13962400
*                      return code. The substring is fixed              13968600
*                      irregardless.                             @L2A*/ 13974800
*            7 SymbtCheckNullSubText BIT(1),  /* The presence of        13981000
*                      null sub-text will be flagged via non-zero       13987200
*                      return code.                              @L2A*/ 13993400
*            7 SymbtPtrsAreOffsets BIT(1),    /* The pointer fields     13994000
*                      within the user-provided symbol area are         13994600
*                      offsets. The processing code will add the        13995200
*                      offset and the symbol area address to            13995300
*                      get the actual address of the operand.           13995400
*                      Note that this does not apply to field           13995500
*                      SymbteSymbolAreaAddr - it is always a pointer.   13995600
*                      Note also that when bit SymbtIndrectSymbolArea   13995700
*                      is on, the symbol area address is the address    13995800
*                      contained in SymbteSymbolAreaAddr. When bit      13995900
*                      SymbtIndirectSymbolArea is off, the symbol       13996000
*                      area address is the address of                   13996100
*                      SymbtTableEntries.                        @D1C*/ 13996200
*            7 SymbtOnlyDynamicSymbols BIT(1),    /* Allow only         13997000
*                      dynamic symbols. This should be used only when   13997600
*                      passing in as a user symbol table the static     13998200
*                      symbol table of another system.           @L2A*/ 13998800
*           6 SymbtFlag1 BIT(8), /* Byte 1 of SymbtFlags         @L1A*/ 13999000
*            7 SymbtFlag1RSV1 BIT(1),                /* Reserved.       13999200
*                      Must be zero. Do not use.                 @L2A*/ 13999400
*            7 SymbtTimestampIsSTCK BIT(1), /* The input timestamp      14005000
*                      is from the STCK instruction or the              14010600
*                      STCKSYNC service. Do not also specify            14016200
*                      SymbtTimeStampIsGMT or SymbtTimeStampIsLocal.    14021800
*                                                                @L2A*/ 14027400
*            7 SymbtWarnNoSub BIT(1),           /* When no              14029200
*                      substitution at all has occurred, produce        14031000
*                      a warning return code.                    @D1A*/ 14032800
*            7 SymbtIndirectSymbolArea BIT(1),       /* Indicates that  14034600
*                      the symbol area is not contiguous but rather     14036400
*                      is pointed to by SymbteSymbolAreaAddr.    @D1A*/ 14038200
*            7 SymbtMixedCaseSymbols BIT(1),    /* Indicates that       14038800
*                      the input may have non-uppercase symbols.        14039400
*                      The processing will obtain an additional         14040000
*                      area to copy the input pattern in order          14040600
*                      to make recognition of these symbols possible.   14041200
*                                                                @P1A*/ 14041800
*            7 SymbtFlag1RSV3 BIT(3),                /* Unused.         14042400
*                      Must be zero.                             @P1C*/ 14043300
*          5 SymbtNumberOfSymbols FIXED(15), /* Number of entries in    14044200
*                                  symbol table. Can be 0.       @L1A*/ 14050000
*         3 SymbtTableEntries CHAR(*); /* Symbol table entries. One     14100000
*                                  for each indicated by the            14150000
*                                  NumberOfSymbols field. Mapped        14200000
*                                  by SYMBTE DSECT. Note that when      14206400
*                                  SymbtIndirectSymbolArea is           14212800
*                                  specified, this area consists        14219200
*                                  only of field SymbteSymbolAreaAddr.  14225600
*                                  In that case, it is the area         14232000
*                                  pointed to by that pointer that is   14238400
*                                  mapped by SYMBTE DSECT.       @L1A*/ 14244800
*   /*****************************************************************/ 14251700
*   /* The static symbol table is pointed to by ECVTSYMT and is      */ 14253400
*   /* mapped by the SYMBT DSECT. In the 4-bytes preceding this      */ 14255100
*   /* table is a fullword which specifies the length of the         */ 14256800
*   /* contiguous area that follows which contains the table plus    */ 14258500
*   /* the symbol names plus the substitution text values.           */ 14260200
*   /*****************************************************************/ 14261900
*   DCL SymbtMaxStaticSymbolLength Constant(8);      /* The max length  14263600
*              of a static symbol, not counting the "&" and             14265300
*              the "."                                           @L1A*/ 14267000
*   DCL SymbtMaxStaticEntries Constant(103);         /* The max number  14268700
*              of entries. This provides for the 3 MVS-defined          14270400
*              symbols plus 100 user-provided symbols            @L1A*/ 14272100
*   DCL SymbtMaxStaticSubtextLength Constant(9);      /* The max length 14276600
*              of substitution text for a static symbol          @L1A*/ 14281100
*   DCL SymbtMaxStaticTableSize Constant( Length(SymbtHeader) +         14285700
*              SymbtMaxStaticEntries* (                                 14287400
*                SymbtMaxStaticSymbolLength+2+                          14289100
*                SymbtMaxStaticSubTextLength+                           14290800
*                Length(Symbte.SymbteTableEntries)                      14292500
*                                     ) );   /* The max table size,     14294200
*              taking into account that each symbol is preceded by      14295900
*              "&" and followed by "."                           @L1A*/ 14297600
*   DCL 1 Symbte BASED,             /* Symbol table entry        @L1A*/ 14300000
*         3 SymbteTableEntries(*),    /* Symbol table entry. One such   14350000
*                                  entry for each indicated by the      14400000
*                                  SymbtNumberOfSymbols field.   @L1A*/ 14450000
*           5 SymbteSymbolPtr PTR(31), /* Address of symbol. Do not     14466600
*                      use when bit SymbtPtrsAreOffsets is on. Note     14474900
*                      that the symbol must include the preceding "&"   14483200
*                      and the trailing "."                      @L1A*/ 14491500
*             7 SymbteSymbolOffset FIXED(31), /* Offset to symbol from  14499800
*                      start of symbol area. Only use if bit            14516400
*                      SymbtPtrsAreOffsets is on. Note that the symbol  14521000
*                      must include the preceding "&" and               14525600
*                      the trailing "."                          @L1A*/ 14530200
*               9 SymbteSymbolAreaAddr PTR(31),  /* Address of          14535100
*                      symbol area when SymbtIndirectSymbolArea is      14537200
*                      set. In that case, this is the only word         14539300
*                      needed in the Symbte area, and the area          14541400
*                      pointed to by this pointer is mapped by          14543500
*                      the "regular" SYMBTE DSECT (for which            14545600
*                      SymbteSymbolAreaAddr is not relevant).    @D1A*/ 14547700
*           5 SymbteSymbolLength FIXED(31), /* Length of                14550000
*                                  symbol (includes preceding "&" and   14572900
*                                  trailing ".")                 @L1A*/ 14595800
*           5 SymbteSubTextPtr PTR(31), /* Address of substitution      14618700
*                      text. Do not use when bit                        14637400
*                      SymbtPtrsAreOffsets is on.                @L1A*/ 14656100
*             7 SymbteSubTextOffset FIXED(31), /* Offset to             14674800
*                      substitution text from start of symbol area.     14693500
*                      Only use if bit SymbtPtrsAreOffsets is on.       14712200
*                                                                @L1A*/ 14730900
*           5 SymbteSubTextLength FIXED(31); /* Length of               14750000
*                                 substitution text              @L1A*/ 14800000
*                                                                       14850000
* @LOGIC;                                                               14900000
* #PRAGMA TOOL=CBGEN.                                                   14950000
* #USEORG.                                                              15000000
* #EPRAGMA.                                                             15050000
* @ENDLOGIC;                                                            15100000
*/* End of PL/X Source                                               */ 15150000
* %IF ASASYMBP_LIST ^= 'NO' &                                           15200000
*    ZCBPRINT ^= 'NO' %THEN                                             15250000
*   %GOTO ASASYMBP_4;                                                   15300000
*   @LIST POP NOECHO;                                                   15350000
* %ASASYMBP_4:;                                                         15400000
* %END;                                                                 15450000
