[this is a copy of data in WYL.GA.MCL.TECHNOTE]
SYSH IPL Procedure for Setting Date/Time                 rev. 2000/10/30

SYSH is running with current date/time, but the LPAR's emulated hardware clock
is in "true GMT" mode, unlike SYSA where "GMT" and "local" time are the same.
This requires that a clock setting process be done each time SYSH is started.

During IPL, the system will display a message like:

 IEA888A GMT DATE=1000.108,CLOCK=08.30.17 LOCAL DATE=2000.108,CLOCK=01.30.17
         REPLY U, OR GMT/LOCAL TIME

In this display, the "GMT" date/time will be the current local date/time, and
the "local" date/time will be seven or eight hours earlier.  This is because
Pacific Daylight Time is seven hours earlier than Greenwich Mean Time, and
Pacific Standard Time is eight hours earlier, but the "hardware" clock is set
to Pacific [standard or daylight] time.  To set the clock correctly, do the
following:

1.  Add eight hours (if we're on standard time) or seven hours (if we're on
    daylight time) to the CURRENT LOCAL time to get GMT.  Then add thirty
    seconds or so to give yourself time for the next reply.  If this wraps
    past 24:00, add one to the date.  For example, 18.00.00 on 2000.108 (PDT)
    becomes 01.00.00 on 2000.109 (GMT).  Reply with this time value (and date
    if necessary):

    R 0,CLOCK=15.30.50,GMT   or
    R 0,DATE=2000.109,CLOCK=01.00.30,GMT

    <.b+>Be sure to include the GMT option!<.b->

2.  The system will issue

    IEA903A REPLY U WHEN ENTERED TIME OCCURS

3.  Type R 0,U then watch the time on the SYSA console, and press ENTER when
    the time matches what you entered.

4.  System reissues messages:

    IEA888A GMT DATE=2000.108,CLOCK=15.31.00 LOCAL DATE=2000.108,CLOCK=08.31.00
            REPLY U, OR GMT/LOCAL TIME

    Reply U to this message.


If you specify a new time without <.b+>GMT<.b->, this will change the time zone
offset value, causing incorrect clock readings.  If this happens, you can
correct it by first setting a correct GMT value as shown above, then setting
local time in response to the second IEA888A message.  If the error is not
detected until after the "U" reply, an IPL is necessary to correct it.  The
system normally gets the timezone offset (difference between GMT and local)
from PARMLIB.  If the GMT time is correct, but the local time is not, then
there may be a problem with the PARMLIB settings.  In this case, correct the
local time as described above, and notify Systems of the problem.


send questions or comments to Mark Lawrence, 3-4976, m.lawrence@forsythe
This note is saved as WYL.GA.MCL.TECHNOTE#SETCLOCK
