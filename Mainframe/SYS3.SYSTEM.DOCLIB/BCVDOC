EMC Business Continuance Volumes


With the recent micro code upgrades on the existing shared EMC5500
and the installation of the new EMC5430 we are now in a position to
take advantage of a relatively new feature of the EMC Symmetrix
family of Integrated Cached Disk Arrays.  This new functionality is
called "Business Continuance Volume", (BCV's), and may be used
within the Stanford University mainframe data processing model.  The
BCV volumes are used to maintain a 3rd mirror of existing DASD
volumes defined within the Symmetrix Arrays.  All DASD data within
the Symmetrix are stored in either a RAID-1 or a modified RAID-5
style.  For the purposes of defining what BCV's can and cannot do
this distinction is not important.  Let's say for example we have
MVS logically addressable devices defined within the Symmetrix Array
which we would like to be able to maintain a duplicate and
synchronized copy of the data.  This is accomplished by
"Establishing" a connection between a normal logical device and a
business continuance device.


MVS logical address 0D20 (for example)

                 0D20                      0DEA
           ---------------                   |
           |             |                   |
        ----------     ----------          ----------
        |Mirror 2|     |Mirror 1|          |BCV     |
        |        |     |        |          |        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        ----------     ----------          ----------

In the normal state business continuance volume have no relationship
with other MVS device address.  It is only when we "Establish" a
relationship between a BCV and another address is when the BCV takes
on the Mirror-3 status.  When th e EMC Symmetrix control unit
receives the Establish request it will synchronize all tracks from
the M1/M2 pair to the BCV thus creating a "real time duplicate."

    MVS logical address 0D20 "Established" with 0DEA

                 0D20                      0DEA
           ---------------                   |
           |             |                   |
        ----------     ----------          ----------
        |Mirror 2|     |Mirror 1|          |BCV     |
        |        |<--->|        |<----     |        |
        |        |     |        |    |     |        |
        |        |     |        |    |---->|        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        ----------     ----------          ----------



At some point we may decide to sever this synchronous updating of
the M1/M2 pair and the business continuance volume.  One use is
being used for support of the SYSH Hal-Y2K LPAR.  While we are
building the Hal system we maintain an established link to business
continuance volumes.  Prior to the "leap" to a different date we
"Split" this connection.

MVS logical address 0D20 "Split" with 0DEA

                 0D20                      0DEA
           ---------------                   |
           |             |                   |
        ----------     ----------          ----------
        |Mirror 2|     |Mirror 1|          |BCV     |
        |        |<--->|        |<-        |        |
        |        |     |        |   xxx    |        |
        |        |     |        |       -->|        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        ----------     ----------          ----------

While this M1/M2 and BCV is split no updates will be transferred
over to the business continuance volume.  Hal may then be IPL'd with
a future date and testing year 2,000 problems may occur.  After the
year Y2K test we want to "refresh" our sandbox which is the Hal-Y2K
DASD farm.  We may do that easily before requesting that the EMC
Symmetrix control unit "Restore" a previously existing M1/M2-BCV
relationship.  During the time that this relationship had been
"Split" the Symmetrix control unit has keep track of which tracks
(pun unintended!) have been modified.  The control unit will then
restore the modified tracks on the M1/M2 pair from the BCV.  The
result of this operation is like that of fully restoring the M1/M2
pair from tape, only much quicker and without manual intervention.

MVS logical address 0D20 "Restored" from 0DEA

                 0D20                      0DEA
           ---------------                   |
           |             |                   |
        ----------     ----------          ----------
        |Mirror 2|     |Mirror 1|          |BCV     |
        |        |<--->|        |          |        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        |        |     |        |          |        |
        ----------     ----------          ----------

The process of "restoring" the tracks from the BCV back onto the
M1/M2 pair does not reconnect the relationship between the BCV and
the M1/M2 pair.  This is accomplished by issuing a "Re-Establish"
command to the EMC Symmetrix control unit requesting that a previous
relationship be reestablished.  In this operation the tracks which
have been modified on the M1/M2 pair are copied to the BCV thus
bring the BCV back into sync with the original M1/M2 pair.  This
process of reestablishing a prior relationship is potentially much
faster than the original establish in the only the modified track
images need to be copied.


