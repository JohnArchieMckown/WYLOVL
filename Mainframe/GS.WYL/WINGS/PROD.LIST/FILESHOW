1         High Level Assembler Option Summary                   (PTF UQ57391)                                               Page    1
-                                                                                            HLASM R4.0  2002/06/06 10.07
0  No Overriding ASMAOPT Parameters
   Overriding Parameters-  TERM,RENT,NOXREF,NODXREF,LINECOUNT(32767),NORLD,USING(WARN(11))
   No Process Statements


   Options for this Assembly
0  NOADATA
     ALIGN
   NOASA
     BATCH
     CODEPAGE(047C)
   NOCOMPAT
   NODBCS
   NODECK
 3 NODXREF
     ESD
   NOEXIT
     FLAG(0,ALIGN,CONT,NOIMPLEN,NOPAGE0,PUSH,RECORD,NOSUBSTR,USING0)
   NOFOLD
   NOGOFF
   NOINFO
     LANGUAGE(EN)
   NOLIBMAC
 3   LINECOUNT(32767)
     LIST(121)
     MXREF(SOURCE)
     OBJECT
     OPTABLE(UNI,NOLIST)
   NOPCONTROL
   NOPESTOP
   NOPROFILE
   NORA2
 3   RENT
 3 NORLD
     RXREF
     SIZE(MAX)
     SYSPARM()
 3   TERM(WIDE)
   NOTEST
     THREAD
   NOTRANSLATE
 3   USING(NOLIMIT,MAP,WARN(11))
 3 NOXREF

   No Overriding DD Names

1FILESHOW External Symbol Dictionary                                                                                        Page    2
-Symbol   Type   Id     Address  Length     LD ID  Flags Alias-of                            HLASM R4.0  2002/06/06 10.07
0FILESHOW  SD 00000001 00000000 00001F6C             02
 FILE7022  LD          00000000           00000001
 SHOWCAT   LD          00000018           00000001
 GETLOW    ER 00000002
 SEGCLR    ER 00000003
 SEG       ER 00000004
 SEGDC     ER 00000005
 SEGB      ER 00000006
 SEGWR     ER 00000007
 FREECORE  ER 00000008
 SMSINFO   ER 00000009
 FINDUCB   ER 0000000A
 BTX       ER 0000000B
 RTRIM     ER 0000000C
 NDATE     ER 0000000D
 SHOWVTOC  LD          000012A8           00000001
 TICKLEDS  LD          00001BD8           00000001
 SMSINFO   LD          00001CAA           00000001
 SYMSHOCT  LD          00001D58           00000001
 SEGT      ER 0000000E
 DYNCLEAR  ER 0000000F
 DYNADD    ER 00000010
 DYNCALL   ER 00000011
 SEGHX     ER 00000012
 DYNSET    ER 00000013

1FILESHOW WINGS:  Show Catalog/DSN                                                                                          Page    3
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement                    (Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                      2    00002000  *******************************************************************
                                       3    00003000  *** %%Module: wings asm fileshow;                                  *
                                       4    00004000  *******************************************************************
                                       5    00005000  ***
                                       6    00006000  ***  Created 1994/07/29, Mark Lawrence.  Based on CATLIST pgm
                                       7    00007000  ***
                                       8    00008000  ***  Revision history:
                                       9    00009000  ***
                                      10    00010000  ***  1999/11/08 ml   SMSINFOR as macro
                                      11    00010010  ***  1999/08/04 ml   ANY amode spec. for DEVTYPE for UCB>16M
                                      12    00010100  ***  1998/08/05 ml   CVAF error processing
                                      13    00010800  ***  1997/08/04 ml   FSHOMAXN (MAXNAMES) passed to ctl wkarea size
                                      14    00010900  ***  1997/01/21 ml   unit type, pseudo-volser for MIGRAT stuff
                                      15    00011000  ***                  back out FCLDSNST check, zero count b4 resume
                                      16    00012000  ***  1996/12/16 ml   corrections to CVAF VTOC read:  check FCLDSNST
                                      17    00013000  ***  1996/11/25 ml   add SMS info to FILESHOW record
                                      18    00014000  ***  1996/11/22 ml   symbolic refs. to SUPERLOCATE volume entry;
                                      19    00015000  ***                  standard LOCATE for volume info; tape MV bug
                                      20    00016000  ***  1996/11/12 ml   TICKLEDS entry
                                      21    00017000  ***  1996/10/16 ml   recover from vtoc allocate error
                                      22    00018000  ***  1996/09/20 ml   ERRID corrections, EXPDT handling
                                      23    00019000  ***  1996/07/29 ml   further tweak err handling, SUPLOC err no abort
                                      24    00020000  ***  1996/07/08 ml   correct error message handling
                                      25    00021000  ***  1996/02/22 ml   new workareas replace OSFWK1
                                      26    00022000  ***  1995/11/15 ml   from/to/like in FSHOAREA
                                      27    00023000  ***  1995/09/19 ml   correct work area overflow msg, various errid
                                      28    00024000  ***                  and msg format stuff
                                      29    00025000  ***  1995/07/27 ml   handle multiple FMT3 DSCBs (vsam)
                                      30    00026000  ***  1995/07/26 ml   handle tracks alloc>32k
                                      31    00027000  ***  1995/06/22 ml   do specific search if generic fails
                                      32    00028000  ***  1995/05/20 ml   support for entrytype U (user catalog)
                                      33    00029000  ***  1995/05/12 ml   like=gdg(n)
                                      34    00030000  ***  1995/05/09 ml   support for VSAM cluster, index, data
                                      35    00031000  ***  1995/04/19 ml   FILESHOW ONLY bug
                                      36    00032000  ***  1995/04/06 ml   more stuff into TVT, use GETLOW/FREECORE
                                      37    00033000  ***  1995/04/03 ml   fix bug in FMT3 processing with >7 extents
                                      38    00034000  ***  1995/03/31 ml   VTOCSHOW from/to, modify LIKE for CVAFFILT
                                      39    00035000  ***  1995/03/29 ml   VTOCSHOW ctd.
                                      40    00036000  ***  1995/03/16 ml   VTOCSHOW
                                      41    00037000  ***  1995/02/14 ml   corrections to FILESHOW KB alloc/used format
                                      42    00038000  ***  1995/02/07 ml   SHO DSN ONLY ON VOL (not catlg'd)
                                      43    00039000  ***  1995/01/17 ml   fix bug 0C4 when no names
                                      44    00040000  ***  1995/01/09 ml   new report layout, use DSNINFO dsect
                                      45    00041000  ***  1995/01/06 ml   report track balance
                                      46    00042000  ***  1995/01/05 ml   UCB/DEVTYPE logic
                                      47    00043000  ***  1995/01/04 ml   fixes to ONLY logic
                                      48    00044000  ***  1995/01/03 ml   DSCB-not-found logic; add device type info
                                      49    00045000  ***  1994/12/27 ml   fixes to disk/tape/gdg logic
                                      50    00046000  ***  1994/12/23 ml   implement ON VOL option
                                      51    00047000  ***                  new output format with catlg/dscb info.
                                      52    00048000  ***  1994/11/16 ml   implement ONLY option (avoid catlg scan)
                                      53    00049000  ***  1994/09/14 ml   corrections to FMT3 DSCB processing
                                      54    00050000  ***  1994/09/08 ml   fixes to DSCB fmt, work areas
                                      55    00051000  ***  1994/09/06 ml   add DSCB formatting code
                                      56    00052000  ***  1994/09/06 ml   redesign of options:  always do "internal" fmt,
                                      57    00053000  ***                  option controls only level of info obtained,
1FILESHOW WINGS:  Show Catalog/DSN                                                                                          Page    4
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement                    (Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                     58    00054000  ***                  e.g. only dsn; vol list; dscb.
                                      59    00055000  ***  1994/08/03 ml   tweaks to first-pass showcat stuff
                                      60    00056000  ***
                                      61    00057000  *******************************************************************
-
                                      63    00059000  FILESHOW HIBAL ASSOC=YES           Initialize HIBAL macro system
                                    1047    00060000  FILESHOW AMODE 31                  Initial 31-bit addressing mode
                                    1048    00061000  FILESHOW RMODE 24                  Reside below 16MB line
 000000                00000 01F6C  1049    00062000  FILESHOW CSECT ,                   Define module control section
                                    1051    00063000           IDENT 7022                09:35:12 01/22/97 (MCL)
                                    1054             +
                                    1055    01-IDENT +         ENTRY FILE7022
                                    1056             +
 000000 16C6C9D3C5F7F0F2            1057    01-IDENT +FILE7022 DC    AL1(22),C'FILE7022,06JUN02,10:07'
                                    1058             +*
-
                                    1061    00065000           REGS  FSR,,,,,,,,WAR,BRR,BR,TVTR,(GVTR,LSR),SPR,RAR
0                                   1185    00067000           SYSDEFN ,                 Include Stanford defaults
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page    5
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0
0                                   1188    00070000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                    1189    00071000  Ÿ                                                                     Ÿ
                                    1190    00072000  Ÿ   Define system mapping macros                                      Ÿ
                                    1191    00073000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0                                   1193    00075000           PRINT NOGEN
                                    1195    00076000           CVT   DSECT=YES           Communications vector table
                                    2525    00077000           IHASDWA                   Stae/dump work area
                                    4513    00078000           DCBD  DEVD=DA,DSORG=PS    Data control bock
                                    5077    00079000           LSPACE MF=(D,DATA)        Define LSPACE data return area
                                    5099    00080000           PRINT GEN
 000000                00000 000B0  5101    00081000  JFCBDSCT DSECT ,
                                    5102    00082000           IEFJFCBN ,                Job file control block
 000000                00000 001A4  6256    00083000  DSCBDSCT DSECT ,
 000000                             6257    00084000           IECSDSL1 (1,2,3)          VTOC data set control blocks
 000000                00000 00040  6545    00085000  UCB      DSECT ,
 000000                00000 00020  6546    00086000           IEFUCBOB ,                Unit control block
 00001C                00000 00040  7403             +*                                  volume, in form TTR0
 000024                00035 00034  7631             +*                                  direct access segment
 00001C                0001C 00018  7789             +*                                  or 3211) or address of optical
 000004                00000 00008  7822             +*                                  loaded
 000001                00000 00014  7868             +*                                  printer
 000000                00000 00040  7972             +*                                  table (PDCT) area. (The PDCT resides
 00001B                00028 00018  8014             +*                                  open for this device
 00001C                00000 00040  8127             +*                                  extension pointer
 000018                             8157             +*                                  for sense command byte by IECTCATN
                                    8201    00087000           PRINT NOGEN
                                    8203    00088000           IEFZB4D0 ,                Dynamic allocation
                                    8600    00089000           IEFZB4D2 ,                Dynamic allocation
                                    9043    00090000           IHADVCT ,                 Device characteristics table
                                    9195    00091000           IHAEVNT ,                 Map EVENTS table format
                                    9238    00092000           IKJTCB DSECT=YES          Task control block
                                   10151    00093000  TIOTDSCT IEFTIOT1 ,                Task input/output table
                                   10384    00094000           IEZDEB ,                  Data extent block
                                   11446    00095000           IECDDCE ,                 Device characteristics table
                                   11756    00096000           PRINT GEN
 000000                00000 00028 11758    00097000           IEZCTGPL ,
                                   11907    00098000  CTGF2WKA EQU   X'04'               Work area is fmt 2
 000017                00000 01F6C 11908    00099000  FILESHOW CSECT ,
 000000                00000 00018 11910    00100000  DVTAREA  RECORD 'DVTAREA'
 000000                            11920  1 03-DVTAR +$$$DVT     DS    0F
 000000                            11921  1 03-DVTAR +DVTDEVCD   DS    F                   device code
                                   11922  1          +
                                   11923  1 03-DVTAR +DVTOPT     EQU   DVTDEVCD+1,1,C'X'   device options
                                   11924  1 03-DVTAR +DVTFRPS    EQU   X'10'               - RPS device
                                   11925  1 03-DVTAR +DVTFOFLO   EQU   X'40'               - overflow capability
                                   11926  1          +
                                   11927  1 03-DVTAR +DVTCLASS   EQU   DVTDEVCD+2,1,C'X'   device class
                                   11928  1 03-DVTAR +DVTCDUMM   EQU   X'00'               - dummy
                                   11929  1 03-DVTAR +DVTCTAPE   EQU   X'80'               - tape
                                   11930  1 03-DVTAR +DVTCCOMM   EQU   X'40'               - communications
                                   11931  1 03-DVTAR +DVTCDA     EQU   X'20'               - direct access
                                   11932  1 03-DVTAR +DVTCTP     EQU   X'10'               - teleprocessing
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page    6
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  11933  1 03-DVTAR +DVTCUR     EQU   X'08'               - unit record
                                   11934  1 03-DVTAR +DVTCJES    EQU   X'01'               - JES (sysin or sysout)
                                   11935  1          +
                                   11936  1 03-DVTAR +DVTUTYPE   EQU   DVTDEVCD+3,1,C'X'   unit type
                                   11937  1 03-DVTAR +DVT2301    EQU   X'02'               - 2301 drum
                                   11938  1 03-DVTAR +DVT23051   EQU   X'06'               - 2305 drum model 1
                                   11939  1 03-DVTAR +DVT23052   EQU   X'07'               - 2305 drum model 2
                                   11940  1 03-DVTAR +DVT2314    EQU   X'08'               - 2314/2319 disk
                                   11941  1 03-DVTAR +DVT3330    EQU   X'09'               - 3330 disk model I
                                   11942  1 03-DVTAR +DVT3350    EQU   X'0B'               - 3350 disk
                                   11943  1 03-DVTAR +DVT33301   EQU   X'0D'               - 3330 disk model II
                                   11944  1 03-DVTAR +DVT3380    EQU   X'0E'               - 3380 disk
                                   11945  1          +
 000004                            11946  1 03-DVTAR +DVTMXBLK   DS    F                   max block size
                                   11947  1          +
 000008                            11948  1 03-DVTAR +DVTNUMC    DS    H                   number of cylinders
 00000A                            11949  1 03-DVTAR +DVTNUMT    DS    H                   number of tracks
                                   11950  1          +
 00000C                            11951  1 03-DVTAR +DVTTRKSZ   DS    H                   track size
 00000E                            11952  1 03-DVTAR +DVTBLKO    DS    X                   keyed block overhead
 00000F                            11953  1 03-DVTAR +DVTLBLKO   DS    X                   keyed block overhead (last)
                                   11954  1          +
 000010                            11955  1 03-DVTAR +DVTKEYO    DS    0X                  reduce overhead if no keys
 000010                            11956  1 03-DVTAR +DVTMODN    DS    X                   modulo factor, for modulo devices
 000011                            11957  1 03-DVTAR +DVTFLAG    DS    X                   flag byte
                                   11958  1 03-DVTAR +DVTFMOD    EQU   X'10'               - this is a modulo device (3380)
                                   11959  1 03-DVTAR +DVTFOHD    EQU   X'08'               - overhead is single half-word
                                   11960  1 03-DVTAR +DVTFTOL    EQU   X'01'               device needs tolerance factor
 000012                            11961  1 03-DVTAR +DVTTOL     DS    0H                  tolerance factor for device
 000012                            11962  1 03-DVTAR +DVTMODO    DS    H                   data overhead, for modulo devices
                                   11963  1          +*
                                   11964  1          +*  NOTE: DVTTOL is 512 for devices not having tolerance factor
                                   11965  1          +*        so DVTFTOL need not be checked before using DVTTOL.
                                   11966  1          +* NOTE2: Sorry Joe, DVTFTOL must now be checked, DEVTYPE now
                                   11967  1          +*        returns other info in that field for modulo devices
                                   11968  1          +*        like the 3380.
                                   11969  1          +*
 000014                            11970  1 03-DVTAR +DVTRPSR0   DS    H                   R0 overhead for RPS
 000016                            11971  1 03-DVTAR +DVTRPSTS   DS    X                   total number of sectors
 000017                00018 00018 11972    03-DVTAR +DVTRPSDS DS    X                   number of data sectors
                                   11982    00101000  *
-                                  11984    00103000  þþþþ
                                   11985    00104000           COPY  TPENTRY             TRAP ENTRY
                                   11986=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   11987=   00002000 =Ÿ                                                                     Ÿ
                                   11988=   00003000 =Ÿ  TRAP ENTRY                                                         Ÿ
                                   11989=   00004000 =Ÿ                                                                     Ÿ
                                   11990=   00005000 =Ÿ                                                                     Ÿ
                                   11991=   00006000 =Ÿ  NOTE:                                                              Ÿ
                                   11992=   00007000 =Ÿ  BECAUSE WE MAY BE DEBUGGING SHARED CODE (EXECUTED BY OTHER         Ÿ
                                   11993=   00008000 =Ÿ  SUBTASKS) WE NEVER DELETE TRAP ENTRIES.  WE MERELY MARK THEM       Ÿ
                                   11994=   00009000 =Ÿ  AS OFF.  WE ALLOW A TOTAL OF TPMAXCNT TRAPS.  CLEARED TRAPS        Ÿ
                                   11995=   00010000 =Ÿ  STILL COUNT.                                                       Ÿ
                                   11996=   00011000 =Ÿ                                                                     Ÿ
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page    7
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                                     ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0                                  11997    00012000 =TPMAXCNT EQU   128
                                   11998    00013000 =TRAPCODE EQU   X'00A9'             TRAP OPCODE, CAUSES 0C1
                                   11999    00014000 =
 000000                00000 00008 12000    00015000 =TPENTRY  RECORD BEGIN
 000000                            12008  1 00016000 =TPADDR     DS    F
 000004                            12009  1 00017000 =TPOPCODE   DS    H
 000006 00                         12010  1 00018000 =TPFLAG1    FLAG
 TPFLAG1.TPFOFF    80 ONES         12014  1 00019000 =           FLAG  TPFOFF              TRAP NOT ACTIVE
 000007 00                         12019  1 00020000 =TPFLAG2    FLAG
 000008                            12023  1 00021000 =TPNEXT     DS    0F
 000008                00008 00008 12024    00022000 =         END
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page    8
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12034    00106000           COPY  DVWA                GLOBAL DEBUG AREA
                                   12035=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12036=   00002000 =Ÿ                                                                     Ÿ
                                   12037=   00003000 =Ÿ  DVWA - debug work area                                             Ÿ
                                   12038=   00004000 =Ÿ                                                                     Ÿ
                                   12039=   00004500 =Ÿ  Revised 1994/06/06 mcl                                             Ÿ
                                   12040=   00005000 =Ÿ                                                                     Ÿ
                                   12041=   00006000 =Ÿ  notes:                                                             Ÿ
                                   12042=   00007000 =Ÿ  work area should be initialized to zero by monitor.                Ÿ
                                   12043=   00008000 =Ÿ  debugger and debuggee should re-initialize fields                  Ÿ
                                   12044=   00009000 =Ÿ  they control as is appropriate. (in case there has                 Ÿ
                                   12045=   00010000 =Ÿ  been previous debugging session, now cleared.)                     Ÿ
                                   12046=   00011000 =Ÿ                                                                     Ÿ
                                   12047=   00012000 =Ÿ  We must be careful about multi-processor environment.              Ÿ
                                   12048=   00013000 =Ÿ  Lock rules are complicated.  A simpler rules would                 Ÿ
                                   12049=   00014000 =Ÿ  be nice, but for now they are:                                     Ÿ
                                   12050=   00015000 =Ÿ                                                                     Ÿ
                                   12051=   00016000 =Ÿ  Simple rules are:                                                  Ÿ
                                   12052=   00017000 =Ÿ  DebuggER must obtain DBERTCBP lock (R).  Debugger can              Ÿ
                                   12053=   00018000 =Ÿ  change all fields that belong to debugger.  Debugger               Ÿ
                                   12054=   00019000 =Ÿ  can set DebuggEE at any time, unless DebuggEE is                   Ÿ
                                   12055=   00020000 =Ÿ  locked (E).  Debuggee can change any debuggEE fields               Ÿ
                                   12056=   00021000 =Ÿ  while it holds Debuggee lock (E).                                  Ÿ
                                   12057=   00022000 =Ÿ                                                                     Ÿ
                                   12058=   00023000 =Ÿ  A bit more complex is that if there is no debuggee,                Ÿ
                                   12059=   00024000 =Ÿ  any task can jump in and become the debuggee by setting            Ÿ
                                   12060=   00025000 =Ÿ  itself as the DVEETCBP and obtaining the debuggEE lock (E).        Ÿ
                                   12061=   00026000 =Ÿ                                                                     Ÿ
                                   12062=   00027000 =Ÿ  Also note that either Debugger/Debuggee can set the SYMBOL         Ÿ
                                   12063=   00028000 =Ÿ  Table pointer if it owns the respective lock, they should          Ÿ
                                   12064=   00029000 =Ÿ  be setting it to the same thing.  Also POST/WAIT stuff is          Ÿ
                                   12065=   00030000 =Ÿ  shared between Debugger/Debuggee in a obvious fashion.             Ÿ
                                   12066=   00031000 =Ÿ                                                                     Ÿ
                                   12067=   00032000 =Ÿ  notes:                                                             Ÿ
                                   12068=   00033000 =Ÿ    [cs] - compare and swap field                                    Ÿ
                                   12069=   00034000 =Ÿ    [cds] - compare and swap double fields                           Ÿ
                                   12070=   00035000 =Ÿ                                                                     Ÿ
                                   12071=   00036000 =Ÿ    R   - debuggeR lock                                              Ÿ
                                   12072=   00037000 =Ÿ          this lock may be obtained by any debuger [cs]              Ÿ
                                   12073=   00038000 =Ÿ    E   - debuggeE lock                                              Ÿ
                                   12074=   00039000 =Ÿ          this lock may be obtained only by debuggee [cds]           Ÿ
                                   12075=   00040000 =Ÿ    r   - may be set by debuger (owner of R)                         Ÿ
                                   12076=   00041000 =Ÿ    e   - may be set by debugee (owner of E)                         Ÿ
                                   12077=   00042000 =Ÿ  x r   - may be set by debugger (owner of R); also if               Ÿ
                                   12078=   00043000 =Ÿ          no debugger/debuggee it may be set by any subtask          Ÿ
                                   12079=   00044000 =Ÿ          needing to be debugged                                     Ÿ
                                   12080=   00045000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00434 12081    00046000 =DVWA     RECORD BEGIN
 000000                            12089  1 00047000 =DVERTCBP   DS    F                 R CURRENT DEBUGGER TCB PTR  [cs]
 000004                            12090  1 00048000 =DVERTVTP   DS    A                   Current debuggee TVT PTR
 000008                            12091  1 00049000 =DSALIGN    DS    0D                  ALIGN ON DWORD FOR CDS
 000008                            12092  1 00050000 =DVEETCBP   DS    F               x r CURRENT DEBUGGEE TCB PTR  [cds]
 00000C                            12093  1 00051000 =DVEEACTV   DS    F                 E DEBUGEE ACTIVE (TCB PTR)  [cds !]
 000010                            12094  1 00052000 =DVERECB    DS    F               r,e POST BY DEBUGGEE, POST TO BREAK
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page    9
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000014                            12095  1 00053000 =DVEEECB    DS    F               r,e POST BY DEBUGGER, POST BREAK DONE
 000018 00                         12096  1 00054000 =DVFLAGS    FLAG  ,
 DVFLAGS.DVFNEWIA  80 ONES         12100  1 00055000 =           FLAG  DVFNEWIA          r NEW IA SET WITH PIA INSTRUCTION
 DVFLAGS.DVFIRUPT  40 ONES         12105  1 00056000 =           FLAG  DVFIRUPT          e INTERRUPT, NOT TRAP
 00001C                            12110  1 00057000 =DVEPIEP    DS    F                 e EPIE PTR
 000020                            12111  1 00058000 =DVSYMP     DS    F               r,e SYMBOL TABLE PTR
                                   12112  1 00059000 =*                                r TRAP AREA (next line)
 000024                            12113  1 00060000 =DVTRAPS    DS    XL(L'TPENTRY*(TPMAXCNT+2))
 000434                00434 00434 12114    00061000 =         END
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page   10
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12124    00108000           COPY  LCLDBWA             LOCAL (ESPIE) DEBUG AREA
                                   12125=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12126=   00002000 =Ÿ                                                                     Ÿ
                                   12127=   00003000 =Ÿ  LCLDBWA - local work area for espie routine                        Ÿ
                                   12128=   00004000 =Ÿ                                                                     Ÿ
                                   12129=   00005000 =Ÿ                                                                     Ÿ
                                   12130=   00006000 =Ÿ  NOTE: LDBBKPP may not be set, BKWA may need to be loaded           Ÿ
                                   12131=   00007000 =Ÿ      in another (global) manner. Work in progress.                  Ÿ
                                   12132=   00008000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00168 12133    00009000 =LCLDBWA  RECORD BEGIN
 000000                            12141  1 00010000 =LDBTCBP    DS    F                   TCB ADDRESS
 000004                            12142  1 00011000 =LDBEPIEP   DS    F                   EPIE PTR
 000008                            12143  1 00012000 =LDBDVWAP   DS    F                   GLOBAL DEBUG WORK AREA PTR
 00000C                            12144  1 00012100 =LDBSYMP    DS    F                   SYMBOL TABLE POINTER
 000010 00                         12145  1 00012200 =LDBFLAGS   FLAG  ,
 LDBFLAGS.LDBFNEWI 80 ONES         12149  1 00012300 =           FLAG  LDBFNEWIA           NEW INSTRUCTION ADDRESS
 000014                            12154  1 00012400 =           DS    0F                  ALIGNMENT
 000014                            12155  1 00013000 =LDBINST1   DS    XL6                 INSTR EXECUTION AREA1 (CURR)
 00001A                            12156  1 00014000 =LDBINST2   DS    XL6                 INSTR EXECUTION AREA2 (CONT)
 000020                            12157  1 00015000 =LDBCURR    DS    A                   CURRENT INSTR ADDR (AS IN PIE)
 000024                            12158  1 00016000 =LDBNEXT    DS    A                   NEXT INSTR (AS TO CONTINUE)
 000028                            12159  1 00017000 =LDBSREGS   DS    16F                 SAVE REGS (0-15)
 000068                            12160  1 00018000 =LDBSTACK   DS    XL256               SPIE STACK AREA (SMALL)
 000168                00168 00168 12161    00019000 =         END
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page   11
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12171    00110000           COPY  DEVINFO
 000000                00000 00014 12172    00000100 =DEVINFO  RECORD BEGIN
                                   12180  1 00001000 =*  Device type info
                                   12181  1 00002000 =*  from IOPROGM's data area 1995/01/03
0000000                            12183  1 00004000 =           DS    0F                  Device info for header msg routine
                                   12184  1 00005000 =*  These 4 bytes are the from the UCB and are obtained by DEVTYPE
                                   12185  1 00006000 =*  or from the catalog entry.
 000000                            12186  1 00007000 =DEVIFLGC   DS    X                   IOS flags/model code
                                   12187  1 00008000 =*  Values:
                                   12188  1 00009000 =DEVIF16    EQU   X'04'               1600 bpi mode
                                   12189  1 00010000 =DEVIF62    EQU   X'02'               6250 bpi mode
0000001                            12191  1 00012000 =DEVOPTFT   DS    X                   Optional features
                                   12192  1 00013000 =*  Values:
                                   12193  1 00014000 =DEVOP7TR   EQU   X'80'               7-track (tape)
                                   12194  1 00015000 =DEVOP816   EQU   X'20'               800/1600 bpi dual density (tape)
                                   12195  1 00016000 =DEVOP166   EQU   X'10'               1600/6250 bpi
                                   12196  1 00017000 =DEVOPIDR   EQU   X'04'               3480/3490 tape:  IDRC installed
                                   12197  1 00018000 =DEVOPSHR   EQU   X'20'               Shared disk
                                   12198  1 00019000 =DEVOPOFL   EQU   X'40'               Track overflow
0000002                            12200  1 00021000 =DEVDEVCL   DS    X                   Device class
                                   12201  1 00022000 =*  Values:
                                   12202  1 00023000 =DEVCLUR    EQU   X'08'               Unit-record
                                   12203  1 00024000 =DEVCLGR    EQU   X'10'               Graphics
                                   12204  1 00025000 =DEVCLCM    EQU   X'40'               Communication
                                   12205  1 00026000 =DEVCLTA    EQU   X'80'               Tape
                                   12206  1 00027000 =DEVCLDA    EQU   X'20'               Direct access
                                   12207  1 00028000 =DEVCLSY    EQU   X'01'               JES2 SYSIN/SYSOUT
                                   12208  1 00029000 =DEVCLTD    EQU   DEVCLTA+DEVCLDA     Tape or disk
0000003                            12210  1 00031000 =DEVUNTYP   DS    X                   Unit type
                                   12211  1 00032000 =DEVUN348   EQU   X'80'               (when TA class:  3480 tape)
                                   12212  1 00033000 =DEVUN349   EQU   X'81'                ...             3490E tape
0                                  12214  1 00035000 =*  The following additional info is obtained from DEVTYPE
0000004                            12216  1 00037000 =DEVMAXBK   DS    F                   Maximum unkeyed block
 000008                            12217  1 00038000 =DEVCYLS    DS    H                   Cyls/volume
 00000A                            12218  1 00039000 =DEVTKCYL   DS    H                   Tracks/cylinder
 00000C                            12219  1 00040000 =DEVTRKL    DS    H                   Track length (unsigned integer)
 00000E                            12220  1 00041000 =DEVBOKA    DS    0H                  If flag DEVHWBOV is on, this is
                                   12221  1 00042000 =*                                  block overhead for any keyed blk
                                   12222  1 00043000 =*                                  If flag DEVMODDV is on, this is
                                   12223  1 00044000 =*                                  the basic overhead.
 00000E                            12224  1 00045000 =DEVBOKI    DS    X                   Block overhead, keyed, not last
 00000F                            12225  1 00046000 =DEVBOKN    DS    X                   Blk ovhd, keyed, last on track
 000010                            12226  1 00047000 =DEVBONKD   DS    X                   Subtract this if not keyed
                                   12227  1 00048000 =*                                  If flag DEVMODDV is on, this is
                                   12228  1 00049000 =*                                  the modulo factor.
 000011                            12229  1 00050000 =DEVFLAGS   DS    X                   Flag bits:
                                   12230  1 00051000 =DEVMODDV   EQU   B'00010000'         Modulo device (3380)
                                   12231  1 00052000 =DEVHWBOV   EQU   B'00001000'         DEVBOKA contains halfword block
                                   12232  1 00053000 =*                                  ovhd for any block on trk
                                   12233  1 00054000 =DEVUTOLF   EQU   B'00000001'         Use tolerance factor
1FILESHOW (FILE7022) (10:07) (06JUN02) WINGS:  Show Catalog/DSN                                                             Page   12
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000012                            12234  1 00055000 =DEVTOLF    DS    H                   Tolerance factor *512
0000014                00014 00014 12236    00057000 =         END   ,                   DEVINFO
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Global vector table                                         Page   13
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 0063C 12246    00112000  GVT      RECORD BEGIN
                                   12254  1 00113000             COPY  GVT
                                   12255= 1 00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12256= 1 00002000 =Ÿ                                                                     Ÿ
                                   12257= 1 00003000 =Ÿ  Global Vector Table.                                               Ÿ
                                   12258= 1 00004000 =Ÿ                                                                     Ÿ
                                   12259= 1 00004500 =Ÿ  revised 1996/02/29  mcl  dsn enqueue lock word                     Ÿ
                                   12260= 1 00005000 =Ÿ  revised 1994/07/06, mcl                                            Ÿ
                                   12261= 1 00006000 =Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                            12263  1 00008000 =GVTSTART   DS    0D
 000000 C7E5E340                   12264  1 00009000 =           DC    CL4'GVT'            Self-identification
                                   12265  1 00010000 =GVTASMDT   DC    CL8'&SYSDATE'       ASM date
 000004 F0F661F0F661F0F2                  1 00010000 +GVTASMDT   DC    CL8'06/06/02'       ASM date
                                   12266  1 00011000 =GVTASMTM   DC    CL8'&SYSTIME'       ASM time
 00000C F1F04BF0F7404040                  1 00011000 +GVTASMTM   DC    CL8'10.07'          ASM time
                                   12267= 1 00012000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12268= 1 00013000 =           Ÿ  Common address table.  Ÿ
                                   12269= 1 00014000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 000014 00000000                   12270  1 00015000 =GVTTRACE   DC    V(PTRACE)           PTRACE routine addr
 000018 FFFFFFFFFFFFFFFF           12271  1 00016000 =           DC    4F'-1'              Reserved
                                   12272= 1 00017000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12273= 1 00018000 =           Ÿ  General information.  Ÿ
                                   12274= 1 00019000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþ»
 000028 0000000000000000           12275  1 00020000 =GVTTIME    DC    D'0'                Start time
 000030 E6C9D5C7E2404040           12276  1 00021000 =GVTJOBNM   DC    CL8'WINGS'          Our job name
 000038 F0F0F0F0                   12277  1 00022000 =GVTJOBNO   DC    CL4'0000'           Our job number
 00003C 4040404040404040           12278  1 00023000 =GVTACCT    DC    CL8' '              Our account (uuu$gg format)
 000044 4040404040404040           12279  1 00024000 =GVTNOTFY   DC    CL8' '              WTO notification account
                                   12280  1 00025000 =
 00004C 00                         12281  1 00026000 =GVTFLAG    FLAG
 GVTFLAG.GVTFTEST  80 ONES         12285  1 00027000 =           FLAG  GVTFTEST            - This is a test version
 GVTFLAG.GVTFDIE   40 ONES         12290  1 00028000 =           FLAG  GVTFDIE             - Die when all subtasks stop
 GVTFLAG.GVTFNOSTA 20 ONES         12295  1 00029000 =           FLAG  GVTFNOSTART         - Don't start subtasks
                                   12300  1 00030000 =
 00004D 00                         12301  1 00031000 =GVTHXDFL   FLAG ,                    HEXDUMP routine flags
 GVTHXDFL.HXDFLEBC 80 ONES         12305  1 00032000 =           FLAG  HXDFLEBC             - CHARS=EBCDIC
 GVTHXDFL.HXDFLADD 40 ONES         12310  1 00033000 =           FLAG  HXDFLADD             - FORMAT=ADDRESS
                                   12315  1 00034000 =
 00004E 0000                              1
 000050 00000000                   12316  1 00035000 =GVTTVTID   DC    F'0'                Last TVT # assigned
 000054 00000000                   12317  1 00036000 =GVTNTASK   DC    F'0'                No. of tasks currently active
 000058 00000000                   12318  1 00037000 =GVTTSKID   DC    F'0'                Last subtask # started (attached)
 00005C FFFFFFFFFFFFFFFF           12319  1 00038000 =           DC    2F'-1'              Reserved
                                   12320  1 00039000 =
 000064 E6C9D5C7E2E5F0F0           12321  1 00040000 =GVTPATHN   DC    CL8'WINGSV00'       Default path name
                                   12322  1 00041000 =
 00006C 00000000                   12323  1 00042000 =GVTTVTQH   DC    A(0)                TVT queue head
 000070 00000000                   12324  1 00043000 =GVTTVTQT   DC    A(0)                TVT queue tail
 000074 00000000                   12325  1 00044010 =GVTQLOCK   DC    A(0)                Internal dataset enqueue lock word
 000078 FFFFFFFFFFFFFFFF           12326  1 00044200 =           DC    3F'-1'              Reserved
 000084                            12327  1 00045000 =GVTECBPT   DS    A(0)                Address of monitor request ECB
                                   12328  1 00046000 =
 000088 00000000                   12329  1 00047000 =GVTVOLT    DC    A(0)                Volume table list head
 00008C 00                         12330  1 00048000 =GVTVOLTF   FLAG  ,                   Volume table flags
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Global vector table                                         Page   14
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0GVTVOLTF.GVTVOLTV 80 ONES         12334  1 00049000 =           FLAG  GVTVOLTVALID        - volume table is valid
 GVTVOLTF.GVTVOLTE 40 ONES         12339  1 00050000 =           FLAG  GVTVOLTERR          - volume table is in error
 GVTVOLTF.GVTVOLTI 20 ONES         12344  1 00051000 =           FLAG  GVTVOLTINT          - Internal command in progress
 00008D 000000                     12349  1 00052000 =           DC    AL3(0)              Reserved
 000090 FFFFFFFFFFFFFFFF           12350  1 00053000 =           DC    3F'-1'              Reserved
                                   12351  1 00054000 =
 00009C 00000000                   12352  1 00055000 =GVTACEE    DC    A(0)                Racf ACEE chain
 0000A0 00                         12353  1 00056000 =GVTACEEF   FLAG  ,                   Define acee processing flags
 GVTACEEF.GVTACEEA 80 ONES         12357  1 00057000 =           FLAG  GVTACEEABRT          - Abort processing active
 0000A1 000000                     12362  1 00058000 =           DC    AL3(0)              Reserved
 0000A4 FFFFFFFFFFFFFFFF           12363  1 00059000 =           DC    3F'-1'              Reserved
                                   12364  1 00060000 =
 0000B0 E6E8D34BC7E24BE6           12365  1 00061000 =GVTPDSN    DC    CL44'WYL.GS.WYL.WINGS.PARMS'
                                   12366  1 00062000 =
 0000DC 00000000                          1
 0000E0                            12367  1 00063000 =           DC    0D'0'               align
 0000E0 4040404040404040           12368  1 00064000 =GVTBLANK   DC    CL256' '            Blanks
 0001E0 0000000000000000           12369  1 00065000 =GVTZERO    DC    XL8'00'             Zeros
 0001E8 FFFFFFFFFFFFFFFF           12370  1 00066000 =           DC    4F'-1'              Reserved
                                   12371  1 00067000 =GVT$HEX    EQU   *-240               Translate table
 0001F8 F0F1F2F3F4F5F6F7           12372  1 00068000 =           DC    C'0123456789ABCDEF'   for hex dump
                                   12373  1 00069000 =
 000208                            12374  1 00070000 =           DS    0D                  Align on double word
 000208                            12375  1 00071000 =GVTDVWA    DS    XL(L'DVWA)          Debug work area (global)
                                   12376  1 00072000 =GVTEND     EQU   *                   End of GVT
 00063C                0063C 0063C 12377    00114000           END   ,
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   15
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12387    00116000           COPY  UPATH               INCLUDE PATH MAPPING INFORMATION
                                   12388=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12389=   00002000 =Ÿ                                                                     Ÿ
                                   12390=   00003000 =Ÿ    User Path control block.                                         Ÿ
                                   12391=   00004000 =Ÿ                                                                     Ÿ
                                   12392=   00005000 =Ÿ      MUST BE EXACTLY THE SAME AS MPATH!                             Ÿ
                                   12393=   00006000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00118 12394    00007000 =UPATH    RECORD BEGIN
 000000 D7C1E3C8                   12402  1 00008000 =UPATHID    DC    CL4'PATH'
 000004 00                         12403  1 00009000 =UPATFLAG   FLAG
 UPATFLAG.UPATFO   80 ONES         12407  1 00010000 =           FLAG  UPATFO              - Path has opened
 UPATFLAG.UPATFHDR 40 ONES         12412  1 00011000 =           FLAG  UPATFHDR            - Send length word before data
 UPATFLAG.UPATFSPR 20 ONES         12417  1 00012000 =           FLAG  UPATFSPR            - Partner is SYS priv'd
 UPATFLAG.UPATFOPR 10 ONES         12422  1 00013000 =           FLAG  UPATFOPR            - Partner is OPR priv'd
 UPATFLAG.UPATFWHD 08 ONES         12427  1 00013100 =           FLAG  UPATFWHDR           - Send WINGS header command
 UPATFLAG.UPATFAUT 04 ONES         12432  1 00013200 =           FLAG  UPATFAUTH           - Partner is authorized
 UPATFLAG.UPATTWAI 02 ONES         12437  1 00013300 =           FLAG  UPATTWAIT           - buffer wait timer set  ML022394
                                   12442  1 00014000 =
 000005                            12443  1 00015000 =UPATWRC    DS    X                   Last write return code
                                   12444  1 00016000 =
 000006 0000                              1
 000008 00000000                   12445  1 00017000 =UPATDLOC   DC    A(0)                Remaining data location
 00000C 00000000                   12446  1 00018000 =UPATDLEN   DC    A(0)                Remaining data length
                                   12447  1 00019000 =
 000010 00000000                   12448  1 00020000 =UPATPASC   DC    F'0'                Partner's ASCB ptr
 000014 0000000000000000           12449  1 00020100 =UPATECBL   DC    A(0),A(0)           ECB list for Suzan/Timeout
 00001C 00000000                   12450  1 00020200 =UPATTOID   DC    A(0)                Timer ID for timeout
 000020 00000000                   12451  1 00020300 =UPATBUFL   DC    A(0)                Partner's buffer length
 000024 0000                       12452  1 00021000 =UPATPLNO   DC    H'0'                Partner's line number
 000026 0000000000000000           12453  1 00022000 =UPATPJOB   DC    XL8'00'             Partner's jobname
 00002E 0000000000000000           12454  1 00023000 =UPATPACT   DC    XL8'00'             Partner's account
 000036 0000000000000000           12455  1 00024000 =UPATPNAM   DC    XL20'00'            Partner's user name
                                   12456  1 00025000 =
                                   12457  1 00026000C=           PATH  VERSION=2,PFX=UPAT,FLAG=UPATSPST,ECB=UPATSECB,
                                          1 00027000 =                 MYTAG=MYTAG,PASS=PROD,BUFSIZE=16384
 00004A 0000                              1          +
 00004C                            12458  1 01-PATH  +UPAT       DC    0F'0'
 00004C 00000000                   12460  1 02-DEFIN +UPATMGC    DC    AL4(0)
 000050 00000000                   12462  1 02-DEFIN +UPATDJNM   DC    AL4(0)
 000054 D4E8E3C1C7404040           12464  1 02-DEFIN +UPATMY     DC    CL8'MYTAG'
 00005C FFFFFFFFFFFFFFFF           12466  1 02-DEFIN +UPATYOU    DC    XL8'FFFFFFFFFFFFFFFF'
 000064 80                         12468  1 02-DEFIN +UPATMFL    DC    AL1(1*X'80'+0*X'40'+0*X'20')
                                   12469  1          +
                                   12470  1 01-PATH  +UPATVER2    EQU  X'80'         CALLER IS USING VERSION 2
                                   12471  1 01-PATH  +UPATMCTL    EQU  X'40'         CALLER ASKS TERMINATION CONTROL
                                   12472  1 01-PATH  +UPATMNAM    EQU  X'20'         CALLER PROVIDES CALLEE NAME
                                   12473  1 01-PATH  +UPATMDP1    EQU  X'10'         DUPLICATE TAGS FOUND: MY=PCBO, YOU=PCBA
                                   12474  1 01-PATH  +UPATMDP2    EQU  X'08'         DUPLICATE TAGS FOUND: MY=PCBA, YOU=PCBO
                                   12475  1          +
 000065 000000                     12477  1 02-DEFIN +UPATOECB   DC    AL3(0)
 000068 00004000                   12479  1 02-DEFIN +UPATBUF    DC    AL4(16384)
 00006C 00000088                   12481  1 02-DEFIN +UPATECBF   DC    AL4(UPATSPST)
                                   12482  1          +
                                   12483  1 01-PATH  +UPATFCLS    EQU   X'80'         I AM POSTED BECAUSE HE CLOSED
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   16
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12484  1 01-PATH  +UPATFFQE    EQU   X'40'         I AM POSTED BECAUSE HIS FULL Q EMPTIED
                                   12485  1 01-PATH  +UPATFNI     EQU   X'20'         I AM POSTED BECAUSE NEW INFO IN MY Q
                                   12486  1 01-PATH  +UPATFDP     EQU   X'10'         I AM POSTED AT HIS DISCRETION
                                   12487  1 01-PATH  +UPATFOPN    EQU   X'08'         I AM POSTED BECAUSE HE OPENED
                                   12488  1 01-PATH  +UPATFCLC    EQU   X'04'         I AM POSTED BECAUSE MY CLOSE IS COMPLETE
                                   12489  1          +
 000070 D7D9D6C4                   12491  1 02-DEFIN +UPATPASS   DC    CL4'PROD'
 000074 00000084                   12493  1 02-DEFIN +UPATECB    DC    AL4(UPATSECB)
 000078 00000000                   12495  1 02-DEFIN +UPATEXIT   DC    AL4(0)
 00007C 00000000                   12497  1 02-DEFIN +UPATPINP   DC    XL4'0'
 000080 00000000                   12499  1 02-DEFIN +UPATRESV   DC    XL4'0'
                                   12500  1          +*
                                   12501  1          +*  VERSION 2 RETURN CODES
                                   12502  1          +*
                                   12503  1 01-PATH  +UPATROK     EQU  0                       COMPLETE OK
                                   12504  1 01-PATH  +UPATRIFC    EQU  4                       INVALID FUNCTION CODE
                                   12505  1 01-PATH  +UPATRPMW    EQU  8                       INVALID PATH MAGIC WORD
                                   12506  1 01-PATH  +UPATRBAF    EQU  12                      PARTNER'S BUFFER AREA FULL
                                   12507  1 01-PATH  +UPATRNOP    EQU  16                      PARTNER NOT THERE
                                   12508  1 01-PATH  +UPATRBOM    EQU  20                      BUFFER OVER PARTNER'S MAXIMUM
                                   12509  1 01-PATH  +UPATRIBS    EQU  24                      RECEIVE BUFFER TOO SMALL
                                   12510  1 01-PATH  +UPATRBPI    EQU  28                      INVALID BUFFER POINTER
                                   12511  1 01-PATH  +UPATRIAD    EQU  32                      INVALID ADDRESS
                                   12512  1 01-PATH  +UPATRES1    EQU  36                      RESERVED
                                   12513  1 01-PATH  +UPATRES2    EQU  40                      RESERVED
                                   12514  1 01-PATH  +UPATRES3    EQU  44                      RESERVED
                                   12515  1 01-PATH  +UPATRES4    EQU  48                      RESERVED
                                   12516  1          +
                                   12517  1 01-PATH  +UPATSIZE    EQU  *-UPAT        LENGTH OF PATH BLOCK
                                   12518  1 00028000 =
 000084 00000000                   12519  1 00029000 =UPATSECB   DC    F'0'                Suzan path ECB (not used?)
                                   12520  1 00030000 =
 000088 00                         12521  1 00031000 =UPATSPST   DC    X'00'               Suzan post flag byte
 000089 00                         12522  1 00032000 =UPATSFLG   DC    X'00'               Copy of Suzan post flag byte
                                   12523  1 00033000 =
 00008A 0000000000000000           12524  1 00034000 =UPATRTIM   DC    XL8'00'             Time of last received msg
 000092 0000                              1
 000094 00000000                   12525  1 00035000 =UPATRLEN   DC    F'0'                Length of last received msg
 000098 0000000000000000           12526  1 00036000 =UPATRDAT   DC    XL128'00'           Last received message
 000118                00118 00118 12527    00037000 =         END
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   17
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12537    00118000           COPY  ERRTABLE            ERROR TABLE FORMAT DEFINITION
                                   12538=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12539=   00001010 =Ÿ                                                                     Ÿ
                                   12540=   00001020 =Ÿ  Define format of the error tables                                  Ÿ
                                   12541=   00001030 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 0000C 12543    00001100 =ERRTABLE RECORD BEGIN
 000000 0000                       12551  1 00002000 =ERRRETC    DC    AL2(0)              Error return code
 000002 0000                       12552  1 00003000 =ERRMSGL    DC    AL2(0)              Error text message length
 000004 00000000                   12553  1 00004000 =ERRFMTR    DC    AL4(0)              Error formatting routine
 000008 00000000                   12554  1 00005000 =ERRMSGA    DC    AL4(0)              Address of error text
 00000C                0000C 0000C 12555    00006000 =         END   ,
-
                                   12565    00120000           COPY  SYMTAB
                                   12566=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12567=   00001010 =Ÿ                                                                     Ÿ
                                   12568=   00001020 =Ÿ   Define format of dynamic symbol table                             Ÿ
                                   12569=   00001030 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 00014 12571    00001100 =SYMENTRY RECORD BEGIN
 000000 00000000                   12579  1 00008000 =SYMNEXT    DC    A(0)                Pointer to next symbol or (null)
 000004 D5C1D4C540404040           12580  1 00009000 =SYMNAME    DC    CL8'NAME'           Symbol name (ebcdic)
 00000C 00000000                   12581  1 00010000 =SYMLOC     DC    A(0)                Symbol starting location
 000010 00000000                   12582  1 00011000 =SYMLEN     DC    A(0)                Symbol length
 000014                00014 00014 12583    00013000 =         END
-
                                   12593    00122000           COPY  TRCENTRY
                                   12594=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12595=   00002000 =Ÿ                                                                     Ÿ
                                   12596=   00003000 =Ÿ        Trace table entry format.                                    Ÿ
                                   12597=   00004000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0                                  12598    00005000 =TRCNENT# EQU   200,,C'N'           Default number of trace entries
                                   12599    00006000 =
 000000                00000 00050 12600    00007000 =TRCENTRY RECORD BEGIN
 000000                            12608  1 00008000 =TRCCLOCK   DS    D                   Time stamp (STCK format)
 000008                            12609  1 00009000 =TRCNAME    DS    CL8                 Routine name or trace id
 000010                            12610  1 00010000 =TRCREGS    DS    16F                 Registers
 000050                00050 00050 12611    00011000 =         END
-
                                   12621    00124000           COPY  DEVCAPCT
                                   12622=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12623=   00002000 =Ÿ                                                                     Ÿ
                                   12624=   00003000 =Ÿ  Define device capacity control block format                        Ÿ
                                   12625=   00003500 =Ÿ  rev. 1995/01/18 mcl                                                Ÿ
                                   12626=   00004000 =Ÿ                                                                     Ÿ
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   18
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                                     ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 0001C 12628    00006000 =DEVCAPCT RECORD BEGIN
 000000 00000000                   12636  1 00007000 =DCUCBPTR   DC    A(0)                Address of unit control block
 000004 00000000                   12637  1 00008000 =DCRETCD    DC    A(0)                Devcap return code
 000008 00000000                   12638  1 00009000 =DCTRKCYL   DC    A(0)                Tracks/cylinder
 00000C 00000000                   12639  1 00010000 =DCTRKLEN   DC    A(0)                Maximum track length
 000010 00000000                   12640  1 00011000 =DCOPTBLK   DC    A(0)                optimum block size
 000014 FFFFFFFFFFFFFFFF           12641  1 00011100 =           DC    2A(-1)              Reserved space
 00001C                0001C 0001C 12642    00012000 =         END   ,
0                                  12652    00126000           COPY  SPACALC
                                   12653=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12654=   00002000 =Ÿ                                                                     Ÿ
                                   12655=   00003000 =Ÿ  Space calculation control block                                    Ÿ
                                   12656=   00004000 =Ÿ  rev. 1995/06/02 mcl                                                Ÿ
                                   12657=   00004100 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00020 12658    00005000 =SPACALC  RECORD BEGIN              Space allocate calculation
 000000 E2D7C1C3                   12666  1 00005100 =SPACEYE    DC    C'SPAC'             Dump eye-catcher for block
 000004 00000000                   12667  1 00005200 =SPACBYTE   DC    A(0)                Space request in K bytes
 000008 00000000                   12668  1 00006000 =SPACAVGB   DC    A(0)                Average block requst size
 00000C 00000000                   12669  1 00007000 =SPACPRIM   DC    A(0)                Primary number of blocks
 000010 00000000                   12670  1 00008000 =SPACSEC    DC    A(0)                Secondary number of blocks
 000014 00000000                   12671  1 00009000 =SPACDIR    DC    A(0)                Number of directory blocks
 000018 00000000                   12672  1 00009100 =SPACRTDD   DC    A(0)                Address of returned ddname
 00001C 00000000                   12673  1 00009200 =SPACRTVL   DC    A(0)                Address of returned volser
 000020                00020 00020 12674    00010000 =         END   ,
-                                  12684    00128000           COPY  RBINFO
                                   12685=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12686=   00002000 =Ÿ                                                                     Ÿ
                                   12687=   00003000 =Ÿ  RECORD BLOCKING/DEBLOCKING INFO                                    Ÿ
                                   12688=   00004000 =Ÿ                                                                     Ÿ
                                   12689=   00005000 =Ÿ  NOTE (read os file):                                               Ÿ
                                   12690=   00006000 =Ÿ  RBRECFM, RBBLKSI, RBLRECL MUST BE FILLED IN BY CALLER.             Ÿ
                                   12691=   00007000 =Ÿ  RBIOINFO is a user defined pointer for READBLK/WRITEBLK            Ÿ
                                   12692=   00008000 =Ÿ  RBSTART may be set (it is passed to READBLK as buffer address.)    Ÿ
                                   12693=   00009000 =Ÿ  OTHER FIELDS are private and should be zero on first call.         Ÿ
                                   12694=   00010000 =Ÿ                                                                     Ÿ
                                   12695=   00011000 =Ÿ  NOTE (write os file):                                              Ÿ
                                   12696=   00012000 =Ÿ  RBSTART, RBRECFM, RBBLKSI, RBLRECL MUST BE FILLED IN BY CALLER.    Ÿ
                                   12697=   00013000 =Ÿ  RBIOINFO is a user defined pointer for READBLK/WRITEBLK            Ÿ
                                   12698=   00014000 =Ÿ  OTHER FIELDS are private and should be zero on first call.         Ÿ
                                   12699=   00015000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-                                  12701    00017000 =         COMMENT                   Record blocking info
 000000                00000 00068 12702    00018000 =RBINFO   RECORD BEGIN
 000000 D9C2C9D5                   12710  1 00019000 =RBEYE      DC    C'RBIN'             Set eye-catcher
 000004                            12711  1 00020000 =RBSTART    DS    A                   Block start
 000008                            12712  1 00021000 =RBBLKSI    DS    F                   Block size
 00000C                            12713  1 00022000 =RBLRECL    DS    F                   Record len
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   19
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000010 00                         12714  1 00023000 =RBRECFM    RECFMFLG RBF
 RBRECFM.RBFEDIT   01 EQ
 RBRECFM.RBFFIX    02 EQ
 RBRECFM.RBFVAR    03 EQ
 RBRECFM.RBFVBS    04 EQ
0000011 00                         12760  1 00025000 =RBFLGS     FLAG  ,
 RBFLGS.RBDEVSET   80 ONES         12764  1 00026000 =           FLAG  RBDEVSET             - DEVICE CHARACTERISTICS SET
0000012 00                         12770  1 00028000 =RBFLAGS    FLAG  ,                   Misc flags
 RBFLAGS.RBFXEDIT  80 ONES         12774  1 00029000 =           FLAG  RBFXEDIT            Extended edit file (input only)
0000013 00                                1
 000014                            12780  1 00031000 =           DC    0A(0)               Force alignment
 000014 0000000000000000           12781  1 00032000 =RBSPACE    DC    XL(L'SPACALC)'00'   Reserve space for space allocation
 000034 00000000                   12782  1 00033000 =RBTTR      DC    A(0)                Current ttr value
 000038 00000000                   12783  1 00034000 =RBUCBAD    DC    A(0)                Address of unit control block
 00003C 00000000                   12784  1 00035000 =RBTRKBAL   DC    A(0)                Track balance or capacity
 000040 00000000                   12785  1 00036000 =RBTRKCYL   DC    A(0)                Tracks/cylinder on device
 000044 00000000                   12786  1 00037000 =RBTRKLEN   DC    A(0)                Maximum track length
 000048 00000000                   12787  1 00038000 =RBOPTBLK   DC    A(0)                Optimum block length    ml950118
 00004C 00000000                   12788  1 00039000 =RBRECTRK   DC    A(0)                records/track **NOT USED ml960103**
 000050 00000000                   12789  1 00040000 =RBTRACKS   DC    A(0)                Number of tracks for disp=old dsn
 000054 00000000                   12790  1 00041000 =RBEXTS     DC    A(0)                Number of extents for disp=old
 000058                            12791  1 00042000 =RBIOINFO   DS    A                   User defined ptr for read/write
 00005C                            12792  1 00043000 =RBDATALN   DS    F                   Length of actual block data
 000060                            12793  1 00044000 =RBNDX      DS    A                   Record index in block
 000064                            12794  1 00045000 =RBLNO      DS    F                   Line number
0                                  12796  1 00047000 =VBSLEN     EQU   0,2                 VBS format
                                   12797  1 00048000 =VBSHDR     EQU   0,4
                                   12798  1 00049000 =VBSFLAGS   EQU   2,2
0                                  12800  1 00051000 =EDITLNO    EQU   0,4
                                   12801  1 00052000 =EDITCNT    EQU   4,1
                                   12802  1 00053000 =EDITTXT    EQU   5,0
                                   12803  1 00054000 =EDITHDR    EQU   0,5
0000068                00068 00068 12805    00056000 =         END
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   20
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12815    00130000           COPY  WGSLINE
                                   12816=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12817=   00002000 =Ÿ                                                                     Ÿ
                                   12818=   00003000 =Ÿ  Define format of the line data passed to/from                      Ÿ
                                   12819=   00004000 =Ÿ  WINGS.                                                             Ÿ
                                   12820=   00005000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 0000C 12822    00007000 =WGSLINE  RECORD BEGIN              Wings line format
 000000                            12830  1 00008000 =WGSLNLEN   DS    F                   Length of line data (Binary)
 000004                            12831  1 00009000 =WGSLNLNO   DS    CL8                 EBCDIC line number
 00000C                            12832  1 00010000 =WGSLNTXT   DS    0C                  EBCDIC line text
                                   12833  1 00011000 =WGSLNHDR   EQU   0,WGSLNTXT-WGSLNLEN Define length of line header
 00000C                0000C 0000C 12834    00012000 =         END
-                                  12844    00132000           COPY  S26ENTRY
 000000                00000 0000C 12845    00001000 =S26ENTRY RECORD BEGIN              SUPERLOCATE volume list entry
                                   12853  1 00002000 =*  Names of these fields correspond to VOLENTRY names, with prefix
                                   12854  1 00003000 =*  S26 instead of VOL.
                                   12855  1 00004000 =*
                                   12856  1 00005000 =*  !!! note !!! volser, ucbtype reversed order from standard
                                   12857  1 00006000 =*               CAMLST volume list entry!!!
0000000                            12859  1 00008000 =S26VOLSR   DS    CL6                 Volume Serial
 000006                            12860  1 00009000 =S26UCBTP   DS    XL4                 UCBTYPE info
                                   12861  1 00010000 =S26UCBDV   EQU   S26UCBTP+2,1        Device class: x'20'=disk
 00000A                            12862  1 00011000 =S26FILSQ   DS    H                   File sequence
                                   12863  1 00012000 =S26NEXT    EQU   *                   Next entry
 00000C                0000C 0000C 12864    00013000 =         END   S26ENTRY
-                                  12874    00134000           COPY  VOLENTRY
 000000                00000 0000C 12875    00001000 =VOLENTRY RECORD BEGIN              DSECT for volume list entry
 000000                            12883  1 00002000 =VOLUCBTP   DS    F                   UCBTYPE field for device
                                   12884  1 00003000 =VOLUCBDV   EQU   VOLUCBTP+2,1        Device class: x'20'=disk
 000004                            12885  1 00004000 =VOLVOLSR   DS    CL6                 Volume serial number
 00000A                            12886  1 00005000 =VOLFILSQ   DS    H                   File Sequence (tape)
 00000C                0000C 0000B 12887  1 00006000 =           ORG   VOLFILSQ+1
 00000B                            12888  1 00007000 =VOLSCRCD   DS    X                   Scratch puts code here
                                   12889  1 00008000 =VOLNEXT    EQU   *                   Next entry
 00000C                0000C 0000C 12890    00009000 =         END
-                                  12900    00136000           COPY  FSHOAREA
                                   12901=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   12902=   00002000 =Ÿ                                                                     Ÿ
                                   12903=   00003000 =Ÿ  FILE_SHOW dynamic storage area                                     Ÿ
                                   12904=   00004000 =Ÿ  Used by FILE_SHOW command in WINGS.                                Ÿ
                                   12905=   00005000 =Ÿ  Referenced by OSFILE and FILESHOW                                  Ÿ
                                   12906=   00006000 =Ÿ                                                                     Ÿ
                                   12907=   00007000 =Ÿ  rev. 1997/08/04 mcl                                                Ÿ
                                   12908=   00008000 =Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 0019C 12910    00010000 =FSHOAREA RECORD BEGIN              FILE_SHOW data area
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   21
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  12919  1 00012000 =*  Option values passed to FILESHOW
0000000                            12921  1 00014000 =FSHOMAXN   DS    F                   MAXNAMES value
 000004                            12922  1 00015000 =FSHOVOLS   DS    CL6                 Volser for "on volume"
 00000A                            12923  1 00016000 =FSHO#VOL   DS    H                   Length of VOL string
 00000C 4040404040404040           12924  1 00017000 =FSHOFROM   DC    CL44' '             FROM option
 000038 4040404040404040           12925  1 00018000 =FSHOLIKE   DC    CL44' '             LIKE option
 000064 4040404040404040           12926  1 00019000 =FSHOTO     DC    CL44' '             TO option
 000090 0000                       12927  1 00020000 =FSHO#LIK   DC    H'0'                L'LIKE option
0                                  12929  1 00022000 =*  Returned values
0000092 0000                              1
 000094 00000000                   12931  1 00024000 =#NLIST     DC    F'0'                Number of names returned
 000098 00000000                   12932  1 00025000 =FSHORCOD   DC    F'0'                Return Code
 00009C 00000000                   12933  1 00026000 =RC26       DC    F'0'                Rcode from SVC26
0                                  12935  1 00028000 =*  Work areas, misc. data areas
0                                  12937  1 00030000 =*  Following needed for SVC26
 0000A0 00                         12938  1 00031000 =#USERNOD   DC    X'00'               L'NODE
 0000A1 4040404040404040           12939  1 00032000 =USERNODE   DC    CL43' '
 0000CC C1                         12940  1 00033000 =FSHOODST   DC    C'A'                DSTYPE for fake entry
 0000CD 4040404040404040           12941  1 00034000 =FSHOODSN   DC    CL44' '             dsname for fake entry
00000F9 00                         12943  1 00036000 =FSHOWKFL   FLAG
 FSHOWKFL.FSHOGOT1 80 ONES         12947  1 00037000 =           FLAG  FSHOGOT1            got a dataset entry
 FSHOWKFL.FSHOFAKE 40 ONES         12952  1 00038000 =           FLAG  FSHOFAKE            looking up fake entry
 FSHOWKFL.FSHOBOTH 20 ONES         12957  1 00039000 =           FLAG  FSHOBOTH            NTYPE=BOTH was specified
                                   12962  1 00039100 =           SDSNBUF
 000100                            12963  1 01-SDSNB +SBUF       DS    0D                  output buffer for show dsnames
 000100                            12964  1 01-SDSNB +SBDSN      DS    CL44                dsname
 00012C                            12965  1 01-SDSNB +SBCRDT     DS    XL3                 creation date
 00012F                            12966  1 01-SDSNB +SBEXDT     DS    XL3                 expire date
 000132                            12967  1 01-SDSNB +SBRFDT     DS    XL3                 last reference date
 000135                            12968  1 01-SDSNB +SBNOEX     DS    XL1                 no. of extents
 000136                            12969  1 01-SDSNB +SBDSORG    DS    XL2                 DSORG
 000138                            12970  1 01-SDSNB +SBDSIND    DS    X                   Data set indicators
                                   12971  1 01-SDSNB +SBWSB      EQU   X'02'               - File written since last backup
 000139                            12972  1 01-SDSNB +SBRECFM    DS    XL1                 recfm
 00013A                            12973  1 01-SDSNB +SBKEYL     DS    XL1                 key length
 00013B                            12974  1 01-SDSNB +SBFILL1    DS    X                   pad to halfword
 00013C                            12975  1 01-SDSNB +SBLRECL    DS    H                   lrecl
 00013E                            12976  1 01-SDSNB +SBBLKSZ    DS    H                   blksize
 000140                            12977  1 01-SDSNB +SBLB       DS    XL5                 last block - ttrll
                                   12978  1 01-SDSNB +SBLSTAR    EQU   SBLB,3              last block addr TTR (DS1LSTAR)
                                   12979  1 01-SDSNB +SBTRBAL    EQU   SBLB+3,2            track balance DS1TRBAL
 000146                            12980  1 01-SDSNB +SBTRKL     DS    H                   track length
 000148                            12981  1 01-SDSNB +SBTRK      DS    H                   tracks alloc
                                   12982  1          +
                                   12983  1 01-SDSNB +SBSZ       EQU   *-SBUF              ** must be halfword multiple **
                                   12984  1 00040000 =*  work areas
 00014A 0000                              1
 00014C 00000000                   12985  1 00041000 =S26SIZE    DC    A(0)                names area size
 000150 00000000                   12986  1 00042000 =SEGSAVE    DC    A(0)                SEGCB pointer
                                   12987  1 00043000 =           SCANCB PFX=FSHOSCN
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   22
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000154                            12988  1 01-SCANC +FSHOSCNCB   DS   0F
 000154                            12989  1 01-SCANC +FSHOSCNVAL   DS  A                       Value returned
 000158                            12990  1 01-SCANC +FSHOSCNKW   DS   CL8                     Current key word
 000160                            12991  1 01-SCANC +FSHOSCNLEN   DS  A                       Length left to scan
 000164                            12992  1 01-SCANC +FSHOSCNLOC   DS  A                       Next thing to scan
 000168                            12993  1 01-SCANC +FSHOSCNRA   DS   A                       Return address
 00016C                            12994  1 01-SCANC +FSHOSCNPRT   DS  A                       Routing table address
 000170                            12995  1 01-SCANC +FSHOSCNCLT   DS  A                       Scan type
                                   12996  1          +*                                          0 = Normal scan
                                   12997  1          +*                                          4 = Expression isolation
                                   12998  1          +*                                          8 = Expression scan
                                   12999  1 01-SCANC +FSHOSCNCBL   EQU *-FSHOSCNCB
0000178                            13001  1 00045000 =FSHOWK     DS    2D                  for FMTTIME etc.
                                   13002  1 00046000 =FSHOP#     EQU   FSHOWK
                                   13003  1 00047000 =FSHOFW     EQU   FSHOWK+8
                                   13004  1 00048000 =FSHOFW2    EQU   FSHOWK+12
 000188                            13005  1 00049000 =FSHOXW     DS    CL10                For date formatting
 000194                            13006  1 00050000 =           DS    2F                  (insurance)
 00019C                0019C 0019C 13007    00051000 =         END   ,                   (work area)
 000000                00000 00024 13016    00137000  FSDEVREC RECORD BEGIN              FILESHOW device record
 000000                            13024  1 00138000  FSDUCBPT   DS    A                   ->UCB
 000004                            13025  1 00139000  FSDVOLSR   DS    CL6                 Volser
 00000A                            13026  1 00140000             DS    H                   pad
 00000C                            13027  1 00141000  FSDEVTAB   DS    6F                  DEVTAB area
                                   13028  1 00142000  FSDEVTC    EQU   FSDEVTAB+10,2    tracks/cyl from devtype
                                   13029  1 00143000  FSDEVTL    EQU   FSDEVTAB+12,2    track length from devtype
 000024                00024 00024 13030    00144000           END   ,                   FSDEVRC
                                   13039    00145000           COPY  DYNTABLE
                                   13040=   00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13041=   00002000 =Ÿ                                                                     Ÿ
                                   13042=   00003000 =Ÿ   Dynamic allocation buffer definitions                             Ÿ
                                   13043=   00004000 =Ÿ                                                                     Ÿ
                                   13044=   00005000 =Ÿ  1996/02/08 mcl  add request block extension                        Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00050 13046    00007000 =DYNTABLE RECORD BEGIN
 000000 C4E8D5C2                   13054  1 00008000 =DYNTID     DC    CL4'DYNB'           Define eye-catcher
 000004 0000                       13055  1 00009000 =DYNTLEN    DC    AL2(0)              Total buffer length
 000006 0000                       13056  1 00010000 =DYNTRSV    DC    AL2(0)              Reserved
0000008 00000000                   13058  1 00012000 =DYN99CBP   DC    A(0)                Pointer to SVC99 parameter list
0                                  13060  1 00014000 =*  Following 5 words mapped by DSECT S99RB:
000000C 0000000000000000           13062  1 00016000 =DYN99CB    DC    5A(0)               Space for SVC99 parameter list
0                                  13064  1 00018000 =*  Following 9 words mapped by DSECT S99RBX:
0000020 0000000000000000           13066  1 00020000 =DYNRBX     DC    9A(0)               SVC99 Request Block Extension
0000044 00000000                   13068  1 00022000 =DYNTRETC   DC    A(0)                Return code from SVC99 call
 000048 00000000                   13069  1 00023000 =DYNTUNIT   DC    A(0)                Pointer to next available unit
 00004C 00000000                   13070  1 00024000 =DYNTTEXT   DC    A(0)                Pointer to next available text
0000050                            13072  1 00026000 =DYNTUST    DC    0A(0)               Address of first text unit pointer
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   23
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000050                00050 00050 13073    00027000 =         END   ,
                                   13082    00146000  VOLBUFL  EQU   4*1024              L'area:  4k
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Mapping macros                                              Page   24
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13085    00149000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13086    00150000  Ÿ                                                                     Ÿ
                                   13087    00151000  Ÿ  Map segment control block fields                                   Ÿ
                                   13088    00152000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-000000                00000 0003C 13090    00154000  SEGCB    RECORD 'SEGCB'
 000000 00                         13100  1 03-SEGCB +$$$SEGCB4   DS   0F
 SEGCBCOD.SEGCBSEG 01 EQ
 SEGCBCOD.SEGCBWR  02 EQ
 SEGCBCOD.SEGCBCLR 03 EQ
 SEGCBCOD.SEGCBSPP 04 EQ
 SEGCBCOD.SEGCBOVF 05 EQ
 SEGCBCOD.SEGCBCR  06 EQ
 SEGCBCOD.SEGCBMAR 07 EQ
 000001 00                         13175  1 03-SEGCB +           DC    X'00'               Reserved
 000002 0000                              1          +
 000004 00000000                   13176  1 03-SEGCB +SEGCBMAXF   DC   A(0)                Maximum buffer length
 000008 00000000                   13177  1 03-SEGCB +SEGCBMRKF   DC   A(0)                Length at last mark
 00000C 00000000                   13178  1 03-SEGCB +SEGCBLENF   DC   A(0)                Current length
 000010 00000000                   13179  1 03-SEGCB +SEGCBINDF   DC   A(0)                Overflow/indent count
 000014 00000000                   13180  1 03-SEGCB +SEGCBERR   DC    A(0)                Address of error recovery routine
 000018 0000000000000000           13181  1 03-SEGCB +           DC    2F'0'               Reserved
 000020 00000000                   13182  1 03-SEGCB +SEGCBLOC   DC    A(0)                Location of buffer
 000024 00000000                   13183  1 03-SEGCB +SEGCBRTN   DC    A(0)                Processing routine
 000028 0000000000000000           13184  1 03-SEGCB +           DC    4F'0'               Reserved
 000038 00000000       0003C 0003C 13185    03-SEGCB +SEGCBUSR DC    A(0)                USER field
-
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   25
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 00EC8 13197    00157000  TVT      RECORD BEGIN
                                   13205  1 00158000             COPY  TVT                 Basic TVT
                                   13206= 1 00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13207= 1 00002000 =Ÿ                                                                     Ÿ
                                   13208= 1 00003000 =Ÿ  Task Vector Table.                                                 Ÿ
                                   13209= 1 00004000 =Ÿ                                                                     Ÿ
                                   13210= 1 00005000 =Ÿ        All TVTs are 4K in length.                                   Ÿ
                                   13211= 1 00006000 =Ÿ                                                                     Ÿ
                                   13212= 1 00007000 =Ÿ        The first 1K of the TVT is common for all tasks.             Ÿ
                                   13213= 1 00008000 =Ÿ        The remaining 3K is a subtask specific extension.            Ÿ
                                   13214= 1 00009000 =Ÿ                                                                     Ÿ
                                   13215= 1 00009100 =Ÿ        1996/06/03 mcl  TVTSENDXMSGS                                 Ÿ
                                   13216= 1 00009110 =Ÿ        1996/03/04 mcl  queue lock fail flag, move NOFWE to TVTOSFIL Ÿ
                                   13217= 1 00009200 =Ÿ        1996/02/29 mcl  cmd to spin off log file; TVTNOFWE flag      Ÿ
                                   13218= 1 00010000 =Ÿ                                                                     Ÿ
                                   13219= 1 00011000 =Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
-                                         1
 000000                            13221  1 00013000 =TVTSTART   DS    0D
 000000                            13222  1 00014000 =TVTID      DS    CL4'TVT'            Self-identification
                                   13223  1 00015000 =TVTSIZE#   EQU   4096,,C'N'          Length of TVT+extensions
 000004                            13224  1 00016000 =TVTTLEN    DS    AL2                 Total length
                                   13225  1 00017000 =
 000008                            13226  1 00018000 =TVTLINK    DS    A                   Ptr to next TVT (0=last)
                                   13227= 1 00019000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13228= 1 00020000 =           Ÿ  Task DEFINE Information  Ÿ
                                   13229= 1 00021000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 00000C                            13230  1 00022000 =TVTNO      DS    F                   Task identification number
 000010 00000000                   13231  1 00023000 =TVTSEQ     DC    A(0)                Global task sequence number
 000014                            13232  1 00024000 =TVTNAME    DS    CL8                 Subtask name
 00001C                            13233  1 00025000 =TVTLMOD    DS    CL8                 Load module name
                                   13234  1 00026000 =
 000024                            13235  1 00027000 =TVTPLIST   DS    4A                  tvt ptr, parm ptr, 0, 0
 000034                            13236  1 00028000 =TVTPLEN    DS    H                   Parm length
 000036                            13237  1 00029000 =TVTPTXT    DS    CL80                Parm text
                                   13238  1 00030000 =
 000088                            13239  1 00031000 =TVTRESTART   DS  F                   Restart allowed
 00008C                            13240  1 00032000 =TVTRESCNT    DS  F                   Restart count
                                   13241= 1 00033000 =       ¿þþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13242= 1 00034000 =       Ÿ  Important addresses  Ÿ
                                   13243= 1 00035000 =       ¾þþþþþþþþþþþþþþþþþþþþþþþ»
 000090 00000000                   13244  1 00036000 =TVTGVTP    DC    A(0)                Address of the GVT
 000094 00000000                   13245  1 00037000 =TVTASCBP   DC    A(0)                Our ASCB address
 000098 00000000                   13246  1 00038000 =TVTTCBP    DC    A(0)                Our TCB address
                                   13247  1 00039000 =*
                                   13248  1 00040000 =*
                                   13249= 1 00041000 =      ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13250= 1 00042000 =      Ÿ  All fields below TVTCLEAR are initialized to zero  Ÿ
                                   13251= 1 00043000 =      Ÿ  before subtask is attached.  (or restarted!!)      Ÿ
                                   13252= 1 00044000 =      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
                                   13253  1 00045000 =TVTCLEAR   EQU   *
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   26
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13254= 1 00046000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13255= 1 00047000 =           Ÿ  Define global TVT flags.  Ÿ
                                   13256= 1 00048000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 00009C 00                         13257  1 00049000 =TVTFLAG    FLAG  ,                   Misc flags
 TVTFLAG.TVTFSUSPE 80 ONES         13261  1 00050000 =           FLAG  TVTFSUSPEND         - Task is suspended
 TVTFLAG.TVTFQUISC 40 ONES         13266  1 00051000 =           FLAG  TVTFQUISCE          - Quisce processing
 TVTFLAG.TVTFSTOPP 20 ONES         13271  1 00052000 =           FLAG  TVTFSTOPPING        - TVT is stopping
 TVTFLAG.TVTFABEND 10 ONES         13276  1 00053000 =           FLAG  TVTFABENDING        - TVT is abending
 TVTFLAG.TVTFNORES 08 ONES         13281  1 00054000 =           FLAG  TVTFNORESTART       - Do not restart this TVT task
 TVTFLAG.TVTFSPINL 04 ONES         13286  1 00055000 =           FLAG  TVTFSPINLOG         - spin off the logfile
                                   13291  1 00055100 =
 00009D 00                         13292  1 00056000 =TVTSTATE   FLAG  ,                   Task state
 TVTSTATE.TVTSTINI 00 EQ           13296  1 00057000 =           FLAG  (TVTSTINIT,0,EQ)     - Initializing
 TVTSTATE.TVTSTWAI 01 EQ           13306  1 00058000 =           FLAG  (TVTSTWAITING,1,EQ)  - Waiting for work
 TVTSTATE.TVTSTBUS 02 EQ           13316  1 00059000 =           FLAG  (TVTSTBUSY,2,EQ)     - Doing work
                                   13326  1 00060000 =
 00009E 00                         13327  1 00061000 =TVTFLAG3   FLAG  ,                   General flags
 TVTFLAG3.TVTFTRC  80 ONES         13331  1 00062000 =           FLAG  TVTFTRC             - Tracing active
 TVTFLAG3.TVTESTAE 40 ONES         13336  1 00063000 =           FLAG  TVTESTAE            - ESTAE environment active
 TVTFLAG3.TVTNOEST 20 ONES         13341  1 00064000 =           FLAG  TVTNOEST            - Bypass ESTAE environment
 TVTFLAG3.TVTFABND 10 ONES         13346  1 00065000 =           FLAG  TVTFABND            - Abend in progress
 TVTFLAG3.TVTBATCH 08 ONES         13351  1 00066000 =           FLAG  TVTBATCH            - Batch test mode
 TVTFLAG3.TVTREPT  04 ONES         13356  1 00067000 =           FLAG  TVTREPT             - Report file open
 TVTFLAG3.TVTWEIRD 02 ONES         13361  1 00068000 =           FLAG  TVTWEIRD            - Weird processing mode
 TVTFLAG3.TVTFDBUG 01 ONES         13366  1 00069000 =           FLAG  TVTFDBUG            - Debug mode (set debug ESPIE)
                                   13371  1 00070000 =
 00009F 00                         13372  1 00071000 =TVTFLAG4   FLAG  ,
 TVTFLAG4.TVTFOSFI 80 ONES         13376  1 00072000 =           FLAG  TVTFOSFILE          - OSFILE type loadmodule
                                   13381  1 00073000 =
 0000A0 00                         13382  1 00074000 =TVTFLAG5   FLAG  ,                   Subtask post of monitor
 TVTFLAG5.TVTFPOST 80 ONES         13386  1 00075000 =           FLAG  TVTFPOST            - This subtask posted monitor
 TVTFLAG5.TVTFEOTA 40 ONES         13391  1 00076000 =           FLAG  TVTFEOTASK          - End of subtask post
 TVTFLAG5.TVTFCMD  20 ONES         13396  1 00077000 =           FLAG  TVTFCMD             - Monitor command post
 TVTFLAG5.TVTFQLFA 10 ONES         13401  1 00078000 =           FLAG  TVTFQLFAIL          - could not obtain internal
                                   13406  1 00078100 =*                                    enqueue lock          ml960304
                                   13407  1 00079000 =*
 0000A1 00                         13408  1 00080000 =TVTFLAG6   FLAG  ,                   Monitor post of subtask
 TVTFLAG6.TVTFSTOP 80 ONES         13412  1 00081000 =           FLAG  TVTFSTOP            - request subtask termination
 TVTFLAG6.TVTFSTAT 40 ONES         13417  1 00082000 =           FLAG  TVTFSTATUS          - reqst subtask status (not used)
                                   13422  1 00083000 =
 0000A2 00                         13423  1 00084000 =TVTFLAG7   FLAG  ,
 TVTFLAG7.TVTXDBUG 80 ONES         13427  1 00084500 =           FLAG  TVTXDBUG            extra debugging flag
 TVTFLAG7.TVTSENDX 40 ONES         13432  1 00085000 =           FLAG  TVTSENDXMSGS        send extra info messages
                                   13437  1 00085100 =
 0000A3 00                         13438  1 00086000 =TVTFLAG8   FLAG  ,
                                   13442= 1 00087000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13443= 1 00088000 =           Ÿ                             Ÿ
                                   13444= 1 00089000 =           Ÿ  General task information.  Ÿ
                                   13445= 1 00090000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000A4                            13446  1 00091000 =TVTUID     DS    CL5                 Current user at death
 0000A9                            13447  1 00092000 =TVTCODES   DS    CL3                 Abend system/user codes
 0000AC                            13448  1 00093000 =TVTREASN   DS    F                   Abend reason code
 0000B0                            13449  1 00094000 =TVTECBRQ   DS    F                   Request of subtask ECB
 0000B4                            13450  1 00095000 =TVTECBCM   DS    F                   Request complete ECB
 0000B8                            13451  1 00096000 =TVTMONCM   DS    F                   Monitor cmd/reqst complete ECB
 0000BC                            13452  1 00097000 =TVTRSPBF   DS    F                   Request response buffer
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   27
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00000C0                            13453  1 00098000 =TVTRSPLN   DS    F                   Request response buffer len
 0000C4                            13454  1 00099000 =TVTTIME    DS    F                   Time of last abend
                                   13455= 1 00100000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13456= 1 00101000 =           Ÿ  Define trace table pointers.  Ÿ
                                   13457= 1 00102000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000C8                            13458  1 00103000 =TVTTRBEG   DS    A                   Trace table start
 0000CC                            13459  1 00104000 =TVTTRCUR   DS    A                   Most recent trace table entry
 0000D0                            13460  1 00105000 =TVTTREND   DS    A                   Trace table end
 0000D4                            13461  1 00106000 =TVTTRSAV   DS    3A                  Trace register save area
                                   13462= 1 00107000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13463= 1 00108000 =           Ÿ  Define global pointers within TVT.  Ÿ
                                   13464= 1 00109000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0000E0 00000000                   13465  1 00110000 =TVTSYMTB   DC    A(0)                Anchor address for symbol table
 0000E4 00000000                   13466  1 00111000 =TVTWTIME   DC    A(0)                Periodic timer fire (.01) seconds
 0000E8 00000000                   13467  1 00112000 =TVTSTMID   DC    A(0)                STIMERM timer identification
 0000EC 00000000                   13468  1 00113000 =TVTSAVE    DC    A(0)                Address of vs save area
 0000F0 00000000                   13469  1 00114000 =TVTRETCD   DC    A(0)                Global process return code
 0000F4 00000000                   13470  1 00115000 =TVTESTAK   DC    A(0)                Address of ESTAE save stack
 0000F8 00000000                   13471  1 00116000 =TVTDUMPR   DC    A(0)                Dump formatter co-routine (0=none)
 0000FC 00000000                   13472  1 00117000 =TVTTASKP   DC    A(0)                TASKLIB DCB ptr
 000100 00000000                   13473  1 00118000 =TVTBFTIM   DC    A(0)                Time-out value for buffer full
 000104 00000000                   13474  1 00119000 =TVTBETIM   DC    A(0)                Pause time after buffer-empty
 000108 00000000                   13475  1 00120000 =TVTSTPTR   DC    A(0)                Pointer to start of save stack
 00010C 00000000                   13476  1 00121000 =TVTDUMPX   DC    A(0)                Address to be passed to co-routine
                                   13477  1 00121100 =*                                  (0=use SDWA)      **MOVE THIS**
 000110 00000000                   13478  1 00121110 =TVTQWTIM   DC    A(0)                enqueued dataset wait retry time,
                                   13479  1 00121120 =*                                  centiseconds      **MOVE THIS**
 000114 FFFFFFFFFFFFFFFF           13480  1 00121200 =           DC    5F'-1'              Reserved
                                   13481= 1 00122000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13482= 1 00123000 =           Ÿ  Define SVC 99 dynamic allocate initial parameter list  Ÿ
                                   13483= 1 00124000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000128 00000000                   13484  1 00125000 =TVTDYNBF   DC    A(0)                Address of dynamic allocation
 00012C 000000000000               13485  1 00126000 =TVTDYNWP   DC    AL2(0,0,0)          Work area for text unit buildup
 000132 0000000000000000           13486  1 00127000 =TVTDYNWT   DC    XL44'00'            Reserve space
-                                  13488= 1 00129000 =      ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13489= 1 00130000 =      Ÿ  True user identification of client path  Ÿ
                                   13490= 1 00131000 =      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 00015E 0000                              1
 000160                            13491  1 00132000 =           DC    0F'0'               align
 000160                            13492  1 00132100 =TVTACCT    DS    0CL5                Requestor's account (uuugg)
 000160                            13493  1 00133000 =TVTUSER    DS    CL3                 .uuu
 000163                            13494  1 00134000 =TVTGROUP   DS    CL2                 .gg
 000165 00                         13495  1 00135000 =TVTAFIFL   DC    AL1(0)              Keyword record IFL flags
 000166 00                         13496  1 00136000 =TVTAKAFL   DC    AL1(0)              Keyword record AFL flags
 000167 00                                1
 000168 0000                       13497  1 00137000 =TVTLINE    DC    H'0'                Requestor's line-number
                                   13498  1 00138000 =
 00016A 0000                              1
 00016C 00000000                   13499  1 00139000 =TVTLGBEG   DC    A(0)                Log buffer start
 000170 00000000                   13500  1 00140000 =TVTLGCUR   DC    A(0)                Most recent log buffer entry
 000174 00000000                   13501  1 00141000 =TVTLGEND   DC    A(0)                Log buffer end
                                   13502  1 00142000 =LOGCNT     EQU   60                  Log buffer entry count
                                   13503  1 00143000 =LOGLEN     EQU   100                 Log buffer entry length
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   28
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000178 00000000                   13505  1 00145000 =TVTRCYST   DC    A(0)                Error recovery stack
 00017C 0000000000000000           13506  1 00146000 =           DC    16A(0)              Error recovery routines
 0001BC FFFFFFFF                   13507  1 00147000 =TVTRLAST   DC    A(-1)               Recovery stack overflow check
-                                  13509= 1 00149000 =      ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13510= 1 00150000 =      Ÿ  Info on most recent request                            ML940204  Ÿ
                                   13511= 1 00151000 =      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0001C0                            13512  1 00152000 =           DS    0D
 0001C0                            13513  1 00153000 =TVTLRCLK   DS    2F                  Time stamp at path open ML940204
 0001C8                            13514  1 00154000 =TVTLACLK   DS    2F                  Time stamp last action taken
-                                  13516= 1 00156000 =           ¿þþþþþþþþþþþþþþþþþþþÜ
                                   13517= 1 00157000 =           Ÿ  Global counters  Ÿ
                                   13518= 1 00158000 =           ¾þþþþþþþþþþþþþþþþþþþ»
 0001D0 00000000                   13519  1 00159000 =TVTCNTPOPENS     DC    A(0)          Total path opens
 0001D4 00000000                   13520  1 00160000 =TVTCNTPCLOSE     DC    A(0)          Total path closes
 0001D8 00000000                   13521  1 00161000 =TVTCNTREQ        DC    A(0)          Total requests
 0001DC 00000000                   13522  1 00162000 =TVTCNTUSE        DC    A(0)          Total use requests
 0001E0 00000000                   13523  1 00163000 =TVTCNTSAVE       DC    A(0)          Total save requests
 0001E4 0000000000000000           13524  1 00164000 =                 DC    7A(0)         Reserved
 000200 00000000                   13525  1 00165000 =TVTCNTSENT       DC    A(0)          Total scom writes
 000204 00000000                   13526  1 00166000 =TVTCNTRECVD      DC    A(0)          Total scom reads
 000208 0000000000000000           13527  1 00167000 =TVTCNTBSENT      DC    2A(0)         Total bytes sent
 000210 0000000000000000           13528  1 00168000 =TVTCNTBRECVD     DC    2A(0)         Total bytes recieved
                                   13529= 1 00169000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13530= 1 00170000 =           Ÿ  LOCAL DEBUGGER WORK AREA  Ÿ
                                   13531= 1 00171000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000218                            13532  1 00172000 =           DS    0D
 000218                            13533  1 00173000 =TVTLCLDB   DS    XL(L'LCLDBWA)
                                   13534  1 00174000 =
 000380                            13535  1 00175000 =           DS    0S(TVTSTART+1024-*) Do not overflow TVT Header area
                                   13536  1 00176000 =
 000380                00380 00400 13537  1 00177000 =           ORG   TVTSTART+1024       Basic TVT is always 1024 bytes
                                   13538  1 00159000             COPY  TVTOSFIL            OSFILE extension
                                   13539= 1 00001000 =¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13540= 1 00002000 =Ÿ                                                                     Ÿ
                                   13541= 1 00003000 =Ÿ        TVT -- OS file extension                                     Ÿ
                                   13542= 1 00004000 =Ÿ                                                                     Ÿ
                                   13543= 1 00005000 =Ÿ      Used by:  OSFILE, MVSUTILS, FILESHOW                           Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   29
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                         1                      ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
0                                  13545= 1 00007000 =           Ÿ  1998/01/13 mcl   TVTORVSS                                Ÿ
                                   13546= 1 00008000 =           Ÿ  1997/01/21 mcl   TVTFNTYP                                Ÿ
                                   13547= 1 00009000 =           Ÿ  1996/11/09 mcl   TVTUPMEM                                Ÿ
                                   13548= 1 00010000 =           Ÿ  1996/11/07 mcl   TVTRECFM                                Ÿ
                                   13549= 1 00011000 =           Ÿ  1996/09/12 mcl   TVTFISXCAT                              Ÿ
                                   13550= 1 00012000 =           Ÿ  1996/07/11 mcl   TVTFISCAT                               Ÿ
                                   13551= 1 00013000 =           Ÿ  1996/05/14 mcl   TVTEXMSG                                Ÿ
                                   13552= 1 00014000 =           Ÿ  1996/05/01 mcl   TVTUIFL                                 Ÿ
                                   13553= 1 00015000 =           Ÿ  1996/03/04 mcl   NOFWE flag                              Ÿ
                                   13554= 1 00016000 =           Ÿ  1996/02/28 mcl   allocation retry flags, EMBUF area      Ÿ
                                   13555= 1 00017000 =           Ÿ  1996/02/22 mcl   OSFWK1 replaced by specific areas       Ÿ
                                   13556= 1 00018000 =           Ÿ  1996/02/15 mcl:  SMSUP flag                              Ÿ
                                   13557= 1 00019000 =           Ÿ  1996/02/09 mcl:  areas for internal enq, scrvol stuff    Ÿ
                                   13558= 1 00020000 =           Ÿ  1996/01/03 mcl:  print DCB RECFM, LRECL change           Ÿ
                                   13559= 1 00021000 =           Ÿ                                                           Ÿ
                                   13560= 1 00022000 =           Ÿ  Define TVT common event control blocks                   Ÿ
                                   13561= 1 00023000 =           Ÿ                                                           Ÿ
                                   13562= 1 00024000 =           Ÿ        The event processing routine addresses are filled  Ÿ
                                   13563= 1 00025000 =           Ÿ        in by the sub-task initialization code.            Ÿ
                                   13564= 1 00026000 =           Ÿ                                                           Ÿ
                                   13565= 1 00027000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000400 00000000                   13566  1 00028000 =TVTEVNTS   DC    A(0)                Address of event control table
0                                  13568  1 00030000 =           ECBLIST (TVTSTOPE,MONPOST)    ECB for monitor request
                                   13569  1 00031000 =           ECBLIST (TVTTIMRE,SETTIMER)   ECB for periodic timer
                                   13570  1 00032000 =           ECBLIST (TVTPATHE,PROCPATH)   ECB for path activity post
0                                  13572  1 00034000 =           ECBLIST TYPE=DUMMY        Generate ECB processing routines
 000404 00000000                   13573  1 01-ECBLI +TVTSTOPE   DC    A(0)
 000408 00000000                   13574  1 01-ECBLI +TVTTIMRE   DC    A(0)
 00040C 00000000                   13575  1 01-ECBLI +TVTPATHE   DC    A(0)
                                   13576  1 01-ECBLI +TVTEVCNT   EQU   (*-TVTSTOPE)/4
0000410 00000000                   13578  1 01-ECBLI +TVTEROUT   DC    A(0)
 000414 00000000                   13579  1 01-ECBLI +           DC    A(0)
 000418 00000000                   13580  1 01-ECBLI +           DC    A(0)
 00041C 0000000000000000           13581  1 00035000 =TVTEVSEC   DC    (TVTEVCNT)A(0,0)    SECONDARY COPY OF ECB'S
-000434 00000000                   13583  1 00037000 =TVTBTECB   DC    F'0'                ECB for buffer-wait timer ML940223
 000438 0000000000000000           13584  1 00038000 =TVTBWECL   DC    2A(0)               ECB list for buffer fill/timeout
0                                  13586  1 00040000 =TVTDFWTM   EQU   10                  Default main loop wait time, min.
                                   13587= 1 00041000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13588= 1 00042000 =           Ÿ  Conversion work areas  Ÿ
                                   13589= 1 00043000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 000440 0000000000000000           13590  1 00044000 =TVTSTCK    DC    D'0'                Save area for STCK
                                   13591= 1 00045000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13592= 1 00046000 =           Ÿ  Define anchor cell for path control block  Ÿ
                                   13593= 1 00047000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000448 00000000                   13594  1 00048000 =TVTUPATH   DC    A(0)                Address of patch control block
 00044C 00000000                   13595  1 00049000 =TVTPATBF   DC    A(0)                Address of path buffer
 000450 00000000                   13596  1 00050000 =TVTPATB2   DC    A(0)                Address of moved path buffer
 000454 00000000                   13597  1 00051000 =TVTACEE    DC    A(0)                Address of WINGACEE control block
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   30
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000458 00000000                   13598  1 00052000 =TVTOSFWK   DC    A(0)                Address of OSFILE g.p. workarea
                                   13599  1 00053000 =L#OSFWK    EQU   4096                length of OSFWK area
 00045C E6C9D5C7E2E5F0F0           13600  1 00054000 =TVTPATHN   DC    CL8'WINGSV00'       Path name
 000464 C3D6D4D4C1D5C440           13601  1 00055000 =TVTPATCM   DC    CL16'COMMAND'       Current command
 000474 C3D6D4D4C1D5C440           13602  1 00056000 =TVTPATNX   DC    CL16'COMMAND'       Expected next command
0000484 4040404040404040           13604  1 00058000 =TVTNQDSN   DC    CL44' '             DSN of dataset enqueued internally
 0004B0 00                         13605  1 00059000 =TVTNQFLG   DC    X'00'               enqueue flags
                                   13606  1 00060000 =TDNQSHR    EQU   X'80'                - shared
                                   13607  1 00061000 =TDNQEXC    EQU   X'40'                - exclusive
 0004B1 00                         13608  1 00062000 =TVTPATFL   FLAG  ,                   Define path processing flags
 TVTPATFL.TPATOPEN 80 ONES         13612  1 00063000 =           FLAG  TPATOPEN             - Path open to client
 TVTPATFL.TPATCMND 40 ONES         13617  1 00064000 =           FLAG  TPATCMND             - Command is in progress
 TVTPATFL.TPATERR  20 ONES         13622  1 00065000 =           FLAG  TPATERR              - Cleanup client path
 TVTPATFL.TERRMSG  10 ONES         13627  1 00066000 =           FLAG  TERRMSG              - Error message exists in ERRSCB
 TVTPATFL.TPATSPR  08 ONES         13632  1 00067000 =           FLAG  TPATSPR              - Client is SYS priv'd
 TVTPATFL.TPATOPR  04 ONES         13637  1 00068000 =           FLAG  TPATOPR              - Client is OPR priv'd
 TVTPATFL.TPATAUTH 02 ONES         13642  1 00069000 =           FLAG  TPATAUTH             - Client is authorized
 TVTPATFL.TPATPERR 01 ONES         13647  1 00070000 =           FLAG  TPATPERR             - path errors, do not retry
00004B2 00                         13653  1 00072000 =TVTGENF    FLAG  ,                   Define general processing flags
 TVTGENF.TERRMULT  80 ONES         13657  1 00073000 =           FLAG  TERRMULT             - Special ERRSCB processing
 TVTGENF.TVTORVYL  40 ONES         13662  1 00074000 =           FLAG  TVTORVYL            ORVYL kluge is enabled
 TVTGENF.TVTORVSS  20 ONES         13667  1 00075000 =           FLAG  TVTORVSS            Caller is ORVYL
 TVTGENF.TREADEOF  10 ONES         13672  1 00076000 =           FLAG  TREADEOF            Did READ and awaiting FILE_EOF
 TVTGENF.TVTSMSUP  08 ONES         13677  1 00077000 =           FLAG  TVTSMSUP            SMS is active
 TVTGENF.TVTNOFWE  04 ONES         13682  1 00078000 =           FLAG  TVTNOFWE             - do not enable file-write ESTAE
 TVTGENF.TVTEXMSG  02 ONES         13687  1 00079000 =           FLAG  TVTEXMSG            Extended info/warning msgs available
00004B3 00                         13693  1 00081000 =TVTRESF    FLAG  ,                   Define resource held flags
 TVTRESF.TVTACEEHE 80 ONES         13697  1 00082000 =           FLAG  TVTACEEHELD          - acee resource chain held
 0004B4 00                         13702  1 00083000 =           DC    AL1(0)              Reserved
0                                  13704= 1 00085000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13705= 1 00086000 =           Ÿ  Define macro parameter lists  Ÿ
                                   13706= 1 00087000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
                                   13707  1 00088000 =TVTOPEN    OPEN  (*-*,INPUT),MF=L
 0004B5 000000                            1          +
 0004B8                            13708  1 01-OPEN  +TVTOPEN    DC    0F'0'                             ALIGN LIST TO FULLWORD
 0004B8 80                         13709  1 01-OPEN  +           DC    AL1(128)                     OPTION BYTE
 0004B9 000000                     13710  1 01-OPEN  +           DC    AL3(*-*)                     DCB ADDRESS
                                   13711  1 00089000 =TVTCLOSE   CLOSE (*-*),MF=L
 0004BC                            13712  1 01-CLOSE +TVTCLOSE   DC    0F'0'             ALIGN LIST TO FULLWORD
 0004BC 80                         13713  1 01-CLOSE +           DC    AL1(128)                          OPTION BYTE
 0004BD 000000                     13714  1 01-CLOSE +           DC    AL3(*-*)                          DCB ADDRESS
                                   13715  1 00090000 =MODSETZ    MODESET KEY=ZERO,MF=L     Enter key zero
                                   13716  1          +* MACDATE Y-3 81030                                                @D1A
 0004C0                            13717  1 01-MODES +MODSETZ    DS    0F
 0004C0 00000030                   13718  1 01-MODES +           DC    B'00000000000000000000000000110000'
                                   13719  1 00091000 =MODSETP    MODESET KEY=NZERO,MF=L    Enter problem key
                                   13720  1          +* MACDATE Y-3 81030                                                @D1A
 0004C4                            13721  1 01-MODES +MODSETP    DS    0F
 0004C4 00000020                   13722  1 01-MODES +           DC    B'00000000000000000000000000100000'
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   31
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  13724= 1 00093000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13725= 1 00094000 =           Ÿ  Define general TVT scanner control block and  Ÿ
                                   13726= 1 00095000 =           Ÿ  secondary scanner control block               Ÿ
                                   13727= 1 00096000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0004C8                            13729  1 00098000 =           SCANCB PFX=TVTSCN         Primary scanner control block
0                                  13743= 1 00100000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   13744= 1 00101000 =           Ÿ  Define path support seg buffer control  Ÿ
                                   13745= 1 00102000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0004E8 00/00/0000                 13746  1 00103000 =TVTSCB     SEGCB ,                   Define segment control buffer
 TVTSCBCOD.TVTSCBS 01 EQ
 TVTSCBCOD.TVTSCBW 02 EQ
 TVTSCBCOD.TVTSCBC 03 EQ
 TVTSCBCOD.TVTSCBS 04 EQ
 TVTSCBCOD.TVTSCBO 05 EQ
 TVTSCBCOD.TVTSCBC 06 EQ
 TVTSCBCOD.TVTSCBM 07 EQ
 0004EC 00000000                   13823  1          +
 0004F0 00000000                   13824  1          +
 0004F4 00000000                   13825  1          +
 0004F8 00000000                   13826  1          +
 0004FC 00000000                   13827  1          +
 000500 0000000000000000           13828  1          +
 000508 00000000                   13829  1          +
 00050C 00000000                   13830  1          +
 000510 0000000000000000           13831  1          +
 000520 00000000                   13832  1          +
 000524 00004000                   13834  1 00104000 =TVTSBUFL   DC    A(16384)            Buffer length
 000528 00/00/0000                 13835  1 00105000 =OSFSCB     SEGCB ,                   Define segment control buffer
 OSFSCBCOD.OSFSCBS 01 EQ
 OSFSCBCOD.OSFSCBW 02 EQ
 OSFSCBCOD.OSFSCBC 03 EQ
 OSFSCBCOD.OSFSCBS 04 EQ
 OSFSCBCOD.OSFSCBO 05 EQ
 OSFSCBCOD.OSFSCBC 06 EQ
 OSFSCBCOD.OSFSCBM 07 EQ
 00052C 00000000                   13912  1          +
 000530 00000000                   13913  1          +
 000534 00000000                   13914  1          +
 000538 00000000                   13915  1          +
 00053C 00000000                   13916  1          +
 000540 0000000000000000           13917  1          +
 000548 00000000                   13918  1          +
 00054C 00000000                   13919  1          +
 000550 0000000000000000           13920  1          +
 000560 00000000                   13921  1          +
                                   13923  1 00106000 =OSFSCBBL   EQU   1024,,C'N'          Define segment buffer length
 000564 00/00/0000                 13924  1 00107000 =ERRSCB     SEGCB ,                   Define segment control for errors
 ERRSCBCOD.ERRSCBS 01 EQ
 ERRSCBCOD.ERRSCBW 02 EQ
 ERRSCBCOD.ERRSCBC 03 EQ
 ERRSCBCOD.ERRSCBS 04 EQ
 ERRSCBCOD.ERRSCBO 05 EQ
 ERRSCBCOD.ERRSCBC 06 EQ
 ERRSCBCOD.ERRSCBM 07 EQ
 000568 00000000                   14001  1          +
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   32
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000056C 00000000                   14002  1          +
 000570 00000000                   14003  1          +
 000574 00000000                   14004  1          +
 000578 00000000                   14005  1          +
 00057C 0000000000000000           14006  1          +
 000584 00000000                   14007  1          +
 000588 00000000                   14008  1          +
 00058C 0000000000000000           14009  1          +
 00059C 00000000                   14010  1          +
 0005A0 00000000                   14012  1 00108000 =ERRBUFR    DC    A(0)                Address of error buffer
                                   14013  1 00109000 =ERRBUFL    EQU   1024,,C'N'          Define length of error buffer
0                                  14016  1 00112000 =*        ORVYL interface special options
 0005A4 4040404040404040           14017  1 00113000 =TVTORVAC   DC    CL8' '              userid to use when ORVYL kluge
                                   14018  1 00114000 =*                                  is in effect
0                                  14020= 1 00116000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14021= 1 00117000 =           Ÿ  General command abort save for stack pointer and  Ÿ
                                   14022= 1 00118000 =           Ÿ    command exit address.                           Ÿ
                                   14023= 1 00119000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005AC 00000000                   14024  1 00120000 =TVTCMDAS   DC    A(0)                Stack frame ptr for abort return
                                   14025= 1 00121000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14026= 1 00122000 =           Ÿ  Open file information.  Ÿ
                                   14027= 1 00123000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþ»
                                   14028  1 00124000 =TVTFILPB   FILPB PFX=TVTPB           File open parameters
                                   14029+ 1          +           ¿þþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14030+ 1          +           Ÿ  File open parameters.  Ÿ
                                   14031+ 1          +           ¾þþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005B0                            14032  1 01-FILPB +TVTPBSTART       DS  0D
                                   14033+ 1          +           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14034+ 1          +           Ÿ  File information built from components below.  Ÿ
                                   14035+ 1          +           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005B0                            14036  1 01-FILPB +TVTPBDSNAME      DS  CL44            Full OS data set name
 0005DC                            14037  1 01-FILPB +TVTPBDSMEM       DS  CL8             Member name for library
 0005E4                            14038  1 01-FILPB +TVTPBDSACCT      DS  CL5'uuugg'      Account of dsname owner
                                   14039+ 1          +           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14040+ 1          +           Ÿ  Component information used to build dsname.  Ÿ
                                   14041+ 1          +           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0005EA                            14042  1 01-FILPB +                 DS  0H              align
 0005EA                            14043  1 01-FILPB +TVTPBNAME        DS  CL128           File name
 00066A                            14044  1 01-FILPB +TVTPBCNAME       DS  CL128           Current file name
 0006EA                            14045  1 01-FILPB +TVTPBLIBPFX      DS  CL128           Library file prefix
 00076A                            14046  1 01-FILPB +TVTPBVOL         DS  CL6'volser'     Volume override
 000770                            14047  1 01-FILPB +TVTPB#VOL        DS  H'6'            L'VOL string
 000772                            14048  1 01-FILPB +TVTPBACCOUNT     DS  CL6'gg.uuu'     Account override
                                   14049  1 01-FILPB +TVTPBACUSER      EQU TVTPBACCOUNT,3,C'C'    .uuu
                                   14050  1 01-FILPB +TVTPBACGROUP     EQU TVTPBACCOUNT+3,2,C'C'  .gg
 000778                            14051  1 01-FILPB +TVTPBUSER        DS  CL3'uuu'        User override
 00077B                            14052  1 01-FILPB +TVTPBGROUP       DS  CL2'gg'         Group override
 00077D                            14053  1 01-FILPB +TVTPBSETUSER     DS  CL3'uuu'        Default user (if none specifed)
 000780                            14054  1 01-FILPB +TVTPBSETGROUP    DS  CL2'gg'         Default group (if none specified)
 000782                            14055  1 01-FILPB +TVTPBSETVOL      DS  CL6'volser'     Default volume (if none specified)
 000788                            14056  1 01-FILPB +                 DS  0D              align
 000788                            14057  1 01-FILPB +TVTPBSETLIB      DS  CL128           Default lib (if none specified)
 000808                            14058  1 01-FILPB +TVTPBSTORCLAS    DS  CL8             Storage class
 000810                            14059  1 01-FILPB +TVTPBDATACLAS    DS  CL8             Data Class
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   33
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000818                            14060  1 01-FILPB +TVTPBMGMTCLAS    DS  CL8             Management Class
 000820                            14061  1 01-FILPB +TVTPBLRECL       DS  F               Logical record length
 000824                            14062  1 01-FILPB +TVTPBBLKSIZE     DS  F               Block size
 000828                            14063  1 01-FILPB +TVTPBTITLEN      DS  F               Length of title string
 00082C                            14064  1 01-FILPB +TVTPBALLOCPRI    DS  F               Primary allocation quantity
 000830                            14065  1 01-FILPB +TVTPBALLOCSEC    DS  F               Secondary allocation quantity
 000834 00                         14066  1 01-FILPB +TVTPBALLOCDIR    DS  F               Directory quantity
 TVTPBALLOCTYP.TVT 80 ONES
 TVTPBALLOCTYP.TVT 40 ONES
 TVTPBALLOCTYP.TVT 20 ONES
 TVTPBALLOCTYP.TVT 10 ONES
 TVTPBALLOCTYP.TVT 08 ONES
 TVTPBALLOCTYP.TVT 04 ONES
 000839 00                         14101  1          +*
 TVTPBREQTYPE.TVTP 01 EQ
 TVTPBREQTYPE.TVTP 02 EQ
 TVTPBREQTYPE.TVTP 03 EQ
 TVTPBREQTYPE.TVTP 04 EQ
 TVTPBREQTYPE.TVTP 05 EQ
 TVTPBREQTYPE.TVTP 06 EQ
 TVTPBREQTYPE.TVTP 07 EQ
 TVTPBREQTYPE.TVTP 08 EQ
 TVTPBREQTYPE.TVTP 09 EQ
 TVTPBREQTYPE.TVTP 0A EQ
 TVTPBREQTYPE.TVTP 0B EQ
 00083A 00                         14216  1          +*
 TVTPBRECFM.TVTPBF 01 EQ
 TVTPBRECFM.TVTPBF 02 EQ
 TVTPBRECFM.TVTPBF 03 EQ
 TVTPBRECFM.TVTPBF 04 EQ
 00083B 00                         14262  1          +*
 TVTPBDTYPE.TVTPBF 80 ONES
 TVTPBDTYPE.TVTPBF 40 ONES
 TVTPBDTYPE.TVTPBF 20 ONES
 TVTPBDTYPE.TVTPBF 10 ONES
 00083C 00/00                      14287  1          +*                            after dsn parse - non-wyl, non-TSO dsname
 TVTPBDTYPE.TVTPBF 08 ONES
 TVTPBDOPT1.TVTPBF 80 ONES
 TVTPBDOPT1.TVTPBF 40 ONES
 TVTPBDOPT1.TVTPBF 20 ONES
 TVTPBDOPT1.TVTPBF 10 ONES
 TVTPBDOPT1.TVTPBF 08 ONES
 TVTPBDOPT1.TVTPBF 04 ONES
 TVTPBDOPT1.TVTPBF 02 ONES
 TVTPBDOPT1.TVTPBF 01 ONES
 TVTPBDOPT2.TVTPBF 80 ONES
 TVTPBDOPT2.TVTPBF 40 ONES
 TVTPBDOPT2.TVTPBF 20 ONES
 TVTPBDOPT2.TVTPBF 10 ONES
 TVTPBDOPT2.TVTPBR 08 ONES
 00083E 00                         14366  1          +*                    (done when retesting after previous access denial)
 TVTPBDOPT2.TVTPBO 04 ONES
 TVTPBDOPT2.TVTPBO 02 ONES
 TVTPBDOPT2.TVTPBM 01 ONES
 TVTPBROPT.TVTPBFR 80 ONES
 TVTPBROPT.TVTPBFR 40 ONES
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   34
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0TVTPBROPT.TVTPBFR 20 ONES
 TVTPBROPT.TVTPBFR 10 ONES
 00083F 00                         14406  1          +*
 TVTPBCATFLG.TVTPB 01 EQ
 TVTPBCATFLG.TVTPB 02 EQ           14421  1          +*                                         or uncatalog
 TVTPBCATFLG.TVTPB 03 EQ
                                   14442  1          +**-      FLAG  (&PFX.FUNCAT,4,EQ)        - action is uncatalog .no..
 000840                            14443  1 01-FILPB +TVTPBRACFLG   DS X                   RACF options flag, used in
                                   14444  1          +*                                  internal RACF calls     ml950607
                                   14445  1          +*                 contains the access level required (see RACFEQU)
                                   14446  1          +*                 x'02' indicates READ access
                                   14447  1          +*                 x'04' indicates UPDATE access
                                   14448  1          +*                 x'08' indicates CONTROL access
                                   14449  1          +*                 x'80' indicates ALTER access
                                   14450  1          +*
                                   14451  1          +*              If the high bit is on in R0, LOG=NONE is used
                                   14452  1          +*              on the RACROUTE request (done when retesting after
                                   14453  1          +*              previous access denial)                     ml940323
                                   14454  1          +*
 000841                            14455  1 01-FILPB +TVTPBTITLE   DS  CL62                Optional pds title
                                   14456  1          +
 000880                            14457  1 01-FILPB +TVTPBLEVEL   DS  F                   Current recursion level
                                   14458  1          +
                                   14459  1 01-FILPB +TVTFILPB   EQU   TVTPBSTART,*-TVTPBSTART,C'X'
0                                  14461  1 00126000 =*  Options for temporary dataset definition
0000884 0000                       14463  1 00128000 =TVTTMVOL#   DC    H'0'               Vol count for SAVE...TEMP
 000886 0000000000000000           14464  1 00129000 =TVTTMVOL0   DC    5XL12'00'          volume list for SAVE...TEMP
                                   14465  1 00130000 =TVTTMVOL   EQU   TVTTMVOL#,*-TVTTMVOL#,C'X'  the whole list
 0008C2 4040404040404040           14466  1 00131000 =TVTTMSTC   DC    CL8' '              STORCLAS for SAVE...TEMP
 0008CA 4040404040404040           14467  1 00132000 =TVTTMMGC   DC    CL8' '              MGMTCLAS for SAVE...TEMP
0                                  14469= 1 00134000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14470= 1 00135000 =           Ÿ  General information.  Cleared at entry to each fresh         Ÿ
                                   14471= 1 00136000 =           Ÿ  command.                         *v*v*v*v*v*v*v*v*v*v*v*v*v  Ÿ
                                   14472= 1 00137000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0008D8                            14473  1 00138000 =TVTGEN#    DS    0D
 0008D8                            14474  1 00139000 =               DC   0A(0)
 0008D8                            14475  1 00140000 =TVTDDNAME      DS   CL8              DDNAME (from dynamic allocation)
 0008E0                            14476  1 00141000 =TVTDSORG       DS   AL2              Data set organization from DSCB
 0008E2 404040404040               14477  1 00142000 =TVTVOLSER      DC   CL6' '           Actual allocated volume serial
 0008E8 404040404040               14478  1 00143000 =TVTCATVOL      DC   CL6' '           Catalog volume if any
 0008EE 404040404040               14479  1 00144000 =TVTLIBVOL      DC   CL6' '           WYL.GG.UUU.LIB volume if any
 0008F4 00000000                   14480  1 00145000 =TVTBYTEGUESS   DC A(0)               File size guess
 0008F8 00000000                   14481  1 00146000 =TVTLINEGUESS   DC A(0)               Count of number of lines
 0008FC 00                         14482  1 00147000 =TVTRECFM   DC    X'00'               RECFM from DSCB
 0008FD 00                         14483  1 00148000 =TVTFFLAG   FLAG  ,                   File allocation flags
 TVTFFLAG.TVTFISOL 80 ONES         14487  1 00149000 =           FLAG  TVTFISOLD               - disp=old
 TVTFFLAG.TVTFISNE 80 OFF          14492  1 00150000 =           FLAG  (TVTFISNEW,TVTFISOLD,Z) - disp=new
 TVTFFLAG.TVTFISMO 40 ONES         14501  1 00151000 =           FLAG  TVTFISMOD               - disp=mod
 TVTFFLAG.TVTFISSM 20 ONES         14506  1 00152000 =           FLAG  TVTFISSMS           Do SMS-type alloc, omit unit/vol
 TVTFFLAG.TVTFCHCA 10 ONES         14511  1 00153000 =           FLAG  TVTFCHCAT           catalog lookup has been done  960913
 TVTFFLAG.TVTFISCA 08 ONES         14516  1 00154000 =           FLAG  TVTFISCAT           catalog entry exists for file 960912
 TVTFFLAG.TVTFCHSM 04 ONES         14521  1 00155000 =           FLAG  TVTFCHSMS           did OBTAIN on catvol, chkd for sms
 TVTFFLAG.TVTFEXSM 02 ONES         14526  1 00156000 =           FLAG  TVTFEXSMS           Existing dataset is SMS       960913
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   35
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0TVTFFLAG.TVTFISXC 01 ONES         14531  1 00157000 =           FLAG  TVTFISXCAT          cataloged on other volume   ml960912
 0008FE 00                         14536  1 00158000 =TVTDSOFLG   FLAG  ,                  DSORG flags   ml 960913
 TVTDSOFLG.TVTFISP 80 ONES         14540  1 00159000 =           FLAG  TVTFISPDS               - dsorg=po
 TVTDSOFLG.TVTFISP 80 OFF          14545  1 00160000 =           FLAG  (TVTFISPS,TVTFISPDS,Z)  - dsorg=ps
 TVTDSOFLG.TVTFISP 40 ONES         14554  1 00161000 =           FLAG  TVTFISPE            PDS/E         ml 950117
 0008FF 00                         14559  1 00162000 =TVTIOFLG   FLAG  ,                   Flags governing I/O operations
 TVTIOFLG.TVTDCBOK 80 ONES         14563  1 00163000 =           FLAG  TVTDCBOK             - dcb abend exit enabled
 TVTIOFLG.TVTDCBAB 40 ONES         14568  1 00164000 =           FLAG  TVTDCBAB             - DCB ABEND EXIT HAS BEEN ENTERED
 TVTIOFLG.TVTFWEST 20 ONES         14573  1 00165000 =           FLAG  TVTFWEST             - FILE WRITE ESTAE EXIT ACTIVE
 TVTIOFLG.TVTFEOF  10 ONES         14578  1 00166000 =           FLAG  TVTFEOF              - end of file reached (used only
                                   14583  1 00167000 =*                                     by SHO DIR at present)
 TVTIOFLG.TVTDSNOK 08 ONES         14584  1 00168000 =           FLAG  TVTDSNOK             - DSN ATTRIBTUES ARE COMPATIBLE
 000900 00                         14589  1 00169000 =TVTLSPFL   FLAG  ,                   File_lspace: options
 TVTLSPFL.TVTLSPIN 80 ONES         14593  1 00170000 =           FLAG  TVTLSPINDEX          - display vtoc index
 TVTLSPFL.TVTLSPFR 40 ONES         14598  1 00171000 =           FLAG  TVTLSPFRAG           - display fragmentation index
 TVTLSPFL.TVTLSPAV 20 ONES         14603  1 00172000 =           FLAG  TVTLSPAVAIL          - display available fmt0 count
 TVTLSPFL.TVTLSPFU 10 ONES         14608  1 00173000 =           FLAG  TVTLSPFULL           - display complete extent info
 TVTLSPFL.TVTLSPEX 08 ONES         14613  1 00174000 =           FLAG  TVTLSPEXT            - display extent information
 TVTLSPFL.TVTLSPSE 04 ONES         14618  1 00175000 =           FLAG  TVTLSPSENT           - indicate first data sent
 000901                00901 00900 14623  1 00176000 =           ORG   TVTLSPFL            ORIGIN BACK TO LSPACE FLAGS
 000900 00                         14624  1 00177000 =TVTUIFL    FLAG  ,                   UNIT INFO OPTS
 TVTUIFL.TVTUIRAW  80 ONES         14628  1 00178000 =           FLAG  TVTUIRAW            RAW UCB info
 TVTUIFL.TVTUIHEX  40 ONES         14633  1 00179000 =           FLAG  TVTUIHEX            Hexdump UCB base segment
 TVTUIFL.TVTUIFMT  20 ONES         14638  1 00180000 =           FLAG  TVTUIFMT            Format UCB info
 TVTUIFL.TVTUIVOL  10 ONES         14643  1 00181000 =           FLAG  TVTUIVOL            Volume given (else unit)
0000901 00                         14649  1 00183000 =TVTFFLG5   FLAG  ,
 TVTFFLG5.TVTUPMEM 80 ONES         14653  1 00184000 =           FLAG  TVTUPMEM            scratch/rename of member (not of
                                   14658  1 00185000 =*                                  whole dataset)
 TVTFFLG5.TVTFRESA 40 ONES         14659  1 00186000 =           FLAG  TVTFRESAVE          File scratch, realloc, and save
 TVTFFLG5.TVTFDYNR 20 ONES         14664  1 00187000 =           FLAG  TVTFDYNRT0          retry same request (we've fixed
                                   14669  1 00188000 =*                                  some environment problem)
 TVTFFLG5.TVTFDYNR 10 ONES         14670  1 00189000 =           FLAG  TVTFDYNRT1          retry safer request (problem with
                                   14675  1 00190000 =*                                  requested vol/unit)
 TVTFFLG5.TVTFDYNR 08 ONES         14676  1 00191000 =           FLAG  TVTFDYNRTX          we have retried already
 000902 00                         14681  1 00192000 =TVTDISPFLAG    FLAG ,                Disposition flag
 TVTDISPFLAG.TVTFK 01 EQ           14685  1 00193000 =           FLAG  (TVTFKEEP,1,EQ)
 TVTDISPFLAG.TVTFC 02 EQ           14695  1 00194000 =           FLAG  (TVTFCATLG,2,EQ)
                                   14705  1 00195000 =
 000903 00                         14706  1 00196000 =TVTFFLG7   FLAG  ,
                                   14710  1 00197000 =TVTUCFLG   EQU   TVTFFLG7,1,C'X'     Used by scratch/uncatlg
 000904 00                         14711  1 00198000 =TVTFNTYP   FLAG  ,                   Copy of NTYPE flag (FILPBDTYPE)
 000905                00905 00905 14715  1 00199000 =           ORG   ,
0                                  14717  1 00201000 =*  Options for SHOW DIR, SHOW CAT, SHOW DSN
0000905 00                                1
 000906 0000                       14719  1 00203000 =TVTOPT#LIK    DC H'0'                L'LIKE option
 000908 4040404040404040           14720  1 00204000 =TVTOPTLIKE    DC CL44' '             LIKE option
 000934 4040404040404040           14721  1 00205000 =TVTOPTTO      DC CL44' '             TO option
 000960 4040404040404040           14722  1 00206000 =TVTOPTFROM    DC CL44' '             FROM option
000098C 00                         14724  1 00208000 =TVTFSFLGS   FLAG  ,                   general flags
 TVTFSFLGS.FSHOWVO 80 ONES         14728  1 00209000 =           FLAG  FSHOWVOL            get volume lists
 TVTFSFLGS.FSHOWDS 40 ONES         14733  1 00210000 =           FLAG  FSHOWDSC            obtain DSCBs
 TVTFSFLGS.FSHOEXC 20 ONES         14738  1 00211000 =           FLAG  FSHOEXCL            EXCLUDE rather than FROM
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   36
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0TVTFSFLGS.FSHOTHR 10 ONES         14743  1 00212000 =           FLAG  FSHOTHRU            THROUGH rather than TO
 00098D 00                         14748  1 00213000 =TVTFSETYP   FLAG  ,                   catalog select criterea
 TVTFSETYP.FSHOTYP 80 ONES         14752  1 00214000 =           FLAG  FSHOTYPD            disk only
 TVTFSETYP.FSHOTYP 40 ONES         14757  1 00215000 =           FLAG  FSHOTYPT            tape only
 TVTFSETYP.FSHOTYP 20 ONES         14762  1 00216000 =           FLAG  FSHOTYPG            GDG entries
 TVTFSETYP.FSHOONL 10 ONES         14767  1 00217000 =           FLAG  FSHOONLY            ONLY given name
 TVTFSETYP.FSHOONV 08 ONES         14772  1 00218000 =           FLAG  FSHOONVL            ON volume
 TVTFSETYP.FSHOTEM 04 ONES         14777  1 00219000 =           FLAG  FSHOTEMP            TEMP files
 TVTFSETYP.FSHOVTO 02 ONES         14782  1 00220000 =           FLAG  FSHOVTOC            look in VTOC, not catalog
 00098E 00                         14787  1 00221000 =TVTFSMFLG   FLAG  ,                   misc. flags
 TVTFSMFLG.NDFLAG  80 ONES         14791  1 00222000 =           FLAG  NDFLAG              Non-dataset entry found
 TVTFSMFLG.FMT3S1D 40 ONES         14796  1 00223000 =           FLAG  FMT3S1DONE          section 1 of FMT3 DSCB processed
 TVTFSMFLG.FMT3S2D 20 ONES         14801  1 00224000 =           FLAG  FMT3S2DONE          section 2 of FMT3 DSCB processed
 TVTFSMFLG.FSHOMFL 10 ONES         14806  1 00225000 =           FLAG  FSHOMFLAG1          spare
 TVTFSMFLG.FSHOMFL 08 ONES         14811  1 00226000 =           FLAG  FSHOMFLAG2          spare
0                                  14817  1 00228000 =*  Pointers for FILESHOW dynamic areas
000098F 00                                1
 000990 00000000                   14819  1 00230000 =TVTFSWKA1    DC  A(0)                ->work area 1 (dsn from SVC26 or
                                   14820  1 00231000 =*                                    FCL area for CVAFFILT)
 000994 00000000                   14821  1 00232000 =TVTFSWKA2    DC  A(0)                ->work area 2 (catlg entries)
 000998 00000000                   14822  1 00233000 =TVTFSUCB   DC    A(0)                ->UCB for VTOCSHOW
0                                  14824  1 00235000 =*  ABEND info
000099C 00000000                   14826  1 00237000 =TVTIOAB    DC    A(0)                ABEND code from O/C/EOV
0                                  14828  1 00239000 =*
                                   14829  1 00240000 =*  END of general area (cleared each cmd)  *^*^*^*^*^*^*^*^*^*^*^*^*^
                                   14830  1 00241000 =*
                                   14831  1 00242000 =TVTGEN     EQU   TVTGEN#,*-TVTGEN#,C'C'  general area
0                                  14833= 1 00244000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14834= 1 00245000 =           Ÿ  Blocking/Deblocking control.  Cleared at entry to each       Ÿ
                                   14835= 1 00246000 =           Ÿ  fresh commands.                  *v*v*v*v*v*v*v*v*v*v*v*v*v  Ÿ
                                   14836= 1 00247000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 0009A0                            14837  1 00248000 =TVTBLK#    DS    0D
 0009A0                            14838  1 00249000 =TVTRBINF   DS    A                   Record deblocking area ptr
 0009A4 00000000                   14839  1 00250000 =TVTBUFP    DC    A(0)                Address of file I/O buffer
 0009A8 00000000                   14840  1 00251000 =TVTBUFSZ   DC    A(0)                Length of file I/O buffer
 0009AC 00000000                   14841  1 00252000 =TVTBUFPT   DC    A(0)                Current pointer into file I/O
 0009B0 00000000                   14842  1 00253000 =TVTLINBF   DC    A(0)                Address of record buffer
 0009B4 00000000                   14843  1 00254000 =TVTLINSZ   DC    A(0)                Length of record buffer
                                   14844  1 00255000 =TVTBLK     EQU   TVTBLK#,*-TVTBLK#,C'C'
0                                  14846  1 00257000 =*
                                   14847  1 00258000 =*  END of blocking area (cleared each cmd) *^*^*^*^*^*^*^*^*^*^*^*^*^
                                   14848  1 00259000 =*
-                                  14851= 1 00262000 =           ¿þþþþþþþþþþþþþþþþþÜ
                                   14852= 1 00263000 =           Ÿ  ABEND control  Ÿ
                                   14853= 1 00264000 =           ¾þþþþþþþþþþþþþþþþþ»
 0009B8 00000000                   14854  1 00265000 =TVTABEND   DC    A(0)                Abend system and user code
 0009BC 00000000                   14855  1 00266000 =TVTABREA   DC    A(0)                Abend reason code
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   37
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14857  1 00268000 =*  log/report dataset stuff
 0009C0 0000000000000000           14858  1 00269000 =TVTLOGCK   DC    D'0'                timestamp for log open
 0009C8 D6E2C6D5D5D5D5D5           14859  1 00270000 =TVTLOGDD   DC    CL8'OSFNNNNN'       Log ddname for OSFILE
 0009D0 00000000                   14860  1 00271000 =TVTLOGCT   DC    F'0'                logfile line count
 0009D4 000186A0                   14861  1 00272000 =TVTLOGLL   DC    F'100000'           logfile line limit
 0009D8 0018                       14862  1 00273000 =TVTLOGTL   DC    H'24'               logfile time limit
 0009DA C1                         14863  1 00274000 =TVTLOGSY   DC    C'A'                SYSOUT class for logfile
                                   14864  1 00275000 =*  DCB for OSFILE log/report datasets
0                                  14866  1 00277000 =OSFDCBPR   DCB   DDNAME=DUMMY,MACRF=PM,DSORG=PS,RECFM=VB,LRECL=136
0                                  14869  1          +*                       DATA CONTROL BLOCK
                                   14870  1          +*
 0009DB 00                                1          +
 0009DC                            14871  1 01-DCB   +OSFDCBPR   DC    0F'0'          ORIGIN ON WORD BOUNDARY
                                   14872  1          +*                       DIRECT ACCESS DEVICE INTERFACE
 0009DC 0000000000000000           14873  1 01-DCB   +           DC    BL16'0'        FDAD, DVTBL
 0009EC 00000000                   14874  1 01-DCB   +           DC    A(0)           KEYLEN, DEVT, TRBAL
                                   14875  1          +*                       COMMON ACCESS METHOD INTERFACE
 0009F0 00                         14876  1 01-DCB   +           DC    AL1(0)         BUFNO, NUMBER OF BUFFERS
 0009F1 000001                     14877  1 01-DCB   +           DC    AL3(1)         BUFCB, BUFFER POOL CONTROL BLOCK
 0009F4 0000                       14878  1 01-DCB   +           DC    AL2(0)         BUFL, BUFFER LENGTH
 0009F6 4000                       14879  1 01-DCB   +           DC    BL2'0100000000000000' DSORG, DATA SET ORGANIZATION
 0009F8 00000001                   14880  1 01-DCB   +           DC    A(1)           IOBAD FOR EXCP OR RESERVED
                                   14881  1          +*                       FOUNDATION EXTENSION
 0009FC 00                         14882  1 01-DCB   +           DC    BL1'00000000'  BFTEK, BFALN, DCBE INDICATORS
 0009FD 000001                     14883  1 01-DCB   +           DC    AL3(1)         EODAD (END OF DATA ROUTINE ADDRESS)
 000A00 50                         14884  1 01-DCB   +           DC    BL1'01010000'  RECFM (RECORD FORMAT)
 000A01 000000                     14885  1 01-DCB   +           DC    AL3(0)         EXLST (EXIT LIST ADDRESS)
                                   14886  1          +*                       FOUNDATION BLOCK
 000A04 C4E4D4D4E8404040           14887  1 01-DCB   +           DC    CL8'DUMMY'     DDNAME
 000A0C 02                         14888  1 01-DCB   +           DC    BL1'00000010'  OFLGS (OPEN FLAGS)
 000A0D 00                         14889  1 01-DCB   +           DC    BL1'00000000'  IFLGS (IOS FLAGS)
 000A0E 0050                       14890  1 01-DCB   +           DC    BL2'0000000001010000' MACR (MACRO FORMAT)
                                   14891  1          +*                       BSAM-BPAM-QSAM INTERFACE
 000A10 00                         14892  1 01-DCB   +           DC    BL1'00000000'  OPTCD, OPTION CODES
 000A11 000001                     14893  1 01-DCB   +           DC    AL3(1)         CHECK OR INTERNAL QSAM SYNCHRONIZING RTN.
 000A14 00000001                   14894  1 01-DCB   +           DC    A(1)           SYNAD, SYNCHRONOUS ERROR RTN. (3 BYTES)
 000A18 0000                       14895  1 01-DCB   +           DC    H'0'           INTERNAL ACCESS METHOD FLAGS
 000A1A 0000                       14896  1 01-DCB   +           DC    AL2(0)         BLKSIZE, BLOCK SIZE
 000A1C 00000000                   14897  1 01-DCB   +           DC    F'0'           INTERNAL ACCESS METHOD FLAGS
 000A20 00000001                   14898  1 01-DCB   +           DC    A(1)           INTERNAL ACCESS METHOD USE
                                   14899  1          +*                            QSAM INTERFACE
 000A24 00000001                   14900  1 01-DCB   +           DC    A(1)           EOBAD
 000A28 00000001                   14901  1 01-DCB   +           DC    A(1)           RECAD
 000A2C 0000                       14902  1 01-DCB   +           DC    H'0'           QSWS (FLAGS) AND EITHER DIRCT OR BUFOFF
 000A2E 0088                       14903  1 01-DCB   +           DC    AL2(136)       LRECL
 000A30 00                         14904  1 01-DCB   +           DC    BL1'00000000'  EROPT, ERROR OPTION
 000A31 000001                     14905  1 01-DCB   +           DC    AL3(1)         CNTRL
 000A34 00000000                   14906  1 01-DCB   +           DC    H'0,0'         RESERVED AND PRECL
 000A38 00000001                   14907  1 01-DCB   +           DC    A(1)           EOB, INTERNAL ACCESS METHOD FIELD
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   38
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  14909= 1 00279000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   14910= 1 00280000 =           Ÿ  Operating System Control Blocks.         Ÿ
                                   14911= 1 00281000 =           Ÿ                                           Ÿ
                                   14912= 1 00282000 =           Ÿ        Cleared at entry to each command.  Ÿ
                                   14913= 1 00283000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000A3C 00000000                          1
 000A40                            14914  1 00284000 =OSFCBST    DC    0D'0'               Start of OS control blocks
                                   14915  1 00285000 =OSFQSAM    DCB   DDNAME=DUMMY,MACRF=GL,DSORG=PS   for directory read
0                                  14918  1          +*                       DATA CONTROL BLOCK
                                   14919  1          +*
 000A40                            14920  1 01-DCB   +OSFQSAM    DC    0F'0'          ORIGIN ON WORD BOUNDARY
                                   14921  1          +*                       DIRECT ACCESS DEVICE INTERFACE
 000A40 0000000000000000           14922  1 01-DCB   +           DC    BL16'0'        FDAD, DVTBL
 000A50 00000000                   14923  1 01-DCB   +           DC    A(0)           KEYLEN, DEVT, TRBAL
                                   14924  1          +*                       COMMON ACCESS METHOD INTERFACE
 000A54 00                         14925  1 01-DCB   +           DC    AL1(0)         BUFNO, NUMBER OF BUFFERS
 000A55 000001                     14926  1 01-DCB   +           DC    AL3(1)         BUFCB, BUFFER POOL CONTROL BLOCK
 000A58 0000                       14927  1 01-DCB   +           DC    AL2(0)         BUFL, BUFFER LENGTH
 000A5A 4000                       14928  1 01-DCB   +           DC    BL2'0100000000000000' DSORG, DATA SET ORGANIZATION
 000A5C 00000001                   14929  1 01-DCB   +           DC    A(1)           IOBAD FOR EXCP OR RESERVED
                                   14930  1          +*                       FOUNDATION EXTENSION
 000A60 00                         14931  1 01-DCB   +           DC    BL1'00000000'  BFTEK, BFALN, DCBE INDICATORS
 000A61 000001                     14932  1 01-DCB   +           DC    AL3(1)         EODAD (END OF DATA ROUTINE ADDRESS)
 000A64 00                         14933  1 01-DCB   +           DC    BL1'00000000'  RECFM (RECORD FORMAT)
 000A65 000000                     14934  1 01-DCB   +           DC    AL3(0)         EXLST (EXIT LIST ADDRESS)
                                   14935  1          +*                       FOUNDATION BLOCK
 000A68 C4E4D4D4E8404040           14936  1 01-DCB   +           DC    CL8'DUMMY'     DDNAME
 000A70 02                         14937  1 01-DCB   +           DC    BL1'00000010'  OFLGS (OPEN FLAGS)
 000A71 00                         14938  1 01-DCB   +           DC    BL1'00000000'  IFLGS (IOS FLAGS)
 000A72 4800                       14939  1 01-DCB   +           DC    BL2'0100100000000000' MACR (MACRO FORMAT)
                                   14940  1          +*                       BSAM-BPAM-QSAM INTERFACE
 000A74 00                         14941  1 01-DCB   +           DC    BL1'00000000'  OPTCD, OPTION CODES
 000A75 000001                     14942  1 01-DCB   +           DC    AL3(1)         CHECK OR INTERNAL QSAM SYNCHRONIZING RTN.
 000A78 00000001                   14943  1 01-DCB   +           DC    A(1)           SYNAD, SYNCHRONOUS ERROR RTN. (3 BYTES)
 000A7C 0000                       14944  1 01-DCB   +           DC    H'0'           INTERNAL ACCESS METHOD FLAGS
 000A7E 0000                       14945  1 01-DCB   +           DC    AL2(0)         BLKSIZE, BLOCK SIZE
 000A80 00000000                   14946  1 01-DCB   +           DC    F'0'           INTERNAL ACCESS METHOD FLAGS
 000A84 00000001                   14947  1 01-DCB   +           DC    A(1)           INTERNAL ACCESS METHOD USE
                                   14948  1          +*                            QSAM INTERFACE
 000A88 00000001                   14949  1 01-DCB   +           DC    A(1)           EOBAD
 000A8C 00000001                   14950  1 01-DCB   +           DC    A(1)           RECAD
 000A90 0000                       14951  1 01-DCB   +           DC    H'0'           QSWS (FLAGS) AND EITHER DIRCT OR BUFOFF
 000A92 0000                       14952  1 01-DCB   +           DC    AL2(0)         LRECL
 000A94 00                         14953  1 01-DCB   +           DC    BL1'00000000'  EROPT, ERROR OPTION
 000A95 000001                     14954  1 01-DCB   +           DC    AL3(1)         CNTRL
 000A98 00000000                   14955  1 01-DCB   +           DC    H'0,0'         RESERVED AND PRECL
 000A9C 00000001                   14956  1 01-DCB   +           DC    A(1)           EOB, INTERNAL ACCESS METHOD FIELD
 000AA0                00AA0 00A40 14957  1 00286000 =           ORG   OSFQSAM             Origin back to QSAM DCB address
                                   14958  1 00287000 =OSFBPAM    DCB   DDNAME=DUMMY,MACRF=(R,W),DSORG=PO
0                                  14961  1          +*                       DATA CONTROL BLOCK
                                   14962  1          +*
 000A40                            14963  1 01-DCB   +OSFBPAM    DC    0F'0'          ORIGIN ON WORD BOUNDARY
                                   14964  1          +*                       DIRECT ACCESS DEVICE INTERFACE
 000A40 0000000000000000           14965  1 01-DCB   +           DC    BL16'0'        FDAD, DVTBL
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   39
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000A50 00000000                   14966  1 01-DCB   +           DC    A(0)           KEYLEN, DEVT, TRBAL
                                   14967  1          +*                       COMMON ACCESS METHOD INTERFACE
 000A54 00                         14968  1 01-DCB   +           DC    AL1(0)         BUFNO, NUMBER OF BUFFERS
 000A55 000001                     14969  1 01-DCB   +           DC    AL3(1)         BUFCB, BUFFER POOL CONTROL BLOCK
 000A58 0000                       14970  1 01-DCB   +           DC    AL2(0)         BUFL, BUFFER LENGTH
 000A5A 0200                       14971  1 01-DCB   +           DC    BL2'0000001000000000' DSORG, DATA SET ORGANIZATION
 000A5C 00000001                   14972  1 01-DCB   +           DC    A(1)           IOBAD FOR EXCP OR RESERVED
                                   14973  1          +*                       FOUNDATION EXTENSION
 000A60 00                         14974  1 01-DCB   +           DC    BL1'00000000'  BFTEK, BFALN, DCBE INDICATORS
 000A61 000001                     14975  1 01-DCB   +           DC    AL3(1)         EODAD (END OF DATA ROUTINE ADDRESS)
 000A64 00                         14976  1 01-DCB   +           DC    BL1'00000000'  RECFM (RECORD FORMAT)
 000A65 000000                     14977  1 01-DCB   +           DC    AL3(0)         EXLST (EXIT LIST ADDRESS)
                                   14978  1          +*                       FOUNDATION BLOCK
 000A68 C4E4D4D4E8404040           14979  1 01-DCB   +           DC    CL8'DUMMY'     DDNAME
 000A70 02                         14980  1 01-DCB   +           DC    BL1'00000010'  OFLGS (OPEN FLAGS)
 000A71 00                         14981  1 01-DCB   +           DC    BL1'00000000'  IFLGS (IOS FLAGS)
 000A72 2424                       14982  1 01-DCB   +           DC    BL2'0010010000100100' MACR (MACRO FORMAT)
                                   14983  1          +*                       BSAM-BPAM-QSAM INTERFACE
 000A74 00                         14984  1 01-DCB   +           DC    BL1'00000000'  OPTCD, OPTION CODES
 000A75 000001                     14985  1 01-DCB   +           DC    AL3(1)         CHECK OR INTERNAL QSAM SYNCHRONIZING RTN.
 000A78 00000001                   14986  1 01-DCB   +           DC    A(1)           SYNAD, SYNCHRONOUS ERROR RTN. (3 BYTES)
 000A7C 0000                       14987  1 01-DCB   +           DC    H'0'           INTERNAL ACCESS METHOD FLAGS
 000A7E 0000                       14988  1 01-DCB   +           DC    AL2(0)         BLKSIZE, BLOCK SIZE
 000A80 00000000                   14989  1 01-DCB   +           DC    F'0'           INTERNAL ACCESS METHOD FLAGS
 000A84 00000001                   14990  1 01-DCB   +           DC    A(1)           INTERNAL ACCESS METHOD USE
                                   14991  1          +*                         BSAM-BPAM INTERFACE
 000A88 00                         14992  1 01-DCB   +           DC    AL1(0)         NCP, MAX NUM OF OUTSTANDING READ/WRITES
 000A89 000001                     14993  1 01-DCB   +           DC    AL3(1)         EOBR, INTERNAL ACCESS METHOD USE
 000A8C 00000001                   14994  1 01-DCB   +           DC    A(1)           EOBW, INTERNAL ACCESS METHOD USE
 000A90 0000                       14995  1 01-DCB   +           DC    AL1(0,0)       FLAGS AND EITHER DIRCT OR BUFOFF
 000A92 0000                       14996  1 01-DCB   +           DC    AL2(0)         LRECL
 000A94 00000001                   14997  1 01-DCB   +           DC    A(1)           CNTRL, NOTE, POINT
0000A98                00A98 00A40 14999  1 00288000 =           ORG   OSFQSAM             Origin back to QSAM DCB address
                                   15000  1 00289000 =OSFBSAM    DCB   DDNAME=DUMMY,MACRF=(RP,WP),DSORG=PS
0                                  15003  1          +*                       DATA CONTROL BLOCK
                                   15004  1          +*
 000A40                            15005  1 01-DCB   +OSFBSAM    DC    0F'0'          ORIGIN ON WORD BOUNDARY
                                   15006  1          +*                       DIRECT ACCESS DEVICE INTERFACE
 000A40 0000000000000000           15007  1 01-DCB   +           DC    BL16'0'        FDAD, DVTBL
 000A50 00000000                   15008  1 01-DCB   +           DC    A(0)           KEYLEN, DEVT, TRBAL
                                   15009  1          +*                       COMMON ACCESS METHOD INTERFACE
 000A54 00                         15010  1 01-DCB   +           DC    AL1(0)         BUFNO, NUMBER OF BUFFERS
 000A55 000001                     15011  1 01-DCB   +           DC    AL3(1)         BUFCB, BUFFER POOL CONTROL BLOCK
 000A58 0000                       15012  1 01-DCB   +           DC    AL2(0)         BUFL, BUFFER LENGTH
 000A5A 4000                       15013  1 01-DCB   +           DC    BL2'0100000000000000' DSORG, DATA SET ORGANIZATION
 000A5C 00000001                   15014  1 01-DCB   +           DC    A(1)           IOBAD FOR EXCP OR RESERVED
                                   15015  1          +*                       FOUNDATION EXTENSION
 000A60 00                         15016  1 01-DCB   +           DC    BL1'00000000'  BFTEK, BFALN, DCBE INDICATORS
 000A61 000001                     15017  1 01-DCB   +           DC    AL3(1)         EODAD (END OF DATA ROUTINE ADDRESS)
 000A64 00                         15018  1 01-DCB   +           DC    BL1'00000000'  RECFM (RECORD FORMAT)
 000A65 000000                     15019  1 01-DCB   +           DC    AL3(0)         EXLST (EXIT LIST ADDRESS)
                                   15020  1          +*                       FOUNDATION BLOCK
 000A68 C4E4D4D4E8404040           15021  1 01-DCB   +           DC    CL8'DUMMY'     DDNAME
 000A70 02                         15022  1 01-DCB   +           DC    BL1'00000010'  OFLGS (OPEN FLAGS)
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   40
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000A71 00                         15023  1 01-DCB   +           DC    BL1'00000000'  IFLGS (IOS FLAGS)
 000A72 2424                       15024  1 01-DCB   +           DC    BL2'0010010000100100' MACR (MACRO FORMAT)
                                   15025  1          +*                       BSAM-BPAM-QSAM INTERFACE
 000A74 00                         15026  1 01-DCB   +           DC    BL1'00000000'  OPTCD, OPTION CODES
 000A75 000001                     15027  1 01-DCB   +           DC    AL3(1)         CHECK OR INTERNAL QSAM SYNCHRONIZING RTN.
 000A78 00000001                   15028  1 01-DCB   +           DC    A(1)           SYNAD, SYNCHRONOUS ERROR RTN. (3 BYTES)
 000A7C 0000                       15029  1 01-DCB   +           DC    H'0'           INTERNAL ACCESS METHOD FLAGS
 000A7E 0000                       15030  1 01-DCB   +           DC    AL2(0)         BLKSIZE, BLOCK SIZE
 000A80 00000000                   15031  1 01-DCB   +           DC    F'0'           INTERNAL ACCESS METHOD FLAGS
 000A84 00000001                   15032  1 01-DCB   +           DC    A(1)           INTERNAL ACCESS METHOD USE
                                   15033  1          +*                         BSAM-BPAM INTERFACE
 000A88 00                         15034  1 01-DCB   +           DC    AL1(0)         NCP, MAX NUM OF OUTSTANDING READ/WRITES
 000A89 000001                     15035  1 01-DCB   +           DC    AL3(1)         EOBR, INTERNAL ACCESS METHOD USE
 000A8C 00000001                   15036  1 01-DCB   +           DC    A(1)           EOBW, INTERNAL ACCESS METHOD USE
 000A90 0000                       15037  1 01-DCB   +           DC    AL1(0,0)       FLAGS AND EITHER DIRCT OR BUFOFF
 000A92 0000                       15038  1 01-DCB   +           DC    AL2(0)         LRECL
 000A94 00000001                   15039  1 01-DCB   +           DC    A(1)           CNTRL, NOTE, POINT
0000A98                00A98 00AA0 15041  1 00290000 =           ORG   ,                   origin back out
-                                  15043  1 00292000 =           READ  OSFDECB,SF,,,'S',,MF=L
 000AA0 00000000                   15045  1 02-IHBRD +OSFDECB    DC    F'0'                              EVENT CONTROL BLOCK
 000AA4 80                         15046  1 02-IHBRD +           DC    X'80'                             TYPE FIELD
 000AA5 80                         15047  1 02-IHBRD +           DC    X'80'                             TYPE FIELD
 000AA6 0000                       15048  1 02-IHBRD +           DC    AL2(0)                            LENGTH
 000AA8 00000000                   15049  1 02-IHBRD +           DC    A(0)                              DCB ADDRESS
 000AAC 00000000                   15050  1 02-IHBRD +           DC    A(0)                              AREA ADDRESS
 000AB0 00000000                   15051  1 02-IHBRD +           DC    A(0)                              RECORD POINTER WORD
-000AB4 00000000                          1
 000AB8                            15053  1 00294000 =           DC    0D'0'               Maintain double word boundary
 000AB8 0000000000000000           15054  1 00295000 =OSFFMT1    DC    XL140'00'           Format 1 DSCB area
 000B44 0000000000000000           15055  1 00296000 =OSFFMT3    DC    XL140'00'           Format 3 DSCB area
 000BD0 0000000000000000           15056  1 00297000 =OSFFMT4    DC    XL140'00'           Format 4 DSCB area
 000C5C 0000000000000000           15057  1 00298000 =OSFDSCWK   DC    XL140'00'           work area for OBTAIN
-000CE8                            15059  1 00300000 =           DC    0D'0'
 000CE8 0000000000000000           15060  1 00301000 =OSFPDS     DC    XL76'00'            PDS directory entry area
                                   15061= 1 00302000 =           ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15062= 1 00303000 =           Ÿ  Catalog work area.  Used by various catalog lookup  Ÿ
                                   15063= 1 00304000 =           Ÿ  routines.                                           Ÿ
                                   15064= 1 00305000 =           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
 000D34 00000000                          1
 000D38                            15065  1 00306000 =           DC    0D'0'               Maintain double word boundary
 000D38 0000000000000000           15066  1 00307000 =OSFCATWK   DC    265X'00'            Catalog work area
                                   15067  1 00308000 =OSFCATCT   EQU   OSFCATWK,2,C'H'     volume list entry count
                                   15068  1 00309000 =OSFCATVL   EQU   OSFCATWK+2,12,C'X'  volume list (first entry)
                                   15069  1 00310000 =OSFCATVU   EQU   OSFCATWK+2,4,C'X'   UCBTYPE in first entry
                                   15070  1 00311000 =OSFCATVV   EQU   OSFCATWK+6,6,C'C'   VOLSER in first entry
 000E41 00000000000000                    1
 000E48 0000000000000000           15071  1 00312000 =OSFMISCD   DC    2D'0'               align, and a nice doubleword
 000E58 0000000000000000           15072  1 00313000 =CATPL      DC    XL32'00'            Catalog parameter list
 000E78 0000000000000000           15073  1 00314000 =CATSMALL   DC    XL16'00'            WORK AREA FOR SUPERLOCATE
1FILESHOW (FILE7022) (10:07) (06JUN02) Wings: Disk I/O support: Task vector table                                           Page   41
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000E88                            15074  1 00315000 =           DC    0D'0'               Maintain double word boundary
0000E88 0000000000000000           15076  1 00317000 =OSFCAMCT   DC    5A(0)               Reserve space for general camlst
 000E9C 0000000000000000           15077  1 00318000 =OSFENQL    DC    XL12'00'            Reserve space for enq/deq list
 000EA8                00EA8 00E88 15078  1 00319000 =           ORG   OSFCAMCT            Origin back to work space
                                   15079  1 00320000 =OSFCAMF2   EQU   OSFCAMCT+2,1,C'X'   byte 2 of flags
                                   15080  1 00321000 =CAMSCOVR   EQU   X'10'               OVRD (override expdt) option
                                   15081  1 00322000 =CAMSCERA   EQU   X'04'               erase allocated space option
0000E88                            15083  1 00324000 =           DC    0F'0'               align
                                   15084  1 00325000 =OSFTRKL    TRKCALC FUNCTN=TRKCAP,UCB=*-*,RKDD=*-*,MF=L
 000E88 00000000                   15085  1 01-TRKCA +OSFTRKL    DC    A(0)                     DVCT OR UCB ADDR, OR DEVTYPE
 000E8C 00                         15086  1 01-TRKCA +           DC    X'00'                    FLAG BYTE
 000E8D 00                         15087  1 01-TRKCA +           DC    X'00'                    RESERVED
 000E8E 0000                       15088  1 01-TRKCA +           DC    AL2(0)                   TRACK BALANCE
 000E90 00                         15089  1 01-TRKCA +           DC    AL1(0)                   RECORD NUMBER
 000E91 00                         15090  1 01-TRKCA +           DC    AL1(0)                   KEY LENGTH
 000E92 0000                       15091  1 01-TRKCA +           DC    AL2(0)                   DATA LENGTH
 000E94                00E94 00E88 15092  1 00326000 =           ORG   OSFCAMCT            Origin back for work space
0                                  15094  1 00328000 =OSFLSPC    LSPACE MF=L               Generate parameter list
 000E88                            15095  1 01-LSPAC +           DS    0F                                                  @L1M
 000E88 D3E2D7C1                   15096  1 01-LSPAC +OSFLSPC    DC    CL4'LSPA'                EBCDIC 'LSPA' FOR LSPACE
 000E8C 0018                       15097  1 01-LSPAC +           DC    AL2(LSPA896E-OSFLSPC)    LENGTH OF PARAMETER LIST
 000E8E 00                         15098  1 01-LSPAC +           DC    AL1(0)                   PARAMETER FLAG BYTE        @L1C
 000E8F 00                         15099  1 01-LSPAC +           DC    XL1'00'                  TIMEOUT VAL 1ST LSPACE I/O @L4A
 000E90                            15100  1 01-LSPAC +           DS    0F                       DIAGNOSTIC INFORMATION     @L1A
 000E90 00                         15101  1 01-LSPAC +           DC    XL1'00'                  LSPACE RETURN CODE         @L1C
 000E91 00                         15102  1 01-LSPAC +           DC    XL1'00'                  SUBFUNCTION ID             @L1A
 000E92 00                         15103  1 01-LSPAC +           DC    XL1'00'                  SUBFUNCTION RETURN CODE    @L1A
 000E93 00                         15104  1 01-LSPAC +           DC    XL1'00'                  SUBFUNCTION REASON CODE    @L1A
 000E94 00000000                   15105  1 01-LSPAC +           DC    A(0)                     UCB ADDRESS                @L1C
 000E98 00000000                   15106  1 01-LSPAC +           DC    A(0)                     ADDR OF EXPMSG,MSG OR DATA @L1C
                                   15107  1          +*                                         RETURN AREA (OR ZERO)    @L1C
 000E9C 00000000                   15108  1 01-LSPAC +           DC    A(0)                     ADDRESS OF FORMAT 4 DSCB   @L1A
                                   15109  1          +*                                         RETURN AREA (OR ZERO)    @L1A
                                   15110  1 01-LSPAC +LSPA896E    EQU  *                        END OF PARAMETER LIST
 000EA0                00EA0 00EA8 15111  1 00329000 =           ORG   ,                   ORIGIN BACK OUT
0000EA8                            15113  1 00331000 =           DC    0F'0'               align
 000EA8 0000000000000000           15114  1 00332000 =TVTEMBFA   DC    XL24'00'            parm list for IEFDB476
 000EC0 00000000                   15115  1 00333000 =TVTEMBFP   DC    A(0)                ->formatted msg area
 000EC4 0000                       15116  1 00334000 =TVTEMBFL   DC    H'0'                length of msg area
 000EC6 0000                       15117  1 00335000 =TVTEMBFC   DC    H'0'                Number of messages
0000EC8                            15119  1 00337000 =           DC    0D'0'               Origin to double-word boundary
                                   15120  1 00338000 =OSFCBLEN   EQU   *-OSFCBST,4,C'N'    Length of OSF control blocks
                                   15121  1 00339000 =*
                                   15122  1 00340000 =*
                                   15123  1 00341000 =TVTSIZE    EQU   *-TVTSTART          GENERATE TVT LENGTH
 000EC8                00EC8 00EC8 15124    00160000           END
1FILESHOW (FILE7022) (10:07) (06JUN02) Show Catalog                                                                         Page   42
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15134    00162000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   15135    00163000  Ÿ  SHOW CATALOG - display catalog/dsn info                            Ÿ
                                   15136    00164000  Ÿ  On entry:   R15 ->SEGCB                                            Ÿ
                                   15137    00165000  Ÿ              R1=FSHOAREA area                                       Ÿ
                                   15138    00166000  Ÿ                                                                     Ÿ
                                   15139    00167000  Ÿ  On exit:  RC=0 normal                                              Ÿ
                                   15140    00168000  Ÿ               4 invalid node ?                                      Ÿ
                                   15141    00169000  Ÿ               8 catalog error?                                      Ÿ
                                   15142    00170000  Ÿ  info seg'd.                                                        Ÿ
                                   15143    00171000  Ÿ                                                                     Ÿ
                                   15144    00172000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000017                00000 01F6C 15146    00174000  FILESHOW CSECT ,                   resume control section
 USING  GVT,R12                    15148    00175000           USING GVT                 Global vector table ptr
 USING  TVT,R11                    15157    00176000           USING TVT                 Task vector table
0000018 90DF B0D4            000D4 15167    00178000  SHOWCAT  XPROC
 00001C 58F0 C014/0DEF       00014 15179             +
 000022 E2C8D6E6C3C1E340           15181             +
 00002A 98DF B0D4            000D4 15182             +
 00002E 50E0 D000            00000 15185             +
 000032 900C D004/188D       00004 15188             +
 000038 41D0 D038/0DA0       00038 15190             +
 00003E 1891                       15213    00179000           LR    R9,R1               Save parm pointer
 USING  *,R10
 USING  FSHOAREA,R9                15214    00180000           USING FSHOAREA,R9
 000040 50F0 9150            00150 15223    00181000           ST    R15,SEGSAVE         Save seg ptr.
                                   15224    00182000           SEGDEF L:SEGSAVE
 000044 4840 9090            00090 15225    00183000           LH    R4,FSHO#LIK         Save length
 000048 4240 90A0            000A0 15226    00184000           STC   R4,#USERNOD         Save for svc26 parmlist
 00004C D22A 90A1 9038 000A1 00038 15227    00185000           MVC   USERNODE,FSHOLIKE
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read catalog                                                         Page   43
0Current Usings:  (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000052 5800 9000            00000 15229    00186100           L     R0,FSHOMAXN         MAXNAMES value
 000056 4C00 A3DE            0041C 15230    00186200           MH    R0,=H'45'           bytes per name
 00005A 5900 AB42            00B80 15231    00186300           IF    (R0,LT,S26SZMIN),'L R0,S26SZMIN'  minimum
 00005E 47B0 A028            00066 15243             +
 000062 5800 AB42            00B80 15249             +
 000066 A02C           00066 00060 15254    00186400           ELSEIF (R0,GT,S26SZMAX),'L R0,S26SZMAX' maximum
 000066 47F0 A038            00076 15260             +
 00006A 5900 AB46            00B84 15274             +
 00006E 47D0 A038            00076 15275             +
 000072 5800 AB46            00B84 15281             +
 000076 5000 914C            0014C 15286    00186500           ST    R0,S26SIZE          Amount to get
 00007A 5800 A39A            003D8 15287    00187000  CMDSET   L     R0,=A(VOLBUFL)          L'VOL work area
 00007E 58E0 A39E/0DEE       003DC 15288    00188000           VCALL GETLOW              **AREA MUST BE BELOW!!!!!**
 000084 5010 B990            00990 15292    00189000           ST    R1,TVTFSWKA1        save pointer
 000088 58F0 B178            00178 15293    00190000           RECVRY ROUT=S26WFREE      and free it on closeup
 00008C 58E0 A3A2            003E0 15295             +
 000090 41F0 F004            00004 15296             +
 000094 D503 F000 A3A6 00000 003E4 15297             +
 00009A 4770 A064            000A2 15304             +
 00009E 47F0 ACDA            00D18 15310             +
 0000A2 50EF B178            00178 15315             +
 0000A6 50F0 B178            00178 15316             +
0                                  15318    00192000  *  Now, get an area for the dsname list.
00000AA 9110 B98D      0098D       15320    00194000           IF    ~FSHOONLY,BEGIN     not ONLY but should it be?
 0000AE 4710 A082            000C0 15330             +
 0000B2 DD2A 90A1 AB7A 000A1 00BB8 15335  1 00195000             TRT   USERNODE,$PAREN     Look for DSN(gen) i.e. GDG memb
 0000B8 4780 A082            000C0 15336  1 00196000             IF    NZ,'SET FSHOONLY'   if so can only be one, and
 0000BC 9610 B98D      0098D       15353  1          +
                                   15358  1 00197000  *                                  generic superloc won't find it
 0000C0                            15359    00198000           END   ,                      (not ONLY)
00000C0 9110 B98D      0098D       15364    00200000           IF    FSHOONLY,BEGIN      SHO DSN ONLY xxx: just 1 ds
 0000C4 47E0 A09A            000D8 15374             +
 0000C8                            15379  1 00201000             CLEAR TVTFSWKA2           show no dynamic area
 0000C8 D703 B994 B994 00994 00994 15385  1          +
                                   15386  1 00202000  * fake up a dataset entry
 0000CE 92C1 90CC      000CC       15387  1 00203000             MVI   FSHOODST,C'A'       data set type
 0000D2 D22B 90CD 9038 000CD 00038 15388  1 00204000             MVC   FSHOODSN,FSHOLIKE   dsname
 0000D8                            15389    00205000           END   ,                     (ONLY)
00000D8 A09E           000D8 000C6 15394    00207000           ELSE  BEGIN               not SHO DSN ONLY xxx - scan
 0000D8 47F0 A0AC            000EA 15399             +
 0000DC 5800 914C            0014C 15405  1 00208000             L     R0,S26SIZE          Size to get
 0000E0 58E0 A39E/0DEE       003DC 15406  1 00209000             VCALL GETLOW              must be below!
 0000E6 5010 B994            00994 15410  1 00210000             ST    R1,TVTFSWKA2        Save pointer
0                                  15412  1 00212000  **-      IF    (R15,NZ),BEGIN      no core
                                   15413  1 00213000  **? GETLOW is unconditional getmain...
                                   15414  1 00214000  **-     SEG   'ERRID=WYLBUG ERRMSG=''ERROR: FILESHOW could not get wor*
                                   15415  1 00215000  **-            karea '''
                                   15416  1 00216000  **-      SEGWR ,
                                   15417  1 00217000  **-      LA    R15,20              RC
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read catalog                                                         Page   44
0Current Usings:  (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  15418  1 00218000  **-      EXIT  SHOWCAT
                                   15419  1 00219000  **-      END   ,                   (no core)
 0000EA                            15420    00220000           END   ,                     (not ONLY)
0                                  15425    00222000  *  following from PJG's SVC26 research..........
                                   15426    00223000  *  ok -- here is the start of the good stuff
                                   15427    00224000  *        it might not seem like it but the return codes from
                                   15428    00225000  *        svc 26 are documented under message idc3009i.  reason
                                   15429    00226000  *        codes are provided only under idcams i beleive.  basically
                                   15430    00227000  *        return codes are as follows:
                                   15431    00228000  *               8  -  data set not found
                                   15432    00229000  *              40  -  work area too small
                                   15433    00230000  *              44  -  work area too small
                                   15434    00231000  *
                                   15435    00232000  *        any others are abnormal.
                                   15436    00233000  *
                                   15437    00234000  *  General setup, used even if we don't do catalog scan:
                                   15438    00235000  *
 0000EA 4160 BE58            00E58 15439    00236000           LA    R6,CATPL            Address of catalog parameter list
 USING  CTGPL,R6                   15440    00237000           USING CTGPL,R6            ## addr to catalog parm list
 0000EE D71F BE58 BE58 00E58 00E58 15449    00238000           XC    CATPL,CATPL         Zero out catalog parm list
 0000F4 9604 6000      00000       15450    00239000           OI    CTGOPTN1,CTGNAME    Set data set name provided
 0000F8 9602 6000      00000       15451    00240000           OI    CTGOPTN1,CTGCNAME   Not sure
 0000FC 9601 6000      00000       15452    00241000           OI    CTGOPTN1,CTGGENLD   Set "generic" locate requested
0000100 9110 B98D      0098D       15454    00243000           IF    ~FSHOONLY,BEGIN     not ONLY, scan catalog
 000104 4710 A1FA            00238 15464             +
                                   15469  1 00244000  *  Set up for catalog scan
 000108 9620 6001      00001       15470  1 00245000             OI    CTGOPTN2,CTGRCATN   Return catalog name
 00010C 9610 6002      00002       15471  1 00246000             OI    CTGOPTN3,CTGSUPLT   This is a "superlocate" request
 000110 9601 6002      00002       15472  1 00247000             OI    CTGOPTN3,CTGAM0     This is a vsam request
 000114 9610 6003      00003       15473  1 00248000             OI    CTGOPTN4,CTGCOIN    Request controller intercept
 000118 4110 90A0            000A0 15474  1 00249000             LA    R1,#USERNOD         Address of our dsn stem(incl len)
 00011C 5010 6004            00004 15475  1 00250000             ST    R1,CTGENT           Save in catalog entry
 000120 9604 6010      00010       15476  1 00251000             OI    CTGDSORG,CTGF2WKA   Set "format 2" workarea format
                                   15477  1 00252000  **-?     XC    CVOL,CVOL           Clear control volume area
 000124 58E0 A3AA/0DEE       003E8 15478  1 00253000             ACALL DSNCLR              Set up work area
 00012A 5820 B994            00994 15482  1 00254000             L     R2,TVTFSWKA2        ADDRESS OF WORKAREA
 00012E 5020 600C            0000C 15483  1 00255000             ST    R2,CTGWKA           SAVE INTO CATALOG PARM LIST
 000132 1816                       15484  1 00256000             LR    R1,R6               -->Parm list
0000134 0A1A                       15486  1 00258000             SVC   26                  DO IT!
0000136 50F0 909C            0009C 15488  1 00260000             ST    R15,RC26            Save return code
 00013A 12FF                       15489  1 00261000             LTR   R15,R15             Return Code
 00013C 4780 A1D0            0020E 15490  1 00262000             BZ    GOTNAMES            OK
                                   15491  1 00263000  *  Non-zero return code.
 000140 59F0 A3AE            003EC 15492  1 00264000             IF    ((R15,EQ,40),OR,(R15,EQ,44)),BEGIN
 000144 4780 A112            00150 15508  1          +
 000148 59F0 A3B2            003F0 15519  1          +
 00014C 4770 A15C            0019A 15520  1          +
                                   15525  2 00265000               SEGDEF DUMMY
 000150 41F0 B564            00564 15526  2 00266000               SEGCLR ERRSCB             Clear error seg control block
 000154 58E0 A3B6/0DEE       003F4 15537  2          +
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read catalog                                                         Page   45
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000015A 4110 A372            003B0 15539  2 00267000               SEG   'ERRID=SHOWFAIL ERRMSG=''FILESHOW ERROR:  '
 00015E 4100 0028            00028 15543  2          +
 000162 41F0 B564            00564 15551  2          +
 000166 58E0 A3BA/0DEE       003F8 15554  2          +
 00016C 4110 A3F2            00430 15556  2 00268000               SEG   'Too many names, work area overflow'''
 000170 4100 0023            00023 15560  2          +
 000174 41F0 B564            00564 15568  2          +
 000178 58E0 A3BA/0DEE       003F8 15571  2          +
 00017E 9610 B4B1      004B1       15573  2 00269000               SET   TERRMSG
 000182 41F0 0004            00004 15579  2 00270000               LA    R15,4               revised RC
 000186 50F0 9098            00098 15580  2 00271000               ST    R15,FSHORCOD        save rc
 00018A 5820 B994            00994 15581  2 00272000               L     R2,TVTFSWKA2        ->work area
 00018E 5810 914C            0014C 15582  2 00273000               L     R1,S26SIZE          area size
 000192 5B10 A3BE            003FC 15583  2 00274000               S     R1,=F'53'           Less 8-byte prefix +phony dsn
                                   15584  2 00275000  *  we'll calc. #nlist based on what fit, area will have actual no.
                                   15585  2 00276000  *  found and we don't have all of them...
 000196 47F0 A1E0            0021E 15586  2 00277000               B     GOTNAME2            and process what we got
                                   15587  2 00278000  *        OSFILE will send error msg at end of name info...
 00019A                            15588  1 00279000             END   ,                   (40 or 44)
 00019A A160           0019A 0014E 15592  1 00280000             ELSEIF (R15,EQ,8),BEGIN   No entries
 00019A 47F0 A16C            001AA 15598  1          +
 00019E 59F0 A3C2            00400 15612  1          +
 0001A2 4770 A16C            001AA 15613  1          +
 0001A6 47F0 A332            00370 15618  2 00281000               B     X#DSL               so just quit
 0001AA                            15619  1 00282000             END   ,                   (no entries)
 0001AA A170           001AA 001A4 15623  1 00283000             ELSE BEGIN                other non-zero is strange
 0001AA 47F0 A1D0            0020E 15628  1          +
 0001AE 183F                       15634  2 00284000               LR    R3,R15              Save the bad RC
 0001B0 41F0 B564            00564 15635  2 00285000               SEGCLR ERRSCB             Clear error seg control block
 0001B4 58E0 A3B6/0DEE       003F4 15646  2          +
 0001BA 4110 A415            00453 15648  2 00286000               SEG   'ERRID=SHOWFAIL ERRMSG='''
 0001BE 4100 0017            00017 15652  2          +
 0001C2 41F0 B564            00564 15660  2          +
 0001C6 58E0 A3BA/0DEE       003F8 15663  2          +
 0001CC 4110 A42C            0046A 15665  2 00287000               SEG   'FILESHOW ERROR: unexpected return code '
 0001D0 4100 0027            00027 15669  2          +
 0001D4 41F0 B564            00564 15677  2          +
 0001D8 58E0 A3BA/0DEE       003F8 15680  2          +
 0001DE 1813/1B00                  15682  2 00288000               SEGDC (R3)                the RC
 0001E2 41F0 B564            00564 15698  2          +
 0001E6 58E0 A3C6/0DEE       00404 15701  2          +
 0001EC 4110 A3E0            0041E 15703  2 00289000               SEG   ' from SUPERLOCATE'''
 0001F0 4100 0012            00012 15707  2          +
 0001F4 41F0 B564            00564 15715  2          +
 0001F8 58E0 A3BA/0DEE       003F8 15718  2          +
 0001FE 9610 B4B1      004B1       15720  2 00290000               SET   TERRMSG
 000202 41F0 000C            0000C 15726  2 00291000               LA    R15,12              RC
 000206 50F0 9098            00098 15727  2 00292000               ST    R15,FSHORCOD        save it
 00020A 47F0 A332            00370 15728  2 00293000               B     X#DSL               and quit
 00020E                            15729  1 00294000             END   ,                      (other non-zero)
000020E 5820 B994            00994 15734  1 00296000  GOTNAMES   L     R2,TVTFSWKA2        ->Work area
 000212 5812 0004            00004 15735  1 00297000             L     R1,4(R2)            Length used in work area
 000216 5B10 A3BE            003FC 15736  1 00298000             S     R1,=F'53'           Less 8-byte prefix +phony dsn
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read catalog                                                         Page   46
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000021A 47D0 A332            00370 15737  1 00299000             IF    NP,X#DSL            If nothing left, no names
 00021E 1B00                       15751  1 00300000  GOTNAME2   SR    R0,R0
 000220 5D00 A3CA            00408 15752  1 00301000             D     R0,=F'45'           length/(bytes per entry)=entries
 000224 5010 9094            00094 15753  1 00302000             ST    R1,#NLIST           Save number of entries
 000228 947F 90F9      000F9       15754  1 00303000             CLEAR FSHOGOT1            haven't found a useful one yet
 00022C 94BF 90F9      000F9       15761  1 00304000             CLEAR FSHOFAKE
0000230 4132 0035            00035 15769  1 00306000             LA    R3,53(R2)           -->first data set name
 000234 5850 9094            00094 15770  1 00307000             L     R5,#NLIST           Number of names
 000238                            15771    00308000           END   ,                     (not ONLY, scan catlg)
 000238 A1FE           00238 00106 15775    00309000           ELSE  BEGIN               ONLY dsn
 000238 47F0 A206            00244 15780             +
 00023C 4130 90CC            000CC 15786  1 00310000             LA    R3,FSHOODST         ->fake entry for desired file
 000240 4150 0001            00001 15787  1 00311000             LA    R5,1                Number of entries
 000244                            15788    00312000           END   ,                     (ONLY)
-                                  15793    00314000  *  Now go thru name list.
                                   15794    00315000  *  R3-->Name entry   +0=entry type  +1=name
                                   15795    00316000  *  R5 = loop counter (decremented)
                                   15796    00317000           SEGDEF L:SEGSAVE
0000244 D52B 900C 3001 0000C 00001 15798    00319000  DSLOOP   CLC   FSHOFROM,@R3+1      FROM name
 00024A 4720 A30A            00348 15799    00320000           IF    H,E#DSL             if below FROM, next entry
 00024E D52B 9064 3001 00064 00001 15813    00321000           CLC   FSHOTO,@R3+1        TO name
 000254 4740 A332            00370 15814    00322000           IF    L,X#DSL             if above TO, done
 000258 95F0 3000      00000       15828    00323000           CLI   @R3,C'0'
 00025C 47B0 A30A            00348 15829    00324000           IF    NL,E#DSL            forget this one...
                                   15843    00325000C          IF    ((FSHOTYPD,OR,FSHOTYPT),AND,((@R3,EQ,C'A'),OR,
                                            00326000C                (@R3,EQ,C'0'),OR,(@R3,EQ,C'D'),OR,(@R3,EQ,C'I'),OR,
 000260 9180 B98D      0098D                00327000                 (@R3,EQ,C'C'),OR,(@R3,EQ,C'U'))),BEGIN  can get vollist
 000264 4710 A232            00270 15859             +
 000268 9140 B98D      0098D       15868             +
 00026C 47E0 A2BA            002F8 15869             +
 000270 95C1 3000      00000       15883             +
 000274 4780 A262            002A0 15886             +
 000278 95F0 3000      00000       15896             +
 00027C 4780 A262            002A0 15899             +
 000280 95C4 3000      00000       15909             +
 000284 4780 A262            002A0 15912             +
 000288 95C9 3000      00000       15922             +
 00028C 4780 A262            002A0 15925             +
 000290 95C3 3000      00000       15935             +
 000294 4780 A262            002A0 15938             +
 000298 95E4 3000      00000       15948             +
 00029C 4770 A2BA            002F8 15949             +
00002A0 95F0 3000      00000       15955  1 00329000             IF    (@R3,NE,C'0'),'SET FSHOGOT1'  found real entry
 0002A4 4780 A26E            002AC 15966  1          +
 0002A8 9680 90F9      000F9       15977  1          +
 0002AC 9180 B98C      0098C       15982  1 00330000             IF    (FSHOWVOL,OR,FSHOONLY),BEGIN  want unit/vol info;
 0002B0 4710 A27E            002BC 15996  1          +
 0002B4 9110 B98D      0098D       16005  1          +
 0002B8 47E0 A284            002C2 16006  1          +
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read catalog                                                         Page   47
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16011  2 00331000  *                                  for ONLY, verify entry exists
 0002BC 58E0 A3CE/0DEE       0040C 16012  2 00332000               ACALL SUPLOC              Get entry and print msgs
 0002C2                            16016  1 00333000             END   ,                      (unit/vol info)
 0002C2 A288           002C2 002BA 16020  1 00334000             ELSE  BEGIN               only dsn info wanted
 0002C2 47F0 A2B6            002F4 16025  1          +
 0002C6 1813/4100 0001       00001 16031  2 00335000               SEGB  @R3,1               Entry type
 0002CC 58F0 9150            00150 16054  2          +
 0002D0 58E0 A3D2/0DEE       00410 16057  2          +
 0002D6 4110 3001            00001 16059  2 00336000               SEG   @R3+1,44            DSN to msg
 0002DA 4100 002C            0002C 16075  2          +
 0002DE 58F0 9150            00150 16081  2          +
 0002E2 58E0 A3BA/0DEE       003F8 16084  2          +
 0002E8 1B00/58F0 9150       00150 16086  2 00337000               SEGWR ,
 0002EE 58E0 A3D6/0DEE       00414 16106  2          +
 0002F4                            16108  1 00338000             END   ,                      (only dsn)
 0002F4 47F0 A30A            00348 16112  1 00339000             B     E#DSL               Loop back as usual
 0002F8                            16113    00340000           END   ,                      (can get vollist)
00002F8 95C2 3000      00000       16118    00342000           CLI   @R3,C'B'            GDG base or other
 0002FC 4750 A30A            00348 16119    00343000           IF    (GE,AND,FSHOTYPG),BEGIN   do non-ds entry
 000300 9120 B98D      0098D       16138             +
 000304 47E0 A30A            00348 16139             +
 000308 95C2 3000      00000       16144  1 00344000             CLI   @R3,C'B'            GDG base  ?
 00030C 4770 A2D8            00316 16145  1 00345000             IF    EQ,BEGIN            GDG base yes
 000310 58E0 A3CE/0DEE       0040C 16156  2 00346000               ACALL SUPLOC              get GDG info and write
 000316                            16160  1 00347000             END   ,                     (do GDG base)
0000316 A2DC           00316 0030E 16165  1 00349000             ELSE  BEGIN               non-dataset non-GDG
 000316 47F0 A30A            00348 16170  1          +
 00031A 1813/4100 0001       00001 16176  2 00350000               SEGB  @R3,1               Entry type
 000320 58F0 9150            00150 16199  2          +
 000324 58E0 A3D2/0DEE       00410 16202  2          +
 00032A 4110 3001            00001 16204  2 00351000               SEG   @R3+1,44            DSN to msg
 00032E 4100 002C            0002C 16220  2          +
 000332 58F0 9150            00150 16226  2          +
 000336 58E0 A3BA/0DEE       003F8 16229  2          +
 00033C 1B00/58F0 9150       00150 16231  2 00352000               SEGWR ,
 000342 58E0 A3D6/0DEE       00414 16251  2          +
 000348                            16253  1 00353000             END   ,                      (non-ds non-gdg)
 000348                            16257    00354000           END   ,                      (non-ds entry)
0000348 4133 002D            0002D 16262    00356000  E#DSL    LA    R3,45(R3)           -->Next entry
 00034C 4650 A206            00244 16263    00357000           BCT   R5,DSLOOP
0000350 9180 90F9      000F9       16265    00359000           IF    ~FSHOGOT1,BEGIN     didn't find any useful stuff
 000354 4710 A332            00370 16275             +
                                   16280  1 00360000  *                                  i.e. just had alias ptrs etc.
                                   16281  1 00361000  * this might be a gdg member; fake up a dataset entry, try specific
 000358 92C1 90CC      000CC       16282  1 00362000             MVI   FSHOODST,C'A'       data set type
 00035C D22B 90CD 9038 000CD 00038 16283  1 00363000             MVC   FSHOODSN,FSHOLIKE   dsname
 000362 4130 90CC            000CC 16284  1 00364000             LA    R3,FSHOODST         ->type/name
 000366 9640 90F9      000F9       16285  1 00365000             SET   FSHOFAKE            sho fake entry
 00036A 58E0 A3CE/0DEE       0040C 16291  1 00366000             ACALL SUPLOC              go get info
 000370                            16295    00367000           END   ,                      (didn't find any)
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read catalog                                                         Page   48
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000370 5810 B994            00994 16300    00369000  X#DSL    L     R1,TVTFSWKA2        ->DSN buffer
 000374 1211/4780 A348       00386 16301    00370000           IF    (R1,NZ),BEGIN       if present
 00037A 58E0 A3DA/0DEE       00418 16315  1 00371000             XCALL FREECORE
 000380                            16319  1 00372000             CLEAR TVTFSWKA2
 000380 D703 B994 B994 00994 00994 16325  1          +
 000386                            16326    00373000           END   ,                      (DSN buffer present)
 000386 5810 B990            00990 16330    00374000           L     R1,TVTFSWKA1        ->volume list buffer
 00038A 1211/4780 A35E       0039C 16331    00375000           IF    (R1,NZ),BEGIN
 000390 58E0 A3DA/0DEE       00418 16345  1 00376000             XCALL FREECORE
 000396                            16349  1 00377000             CLEAR TVTFSWKA1
 000396 D703 B990 B990 00990 00990 16355  1          +
 00039C                            16356    00378000           END   ,                      (vollist buffer present)
000039C 58F0 9098            00098 16361    00380000           L     R15,FSHORCOD        Return Code
 0003A0 18D8/980C D004       00004 16362    00381000           PEND  ,                      (SHOWCAT)
 DROP   *,R10
 0003A6 58E0 D000/12FF       00000 16378             +
 0003AC 07FE                       16381             +
 0003B0                            16382    00382000           LTORG ,
 0003B0 C5D9D9C9C47EE2C8           16384                             =C'ERRID=SHOWFAIL ERRMSG=''FILESHOW ERROR:  '
 0003D8 00001000                   16385                             =A(VOLBUFL)
 0003DC 00000000                   16386                             =V(GETLOW)
 0003E0 00000CB8                   16387                             =A(S26WFREE)
 0003E4 FFFFFFFF                   16388                             =A(-1)
 0003E8 00000B2C                   16389                             =A(DSNCLR)
 0003EC 00000028                   16390                             =A(40)
 0003F0 0000002C                   16391                             =A(44)
 0003F4 00000000                   16392                             =V(SEGCLR)
 0003F8 00000000                   16393                             =V(SEG)
 0003FC 00000035                   16394                             =F'53'
 000400 00000008                   16395                             =A(8)
 000404 00000000                   16396                             =V(SEGDC)
 000408 0000002D                   16397                             =F'45'
 00040C 00000492                   16398                             =A(SUPLOC)
 000410 00000000                   16399                             =V(SEGB)
 000414 00000000                   16400                             =V(SEGWR)
 000418 00000000                   16401                             =V(FREECORE)
 00041C 002D                       16402                             =H'45'
 00041E 408699969440E2E4           16403                             =C' from SUPERLOCATE'''
 000430 E3969640948195A8           16404                             =C'Too many names, work area overflow'''
 000453 C5D9D9C9C47EE2C8           16405                             =C'ERRID=SHOWFAIL ERRMSG='''
 00046A C6C9D3C5E2C8D6E6           16406                             =C'FILESHOW ERROR: unexpected return code '
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   49
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0
 000000                00000 00144 16412    00385000  SUPWK    RECORD BEGIN
 000000                            16420  1 00386000  SUP@DS     DS    A
 000004                            16421  1 00387000  SUPVOLCT   DS    H
 000006                            16422  1 00388000  SUPDTYP    DS    CL10
                                   16423  1 00389000  SUPTTYP    EQU   SUPDTYP+4,6
 000010                            16424  1 00390000  SUPDEVRC   DS    9F                  FSDEVREC area
0000034                            16426  1 00392000  WK20       DS    CL20
0000048                            16428  1 00394000  SUPCAMCT   DS    4F                  CAMLST for standard locate
0                                  16430  1 00396000  DSNREC     EQU   *                   Dataset information record
                                   16431  1 00397000             COPY  DSNINFO
                                   16432  1 00001000 =*********************************************************************
                                   16433  1 00002000 =*                                                                   *
                                   16434  1 00003000 =* This record describes the layout of a line received from the      *
                                   16435  1 00004000 =* WINGS FILESHOW command sent by WYLBUR (for SHOW DSNAMES and       *
                                   16436  1 00005000 =* SHOW CAT).                                                        *
                                   16437  1 00006000 =*                                                                   *
                                   16438  1 00006500 =* revised 1996/11/25 mcl  SMS info                                  *
                                   16439  1 00006600 =* revised 1996/09/20 MCL  expiration date                           *
                                   16440  1 00007000 =* revised 1995/03/29 MCL                                            *
                                   16441  1 00008000 =*                                                                   *
                                   16442  1 00009000 =*********************************************************************
0000058                            16444  1 00011000 =DSNCATTP   DS    CL1                 Catalog entry type
                                   16445  1 00012000 =*                                      'A' - Non-VSAM dataset
                                   16446  1 00013000 =*                                      'B' - GDG Base
                                   16447  1 00014000 =*                                      'C' - VSAM cluster entry
                                   16448  1 00015000 =*                                      'D' - VSAM dataset
                                   16449  1 00016000 =*                                      'G' - Alternate index
                                   16450  1 00017000 =*                                      'I' - VSAM index
                                   16451  1 00018000 =*                                      'M' - Master catalog
                                   16452  1 00019000 =*                                      'P' - System paging space
                                   16453  1 00020000 =*                                      'R' - Path entry
                                   16454  1 00021000 =*                                      'U' - User catalog
                                   16455  1 00022000 =*                                      'V' - VSAM volume entry
                                   16456  1 00023000 =*                                      'X' - Alias name
                                   16457  1 00024000 =*                                      '+' - subsequent volume entry
                                   16458  1 00024500 =*                                      '0' - not a catalog entry
 000059                            16459  1 00025000 =DSNBLK01   DS    CL1                 Blank
 00005A                            16460  1 00026000 =DSNDSN     DS    CL44                Fully-qualified dataset name
 000086                            16461  1 00027000 =DSNVOL     DS    CL6                 Volume name
 00008C                            16462  1 00028000 =DSNBLK02   DS    CL1                 Blank
 00008D                            16463  1 00029000 =DSNDEVTP   DS    CL1                 'D' (disk) or 'T' (tape)
 00008E                            16464  1 00030000 =DSNFLSQ    DS    CL4                 File sequence number
                                   16465  1 00031000 =DSNSEQ     EQU   DSNFLSQ               ...
 000092                            16466  1 00032000 =DSNVOLCT   DS    CL3                 Volume count
                                   16467  1 00033000 =DSNVLCNT   EQU   DSNVOLCT              ...
 000095                            16468  1 00034000 =DSNBLK03   DS    CL1                 Blank
 000096                            16469  1 00035000 =DSNUCBTP   DS    CL8                 UCBTYPE info from catalog
 00009E                            16470  1 00036000 =DSNBLK04   DS    CL1                 Blank
 00009F                            16471  1 00037000 =DSNDVDES   DS    CL10                Device description
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   50
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  16472  1 00038000 =*
                                   16473  1 00039000 =* The following columns are only filled in for disks
                                   16474  1 00040000 =*
 0000A9                            16475  1 00041000 =DSNERRCD   DS    CL1                 ' ' - No problems getting info
                                   16476  1 00042000 =*                                  'M' - Volume not mounted
                                   16477  1 00043000 =*                                  'D' - DSCB not on volume
                                   16478  1 00044000 =*                                  'X' - OBTAIN error occurred
                                   16479  1 00045000 =*                                        "tracks used" contains RC
                                   16480  1 00046000 =*                                  'Z' - catalog error
                                   16481  1 00046100 =*
                                   16482  1 00047000 =*If DSNERRCD above reflects other than blank, an error occurred
                                   16483  1 00048000 =*on the OBTAIN and the following fields are blanked.
                                   16484  1 00049000 =*
 0000AA                            16485  1 00050000 =DSNTRKUS   DS    CL8                 Tracks used, as nnnnn.nn
 0000B2                            16486  1 00051000 =DSNBLK05   DS    CL1                 Blank
 0000B3                            16487  1 00052000 =DSNTRKAL   DS    CL5                 Tracks allocated
 0000B8                            16488  1 00053000 =DSNBLK06   DS    CL1                 Blank
 0000B9                            16489  1 00054000 =DSNXTNTS   DS    CL3                 Number of extents
 0000BC                            16490  1 00055000 =DSNBLK07   DS    CL1                 Blank
 0000BD                            16491  1 00056000 =DSNDSORG   DS    CL3                 DSORG
 0000C0                            16492  1 00057000 =DSNBLK08   DS    CL1                 Blank
 0000C1                            16493  1 00058000 =DSNRECFM   DS    CL5                 RECFM
 0000C6                            16494  1 00059000 =DSNBLK09   DS    CL1                 Blank
 0000C7                            16495  1 00060000 =DSNLRECL   DS    CL5                 LRECL
 0000CC                            16496  1 00061000 =DSNBLK10   DS    CL1                 Blank
 0000CD                            16497  1 00062000 =DSNBKSIZ   DS    CL5                 BLKSIZE
 0000D2                            16498  1 00063000 =DSNBLK11   DS    CL1                 Blank
 0000D3                            16499  1 00064000 =DSNKEYLN   DS    CL3                 KEYLEN
 0000D6                            16500  1 00065000 =DSNBLK12   DS    CL1                 Blank
 0000D7                            16501  1 00066000 =DSNCRDAT   DS    CL10                Creation date, yyyy/mm/dd
 0000E1                            16502  1 00067000 =DSNBLK13   DS    CL1                 Blank
 0000E2                            16503  1 00068000 =DSNLADAT   DS    CL10                Last access date, yyyy/mm/dd
 0000EC                            16504  1 00069000 =DSNBLK14   DS    CL1                 Blank
 0000ED                            16505  1 00070000 =DSNCHGED   DS    CL1                 'Y' - changed since last backup
                                   16506  1 00071000 =*                                  'N' - not
 0000EE                            16507  1 00072000 =DSNBLK15   DS    CL1                 Blank
 0000EF                            16508  1 00073000 =DSNKBYTU   DS    CL8                 space used, Kbytes
 0000F7                            16509  1 00074000 =DSNBLK16   DS    CL1                 blank
 0000F8                            16510  1 00075000 =DSNKBYTA   DS    CL8                 space allocated, Kbytes
 000100                            16511  1 00075100 =DSNBLK17   DS    CL1                 blank
 000101                            16512  1 00075200 =DSNEXPDT   DS    CL10                Expiration Date
 00010B                            16513  1 00075300 =DSNBLK18   DS    CL1                 blank
 00010C                            16514  1 00075400 =DSNSTORC   DS    CL8                 Storage class (SMS) or blank
 000114                            16515  1 00075610 =DSNMGMTC   DS    CL8                 Management Class (SMS)
 00011C                            16516  1 00075800 =DSNDATAC   DS    CL8                 Data Class (SMS)
                                   16517  1 00076000 =*  Remaining space reserved for future use
                                   16518  1 00077000 =DSNREC#    EQU   235                 length of this record
                                   16519  1 00078000 =DSNRC##    EQU   235-(*-DSNCATTP)    length of final filler
 000124                            16520  1 00079000 =DSNRESV1   DS    CL(DSNRC##)         the final filler
                                   16521  1 00080000 =DSNDSCBA   EQU   DSNTRKUS,(DSNRESV1-DSNTRKUS),C'C'  all the disk info
0000143 00                         16523  1 00399000  SUPFLGS    FLAG  ,
 SUPFLGS.USELOCATE 80 ONES         16527  1 00400000             FLAG  USELOCATE
 000144                00144 00144 16532    00401000           END   ,
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   51
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000492 90DF B0D4            000D4 16541    00402000  SUPLOC   PROC  SUPWK
 000496 58F0 C014/0DEF       00014 16552             +
 00049C E2E4D7D3D6C34040           16554             +
 0004A4 98DF B0D4            000D4 16555             +
 0004A8 50E0 D000            00000 16558             +
 0004AC 900C D004/188D       00004 16561             +
 0004B2 41D0 D17C/0DA0       0017C 16564             +
 USING  *,R10                      16596    00403000  *  R3-->Name entry   +0=entry type  +1=name
 USING  SUPWK-(4+52),R8
 0004B8 5030 8038            00000 16597    00404000           ST    R3,SUP@DS           Save name pointer
 0004BC D209 803E C0E0 00006 000E0 16598    00405000           MVC   SUPDTYP,GVTBLANK
 0004C2 D2EA 8090 C0E0 00058 000E0 16599    00406000           MVC   DSNREC(DSNREC#),GVTBLANK
 0004C8 D200 8090 3000 00058 00000 16600    00407000           MVC   DSNCATTP,0(R3)      entry type
 0004CE D22B 8092 3001 0005A 00001 16601    00408000           MVC   DSNDSN,1(R3)        DSNAME
 0004D4 D71F BE58 BE58 00E58 00E58 16602    00409000           XC    CATPL,CATPL         Zero out catalog parm list
 0004DA 9610 6002      00002       16603    00410000           OI    CTGOPTN3,CTGSUPLT   Set "superlocate"
 0004DE 9601 6002      00002       16604    00411000           OI    CTGOPTN3,CTGAM0     Set vsam request
 0004E2 9610 6003      00003       16605    00412000           OI    CTGOPTN4,CTGCOIN    Request control intercept
 0004E6 9604 6010      00010       16606    00413000           OI    CTGDSORG,CTGF2WKA   Set format 2 work area
 0004EA 4113 0001            00001 16607    00414000           LA    R1,1(R3)            Point to data set name
 0004EE 5010 6004            00004 16608    00415000           ST    R1,CTGENT           Save in entry parm list
 0004F2 4110 BE78            00E78 16609    00416000           LA    R1,CATSMALL         Little work area
 0004F6 5010 600C            0000C 16610    00417000           ST    R1,CTGWKA           Save in catalog parm list
 0004FA D70F BE78 BE78 00E78 00E78 16611    00418000           XC    CATSMALL,CATSMALL   Zero work area
 000500 5810 B990            00990 16612    00419000           L     R1,TVTFSWKA1        Address of volume buffer
 000504 5010 BE78            00E78 16613    00420000           ST    R1,CATSMALL         Save in work area
 000508 5810 A5E0            00A98 16614    00421000           L     R1,=A(VOLBUFL)          Length of volume buffer
 00050C 4010 BE7C            00E7C 16615    00422000           STH   R1,CATSMALL+4       Save in work area
 000510 5870 B990            00990 16616    00423000           L     R7,TVTFSWKA1        Address of volume list area
 USING  S26ENTRY,R7                16617    00424000           USING S26ENTRY,R7
0                                  16627    00426000  *  Set up for standard locate too
0000514 58F0 A5E4            00A9C 16629    00428000           L     R15,=A(CAMCATMD)
 000518 D20F 8080 F000 00048 00000 16630    00429000           MVC   SUPCAMCT(16),@R15       Move in model camlst
 00051E 41F0 3001            00001 16631    00430000           LA    R15,@R3+1               ->DSN
 000522 50F0 8084            0004C 16632    00431000           ST    R15,SUPCAMCT+4          Save pointer to data set name
 000526 4107 0400            00400 16633    00432000           LA    R0,1024(R7)             part of catlg work area
 00052A 5000 808C            00054 16634    00433000           ST    R0,SUPCAMCT+12          Save pointer to work area
0                                  16636    00435000  *
                                   16637    00436000  *  temporary code ... for "A" (nonvsam dataset) entry, use LOCATE.
                                   16638    00437000  *
 00052E 95C1 3000      00000       16639    00438000           CLI   0(R3),C'A'          Nonvsam dataset entry
0000532 4770 A0D2            0058A 16641    00440000           IF    EQ,BEGIN            NONVSAM, use LOCATE
 000536 9680 817B      00143       16652  1 00441000             SET   USELOCATE           remember we did it
 00053A 4110 8080/0A1A       00048 16658  1 00442000             LOCATE SUPCAMCT
 000540 12FF/4770 A0D2       0058A 16662  1 00443000             IF    (R15,Z),BEGIN       found it
                                   16676  2 00444000  *  convert volume list to SUPERLOCATE form
 000546 58F0 808C            00054 16677  2 00445000               L     R15,SUPCAMCT+12     ->LOCATE work area
 00054A 48E0 F000            00000 16678  2 00446000               LH    R14,@R15             volume count
 00054E 40E0 BE7E            00E7E 16679  2 00447000               STH   R14,CATSMALL+6       into suploc area
 000552 41F0 F002            00002 16680  2 00448000               LA    R15,@R15+2          ->first LOCATE volentry
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   52
0Current Usings:  (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12) (VOLENTRY,R15)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0USING  VOLENTRY,R15               16681  2 00449000               USING VOLENTRY,R15
                                   16690  2 00450000               USING S26ENTRY,R7
 000556 D205 7000 F004 00000 00004 16692  2 00451000  CVL          MVC   S26VOLSR,VOLVOLSR   volser
 00055C D203 7006 F000 00006 00000 16693  2 00452000               MVC   S26UCBTP,VOLUCBTP   UCBTYPE
 000562 D201 700A F00A 0000A 0000A 16694  2 00453000               MVC   S26FILSQ,VOLFILSQ   FILE SEQ
 000568 41F0 F00C            0000C 16695  2 00454000               LA    R15,VOLNEXT         ->next entry
 00056C 4170 700C            0000C 16696  2 00455000               LA    R7,S26NEXT          ...
 000570 46E0 A09E            00556 16697  2 00456000               BCT   R14,CVL
 000574 1BFF                       16698  2 00457000               SR    R15,R15             reset RC
 000576 5870 B990            00990 16699  2 00458000               L     R7,TVTFSWKA1        reset R7
 DROP   VOLENTRY,R15               16700  2 00459000               DROP  R15
                                   16707  2 00460000  *  Get SMS info
 00057A 4100 8144            0010C 16708  2 00461000               LA    R0,DSNSTORC         ->SMS area in record
 00057E 4110 8092            0005A 16709  2 00462000               LA    R1,DSNDSN           ->Dsname
 000582 58E0 A5E8/0DEE       00AA0 16710  2 00463000               XCALL SMSINFO             get info
                                   16714  2 00464000  * don't care about RC, area left blank if not found/nonsms
 000588 1BFF                       16715  2 00465000               SR    R15,R15             restore "good" RC from LOCATE
 00058A                            16716  1 00466000             END   ,                      (found it)
 00058A                            16720    00467000           END   ,                      (use LOCATE)
000058A A0D6           0058A 00534 16725    00469000           ELSE  BEGIN               use SUPERLOCATE
 00058A 47F0 A0DA            00592 16730             +
 00058E 1816                       16736  1 00470000             LR    R1,R6               Copy parameter list address
 000590 0A1A                       16737  1 00471000             SVC   26                  There we go
 000592                            16738    00472000           END   ,                      (SUPERLOCATE)
0000592 12FF/4780 A15A       00612 16743    00474000           IF    (R15,NZ),BEGIN      SUPERLOCATE error
0000598 9140 90F9      000F9       16758  1 00476000             IF    FSHOFAKE,'EXIT SUPLOC' fake, don't care
 00059C 47E0 A0EC            005A4 16768  1          +
 0005A0 47F0 A5C4            00A7C 16776  1          +
 0005A4 9110 B98D      0098D       16781  1 00477000             IF    ~FSHOONLY,BEGIN       not ONLY, unusual err
 0005A8 4710 A10A            005C2 16791  1          +
 0005AC 92E9 80E1      000A9       16796  2 00478000               MVI   DSNERRCD,C'Z'       show suploc error
 0005B0 4EF0 9178            00178 16797  2 00479000               CVD   R15,FSHOP#          RCODE
 0005B4 F347 80EB 9178 000B3 00178 16798  2 00480000               UNPK  DSNTRKAL,FSHOP#     in tracks alloc field
 0005BA 96F0 80EF      000B7       16799  2 00481000               OI    DSNTRKAL+L'DSNTRKAL-1,C'0'   clean up sign
 0005BE 47F0 A598            00A50 16800  2 00482000               B     VDONE               done here
 0005C2                            16801  1 00483000             END   ,                     (not ONLY, SUPERLOCATE err)
00005C2 A10E           005C2 005AA 16806  1 00485000             ELSE  BEGIN               ONLY, not in catlg
 0005C2 47F0 A15A            00612 16811  1          +
 0005C6 9540 B76A      0076A       16817  2 00486000               CLI   TVTPBVOL,C' '
 0005CA 47D0 A152            0060A 16818  2 00487000               IF    GT,BEGIN            but user gave us a volume
 0005CE D205 7000 B76A 00000 0076A 16829  3 00488000                 MVC   S26VOLSR,TVTPBVOL   so fake up an entry
 0005D4 4150 0001            00001 16830  3 00489000                 LA    R5,1
 0005D8 5050 803C            00004 16831  3 00490000                 ST    R5,SUPVOLCT         with one vol
 0005DC 4050 BE7E            00E7E 16832  3 00491000                 STH   R5,CATSMALL+6
 0005E0 92F0 8090      00058       16833  3 00492000                 MVI   DSNCATTP,C'0'       show no catlg entry
 0005E4 4110 B76A            0076A 16834  3 00493000                 LA    R1,TVTPBVOL         ->volser
 0005E8 58E0 A5EC/0DEE       00AA4 16835  3 00494000                 VCALL FINDUCB             get actual UCB
 0005EE 12FF/4770 A14A       00602 16839  3 00495000                 IF    (R15,Z),BEGIN       if we got it
 0005F4 4120 8048            00010 16853  4 00496000                   LA    R2,SUPDEVRC         ->device record area
 USING  FSDEVREC,R2                16854  4 00497000                   WITH  (FSDEVREC,R2),BEGIN
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   53
0Current Usings:  (FSDEVREC,R2) (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00005F8 5010 2000            00000 16868  5 00498000                     ST    R1,FSDUCBPT         Save UCB pointer
 DROP   FSDEVREC,R2                16869  4 00499000                   END   ,                     (with FSDEVREC)
 0005FC D203 7006 1010 00006 00010 16877  4 00500000                   MVC   S26UCBTP,16(R1)     UCBTYPE info
 000602                            16878  3 00501000                 END   ,                     (found UCB)
 000602 A14E           00602 005F2 16882  3 00502000                 ELSE  'EXIT SUPLOC'       no UCB
 000602 47F0 A152            0060A 16887  3          +
 000606 47F0 A5C4            00A7C 16896  3          +
 00060A                            16901  2 00503000               END   ,                     (user gave volume)
 00060A A156           0060A 005CC 16905  2 00504000               ELSE  'EXIT SUPLOC'       no vol, and no catlg
 00060A 47F0 A15A            00612 16910  2          +
 00060E 47F0 A5C4            00A7C 16919  2          +
0000612                            16925  1 00506000             END   ,                     (ONLY, not in catlg)
0000612                            16930    00508000           END   ,                      (SUPERLOCATE error)
                                   16934    00509000  *  got some catlg info.
0                                  16936    00511000C          IF    ((DSNCATTP,EQ,C'A'),OR,(DSNCATTP,EQ,C'0'),OR,
                                            00512000C                (DSNCATTP,EQ,C'D'),OR,(DSNCATTP,EQ,C'I'),OR,
 000612 95C1 8090      00058                00513000                 (DSNCATTP,EQ,C'C'),OR,(DSNCATTP,EQ,C'U')),BEGIN
 000616 4780 A18A            00642 16952             +
 00061A 95F0 8090      00058       16963             +
 00061E 4780 A18A            00642 16966             +
 000622 95C4 8090      00058       16977             +
 000626 4780 A18A            00642 16980             +
 00062A 95C9 8090      00058       16991             +
 00062E 4780 A18A            00642 16994             +
 000632 95C3 8090      00058       17005             +
 000636 4780 A18A            00642 17008             +
 00063A 95E4 8090      00058       17019             +
 00063E 4770 A570            00A28 17020             +
                                   17025  1 00514000  *                                  dataset entry or fake
 000642 D505 7000 A628 00000 00AE0 17026  1 00515000             CLC   S26VOLSR,=C'MIGRAT'  HSM migrated dataset
 000648 4770 A198            00650 17027  1 00516000             IF    EQ,BEGIN            it's migrated
 00064C 92C1 80E1      000A9       17038  2 00517000               MVI   DSNERRCD,C'A'       show HSM Archived
 000650                            17039  1 00518000             END   ,                      (migrated)
0000650 D22B 8092 3001 0005A 00001 17044  1 00520000             MVC   DSNDSN,1(R3)        DSNAME again, in case gdg(n) it got
                                   17045  1 00521000  *                                  converted by locate
 000656 4850 BE7E            00E7E 17046  1 00522000             LH    R5,CATSMALL+6       Get count of volumes
 00065A 1255                       17047  1 00523000             LTR   R5,R5               Check vol count
 00065C 4720 A1AC            00664 17048  1 00524000             BP    *+8                 If OK
 000660 4150 0001            00001 17049  1 00525000             LA    R5,1                ...else use 1
 000664 4050 803C            00004 17050  1 00526000             STH   R5,SUPVOLCT         Save it
 000668 9108 B98D      0098D       17051  1 00527000             IF    FSHOONVL,BEGIN      only want if on given vol
 00066C 47E0 A1E0            00698 17061  1          +
 000670 4810 B770            00770 17066  2 00528000               LH    R1,TVTPB#VOL        L'volstem
 000674 0610/1211                  17067  2 00529000  VCLOOP       CMPR  R1,TVTPBVOL,S26VOLSR req vol: actual
 000678 4740 A1C8            00680 17080  2          +
 00067C 4410 A66E            00B26 17086  3          +
 000B25 00                                4          +
 000B26 D500 B76A 7000 0076A 00000 17093  3          +
 000680 4780 A1D8            00690 17105  2 00530000               IF    EQ,VCGOT            match found
 000684 4170 700C            0000C 17119  2 00531000               LA    R7,S26NEXT          ->next entry in vol list
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   54
0Current Usings:  (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000688 4650 A1BC            00674 17120  2 00532000               BCT   R5,VCLOOP           check next
 00068C 47F0 A5C4            00A7C 17121  2 00533000               EXIT  SUPLOC              none of vols matched
 000690 5870 B990            00990 17124  2 00534000  VCGOT        L     R7,TVTFSWKA1        restore R7
 000694 4850 803C            00004 17125  2 00535000               LH    R5,SUPVOLCT         ...and R5
 000698                            17126  1 00536000             END   ,                     (on vol)
 000698 9104 B98D      0098D       17130  1 00537000             IF    FSHOTEMP,BEGIN      TEMP option
 00069C 47E0 A1F6            006AE 17140  1          +
 0006A0 D502 A65A 7000 00B12 00000 17145  2 00538000               CLC   =C'SCR',S26VOLSR    SCRxxx volume?
 0006A6 4780 A1F6            006AE 17146  2 00539000               IF    NE,'EXIT SUPLOC'    nope, skip it
 0006AA 47F0 A5C4            00A7C 17160  2          +
 0006AE                            17165  1 00540000             END   ,                      (TEMP)
 0006AE 9120 7008      00008       17169  1 00541000             TM    S26UCBDV,DEVCLDA    disk?
 0006B2 47E0 A40E            008C6 17170  1 00542000             IF    O,BEGIN             DISK file
 0006B6 9180 B98D      0098D       17181  2 00543000               IF    ~FSHOTYPD,'EXIT SUPLOC' don't want disk
 0006BA 4710 A20A            006C2 17191  2          +
 0006BE 47F0 A5C4            00A7C 17199  2          +
 0006C2 D205 80BE 7000 00086 00000 17204  2 00544000               MVC   DSNVOL,S26VOLSR     volser
 0006C8 92C4 80C5      0008D       17205  2 00545000               MVI   DSNDEVTP,C'D'       type=disk
 0006CC 4E50 9178            00178 17206  2 00546000               CVD   R5,FSHOP#           volume count
 0006D0 F347 9188 9178 00188 00178 17207  2 00547000               UNPK  FSHOXW(5),FSHOP#     ...
 0006D6 96F0 918C      0018C       17208  2 00548000               OI    FSHOXW+4,C'0'         sign to zone
 0006DA D202 80CA 918A 00092 0018A 17209  2 00549000               MVC   DSNVOLCT,FSHOXW+2   now in msg w/leading 0s
 0006E0 1B22                       17210  2 00550000               SR    R2,R2
 0006E2 D209 803E A62E 00006 00AE6 17211  2 00551000               MVC   SUPDTYP,=C'????      ' unknown so far
 0006E8 4320 7009            00009 17212  2 00552000               IC    R2,S26UCBTP+3       Model ID byte DEVUNTYP
 0006EC 5920 A5F0            00AA8 17213  2 00553000               C     R2,=A(##DEVTAB)     See if invalid code
 0006F0 4720 A24E            00706 17214  2 00554000               IF    H,DISK2             Done if invalid
 0006F4 4C20 A638            00AF0 17228  2 00555000               MH    R2,=AL2(##LDEVTB)   * table offset
 0006F8 5810 A5F4            00AAC 17229  2 00556000               L     R1,=A(DEVTABLE)
 0006FC 4121 2000            00000 17230  2 00557000               LA    R2,0(R1,R2)         Point to ID in table
 000700 D207 803E 2000 00006 00000 17231  2 00558000               MVC   SUPDTYP(8),0(R2)     Move ID into msg
0000706                            17233  2 00560000  DISK2        LABEL ,                   Top of loop thru volume list
                                   17235  2 00561000  *  get unit info
 000706 4110 8048            00010 17236  2 00562000               LA    R1,SUPDEVRC         ->our device record area
 USING  FSDEVREC,R1                17237  2 00563000               WITH  (FSDEVREC,R1),BEGIN
 00070A D205 1004 7000 00004 00000 17251  3 00564000                 MVC   FSDVOLSR,S26VOLSR   volser
 000710 58E0 A5F8/0DEE       00AB0 17252  3 00565000                 ACALL FSUCB               Get device info
 DROP   FSDEVREC,R1                17256  2 00566000               END   ,                      (with R1)
 000716 BFFF 7006            00006 17264  2 00567000               BTX   DSNDVDES,8,L4:S26UCBTP DEVTYPE in hex
 00071A 4100 0008            00008 17275  2          +
 00071E 4110 80D7            0009F 17282  2          +
 000722 58E0 A5FC/0DEE       00AB4 17285  2          +
 000728 D207 80CE 1000 00096 00000 17287  2 00568000               MVC   DSNUCBTP,@R1
 00072E D209 80D7 803E 0009F 00006 17288  2 00569000               MVC   DSNDVDES,SUPDTYP    device description
 000734 95C1 80E1      000A9       17289  2 00570000               CLI   DSNERRCD,C'A'       archived dataset?
 000738 4780 A598            00A50 17290  2 00571000               IF    EQ,VDONE            yes, no DSCB available
 00073C 9140 B98C      0098C       17304  2 00572000               IF    (FSHOWDSC),BEGIN    get DSCBs
 000740 47E0 A3AA            00862 17314  2          +
                                   17319  3 00573000  *  DO FMT1 STUFF
 000744 D22B B5B0 3001 005B0 00001 17320  3 00574000                 MVC   TVTPBDSNAME,@R3+1   DSN
 00074A D205 B8E2 7000 008E2 00000 17321  3 00575000                 MVC   TVTVOLSER,S26VOLSR  VOLSER
                                   17322  3 00576000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   17323  3 00577000  Ÿ                                                                     Ÿ
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   55
0Current Usings:  (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  17324  3 00578000  Ÿ  OBTFMT1 - Obtain format 1 DSCB, and FMT3 if present.               Ÿ
                                   17325  3 00579000  Ÿ                                                                     Ÿ
                                   17326  3 00580000  Ÿ  1994/08/19  ml  copied from OSFILE OBTFMT1, OBTFMT3 code           Ÿ
                                   17327  3 00581000  Ÿ                                                                     Ÿ
                                   17328  3 00582000  Ÿ  On entry:   TVTPBDSNAME contains the fully qualified data set name Ÿ
                                   17329  3 00583000  Ÿ              and the TVTPBVOL field must contain the volume         Ÿ
                                   17330  3 00584000  Ÿ              serial number for the DASD device.                     Ÿ
                                   17331  3 00585000  Ÿ                                                                     Ÿ
                                   17332  3 00586000  Ÿ  On exit:    For R15=0 the TVT field OSFFMT1 contains the 96        Ÿ
                                   17333  3 00587000  Ÿ              byte portion of the requested FMT1 DSCB, and the       Ÿ
                                   17334  3 00588000  Ÿ              OSFFMT3 field contains the FMT3 DSCB if present.       Ÿ
                                   17335  3 00589000  Ÿ                                                                     Ÿ
                                   17336  3 00590000  Ÿ                                                                     Ÿ
                                          3           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000750                            17338  3 00592000  OBTFMT1        LABEL
 000750 58F0 A600            00AB8 17340  3 00593000                 L     R15,=A(CAMOBT)
 000754 D20F BE88 F000 00E88 00000 17341  3 00594000                 MVC   OSFCAMCT(16),@R15   Move in model camlist control
 00075A 4110 B5B0            005B0 17342  3 00595000                 LA    R1,TVTPBDSNAME      Address of fully qual dsn
 00075E 5010 BE8C            00E8C 17343  3 00596000                 ST    R1,OSFCAMCT+4       Save address in camlist
 000762 4110 B8E2            008E2 17344  3 00597000                 LA    R1,TVTVOLSER        Address of volume serial
 000766 5010 BE90            00E90 17345  3 00598000                 ST    R1,OSFCAMCT+8       Save address in camlist
 00076A 4110 BC5C            00C5C 17346  3 00599000                 LA    R1,OSFDSCWK         Address of work area
 00076E 5010 BE94            00E94 17347  3 00600000                 ST    R1,OSFCAMCT+12      Save address in camlist
 000772                            17348  3 00601000                 CLEAR OSFFMT1             Clear DSCB buffer
 000772 D78B BAB8 BAB8 00AB8 00AB8 17354  3          +
 000778                            17355  3 00602000                 CLEAR OSFFMT3             clear buffer area
 000778 D78B BB44 BB44 00B44 00B44 17361  3          +
 00077E 4110 BE88/0A1B       00E88 17362  3 00603000                 OBTAIN OSFCAMCT           Read in fmt1 dscb
 000784 90DF B0D4            000D4 17366  3 00604000                 PTRACE obfmt1RT           Trace return code
 000788 58F0 C014/0DEF       00014 17369  3          +
 00078E 96828694A3F1D9E3           17371  3          +
 000796 98DF B0D4            000D4 17372  3          +
 00079A 122F                       17373  3 00605000                 LTR   R2,R15              Save and test obtain return code
 00079C 4770 A340            007F8 17374  3 00606000                 IF    Z,BEGIN             Successful obtain has been done
 0007A0 D22B BAB8 B5B0 00AB8 005B0 17385  4 00607000                   MVC   OSFFMT1(44),TVTPBDSNAME Set data set name into FMT1
 0007A6 D25F BAE4 BC5C 00AE4 00C5C 17386  4 00608000                   MVC   OSFFMT1+44(96),OSFDSCWK Move in fmt1 dscb
 0007AC 4150 BAB8            00AB8 17387  4 00609000                   LA    R5,OSFFMT1          ->DSCB
 USING  IECSDSL1,R5                17388  4 00610000                   WITH  (IECSDSL1,R5),BEGIN
 0007B0 D504 5087 A5D8 00087 00A90 17402  5 00611000                     CLC   DS1PTRDS,=D'0'      ->FMT3 else zero
 0007B6 4780 A340            007F8 17403  5 00612000                     IF    NE,BEGIN            Got a FMT3
 0007BA 4100 5087            00087 17414  6 00613000                       LA    R0,DS1PTRDS         ->CCHHR of FMT3
 0007BE 4110 B8E2            008E2 17415  6 00614000                       LA    R1,TVTVOLSER        ->VOL
                                   17416  6 00615000  *  Obtain format 3 DSCB.  Copied from OSFILE OBTFMT3 routine
                                   17417  6 00616000  *
00007C2 58F0 A604            00ABC 17419  6 00618000                       L     R15,=A(CAMOBSK)     Address of model camlst
 0007C6 D20F BE88 F000 00E88 00000 17420  6 00619000                       MVC   OSFCAMCT(16),@R15   Move in model camlist
 0007CC 5000 BE8C            00E8C 17421  6 00620000                       ST    R0,OSFCAMCT+4       Address of cchhr required
 0007D0 5010 BE90            00E90 17422  6 00621000                       ST    R1,OSFCAMCT+8       Address of required volume serial
 0007D4 4100 BB44            00B44 17423  6 00622000                       LA    R0,OSFFMT3          Address of fmt3 area return
 0007D8 5000 BE94            00E94 17424  6 00623000                       ST    R0,OSFCAMCT+12      Address to receive fmt3
 0007DC 4110 BE88/0A1B       00E88 17425  6 00624000                       OBTAIN OSFCAMCT           Read in fmt3 dscb
 0007E2 90DF B0D4            000D4 17429  6 00625000                       PTRACE OBTFMT3RT
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   56
0Current Usings:  (IECSDSL1,R5) (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00007E6 58F0 C014/0DEF       00014 17432  6          +
 0007EC D6C2E3C6D4E3F3D9           17434  6          +
 0007F4 98DF B0D4            000D4 17435  6          +
 0007F8                            17436  5 00626000                     END   ,                      (get FMT3)
 DROP   IECSDSL1,R5                17440  4 00627000                   END   ,                      (with IECSDSL1)
 0007F8                            17448  3 00628000                 END   ,                      (RC=0 from OBTAIN FMT1)
 0007F8 A344           007F8 0079E 17452  3 00629000                 ELSEIF (R15,EQ,4),BEGIN   Volume not mounted error return
 0007F8 47F0 A354            0080C 17458  3          +
 0007FC 59F0 A608            00AC0 17472  3          +
 000800 4770 A354            0080C 17473  3          +
 000804 92D4 80E1      000A9       17478  4 00630000                   MVI   DSNERRCD,C'M'       volume not Mounted
 000808 47F0 A3AA            00862 17479  4 00631000                   B     DSCBDONE            so there's no more to say
 00080C                            17480  3 00632000                 END   ,                     (not mounted)
 00080C A358           0080C 00802 17484  3 00633000                 ELSEIF (R15,EQ,8),BEGIN   Data set not on volume
 00080C 47F0 A374            0082C 17490  3          +
 000810 59F0 A60C            00AC4 17504  3          +
 000814 4770 A374            0082C 17505  3          +
 000818 92C4 80E1      000A9       17510  4 00634000                   MVI   DSNERRCD,C'D'       DSCB not found
 00081C 95F0 8090      00058       17511  4 00635000                   CLI   DSNCATTP,C'0'       fake entry (ONLY, ON VOL)
 000820 4770 A370            00828 17512  4 00636000                   IF    EQ,'EXIT SUPLOC'    not there and ONLY, quit
 000824 47F0 A5C4            00A7C 17526  4          +
 000828 47F0 A3AA            00862 17531  4 00637000                   B     DSCBDONE
 00082C                            17532  3 00638000                 END   ,                     (not on volume)
 00082C A378           0082C 00816 17536  3 00639000                 ELSE  BEGIN               Process unkown return codes
 00082C 47F0 A38E            00846 17541  3          +
 000830 4EF0 9178            00178 17547  4 00640000                   CVD   R15,FSHOP#          RCODE
 000834 F347 80EB 9178 000B3 00178 17548  4 00641000                   UNPK  DSNTRKAL,FSHOP#     in tracks alloc field
 00083A 96F0 80EF      000B7       17549  4 00642000                   OI    DSNTRKAL+L'DSNTRKAL-1,C'0'   clean up sign
 00083E 92E7 80E1      000A9       17550  4 00643000                   MVI   DSNERRCD,C'X'       unknown rcode
 000842 47F0 A3AA            00862 17551  4 00644000                   B     DSCBDONE
 000846                            17552  3 00645000                 END   ,                      (unknown rcode)
0000846 4110 BAB8            00AB8 17557  3 00647000                 LA    R1,OSFFMT1          ->FMT1, FMT3 DSCBs
 00084A 4100 8048            00010 17558  3 00648000                 LA    R0,SUPDEVRC         ->volume record
 00084E 58E0 A610/0DEE       00AC8 17559  3 00649000                 ACALL XTRDSCB             extract space, format, etc.
                                   17563  3 00650000  *                                  from dscbs
 000854 4110 9100            00100 17564  3 00651000                 LA    R1,SBUF             ->extracted data
 000858 4120 8090            00058 17565  3 00652000                 LA    R2,DSNREC           ->output record
 00085C 58E0 A614/0DEE       00ACC 17566  3 00653000                 ACALL WDSNINT             Format data
0                                  17571  3 00655000  * ETC.....
 000862                            17572  3 00656000  DSCBDONE       LABEL ,
 000862                            17574  2 00657000               END   ,                      (DSCB stuff)
 000862 4850 803C            00004 17578  2 00658000               LH    R5,SUPVOLCT         Vol count
 000866 5B50 A618            00AD0 17579  2 00659000               S     R5,=F'1'            vol count:  just did one
 00086A 4050 803C            00004 17580  2 00660000               STH   R5,SUPVOLCT         save updated count
 00086E 47D0 A40E            008C6 17581  2 00661000               IF    P,BEGIN             if any left
                                   17592  3 00662000  *  report remaining volumes
                                   17593  3 00663000  *  Emit main record, if not already done
                                   17594  3 00664000                 SEGDEF L:SEGSAVE
 000872 4110 8090            00058 17595  3 00665000                 LA    R1,DSNREC           ->record
 000876 4100 00EB            000EB 17596  3 00666000                 LA    R0,DSNREC#          L'record
 00087A 58E0 A61C/0DEE       00AD4 17597  3 00667000                 VCALL RTRIM
 000880 1200/47D0 A3E8       008A0 17601  3 00668000                 IF    (R0,P),BEGIN        got data
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   57
0Current Usings:  (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000886 4110 8090            00058 17615  4 00669000                   SEG   DSNREC,(R0)         write it
 00088A 58F0 9150            00150 17634  4          +
 00088E 58E0 A620/0DEE       00AD8 17637  4          +
 000894 1B00/58F0 9150       00150 17639  4 00670000                   SEGWR ,
 00089A 58E0 A624/0DEE       00ADC 17659  4          +
 0008A0                            17661  3 00671000                 END   ,                      (got data)
 0008A0 4170 700C            0000C 17665  3 00672000                 LA    R7,S26NEXT          --> next entry
 0008A4 5830 8038            00000 17666  3 00673000                 L     R3,SUP@DS           Restore pointer
                                   17667  3 00674000  * Loop thru to do all volumes.
00008A8 D2EA 8090 C0E0 00058 000E0 17669  3 00676000                 MVC   DSNREC(DSNREC#),GVTBLANK
 0008AE 924E 8090      00058       17670  3 00677000                 MVI   DSNCATTP,C'+'       type is "continuation"
 0008B2 D22B 8092 3001 0005A 00001 17671  3 00678000                 MVC   DSNDSN,@R3+1        dsn
 0008B8 D205 80BE 7000 00086 00000 17672  3 00679000                 MVC   DSNVOL,S26VOLSR     volser
 0008BE 92C4 80C5      0008D       17673  3 00680000                 MVI   DSNDEVTP,C'D'       type=disk
 0008C2 47F0 A24E            00706 17674  3 00681000                 B     DISK2               do the rest in the usual way
 0008C6                            17675  2 00682000               END   ,                       (more to do)
 0008C6                            17679  1 00683000             END   ,                      (DISK FILE)
 0008C6 A412           008C6 006B4 17683  1 00684000             ELSE  BEGIN               not disk
 0008C6 47F0 A570            00A28 17688  1          +
 0008CA 9180 7008      00008       17694  2 00685000               TM    S26UCBDV,DEVCLTA        tape?
 0008CE 47E0 A426            008DE 17695  2 00686000               IF    (O,AND,~FSHOTYPT),'EXIT SUPLOC' tape and no want
 0008D2 9140 B98D      0098D       17714  2          +
 0008D6 4710 A426            008DE 17715  2          +
 0008DA 47F0 A5C4            00A7C 17723  2          +
0                                  17729  2 00688000  *  Here for tape dataset
00008DE D200 8090 3000 00058 00000 17731  2 00690000               MVC   DSNCATTP,@R3        entry type
 0008E4 D22B 8092 3001 0005A 00001 17732  2 00691000               MVC   DSNDSN,@R3+1        dsn
 0008EA D205 80BE 7000 00086 00000 17733  2 00692000               MVC   DSNVOL,S26VOLSR     volser
 0008F0 92E3 80C5      0008D       17734  2 00693000               MVI   DSNDEVTP,C'T'       type=tape
 0008F4 4800 700A            0000A 17735  2 00694000               LH    R0,S26FILSQ         fileseq
 0008F8 4E00 9178            00178 17736  2 00695000               CVD   R0,FSHOP#
 0008FC F347 9188 9178 00188 00178 17737  2 00696000               UNPK  FSHOXW(5),FSHOP#     ...
 000902 96F0 918C      0018C       17738  2 00697000               OI    FSHOXW+4,C'0'         sign to zone
 000906 D203 80C6 9189 0008E 00189 17739  2 00698000               MVC   DSNFLSQ,FSHOXW+1    now in msg w/leading 0s
 00090C 4E50 9178            00178 17740  2 00699000               CVD   R5,FSHOP#           volume count
 000910 F347 9188 9178 00188 00178 17741  2 00700000               UNPK  FSHOXW(5),FSHOP#     ...
 000916 96F0 918C      0018C       17742  2 00701000               OI    FSHOXW+4,C'0'         sign to zone
 00091A D202 80CA 918A 00092 0018A 17743  2 00702000               MVC   DSNVOLCT,FSHOXW+2   now in msg w/leading 0s
                                   17744  2 00703000  * Following lifted from IOPROGM unit reporting in IOPDSMSG
 000920 4110 7006            00006 17745  2 00704000               LA    R1,S26UCBTP         ->UCBTYPE
 USING  DEVINFO,R1                 17746  2 00705000               WITH  (DEVINFO,R1),BEGIN
 000924 9580 1003      00003       17760  3 00706000                 CLI   DEVUNTYP,DEVUN348   3480 TAPE?
 000928 4740 A49A            00952 17761  3 00707000                 IF    NL,BEGIN            3480 or 3490
 00092C 4770 A48C            00944 17772  4 00708000                   IF    EQ,BEGIN            3480
 000930 D209 803E A63A 00006 00AF2 17783  5 00709000                     MVC   SUPDTYP,=C'3480      '
 000936 9104 1001      00001       17784  5 00710000                     TM    DEVOPTFT,DEVOPIDR   IDRC?
 00093A 47E0 A48C            00944 17785  5 00711000                     IF    O,BEGIN             IDRC
 00093E D204 8042 A65D 0000A 00B15 17796  6 00712000                       MVC   SUPDTYP+4(5),=C'-IDRC'
 000944                            17797  5 00713000                     END   ,                      (IDRC)
 000944                            17801  4 00714000                   END   ,                      (3480)
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   58
0Current Usings:  (DEVINFO,R1) (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000944 9581 1003      00003       17806  4 00716000                   CLI   DEVUNTYP,DEVUN349   3490?
 000948 4770 A49A            00952 17807  4 00717000                   IF    EQ,BEGIN            3490
 00094C D209 803E A662 00006 00B1A 17818  5 00718000                     MVC   SUPDTYP,=C'3490       '
 000952                            17819  4 00719000                   END   ,                      (3490)
 000952                            17823  3 00720000                 END   ,                      (3480/3490)
 000952 A49E           00952 0092A 17827  3 00721000                 ELSE  BEGIN               not 3480/90
 000952 47F0 A4C0            00978 17832  3          +
                                   17838  4 00722000  *  Here if 9-track.
0000956 D209 803E A644 00006 00AFC 17840  4 00724000                   MVC   SUPDTYP,=C'3420      '
 00095C 9102 1000      00000       17841  4 00725000                   TM    DEVIFLGC,DEVIF62    6250?
 000960 47E0 A4B2            0096A 17842  4 00726000                   IF    O,BEGIN             6250 BPI
 000964 D205 8042 A64E 0000A 00B06 17853  5 00727000                     MVC   SUPTTYP,=C'-6250 '
 00096A                            17854  4 00728000                   END   ,                      (6250)
000096A 9104 1000      00000       17859  4 00730000                   TM    DEVIFLGC,DEVIF16    1600?
 00096E 47E0 A4C0            00978 17860  4 00731000                   IF    O,BEGIN             1600.
 000972 D205 8042 A654 0000A 00B0C 17871  5 00732000                     MVC   SUPTTYP,=C'-1600 '
 000978                            17872  4 00733000                   END   ,                      (1600)
0000978                            17877  3 00735000                 END   ,                     (not 3480/90)
 DROP   DEVINFO,R1                 17881  2 00736000               END   ,                     (with R1)
 000978 BFFF 7006            00006 17889  2 00737000               BTX   DSNUCBTP,8,L4:S26UCBTP DEVTYPE in hex
 00097C 4100 0008            00008 17900  2          +
 000980 4110 80CE            00096 17907  2          +
 000984 58E0 A5FC/0DEE       00AB4 17910  2          +
 00098A D209 80D7 803E 0009F 00006 17912  2 00738000               MVC   DSNDVDES,SUPDTYP    device description
 000990 5B50 A618            00AD0 17913  2 00739000               S     R5,=F'1'            vol count:  just did one
 000994 47D0 A564            00A1C 17914  2 00740000               IF    P,BEGIN             if any left
                                   17925  3 00741000  *  report remaining volumes
 000998 4170 700C            0000C 17926  3 00742000                 LA    R7,S26NEXT          --> next entry
 00099C 4110 8090            00058 17927  3 00743000  VLOOP          LA    R1,DSNREC           main (or previous) record
 0009A0 4100 00EB            000EB 17928  3 00744000                 LA    R0,DSNREC#          L'rec
 0009A4 58E0 A61C/0DEE       00AD4 17929  3 00745000                 VCALL RTRIM               no trailing blanks
 0009AA 58F0 9150            00150 17933  3 00746000                 SEG   (R1),(R0)
 0009AE 58E0 A620/0DEE       00AD8 17952  3          +
 0009B4 1B00/58F0 9150       00150 17954  3 00747000                 SEGWR ,                   emit main record
 0009BA 58E0 A624/0DEE       00ADC 17974  3          +
00009C0 D2EA 8090 C0E0 00058 000E0 17977  3 00749000                 MVC   DSNREC(DSNREC#),GVTBLANK    clear
 0009C6 924E 8090      00058       17978  3 00750000                 MVI   DSNCATTP,C'+'       type is "continuation"
 0009CA D22B 8092 3001 0005A 00001 17979  3 00751000                 MVC   DSNDSN,@R3+1        dsn
 0009D0 D205 80BE 7000 00086 00000 17980  3 00752000                 MVC   DSNVOL,S26VOLSR     Volume serial
 0009D6 92E3 80C5      0008D       17981  3 00753000                 MVI   DSNDEVTP,C'T'       device type is tape
 0009DA 4800 700A            0000A 17982  3 00754000                 LH    R0,S26FILSQ         fileseq
 0009DE 4E00 9178            00178 17983  3 00755000                 CVD   R0,FSHOP#
 0009E2 F347 9188 9178 00188 00178 17984  3 00756000                 UNPK  FSHOXW(5),FSHOP#     ...
 0009E8 96F0 918C      0018C       17985  3 00757000                 OI    FSHOXW+4,C'0'         sign to zone
 0009EC D203 80C6 9189 0008E 00189 17986  3 00758000                 MVC   DSNFLSQ,FSHOXW+1    now in msg w/leading 0s
 0009F2 BFFF 7006            00006 17987  3 00759000                 BTX   DSNUCBTP,8,L4:S26UCBTP  DEVTYPE in hex
 0009F6 4100 0008            00008 17998  3          +
 0009FA 4110 80CE            00096 18005  3          +
 0009FE 58E0 A5FC/0DEE       00AB4 18008  3          +
 000A04 D207 80CE 1000 00096 00000 18010  3 00760000                 MVC   DSNUCBTP,@R1
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   59
0Current Usings:  (CTGPL,R6) (S26ENTRY,R7) (SUPWK-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000A0A D209 80D7 803E 0009F 00006 18011  3 00761000                 MVC   DSNDVDES,SUPDTYP
 000A10 4170 700C            0000C 18012  3 00762000                 LA    R7,S26NEXT          --> next entry
 000A14 4650 A4E4            0099C 18013  3 00763000                 BCT   R5,VLOOP            Do next volume
 000A18 47F0 A598            00A50 18014  3 00764000                 B     VDONE
 000A1C                            18015  2 00765000               END   ,                      (remaining vols)
 000A1C A568           00A1C 00996 18019  2 00766000               ELSE  BEGIN               only one vol
 000A1C 47F0 A56C            00A24 18024  2          +
 000A20 47F0 A598            00A50 18030  3 00767000                 B     VDONE
 000A24                            18031  2 00768000               END   ,                     (only one vol)
-000A24 47F0 A598            00A50 18036  2 00770000               B     VDONE
 000A28                            18037  1 00771000             END   ,                     (tape file)
 000A28                            18041    00772000           END   ,                     (dataset entry)
0000A28 A574           00A28 00640 18046    00774000           ELSE  BEGIN               GDG base
 000A28 47F0 A598            00A50 18051             +
 000A2C 4850 BE82            00E82 18057  1 00775000             LH    R5,CATSMALL+10      Number of generations
 000A30 D200 8090 3000 00058 00000 18058  1 00776000             MVC   DSNCATTP,@R3        entry type
 000A36 D22B 8092 3001 0005A 00001 18059  1 00777000             MVC   DSNDSN,@R3+1        DSN to msg.
 000A3C 4E50 9178            00178 18060  1 00778000             CVD   R5,FSHOP#           no. generations
 000A40 F347 9188 9178 00188 00178 18061  1 00779000             UNPK  FSHOXW(5),FSHOP#     ...
 000A46 96F0 918C      0018C       18062  1 00780000             OI    FSHOXW+4,C'0'         sign to zone
 000A4A D202 80CA 918A 00092 0018A 18063  1 00781000             MVC   DSNVOLCT,FSHOXW+2   now in msg w/leading 0s
 000A50                            18064    00782000           END   ,                      (GDG base)
0000A50 4110 8090            00058 18069    00784000  VDONE    LA    R1,DSNREC           ->record
 000A54 4100 00EB            000EB 18070    00785000           LA    R0,DSNREC#          L'record
 000A58 58E0 A61C/0DEE       00AD4 18071    00786000           VCALL RTRIM
 000A5E 1200/47D0 A5C2       00A7A 18075    00787000           IF    (R0,P),BEGIN        Got data
 000A64 58F0 9150            00150 18089  1 00788000             SEG   (R1),(R0)
 000A68 58E0 A620/0DEE       00AD8 18108  1          +
 000A6E 1B00/58F0 9150       00150 18110  1 00789000             SEGWR ,                   write it out
 000A74 58E0 A624/0DEE       00ADC 18130  1          +
 000A7A                            18132    00790000           END   ,                      (got data)
 000A7A 1BFF                       18136    00791000           CLEAR R15                 RC
0000A7C 18D8/980C D004       00004 18141    00793000           PEND ,
 DROP   SUPWK-(4+52),R8
 DROP   *,R10
 000A82 58E0 D000/12FF       00000 18162             +
 000A88 07FE                       18165             +
 DROP   S26ENTRY,R7                18166    00794000           DROP  R7
 000A90                            18173    00795000           LTORG ,
 000A90 0000000000000000           18175                             =D'0'
 000A98 00001000                   18176                             =A(VOLBUFL)
 000A9C 00000BA8                   18177                             =A(CAMCATMD)
 000AA0 00000000                   18178                             =V(SMSINFO)
 000AA4 00000000                   18179                             =V(FINDUCB)
 000AA8 0000000F                   18180                             =A(##DEVTAB)
 000AAC 000018B0                   18181                             =A(DEVTABLE)
 000AB0 00001B30                   18182                             =A(FSUCB)
 000AB4 00000000                   18183                             =V(BTX)
 000AB8 00000B88                   18184                             =A(CAMOBT)
1FILESHOW (FILE7022) (10:07) (06JUN02) SUPERLOCATE Routine                                                                  Page   60
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000ABC 00000B98                   18185                             =A(CAMOBSK)
 000AC0 00000004                   18186                             =A(4)
 000AC4 00000008                   18187                             =A(8)
 000AC8 00001128                   18188                             =A(XTRDSCB)
 000ACC 00000D3A                   18189                             =A(WDSNINT)
 000AD0 00000001                   18190                             =F'1'
 000AD4 00000000                   18191                             =V(RTRIM)
 000AD8 00000000                   18192                             =V(SEG)
 000ADC 00000000                   18193                             =V(SEGWR)
 000AE0 D4C9C7D9C1E3               18194                             =C'MIGRAT'
 000AE6 6F6F6F6F40404040           18195                             =C'????      '
 000AF0 000C                       18196                             =AL2(##LDEVTB)
 000AF2 F3F4F8F040404040           18197                             =C'3480      '
 000AFC F3F4F2F040404040           18198                             =C'3420      '
 000B06 60F6F2F5F040               18199                             =C'-6250 '
 000B0C 60F1F6F0F040               18200                             =C'-1600 '
 000B12 E2C3D9                     18201                             =C'SCR'
 000B15 60C9C4D9C3                 18202                             =C'-IDRC'
 000B1A F3F4F9F040404040           18203                             =C'3490       '
1FILESHOW (FILE7022) (10:07) (06JUN02) DSN setup routine                                                                    Page   61
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000B2C 90DF B0D4            000D4 18208    00797000  DSNCLR   PROC ,
 000B30 58F0 C014/0DEF       00014 18218             +
 000B36 C4E2D5C3D3D94040           18220             +
 000B3E 98DF B0D4            000D4 18221             +
 000B42 50E0 D000            00000 18224             +
 000B46 900C D004/188D       00004 18227             +
 000B4C 41D0 D038/0DA0       00038 18229             +
 000B52 5800 B994            00994 18252    00798000           L     R0,TVTFSWKA2        Get address
 USING  *,R10
 000B56 5810 914C            0014C 18253    00799000           L     R1,S26SIZE          And length of buffer
 000B5A 1BFF                       18254    00800000           SR    R15,R15             Zero for clear length
 000B5C 0E0E                       18255    00801000           MVCL  R0,R14              Zip that buffer to zero
 000B5E 5820 B994            00994 18256    00802000           L     R2,TVTFSWKA2        Get address of buffer again
 000B62 5810 914C            0014C 18257    00803000           L     R1,S26SIZE          And length too mom
 000B66 5012 0000            00000 18258    00804000           ST    R1,0(R2)            Set total length of buffer
 000B6A 4110 0008            00008 18259    00805000           LA    R1,8                Length of header data
 000B6E 5012 0004            00004 18260    00806000           ST    R1,4(R2)            Save in workarea
 000B72 18D8/980C D004       00004 18261    00807000           PEND  ,                      (DSNCLR)
 DROP   *,R10
 000B78 58E0 D000/12FF       00000 18277             +
 000B7E 07FE                       18280             +
1FILESHOW (FILE7022) (10:07) (06JUN02) DSN setup routine                                                                    Page   62
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000B80                00B80 01F6C 18282    00809000           LTORG ,
 000B80 0006DDD0                   18287    00810000  S26SZMIN DC    A(45*10000)         enough for 10000 entries
 000B84 00200000                   18288    00810100  S26SZMAX DC    A(2*1024*1024)      2 meg is about the max.
                                   18289    00810200  *                                  for below the line storage,
                                   18290    00810300  *                                  since we have lotta tasks
 000B88 C1/00/00/00                18291    00811000  CAMOBT   CAMLST SEARCH,*-*,*-*,*-*
 000B8C 00000000                   18297             +
 000B90 00000000                   18298             +
 000B94 00000000                   18299             +
0000B98 C0/80/00/00                18301    00813000  CAMOBSK  CAMLST SEEK,*-*,*-*,*-*
 000B9C 00000000                   18307             +
 000BA0 00000000                   18308             +
 000BA4 00000000                   18309             +
0000BA8 44/00/00/00                18311    00815000  CAMCATMD CAMLST NAME,*-*,,*-*
 000BAC 00000000                   18317             +
 000BB0 00000000                   18318             +
 000BB4 00000000                   18319             +
0000BB8 0000000000000000           18321    00817000  $PAREN   DC    XL256'00'           translate table: look for
 000CB8                00CB8 00C05 18322    00818000           ORG   $PAREN+C'('            a ( in dsn
 000C05 01                         18323    00819000           DC    X'01'
 000C06                00C06 00CB8 18324    00820000           ORG   ,
1FILESHOW (FILE7022) (10:07) (06JUN02) Free Catalog Areas                                                                   Page   63
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000CB8 90DF B0D4            000D4 18326    00822000  S26WFREE PROC  ,
 000CBC 58F0 C014/0DEF       00014 18336             +
 000CC2 E2F2F6E6C6D9C5C5           18338             +
 000CCA 98DF B0D4            000D4 18339             +
 000CCE 50E0 D000            00000 18342             +
 000CD2 900C D004/188D       00004 18345             +
 000CD8 41D0 D038/0DA0       00038 18347             +
 000CDE 5810 B994/1211       00994 18370    00823000           LT    R1,TVTFSWKA2        ->work area 2
 USING  *,R10
 000CE4 4780 A016            00CF4 18374    00824000           IF    NZ,BEGIN            got some, free it
 000CE8 58E0 A3CA/0DEE       010A8 18385  1 00825000             VCALL FREECORE
 000CEE                            18389  1 00826000             CLEAR TVTFSWKA2           Show it's gone
 000CEE D703 B994 B994 00994 00994 18395  1          +
 000CF4                            18396    00827000           END   ,                   (free work area 2)
0000CF4 5810 B990/1211       00990 18401    00829000           LT    R1,TVTFSWKA1        ->work area 1
 000CFA 4780 A02C            00D0A 18405    00830000           IF    NZ,BEGIN            got one
 000CFE 58E0 A3CA/0DEE       010A8 18416  1 00831000             VCALL FREECORE            free it
 000D04                            18420  1 00832000             CLEAR TVTFSWKA1           show no area
 000D04 D703 B990 B990 00990 00990 18426  1          +
 000D0A                            18427    00833000           END   ,                   (free work area 1)
0000D0A 18D8/980C D004       00004 18432    00835000           PEND
 DROP   *,R10
 000D10 58E0 D000/12FF       00000 18448             +
 000D16 07FE                       18451             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Stack Overflow                                                                       Page   64
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18453    00837000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18454    00838000  Ÿ                                                                     Ÿ
                                   18455    00839000  Ÿ  Error recovery stack overflow                                      Ÿ
                                   18456    00840000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000D18                            18458    00842000  STCKOVFL LABEL ,
 000D18 FEDC1E                     18460    00843000           FAIL  'Error Recovery stack overflow.'
 000D1B C59999969940D985           18463             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Format Dsname Record                                                                 Page   65
0Current Usings:  (CTGPL,R6) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  18467    00846000  *********
                                   18468    00847000  *  Format dsname record (Internal)
                                   18469    00848000  *
                                   18470    00849000  *        On Entry:  R1  -> SDSNBUF
                                   18471    00850000  *                   R2  -> DSNREC
                                   18472    00851000  *  1995/01/09 ml   use fixed record layout (no SEG), to tracks
                                   18473    00852000  *                  used to .01 trk (a la disklook)
                                   18474    00853000  *  1994/09/06 ml:  copied from WYLDIR code
                                   18475    00854000  *
                                   18476    00855000  *********
 000000                00000 00014 18477    00856000  WDSNWKA  RECORD BEGIN
 000000                            18485  1 00857000  WDSNWK     DS    5F
 000014                00014 00014 18486    00858000           END   ,
 000D3A 90DF B0D4            000D4 18495    00859000  WDSNINT  PROC  WDSNWKA
 000D3E 58F0 C014/0DEF       00014 18506             +
 000D44 E6C4E2D5C9D5E340           18508             +
 000D4C 98DF B0D4            000D4 18509             +
 000D50 50E0 D000            00000 18512             +
 000D54 900C D004/188D       00004 18515             +
 000D5A 41D0 D04C/0DA0       0004C 18518             +
 000D60 1841                       18550    00860000           LR    R4,R1               Save pointer to SDSNBUF
 USING  *,R10
 USING  WDSNWKA-(4+52),R8
 USING  SBUF,R4                    18551    00861000           USING SBUF,R4
 000D62 1862                       18560    00862000           LR    R6,R2               ->output record
 DROP   CTGPL,R6                   18561    00863000           USING DSNREC,R6
 USING  DSNREC,R6
                                   18573    00864000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18574    00865000  Ÿ                                                                     Ÿ
                                   18575    00866000  Ÿ  Setup standard dsname stuff                                        Ÿ
                                   18576    00867000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000D64 9540 1000      00000       18577    00868000  WDSNL2   CLI   @R1,X'40'
 000D68 4770 A012            00D72 18578    00869000           BNE   HAVDSNL2            Br if last char
 000D6C 0610                       18579    00870000           DECR  R1                  Check nxt char
 000D6E 4600 A004            00D64 18581    00871000           BCT   R0,WDSNL2           Loop
 000D72                            18582    00872000  HAVDSNL2 LABEL ,
                                   18584    00873000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18585    00874000  Ÿ                                                                     Ÿ
                                   18586    00875000  Ÿ  Format space allocated                                             Ÿ
                                   18587    00876000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000D72 1FFF/BFF3 4048       00148 18588    00877000           L2    R15,SBTRK           Number of tracks allocated
 000D78 12FF/47B0 A024       00D84 18594    00878000           IF    (R15,NEG),BEGIN     Space alloc complete?
 000D7E D204 605B A372 000B3 010D2 18608  1 00879000             MVC   DSNTRKAL,=C'*****'  Something wrong ...
 000D84 A028           00D84 00D7C 18609    00880000           END   ELSE,BEGIN            (wrong/got alloc)
 000D84 47F0 A05C            00DBC 18618             +
 000D88 4EF0 4078            00178 18624  1 00881000             CVD   R15,FSHOP#          into msg
 000D8C F347 4088 4078 00188 00178 18625  1 00882000             UNPK  FSHOXW(5),FSHOP#     ...
 000D92 96F0 408C      0018C       18626  1 00883000             OI    FSHOXW+4,C'0'         sign to zone
 000D96 D204 605B 4088 000B3 00188 18627  1 00884000             MVC   DSNTRKAL,FSHOXW     now in msg w/leading 0s
 000D9C 1F00/BF03 4046       00146 18628  1 00885000             L2    R0,SBTRKL           track length
1FILESHOW (FILE7022) (10:07) (06JUN02) Format Dsname Record                                                                 Page   66
0Current Usings:  (SBUF,R4) (DSNREC,R6) (WDSNWKA-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000DA2 8800 000A            0000A 18634  1 00886000             SRL   R0,10               in Kbytes
 000DA6 1CE0                       18635  1 00887000             MR    R14,R0              space in K
 000DA8 4EF0 4078            00178 18636  1 00888000             CVD   R15,FSHOP#          as decimal
 000DAC F387 4088 4078 00188 00178 18637  1 00889000             UNPK  FSHOXW(9),FSHOP#    in chars
 000DB2 96F0 4090      00190       18638  1 00890000             OI    FSHOXW+8,C'0'       sign to zone
 000DB6 D207 60A0 4089 000F8 00189 18639  1 00891000             MVC   DSNKBYTA,FSHOXW+1   in msg, kbytes alloc
 000DBC                            18640    00892000           END   ,                      (got trks alloc)
                                   18644    00893000  *
                                   18645    00894000  *  Format space used
                                   18646    00895000  *  adapted from DISKLOOK   mcl 950109
                                   18647    00896000  *
 000DBC 9120 4036      00136       18648    00897000           TM    SBDSORG,B'00100000' DSORG=DA?
 000DC0 47E0 A070            00DD0 18649    00898000           IF    O,BEGIN             yes "tracks free" meaningless
 000DC4 D204 6052 605B 000AA 000B3 18660  1 00899000             MVC   DSNTRKUS(5),DSNTRKAL  used=allocated
 000DCA D202 6057 A377 000AF 010D7 18661  1 00900000             MVC   DSNTRKUS+5(3),=C'.00'  ...exactly
 000DD0                            18662    00901000           END   ,                      (DA, used=alloc)
 000DD0 A074           00DD0 00DC2 18666    00902000           ELSE  BEGIN               not DA
 000DD0 47F0 A114            00E74 18671             +
 000DD4 D207 6052 A340 000AA 010A0 18677  1 00903000             MVC   DSNTRKUS,=C'      --'
 000DDA D504 4040 A37A 00140 010DA 18678  1 00904000             CLC   SBLSTAR(5),=XL5'0' Check if final TTR applies
 000DE0 4780 A114            00E74 18679  1 00905000             IF    NE,BEGIN            got good LSTAR
 000DE4 9142 4036      00136       18690  2 00906000               TM    SBDSORG,B'01000010'  Check if DSORG=PS or PO
 000DE8 4780 A114            00E74 18691  2 00907000               IF    NZ,BEGIN            If either -- get trks used/free
 000DEC 1F11/BF13 4040       00140 18702  3 00908000                 L2    R1,SBLSTAR          Tracks used - 1
 000DF2 1211                       18708  3 00909000                 LTR   R1,R1               Check if negative
 000DF4 47B0 A0A2            00E02 18709  3 00910000                 BNM   LSTOK               Branch if >= 0
 000DF8 D207 6052 A37F 000AA 010DF 18710  3 00911000  LSTBAD         MVC   DSNTRKUS,=C'      ***'
 000DFE 47F0 A114            00E74 18711  3 00912000                 B     GEXT
 000E02 4C10 A360            010C0 18712  3 00913000  LSTOK          MH    R1,=H'100'          We'll use hundredths
 000E06 9500 4042      00142       18713  3 00914000                 CLI   SBLSTAR+2,0        Check if this track used
 000E0A 4780 A0DA            00E3A 18714  3 00915000                 BE    LSTMT               If not - don't count it
 000E0E 1FFF/BFF3 4046       00146 18715  3 00916000                 L2    R15,SBTRKL          Track length (unsigned hfwd)
 000E14 1FEE/BFE3 4043       00143 18721  3 00917000                 L2    R14,SBTRBAL         Track balance   "       "
 000E1A 1BFE                       18727  3 00918000                 SR    R15,R14             (track len) - (bytes used)
 000E1C 4740 A098            00DF8 18728  3 00919000                 BM    LSTBAD              Negative is bad TRBAL  MCL890605
 000E20 1BEE                       18729  3 00920000                 SR    R14,R14
 000E22 4CF0 A360            010C0 18730  3 00921000                 MH    R15,=H'100'         We want hundredths
 000E26 1F00/BF03 4046       00146 18731  3 00922000                 L2    R0,SBTRKL
 000E2C 1DE0                       18737  3 00923000                 DR    R14,R0                of a track...
 000E2E 12EE                       18738  3 00924000                 LTR   R14,R14             Any remainder?
 000E30 4780 A0D8            00E38 18739  3 00925000                 BZ    *+8                 If not
 000E34 41FF 0001            00001 18740  3 00926000                 LA    R15,1(R15)          Round up
 000E38 1A1F                       18741  3 00927000                 AR    R1,R15              Tracks used in hundredths
 000E3A                            18742  3 00928000  LSTMT          LABEL ,
 000E3A D20A 4088 A388 00188 010E8 18744  3 00929000                 MVC   FSHOXW(11),=X'40212020202020204B2020' ptrn
 000E40 4E10 4078            00178 18745  3 00930000                 CVD   R1,FSHOP#
 000E44 DE0A 4088 407B 00188 0017B 18746  3 00931000                 ED    FSHOXW(11),FSHOP#+3
 000E4A D207 6052 408B 000AA 0018B 18747  3 00932000                 MVC   DSNTRKUS,FSHOXW+3  this way we get enuf leading 0s
 000E50 1FFF/BFF3 4046       00146 18748  3 00933000                 L2    R15,SBTRKL          Track len
 000E56 88F0 000A            0000A 18754  3 00934000                 SRL   R15,10                in K bytes
 000E5A 1C0F                       18755  3 00935000                 MR    R0,R15              KBYTES used, hundredths
 000E5C 5D00 A34C            010AC 18756  3 00936000                 D     R0,=F'100'          kbytes used
 000E60 4E10 4078            00178 18757  3 00937000                 CVD   R1,FSHOP#           to decimal
 000E64 F387 4088 4078 00188 00178 18758  3 00938000                 UNPK  FSHOXW(9),FSHOP#    in chars
1FILESHOW (FILE7022) (10:07) (06JUN02) Format Dsname Record                                                                 Page   67
0Current Usings:  (SBUF,R4) (DSNREC,R6) (WDSNWKA-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000E6A 96F0 4090      00190       18759  3 00939000                 OI    FSHOXW+8,C'0'       sign to zone
 000E6E D207 6097 4089 000EF 00189 18760  3 00940000                 MVC   DSNKBYTU,FSHOXW+1   in msg, kbytes used
                                   18761  3 00941000
 000E74                            18762  3 00942000  GEXT           LABEL ,
 000E74                            18764  2 00943000               END   ,                      (PS/PO)
 000E74                            18768  1 00944000             END   ,                      (good LSTAR)
 000E74                            18772    00945000           END   ,                      (not DA)
                                   18776    00946000  *
                                   18777    00947000  *  format extent info
                                   18778    00948000  *
 000E74 1FFF/43F0 4035       00135 18779    00949000           LC    R15,SBNOEX          Number of extents
 000E7A 4EF0 4078            00178 18786    00950000           CVD   R15,FSHOP#          into msg
 000E7E F327 4088 4078 00188 00178 18787    00951000           UNPK  FSHOXW(3),FSHOP#     ...
 000E84 96F0 408A      0018A       18788    00952000           OI    FSHOXW+2,C'0'         sign to zone
 000E88 D202 6061 4088 000B9 00188 18789    00953000           MVC   DSNXTNTS,FSHOXW     now in msg w/leading 0s
                                   18790    00954000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18791    00955000  Ÿ                                                                     Ÿ
                                   18792    00956000  Ÿ  Format DSORG information                                           Ÿ
                                   18793    00957000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000E8E 9500 4036      00136       18794    00958000           IF    (SBDSORG,NE,X'00'),BEGIN  Use first DSORG byte
 000E92 4780 A162            00EC2 18806             +
 000E96 1FFF/43F0 4036       00136 18811  1 00959000             LC    R15,SBDSORG         Get dsorg byte
 000E9C 54F0 A350            010B0 18818  1 00960000             N     R15,=X'000000E2'    clear irrelevant bits
 000EA0 88F0 0004            00004 18819  1 00961000             SRL   R15,4               Move ps,is,da to low bits
 000EA4 9102 4036      00136       18820  1 00962000             IF    SBDSORG.X'02','LA R15,@R15+1'  PO - add its bit
 000EA8 47E0 A150            00EB0 18831  1          +
 000EAC 41F0 F001            00001 18837  1          +
 000EB0 42F0 8038            00000 18842  1 00963000             STC   R15,WDSNWK          Save dsorg index byte
                                   18843  1 00964000  *   WDSNWK now has low order four bits representing PS/IS/DA/PO
 000EB4 DC00 8038 A31E 00000 0107E 18844  1 00965000             TR    WDSNWK(1),DSORGTR2    Translate into index byte
 000EBA 43F0 8038            00000 18845  1 00966000             IC    R15,WDSNWK          Get index
 000EBE 41FF A32E            0108E 18846  1 00967000             LA    R15,DSORGTB2(R15)   Get addr of display
 000EC2 A166           00EC2 00E94 18847    00968000           END   ELSE,BEGIN          (use 1st/don't)
 000EC2 47F0 A176            00ED6 18856             +
 000EC6 41F0 A32E            0108E 18862  1 00969000             LA    R15,DSORGTB2        R15 -> "**"
 000ECA 9108 4037      00137       18863  1 00970000             IF    SBDSORG+1.X'08','LA R15,=C"AM"'  VSAM
 000ECE 47E0 A176            00ED6 18874  1          +
 000ED2 41F0 A362            010C2 18880  1          +
 000ED6                            18885    00971000           END
 000ED6 D201 6065 F000 000BD 00000 18889    00972000           MVC   DSNDSORG(2),@R15    basic DSORG
 000EDC 9101 4036      00136       18890    00973000           TM    SBDSORG,DS1DSGU     Unmoveable?
 000EE0 47E0 A188            00EE8 18891    00974000           IF    O,BEGIN
 000EE4 92E4 6067      000BF       18902  1 00975000             MVI   DSNDSORG+2,C'U'
 000EE8                            18903    00976000           END   ,                      (unmov)
                                   18907    00977000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18908    00978000  Ÿ                                                                     Ÿ
                                   18909    00979000  Ÿ  Format first char of RECFM                                         Ÿ
                                   18910    00980000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000EE8 1FFF/43F0 4039       00139 18911    00981000           LC    R15,SBRECFM
 000EEE 88F0 0006            00006 18918    00982000           SRL   R15,6               Only process F/V/U
1FILESHOW (FILE7022) (10:07) (06JUN02) Format Dsname Record                                                                 Page   68
0Current Usings:  (SBUF,R4) (DSNREC,R6) (WDSNWKA-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000EF2 41FF A338            01098 18919    00983000           LA    R15,RECFMTB2(R15)   Get addr of char
 000EF6 D200 6069 F000 000C1 00000 18920    00984000           MVC   DSNRECFM(1),@R15
                                   18921    00985000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   18922    00986000  Ÿ                                                                     Ÿ
                                   18923    00987000  Ÿ  Format rest of RECFM                                               Ÿ
                                   18924    00988000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000EFC 4120 606A            000C2 18925    00989000           LA    R2,DSNRECFM+1       Four char RECFM
                                   18926    00990000
 000F00 9110 4039      00139       18927    00991000           IF    SBRECFM.X'10',BEGIN Blocked ...
 000F04 47E0 A1B0            00F10 18938             +
 000F08 92C2 2000      00000       18943  1 00992000             MVI   @R2,C'B'
 000F0C 5E20 A354            010B4 18944  1 00993000             INCR  R2
 000F10                            18947    00994000           END
                                   18951    00995000
 000F10 9120 4039      00139       18952    00996000           IF    SBRECFM.X'20',BEGIN Track overflow ...
 000F14 47E0 A1C0            00F20 18963             +
 000F18 92E3 2000      00000       18968  1 00997000             MVI   @R2,C'T'
 000F1C 5E20 A354            010B4 18969  1 00998000             INCR  R2
 000F20                            18972    00999000           END
                                   18976    01000000
 000F20 9108 4039      00139       18977    01001000           IF    SBRECFM.X'08',BEGIN Standard ...
 000F24 47E0 A1D0            00F30 18988             +
 000F28 92E2 2000      00000       18993  1 01002000             MVI   @R2,C'S'
 000F2C 5E20 A354            010B4 18994  1 01003000             INCR  R2
 000F30                            18997    01004000           END
                                   19001    01005000
 000F30 9104 4039      00139       19002    01006000           IF    SBRECFM.X'04',BEGIN ASA control ...
 000F34 47E0 A1E0            00F40 19013             +
 000F38 92C1 2000      00000       19018  1 01007000             MVI   @R2,C'A'
 000F3C 5E20 A354            010B4 19019  1 01008000             INCR  R2
 000F40                            19022    01009000           END
                                   19026    01010000
 000F40 9102 4039      00139       19027    01011000           IF    SBRECFM.X'02',BEGIN Machine control ...
 000F44 47E0 A1F0            00F50 19038             +
 000F48 92D4 2000      00000       19043  1 01012000             MVI   @R2,C'M'
 000F4C 5E20 A354            010B4 19044  1 01013000             INCR  R2
 000F50                            19047    01014000           END
                                   19051    01015000  *
                                   19052    01016000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   19053    01017000  Ÿ                                                                     Ÿ
                                   19054    01018000  Ÿ  Format LRECL, BLKSIZE, KEYLEN                                      Ÿ
                                   19055    01019000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000F50 4800 403C            0013C 19056    01020000           LH    R0,SBLRECL          LRECL (signed)
 000F54 1200/4740 A20E       00F6E 19057    01021000           IF    (R0,NM),BEGIN       real LRECL
 000F5A 4E00 4078            00178 19071  1 01022000             CVD   R0,FSHOP#
 000F5E F347 4088 4078 00188 00178 19072  1 01023000             UNPK  FSHOXW(5),FSHOP#    LRECL as chars.
 000F64 96F0 408C      0018C       19073  1 01024000             OI    FSHOXW+4,C'0'       make printable
 000F68 D204 606F 4088 000C7 00188 19074  1 01025000             MVC   DSNLRECL,FSHOXW     LRECL
 000F6E                            19075    01026000           END   ,                     (real LRECL)
 000F6E A212           00F6E 00F58 19079    01027000           ELSEIF (SBLRECL,EQ,X'8000'),BEGIN  LRECL=X
1FILESHOW (FILE7022) (10:07) (06JUN02) Format Dsname Record                                                                 Page   69
0Current Usings:  (SBUF,R4) (DSNREC,R6) (WDSNWKA-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000F6E 47F0 A222            00F82 19085             +
 000F72 D501 A364 403C 010C4 0013C 19099             +
 000F78 4770 A222            00F82 19100             +
 000F7C D204 606F A393 000C7 010F3 19105  1 01028000             MVC   DSNLRECL,=C'    X'  LRECL=X
 000F82                            19106    01029000           END   ,                      (LRECL=X)
 000F82 A226           00F82 00F7A 19110    01030000           ELSE  BEGIN               funny negative value
 000F82 47F0 A23E            00F9E 19115             +
 000F86 92E7 606F      000C7       19121  1 01031000             MVI   DSNLRECL,C'X'
 000F8A 1FFF/BFF3 403C       0013C 19122  1 01032000             BTX   DSNLRECL+1,4,L2:SBLRECL  Convert to hex
 000F90 4100 0004            00004 19137  1          +
 000F94 4110 6070            000C8 19144  1          +
 000F98 58E0 A358/0DEE       010B8 19147  1          +
 000F9E                            19149    01033000           END   ,                      (funny val)
                                   19153    01034000
 000F9E 1F00/BF03 403E       0013E 19154    01035000           L2    R0,SBBLKSZ          BLKSIZE (unsigned)
 000FA4 4E00 4078            00178 19160    01036000           CVD   R0,FSHOP#           to dec.
 000FA8 F347 4088 4078 00188 00178 19161    01037000           UNPK  FSHOXW(5),FSHOP#    BLKSI as chars.
 000FAE 96F0 408C      0018C       19162    01038000           OI    FSHOXW+4,C'0'       make printable
 000FB2 D204 6075 4088 000CD 00188 19163    01039000           MVC   DSNBKSIZ,FSHOXW     BLKSI
                                   19164    01040000
 000FB8 1F00/4300 403A       0013A 19165    01041000           LC    R0,SBKEYL
 000FBE 4E00 4078            00178 19170    01042000           CVD   R0,FSHOP#           to dec.
 000FC2 F327 4088 4078 00188 00178 19171    01043000           UNPK  FSHOXW(3),FSHOP#    KEYLEN as chars.
 000FC8 96F0 408A      0018A       19172    01044000           OI    FSHOXW+2,C'0'       make printable
 000FCC D202 607B 4088 000D3 00188 19173    01045000           MVC   DSNKEYLN,FSHOXW     KEYLEN
                                   19174    01046000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   19175    01047000  Ÿ                                                                     Ÿ
                                   19176    01048000  Ÿ Format creation date and last access date                           Ÿ
                                   19177    01049000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000FD2 D207 4081 402C 00181 0012C 19178    01050000           MVC   FSHOFW+1,SBCRDT     Creation date
 000FD8 41F0 4080            00180 19179    01051000           LA    R15,FSHOFW          Addr of creation date
 000FDC 1F00/4300 F001       00001 19180    01052000           LC    R0,@R15+1           Get year
 000FE2 4C00 A366            010C6 19185    01053000           MH    R0,=H'1000'         Year value
 000FE6 4A00 F002            00002 19186    01054000           AH    R0,@R15+2           Add julian day
 000FEA 4E00 4078            00178 19187    01055000           CVD   R0,FSHOWK           Convert to dec
 000FEE 5800 407C            0017C 19188    01056000           L     R0,FSHOWK+4         Get value
 000FF2 4110 607F            000D7 19189    01057000           LA    R1,DSNCRDAT         Place to put the date
 000FF6 58E0 A35C/0DEE       010BC 19190    01058000           VCALL NDATE               Convert
                                   19194    01059000
 000FFC D207 4085 4032 00185 00132 19195    01060000           MVC   FSHOFW2+1,SBRFDT    Last access date
 001002 41F0 4084            00184 19196    01061000           LA    R15,FSHOFW2         Addr of last access date
 001006 1F00/4300 F001       00001 19197    01062000           LC    R0,@R15+1           Get year
 00100C 4C00 A366            010C6 19202    01063000           MH    R0,=H'1000'         Year value
 001010 4A00 F002            00002 19203    01064000           AH    R0,@R15+2           Add julian day
 001014 4E00 4078            00178 19204    01065000           CVD   R0,FSHOWK           Convert to dec
 001018 5800 407C            0017C 19205    01066000           L     R0,FSHOWK+4         Get value
 00101C 4110 608A            000E2 19206    01067000           LA    R1,DSNLADAT         Place to put the date
 001020 58E0 A35C/0DEE       010BC 19207    01068000           VCALL NDATE               Convert
                                   19211    01069000
 001026 D209 60A9 A368 00101 010C8 19212    01070000           MVC   DSNEXPDT,=C'0000/00/00'  in case undefined
 00102C                            19213    01071000           IF    (SBEXDT,NZ),BEGIN   expdt is defined
 00102C D602 402F 402F 0012F 0012F 19223             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Format Dsname Record                                                                 Page   70
0Current Usings:  (SBUF,R4) (DSNREC,R6) (WDSNWKA-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001032 4780 A300            01060 19224             +
 001036 D207 4085 402F 00185 0012F 19229  1 01072000             MVC   FSHOFW2+1,SBEXDT    Expiration Date
 00103C 41F0 4084            00184 19230  1 01073000             LA    R15,FSHOFW2
 001040 1F00/4300 F001       00001 19231  1 01074000             LC    R0,@R15+1           Get year
 001046 4C00 A366            010C6 19236  1 01075000             MH    R0,=H'1000'         shift year
 00104A 4A00 F002            00002 19237  1 01076000             AH    R0,@R15+2           get yyddd
 00104E 4E00 4078            00178 19238  1 01077000             CVD   R0,FSHOWK           Convert to dec
 001052 5800 407C            0017C 19239  1 01078000             L     R0,FSHOWK+4         Get value
 001056 4110 60A9            00101 19240  1 01079000             LA    R1,DSNEXPDT         Place to put the date
 00105A 58E0 A35C/0DEE       010BC 19241  1 01080000             VCALL NDATE               Convert
 001060                            19245    01081000           END   ,                      (expdt is defined)
                                   19249    01082000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   19250    01083000  Ÿ                                                                     Ÿ
                                   19251    01084000  Ÿ  Format DSIND02 status (Write since last backup)                    Ÿ
                                   19252    01085000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0001060 92D5 6095      000ED       19253    01086000           MVI   DSNCHGED,C'N'       tentative "not"
 001064 9102 4038      00138       19254    01087000           IF    SBDSIND.SBWSB,BEGIN written since backup
 001068 47E0 A310            01070 19265             +
 00106C 92E8 6095      000ED       19270  1 01088000             MVI   DSNCHGED,C'Y'       Yes
 001070                            19271    01089000           END   ,                      (written since backup)
                                   19275    01090000
 001070 18D8/980C D004       00004 19276    01091000           PEND
 DROP   WDSNWKA-(4+52),R8
 DROP   *,R10
 001076 58E0 D000/12FF       00000 19297             +
 00107C 07FE                       19300             +
                                   19301    01092000
 00107E 0004060002000000           19302    01093000  DSORGTR2 DC    AL1(0,4,6,0,2),XL3'0',AL1(8),XL7'0'  index values
 00108E 5C5CD7E2D7D6C4C1           19303    01094000  DSORGTB2 DC    C'**PSPODAIS'       Displays
 001098 5CE5C6E4                   19304    01095000  RECFMTB2 DC    C'*VFU'             Displays
                                   19305    01096000
 DROP   SBUF,R4                    19306    01097000           DROP  BR,R4,R6
 DROP   DSNREC,R6
                                   19322    01098000           QLTORG
 0010F8 4040404040404040           19352    01099000  BLANKS   DC    CL44' '
0001128                01128 01F6C 19354    01101000           LTORG ,
1FILESHOW (FILE7022) (10:07) (06JUN02) Extract DSCB Data                                                                    Page   71
0Current Usings:  (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 00004 19360    01103000  XTRDSCBR RECORD BEGIN
 000000                            19368  1 01104000  XTRDEVTL   DS    H                   track length
 000002                            19369  1 01105000  XTRDEVTC   DS    H                   tracks/cyl
 000004                00004 00004 19370    01106000           END   ,
0001128 90DF B0D4            000D4 19380    01108000  XTRDSCB  PROC  XTRDSCBR
 00112C 58F0 C014/0DEF       00014 19391             +
 001132 E7E3D9C4E2C3C240           19393             +
 00113A 98DF B0D4            000D4 19394             +
 00113E 50E0 D000            00000 19397             +
 001142 900C D004/188D       00004 19400             +
 001148 41D0 D03C/0DA0       0003C 19403             +
0                                  19436    01110000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   19437    01111000  Ÿ  Extract data from DSCB(s) and place in SDSNBUF.                    Ÿ
                                   19438    01112000  Ÿ                                                                     Ÿ
                                   19439    01113000  Ÿ  On entry:  R9->FSHOAREA (includes SDSNBUF)                         Ÿ
                                   19440    01114000  Ÿ             R1->FMT1 DSCB, followed by FMT3 if present              Ÿ
                                   19441    01115000  Ÿ             R0->FSDEVREC volume info record                         Ÿ
                                   19442    01116000  Ÿ                                                                     Ÿ
                                   19443    01117000  Ÿ  On exit:  Fields filled in in SDSNBUF                              Ÿ
                                   19444    01118000  Ÿ                                                                     Ÿ
0                                  19446    01120000  Ÿ* Following copied from WYLDISK routine                              Ÿ
                                   19447    01121000  Ÿ        USING FSHOAREA,R9                                            Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
000114E 1851                       19448    01122000           LR    R5,R1               ->DSCB(s)
 USING  *,R10
 USING  XTRDSCBR-(4+52),R8
 001150 18F0                       19449    01123000           LR    R15,R0              ->vol rec
 USING  FSDEVREC,R15               19450    01124000           WITH  (FSDEVREC,R15),BEGIN     copy useful vol info
 001152 D201 8038 F018 00000 00018 19464  1 01125000             MVC   XTRDEVTL,FSDEVTL    track length
 001158 D201 803A F016 00002 00016 19465  1 01126000             MVC   XTRDEVTC,FSDEVTC    tracks/cyl
 DROP   FSDEVREC,R15               19466    01127000           END   ,                      (with FSDEVREC)
 00115E 94BF B98E      0098E       19474    01128000           CLEAR FMT3S1DONE          haven't done FMT3 yet
 001162 94DF B98E      0098E       19481    01129000           CLEAR FMT3S2DONE          haven't done FMT3 yet
 USING  IECSDSL1,R5                19488    01130000           WITH  (IECSDSL1,R5),BEGIN
 001166 D22B 9100 5000 00100 00000 19502  1 01131000             MVC   SBDSN,DS1DSNAM      DSNAME
 00116C D202 912C 5035 0012C 00035 19503  1 01132000             MVC   SBCRDT,DS1CREDT     CREATION DATE
 001172 D202 912F 5038 0012F 00038 19504  1 01133000             MVC   SBEXDT,DS1EXPDT     Expiration date (for real)
                                   19505  1 01134000  **-XPDT  MVC   SBRFDT,DS1EXPDT     previously used to hold LA date...
                                   19506  1 01135000  **-XPDT  IF  ((DS1REFD+1,GE,=H'1'),AND,(DS1REFD+1,LE,=H'366')),BEGIN
 001178 D202 9132 504B 00132 0004B 19507  1 01136000             MVC   SBRFDT,DS1REFD      Last referenced date (MVS)
                                   19508  1 01137000  **-XPDT  END   ,                      (good REFD)
 00117E D200 9138 505D 00138 0005D 19509  1 01138000             MVC   SBDSIND,DS1DSIND    Data set indicators
 001184 D200 9135 503B 00135 0003B 19510  1 01139000             MVC   SBNOEX,DS1NOEPV     NUMBER OF EXTENTS
 00118A D201 9136 5052 00136 00052 19511  1 01140000             MVC   SBDSORG,DS1DSORG    DSORG
 001190 D200 9139 5054 00139 00054 19512  1 01141000             MVC   SBRECFM,DS1RECFM    RECFM
 001196 D201 913C 5058 0013C 00058 19513  1 01142000             MVC   SBLRECL,DS1LRECL    LRECL
 00119C D201 913E 5056 0013E 00056 19514  1 01143000             MVC   SBBLKSZ,DS1BLKL     BLKSIZE
 0011A2 D200 913A 505A 0013A 0005A 19515  1 01144000             MVC   SBKEYL,DS1KEYL      KEY LENGTH
 0011A8 D204 9140 5062 00140 00062 19516  1 01145000             MVC   SBLB,DS1LSTAR       LAST RECORD WRITTEN
 0011AE D201 9146 8038 00146 00000 19517  1 01146000             MVC   SBTRKL,XTRDEVTL     track length from devtype
1FILESHOW (FILE7022) (10:07) (06JUN02) Extract DSCB Data                                                                    Page   72
0Current Usings:  (IECSDSL1,R5) (XTRDSCBR-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19518  1 01147000  *   Compute amount of space allocated from extent information
 0011B4 1B33                       19519  1 01148000  SDSNSPAC   CLEAR R3                  Total space (in trks)
 0011B6 4100 0003            00003 19524  1 01149000             LA    R0,3                Number of extents in fmt 1
 0011BA 1F22/4320 503B       0003B 19525  1 01150000             LC    R2,DS1NOEPV         Total number of extents
 0011C0 9140 5069      00069       19532  1 01151000             IF    DS1EXT1.X'40','LA R2,@R2+1'  Count user label extent
 0011C4 47E0 A07E            011CC 19543  1          +
 0011C8 4120 2001            00001 19549  1          +
 0011CC 41F0 5069            00069 19554  1 01152000             LA    R15,DS1EXT1         Addr of first extent descrip
 0011D0 1920                       19555  1 01153000  NXTXSECT   CR    R2,R0               TOTAL REMAINING VS MAX THIS SECT
 0011D2 4720 A08E            011DC 19556  1 01154000             BH    MULTSECT            BR IF MORE SECTIONS FOLLOWING
 0011D6 1202                       19557  1 01155000             LTR   R0,R2               TOTAL IS REMAINING
 0011D8 4780 A146            01294 19558  1 01156000             BZ    XTNTALL             UNLESS ZERO
 0011DC 1B20                       19559  1 01157000  MULTSECT   SR    R2,R0               REMAINING AFTER THIS SECTION
 0011DE 9500 F000      00000       19560  1 01158000  XTNTLP     CLI   @R15,0              IS THIS EXTENT ACTIVE?
 0011E2 4780 A0BA            01208 19561  1 01159000             BE    XTNTDONE            BR IF NO
 0011E6 D207 9178 F002 00178 00002 19562  1 01160000             MVC   FSHOWK,@R15+2       MOVE LOWER/UPPER DESCRIP
 0011EC 4810 917E            0017E 19563  1 01161000             LH    R1,FSHOWK+6         LAST TRACK
 0011F0 4110 1001            00001 19564  1 01162000             LA    R1,@R1+1            +1 FOR SUBT
 0011F4 4B10 917A            0017A 19565  1 01163000             SH    R1,FSHOWK+2         LESS FIRST TRACK
 0011F8 1A31                       19566  1 01164000             AR    R3,R1
 0011FA 4810 917C            0017C 19567  1 01165000             LH    R1,FSHOWK+4         UPPER CYL
 0011FE 4B10 9178            00178 19568  1 01166000             SH    R1,FSHOWK           LOWER CYL
 001202 4C10 803A            00002 19569  1 01167000             MH    R1,XTRDEVTC         trks/cyl
 001206 1A31                       19570  1 01168000             AR    R3,R1
 001208 41FF 000A            0000A 19571  1 01169000  XTNTDONE   LA    R15,DS1EXT2-DS1EXT1(R15)  TO NEXT DESCRIP
 00120C 4600 A090            011DE 19572  1 01170000             BCT   R0,XTNTLP           PROCESS NEXT ONE
                                   19573  1 01171000  *   All extents in this section of DSCB processed
 DROP   IECSDSL1,R5                19574    01172000           END   ,                      (with IECSDSL1)
 001210 1222                       19582    01173000           LTR   R2,R2               ARE THERE MORE?
 001212 4780 A146            01294 19583    01174000           BZ    XTNTALL             BR IF NO
 USING  IECSDSL3,R5                19584    01175000           WITH  (IECSDSL3,R5),BEGIN
 001216 9140 B98E      0098E       19598  1 01176000             IF    FMT3S1DONE,FMT3SEC2  if already did section 1
 00121A 4710 A136            01284 19610  1          +
 00121E 9120 B98E      0098E       19616  1 01177000             IF    FMT3S2DONE,BEGIN    Just finished a FMT3, get more
 001222 47E0 A11E            0126C 19626  1          +
 001226 4100 5087            0019F 19631  2 01178000               LA    R0,DS3PTRDS         ->CCHHR of FMT3
 00122A 4110 B8E2            008E2 19632  2 01179000               LA    R1,TVTVOLSER        ->VOL
                                   19633  2 01180000  *  Obtain format 3 DSCB.  Copied from OSFILE OBTFMT3 routine
000122E 58F0 AC3A            01D88 19635  2 01182000               L     R15,=A(CAMOBSK)     Address of model camlst
 001232 D20F BE88 F000 00E88 00000 19636  2 01183000               MVC   OSFCAMCT(16),@R15   Move in model camlist
 001238 5000 BE8C            00E8C 19637  2 01184000               ST    R0,OSFCAMCT+4       Address of cchhr required
 00123C 5010 BE90            00E90 19638  2 01185000               ST    R1,OSFCAMCT+8       Address of required volume serial
 001240 4100 BB44            00B44 19639  2 01186000               LA    R0,OSFFMT3          Address of fmt3 area return
 001244 5000 BE94            00E94 19640  2 01187000               ST    R0,OSFCAMCT+12      Address to receive fmt3
 001248 4110 BE88/0A1B       00E88 19641  2 01188000               OBTAIN OSFCAMCT           Read in fmt3 dscb
 00124E 90DF B0D4            000D4 19645  2 01189000               PTRACE OBTFMT3RT
 001252 58F0 C014/0DEF       00014 19648  2          +
 001258 D6C2E3C6D4E3F3D9           19650  2          +
 001260 98DF B0D4            000D4 19651  2          +
 001264 94BF B98E      0098E       19652  2 01190000               CLEAR FMT3S1DONE
 001268 94DF B98E      0098E       19659  2 01191000               CLEAR FMT3S2DONE
 00126C                            19666  1 01192000             END   ,                      (get more FMT3s)
 00126C A122           0126C 01224 19670  1 01193000             ELSE  BEGIN               must have just finished the FMT1
1FILESHOW (FILE7022) (10:07) (06JUN02) Extract DSCB Data                                                                    Page   73
0Current Usings:  (IECSDSL3,R5) (XTRDSCBR-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000126C 47F0 A126            01274 19675  1          +
 001270 4150 508C            0008C 19681  2 01194000               LA    R5,140(,R5)         ->FMT3 then (just did FMT1)
 001274                            19682  1 01195000             END   ,                      (just did FMT1)
                                   19686  1 01196000  *  Start processing a FMT3
 001274 4100 0004            00004 19687  1 01197000             LA    R0,4                4 EXTENTS IN FIRST SECTION
 001278 41F0 5004            0011C 19688  1 01198000             LA    R15,DS3EXTNT        ADDR OF FIRST SECTION
 00127C 9640 B98E      0098E       19689  1 01199000             SET   FMT3S1DONE          remmber we did it
 001280 47F0 A082            011D0 19695  1 01200000             B     NXTXSECT            GO PROCESS IT
                                   19696  1 01201000
 001284 41F0 502D            00145 19697  1 01202000  FMT3SEC2   LA    R15,DS3ADEXT        ADDR OF SECTION 2 IN FMT 3
 001288 4100 0009            00009 19698  1 01203000             LA    R0,9                9 EXTENTS IN SECT 2
 00128C 9620 B98E      0098E       19699  1 01204000             SET   FMT3S2DONE          remmber we did it
 001290 47F0 A082            011D0 19705  1 01205000             B     NXTXSECT
-001294 4030 9148            00148 19707  1 01207000  XTNTALL    STH   R3,SBTRK            SAVE TOTAL
0001298 1BFF                       19709  1 01209000             CLEAR R15                 COMP CODE
 DROP   IECSDSL3,R5                19713    01210000           END   ,                      (With IECSDSL3)
 00129A 18D8/980C D004       00004 19721    01211000           PEND  ,                   XTRDSCB
 DROP   XTRDSCBR-(4+52),R8
 DROP   *,R10
 0012A0 58E0 D000/12FF       00000 19742             +
 0012A6 07FE                       19745             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Show Volume Table Of Contents                                                        Page   74
0Current Usings:  (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19748    01214000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   19749    01215000  Ÿ  SHOW VTOC - display dsn info in VTOC                               Ÿ
                                   19750    01216000  Ÿ  On entry:   R15 ->SEGCB                                            Ÿ
                                   19751    01217000  Ÿ              R1=FSHOAREA area                                       Ÿ
                                   19752    01218000  Ÿ                                                                     Ÿ
                                   19753    01219000  Ÿ  On exit:  RC=0 normal                                              Ÿ
                                   19754    01220000  Ÿ               4 invalid node ?                                      Ÿ
                                   19755    01221000  Ÿ               8 VTOC error?                                         Ÿ
                                   19756    01222000  Ÿ  info seg'd.                                                        Ÿ
                                   19757    01223000  Ÿ                                                                     Ÿ
                                   19758    01224000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00D30 19759    01225000  CVAFWORK DSECT ,                   Dynamic area for VTOCSHOW
0                                  19761    01227000  *  Record area for formatted output, mapped by DSNREC (see SUPERLOC)
0000000                            19763    01229000  VDSNREC  DS    CL(DSNREC#)
0                                  19765    01231000  *  Parameter list area for CVAFFILT
0                                  19767    01233000C CVAFLST  CVAFFILT ACCESS=READ,FCL=*-*,FLTAREA=KEEP,IOAREA=KEEP,
 0000EB 00/C3E5D7D3                         01234000                 BUFLIST=*-*,MF=L
 0000F0 0044/0E/00/40              19771             +
 0000F5 00/80/00                   19775             +
 0000F8 00000000                   19778             +
 0000FC 00000000                   19779             +
 000100 00000000                   19780             +
 000104 00000000                   19781             +
 000108 00000000                   19782             +
 00010C 00000000                   19783             +
 000110 00000000                   19784             +
 000114 00000000                   19785             +
 000118 00000000                   19786             +
 00011C 00000000                   19787             +
 000120 00000000                   19788             +
 000124 00000000                   19789             +
 000128 00000000                   19790             +
 00012C 00000000                   19791             +
                                   19793    01235000  CVSTAT   EQU   CVAFLST+7,1,C'X'    status code
                                   19794    01236000  CVFUNC   EQU   CVAFLST+6,1,C'X'    function code
-                                  19797    01239000  *  Filter Criterea List
                                   19798    01240000  *  In spite of the DSECT=NO, this %!%?* macro generates a DSECT stmt,
                                   19799    01241000  *  so beware...
 000140                00000 00D30 19800    01242000           PUSH  DSECTS
0                                  19856    01247000  *  Dsname list for filter criterea:  One dsname entry
0000140 00000000                   19858    01249000  FCNTRY   DC    F'0'                FCL entry
                                   19859    01250000  FXNLN    EQU   FCNTRY+1            name length
 000144 00000000                   19860    01251000  FC@DSN   DC    A(0)                ->dsname
1FILESHOW (FILE7022) (10:07) (06JUN02) Show Volume Table Of Contents                                                        Page   75
0Current Usings:  (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  19862    01253000  BFLE$N   EQU   20                  #DSCBs we want to get per buf
                                   19863    01254000  DSCB$SIZ EQU   140                 L'DSCB
0                                  19865    01256000  *  Buffer List
0000148 0000000000000000           19867    01258000  BFLH$DEF DC    (BFLHLN)X'00'       Buffer List Header
 000150 0000000000000000           19868    01259000  BFLE$DEF DC    (BFLE$N*BFLELN)X'00' buffer list elements
                                   19869    01260000  BFL$SIZE EQU   *-BFLH$DEF
 000240                            19870    01261000  DSCB$DEF DS    0XL(DSCB$SIZ)       buffers (DSCB area)
 000240                            19871    01262000           DS    (BFLE$N*DSCB$SIZ)X
 000D30                            19872    01263000           DS    0D
                                   19873    01264000  #CVAFWKA EQU   *-CVAFWORK          Length of area
 000000                00000 00008 19874    01265000  BFL$MAP  ICVAFBFL
 000000                00000 0000C 19891             +*                                      LIST
00012A8                01128 01F6C 19921    01267000  FILESHOW CSECT ,                   resume control section
                                   19923    01268000           USING GVT                 Global vector table ptr
                                   19925    01269000           USING TVT                 Task vector table
0000000                00000 0000C 19928    01271000  DYNCHWK  RECORD BEGIN
 000000 4DF0F0F0F060F0F0           19936  1 01272000  DYNCHRGD   DC    C'(0000-0000)'''   info/reason code area, quote
 00000C                0000C 00000 19937  1 01273000             ORG   DYNCHRGD
 000000 4D                         19938  1 01274000             DC    C'('
 000001 F0F0F0F060                 19939  1 01275000  DYNCHRG1   DC    C'0000',C'-'        first digits
 000006 F0F0F0F05D                 19940  1 01276000  DYNCHRG2   DC    C'0000',C')'        second digits
                                   19941  1 01277000  #DYNCHWK   EQU   *-DYNCHWK           length
 00000B                0000B 0000C 19942    01278000           END   DYNCHWK
00012A8 90DF B0D4            000D4 19952    01280000  SHOWVTOC XPROC FSDEVREC
 0012AC 58F0 C014/0DEF       00014 19965             +
 0012B2 E2C8D6E6E5E3D6C3           19967             +
 0012BA 98DF B0D4            000D4 19968             +
 0012BE 50E0 D000            00000 19971             +
 0012C2 900C D004/188D       00004 19974             +
 0012C8 41D0 D05C/0DA0       0005C 19977             +
 0012CE 1891                       20009    01281000           LR    R9,R1               Save parm pointer
 USING  *,R10
 USING  FSDEVREC-(4+52),R8
                                   20010    01282000           USING FSHOAREA,R9
 0012D0 50F0 9150            00150 20012    01283000           ST    R15,SEGSAVE         Save seg ptr.
                                   20013    01284000           SEGDEF L:SEGSAVE
 0012D4 4840 9090            00090 20014    01285000           LH    R4,FSHO#LIK         Save length
 0012D8 4240 90A0            000A0 20015    01286000           STC   R4,#USERNOD         Save for CVAF parmlist
 0012DC D22A 90A1 9038 000A1 00038 20016    01287000           MVC   USERNODE,FSHOLIKE
 0012E2                            20017    01288000           CLEAR TVTFSWKA1           No storage yet
 0012E2 D703 B990 B990 00990 00990 20023             +
0                                  20025    01290000  *  tweak the LIKE string to use CVAF "wildcard" chars as needed
00012E8 9110 B98D      0098D       20027    01292000           IF    ~FSHOONLY,BEGIN     ONLY doesn't use wildcard
 0012EC 4710 A0B2            01380 20037             +
 0012F0 DD2B 9038 A706 00038 019D4 20042  1 01293000             TRT   FSHOLIKE,$FILTCHR   does it already use wildcards?
 0012F6 4770 A0B2            01380 20043  1 01294000             IF    Z,BEGIN             If not, gotta add one
 0012FA 4820 9090            00090 20054  2 01295000               LH    R2,FSHO#LIK         L'LIKE
1FILESHOW (FILE7022) (10:07) (06JUN02) Show Volume Table Of Contents                                                        Page   76
0Current Usings:  (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00012FE 4112 90A1            000A1 20055  2 01296000               LA    R1,USERNODE(R2)     ->past end
 001302 5920 AABE            01D8C 20056  2 01297000               IF    (R2,LE,40),BEGIN    plenty of room
 001306 4730 A062            01330 20068  2          +
 00130A 18F1                       20073  3 01298000                 LR    R15,R1              ->past end
 00130C 5BF0 AAC2            01D90 20074  3 01299000                 S     R15,=F'1'           ->last byte
 001310 954B F000      00000       20075  3 01300000                 CLI   @R15,C'.'           last is dot?
 001314 4780 A054            01322 20076  3 01301000                 IF    NE,BEGIN            last not dot
 001318 D203 1000 AAC6 00000 01D94 20087  4 01302000                   MVC   @R1(4),=C'*.**'     generic "zero or more"
 00131E 4122 0004            00004 20088  4 01303000                   LA    R2,4(R2)            new length
 001322                            20089  3 01304000                 END   ,                     (last not dot)
 001322 A058           01322 01316 20093  3 01305000                 ELSE  BEGIN               last is dot
 001322 47F0 A062            01330 20098  3          +
 001326 D201 1000 AB9A 00000 01E68 20104  4 01306000                   MVC   @R1(2),=C'**'       zero or more quals
 00132C 4122 0002            00002 20105  4 01307000                   LA    R2,2(R2)            new length
 001330                            20106  3 01308000                 END   ,                     (last is dot)
 001330                            20110  2 01309000               END   ,                     (plenty)
 001330 A066           01330 01308 20114  2 01310000               ELSE  BEGIN               too long to add wildcards
 001330 47F0 A0AE            0137C 20119  2          +
 001334 41F0 B564            00564 20125  3 01311000                 SEGCLR ERRSCB             Clear error seg control block
 001338 58E0 AACA/0DEE       01D98 20136  3          +
 00133E 9610 B4B1      004B1       20138  3 01312000                 SET   TERRMSG             msg processing
 001342 4110 AC14            01EE2 20144  3 01313000                 SEG   'ERRID=BADDSN ERRMSG='''
 001346 4100 0015            00015 20148  3          +
 00134A 41F0 B564            00564 20156  3          +
 00134E 58E0 AACE/0DEE       01D9C 20159  3          +
 001354 4110 9038            00038 20161  3 01314000                 SEGT  FSHOLIKE            the dsn
 001358 4100 002C            0002C 20176  3          +
 00135C 41F0 B564            00564 20184  3          +
 001360 58E0 AAD2/0DEE       01DA0 20187  3          +
 001366 4110 AB9C            01E6A 20189  3 01315000                 SEG   ':  name too long for LIKE'''
 00136A 4100 001A            0001A 20193  3          +
 00136E 41F0 B564            00564 20201  3          +
 001372 58E0 AACE/0DEE       01D9C 20204  3          +
 001378 47F0 A5D0            0189E 20206  3 01316000                 B     VBARF               QUIT
 00137C                            20207  2 01317000               END   ,                      (too long)
 00137C 4220 90A0            000A0 20211  2 01318000               STC   R2,#USERNOD         New length
 001380                            20212  1 01319000             END   ,                      (not already wild)
 001380                            20216    01320000           END   ,                      (not ONLY)
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   77
0Current Usings:  (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001380 5800 A6BE            0198C 20221    01322000           L     R0,VTOCWKAL         L'VOL work area
 001384 58E0 AAD6/0DEE       01DA4 20222    01323000           VCALL GETLOW
0                                  20227    01325000  **-      IF    (R15,NZ),BEGIN      no core
                                   20228    01326000  **-      SEG   'ERRID=WINGFAIL ERRMSG='''
                                   20229    01327000  **-      SEG   'VTOC_SHOW could not get workarea'''
                                   20230    01328000  **-      SEGWR ,
                                   20231    01329000  **-      LA    R15,20              RC
                                   20232    01330000  **-      EXIT  SHOWVTOC
                                   20233    01331000  **-      END   ,                   (no core)
 00138A 5010 B990            00990 20234    01332000           ST    R1,TVTFSWKA1        save pointer
 00138E 58F0 B178            00178 20235    01333000           RECVRY ROUT=S26WFREE,STCKOVFL=STCKOFL2
 001392 58E0 AADA            01DA8 20237             +
 001396 41F0 F004            00004 20238             +
 00139A D503 F000 AADE 00000 01DAC 20239             +
 0013A0 4770 A0DA            013A8 20246             +
 0013A4 47F0 A9BA            01C88 20252             +
 0013A8 50EF B178            00178 20257             +
 0013AC 50F0 B178            00178 20258             +
0                                  20260    01335000  * Check volume
 0013B0 D505 B76A C0E0 0076A 000E0 20261    01336000           CLC   TVTPBVOL,GVTBLANK   VOL given?
 0013B6 4720 A134            01402 20262    01337000           IF    NH,BEGIN            no VOL
 0013BA 41F0 B564            00564 20273  1 01338000             SEGCLR ERRSCB             Clear error seg control block
 0013BE 58E0 AACA/0DEE       01D98 20284  1          +
 0013C4 9610 B4B1      004B1       20286  1 01339000             SET   TERRMSG             msg processing
 0013C8 4110 AAE2            01DB0 20292  1 01340000             SEG   'ERRID=NOVOL ERRMSG='''
 0013CC 4100 0014            00014 20296  1          +
 0013D0 41F0 B564            00564 20304  1          +
 0013D4 58E0 AACE/0DEE       01D9C 20307  1          +
 0013DA 4110 AAF6            01DC4 20309  1 01341000             SEG   'Volume not specified'
 0013DE 4100 0014            00014 20313  1          +
 0013E2 41F0 B564            00564 20321  1          +
 0013E6 58E0 AACE/0DEE       01D9C 20324  1          +
 0013EC 4110 AC29            01EF7 20326  1 01342000             SEG   ''''
 0013F0 4100 0001            00001 20330  1          +
 0013F4 41F0 B564            00564 20338  1          +
 0013F8 58E0 AACE/0DEE       01D9C 20341  1          +
 0013FE 47F0 A5D0            0189E 20343  1 01343000             B     VBARF
 001402                            20344    01344000           END   ,                   (no vol)
 001402 A138           01402 013B8 20348    01345000           ELSE  BEGIN               check vol
 001402 47F0 A1A8            01476 20353             +
 001406 D205 803C B76A 00004 0076A 20359  1 01346000             MVC   FSDVOLSR,TVTPBVOL   volser
 00140C 4110 8038            00000 20360  1 01347000             LA    R1,FSDEVREC         volume record area
 001410 58E0 AB0A/0DEE       01DD8 20361  1 01348000             ACALL FSUCB               see if mounted, get info
 001416 12FF/4780 A1A8       01476 20365  1 01349000             IF    (R15,NZ),BEGIN      No volume
 00141C 41F0 B564            00564 20379  2 01350000               SEGCLR ERRSCB             Clear error seg control block
 001420 58E0 AACA/0DEE       01D98 20390  2          +
 001426 9610 B4B1      004B1       20392  2 01351000               SET   TERRMSG             msg processing
 00142A 4110 ABB6            01E84 20398  2 01352000               SEG   'ERRID=NOTMNTD ERRMSG='''
 00142E 4100 0016            00016 20402  2          +
 001432 41F0 B564            00564 20410  2          +
 001436 58E0 AACE/0DEE       01D9C 20413  2          +
 00143C 4110 AC2A            01EF8 20415  2 01353000               SEG   'volume '
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   78
0Current Usings:  (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001440 4100 0007            00007 20419  2          +
 001444 41F0 B564            00564 20427  2          +
 001448 58E0 AACE/0DEE       01D9C 20430  2          +
 00144E 4110 B76A            0076A 20432  2 01354000               SEGB  TVTPBVOL            The vol-ser
 001452 4100 0006            00006 20447  2          +
 001456 41F0 B564            00564 20455  2          +
 00145A 58E0 AB0E/0DEE       01DDC 20458  2          +
 001460 4110 AAA2            01D70 20460  2 01355000               SEG   ' is not mounted'''
 001464 4100 0010            00010 20464  2          +
 001468 41F0 B564            00564 20472  2          +
 00146C 58E0 AACE/0DEE       01D9C 20475  2          +
 001472 47F0 A5D0            0189E 20477  2 01356000               B     VBARF
 001476                            20478  1 01357000             END   ,                   (no volume)
 001476                            20482    01358000           END   ,                   (check vol)
0001476 4110 B128            00128 20487    01360000           DYNCLEAR ,                Clean dynamic allocation buffer
 00147A 58E0 AB12/0DEE       01DE0 20497             +
 001480 D22B B5B0 AC31 005B0 01EFF 20499    01361000           MVC   TVTPBDSNAME,=C'SYS99999.T000000.RA000.D#' like tempname
                                   20500    01362000  *                             0....v....1....v....2....v....3.
 001486 D205 B5C9 B76A 005C9 0076A 20501    01363000           MVC   TVTPBDSNAME+25(6),TVTPBVOL    volser in the dsn
 00148C D20C B5CF C0E0 005CF 000E0 20502    01364000           MVC   TVTPBDSNAME+31(13),GVTBLANK   clean up...
 001492 181D/41D0 D034       00034 20503    01365000           DYNADD (DALDSNAM,1,44),TVTPBDSNAME  Specify data set name
 001498 D205 1000 ABCC 00000 01E9A 20507             +
 00149E D22B 1006 B5B0 00006 005B0 20508             +
 0014A4 41F0 B128            00128 20515             +
 0014A8 58E0 AB16/0DEE       01DE4 20518             +
 0014AE 4BD0 ABD2            01EA0 20521             +
 0014B2 181D/41D0 D008       00008 20522    01366000           DYNADD (DALSTATS,1,1),=X'08'        disp=shr
 0014B8 D205 1000 ABD4 00000 01EA2 20526             +
 0014BE D200 1006 AC4A 00006 01F18 20527             +
 0014C4 41F0 B128            00128 20534             +
 0014C8 58E0 AB16/0DEE       01DE4 20537             +
 0014CE 4BD0 ABDA            01EA8 20540             +
 0014D2 181D/41D0 D00C       0000C 20541    01367000           DYNADD (DALVLSER,1,6),TVTPBVOL      set volume serial
 0014D8 D205 1000 ABDC 00000 01EAA 20545             +
 0014DE D205 1006 B76A 00006 0076A 20546             +
 0014E4 41F0 B128            00128 20553             +
 0014E8 58E0 AB16/0DEE       01DE4 20556             +
 0014EE 4BD0 ABE2            01EB0 20559             +
 0014F2 181D/41D0 D010       00010 20560    01368000           DYNADD (DALUNIT,1,8),=CL8'SYSALLDA' Add unit specification
 0014F8 D205 1000 ABE4 00000 01EB2 20564             +
 0014FE D207 1006 AAB2 00006 01D80 20565             +
 001504 41F0 B128            00128 20572             +
 001508 58E0 AB16/0DEE       01DE4 20575             +
 00150E 4BD0 ABEA            01EB8 20578             +
 001512 181D/41D0 D010       00010 20579    01369000           DYNADD (DALRTDDN,1,8),GVTBLANK      return ddname
 001518 D205 1000 ABEC 00000 01EBA 20583             +
 00151E D207 1006 C0E0 00006 000E0 20584             +
 001524 41F0 B128            00128 20591             +
 001528 58E0 AB16/0DEE       01DE4 20594             +
 00152E 4BD0 ABEA            01EB8 20597             +
 001532 5010 D000            00000 20598    01370000           XPUSH R1                            save address of ddname
 001536 41D0 D004            00004 20600             +
 00153A 41F0 B128            00128 20601    01371000           DYNCALL ,                           allocate file
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   79
0Current Usings:  (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
000153E 58E0 AB1A/0DEE       01DE8 20611             +
0001544 12FF/4780 A306       015D4 20614    01373000           IF    (R15,NZ),BEGIN      dynalloc failed (unusual error)
 00154A 5820 B128            00128 20628  1 01374000             L     R2,TVTDYNBF         Load address of dyntable control
 USING  DYNTABLE,R2                20629  1 01375000             WITH  (DYNTABLE,R2)       Addressability to dynamic buffer
 00154E 185D/41D0 D00C       0000C 20642  1 01376000             XPUSH ,,#DYNCHWK,PTR=R5
 USING  DYNCHWK,R5                 20645  1 01377000             WITH  (DYNCHWK,R5),BEGIN
                                   20659  2 01378000  *  Get return codes
0001554 5830 2044            00044 20661  2 01380000               L     R3,DYNTRETC         R3 - RETURN CODE
 001558 5840 2008            00008 20662  2 01381000               L     R4,DYN99CBP         ->parmlist
 USING  S99RB,R4                   20663  2 01382000               WITH  (S99RB,R4)          S99RB area
0                                  20677  2 01384000  *  Prepare dump of error/info codes
000155C D20B 5000 AC4B 00000 01F19 20679  2 01386000               MVC   DYNCHRGD,=C'(0000-0000) '''       prime it
 001562 1FFF/BFF3 4004       00004 20680  2 01387000               BTX   DYNCHRG1,4,L2:S99ERROR    error code
 001568 4100 0004            00004 20695  2          +
 00156C 4110 5001            00001 20702  2          +
 001570 58E0 AB1E/0DEE       01DEC 20705  2          +
 001576 1FFF/BFF3 4006       00006 20707  2 01388000               BTX   DYNCHRG2,4,L2:S99INFO     info code
 00157C 4100 0004            00004 20722  2          +
 001580 4110 5006            00006 20729  2          +
 001584 58E0 AB1E/0DEE       01DEC 20732  2          +
 00158A 41F0 B564            00564 20734  2 01389000               SEGCLR ERRSCB             Clear error seg control block
 00158E 58E0 AACA/0DEE       01D98 20745  2          +
                                   20747  2 01390000C              SEG   'ERRID=VTOCERR ERRMSG=''FILESHOW ERROR:  VTOC allocate f
 001594 4110 AB22            01DF0        2 01391000                     ailed '
 001598 4100 003C            0003C 20751  2          +
 00159C 41F0 B564            00564 20759  2          +
 0015A0 58E0 AACE/0DEE       01D9C 20762  2          +
 0015A6 4110 5000            00000 20764  2 01392000               SEG   DYNCHRGD            info/reason codes
 0015AA 4100 000C            0000C 20778  2          +
 0015AE 41F0 B564            00564 20786  2          +
 0015B2 58E0 AACE/0DEE       01D9C 20789  2          +
 0015B8 4110 AC29            01EF7 20791  2 01393000               SEG   ''''                close quote
 0015BC 4100 0001            00001 20795  2          +
 0015C0 41F0 B564            00564 20803  2          +
 0015C4 58E0 AACE/0DEE       01D9C 20806  2          +
 0015CA 9610 B4B1      004B1       20808  2 01394000               SET   TERRMSG
 0015CE 18D5                       20814  2 01395000               XPOP  PTR=R5              free work space
 DROP   S99RB,R4                   20816  1 01396000             END   ,                      (with R5)
 DROP   DYNCHWK,R5
 0015D0 47F0 A5D0            0189E 20829  1 01397000             B     VBARF               give up
 DROP   DYNTABLE,R2                20830    01398000           END   ,                   (dynalloc fail)
00015D4 4BD0 ABF2            01EC0 20840    01400000           XPOP  R2                  Retrieve address of ddname ret
 0015D8 5820 D000            00000 20842             +
 0015DC D207 B8D8 C0E0 008D8 000E0 20843    01401000           MVC   TVTDDNAME,GVTBLANK  Blank out ddname
 0015E2 4810 2004            00004 20844    01402000           LH    R1,@R2+4            Load length of returned ddname
 0015E6 0610/4410 AC98       01F66 20845    01403000           DEX   R1,'MVC TVTDDNAME(0),@R2+6'   move in ddname
 001F66 D200 B8D8 2006 008D8 00006 20856             +
 0015EC 5870 B990            00990 20864    01404000           L     R7,TVTFSWKA1        ->VTOCSHOW dynamic area
 USING  CVAFWORK,R7                20865    01405000           USING CVAFWORK,R7
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   80
0Current Usings:  (CVAFWORK,R7) (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  20875    01407000  *  Initialize DSN record (compatible with FILESHOW)
00015F0 4160 7000            00000 20877    01409000           LA    R6,VDSNREC          ->our version of DSNREC
 USING  DSNREC,R6                  20878    01410000           WITH  (DSNREC,R6),BEGIN   addressability
 0015F4 D2EA 6000 C0E0 00058 000E0 20892  1 01411000             MVC   DSNREC(DSNREC#),GVTBLANK
 0015FA 92F0 6000      00058       20893  1 01412000             MVI   DSNCATTP,C'0'       not a catalog entry
 0015FE D205 602E B76A 00086 0076A 20894  1 01413000             MVC   DSNVOL,TVTPBVOL     volser
 001604 92C4 6035      0008D       20895  1 01414000             MVI   DSNDEVTP,C'D'       it's a disk
 001608 D202 603A AC58 00092 01F26 20896  1 01415000             MVC   DSNVLCNT,=C'001'    volume count
 00160E BFFF 8044            0000C 20897  1 01416000             BTX   DSNUCBTP,8,L4:FSDEVTAB   UCBTYP info in hex
 001612 4100 0008            00008 20908  1          +
 001616 4110 603E            00096 20915  1          +
 00161A 58E0 AB1E/0DEE       01DEC 20918  1          +
 001620 1B22                       20920  1 01417000             SR    R2,R2
 001622 D209 6047 ABF4 0009F 01EC2 20921  1 01418000             MVC   DSNDVDES,=C'????      ' unknown so far
 001628 4320 8047            0000F 20922  1 01419000             IC    R2,FSDEVTAB+3       Model ID byte DEVUNTYP
 00162C 5920 A6BA            01988 20923  1 01420000             C     R2,#DEVTABL         See if invalid code
 001630 4720 A374            01642 20924  1 01421000             IF    NH,BEGIN            Done if invalid
 001634 4C20 ABFE            01ECC 20935  2 01422000               MH    R2,=AL2(##LDEVTB)   * table offset
 001638 4122 A5E2            018B0 20936  2 01423000               LA    R2,DEVTABLE(R2)     Point to ID in table
 00163C D207 6047 2000 0009F 00000 20937  2 01424000               MVC   DSNDVDES(8),0(R2)    Move ID into msg
 001642                            20938  1 01425000             END   ,                      (valid code)
 DROP   DSNREC,R6                  20942    01426000           END   ,                      (with VDSNREC)
0                                  20951    01428000  *  Build CVAF parameter list
0001642 D243 70EC A6C2 000EC 01990 20953    01430000           MVC   CVAFLST(CVAFL###),CVAFL##         copy skeleton list
0                                  20955    01432000  *  Initialize FCL (DSN and its length done above)
 001648 4100 0001            00001 20956    01433000           LA    R0,1
 00164C 4000 7134            00134 20957    01434000           STH   R0,FCLCOUNT
 001650 D203 7130 AB5E 00130 01E2C 20958    01435000           MVC   FCLID,=C'FCL '      FCL ID
 001656 D701 7136 7136 00136 00136 20959    01436000           XC    FCLDSCBR,FCLDSCBR   none returned yet       ml961216
 00165C 9200 7138      00138       20960    01437000           MVI   FCL1FLAG,0
 001660 9200 7139      00139       20961    01438000           MVI   FCL2FLAG,0
 001664 D705 713A 713A 0013A 0013A 20962    01439000           XC    FCLDRSV,FCLDRSV
 00166A D703 7140 7140 00140 00140 20963    01440000           XC    FCNTRY,FCNTRY       clear
 001670 D203 7141 90A0 00141 000A0 20964    01441000           MVC   FXNLN,#USERNOD      L'DSN
 001676 4100 90A1            000A1 20965    01442000           LA    R0,USERNODE         ->DSN
 00167A 5000 7144            00144 20966    01443000           ST    R0,FC@DSN           in FCL
                                   20967    01444000  *  Initialize buffer list
 00167E 4120 7148            00148 20968    01445000           LA    R2,BFLH$DEF         ->area
 001682 5830 AB62            01E30 20969    01446000           L     R3,=A(BFLE$N*DSCB$SIZ+BFL$SIZE) length
 001686 1BFF                       20970    01447000           SR    R15,R15             no from, pad zero
 001688 0E2E                       20971    01448000           MVCL  R2,R14              clear area
 00168A 41F0 7148            00148 20972    01449000           LA    R15,BFLH$DEF
 USING  BFL$MAP,R15                20973    01450000           WITH  (BFL$MAP,R15),BEGIN
 00168E 9214 F000      00000       20987  1 01451000             MVI   BFLHNOE,BFLE$N      no. entries
 001692 9204 F001      00001       20988  1 01452000             MVI   BFLHKEY,BFLHDSCB    we want DSCBs
 DROP   BFL$MAP,R15                20989    01453000           END   ,                   (with R15)
 001696 4120 7150            00150 20997    01454000           LA    R2,BFLE$DEF         ->buf list elements
 USING  BFLE,R2                    20998    01455000           WITH  (BFLE,R2),BEGIN
 00169A 4130 7240            00240 21012  1 01456000             LA    R3,DSCB$DEF         ->1st DSCB buffer
 00169E 4140 0014            00014 21013  1 01457000             LA    R4,BFLE$N           no. buffers
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   81
0Current Usings:  (BFLE,R2) (CVAFWORK,R7) (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00016A2 9640 2000      00000       21014  1 01458000  BFLP       OI    BFLEFL,BFLECHR      We want CCHHRs
 0016A6 928C 2002      00002       21015  1 01459000             MVI   BFLELTH,DSCB$SIZ    L'element=DSCB length
 0016AA 5030 2008            00008 21016  1 01460000             ST    R3,BFLEBUF          ->buffer
 0016AE 4122 000C            0000C 21017  1 01461000             LA    R2,BFLELN(R2)       ->next element
 0016B2 4133 008C            0008C 21018  1 01462000             LA    R3,DSCB$SIZ(R3)     ->next buffer
 0016B6 4640 A3D4            016A2 21019  1 01463000             BCT   R4,BFLP             do next one
 DROP   BFLE,R2                    21020    01464000           END   ,                   (with R2)
00016BA 58F0 B178            00178 21029    01466000           RECVRY ROUT=CVAFFREE,STCKOVFL=STCKOFL2
 0016BE 58E0 AB66            01E34 21031             +
 0016C2 41F0 F004            00004 21032             +
 0016C6 D503 F000 AADE 00000 01DAC 21033             +
 0016CC 4770 A406            016D4 21040             +
 0016D0 47F0 A9BA            01C88 21046             +
 0016D4 50EF B178            00178 21051             +
 0016D8 50F0 B178            00178 21052             +
0                                  21054    01468000  *  go get 'em
0                                  21056    01470000C CVCALL   CVAFFILT ACCESS=READ,FCL=FCLIST,BUFLIST=BFLH$DEF,UCB=FSDUCBPT,
 0016DC 4110 70EC            000EC          01471000                 MF=(E,CVAFLST)
 0016E0 920E 1006      00006       21060             +
 0016E4 58F0 8038            00000 21061             +
 0016E8 50F0 100C            0000C 21062             +
 0016EC 41F0 7130            00130 21063             +
 0016F0 50F0 1010            00010 21064             +
 0016F4 41F0 7148            00148 21065             +
 0016F8 50F0 1014/0A8B       00014 21066             +
00016FE                            21069    01473000  TESTRC   LABEL ,
 0016FE 50F0 9098            00098 21071    01474000           ST    R15,FSHORCOD        Save RC
 001702 41F0 7140            00140 21072    01475000           LA    R15,FCLHDEND        ->dsn list
                                   21073    01476000  **-      WITH  (FCLDSN,R15),'CLI FCLDSNST,FCLST01' Got any DSCBs?
                                   21074    01477000  **-      BNE   RLSE                If none                 ml961216
                                   21075    01478000  ** the above created a new bug, the field isn't updated until all
                                   21076    01479000  ** dscbs matching a name are found.  Added clear of count below,
                                   21077    01480000  ** hoping that fixes the original problem (0C4 chasing undefined
                                   21078    01481000  ** pointer)                                                ml970121
0                                  21080    01483000  *  Process buffer contents
 001706 4150 7150            00150 21081    01484000           LA    R5,BFLE$DEF         ->buf list elements
 USING  BFLE,R5                    21082    01485000           WITH  (BFLE,R5),BEGIN
 00170A 4130 7240            00240 21096  1 01486000             LA    R3,DSCB$DEF         ->1st DSCB buffer
 00170E 4840 7136            00136 21097  1 01487000             LH    R4,FCLDSCBR         no. DSCBs returned
 001712 1244/4720 A4C4       01792 21098  1 01488000             IF    (R4,P),DCLP         if any
0                                  21116  1 01489010  *  if none, check RC
 001718 58F0 9098            00098 21117  1 01489020             L     R15,FSHORCOD        the return code
 00171C 12FF/4780 A56C       0183A 21118  1 01489030             IF    (R15,Z),RLSE        RC=0, no items ->ok
0                                  21136  1 01489050  *  Prepare dump of error/info codes
0001722 41F0 B564            00564 21138  1 01489070             SEGCLR ERRSCB             Clear error seg control block
 001726 58E0 AACA/0DEE       01D98 21149  1          +
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   82
0Current Usings:  (BFLE,R5) (CVAFWORK,R7) (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21151  1 01489080C            SEG   'ERRID=VTOCERR ERRMSG=''FILESHOW ERROR:  VTOC access err
 00172C 4110 AC5B            01F29        1 01489090                   or, RC='
 001730 4100 003D            0003D 21155  1          +
 001734 41F0 B564            00564 21163  1          +
 001738 58E0 AACE/0DEE       01D9C 21166  1          +
 00173E 5810 9098            00098 21168  1 01489100             SEGDC FSHORCOD,2          Return code from CVAFFILT
 001742 4100 0002            00002 21179  1          +
 001746 41F0 B564            00564 21187  1          +
 00174A 58E0 AB6A/0DEE       01E38 21190  1          +
 001750 4110 AC00            01ECE 21192  1 01489110             SEG   ', status code='
 001754 4100 000E            0000E 21196  1          +
 001758 41F0 B564            00564 21204  1          +
 00175C 58E0 AACE/0DEE       01D9C 21207  1          +
 001762 1B00                       21209  1 01489120             CLEAR R0
 001764 4300 70F3            000F3 21213  1 01489130             IC    R0,CVSTAT           CVAF status code
 001768 1810/4100 0002       00002 21214  1 01489950             SEGHX (R0),2
 00176E 41F0 B564            00564 21233  1          +
 001772 58E0 AB6E/0DEE       01E3C 21236  1          +
 001778 4110 AC29            01EF7 21238  1 01489960             SEG   ''''                close quote
 00177C 4100 0001            00001 21242  1          +
 001780 41F0 B564            00564 21250  1          +
 001784 58E0 AACE/0DEE       01D9C 21253  1          +
 00178A 9610 B4B1      004B1       21255  1 01489970             SET   TERRMSG
 00178E 47F0 A5D0            0189E 21261  1 01489980             B     VBARF               give up
0                                  21263  1 01490000  *  loop through buffer list
0001792 5810 5008            00008 21265  1 01492000  dclp       L     R1,BFLEBUF          ->buffer (has DSCB)
0                                  21267  1 01494000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   21268  1 01495000  Ÿ                                                                     Ÿ
                                   21269  1 01496000  Ÿ  Process format 1 DSCB, and FMT3 if present.  If there is a FMT3,   Ÿ
                                   21270  1 01497000  Ÿ  it follows the FMT1 in the same buffer.                            Ÿ
                                   21271  1 01498000  Ÿ                                                                     Ÿ
                                          1           ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0                                  21273  1 01500000             SEGDEF L:SEGSAVE
0001796 95F3 102C      0002C       21275  1 01502000             CLI   @R1+(DS3FMTID-IECSDSL3),C'3'   is this a FMT3?
 00179A 4780 A530            017FE 21276  1 01503000             IF    EQ,PMSG             if so, skip it, was processed
                                   21290  1 01504000  *                                  in previous pass thru loop
 00179E D52B 900C 1000 0000C 00000 21291  1 01505000             CLC   FSHOFROM,@R1        FROM name
 0017A4 4720 A530            017FE 21292  1 01506000             IF    H,PMSG              if below FROM, next entry
 0017A8 D52B 9064 1000 00064 00000 21306  1 01507000             CLC   FSHOTO,@R1          TO name
 0017AE 4740 A530            017FE 21307  1 01508000             IF    L,PMSG              if above TO, next entry
                                   21321  1 01509000  **? If we're guaranteed to get them in sorted order, this could be
                                   21322  1 01510000  **? "done" instead of "next entry"
 0017B2 4120 7000            00000 21323  1 01511000             LA    R2,VDSNREC          ->output record
 USING  DSNREC,R2                  21324  1 01512000             WITH  (DSNREC,R2),BEGIN
 0017B6 D279 2052 C0E0 000AA 000E0 21338  2 01513000               MVC   DSNDSCBA,GVTBLANK   clear our part
 0017BC D22B 2002 1000 0005A 00000 21339  2 01514000               MVC   DSNDSN,@R1          DSN from fmt-1 DSCB
 DROP   DSNREC,R2                  21340  1 01515000             END   ,                      (with dsnrec)
                                   21348  1 01516000  *              R1 -> DSCB(s)
 0017C2 4100 8038            00000 21349  1 01517000             LA    R0,FSDEVREC         ->volume record
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   83
0Current Usings:  (BFLE,R5) (CVAFWORK,R7) (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00017C6 58E0 AB72/0DEE       01E40 21350  1 01518000             ACALL XTRDSCB             extract info for report
00017CC 4110 9100            00100 21355  1 01520000             LA    R1,SBUF             ->extracted data
 0017D0 58E0 AB76/0DEE       01E44 21356  1 01521000             ACALL WDSNINT             Format data
 0017D6 4110 7000            00000 21360  1 01522000             LA    R1,VDSNREC          ->record
 0017DA 4100 00EB            000EB 21361  1 01523000             LA    R0,DSNREC#          L'record
 0017DE 58E0 AB7A/0DEE       01E48 21362  1 01524000             VCALL RTRIM
 0017E4 4110 7000            00000 21366  1 01525000             SEG   VDSNREC,(R0)        write it
 0017E8 58F0 9150            00150 21385  1          +
 0017EC 58E0 AACE/0DEE       01D9C 21388  1          +
 0017F2 1B00/58F0 9150       00150 21390  1 01526000             SEGWR ,
 0017F8 58E0 AB7E/0DEE       01E4C 21410  1          +
00017FE                            21413  1 01528000  PMSG       label ,
 0017FE 4155 000C            0000C 21415  1 01529000             LA    R5,BFLELN(R5)       ->next element
 001802 4640 A4C4            01792 21416  1 01530000             BCT   R4,dclp             do next one
                                   21417  1 01531000             DROP  R2
 DROP   BFLE,R5                    21421    01532000           END   ,                   (with BFLE)
                                   21429    01533000  OUT      EQU   *
 001806 58F0 9098            00098 21430    01534000           L     R15,FSHORCOD        Restore RC
 00180A 59F0 AB82            01E50 21431    01535000           C     R15,=F'4'
 00180E 4720 A5D0            0189E 21432    01536000           BH    VBARF               if errors, don't resume
 001812 9540 70F3      000F3       21433    01537000           CLI   CVSTAT,X'40'        OK to resume?
 001816 4770 A56C            0183A 21434    01538000           BNE   RLSE                if not
 00181A 4120 7240            00240 21435    01539000           LA    R2,DSCB$DEF         ->area
 00181E 5830 AB86            01E54 21436    01540000           L     R3,=A(BFLE$N*DSCB$SIZ) length
 001822 1BFF                       21437    01541000           SR    R15,R15             no from, pad zero
 001824 0E2E                       21438    01542000           MVCL  R2,R14              clear area
 001826 D701 7136 7136 00136 00136 21439    01543000           XC    FCLDSCBR,FCLDSCBR   none returned yet       ml970121
 00182C 4110 70EC            000EC 21440    01544000           CVAFFILT ACCESS=RESUME,MF=(E,CVAFLST)   go get more
 001830 920F 1006/0A8B 00006       21443             +
 001836 47F0 A430            016FE 21445    01545000           B     TESTRC
000183A 58E0 AB66/0DEE       01E34 21447    01547000  RLSE     ACALL CVAFFREE            Free system's workareas
0001840 5810 B990            00990 21452    01549000           L     R1,TVTFSWKA1        ->wkarea
 001844 58E0 AB8A/0DEE       01E58 21453    01550000           XCALL FREECORE
 00184A                            21457    01551000           CLEAR TVTFSWKA1
 00184A D703 B990 B990 00990 00990 21463             +
0001850 4110 B128            00128 21465    01553000           DYNCLEAR ,                dynamic alloc buffer
 001854 58E0 AB12/0DEE       01DE0 21475             +
 00185A 4110 B128            00128 21477    01554000           DYNSET S99VRBUN           Set for dynamic unallocation
 00185E 4100 0002            00002 21485             +
 001862 58E0 AB8E/0DEE       01E5C 21488             +
 001868 181D/41D0 D010       00010 21490    01555000           DYNADD (DUNDDNAM,1,8),TVTDDNAME
 00186E D205 1000 AC0E 00000 01EDC 21494             +
 001874 D207 1006 B8D8 00006 008D8 21495             +
 00187A 41F0 B128            00128 21502             +
 00187E 58E0 AB16/0DEE       01DE4 21505             +
 001884 4BD0 ABEA            01EB8 21508             +
 001888 41F0 B128            00128 21509    01556000           DYNCALL ,                 De-allocate volume
 00188C 58E0 AB1A/0DEE       01DE8 21519             +
 001892 9240 B8D8      008D8       21521    01557000           MVI   TVTDDNAME,C' '      show no allocation
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   84
0Current Usings:  (CVAFWORK,R7) (FSDEVREC-(4+52),R8) (FSHOAREA,R9) (*,R10) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001896 58F0 9098            00098 21522    01558000           L     R15,FSHORCOD        RCODE
 00189A 47F0 A5D4            018A2 21523    01559000           B     VTDONE
000189E 41F0 03E7            003E7 21525    01561000  VBARF    LA    R15,999
 0018A2                            21526    01562000  VTDONE   LABEL ,
 0018A2 18D8/980C D004       00004 21528    01563000           PEND
 DROP   FSDEVREC-(4+52),R8
 DROP   *,R10
 0018A8 58E0 D000/12FF       00000 21549             +
 0018AE 07FE                       21552             +
                                   21553    01564000           COPY  DEVTABLE            disk info table
                                   21554    00001000 =*  Direct-access device table
                                   21555    00002000 =*              from IOPROGM's data area 1995/01/03
00018B0                            21557    00004000 =         DC    0D'0'
 0018B0 4040404040404040           21558    00005000 =DEVTABLE DC    CL8' ',F'0'        Zeroth entry
                                   21559    00006000 =*               Name    nonWYL  WYL       DEVTYP     Max.blk.(trackl)
 0018BC F2F3F1F140404040           21560    00007000 =         DC    CL8'2311',F'0'               01        3625
 0018C8 F2F3F0F140404040           21561    00008000 =         DC    CL8'2301',F'6739'            02       20483
 0018D4 F2F3F0F340404040           21562    00009000 =         DC    CL8'2303',F'0'               03        4892
 0018E0 F2F3F0F240404040           21563    00010000 =         DC    CL8'2302',F'0'               04        4984
 0018EC F2F3F2F140404040           21564    00011000 =         DC    CL8'2321',F'0'               05        2000
 0018F8 F2F3F0F560F14040           21565    00012000 =         DC    CL8'2305-1',F'6854'          06       14136 (14568)
 001904 F2F3F0F560F24040           21566    00013000 =         DC    CL8'2305-2',F'7330'          07       14660 (14858)
 001910 F2F3F1F440404040           21567    00014000 =         DC    CL8'2314',F'0'               08        7294
 00191C F3F3F3F040404040           21568    00015000 =         DC    CL8'3330',F'6447'            09       13030 (13165)
 001928 F3F3F4F040404040           21569    00016000 =         DC    CL8'3340',F'0'               0A        8368 (8535)
 001934 F3F3F5F040404040           21570    00017000 =         DC    CL8'3350',F'6233'            0B       19069 (19254)
 001940 F3F3F7F540404040           21571    00018000 =         DC    CL8'3375',F'0'               0C       ?quien sabe?
 00194C F3F3F3F060F14040           21572    00019000 =         DC    CL8'3330-1',F'6447'          0D       13030 (13165)
 001958 F3F3F8F040404040           21573    00020000 =         DC    CL8'3380',F'23476'           0E       47476 (47968)
                                   21574    00021000 =*   23476 is 1/2 trk, max. of 32760 wastes space on 47968 byte track
 001964 F3F3F9F040404040           21575    00022000 =         DC    CL8'3390',F'27998'           0F       56664
0                                  21577    00024000 =##LDEVTB EQU   12                  length of one entry
                                   21578    00025000 =##DEVTAB EQU   (*-DEVTABLE)/##LDEVTB-1   Last entry number
0001970 4040404040404040           21580    00027000 =         DC    CL8' ',F'0'         Dummy zappable entry
 00197C 4040404040404040           21581    00028000 =         DC    CL8' ',F'0'         Dummy zappable entry
                                   21582    00029000 =*  Don't forget to change #DEVTABL below if adding entries w. ZAP
 001988 0000000F                   21583    00030000 =#DEVTABL DC    A(##DEVTAB)         Last entry number
 00198C 00000D30                   21584    01565000  VTOCWKAL DC    A(#CVAFWKA)         length of dynamic area
0                                  21586    01567000C CVAFL##  CVAFFILT ACCESS=READ,FCL=*-*,FLTAREA=KEEP,IOAREA=KEEP,
 001990 C3E5D7D3/0044                       01568000                 BUFLIST=*-*,MF=L
 001996 0E/00/40/00/80             21591             +
 00199B 00/00000000                21596             +
 0019A0 00000000                   21598             +
 0019A4 00000000                   21599             +
 0019A8 00000000                   21600             +
 0019AC 00000000                   21601             +
 0019B0 00000000                   21602             +
 0019B4 00000000                   21603             +
 0019B8 00000000                   21604             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Get storage and read VTOC                                                            Page   85
0Current Usings:  (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
00019BC 00000000                   21605             +
 0019C0 00000000                   21606             +
 0019C4 00000000                   21607             +
 0019C8 00000000                   21608             +
 0019CC 00000000                   21609             +
 0019D0 00000000                   21610             +
                                   21612    01569000  CVAFL### EQU   *-CVAFL##           parm list length
 0019D4 0000000000000000           21613    01570000  $FILTCHR DC    XL256'00'           translate table to find wildcard
 001AD4                01AD4 01A40 21614    01571000           ORG   $FILTCHR+C'%'       % is one of 'm
 001A40 01                         21615    01572000           DC    X'01'
 001A41                01A41 01A30 21616    01573000           ORG   $FILTCHR+C'*'       * is the other...
 001A30 02                         21617    01574000           DC    X'02'
 001A31                01A31 01AD4 21618    01575000           ORG   ,
1FILESHOW (FILE7022) (10:07) (06JUN02) Release CVAF Areas                                                                   Page   86
0Current Usings:  (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  21620    01577000  *
                                   21621    01578000  *  RLSE-mode call to CVAFFILT to free system-obtained storage.
                                   21622    01579000  *
 001AD4 90DF B0D4            000D4 21623    01580000  CVAFFREE PROC  ,
 001AD8 58F0 C014/0DEF       00014 21633             +
 001ADE C3E5C1C6C6D9C5C5           21635             +
 001AE6 98DF B0D4            000D4 21636             +
 001AEA 50E0 D000            00000 21639             +
 001AEE 900C D004/188D       00004 21642             +
 001AF4 41D0 D038/0DA0       00038 21644             +
 001AFA 5870 B990            00990 21667    01581000           L     R7,TVTFSWKA1        ->VTOCSHOW dynamic area
 USING  *,R10
 001AFE 1277/4780 A028       01B22 21668    01582000           IF    (R7,NZ),BEGIN       area still exists
                                   21682  1 01583000             USING CVAFWORK,R7
0                                  21685  1 01585000  *  parameter list in in CVAFWORK, built by VTOCSHOW proc
0                                  21687  1 01587000C            CVAFFILT ACCESS=RLSE,FCL=0,BUFLIST=0,FLTAREA=NOKEEP,
 001B04 4110 70EC            000EC        1 01588000                   MF=(E,CVAFLST)
 001B08 9210 1006      00006       21690  1          +
 001B0C 947F 100A      0000A       21691  1          +
 001B10 41F0 0000            00000 21692  1          +
 001B14 50F0 1010            00010 21693  1          +
 001B18 41F0 0000            00000 21694  1          +
 001B1C 50F0 1014/0A8B       00014 21695  1          +
0001B22                            21698    01590000           END   ,                      (area exists)
 001B22 18D8/980C D004       00004 21702    01591000           PEND  ,
 DROP   *,R10
 001B28 58E0 D000/12FF       00000 21718             +
 001B2E 07FE                       21721             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Scan/Update UCB/DEVTYPE list                                                         Page   87
0Current Usings:  (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0000000                00000 00018 21723    01593000  FSUCBWK  RECORD BEGIN
                                   21731  1 01594000  **-DPRM0 DEVTYPE ,(*-*,24),UCBLIST=YES,MF=L
                                   21732  1 01594100  FSDDPRM0   DEVTYPE ,UCBLIST=YES,(*-*,24),PLISTVER=1,MF=L ml19990804
 000000 18                         21733  1 01-DEVTY +FSDDPRM0   DC    0F'0',AL1(24)  LENGTH OF PARAMETER LIST             @02C
 000001 01                         21734  1 01-DEVTY +           DC    AL1(1)         VERSION OF PARAMETER LIST            @L1A
 000002 0000                       21735  1 01-DEVTY +           DC    B'00000000',X'00'         Flags & reserved          @L4C
 000004 00000000                   21736  1 01-DEVTY +           DC    A(0)           ADDRESS OF UCB LIST OR DD NAME       @L1A
 000008 00000000                   21737  1 01-DEVTY +           DC    A(0)           NUMBER OF UCBS IN LIST               @L1A
 00000C 00000000                   21738  1 01-DEVTY +           DC    A(*-*)         ADDRESS OF RESULT AREA               @L1A
 000010 00000018                   21739  1 01-DEVTY +           DC    A(24)          SIZE OF RESULT AREA                  @L1A
 000014 00000000                   21740  1 01-DEVTY +           DC    A(0)           ADDRESS OF INFO LIST (DEVTYPE INFO=) @L2A
                                   21741  1 01595000  FSDDPARM   EQU   FSDDPRM0,*-FSDDPRM0
 000018                00018 00018 21742    01596000           END   ,                   FSUCBWK
0001B30 90DF B0D4            000D4 21752    01598000  FSUCB    PROC  FSUCBWK
 001B34 58F0 C014/0DEF       00014 21763             +
 001B3A C6E2E4C3C2404040           21765             +
 001B42 98DF B0D4            000D4 21766             +
 001B46 50E0 D000            00000 21769             +
 001B4A 900C D004/188D       00004 21772             +
 001B50 41D0 D050/0DA0       00050 21775             +
 USING  *,R10                      21807    01599000  *  R1->device info record
 USING  FSUCBWK-(4+52),R8
 001B56 1861                       21808    01600000           LR    R6,R1               ->Area
 USING  FSDEVREC,R6                21809    01601000           WITH  (FSDEVREC,R6),BEGIN
 001B58                            21823  1 01602000             CLEAR FSDUCBPT
 001B58 D703 6000 6000 00000 00000 21829  1          +
 001B5E                            21830  1 01603000             CLEAR FSDEVTAB
 001B5E D703 600C 600C 0000C 0000C 21836  1          +
 001B64 4110 6004            00004 21837  1 01604000             LA    R1,FSDVOLSR         -> volser
 001B68 58E0 A30A/0DEE       01E60 21838  1 01605000             VCALL FINDUCB
 001B6E 12FF/4780 A022       01B78 21842  1 01606000             IF    (R15,NZ),'EXIT FSUCB'
 001B74 47F0 A05C            01BB2 21859  1          +
 001B78 5010 6000            00000 21864  1 01607000             ST    R1,FSDUCBPT         Save UCB pointer
 001B7C D217 8038 A06A 00000 01BC0 21865  1 01608000             MVC   FSDDPARM,XDPARM     Copy dummy parmlist
                                   21866  1 01609100  **-    DEVTYPE ,(FSDEVTAB,24,ANY),UCBLIST=(FSDUCBPT,1),MF=(E,FSDDPARM)
                                   21867  1 01609200C          DEVTYPE ,UCBLIST=(FSDUCBPT,1,ANY),(FSDEVTAB,24),MF=(E,FSDDPARM),
 001B82 4110 8038            00000        1 01610000                   PLISTVER=1          mcl 1999/08/04
 001B86 4100 6000            00000 21870  1          +
 001B8A 5000 1004            00004 21871  1          +
 001B8E 4100 0001            00001 21872  1          +
 001B92 5000 1008            00008 21873  1          +
 001B96 947F 1002      00002       21874  1          +
 001B9A 9640 1002      00002       21875  1          +
 001B9E 4100 600C            0000C 21876  1          +
 001BA2 5000 100C            0000C 21877  1          +
 001BA6 4100 0018            00018 21878  1          +
 001BAA 5000 1010/1B00       00010 21879  1          +
 001BB0 0A18                       21881  1          +
 DROP   FSDEVREC,R6                21882    01610100           END   ,                   (with FSDEVRC)
 001BB2 18D8/980C D004       00004 21890    01611000           PEND  ,
 DROP   FSUCBWK-(4+52),R8
 DROP   *,R10
 001BB8 58E0 D000/12FF       00000 21911             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Scan/Update UCB/DEVTYPE list                                                         Page   88
0Current Usings:  (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001BBE 07FE                       21914             +
                                   21915    01612000  **-ARM   DEVTYPE ,(*-*,24),UCBLIST=YES,MF=L   skeleton list
 001BC0 18/01/0000                 21916    01612100  XDPARM   DEVTYPE ,UCBLIST=YES,(*-*,24),PLISTVER=1,MF=L   skeleton list
 001BC4 00000000                   21920             +
 001BC8 00000000                   21921             +
 001BCC 00000000                   21922             +
 001BD0 00000018                   21923             +
 001BD4 00000000                   21924             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Recall from Migration                                                                Page   89
0Current Usings:  (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001BD8 90DF B0D4            000D4 21927    01615000  TICKLEDS XPROC  ,
 001BDC 58F0 C014/0DEF       00014 21939             +
 001BE2 E3C9C3D2D3C5C4E2           21941             +
 001BEA 98DF B0D4            000D4 21942             +
 001BEE 50E0 D000            00000 21945             +
 001BF2 900C D004/188D       00004 21948             +
 001BF8 41D0 D038/0DA0       00038 21950             +
0USING  *,R10                      21974    01617000  *  OK, this is a kluge.  We found that our superlocate call to get
                                   21975    01618000  *  info on one dataset triggered a recall from migration, so this is
                                   21976    01619000  *  a modified copy of the SVC26 routine.  This will be replaced by a
                                   21977    01620000  *  command to HSM, once we set up a way to pass such commands.
                                   21978    01621000  *
                                   21979    01622000  *  Doing an SVC99 allocate would also work, but this appears to have
                                   21980    01623000  *  less overhead.
                                   21981    01624000  *
                                   21982    01625000  *  On entry:  R1->dsname
                                   21983    01626000  *  On exit:  R15=RC from SVC26; dataset recalled.
                                   21984    01627000  *
0001BFE 1891                       21986    01629000           LR    R9,R1               Save parm pointer
 001C00                            21987    01630000           CLEAR TVTFSWKA2           show no dynamic area
 001C00 D703 B994 B994 00994 00994 21993             +
 001C06 5800 A266            01E64 21994    01631000           L     R0,=A(VOLBUFL)          L'VOL work area
 001C0A 58E0 A1A6/0DEE       01DA4 21995    01632000           VCALL GETLOW              **AREA MUST BE BELOW!!!!!**
 001C10 5010 B990            00990 21999    01633000           ST    R1,TVTFSWKA1        save pointer
 001C14 58F0 B178            00178 22000    01634000           RECVRY ROUT=S26WFREE,STCKOVFL=STCKOFL2  and free on closeup
 001C18 58E0 A1AA            01DA8 22002             +
 001C1C 41F0 F004            00004 22003             +
 001C20 D503 F000 A1AE 00000 01DAC 22004             +
 001C26 4770 A030            01C2E 22011             +
 001C2A 47F0 A08A            01C88 22017             +
 001C2E 50EF B178            00178 22022             +
 001C32 50F0 B178            00178 22023             +
0001C36 4160 BE58            00E58 22025    01636000           LA    R6,CATPL            Address of catalog parameter list
 USING  CTGPL,R6                   22026    01637000           USING CTGPL,R6            ## addr to catalog parm list
 001C3A D71F BE58 BE58 00E58 00E58 22035    01638000           XC    CATPL,CATPL         Zero out catalog parm list
 001C40 9610 6002      00002       22036    01639000           OI    CTGOPTN3,CTGSUPLT   Set "superlocate"
 001C44 9601 6002      00002       22037    01640000           OI    CTGOPTN3,CTGAM0     Set vsam request
 001C48 9610 6003      00003       22038    01641000           OI    CTGOPTN4,CTGCOIN    Request control intercept
 001C4C 9604 6010      00010       22039    01642000           OI    CTGDSORG,CTGF2WKA   Set format 2 work area
 001C50 5090 6004            00004 22040    01643000           ST    R9,CTGENT           ->DSN in parm list
 001C54 4110 BE78            00E78 22041    01644000           LA    R1,CATSMALL         Little work area
 001C58 5010 600C            0000C 22042    01645000           ST    R1,CTGWKA           Save in catalog parm list
 001C5C D70F BE78 BE78 00E78 00E78 22043    01646000           XC    CATSMALL,CATSMALL   Zero work area
 001C62 5810 B990            00990 22044    01647000           L     R1,TVTFSWKA1        Address of volume buffer
 001C66 5010 BE78            00E78 22045    01648000           ST    R1,CATSMALL         Save in work area
 001C6A 5810 A266            01E64 22046    01649000           L     R1,=A(VOLBUFL)          Length of volume buffer
 001C6E 4010 BE7C            00E7C 22047    01650000           STH   R1,CATSMALL+4       Save in work area
 001C72 5870 B990            00990 22048    01651000           L     R7,TVTFSWKA1        Address of volume list
 001C76 1816                       22049    01652000           LR    R1,R6               Copy parameter list address
 001C78 0A1A                       22050    01653000           SVC   26                  There we go
1FILESHOW (FILE7022) (10:07) (06JUN02) Recall from Migration                                                                Page   90
0Current Usings:  (CTGPL,R6) (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001C7A 18D8/980C D004       00004 22052    01655000           PEND  ,                   RC is from SVC26
 DROP   *,R10
 001C80 58E0 D000/12FF       00000 22068             +
 001C86 07FE                       22071             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Stack Overflow                                                                       Page   91
0Current Usings:  (CTGPL,R6) (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22073    01657000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22074    01658000  Ÿ                                                                     Ÿ
                                   22075    01659000  Ÿ  Error recovery stack overflow                                      Ÿ
                                   22076    01660000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0001C88                            22078    01662000  STCKOFL2 LABEL ,
 001C88 FEDC1E                     22080    01663000           FAIL  'Error Recovery stack overflow.'
 001C8B C59999969940D985           22083             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Get SMS Information on Dataset                                                       Page   92
0Current Usings:  (CTGPL,R6) (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22087    01666000  ¿þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþÜ
                                   22088    01667000  Ÿ                                                                     Ÿ
                                   22089    01668000  Ÿ  On entry:  R1->dsname                                              Ÿ
                                   22090    01669000  Ÿ             R0->?? byte return area                                 Ÿ
                                   22091    01670000  Ÿ  On exit:   R15 = 0 dataset found, info filled in.                  Ÿ
                                   22092    01671000  Ÿ             R15 > 0, dataset not found.                             Ÿ
                                   22093    01672000  Ÿ                                                                     Ÿ
                                   22094    01673000  Ÿ  Info mapped by SMSINFO record:                                     Ÿ
                                   22095    01674000  Ÿ                                                                     Ÿ
                                                      ¾þþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþþ»
0000000                00000 00018 22097    01676000  SMSINFOR RECORD BEGIN
                                   22105  1 01677000             SMSINFOR
                                   22106  1          +*  SMS information area (SMSINFOR), returned by SMSINFO proc
 000000                            22107  1 01-SMSIN +           DC    0F'0'               align
 000000 4040404040404040           22108  1 01-SMSIN +SMSISTCL    DC    CL8' '              Storage class, blank if non-SMS
 000008 4040404040404040           22109  1 01-SMSIN +SMSIMGCL    DC    CL8' '              Management class or blank
 000010 4040404040404040           22110  1 01-SMSIN +SMSIDTCL    DC    CL8' '              Data Class or blank
 000018                00018 00018 22111    01678000           END   ,
0000000                00000 00090 22121    01680000  SMSWORK  RECORD BEGIN
0000000 0000000000000000           22130  1 01682000  PROBDET    DC    2F'0'               problem determination area
0000008                            22132  1 01684000  SMSDATA    DC    0CL30' '
 000008 4040404040404040           22133  1 01685000  STORCLAS   DC    CL30' '
 000026 4040404040404040           22134  1 01686000  MGMTCLAS   DC    CL30' '
 000044 4040404040404040           22135  1 01687000  DATACLAS   DC    CL30' '
0000062 0000                              1
 000064 00000000                   22137  1 01689000  DSTYPE     DC    F'0'                1=PDSE
0000068 00000000                   22139  1 01691000  MYRC       DC    F'0'                Return Code
 00006C 00000000                   22140  1 01692000  MYRSN      DC    F'0'                Reason Code
0000070 00000000                   22142  1 01694000  L#DSN      DC    F'0'                L'datasetname
0000074                            22144  1 01696000  SMSPARMS   DC    0A(0)
0000074 00000000                   22146  1 01698000  SMSPRC     DC    A(0)
 000078 00000000                   22147  1 01699000  SMSPRS     DC    A(0)
 00007C 00000000                   22148  1 01700000  SMSPPD     DC    A(0)
 000080 00000000                   22149  1 01701000  SMSPLD     DC    A(0)
 000084 00000000                   22150  1 01702000  SMSPDS     DC    A(0)
 000088 00000000                   22151  1 01703000  SMSPSM     DC    A(0)
 00008C 00000000                   22152  1 01704000  SMSPDT     DC    A(0)
 000090                00090 00090 22153    01705000           END   SMSWORK
0001CAA 90DF B0D4            000D4 22163    01707000  SMSINFO  XPROC SMSWORK
 001CAE 58F0 C014/0DEF       00014 22176             +
 001CB4 E2D4E2C9D5C6D640           22178             +
 001CBC 98DF B0D4            000D4 22179             +
 001CC0 50E0 D000            00000 22182             +
 001CC4 900C D004/188D       00004 22185             +
1FILESHOW (FILE7022) (10:07) (06JUN02) Get SMS Information on Dataset                                                       Page   93
0Current Usings:  (CTGPL,R6) (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001CCA 41D0 D0C8/0DA0       000C8 22188             +
 001CD0 1861                       22220    01708000           LR    R6,R1               ->DSNAME
 USING  *,R10
 USING  SMSWORK-(4+52),R8
 001CD2 1850                       22221    01709000           LR    R5,R0               ->result
 001CD4 4100 002C            0002C 22222    01710000           LA    R0,44               L'DSN
 001CD8 58E0 A178/0DEE       01E48 22223    01711000           VCALL RTRIM               get dsn length
 001CDE 5000 80A8            00070 22227    01712000           ST    R0,L#DSN            save dsn length
 001CE2 4110 80A0            00068 22228    01713000           LA    R1,MYRC
 001CE6 5010 80AC            00074 22229    01714000           ST    R1,SMSPRC           in parm list
 001CEA 4110 80A4            0006C 22230    01715000           LA    R1,MYRSN
 001CEE 5010 80B0            00078 22231    01716000           ST    R1,SMSPRS
 001CF2 4110 8038            00000 22232    01717000           LA    R1,PROBDET
 001CF6 5010 80B4            0007C 22233    01718000           ST    R1,SMSPPD
 001CFA 4110 80A8            00070 22234    01719000           LA    R1,L#DSN
 001CFE 5010 80B8            00080 22235    01720000           ST    R1,SMSPLD
 001D02 5060 80BC            00084 22236    01721000           ST    R6,SMSPDS           ->dsn
 001D06 4110 8040            00008 22237    01722000           LA    R1,SMSDATA
 001D0A 5010 80C0            00088 22238    01723000           ST    R1,SMSPSM
 001D0E 4110 809C            00064 22239    01724000           LA    R1,DSTYPE
 001D12 5010 80C4            0008C 22240    01725000           ST    R1,SMSPDT
-                                  22243    01728000  **       L     R15,@SMS            V(status routine)
 001D16 4110 80AC            00074 22244    01729000           LA    R1,SMSPARMS         ->arglist
                                   22245    01730000  **       BASSM R14,R15             go call it
 001D1A 0700/45F0 A060       01D30 22246    01731000           LINK  EP=IGWASMS
 001D20 00001D28                   22251             +
 001D24 00000000                   22252             +
 001D28 C9C7E6C1E2D4E240           22253             +
 001D30 0A06                       22254             +
                                   22255    01732000  **       LA    R1,G2
                                   22256    01733000  **       BSM   0,R1                Reset 24 bit mode!
                                   22257    01734000  **G2       L     R0,MYRC             Retcode
 USING  SMSINFOR,R5                22258    01735000           WITH  (SMSINFOR,R5),BEGIN
 001D32 D207 5000 8040 00000 00008 22272  1 01736000             MVC   SMSISTCL,STORCLAS
 001D38 D207 5008 805E 00008 00026 22273  1 01737000             MVC   SMSIMGCL,MGMTCLAS
 001D3E D207 5010 807C 00010 00044 22274  1 01738000             MVC   SMSIDTCL,DATACLAS
0                                  22276  1 01740000  *SMSPARMS DC    A(MYRC),A(MYRSN),A(PROBDET),A(L#DSN),A(DSNAME)
                                   22277  1 01741000  *         DC    A(SMSDATA),A(DSTYPE)
0DROP   SMSINFOR,R5                22279    01743000           END   ,                      (WITH R5)
 001D44 18D8/980C D004       00004 22287    01744000           PEND  ,
 DROP   SMSWORK-(4+52),R8
 DROP   *,R10
 001D4A 58E0 D000/12FF       00000 22308             +
 001D50 07FE                       22311             +
1FILESHOW (FILE7022) (10:07) (06JUN02) ending stuff                                                                         Page   94
0Current Usings:  (CTGPL,R6) (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0                                  22314    01747000  FILESHO@ EQU   *-FILESHOW,,C'N'       Module length
                                   22315    01748000           ¿þþþþþþþþþþþþþþþþÜ
                                   22316    01749000           Ÿ  Our symbols.  Ÿ
                                   22317    01750000           ¾þþþþþþþþþþþþþþþþ»
                                   22318    01751000           ENTRY SYMSHOCT            FILESHOW symbol table entries
 001D52 000000000000
 001D58                            22319    01752000           DC    0D'0'               Force double word alignment
 001D58 C6C9D3C5E2C8D6E6           22320    01753000  SYMSHOCT DC    CL8'FILESHOW',A(FILESHOW,FILESHO@)
 001D68 00000000                   22321    01754000           DC    A(0)                End of table
 001D70                            22322    01755000           END   .
 001D70 4089A2409596A340           22325                             =C' is not mounted'''
 001D80 E2E8E2C1D3D3C4C1           22326                             =CL8'SYSALLDA'
 001D88 00000B98                   22327                             =A(CAMOBSK)
 001D8C 00000028                   22328                             =A(40)
 001D90 00000001                   22329                             =F'1'
 001D94 5C4B5C5C                   22330                             =C'*.**'
 001D98 00000000                   22331                             =V(SEGCLR)
 001D9C 00000000                   22332                             =V(SEG)
 001DA0 00000000                   22333                             =V(SEGT)
 001DA4 00000000                   22334                             =V(GETLOW)
 001DA8 00000CB8                   22335                             =A(S26WFREE)
 001DAC FFFFFFFF                   22336                             =A(-1)
 001DB0 C5D9D9C9C47ED5D6           22337                             =C'ERRID=NOVOL ERRMSG='''
 001DC4 E59693A494854095           22338                             =C'Volume not specified'
 001DD8 00001B30                   22339                             =A(FSUCB)
 001DDC 00000000                   22340                             =V(SEGB)
 001DE0 00000000                   22341                             =V(DYNCLEAR)
 001DE4 00000000                   22342                             =V(DYNADD)
 001DE8 00000000                   22343                             =V(DYNCALL)
 001DEC 00000000                   22344                             =V(BTX)
 001DF0 C5D9D9C9C47EE5E3           22345                             =C'ERRID=VTOCERR ERRMSG=''FILESHOW ERROR:  VTOC allocate
 001DF8 D6C3C5D9D940C5D9                                              failed '
 001E2C C6C3D340                   22346                             =C'FCL '
 001E30 00000BE8                   22347                             =A(BFLE$N*DSCB$SIZ+BFL$SIZE)
 001E34 00001AD4                   22348                             =A(CVAFFREE)
 001E38 00000000                   22349                             =V(SEGDC)
 001E3C 00000000                   22350                             =V(SEGHX)
 001E40 00001128                   22351                             =A(XTRDSCB)
 001E44 00000D3A                   22352                             =A(WDSNINT)
 001E48 00000000                   22353                             =V(RTRIM)
 001E4C 00000000                   22354                             =V(SEGWR)
 001E50 00000004                   22355                             =F'4'
 001E54 00000AF0                   22356                             =A(BFLE$N*DSCB$SIZ)
 001E58 00000000                   22357                             =V(FREECORE)
 001E5C 00000000                   22358                             =V(DYNSET)
 001E60 00000000                   22359                             =V(FINDUCB)
 001E64 00001000                   22360                             =A(VOLBUFL)
 001E68 5C5C                       22361                             =C'**'
 001E6A 7A40409581948540           22362                             =C':  name too long for LIKE'''
 001E84 C5D9D9C9C47ED5D6           22363                             =C'ERRID=NOTMNTD ERRMSG='''
 001E9A 00020001002C               22364                             =AL2(DALDSNAM,1,44)
 001EA0 0034                       22365                             =Y((50+3)/4*4)
 001EA2 000400010001               22366                             =AL2(DALSTATS,1,1)
 001EA8 0008                       22367                             =Y((7+3)/4*4)
1FILESHOW (FILE7022) (10:07) (06JUN02) ending stuff                                                                         Page   95
0Current Usings:  (CTGPL,R6) (CVAFWORK,R7) (FSHOAREA,R9) (TVT,R11) (GVT,R12)
0Loc    Object Code    Addr1 Addr2  Stmt Lv Lineno    Source Statement           (Hibal 5, Asmedit 3.3)  HLASM R4.0  2002/06/06 10.07
+___    ______ ____    _____ _____  ____ __ ______    ______ _________
0001EAA 001000010006               22368                             =AL2(DALVLSER,1,6)
 001EB0 000C                       22369                             =Y((12+3)/4*4)
 001EB2 001500010008               22370                             =AL2(DALUNIT,1,8)
 001EB8 0010                       22371                             =Y((14+3)/4*4)
 001EBA 005500010008               22372                             =AL2(DALRTDDN,1,8)
 001EC0 0004                       22373                             =Y(4)
 001EC2 6F6F6F6F40404040           22374                             =C'????      '
 001ECC 000C                       22375                             =AL2(##LDEVTB)
 001ECE 6B40A2A381A3A4A2           22376                             =C', status code='
 001EDC 000100010008               22377                             =AL2(DUNDDNAM,1,8)
 001EE2 C5D9D9C9C47EC2C1           22378                             =C'ERRID=BADDSN ERRMSG='''
 001EF7 7D                         22379                             =C''''
 001EF8 A59693A4948540             22380                             =C'volume '
 001EFF E2E8E2F9F9F9F9F9           22381                             =C'SYS99999.T000000.RA000.D#'
 001F18 08                         22382                             =X'08'
 001F19 4DF0F0F0F060F0F0           22383                             =C'(0000-0000) '''
 001F26 F0F0F1                     22384                             =C'001'
 001F29 C5D9D9C9C47EE5E3           22385                             =C'ERRID=VTOCERR ERRMSG=''FILESHOW ERROR:  VTOC access e
 001F31 D6C3C5D9D940C5D9                                             rror, RC='

1FILESHOW (FILE7022) (10:07) (06JUN02) Macro and Copy Code Source Summary                                                   Page   96
- Con Source                                        Volume    Members                        HLASM R4.0  2002/06/06 10.07
0     PRIMARY INPUT                                           CSECT    DROP     END      EX       LTORG    POP
                                                              PRINT    PUSH     START    USING
   L1 WYL.GA.MCL.WINGS.MACLIB                       STR211    BTX      COMMENT  DEVCAPCT DEVINFO  DEVTABLE DSNINFO
                                                              DVTAREA  DVWA     DYNADD   DYNCALL  DYNCLEAR DYNSET
                                                              DYNTABLE ECBLIST  ERRTABLE FAIL     FILPB    FSHOAREA GVT
                                                              LCLDBWA  PROC     PTRACE   RBINFO   RECFMFLG RECVRY   REG
                                                              SCANCB   SDSNBUF  SMSINFOR SPACALC  SYMTAB   S26ENTRY
                                                              TPENTRY  TRCENTRY TVT      TVTOSFIL UPATH    VOLENTRY
                                                              WGSLINE  XCALL    XPOP     XPROC    XPUSH
   L2 WYL.GG.SYS.MACLIB                             STR210    $BC      $BFLKUP  $BV      $CCLKUP  $CRS     $CSS     $L
                                                              $LA      $LBLAD   $LEXP    $LOR     $REL     $RGLKUP
                                                              $USLKUP  ACALL    BASE     BEGIN    CLEAR    CMPR
                                                              CSECT    DATA     DECR     DEFCC    DEX      DROP     DTEX
                                                              ELSE     ELSEIF   END      EX       EXIT     FLAG     GEN
                                                              HIBAL    IDENT    IF       INCR     LABEL    LC       LCM
                                                              LS       LT       LTORG    L2       L4       PEND     POP
                                                              PRINT    PUSH     QLTORG   RECORD   REGS     SET
                                                              SETMSG   START    USING    VCALL    WITH
   L3 SYS3.IS.MACLIB                                SYSA03    DEFINE   IEZCTGPL SEG      SEGB     SEGCB    SEGCLR
                                                              SEGDC    SEGDEF   SEGHX    SEGLD    SEGT     SEGWR
                                                              SYSDEFN
   L4 SYS3.MACLIB                                   SYSA03    PATH
   L5 SYS1.MACLIB                                   OS02AD    CAMLST   CLOSE    CVT      DCB      DCBD     DEVTYPE
                                                              IEFJFCBN IEFSJDKY IEFTIOT1 IEFUCBOB IEFZB4D0 IEFZB4D2
                                                              IEZDEB   IHASDWA  IHAVRA   IHBINNRA IHBINNRB IHBRDWRS
                                                              IHB01    IKJTCB   LINK     LOCATE   MODESET  OPEN     READ
                                                              SYSSTATE TRKCALC
   L6 SYS1.MODGEN                                   OS02AD    CVAFFILT ICVAFBFL ICVFCL   IECDDCE  IECDUCBC IECDUCBD
                                                              IECDUCBE IECDUCBG IECDUCBT IECDUCBU IECSDSL1 IHADVCT
                                                              IHAEVNT  IOSDUCBC LSPACE   OBTAIN

1FILESHOW (FILE7022) (10:07) (06JUN02) Using Map                                                                            Page   97
-                                                                                            HLASM R4.0  2002/06/06 10.07
   Stmt  -----Location----- Action ----------------Using----------------- Reg Max    Last  Label and Using Text
           Count      Id           Type          Value    Range     Id        Disp   Stmt
0   981  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 002   16680  @R15,15
    985  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF1  14 000          @R14,14
    989  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF2  13 000          @R13,13
    993  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF3  12 000          @R12,12
    997  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF4  11 000          @R11,11
   1001  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
   1005  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF6   9 000          @R9,9
   1009  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
   1013  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF8   7 000          @R7,7
   1017  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF9   6 000          @R6,6
   1021  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
   1025  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFB   4 000          @R4,4
   1029  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFC   3 001   18059  @R3,3
   1033  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFD   2 000          @R2,2
   1037  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFE   1 000          @R1,1
   1041  00000000  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFF   0 000          @R0,0
   1042  00000000  00000001 DROP                                            0              0
  15155  00000017  00000001 USING  ORDINARY    00000000 00001000 FFFFFFBD  12 0E0   21338  GVT,GVTR
  15164  00000017  00000001 USING  ORDINARY    00000000 00001000 FFFFFFAE  11 E94   22048  TVT,TVTR
  15204  0000003E  00000001 USING  ORDINARY    0000003E 00001000 00000001  10 CDA   16347  $$$60B,10
  15221  00000040  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB2   9 18C   21522  FSHOAREA,R9
  15447  000000EE  00000001 USING  ORDINARY    00000000 00001000 FFFFFFC3   6 010   16610  CTGPL,R6
  16368  000003A0  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  16578  000004B8  00000001 USING  ORDINARY    000004B8 00001000 00000001  10 66E   18130  $$$101B,10
  16592  000004B8  00000001 USING  ORDINARY    FFFFFFC8 00001000 FFFFFFAD   8 17B   18069  SUPWK-(4+52),R8
  16624  00000514  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB4   7 00C   18012  S26ENTRY,R7
  16688  00000556  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB3  15 00C   16695  VOLENTRY,R15
  16705  0000057A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 000   17420  @R15,15
  16863  000005F8  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB1   2 000   16868  FSDEVREC,R2
  16875  000005FC  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFD   2 000   19043  @R2,2
  17246  0000070A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB1   1 004   17251  FSDEVREC,R1
  17262  00000716  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFE   1 000   17287  @R1,1
  17397  000007B0  00000001 USING  ORDINARY    00000000 00001000 FFFFFFDE   5 087   17414  IECSDSL1,R5
  17446  000007F8  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
  17755  00000924  00000001 USING  ORDINARY    00000000 00001000 FFFFFFBE   1 003   17859  DEVINFO,R1
  17887  00000978  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFE   1 02C   21495  @R1,1
  18147  00000A7C  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
  18152  00000A7C  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  18171  00000A8A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF8   7 000          @R7,7
  18243  00000B52  00000001 USING  ORDINARY    00000B52 00001000 00000001  10 000          $$$158B,10
  18267  00000B72  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  18361  00000CDE  00000001 USING  ORDINARY    00000CDE 00001000 00000001  10 3CA   18418  $$$161B,10
  18438  00000D0A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  18532  00000D60  00000001 USING  ORDINARY    00000D60 00001000 00000001  10 393   19265  $$$167B,10
  18546  00000D60  00000001 USING  ORDINARY    FFFFFFC8 00001000 FFFFFFAC   8 038   18845  WDSNWKA-(4+52),R8
  18558  00000D62  00000001 USING  ORDINARY    00000100 00001000 FFFFFFB2   4 090   19264  SBUF,R4
  18568  00000D64  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF9   6 000          @R6,6
  18571  00000D64  00000001 USING  ORDINARY    00000058 00001000 FFFFFFAD   6 0A9   19270  DSNREC,R6
  18781  00000E74  00000001 DROP                                           15              15
  18785  00000E7A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 000          @R15,15
  18813  00000E96  00000001 DROP                                           15              15
  18817  00000E9C  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 001   18889  @R15,15
  18913  00000EE8  00000001 DROP                                           15              15
1FILESHOW (FILE7022) (10:07) (06JUN02) Using Map                                                                            Page   98
  18917  00000EEE  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 002   19237  @R15,15
  19282  00001070  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
  19287  00001070  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  19314  0000109C  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFB   4 000          @R4,4
  19320  0000109C  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF9   6 000          @R6,6
  19417  0000114E  00000001 USING  ORDINARY    0000114E 00001000 00000001  10 C3A   19705  $$$200B,10
  19431  0000114E  00000001 USING  ORDINARY    FFFFFFC8 00001000 FFFFFFAB   8 03A   19569  XTRDSCBR-(4+52),R8
  19459  00001152  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB1  15 018   19465  FSDEVREC,R15
  19472  0000115E  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 002   20075  @R15,15
  19497  00001166  00000001 USING  ORDINARY    00000000 00001000 FFFFFFDE   5 069   19554  IECSDSL1,R5
  19527  000011BA  00000001 DROP                                            2              2
  19531  000011C0  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFD   2 001   19549  @R2,2
  19580  00001210  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
  19593  00001216  00000001 USING  ORDINARY    00000118 00001000 FFFFFFDE   5 087   19697  IECSDSL3,R5
  19719  0000129A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
  19727  0000129A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
  19732  0000129A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  19991  000012CE  00000001 USING  ORDINARY    000012CE 00001000 00000001  10 C98   21523  $$$208B,10
  20005  000012CE  00000001 USING  ORDINARY    FFFFFFC8 00001000 FFFFFFB1   8 047   21349  FSDEVREC-(4+52),R8
  20638  0000154E  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB0   2 044   20662  DYNTABLE,R2
  20654  00001554  00000001 USING  ORDINARY    00000000 00001000 FFFFFFA7   5 006   20773  DYNCHWK,R5
  20672  0000155C  00000001 USING  ORDINARY    00000000 00001000 FFFFFFD5   4 006   20715  S99RB,R4
  20821  000015D0  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFB   4 000          @R4,4
  20827  000015D0  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
  20835  000015D4  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFD   2 006   20856  @R2,2
  20872  000015F0  00000001 USING  ORDINARY    00000000 00001000 FFFFFFAA   7 240   21689  CVAFWORK,R7
  20887  000015F4  00000001 USING  ORDINARY    00000058 00001000 FFFFFFAD   6 047   20937  DSNREC,R6
  20948  00001642  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF9   6 000          @R6,6
  20982  0000168E  00000001 USING  ORDINARY    00000000 00001000 FFFFFFA9  15 001   20988  BFL$MAP,R15
  20995  00001696  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF0  15 000          @R15,15
  21007  0000169A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFA8   2 008   21016  BFLE,R2
  21026  000016BA  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFD   2 000          @R2,2
  21091  0000170A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFA8   5 008   21265  BFLE,R5
  21333  000017B6  00000001 USING  ORDINARY    00000058 00001000 FFFFFFAD   2 052   21339  DSNREC,R2
  21346  000017C2  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFD   2 000          @R2,2
  21427  00001806  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
  21534  000018A2  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
  21539  000018A2  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  21658  00001AFA  00000001 USING  ORDINARY    00001AFA 00001000 00000001  10 028   21677  $$$231B,10
  21708  00001B22  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  21789  00001B56  00000001 USING  ORDINARY    00001B56 00001000 00000001  10 30A   21865  $$$235B,10
  21803  00001B56  00000001 USING  ORDINARY    FFFFFFC8 00001000 FFFFFFA6   8 038   21869  FSUCBWK-(4+52),R8
  21818  00001B58  00000001 USING  ORDINARY    00000000 00001000 FFFFFFB1   6 00C   21876  FSDEVREC,R6
  21888  00001BB2  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF9   6 000          @R6,6
  21896  00001BB2  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
  21901  00001BB2  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  21964  00001BFE  00000001 USING  ORDINARY    00001BFE 00001000 00000001  10 266   22046  $$$239B,10
  22033  00001C3A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFC3   6 010   22042  CTGPL,R6
  22058  00001C7A  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10
  22202  00001CD0  00000001 USING  ORDINARY    00001CD0 00001000 00000001  10 178   22250  $$$244B,10
  22216  00001CD0  00000001 USING  ORDINARY    FFFFFFC8 00001000 FFFFFFA4   8 0C4   22274  SMSWORK-(4+52),R8
  22267  00001D32  00000001 USING  ORDINARY    00000000 00001000 FFFFFFA5   5 010   22274  SMSINFOR,R5
  22285  00001D44  00000001 USING  ORDINARY    00000000 00001000 FFFFFFFA   5 000          @R5,5
  22293  00001D44  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF7   8 000          @R8,8
  22298  00001D44  00000001 USING  ORDINARY    00000000 00001000 FFFFFFF5  10 000          @R10,10

1         (FILE7022) (10:07) (06JUN02) General Purpose Register Cross Reference                                             Page   99
- Register  References (M=modified, B=branch, U=USING, D=DROP, N=index)                      HLASM R4.0  2002/06/06 10.07
0    0(0)     1041U  1042D 15188  15229M 15230M 15242  15249M 15274  15281M 15286  15287M 15405M 15543M 15560M 15652M
             15669M 15690M 15690  15707M 15751M 15751  15752M 16048M 16075M 16097M 16097  16193M 16220M 16242M 16242
             16376M 16561  16633M 16634  16708M 17275M 17414M 17421  17423M 17424  17558M 17596M 17609M 17609  17650M
             17650  17735M 17736  17900M 17928M 17965M 17965  17982M 17983  17998M 18070M 18083M 18083  18121M 18121
             18160M 18227  18252M 18255M 18275M 18345  18446M 18515  18581M 18632M 18632  18633M 18634M 18635  18735M
             18735  18736M 18737  18755M 18756M 19056M 19065M 19065  19071  19137M 19158M 19158  19159M 19160  19168M
             19168  19169M 19170  19183M 19183  19184M 19185M 19186M 19187  19188M 19200M 19200  19201M 19202M 19203M
             19204  19205M 19234M 19234  19235M 19236M 19237M 19238  19239M 19295M 19400  19449  19524M 19555  19557M
             19559  19572M 19631M 19637  19639M 19640  19687M 19698M 19740M 19974  20148M 20176M 20193M 20221M 20296M
             20313M 20330M 20402M 20419M 20447M 20464M 20695M 20722M 20751M 20778M 20795M 20908M 20956M 20957  20965M
             20966  21155M 21179M 21196M 21212M 21212  21213M 21218  21225M 21242M 21349M 21361M 21401M 21401  21485M
             21547M 21642  21716M 21772  21870M 21871  21872M 21873  21876M 21877  21878M 21879  21880M 21880  21909M
             21948  21994M 22066M 22185  22221  22222M 22227  22306M
     1(1)     1037U 15188  15213  15292  15335M 15410  15474M 15475  15484M 15542M 15559M 15582M 15583M 15651M 15668M
             15686M 15706M 15735M 15736M 15752M 15753  16041M 16068M 16186M 16213M 16300M 16309M 16309  16330M 16339M
             16339  16376M 16561  16607M 16608  16609M 16610  16612M 16613  16614M 16615  16660M 16709M 16736M 16834M
             16868  16877  17066M 17070M 17079M 17079  17086  17229M 17230N 17236M 17246U 17262U 17282M 17342M 17343
             17344M 17345  17346M 17347  17364M 17415M 17422  17427M 17557M 17564M 17595M 17624M 17745M 17755U 17887U
             17907M 17927M 18005M 18069M 18160M 18227  18253M 18255M 18257M 18258  18259M 18260  18275M 18345  18372M
             18373M 18373  18403M 18404M 18404  18446M 18515  18550  18580M 18706M 18706  18707M 18708M 18708  18712M
             18741M 18745  18755M 18756M 18757  19144M 19189M 19206M 19240M 19295M 19400  19448  19563M 19564M 19565M
             19566  19567M 19568M 19569M 19570  19632M 19638  19643M 19740M 19974  20009  20042M 20055M 20073  20147M
             20171M 20192M 20234  20295M 20312M 20329M 20360M 20401M 20418M 20442M 20463M 20494M 20505M 20524M 20543M
             20562M 20581M 20599  20702M 20729M 20750M 20773M 20794M 20844M 20847M 20849  20915M 21059M 21060  21062
             21064  21066  21154M 21172M 21195M 21218M 21241M 21265M 21355M 21360M 21375M 21442M 21443  21452M 21472M
             21484M 21492M 21547M 21642  21689M 21690  21691  21693  21695  21716M 21772  21808  21837M 21864  21869M
             21871  21873  21874  21875  21877  21879  21909M 21948  21986  21999  22041M 22042  22044M 22045  22046M
             22047  22049M 22066M 22185  22220  22228M 22229  22230M 22231  22232M 22233  22234M 22235  22237M 22238
             22239M 22240  22244M 22306M
     2(2)     1033U 15188  15335M 15482M 15483  15581M 15734M 15735N 15769N 16376M 16561  16853M 16863U 16875U 17210M
             17210  17212M 17213  17228M 17230M 17230  17231  17373M 17565M 18160M 18227  18256M 18258N 18260N 18275M
             18345  18446M 18515  18560  18925M 18946M 18971M 18996M 19021M 19046M 19295M 19400  19527D 19529M 19529
             19530M 19531U 19549M 19555  19557  19559M 19582M 19582  19740M 19974  20042M 20054M 20055N 20067  20088M
             20088N 20105M 20105N 20211  20628M 20638U 20835U 20842M 20920M 20920  20922M 20923  20935M 20936M 20936N
             20937  20968M 20971M 20997M 21007U 21017M 21017N 21026U 21323M 21333U 21346U 21435M 21438M 21547M 21642
             21716M 21772  21909M 21948  22066M 22185  22306M
     3(3)     1029U 15188  15634M 15686  15769M 15786M 16041  16186  16262M 16262N 16284M 16376M 16561  16597  16600
             16601  16607N 16639  17044  17666M 18160M 18227  18275M 18345  18446M 18515  19295M 19400  19523M 19523
             19566M 19570M 19707  19740M 19974  20661M 20969M 20971M 21012M 21016  21018M 21018N 21096M 21436M 21438M
             21547M 21642  21716M 21772  21909M 21948  22066M 22185  22306M
     4(4)     1025U 15188  15225M 15226  16376M 16561  18160M 18227  18275M 18345  18446M 18515  18550M 18558U 19295M
             19314U 19400  19740M 19974  20014M 20015  20662M 20672U 20821U 21013M 21019M 21097M 21106M 21106  21416M
             21547M 21642  21716M 21772  21909M 21948  22066M 22185  22306M
     5(5)     1021U 15188  15770M 15787M 16263M 16376M 16561  16830M 16831  16832  17046M 17047M 17047  17049M 17050
             17120M 17125M 17206  17387M 17397U 17446U 17578M 17579M 17580  17740  17913M 18013M 18057M 18060  18160M
             18227  18275M 18345  18446M 18515  19295M 19400  19448M 19497U 19580U 19593U 19681M 19681  19719U 19740M
             19974  20643M 20654U 20815  20827U 21081M 21091U 21415M 21415N 21427U 21547M 21642  21716M 21772  21909M
             21948  22066M 22185  22221M 22267U 22285U 22306M
     6(6)     1017U 15188  15439M 15447U 15484  16376M 16561  16736  18160M 18227  18275M 18345  18446M 18515  18560M
             18568U 18571U 19295M 19320U 19400  19740M 19974  20877M 20887U 20948U 21547M 21642  21716M 21772  21808M
             21818U 21888U 21909M 21948  22025M 22033U 22049  22066M 22185  22220M 22236  22306M
     7(7)     1013U 15188  16376M 16561  16616M 16624U 16633N 16696M 16699M 17119M 17124M 17665M 17926M 18012M 18160M
             18171U 18227  18275M 18345  18446M 18515  19295M 19400  19740M 19974  20864M 20872U 21547M 21642  21667M
             21676M 21676  21716M 21772  21909M 21948  22048M 22066M 22185  22306M
     8(8)     1009U 15188  15189M 16372  16376M 16561  16563M 16592U 18147U 18156  18160M 18227  18228M 18271  18275M
1         (FILE7022) (10:07) (06JUN02) General Purpose Register Cross Reference                                             Page  100
             18345  18346M 18442  18446M 18515  18517M 18546U 19282U 19291  19295M 19400  19402M 19431U 19727U 19736
             19740M 19974  19976M 20005U 21534U 21543  21547M 21642  21643M 21712  21716M 21772  21774M 21803U 21896U
             21905  21909M 21948  21949M 22062  22066M 22185  22187M 22216U 22293U 22302  22306M
     9(9)     1005U 15188  15213M 15221U 16376M 16561  18160M 18227  18275M 18345  18446M 18515  19295M 19400  19740M
             19974  20009M 21547M 21642  21716M 21772  21909M 21948  21986M 22040  22066M 22185  22306M
    10(A)     1001U 15188  15193M 15204U 16368U 16376M 16561  16567M 16578U 18152U 18160M 18227  18232M 18243U 18267U
             18275M 18345  18350M 18361U 18438U 18446M 18515  18521M 18532U 19287U 19295M 19400  19406M 19417U 19732U
             19740M 19974  19980M 19991U 21539U 21547M 21642  21647M 21658U 21708U 21716M 21772  21778M 21789U 21901U
             21909M 21948  21953M 21964U 22058U 22066M 22185  22191M 22202U 22298U 22306M
    11(B)      997U  1804B  1805B 15164U 15178  15182  15188  16376M 16551  16555  16561  17368  17372  17431  17435
             18160M 18217  18221  18227  18275M 18335  18339  18345  18446M 18505  18509  18515  19295M 19390  19394
             19400  19647  19651  19740M 19964  19968  19974  21547M 21632  21636  21642  21716M 21762  21766  21772
             21909M 21938  21942  21948  22066M 22175  22179  22185  22306M
    12(C)      993U 15155U 15179  15188  16376M 16552  16561  17369  17432  18160M 18218  18227  18275M 18336  18345
             18446M 18506  18515  19295M 19391  19400  19648  19740M 19965  19974  21547M 21633  21642  21716M 21763
             21772  21909M 21939  21948  22066M 22176  22185  22306M
    13(D)      989U 15178  15182M 15185  15188  15189  15190M 15190  16372M 16376  16378  16551  16555M 16558  16561
             16563  16564M 16564  17368  17372M 17431  17435M 18156M 18160  18162  18217  18221M 18224  18227  18228
             18229M 18229  18271M 18275  18277  18335  18339M 18342  18345  18346  18347M 18347  18442M 18446  18448
             18505  18509M 18512  18515  18517  18518M 18518  19291M 19295  19297  19390  19394M 19397  19400  19402
             19403M 19403  19647  19651M 19736M 19740  19742  19964  19968M 19971  19974  19976  19977M 19977  20505
             20506M 20506  20521M 20524  20525M 20525  20540M 20543  20544M 20544  20559M 20562  20563M 20563  20578M
             20581  20582M 20582  20597M 20599  20600M 20600  20643  20644M 20644  20815M 20841M 20842  21492  21493M
             21493  21508M 21543M 21547  21549  21632  21636M 21639  21642  21643  21644M 21644  21712M 21716  21718
             21762  21766M 21769  21772  21774  21775M 21775  21905M 21909  21911  21938  21942M 21945  21948  21949
             21950M 21950  22062M 22066  22068  22175  22179M 22182  22185  22187  22188M 22188  22302M 22306  22308
    14(E)      985U 15178  15180M 15182M 15185  15290M 15291M 15291B 15295M 15315  15408M 15409M 15409B 15480M 15481M
             15481B 15537M 15538M 15538B 15554M 15555M 15555B 15571M 15572M 15572B 15646M 15647M 15647B 15663M 15664M
             15664B 15680M 15681M 15681B 15701M 15702M 15702B 15718M 15719M 15719B 16014M 16015M 16015B 16057M 16058M
             16058B 16084M 16085M 16085B 16106M 16107M 16107B 16158M 16159M 16159B 16202M 16203M 16203B 16229M 16230M
             16230B 16251M 16252M 16252B 16293M 16294M 16294B 16317M 16318M 16318B 16347M 16348M 16348B 16378M 16381B
             16551  16553M 16555M 16558  16678M 16679  16697M 16712M 16713M 16713B 16837M 16838M 16838B 17254M 17255M
             17255B 17285M 17286M 17286B 17368  17370M 17372M 17431  17433M 17435M 17561M 17562M 17562B 17568M 17569M
             17569B 17599M 17600M 17600B 17637M 17638M 17638B 17659M 17660M 17660B 17910M 17911M 17911B 17931M 17932M
             17932B 17952M 17953M 17953B 17974M 17975M 17975B 18008M 18009M 18009B 18073M 18074M 18074B 18108M 18109M
             18109B 18130M 18131M 18131B 18162M 18165B 18217  18219M 18221M 18224  18255M 18277M 18280B 18335  18337M
             18339M 18342  18387M 18388M 18388B 18418M 18419M 18419B 18448M 18451B 18505  18507M 18509M 18512  18635M
             18725M 18725  18726M 18727  18729M 18729  18737M 18738M 18738  19147M 19148M 19148B 19192M 19193M 19193B
             19209M 19210M 19210B 19243M 19244M 19244B 19297M 19300B 19390  19392M 19394M 19397  19647  19649M 19651M
             19742M 19745B 19964  19966M 19968M 19971  20136M 20137M 20137B 20159M 20160M 20160B 20187M 20188M 20188B
             20204M 20205M 20205B 20224M 20225M 20225B 20237M 20257  20284M 20285M 20285B 20307M 20308M 20308B 20324M
             20325M 20325B 20341M 20342M 20342B 20363M 20364M 20364B 20390M 20391M 20391B 20413M 20414M 20414B 20430M
             20431M 20431B 20458M 20459M 20459B 20475M 20476M 20476B 20497M 20498M 20498B 20518M 20519M 20519B 20537M
             20538M 20538B 20556M 20557M 20557B 20575M 20576M 20576B 20594M 20595M 20595B 20611M 20612M 20612B 20705M
             20706M 20706B 20732M 20733M 20733B 20745M 20746M 20746B 20762M 20763M 20763B 20789M 20790M 20790B 20806M
             20807M 20807B 20918M 20919M 20919B 20971M 21031M 21051  21149M 21150M 21150B 21166M 21167M 21167B 21190M
             21191M 21191B 21207M 21208M 21208B 21236M 21237M 21237B 21253M 21254M 21254B 21352M 21353M 21353B 21358M
             21359M 21359B 21364M 21365M 21365B 21388M 21389M 21389B 21410M 21411M 21411B 21438M 21449M 21450M 21450B
             21455M 21456M 21456B 21475M 21476M 21476B 21488M 21489M 21489B 21505M 21506M 21506B 21519M 21520M 21520B
             21549M 21552B 21632  21634M 21636M 21639  21718M 21721B 21762  21764M 21766M 21769  21840M 21841M 21841B
             21911M 21914B 21938  21940M 21942M 21945  21997M 21998M 21998B 22002M 22022  22068M 22071B 22175  22177M
             22179M 22182  22225M 22226M 22226B 22308M 22311B
    15(F)      981U  2266M  2266  15178  15179M 15180B 15182M 15223  15294M 15296M 15296  15297  15315N 15316  15488
             15489M 15489  15505  15519  15534M 15551M 15568M 15579M 15580  15612  15634  15643M 15660M 15677M 15698M
             15715M 15726M 15727  16054M 16081M 16103M 16199M 16226M 16248M 16361M 16380M 16380  16551  16552M 16553B
             16555M 16629M 16631M 16632  16670M 16670  16677M 16680M 16688U 16695M 16698M 16698  16705U 16715M 16715
             16751M 16751  16797  16847M 16847  17268M 17340M 17368  17369M 17370B 17372M 17373  17419M 17431  17432M
             17433B 17435M 17472  17504  17547  17634M 17656M 17893M 17949M 17971M 17991M 18105M 18127M 18139M 18139
             18164M 18164  18217  18218M 18219B 18221M 18254M 18254  18255M 18279M 18279  18335  18336M 18337B 18339M
1         (FILE7022) (10:07) (06JUN02) General Purpose Register Cross Reference                                             Page  101
             18450M 18450  18505  18506M 18507B 18509M 18592M 18592  18593M 18602M 18602  18624  18635M 18636  18719M
             18719  18720M 18727M 18730M 18737M 18740M 18740N 18741  18752M 18752  18753M 18754M 18755  18781D 18783M
             18783  18784M 18785U 18786  18813D 18815M 18815  18816M 18817U 18818M 18819M 18837M 18842  18845M 18846M
             18846N 18862M 18880M 18913D 18915M 18915  18916M 18917U 18918M 18919M 18919N 19129M 19129  19130M 19179M
             19196M 19230M 19299M 19299  19390  19391M 19392B 19394M 19449M 19459U 19472U 19554M 19571M 19571N 19635M
             19647  19648M 19649B 19651M 19688M 19697M 19712M 19712  19744M 19744  19964  19965M 19966B 19968M 20012
             20073M 20074M 20133M 20156M 20184M 20201M 20236M 20238M 20238  20239  20257N 20258  20281M 20304M 20321M
             20338M 20373M 20373  20387M 20410M 20427M 20455M 20472M 20515M 20534M 20553M 20572M 20591M 20608M 20622M
             20622  20687M 20687  20688M 20714M 20714  20715M 20742M 20759M 20786M 20803M 20901M 20970M 20970  20971M
             20972M 20982U 20995U 21030M 21032M 21032  21033  21051N 21052  21061M 21062  21063M 21064  21065M 21066
             21071  21072M 21117M 21126M 21126  21146M 21163M 21187M 21204M 21233M 21250M 21385M 21407M 21430M 21431
             21437M 21437  21438M 21502M 21516M 21522M 21525M 21551M 21551  21632  21633M 21634B 21636M 21692M 21693
             21694M 21695  21720M 21720  21762  21763M 21764B 21766M 21850M 21850  21913M 21913  21938  21939M 21940B
             21942M 22001M 22003M 22003  22004  22022N 22023  22070M 22070  22175  22176M 22177B 22179M 22250M 22310M
             22310

1FILESHOW (FILE7022) (10:07) (06JUN02) Diagnostic Cross Reference and Assembler Summary                                     Page  102
-                                                                                            HLASM R4.0  2002/06/06 10.07
0     No Statements Flagged in this Assembly
 HIGH LEVEL ASSEMBLER, 5696-234, RELEASE 4.0, PTF UQ57391
0SYSTEM: OS/390 02.10.00            JOBNAME: WIN#FILE    STEPNAME: ASM        PROCSTEP: ASM
0Datasets Allocated for this Assembly
  Con DDname   Dataset Name                                 Volume  Member
   P1 SYSIN    SYS02157.T100732.RA000.WIN#FILE.SYSIN.H01
   L1 SYSLIB   WYL.GA.MCL.WINGS.MACLIB                      STR211
   L2          WYL.GG.SYS.MACLIB                            STR210
   L3          SYS3.IS.MACLIB                               SYSA03
   L4          SYS3.MACLIB                                  SYSA03
   L5          SYS1.MACLIB                                  OS02AD
   L6          SYS1.MODGEN                                  OS02AD
   L7          SYS4.MACLIB                                  SYSA04
      SYSLIN   WYL.GA.MCL.WINGS.OBJECT                      STR203  FILESHOW
      SYSPRINT SYS02157.T100732.RA000.WIN#FILE.PRINT.H01    SCR003
      SYSTERM  GA$MCL.WIN#FILE.JOB01182.D0000102.?

    9460K allocated to Buffer Pool,         5715K would be required for this to be an In-Storage Assembly
    1789 Primary Input Records Read        28503 Library Records Read                  0 Work File Reads
       0 ASMAOPT Records Read               9788 Primary Print Records Written         0 Work File Writes
     215 Punch Records Written                 0 ADATA Records Written
0Assembly Start Time: 10.07.33 Stop Time: 10.07.36 Processor Time: 00.00.01.4940
 Return Code 000
